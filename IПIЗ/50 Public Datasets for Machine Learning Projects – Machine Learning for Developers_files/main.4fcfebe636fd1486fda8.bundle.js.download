(()=>{var J9=Object.defineProperty,Q9=Object.defineProperties;var X9=Object.getOwnPropertyDescriptors;var qu=Object.getOwnPropertySymbols;var t1=Object.prototype.hasOwnProperty,n1=Object.prototype.propertyIsEnumerable;var jd=Math.pow,e1=(ti,oi,dn)=>oi in ti?J9(ti,oi,{enumerable:!0,configurable:!0,writable:!0,value:dn}):ti[oi]=dn,yr=(ti,oi)=>{for(var dn in oi||(oi={}))t1.call(oi,dn)&&e1(ti,dn,oi[dn]);if(qu)for(var dn of qu(oi))n1.call(oi,dn)&&e1(ti,dn,oi[dn]);return ti},No=(ti,oi)=>Q9(ti,X9(oi));var ai=(ti,oi)=>{var dn={};for(var $i in ti)t1.call(ti,$i)&&oi.indexOf($i)<0&&(dn[$i]=ti[$i]);if(ti!=null&&qu)for(var $i of qu(ti))oi.indexOf($i)<0&&n1.call(ti,$i)&&(dn[$i]=ti[$i]);return dn};var q9=(ti,oi)=>()=>(oi||ti((oi={exports:{}}).exports,oi),oi.exports);var Qi=(ti,oi,dn)=>new Promise(($i,K)=>{var f=a=>{try{t(dn.next(a))}catch(i){K(i)}},e=a=>{try{t(dn.throw(a))}catch(i){K(i)}},t=a=>a.done?$i(a.value):Promise.resolve(a.value).then(f,e);t((dn=dn.apply(ti,oi)).next())});var t8=q9(Hd=>{(function(){try{var ti=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},oi=new Error().stack;oi&&(ti._sentryDebugIds=ti._sentryDebugIds||{},ti._sentryDebugIds[oi]="835e3f8e-d354-48a8-8d68-fa9096e85187",ti._sentryDebugIdIdentifier="sentry-dbid-835e3f8e-d354-48a8-8d68-fa9096e85187")}catch(dn){}})();var e8=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};e8.SENTRY_RELEASE={id:"substack@22b5097"};(()=>{var ti={79752:(K,f,e)=>{"use strict";e.d(f,{g4:()=>Ze});var t=e(98661),a=e(24285);const i={display:"none"};function c(at){let{id:Pt,value:jt}=at;return React.createElement("div",{id:Pt,style:i},jt)}const p={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function l(at){let{id:Pt,announcement:jt}=at;return React.createElement("div",{id:Pt,style:p,role:"status","aria-live":"assertive","aria-atomic":!0},jt)}function v(){const[at,Pt]=useState("");return{announce:useCallback(vn=>{vn!=null&&Pt(vn)},[]),announcement:at}}const _=null;function g(at){const Pt=useContext(_);useEffect(()=>{if(!Pt)throw new Error("useDndMonitor must be used within a children of <DndContext>");return Pt(at)},[at,Pt])}function E(){const[at]=useState(()=>new Set),Pt=useCallback(vn=>(at.add(vn),()=>at.delete(vn)),[at]);return[useCallback(vn=>{let{type:Pn,event:Rn}=vn;at.forEach($n=>{var ar;return(ar=$n[Pn])==null?void 0:ar.call($n,Rn)})},[at]),Pt]}const S={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O={onDragStart(at){let{active:Pt}=at;return"Picked up draggable item "+Pt.id+"."},onDragOver(at){let{active:Pt,over:jt}=at;return jt?"Draggable item "+Pt.id+" was moved over droppable area "+jt.id+".":"Draggable item "+Pt.id+" is no longer over a droppable area."},onDragEnd(at){let{active:Pt,over:jt}=at;return jt?"Draggable item "+Pt.id+" was dropped over droppable area "+jt.id:"Draggable item "+Pt.id+" was dropped."},onDragCancel(at){let{active:Pt}=at;return"Dragging was cancelled. Draggable item "+Pt.id+" was dropped."}};function A(at){let{announcements:Pt=O,container:jt,hiddenTextDescribedById:vn,screenReaderInstructions:Pn=S}=at;const{announce:Rn,announcement:$n}=useAnnouncement(),ar=useUniqueId("DndLiveRegion"),[lr,sr]=useState(!1);if(useEffect(()=>{sr(!0)},[]),g(useMemo(()=>({onDragStart(gr){let{active:Sr}=gr;Rn(Pt.onDragStart({active:Sr}))},onDragMove(gr){let{active:Sr,over:Gr}=gr;Pt.onDragMove&&Rn(Pt.onDragMove({active:Sr,over:Gr}))},onDragOver(gr){let{active:Sr,over:Gr}=gr;Rn(Pt.onDragOver({active:Sr,over:Gr}))},onDragEnd(gr){let{active:Sr,over:Gr}=gr;Rn(Pt.onDragEnd({active:Sr,over:Gr}))},onDragCancel(gr){let{active:Sr,over:Gr}=gr;Rn(Pt.onDragCancel({active:Sr,over:Gr}))}}),[Rn,Pt])),!lr)return null;const fr=React.createElement(React.Fragment,null,React.createElement(HiddenText,{id:vn,value:Pn.draggable}),React.createElement(LiveRegion,{id:ar,announcement:$n}));return jt?createPortal(fr,jt):fr}var u;(function(at){at.DragStart="dragStart",at.DragMove="dragMove",at.DragEnd="dragEnd",at.DragCancel="dragCancel",at.DragOver="dragOver",at.RegisterDroppable="registerDroppable",at.SetDroppableDisabled="setDroppableDisabled",at.UnregisterDroppable="unregisterDroppable"})(u||(u={}));function o(){}function s(at,Pt){return useMemo(()=>({sensor:at,options:Pt!=null?Pt:{}}),[at,Pt])}function w(){for(var at=arguments.length,Pt=new Array(at),jt=0;jt<at;jt++)Pt[jt]=arguments[jt];return useMemo(()=>[...Pt].filter(vn=>vn!=null),[...Pt])}const P=Object.freeze({x:0,y:0});function C(at,Pt){return Math.sqrt(Math.pow(at.x-Pt.x,2)+Math.pow(at.y-Pt.y,2))}function x(at,Pt){const jt=getEventCoordinates(at);if(!jt)return"0 0";const vn={x:(jt.x-Pt.left)/Pt.width*100,y:(jt.y-Pt.top)/Pt.height*100};return vn.x+"% "+vn.y+"%"}function D(at,Pt){let{data:{value:jt}}=at,{data:{value:vn}}=Pt;return jt-vn}function y(at,Pt){let{data:{value:jt}}=at,{data:{value:vn}}=Pt;return vn-jt}function M(at){let{left:Pt,top:jt,height:vn,width:Pn}=at;return[{x:Pt,y:jt},{x:Pt+Pn,y:jt},{x:Pt,y:jt+vn},{x:Pt+Pn,y:jt+vn}]}function T(at,Pt){if(!at||at.length===0)return null;const[jt]=at;return Pt?jt[Pt]:jt}function R(at,Pt,jt){return Pt===void 0&&(Pt=at.left),jt===void 0&&(jt=at.top),{x:Pt+at.width*.5,y:jt+at.height*.5}}const F=at=>{let{collisionRect:Pt,droppableRects:jt,droppableContainers:vn}=at;const Pn=R(Pt,Pt.left,Pt.top),Rn=[];for(const $n of vn){const{id:ar}=$n,lr=jt.get(ar);if(lr){const sr=C(R(lr),Pn);Rn.push({id:ar,data:{droppableContainer:$n,value:sr}})}}return Rn.sort(D)},N=at=>{let{collisionRect:Pt,droppableRects:jt,droppableContainers:vn}=at;const Pn=M(Pt),Rn=[];for(const $n of vn){const{id:ar}=$n,lr=jt.get(ar);if(lr){const sr=M(lr),fr=Pn.reduce((Sr,Gr,Oo)=>Sr+C(sr[Oo],Gr),0),gr=Number((fr/4).toFixed(4));Rn.push({id:ar,data:{droppableContainer:$n,value:gr}})}}return Rn.sort(D)};function U(at,Pt){const jt=Math.max(Pt.top,at.top),vn=Math.max(Pt.left,at.left),Pn=Math.min(Pt.left+Pt.width,at.left+at.width),Rn=Math.min(Pt.top+Pt.height,at.top+at.height),$n=Pn-vn,ar=Rn-jt;if(vn<Pn&&jt<Rn){const lr=Pt.width*Pt.height,sr=at.width*at.height,fr=$n*ar,gr=fr/(lr+sr-fr);return Number(gr.toFixed(4))}return 0}const V=at=>{let{collisionRect:Pt,droppableRects:jt,droppableContainers:vn}=at;const Pn=[];for(const Rn of vn){const{id:$n}=Rn,ar=jt.get($n);if(ar){const lr=U(ar,Pt);lr>0&&Pn.push({id:$n,data:{droppableContainer:Rn,value:lr}})}}return Pn.sort(y)};function W(at,Pt){const{top:jt,left:vn,bottom:Pn,right:Rn}=Pt;return jt<=at.y&&at.y<=Pn&&vn<=at.x&&at.x<=Rn}const L=at=>{let{droppableContainers:Pt,droppableRects:jt,pointerCoordinates:vn}=at;if(!vn)return[];const Pn=[];for(const Rn of Pt){const{id:$n}=Rn,ar=jt.get($n);if(ar&&W(vn,ar)){const sr=M(ar).reduce((gr,Sr)=>gr+C(vn,Sr),0),fr=Number((sr/4).toFixed(4));Pn.push({id:$n,data:{droppableContainer:Rn,value:fr}})}}return Pn.sort(D)};function k(at,Pt,jt){return No(yr({},at),{scaleX:Pt&&jt?Pt.width/jt.width:1,scaleY:Pt&&jt?Pt.height/jt.height:1})}function H(at,Pt){return at&&Pt?{x:at.left-Pt.left,y:at.top-Pt.top}:P}function G(at){return function(jt){for(var vn=arguments.length,Pn=new Array(vn>1?vn-1:0),Rn=1;Rn<vn;Rn++)Pn[Rn-1]=arguments[Rn];return Pn.reduce(($n,ar)=>No(yr({},$n),{top:$n.top+at*ar.y,bottom:$n.bottom+at*ar.y,left:$n.left+at*ar.x,right:$n.right+at*ar.x}),yr({},jt))}}const q=null;function z(at){if(at.startsWith("matrix3d(")){const Pt=at.slice(9,-1).split(/, /);return{x:+Pt[12],y:+Pt[13],scaleX:+Pt[0],scaleY:+Pt[5]}}else if(at.startsWith("matrix(")){const Pt=at.slice(7,-1).split(/, /);return{x:+Pt[4],y:+Pt[5],scaleX:+Pt[0],scaleY:+Pt[3]}}return null}function ee(at,Pt,jt){const vn=z(Pt);if(!vn)return at;const{scaleX:Pn,scaleY:Rn,x:$n,y:ar}=vn,lr=at.left-$n-(1-Pn)*parseFloat(jt),sr=at.top-ar-(1-Rn)*parseFloat(jt.slice(jt.indexOf(" ")+1)),fr=Pn?at.width/Pn:at.width,gr=Rn?at.height/Rn:at.height;return{width:fr,height:gr,top:sr,right:lr+fr,bottom:sr+gr,left:lr}}const $={ignoreTransform:!1};function J(at,Pt){Pt===void 0&&(Pt=$);let jt=at.getBoundingClientRect();if(Pt.ignoreTransform){const{getComputedStyle:sr}=(0,a.Jj)(at),{transform:fr,transformOrigin:gr}=sr(at);fr&&(jt=ee(jt,fr,gr))}const{top:vn,left:Pn,width:Rn,height:$n,bottom:ar,right:lr}=jt;return{top:vn,left:Pn,width:Rn,height:$n,bottom:ar,right:lr}}function j(at){return J(at,{ignoreTransform:!0})}function Z(at){const Pt=at.innerWidth,jt=at.innerHeight;return{top:0,left:0,right:Pt,bottom:jt,width:Pt,height:jt}}function ne(at,Pt){return Pt===void 0&&(Pt=(0,a.Jj)(at).getComputedStyle(at)),Pt.position==="fixed"}function ie(at,Pt){Pt===void 0&&(Pt=(0,a.Jj)(at).getComputedStyle(at));const jt=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(Pn=>{const Rn=Pt[Pn];return typeof Rn=="string"?jt.test(Rn):!1})}function oe(at,Pt){const jt=[];function vn(Pn){if(Pt!=null&&jt.length>=Pt||!Pn)return jt;if((0,a.qk)(Pn)&&Pn.scrollingElement!=null&&!jt.includes(Pn.scrollingElement))return jt.push(Pn.scrollingElement),jt;if(!(0,a.Re)(Pn)||(0,a.vZ)(Pn)||jt.includes(Pn))return jt;const{getComputedStyle:Rn}=(0,a.Jj)(Pn),$n=Rn(Pn);return Pn!==at&&ie(Pn,$n)&&jt.push(Pn),ne(Pn,$n)?jt:vn(Pn.parentNode)}return at?vn(at):jt}function re(at){const[Pt]=oe(at,1);return Pt!=null?Pt:null}function ae(at){return!canUseDOM||!at?null:isWindow(at)?at:isNode(at)?isDocument(at)||at===getOwnerDocument(at).scrollingElement?window:isHTMLElement(at)?at:null:null}function se(at){return(0,a.FJ)(at)?at.scrollX:at.scrollLeft}function fe(at){return(0,a.FJ)(at)?at.scrollY:at.scrollTop}function le(at){return{x:se(at),y:fe(at)}}var Ae;(function(at){at[at.Forward=1]="Forward",at[at.Backward=-1]="Backward"})(Ae||(Ae={}));function De(at){return!a.Nq||!at?!1:at===document.scrollingElement}function je(at){const Pt={x:0,y:0},jt=De(at)?{height:window.innerHeight,width:window.innerWidth}:{height:at.clientHeight,width:at.clientWidth},vn={x:at.scrollWidth-jt.width,y:at.scrollHeight-jt.height},Pn=at.scrollTop<=Pt.y,Rn=at.scrollLeft<=Pt.x,$n=at.scrollTop>=vn.y,ar=at.scrollLeft>=vn.x;return{isTop:Pn,isLeft:Rn,isBottom:$n,isRight:ar,maxScroll:vn,minScroll:Pt}}const Je={x:.2,y:.2};function Be(at,Pt,jt,vn,Pn){let{top:Rn,left:$n,right:ar,bottom:lr}=jt;vn===void 0&&(vn=10),Pn===void 0&&(Pn=Je);const{isTop:sr,isBottom:fr,isLeft:gr,isRight:Sr}=je(at),Gr={x:0,y:0},Oo={x:0,y:0},zr={height:Pt.height*Pn.y,width:Pt.width*Pn.x};return!sr&&Rn<=Pt.top+zr.height?(Gr.y=Ae.Backward,Oo.y=vn*Math.abs((Pt.top+zr.height-Rn)/zr.height)):!fr&&lr>=Pt.bottom-zr.height&&(Gr.y=Ae.Forward,Oo.y=vn*Math.abs((Pt.bottom-zr.height-lr)/zr.height)),!Sr&&ar>=Pt.right-zr.width?(Gr.x=Ae.Forward,Oo.x=vn*Math.abs((Pt.right-zr.width-ar)/zr.width)):!gr&&$n<=Pt.left+zr.width&&(Gr.x=Ae.Backward,Oo.x=vn*Math.abs((Pt.left+zr.width-$n)/zr.width)),{direction:Gr,speed:Oo}}function st(at){if(at===document.scrollingElement){const{innerWidth:Rn,innerHeight:$n}=window;return{top:0,left:0,right:Rn,bottom:$n,width:Rn,height:$n}}const{top:Pt,left:jt,right:vn,bottom:Pn}=at.getBoundingClientRect();return{top:Pt,left:jt,right:vn,bottom:Pn,width:at.clientWidth,height:at.clientHeight}}function ht(at){return at.reduce((Pt,jt)=>add(Pt,le(jt)),P)}function gt(at){return at.reduce((Pt,jt)=>Pt+se(jt),0)}function Xe(at){return at.reduce((Pt,jt)=>Pt+fe(jt),0)}function Re(at,Pt){if(Pt===void 0&&(Pt=J),!at)return;const{top:jt,left:vn,bottom:Pn,right:Rn}=Pt(at);re(at)&&(Pn<=0||Rn<=0||jt>=window.innerHeight||vn>=window.innerWidth)&&at.scrollIntoView({block:"center",inline:"center"})}const Ne=[["x",["left","right"],gt],["y",["top","bottom"],Xe]];class ke{constructor(Pt,jt){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const vn=oe(jt),Pn=ht(vn);this.rect=yr({},Pt),this.width=Pt.width,this.height=Pt.height;for(const[Rn,$n,ar]of Ne)for(const lr of $n)Object.defineProperty(this,lr,{get:()=>{const sr=ar(vn),fr=Pn[Rn]-sr;return this.rect[lr]+fr},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ot{constructor(Pt){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(jt=>{var vn;return(vn=this.target)==null?void 0:vn.removeEventListener(...jt)})},this.target=Pt}add(Pt,jt,vn){var Pn;(Pn=this.target)==null||Pn.addEventListener(Pt,jt,vn),this.listeners.push([Pt,jt,vn])}}function Dt(at){const{EventTarget:Pt}=(0,a.Jj)(at);return at instanceof Pt?at:(0,a.r3)(at)}function ln(at,Pt){const jt=Math.abs(at.x),vn=Math.abs(at.y);return typeof Pt=="number"?Math.sqrt(jd(jt,2)+jd(vn,2))>Pt:"x"in Pt&&"y"in Pt?jt>Pt.x&&vn>Pt.y:"x"in Pt?jt>Pt.x:"y"in Pt?vn>Pt.y:!1}var ct;(function(at){at.Click="click",at.DragStart="dragstart",at.Keydown="keydown",at.ContextMenu="contextmenu",at.Resize="resize",at.SelectionChange="selectionchange",at.VisibilityChange="visibilitychange"})(ct||(ct={}));function Oe(at){at.preventDefault()}function Se(at){at.stopPropagation()}var Ze;(function(at){at.Space="Space",at.Down="ArrowDown",at.Right="ArrowRight",at.Left="ArrowLeft",at.Up="ArrowUp",at.Esc="Escape",at.Enter="Enter"})(Ze||(Ze={}));const Fe={start:[Ze.Space,Ze.Enter],cancel:[Ze.Esc],end:[Ze.Space,Ze.Enter]},Ke=(at,Pt)=>{let{currentCoordinates:jt}=Pt;switch(at.code){case Ze.Right:return No(yr({},jt),{x:jt.x+25});case Ze.Left:return No(yr({},jt),{x:jt.x-25});case Ze.Down:return No(yr({},jt),{y:jt.y+25});case Ze.Up:return No(yr({},jt),{y:jt.y-25})}};class et{constructor(Pt){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=Pt;const{event:{target:jt}}=Pt;this.props=Pt,this.listeners=new ot((0,a.r3)(jt)),this.windowListeners=new ot((0,a.Jj)(jt)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ct.Resize,this.handleCancel),this.windowListeners.add(ct.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ct.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:Pt,onStart:jt}=this.props,vn=Pt.node.current;vn&&Re(vn),jt(P)}handleKeyDown(Pt){if((0,a.vd)(Pt)){const{active:jt,context:vn,options:Pn}=this.props,{keyboardCodes:Rn=Fe,coordinateGetter:$n=Ke,scrollBehavior:ar="smooth"}=Pn,{code:lr}=Pt;if(Rn.end.includes(lr)){this.handleEnd(Pt);return}if(Rn.cancel.includes(lr)){this.handleCancel(Pt);return}const{collisionRect:sr}=vn.current,fr=sr?{x:sr.left,y:sr.top}:P;this.referenceCoordinates||(this.referenceCoordinates=fr);const gr=$n(Pt,{active:jt,context:vn.current,currentCoordinates:fr});if(gr){const Sr=(0,a.$X)(gr,fr),Gr={x:0,y:0},{scrollableAncestors:Oo}=vn.current;for(const zr of Oo){const yt=Pt.code,{isTop:ft,isRight:vt,isLeft:kt,isBottom:Qt,maxScroll:Cn,minScroll:En}=je(zr),Kn=st(zr),or={x:Math.min(yt===Ze.Right?Kn.right-Kn.width/2:Kn.right,Math.max(yt===Ze.Right?Kn.left:Kn.left+Kn.width/2,gr.x)),y:Math.min(yt===Ze.Down?Kn.bottom-Kn.height/2:Kn.bottom,Math.max(yt===Ze.Down?Kn.top:Kn.top+Kn.height/2,gr.y))},Yn=yt===Ze.Right&&!vt||yt===Ze.Left&&!kt,Er=yt===Ze.Down&&!Qt||yt===Ze.Up&&!ft;if(Yn&&or.x!==gr.x){const eo=zr.scrollLeft+Sr.x,Zr=yt===Ze.Right&&eo<=Cn.x||yt===Ze.Left&&eo>=En.x;if(Zr&&!Sr.y){zr.scrollTo({left:eo,behavior:ar});return}Zr?Gr.x=zr.scrollLeft-eo:Gr.x=yt===Ze.Right?zr.scrollLeft-Cn.x:zr.scrollLeft-En.x,Gr.x&&zr.scrollBy({left:-Gr.x,behavior:ar});break}else if(Er&&or.y!==gr.y){const eo=zr.scrollTop+Sr.y,Zr=yt===Ze.Down&&eo<=Cn.y||yt===Ze.Up&&eo>=En.y;if(Zr&&!Sr.x){zr.scrollTo({top:eo,behavior:ar});return}Zr?Gr.y=zr.scrollTop-eo:Gr.y=yt===Ze.Down?zr.scrollTop-Cn.y:zr.scrollTop-En.y,Gr.y&&zr.scrollBy({top:-Gr.y,behavior:ar});break}}this.handleMove(Pt,(0,a.IH)((0,a.$X)(gr,this.referenceCoordinates),Gr))}}}handleMove(Pt,jt){const{onMove:vn}=this.props;Pt.preventDefault(),vn(jt)}handleEnd(Pt){const{onEnd:jt}=this.props;Pt.preventDefault(),this.detach(),jt()}handleCancel(Pt){const{onCancel:jt}=this.props;Pt.preventDefault(),this.detach(),jt()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}et.activators=[{eventName:"onKeyDown",handler:(at,Pt,jt)=>{let{keyboardCodes:vn=Fe,onActivation:Pn}=Pt,{active:Rn}=jt;const{code:$n}=at.nativeEvent;if(vn.start.includes($n)){const ar=Rn.activatorNode.current;return ar&&at.target!==ar?!1:(at.preventDefault(),Pn==null||Pn({event:at.nativeEvent}),!0)}return!1}}];function Qe(at){return!!(at&&"distance"in at)}function $e(at){return!!(at&&"delay"in at)}class Te{constructor(Pt,jt,vn){var Pn;vn===void 0&&(vn=Dt(Pt.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=Pt,this.events=jt;const{event:Rn}=Pt,{target:$n}=Rn;this.props=Pt,this.events=jt,this.document=(0,a.r3)($n),this.documentListeners=new ot(this.document),this.listeners=new ot(vn),this.windowListeners=new ot((0,a.Jj)($n)),this.initialCoordinates=(Pn=(0,a.DC)(Rn))!=null?Pn:P,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:Pt,props:{options:{activationConstraint:jt}}}=this;if(this.listeners.add(Pt.move.name,this.handleMove,{passive:!1}),this.listeners.add(Pt.end.name,this.handleEnd),this.windowListeners.add(ct.Resize,this.handleCancel),this.windowListeners.add(ct.DragStart,Oe),this.windowListeners.add(ct.VisibilityChange,this.handleCancel),this.windowListeners.add(ct.ContextMenu,Oe),this.documentListeners.add(ct.Keydown,this.handleKeydown),jt){if(Qe(jt))return;if($e(jt)){this.timeoutId=setTimeout(this.handleStart,jt.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:Pt}=this,{onStart:jt}=this.props;Pt&&(this.activated=!0,this.documentListeners.add(ct.Click,Se,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ct.SelectionChange,this.removeTextSelection),jt(Pt))}handleMove(Pt){var jt;const{activated:vn,initialCoordinates:Pn,props:Rn}=this,{onMove:$n,options:{activationConstraint:ar}}=Rn;if(!Pn)return;const lr=(jt=(0,a.DC)(Pt))!=null?jt:P,sr=(0,a.$X)(Pn,lr);if(!vn&&ar){if($e(ar))return ln(sr,ar.tolerance)?this.handleCancel():void 0;if(Qe(ar))return ar.tolerance!=null&&ln(sr,ar.tolerance)?this.handleCancel():ln(sr,ar.distance)?this.handleStart():void 0}Pt.cancelable&&Pt.preventDefault(),$n(lr)}handleEnd(){const{onEnd:Pt}=this.props;this.detach(),Pt()}handleCancel(){const{onCancel:Pt}=this.props;this.detach(),Pt()}handleKeydown(Pt){Pt.code===Ze.Esc&&this.handleCancel()}removeTextSelection(){var Pt;(Pt=this.document.getSelection())==null||Pt.removeAllRanges()}}const te={move:{name:"pointermove"},end:{name:"pointerup"}};class ue extends Te{constructor(Pt){const{event:jt}=Pt,vn=(0,a.r3)(jt.target);super(Pt,te,vn)}}ue.activators=[{eventName:"onPointerDown",handler:(at,Pt)=>{let{nativeEvent:jt}=at,{onActivation:vn}=Pt;return!jt.isPrimary||jt.button!==0?!1:(vn==null||vn({event:jt}),!0)}}];const we={move:{name:"mousemove"},end:{name:"mouseup"}};var me;(function(at){at[at.RightClick=2]="RightClick"})(me||(me={}));class Ee extends Te{constructor(Pt){super(Pt,we,(0,a.r3)(Pt.event.target))}}Ee.activators=[{eventName:"onMouseDown",handler:(at,Pt)=>{let{nativeEvent:jt}=at,{onActivation:vn}=Pt;return jt.button===me.RightClick?!1:(vn==null||vn({event:jt}),!0)}}];const he={move:{name:"touchmove"},end:{name:"touchend"}};class xe extends Te{constructor(Pt){super(Pt,he)}static setup(){return window.addEventListener(he.move.name,Pt,{capture:!1,passive:!1}),function(){window.removeEventListener(he.move.name,Pt)};function Pt(){}}}xe.activators=[{eventName:"onTouchStart",handler:(at,Pt)=>{let{nativeEvent:jt}=at,{onActivation:vn}=Pt;const{touches:Pn}=jt;return Pn.length>1?!1:(vn==null||vn({event:jt}),!0)}}];var Ve;(function(at){at[at.Pointer=0]="Pointer",at[at.DraggableRect=1]="DraggableRect"})(Ve||(Ve={}));var Pe;(function(at){at[at.TreeOrder=0]="TreeOrder",at[at.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pe||(Pe={}));function Ie(at){let{acceleration:Pt,activator:jt=Ve.Pointer,canScroll:vn,draggingRect:Pn,enabled:Rn,interval:$n=5,order:ar=Pe.TreeOrder,pointerCoordinates:lr,scrollableAncestors:sr,scrollableAncestorRects:fr,delta:gr,threshold:Sr}=at;const Gr=tt({delta:gr,disabled:!Rn}),[Oo,zr]=useInterval(),yt=useRef({x:0,y:0}),ft=useRef({x:0,y:0}),vt=useMemo(()=>{switch(jt){case Ve.Pointer:return lr?{top:lr.y,bottom:lr.y,left:lr.x,right:lr.x}:null;case Ve.DraggableRect:return Pn}},[jt,Pn,lr]),kt=useRef(null),Qt=useCallback(()=>{const En=kt.current;if(!En)return;const Kn=yt.current.x*ft.current.x,or=yt.current.y*ft.current.y;En.scrollBy(Kn,or)},[]),Cn=useMemo(()=>ar===Pe.TreeOrder?[...sr].reverse():sr,[ar,sr]);useEffect(()=>{if(!Rn||!sr.length||!vt){zr();return}for(const En of Cn){if((vn==null?void 0:vn(En))===!1)continue;const Kn=sr.indexOf(En),or=fr[Kn];if(!or)continue;const{direction:Yn,speed:Er}=Be(En,or,vt,Pt,Sr);for(const eo of["x","y"])Gr[eo][Yn[eo]]||(Er[eo]=0,Yn[eo]=0);if(Er.x>0||Er.y>0){zr(),kt.current=En,Oo(Qt,$n),yt.current=Er,ft.current=Yn;return}}yt.current={x:0,y:0},ft.current={x:0,y:0},zr()},[Pt,Qt,vn,zr,Rn,$n,JSON.stringify(vt),JSON.stringify(Gr),Oo,sr,Cn,fr,JSON.stringify(Sr)])}const ze={x:{[Ae.Backward]:!1,[Ae.Forward]:!1},y:{[Ae.Backward]:!1,[Ae.Forward]:!1}};function tt(at){let{delta:Pt,disabled:jt}=at;const vn=usePrevious(Pt);return useLazyMemo(Pn=>{if(jt||!vn||!Pn)return ze;const Rn={x:Math.sign(Pt.x-vn.x),y:Math.sign(Pt.y-vn.y)};return{x:{[Ae.Backward]:Pn.x[Ae.Backward]||Rn.x===-1,[Ae.Forward]:Pn.x[Ae.Forward]||Rn.x===1},y:{[Ae.Backward]:Pn.y[Ae.Backward]||Rn.y===-1,[Ae.Forward]:Pn.y[Ae.Forward]||Rn.y===1}}},[jt,Pt,vn])}function Le(at,Pt){const jt=Pt!==null?at.get(Pt):void 0,vn=jt?jt.node.current:null;return useLazyMemo(Pn=>{var Rn;return Pt===null?null:(Rn=vn!=null?vn:Pn)!=null?Rn:null},[vn,Pt])}function It(at,Pt){return useMemo(()=>at.reduce((jt,vn)=>{const{sensor:Pn}=vn,Rn=Pn.activators.map($n=>({eventName:$n.eventName,handler:Pt($n.handler,vn)}));return[...jt,...Rn]},[]),[at,Pt])}var on;(function(at){at[at.Always=0]="Always",at[at.BeforeDragging=1]="BeforeDragging",at[at.WhileDragging=2]="WhileDragging"})(on||(on={}));var zt;(function(at){at.Optimized="optimized"})(zt||(zt={}));const $t=new Map;function Bt(at,Pt){let{dragging:jt,dependencies:vn,config:Pn}=Pt;const[Rn,$n]=useState(null),ar=Rn!=null,{frequency:lr,measure:sr,strategy:fr}=Pn,gr=useRef(at),Sr=ft(),Gr=useLatestValue(Sr),Oo=useCallback(function(vt){vt===void 0&&(vt=[]),!Gr.current&&$n(kt=>kt?kt.concat(vt):vt)},[Gr]),zr=useRef(null),yt=useLazyMemo(vt=>{if(Sr&&!jt)return $t;const kt=Rn;if(!vt||vt===$t||gr.current!==at||kt!=null){const Qt=new Map;for(let Cn of at){if(!Cn)continue;if(kt&&kt.length>0&&!kt.includes(Cn.id)&&Cn.rect.current){Qt.set(Cn.id,Cn.rect.current);continue}const En=Cn.node.current,Kn=En?new ke(sr(En),En):null;Cn.rect.current=Kn,Kn&&Qt.set(Cn.id,Kn)}return Qt}return vt},[at,Rn,jt,Sr,sr]);return useEffect(()=>{gr.current=at},[at]),useEffect(()=>{Sr||requestAnimationFrame(()=>Oo())},[jt,Sr]),useEffect(()=>{ar&&$n(null)},[ar]),useEffect(()=>{Sr||typeof lr!="number"||zr.current!==null||(zr.current=setTimeout(()=>{Oo(),zr.current=null},lr))},[lr,Sr,Oo,...vn]),{droppableRects:yt,measureDroppableContainers:Oo,measuringScheduled:ar};function ft(){switch(fr){case on.Always:return!1;case on.BeforeDragging:return jt;default:return!jt}}}function xn(at,Pt){return useLazyMemo(jt=>at?jt||(typeof Pt=="function"?Pt(at):at):null,[Pt,at])}function Hn(at,Pt){return xn(at,Pt)}function ir(at){let{callback:Pt,disabled:jt}=at;const vn=useEvent(Pt),Pn=useMemo(()=>{if(jt||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:Rn}=window;return new Rn(vn)},[vn,jt]);return useEffect(()=>()=>Pn==null?void 0:Pn.disconnect(),[Pn]),Pn}function Vn(at){let{callback:Pt,disabled:jt}=at;const vn=useEvent(Pt),Pn=useMemo(()=>{if(jt||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:Rn}=window;return new Rn(vn)},[jt]);return useEffect(()=>()=>Pn==null?void 0:Pn.disconnect(),[Pn]),Pn}function _t(at){return new ke(J(at),at)}function ut(at,Pt,jt){Pt===void 0&&(Pt=_t);const[vn,Pn]=useReducer(ar,null),Rn=ir({callback(lr){if(at)for(const sr of lr){const{type:fr,target:gr}=sr;if(fr==="childList"&&gr instanceof HTMLElement&&gr.contains(at)){Pn();break}}}}),$n=Vn({callback:Pn});return useIsomorphicLayoutEffect(()=>{Pn(),at?($n==null||$n.observe(at),Rn==null||Rn.observe(document.body,{childList:!0,subtree:!0})):($n==null||$n.disconnect(),Rn==null||Rn.disconnect())},[at]),vn;function ar(lr){if(!at)return null;if(at.isConnected===!1){var sr;return(sr=lr!=null?lr:jt)!=null?sr:null}const fr=Pt(at);return JSON.stringify(lr)===JSON.stringify(fr)?lr:fr}}function Ce(at){const Pt=xn(at);return H(at,Pt)}const be=null;function We(at){const Pt=useRef(at),jt=useLazyMemo(vn=>at?vn&&vn!==be&&at&&Pt.current&&at.parentNode===Pt.current.parentNode?vn:oe(at):be,[at]);return useEffect(()=>{Pt.current=at},[at]),jt}function qe(at){const[Pt,jt]=useState(null),vn=useRef(at),Pn=useCallback(Rn=>{const $n=ae(Rn.target);$n&&jt(ar=>ar?(ar.set($n,le($n)),new Map(ar)):null)},[]);return useEffect(()=>{const Rn=vn.current;if(at!==Rn){$n(Rn);const ar=at.map(lr=>{const sr=ae(lr);return sr?(sr.addEventListener("scroll",Pn,{passive:!0}),[sr,le(sr)]):null}).filter(lr=>lr!=null);jt(ar.length?new Map(ar):null),vn.current=at}return()=>{$n(at),$n(Rn)};function $n(ar){ar.forEach(lr=>{const sr=ae(lr);sr==null||sr.removeEventListener("scroll",Pn)})}},[Pn,at]),useMemo(()=>at.length?Pt?Array.from(Pt.values()).reduce((Rn,$n)=>add(Rn,$n),P):ht(at):P,[at,Pt])}function Et(at,Pt){Pt===void 0&&(Pt=[]);const jt=useRef(null);return useEffect(()=>{jt.current=null},Pt),useEffect(()=>{const vn=at!==P;vn&&!jt.current&&(jt.current=at),!vn&&jt.current&&(jt.current=null)},[at]),jt.current?subtract(at,jt.current):P}function en(at){useEffect(()=>{if(!canUseDOM)return;const Pt=at.map(jt=>{let{sensor:vn}=jt;return vn.setup==null?void 0:vn.setup()});return()=>{for(const jt of Pt)jt==null||jt()}},at.map(Pt=>{let{sensor:jt}=Pt;return jt}))}function In(at,Pt){return useMemo(()=>at.reduce((jt,vn)=>{let{eventName:Pn,handler:Rn}=vn;return jt[Pn]=$n=>{Rn($n,Pt)},jt},{}),[at,Pt])}function qn(at){return useMemo(()=>at?Z(at):null,[at])}const cr=null;function pr(at,Pt){Pt===void 0&&(Pt=J);const[jt]=at,vn=qn(jt?getWindow(jt):null),[Pn,Rn]=useReducer(ar,cr),$n=Vn({callback:Rn});return at.length>0&&Pn===cr&&Rn(),useIsomorphicLayoutEffect(()=>{at.length?at.forEach(lr=>$n==null?void 0:$n.observe(lr)):($n==null||$n.disconnect(),Rn())},[at]),Pn;function ar(){return at.length?at.map(lr=>De(lr)?vn:new ke(Pt(lr),lr)):cr}}function wr(at){if(!at)return null;if(at.children.length>1)return at;const Pt=at.children[0];return isHTMLElement(Pt)?Pt:at}function Vr(at){let{measure:Pt}=at;const[jt,vn]=useState(null),Pn=useCallback(sr=>{for(const{target:fr}of sr)if(isHTMLElement(fr)){vn(gr=>{const Sr=Pt(fr);return gr?No(yr({},gr),{width:Sr.width,height:Sr.height}):Sr});break}},[Pt]),Rn=Vn({callback:Pn}),$n=useCallback(sr=>{const fr=wr(sr);Rn==null||Rn.disconnect(),fr&&(Rn==null||Rn.observe(fr)),vn(fr?Pt(fr):null)},[Pt,Rn]),[ar,lr]=useNodeRef($n);return useMemo(()=>({nodeRef:ar,rect:jt,setRef:lr}),[jt,ar,lr])}const On=[{sensor:ue,options:{}},{sensor:et,options:{}}],pt={current:{}},hn={draggable:{measure:j},droppable:{measure:j,strategy:on.WhileDragging,frequency:zt.Optimized},dragOverlay:{measure:J}};class Dn extends Map{get(Pt){var jt;return Pt!=null&&(jt=super.get(Pt))!=null?jt:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(Pt=>{let{disabled:jt}=Pt;return!jt})}getNodeFor(Pt){var jt,vn;return(jt=(vn=this.get(Pt))==null?void 0:vn.node.current)!=null?jt:void 0}}const Gn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Dn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:o},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hn,measureDroppableContainers:o,windowRect:null,measuringScheduled:!1},Kt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:o,draggableNodes:new Map,over:null,measureDroppableContainers:o},wt=null,Lt=null;function mt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Dn}}}function Mt(at,Pt){switch(Pt.type){case u.DragStart:return No(yr({},at),{draggable:No(yr({},at.draggable),{initialCoordinates:Pt.initialCoordinates,active:Pt.active})});case u.DragMove:return at.draggable.active?No(yr({},at),{draggable:No(yr({},at.draggable),{translate:{x:Pt.coordinates.x-at.draggable.initialCoordinates.x,y:Pt.coordinates.y-at.draggable.initialCoordinates.y}})}):at;case u.DragEnd:case u.DragCancel:return No(yr({},at),{draggable:No(yr({},at.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case u.RegisterDroppable:{const{element:jt}=Pt,{id:vn}=jt,Pn=new Dn(at.droppable.containers);return Pn.set(vn,jt),No(yr({},at),{droppable:No(yr({},at.droppable),{containers:Pn})})}case u.SetDroppableDisabled:{const{id:jt,key:vn,disabled:Pn}=Pt,Rn=at.droppable.containers.get(jt);if(!Rn||vn!==Rn.key)return at;const $n=new Dn(at.droppable.containers);return $n.set(jt,No(yr({},Rn),{disabled:Pn})),No(yr({},at),{droppable:No(yr({},at.droppable),{containers:$n})})}case u.UnregisterDroppable:{const{id:jt,key:vn}=Pt,Pn=at.droppable.containers.get(jt);if(!Pn||vn!==Pn.key)return at;const Rn=new Dn(at.droppable.containers);return Rn.delete(jt),No(yr({},at),{droppable:No(yr({},at.droppable),{containers:Rn})})}default:return at}}function Jt(at){let{disabled:Pt}=at;const{active:jt,activatorEvent:vn,draggableNodes:Pn}=useContext(wt),Rn=usePrevious(vn),$n=usePrevious(jt==null?void 0:jt.id);return useEffect(()=>{if(!Pt&&!vn&&Rn&&$n!=null){if(!isKeyboardEvent(Rn)||document.activeElement===Rn.target)return;const ar=Pn.get($n);if(!ar)return;const{activatorNode:lr,node:sr}=ar;if(!lr.current&&!sr.current)return;requestAnimationFrame(()=>{for(const fr of[lr.current,sr.current]){if(!fr)continue;const gr=findFirstFocusableNode(fr);if(gr){gr.focus();break}}})}},[vn,Pt,Pn,$n,Rn]),null}function pn(at,Pt){let Pn=Pt,{transform:jt}=Pn,vn=ai(Pn,["transform"]);return at!=null&&at.length?at.reduce((Rn,$n)=>$n(yr({transform:Rn},vn)),jt):jt}function An(at){return useMemo(()=>({draggable:yr(yr({},hn.draggable),at==null?void 0:at.draggable),droppable:yr(yr({},hn.droppable),at==null?void 0:at.droppable),dragOverlay:yr(yr({},hn.dragOverlay),at==null?void 0:at.dragOverlay)}),[at==null?void 0:at.draggable,at==null?void 0:at.droppable,at==null?void 0:at.dragOverlay])}function Fn(at){let{activeNode:Pt,measure:jt,initialRect:vn,config:Pn=!0}=at;const Rn=useRef(!1),{x:$n,y:ar}=typeof Pn=="boolean"?{x:Pn,y:Pn}:Pn;useIsomorphicLayoutEffect(()=>{if(!$n&&!ar||!Pt){Rn.current=!1;return}if(Rn.current||!vn)return;const sr=Pt==null?void 0:Pt.node.current;if(!sr||sr.isConnected===!1)return;const fr=jt(sr),gr=H(fr,vn);if($n||(gr.x=0),ar||(gr.y=0),Rn.current=!0,Math.abs(gr.x)>0||Math.abs(gr.y)>0){const Sr=re(sr);Sr&&Sr.scrollBy({top:gr.y,left:gr.x})}},[Pt,$n,ar,vn,jt])}const Un=(0,t.createContext)(No(yr({},P),{scaleX:1,scaleY:1}));var Gt;(function(at){at[at.Uninitialized=0]="Uninitialized",at[at.Initializing=1]="Initializing",at[at.Initialized=2]="Initialized"})(Gt||(Gt={}));const Zt=null,_n=null,Qn="button",At="Droppable";function fn(at){let{id:Pt,data:jt,disabled:vn=!1,attributes:Pn}=at;const Rn=useUniqueId(At),{activators:$n,activatorEvent:ar,active:lr,activeNodeRect:sr,ariaDescribedById:fr,draggableNodes:gr,over:Sr}=useContext(wt),{role:Gr=Qn,roleDescription:Oo="draggable",tabIndex:zr=0}=Pn!=null?Pn:{},yt=(lr==null?void 0:lr.id)===Pt,ft=useContext(yt?Un:_n),[vt,kt]=useNodeRef(),[Qt,Cn]=useNodeRef(),En=In($n,Pt),Kn=useLatestValue(jt);useIsomorphicLayoutEffect(()=>(gr.set(Pt,{id:Pt,key:Rn,node:vt,activatorNode:Qt,data:Kn}),()=>{const Yn=gr.get(Pt);Yn&&Yn.key===Rn&&gr.delete(Pt)}),[gr,Pt]);const or=useMemo(()=>({role:Gr,tabIndex:zr,"aria-disabled":vn,"aria-pressed":yt&&Gr===Qn?!0:void 0,"aria-roledescription":Oo,"aria-describedby":fr.draggable}),[vn,Gr,zr,yt,Oo,fr.draggable]);return{active:lr,activatorEvent:ar,activeNodeRect:sr,attributes:or,isDragging:yt,listeners:vn?void 0:En,node:vt,over:Sr,setNodeRef:kt,setActivatorNodeRef:Cn,transform:ft}}function gn(){return useContext(Lt)}const Mn="Droppable",Wn={timeout:25};function rr(at){let{data:Pt,disabled:jt=!1,id:vn,resizeObserverConfig:Pn}=at;const Rn=useUniqueId(Mn),{active:$n,dispatch:ar,over:lr,measureDroppableContainers:sr}=useContext(wt),fr=useRef({disabled:jt}),gr=useRef(!1),Sr=useRef(null),Gr=useRef(null),{disabled:Oo,updateMeasurementsFor:zr,timeout:yt}=yr(yr({},Wn),Pn),ft=useLatestValue(zr!=null?zr:vn),vt=useCallback(()=>{if(!gr.current){gr.current=!0;return}Gr.current!=null&&clearTimeout(Gr.current),Gr.current=setTimeout(()=>{sr(Array.isArray(ft.current)?ft.current:[ft.current]),Gr.current=null},yt)},[yt]),kt=Vn({callback:vt,disabled:Oo||!$n}),Qt=useCallback((or,Yn)=>{kt&&(Yn&&(kt.unobserve(Yn),gr.current=!1),or&&kt.observe(or))},[kt]),[Cn,En]=useNodeRef(Qt),Kn=useLatestValue(Pt);return useEffect(()=>{!kt||!Cn.current||(kt.disconnect(),gr.current=!1,kt.observe(Cn.current))},[Cn,kt]),useIsomorphicLayoutEffect(()=>(ar({type:u.RegisterDroppable,element:{id:vn,key:Rn,disabled:jt,node:Cn,rect:Sr,data:Kn}}),()=>ar({type:u.UnregisterDroppable,key:Rn,id:vn})),[vn]),useEffect(()=>{jt!==fr.current.disabled&&(ar({type:u.SetDroppableDisabled,id:vn,key:Rn,disabled:jt}),fr.current.disabled=jt)},[vn,Rn,jt,ar]),{active:$n,rect:Sr,isOver:(lr==null?void 0:lr.id)===vn,node:Cn,over:lr,setNodeRef:En}}function Zn(at){let{animation:Pt,children:jt}=at;const[vn,Pn]=useState(null),[Rn,$n]=useState(null),ar=usePrevious(jt);return!jt&&!vn&&ar&&Pn(ar),useIsomorphicLayoutEffect(()=>{if(!Rn)return;const lr=vn==null?void 0:vn.key,sr=vn==null?void 0:vn.props.id;if(lr==null||sr==null){Pn(null);return}Promise.resolve(Pt(sr,Rn)).then(()=>{Pn(null)})},[Pt,vn,Rn]),React.createElement(React.Fragment,null,jt,vn?cloneElement(vn,{ref:$n}):null)}const ur={x:0,y:0,scaleX:1,scaleY:1};function Ar(at){let{children:Pt}=at;return React.createElement(wt.Provider,{value:Kt},React.createElement(Un.Provider,{value:ur},Pt))}const so={position:"fixed",touchAction:"none"},io=at=>isKeyboardEvent(at)?"transform 250ms ease":void 0,Qr=null,Wt={duration:250,easing:"ease",keyframes:at=>{let{transform:{initial:Pt,final:jt}}=at;return[{transform:a.ux.Transform.toString(Pt)},{transform:a.ux.Transform.toString(jt)}]},sideEffects:(at=>Pt=>{let{active:jt,dragOverlay:vn}=Pt;const Pn={},{styles:Rn,className:$n}=at;if(Rn!=null&&Rn.active)for(const[ar,lr]of Object.entries(Rn.active))lr!==void 0&&(Pn[ar]=jt.node.style.getPropertyValue(ar),jt.node.style.setProperty(ar,lr));if(Rn!=null&&Rn.dragOverlay)for(const[ar,lr]of Object.entries(Rn.dragOverlay))lr!==void 0&&vn.node.style.setProperty(ar,lr);return $n!=null&&$n.active&&jt.node.classList.add($n.active),$n!=null&&$n.dragOverlay&&vn.node.classList.add($n.dragOverlay),function(){for(const[lr,sr]of Object.entries(Pn))jt.node.style.setProperty(lr,sr);$n!=null&&$n.active&&jt.node.classList.remove($n.active)}})({styles:{active:{opacity:"0"}}})};function jn(at){let{config:Pt,draggableNodes:jt,droppableContainers:vn,measuringConfiguration:Pn}=at;return useEvent((Rn,$n)=>{if(Pt===null)return;const ar=jt.get(Rn);if(!ar)return;const lr=ar.node.current;if(!lr)return;const sr=wr($n);if(!sr)return;const{transform:fr}=getWindow($n).getComputedStyle($n),gr=z(fr);if(!gr)return;const Sr=typeof Pt=="function"?Pt:bt(Pt);return Re(lr,Pn.draggable.measure),Sr({active:{id:Rn,data:ar.data,node:lr,rect:Pn.draggable.measure(lr)},draggableNodes:jt,dragOverlay:{node:$n,rect:Pn.dragOverlay.measure(sr)},droppableContainers:vn,measuringConfiguration:Pn,transform:gr})})}function bt(at){const{duration:Pt,easing:jt,sideEffects:vn,keyframes:Pn}=yr(yr({},Wt),at);return Rn=>{let vt=Rn,{active:$n,dragOverlay:ar,transform:lr}=vt,sr=ai(vt,["active","dragOverlay","transform"]);if(!Pt)return;const fr={x:ar.rect.left-$n.rect.left,y:ar.rect.top-$n.rect.top},gr={scaleX:lr.scaleX!==1?$n.rect.width*lr.scaleX/ar.rect.width:1,scaleY:lr.scaleY!==1?$n.rect.height*lr.scaleY/ar.rect.height:1},Sr=yr({x:lr.x-fr.x,y:lr.y-fr.y},gr),Gr=Pn(No(yr({},sr),{active:$n,dragOverlay:ar,transform:{initial:lr,final:Sr}})),[Oo]=Gr,zr=Gr[Gr.length-1];if(JSON.stringify(Oo)===JSON.stringify(zr))return;const yt=vn==null?void 0:vn(yr({active:$n,dragOverlay:ar},sr)),ft=ar.node.animate(Gr,{duration:Pt,easing:jt,fill:"forwards"});return new Promise(kt=>{ft.onfinish=()=>{yt==null||yt(),kt()}})}}let Ut=0;function qt(at){return useMemo(()=>{if(at!=null)return Ut++,Ut},[at])}const Sn=null},45587:(K,f,e)=>{"use strict";var t=e(98661),a=e(79752),i=e(24285);function c(q,z,ee){const $=q.slice();return $.splice(ee<0?$.length+ee:ee,0,$.splice(z,1)[0]),$}function p(q,z,ee){const $=q.slice();return $[z]=q[ee],$[ee]=q[z],$}function l(q,z){return q.reduce((ee,$,J)=>{const j=z.get($);return j&&(ee[J]=j),ee},Array(q.length))}function v(q){return q!==null&&q>=0}function _(q,z){if(q===z)return!0;if(q.length!==z.length)return!1;for(let ee=0;ee<q.length;ee++)if(q[ee]!==z[ee])return!1;return!0}function g(q){return typeof q=="boolean"?{draggable:q,droppable:q}:q}const E={scaleX:1,scaleY:1},S=q=>{var z;let{rects:ee,activeNodeRect:$,activeIndex:J,overIndex:j,index:Z}=q;const ne=(z=ee[J])!=null?z:$;if(!ne)return null;const ie=O(ee,Z,J);if(Z===J){const oe=ee[j];return oe?yr({x:J<j?oe.left+oe.width-(ne.left+ne.width):oe.left-ne.left,y:0},E):null}return Z>J&&Z<=j?yr({x:-ne.width-ie,y:0},E):Z<J&&Z>=j?yr({x:ne.width+ie,y:0},E):yr({x:0,y:0},E)};function O(q,z,ee){const $=q[z],J=q[z-1],j=q[z+1];return!$||!J&&!j?0:ee<z?J?$.left-(J.left+J.width):j.left-($.left+$.width):j?j.left-($.left+$.width):$.left-(J.left+J.width)}const A=q=>{let{rects:z,activeIndex:ee,overIndex:$,index:J}=q;const j=c(z,$,ee),Z=z[J],ne=j[J];return!ne||!Z?null:{x:ne.left-Z.left,y:ne.top-Z.top,scaleX:ne.width/Z.width,scaleY:ne.height/Z.height}},u=q=>{let{activeIndex:z,index:ee,rects:$,overIndex:J}=q,j,Z;return ee===z&&(j=$[ee],Z=$[J]),ee===J&&(j=$[ee],Z=$[z]),!Z||!j?null:{x:Z.left-j.left,y:Z.top-j.top,scaleX:Z.width/j.width,scaleY:Z.height/j.height}},o={scaleX:1,scaleY:1},s=q=>{var z;let{activeIndex:ee,activeNodeRect:$,index:J,rects:j,overIndex:Z}=q;const ne=(z=j[ee])!=null?z:$;if(!ne)return null;if(J===ee){const oe=j[Z];return oe?yr({x:0,y:ee<Z?oe.top+oe.height-(ne.top+ne.height):oe.top-ne.top},o):null}const ie=w(j,J,ee);return J>ee&&J<=Z?yr({x:0,y:-ne.height-ie},o):J<ee&&J>=Z?yr({x:0,y:ne.height+ie},o):yr({x:0,y:0},o)};function w(q,z,ee){const $=q[z],J=q[z-1],j=q[z+1];return $?ee<z?J?$.top-(J.top+J.height):j?j.top-($.top+$.height):0:j?j.top-($.top+$.height):J?$.top-(J.top+J.height):0:0}const P="Sortable",C=t.default.createContext({activeIndex:-1,containerId:P,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:A,disabled:{draggable:!1,droppable:!1}});function x(q){let{children:z,id:ee,items:$,strategy:J=A,disabled:j=!1}=q;const{active:Z,dragOverlay:ne,droppableRects:ie,over:oe,measureDroppableContainers:re,measuringScheduled:ae}=useDndContext(),se=useUniqueId(P,ee),fe=ne.rect!==null,le=useMemo(()=>$.map(Xe=>typeof Xe=="object"&&"id"in Xe?Xe.id:Xe),[$]),Ae=Z!=null,De=Z?le.indexOf(Z.id):-1,je=oe?le.indexOf(oe.id):-1,Je=useRef(le),Be=!_(le,Je.current),st=je!==-1&&De===-1||Be,ht=g(j);useIsomorphicLayoutEffect(()=>{Be&&Ae&&!ae&&re(le)},[Be,le,Ae,re,ae]),useEffect(()=>{Je.current=le},[le]);const gt=useMemo(()=>({activeIndex:De,containerId:se,disabled:ht,disableTransforms:st,items:le,overIndex:je,useDragOverlay:fe,sortedRects:l(le,ie),strategy:J}),[De,se,ht.draggable,ht.droppable,st,le,je,ie,fe,J]);return React.createElement(C.Provider,{value:gt},z)}const D=q=>{let{id:z,items:ee,activeIndex:$,overIndex:J}=q;return c(ee,$,J).indexOf(z)},y=q=>{let{containerId:z,isSorting:ee,wasDragging:$,index:J,items:j,newIndex:Z,previousItems:ne,previousContainerId:ie,transition:oe}=q;return!oe||!$||ne!==j&&J===Z?!1:ee?!0:Z!==J&&z===ie},M={duration:200,easing:"ease"},T="transform",R=i.ux.Transition.toString({property:T,duration:0,easing:"linear"}),F={roleDescription:"sortable"};function N(q){let{disabled:z,index:ee,node:$,rect:J}=q;const[j,Z]=useState(null),ne=useRef(ee);return useIsomorphicLayoutEffect(()=>{if(!z&&ee!==ne.current&&$.current){const ie=J.current;if(ie){const oe=getClientRect($.current,{ignoreTransform:!0}),re={x:ie.left-oe.left,y:ie.top-oe.top,scaleX:ie.width/oe.width,scaleY:ie.height/oe.height};(re.x||re.y)&&Z(re)}}ee!==ne.current&&(ne.current=ee)},[z,ee,$,J]),useEffect(()=>{j&&requestAnimationFrame(()=>{Z(null)})},[j]),j}function U(q){let{animateLayoutChanges:z=y,attributes:ee,disabled:$,data:J,getNewIndex:j=D,id:Z,strategy:ne,resizeObserverConfig:ie,transition:oe=M}=q;const{items:re,containerId:ae,activeIndex:se,disabled:fe,disableTransforms:le,sortedRects:Ae,overIndex:De,useDragOverlay:je,strategy:Je}=useContext(C),Be=V($,fe),st=re.indexOf(Z),ht=useMemo(()=>yr({sortable:{containerId:ae,index:st,items:re}},J),[ae,J,st,re]),gt=useMemo(()=>re.slice(re.indexOf(Z)),[re,Z]),{rect:Xe,node:Re,isOver:Ne,setNodeRef:ke}=useDroppable({id:Z,data:ht,disabled:Be.droppable,resizeObserverConfig:yr({updateMeasurementsFor:gt},ie)}),{active:ot,activatorEvent:Dt,activeNodeRect:ln,attributes:ct,setNodeRef:Oe,listeners:Se,isDragging:Ze,over:Fe,setActivatorNodeRef:Ke,transform:et}=useDraggable({id:Z,data:ht,attributes:yr(yr({},F),ee),disabled:Be.draggable}),Qe=useCombinedRefs(ke,Oe),$e=!!ot,Te=$e&&!le&&v(se)&&v(De),te=!je&&Ze,ue=te&&Te?et:null,we=ne!=null?ne:Je,me=Te?ue!=null?ue:we({rects:Ae,activeNodeRect:ln,activeIndex:se,overIndex:De,index:st}):null,Ee=v(se)&&v(De)?j({id:Z,items:re,activeIndex:se,overIndex:De}):st,he=ot==null?void 0:ot.id,xe=useRef({activeId:he,items:re,newIndex:Ee,containerId:ae}),Ve=re!==xe.current.items,Pe=z({active:ot,containerId:ae,isDragging:Ze,isSorting:$e,id:Z,index:st,items:re,newIndex:xe.current.newIndex,previousItems:xe.current.items,previousContainerId:xe.current.containerId,transition:oe,wasDragging:xe.current.activeId!=null}),Ie=N({disabled:!Pe,index:st,node:Re,rect:Xe});return useEffect(()=>{$e&&xe.current.newIndex!==Ee&&(xe.current.newIndex=Ee),ae!==xe.current.containerId&&(xe.current.containerId=ae),re!==xe.current.items&&(xe.current.items=re)},[$e,Ee,ae,re]),useEffect(()=>{if(he===xe.current.activeId)return;if(he&&!xe.current.activeId){xe.current.activeId=he;return}const tt=setTimeout(()=>{xe.current.activeId=he},50);return()=>clearTimeout(tt)},[he]),{active:ot,activeIndex:se,attributes:ct,data:ht,rect:Xe,index:st,newIndex:Ee,items:re,isOver:Ne,isSorting:$e,isDragging:Ze,listeners:Se,node:Re,overIndex:De,over:Fe,setNodeRef:Qe,setActivatorNodeRef:Ke,setDroppableNodeRef:ke,setDraggableNodeRef:Oe,transform:Ie!=null?Ie:me,transition:ze()};function ze(){if(Ie||Ve&&xe.current.newIndex===st)return R;if(!(te&&!isKeyboardEvent(Dt)||!oe)&&($e||Pe))return CSS.Transition.toString(No(yr({},oe),{property:T}))}}function V(q,z){var ee,$;return typeof q=="boolean"?{draggable:q,droppable:!1}:{draggable:(ee=q==null?void 0:q.draggable)!=null?ee:z.draggable,droppable:($=q==null?void 0:q.droppable)!=null?$:z.droppable}}function W(q){if(!q)return!1;const z=q.data.current;return!!(z&&"sortable"in z&&typeof z.sortable=="object"&&"containerId"in z.sortable&&"items"in z.sortable&&"index"in z.sortable)}const L=[a.g4.Down,a.g4.Right,a.g4.Up,a.g4.Left],k=(q,z)=>{let{context:{active:ee,collisionRect:$,droppableRects:J,droppableContainers:j,over:Z,scrollableAncestors:ne}}=z;if(L.includes(q.code)){if(q.preventDefault(),!ee||!$)return;const ie=[];j.getEnabled().forEach(ae=>{if(!ae||ae!=null&&ae.disabled)return;const se=J.get(ae.id);if(se)switch(q.code){case KeyboardCode.Down:$.top<se.top&&ie.push(ae);break;case KeyboardCode.Up:$.top>se.top&&ie.push(ae);break;case KeyboardCode.Left:$.left>se.left&&ie.push(ae);break;case KeyboardCode.Right:$.left<se.left&&ie.push(ae);break}});const oe=closestCorners({active:ee,collisionRect:$,droppableRects:J,droppableContainers:ie,pointerCoordinates:null});let re=getFirstCollision(oe,"id");if(re===(Z==null?void 0:Z.id)&&oe.length>1&&(re=oe[1].id),re!=null){const ae=j.get(ee.id),se=j.get(re),fe=se?J.get(se.id):null,le=se==null?void 0:se.node.current;if(le&&fe&&ae&&se){const De=getScrollableAncestors(le).some((gt,Xe)=>ne[Xe]!==gt),je=H(ae,se),Je=G(ae,se),Be=De||!je?{x:0,y:0}:{x:Je?$.width-fe.width:0,y:Je?$.height-fe.height:0},st={x:fe.left,y:fe.top};return Be.x&&Be.y?st:subtract(st,Be)}}}};function H(q,z){return!W(q)||!W(z)?!1:q.data.current.sortable.containerId===z.data.current.sortable.containerId}function G(q,z){return!W(q)||!W(z)||!H(q,z)?!1:q.data.current.sortable.index<z.data.current.sortable.index}},24285:(K,f,e)=>{"use strict";e.d(f,{$X:()=>y,DC:()=>F,FJ:()=>c,IH:()=>D,Jj:()=>l,Nq:()=>i,Re:()=>_,qk:()=>v,r3:()=>E,ux:()=>N,vZ:()=>g,vd:()=>T});var t=e(98661);function a(){for(var W=arguments.length,L=new Array(W),k=0;k<W;k++)L[k]=arguments[k];return useMemo(()=>H=>{L.forEach(G=>G(H))},L)}const i=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function c(W){const L=Object.prototype.toString.call(W);return L==="[object Window]"||L==="[object global]"}function p(W){return"nodeType"in W}function l(W){var L,k;return W?c(W)?W:p(W)&&(L=(k=W.ownerDocument)==null?void 0:k.defaultView)!=null?L:window:window}function v(W){const{Document:L}=l(W);return W instanceof L}function _(W){return c(W)?!1:W instanceof l(W).HTMLElement}function g(W){return W instanceof l(W).SVGElement}function E(W){return W?c(W)?W.document:p(W)?v(W)?W:_(W)?W.ownerDocument:document:document:document}const S=null;function O(W){const L=useRef(W);return S(()=>{L.current=W}),useCallback(function(){for(var k=arguments.length,H=new Array(k),G=0;G<k;G++)H[G]=arguments[G];return L.current==null?void 0:L.current(...H)},[])}function A(){const W=useRef(null),L=useCallback((H,G)=>{W.current=setInterval(H,G)},[]),k=useCallback(()=>{W.current!==null&&(clearInterval(W.current),W.current=null)},[]);return[L,k]}function u(W,L){L===void 0&&(L=[W]);const k=useRef(W);return S(()=>{k.current!==W&&(k.current=W)},L),k}function o(W,L){const k=useRef();return useMemo(()=>{const H=W(k.current);return k.current=H,H},[...L])}function s(W){const L=O(W),k=useRef(null),H=useCallback(G=>{G!==k.current&&(L==null||L(G,k.current)),k.current=G},[]);return[k,H]}function w(W){const L=useRef();return useEffect(()=>{L.current=W},[W]),L.current}let P={};function C(W,L){return useMemo(()=>{if(L)return L;const k=P[W]==null?0:P[W]+1;return P[W]=k,W+"-"+k},[W,L])}function x(W){return function(L){for(var k=arguments.length,H=new Array(k>1?k-1:0),G=1;G<k;G++)H[G-1]=arguments[G];return H.reduce((q,z)=>{const ee=Object.entries(z);for(const[$,J]of ee){const j=q[$];j!=null&&(q[$]=j+W*J)}return q},yr({},L))}}const D=x(1),y=x(-1);function M(W){return"clientX"in W&&"clientY"in W}function T(W){if(!W)return!1;const{KeyboardEvent:L}=l(W.target);return L&&W instanceof L}function R(W){if(!W)return!1;const{TouchEvent:L}=l(W.target);return L&&W instanceof L}function F(W){if(R(W)){if(W.touches&&W.touches.length){const{clientX:L,clientY:k}=W.touches[0];return{x:L,y:k}}else if(W.changedTouches&&W.changedTouches.length){const{clientX:L,clientY:k}=W.changedTouches[0];return{x:L,y:k}}}return M(W)?{x:W.clientX,y:W.clientY}:null}const N=Object.freeze({Translate:{toString(W){if(!W)return;const{x:L,y:k}=W;return"translate3d("+(L?Math.round(L):0)+"px, "+(k?Math.round(k):0)+"px, 0)"}},Scale:{toString(W){if(!W)return;const{scaleX:L,scaleY:k}=W;return"scaleX("+L+") scaleY("+k+")"}},Transform:{toString(W){if(W)return[N.Translate.toString(W),N.Scale.toString(W)].join(" ")}},Transition:{toString(W){let{property:L,duration:k,easing:H}=W;return L+" "+k+"ms "+H}}}),U="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function V(W){return W.matches(U)?W:W.querySelector(U)}},25755:(K,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(79664),a=e(48285),i="/*|*/",c=i+"}";function p(E){E&&l.current.insert(E+"}")}var l={current:null},v=function(S,O,A,u,o,s,w,P,C,x){switch(S){case 1:{switch(O.charCodeAt(0)){case 64:return l.current.insert(O+";"),"";case 108:if(O.charCodeAt(2)===98)return""}break}case 2:{if(P===0)return O+i;break}case 3:switch(P){case 102:case 112:return l.current.insert(A[0]+O),"";default:return O+(x===0?i:"")}case-2:O.split(c).forEach(p)}},_=function(S){S===void 0&&(S={});var O=S.key||"css",A;S.prefix!==void 0&&(A={prefix:S.prefix});var u=new a.Z(A),o={},s;{s=S.container||document.head;var w=document.querySelectorAll("style[data-emotion-"+O+"]");Array.prototype.forEach.call(w,function(y){var M=y.getAttribute("data-emotion-"+O);M.split(" ").forEach(function(T){o[T]=!0}),y.parentNode!==s&&s.appendChild(y)})}var P;if(u.use(S.stylisPlugins)(v),P=function(M,T,R,F){var N=T.name;if(l.current=R,!1)var U;u(M,T.styles),F&&(D.inserted[N]=!0)},!1)var C,x;var D={key:O,sheet:new t.m({key:O,container:s,nonce:S.nonce,speedy:S.speedy}),nonce:S.nonce,inserted:o,registered:{},insert:P};return D};const g=_},77453:(K,f,e)=>{"use strict";e.d(f,{F4:()=>S,ms:()=>u,tZ:()=>v});var t=e(98661),a=e(25755),i=e(77898),c=e(68087),p=e(36660),l=e(93998),v=function(s,w){var P=arguments;if(w==null||!i.h.call(w,"css"))return t.createElement.apply(void 0,P);var C=P.length,x=new Array(C);x[0]=i.E,x[1]=(0,i.c)(s,w);for(var D=2;D<C;D++)x[D]=P[D];return t.createElement.apply(null,x)},_=!1,g=null,E=null,S=function(){var s=l.Z.apply(void 0,arguments),w="animation-"+s.name;return{name:w,styles:"@keyframes "+w+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},O=function o(s){for(var w=s.length,P=0,C="";P<w;P++){var x=s[P];if(x!=null){var D=void 0;switch(typeof x){case"boolean":break;case"object":{if(Array.isArray(x))D=o(x);else{D="";for(var y in x)x[y]&&y&&(D&&(D+=" "),D+=y)}break}default:D=x}D&&(C&&(C+=" "),C+=D)}}return C};function A(o,s,w){var P=[],C=(0,c.f)(o,P,w);return P.length<2?w:C+s(P)}var u=(0,i.w)(function(o,s){return(0,t.createElement)(i.T.Consumer,null,function(w){var P=!1,C=function(){for(var T=arguments.length,R=new Array(T),F=0;F<T;F++)R[F]=arguments[F];var N=(0,p.O)(R,s.registered);return(0,c.M)(s,N,!1),s.key+"-"+N.name},x=function(){for(var T=arguments.length,R=new Array(T),F=0;F<T;F++)R[F]=arguments[F];return A(s.registered,C,O(R))},D={css:C,cx:x,theme:w},y=o.children(D);return P=!0,y})})},77898:(K,f,e)=>{"use strict";e.d(f,{E:()=>o,T:()=>v,c:()=>A,h:()=>p,w:()=>g});var t=e(98661),a=e(25755),i=e(68087),c=e(36660),p=Object.prototype.hasOwnProperty,l=(0,t.createContext)(typeof HTMLElement!="undefined"?(0,a.Z)():null),v=(0,t.createContext)({}),_=l.Provider,g=function(w){var P=function(x,D){return(0,t.createElement)(l.Consumer,null,function(y){return w(x,y,D)})};return(0,t.forwardRef)(P)},E=function(w){return w.replace(/\$/g,"-")},S="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",O="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",A=function(w,P){var C={};for(var x in P)p.call(P,x)&&(C[x]=P[x]);if(C[S]=w,!1)var D,y;return C},u=function(w,P,C,x){var D=C===null?P.css:P.css(C);typeof D=="string"&&w.registered[D]!==void 0&&(D=w.registered[D]);var y=P[S],M=[D],T="";typeof P.className=="string"?T=(0,i.f)(w.registered,M,P.className):P.className!=null&&(T=P.className+" ");var R=(0,c.O)(M);if(!1)var F;var N=(0,i.M)(w,R,typeof y=="string");T+=w.key+"-"+R.name;var U={};for(var V in P)p.call(P,V)&&V!=="css"&&V!==S&&(U[V]=P[V]);U.ref=x,U.className=T;var W=(0,t.createElement)(y,U);return W},o=g(function(s,w,P){return typeof s.css=="function"?(0,t.createElement)(v.Consumer,null,function(C){return u(w,s,C,P)}):u(w,s,null,P)})},93998:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i});var t=e(36660);function a(){for(var c=arguments.length,p=new Array(c),l=0;l<c;l++)p[l]=arguments[l];return(0,t.O)(p)}const i=a},62506:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});function t(i){for(var c=0,p,l=0,v=i.length;v>=4;++l,v-=4)p=i.charCodeAt(l)&255|(i.charCodeAt(++l)&255)<<8|(i.charCodeAt(++l)&255)<<16|(i.charCodeAt(++l)&255)<<24,p=(p&65535)*1540483477+((p>>>16)*59797<<16),p^=p>>>24,c=(p&65535)*1540483477+((p>>>16)*59797<<16)^(c&65535)*1540483477+((c>>>16)*59797<<16);switch(v){case 3:c^=(i.charCodeAt(l+2)&255)<<16;case 2:c^=(i.charCodeAt(l+1)&255)<<8;case 1:c^=i.charCodeAt(l)&255,c=(c&65535)*1540483477+((c>>>16)*59797<<16)}return c^=c>>>13,c=(c&65535)*1540483477+((c>>>16)*59797<<16),((c^c>>>15)>>>0).toString(36)}const a=t},12717:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});function t(i){var c={};return function(p){return c[p]===void 0&&(c[p]=i(p)),c[p]}}const a=t},36660:(K,f,e)=>{"use strict";e.d(f,{O:()=>T});var t=e(62506),a=e(40351),i=e(12717),c=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,p="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",l=/[A-Z]|^ms/g,v=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_=function(F){return F.charCodeAt(1)===45},g=function(F){return F!=null&&typeof F!="boolean"},E=(0,i.Z)(function(R){return _(R)?R:R.replace(l,"-$&").toLowerCase()}),S=function(F,N){switch(F){case"animation":case"animationName":if(typeof N=="string")return N.replace(v,function(U,V,W){return M={name:V,styles:W,next:M},V})}return a.Z[F]!==1&&!_(F)&&typeof N=="number"&&N!==0?N+"px":N};if(!1)var O,A,u,o,s,w;var P=!0;function C(R,F,N,U){if(N==null)return"";if(N.__emotion_styles!==void 0)return N;switch(typeof N){case"boolean":return"";case"object":{if(N.anim===1)return M={name:N.name,styles:N.styles,next:M},N.name;if(N.styles!==void 0){var V=N.next;if(V!==void 0)for(;V!==void 0;)M={name:V.name,styles:V.styles,next:M},V=V.next;var W=N.styles+";";return W}return x(R,F,N)}case"function":{if(R!==void 0){var L=M,k=N(R);return M=L,C(R,F,k,U)}break}case"string":if(!1)var H,G;break}if(F==null)return N;var q=F[N];return q!==void 0&&!U?q:N}function x(R,F,N){var U="";if(Array.isArray(N))for(var V=0;V<N.length;V++)U+=C(R,F,N[V],!1);else for(var W in N){var L=N[W];if(typeof L!="object")F!=null&&F[L]!==void 0?U+=W+"{"+F[L]+"}":g(L)&&(U+=E(W)+":"+S(W,L)+";");else if(Array.isArray(L)&&typeof L[0]=="string"&&(F==null||F[L[0]]===void 0))for(var k=0;k<L.length;k++)g(L[k])&&(U+=E(W)+":"+S(W,L[k])+";");else{var H=C(R,F,L,!1);switch(W){case"animation":case"animationName":{U+=E(W)+":"+H+";";break}default:U+=W+"{"+H+"}"}}}return U}var D=/label:\s*([^\s;\n{]+)\s*;/g,y,M,T=function(F,N,U){if(F.length===1&&typeof F[0]=="object"&&F[0]!==null&&F[0].styles!==void 0)return F[0];var V=!0,W="";M=void 0;var L=F[0];L==null||L.raw===void 0?(V=!1,W+=C(U,N,L,!1)):W+=L[0];for(var k=1;k<F.length;k++)W+=C(U,N,F[k],W.charCodeAt(W.length-1)===46),V&&(W+=L[k]);var H;D.lastIndex=0;for(var G="",q;(q=D.exec(W))!==null;)G+="-"+q[1];var z=(0,t.Z)(W)+G;return{name:z,styles:W,next:M}}},79664:(K,f,e)=>{"use strict";e.d(f,{m:()=>i});function t(c){if(c.sheet)return c.sheet;for(var p=0;p<document.styleSheets.length;p++)if(document.styleSheets[p].ownerNode===c)return document.styleSheets[p]}function a(c){var p=document.createElement("style");return p.setAttribute("data-emotion",c.key),c.nonce!==void 0&&p.setAttribute("nonce",c.nonce),p.appendChild(document.createTextNode("")),p}var i=function(){function c(l){this.isSpeedy=l.speedy===void 0?!0:l.speedy,this.tags=[],this.ctr=0,this.nonce=l.nonce,this.key=l.key,this.container=l.container,this.before=null}var p=c.prototype;return p.insert=function(v){if(this.ctr%(this.isSpeedy?65e3:1)===0){var _=a(this),g;this.tags.length===0?g=this.before:g=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(_,g),this.tags.push(_)}var E=this.tags[this.tags.length-1];if(this.isSpeedy){var S=t(E);try{var O=v.charCodeAt(1)===105&&v.charCodeAt(0)===64;S.insertRule(v,O?0:S.cssRules.length)}catch(A){}}else E.appendChild(document.createTextNode(v));this.ctr++},p.flush=function(){this.tags.forEach(function(v){return v.parentNode.removeChild(v)}),this.tags=[],this.ctr=0},c}()},48285:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});function t(i){function c(Z,ne,ie,oe,re){for(var ae=0,se=0,fe=0,le=0,Ae,De,je=0,Je=0,Be,st=Be=Ae=0,ht=0,gt=0,Xe=0,Re=0,Ne=ie.length,ke=Ne-1,ot,Dt="",ln="",ct="",Oe="",Se;ht<Ne;){if(De=ie.charCodeAt(ht),ht===ke&&se+le+fe+ae!==0&&(se!==0&&(De=se===47?10:47),le=fe=ae=0,Ne++,ke++),se+le+fe+ae===0){if(ht===ke&&(0<gt&&(Dt=Dt.replace(o,"")),0<Dt.trim().length)){switch(De){case 32:case 9:case 59:case 13:case 10:break;default:Dt+=ie.charAt(ht)}De=59}switch(De){case 123:for(Dt=Dt.trim(),Ae=Dt.charCodeAt(0),Be=1,Re=++ht;ht<Ne;){switch(De=ie.charCodeAt(ht)){case 123:Be++;break;case 125:Be--;break;case 47:switch(De=ie.charCodeAt(ht+1)){case 42:case 47:e:{for(st=ht+1;st<ke;++st)switch(ie.charCodeAt(st)){case 47:if(De===42&&ie.charCodeAt(st-1)===42&&ht+2!==st){ht=st+1;break e}break;case 10:if(De===47){ht=st+1;break e}}ht=st}}break;case 91:De++;case 40:De++;case 34:case 39:for(;ht++<ke&&ie.charCodeAt(ht)!==De;);}if(Be===0)break;ht++}switch(Be=ie.substring(Re,ht),Ae===0&&(Ae=(Dt=Dt.replace(u,"").trim()).charCodeAt(0)),Ae){case 64:switch(0<gt&&(Dt=Dt.replace(o,"")),De=Dt.charCodeAt(1),De){case 100:case 109:case 115:case 45:gt=ne;break;default:gt=q}if(Be=c(ne,gt,Be,De,re+1),Re=Be.length,0<ee&&(gt=p(q,Dt,Xe),Se=E(3,Be,gt,ne,k,L,Re,De,re,oe),Dt=gt.join(""),Se!==void 0&&(Re=(Be=Se.trim()).length)===0&&(De=0,Be="")),0<Re)switch(De){case 115:Dt=Dt.replace(R,g);case 100:case 109:case 45:Be=Dt+"{"+Be+"}";break;case 107:Dt=Dt.replace(D,"$1 $2"),Be=Dt+"{"+Be+"}",Be=G===1||G===2&&_("@"+Be,3)?"@-webkit-"+Be+"@"+Be:"@"+Be;break;default:Be=Dt+Be,oe===112&&(Be=(ln+=Be,""))}else Be="";break;default:Be=c(ne,p(ne,Dt,Xe),Be,oe,re+1)}ct+=Be,Be=Xe=gt=st=Ae=0,Dt="",De=ie.charCodeAt(++ht);break;case 125:case 59:if(Dt=(0<gt?Dt.replace(o,""):Dt).trim(),1<(Re=Dt.length))switch(st===0&&(Ae=Dt.charCodeAt(0),Ae===45||96<Ae&&123>Ae)&&(Re=(Dt=Dt.replace(" ",":")).length),0<ee&&(Se=E(1,Dt,ne,Z,k,L,ln.length,oe,re,oe))!==void 0&&(Re=(Dt=Se.trim()).length)===0&&(Dt="\0\0"),Ae=Dt.charCodeAt(0),De=Dt.charCodeAt(1),Ae){case 0:break;case 64:if(De===105||De===99){Oe+=Dt+ie.charAt(ht);break}default:Dt.charCodeAt(Re-1)!==58&&(ln+=v(Dt,Ae,De,Dt.charCodeAt(2)))}Xe=gt=st=Ae=0,Dt="",De=ie.charCodeAt(++ht)}}switch(De){case 13:case 10:se===47?se=0:1+Ae===0&&oe!==107&&0<Dt.length&&(gt=1,Dt+="\0"),0<ee*J&&E(0,Dt,ne,Z,k,L,ln.length,oe,re,oe),L=1,k++;break;case 59:case 125:if(se+le+fe+ae===0){L++;break}default:switch(L++,ot=ie.charAt(ht),De){case 9:case 32:if(le+ae+se===0)switch(je){case 44:case 58:case 9:case 32:ot="";break;default:De!==32&&(ot=" ")}break;case 0:ot="\\0";break;case 12:ot="\\f";break;case 11:ot="\\v";break;case 38:le+se+ae===0&&(gt=Xe=1,ot="\f"+ot);break;case 108:if(le+se+ae+H===0&&0<st)switch(ht-st){case 2:je===112&&ie.charCodeAt(ht-3)===58&&(H=je);case 8:Je===111&&(H=Je)}break;case 58:le+se+ae===0&&(st=ht);break;case 44:se+fe+le+ae===0&&(gt=1,ot+="\r");break;case 34:case 39:se===0&&(le=le===De?0:le===0?De:le);break;case 91:le+se+fe===0&&ae++;break;case 93:le+se+fe===0&&ae--;break;case 41:le+se+ae===0&&fe--;break;case 40:if(le+se+ae===0){if(Ae===0)switch(2*je+3*Je){case 533:break;default:Ae=1}fe++}break;case 64:se+fe+le+ae+st+Be===0&&(Be=1);break;case 42:case 47:if(!(0<le+ae+fe))switch(se){case 0:switch(2*De+3*ie.charCodeAt(ht+1)){case 235:se=47;break;case 220:Re=ht,se=42}break;case 42:De===47&&je===42&&Re+2!==ht&&(ie.charCodeAt(Re+2)===33&&(ln+=ie.substring(Re,ht+1)),ot="",se=0)}}se===0&&(Dt+=ot)}Je=je,je=De,ht++}if(Re=ln.length,0<Re){if(gt=ne,0<ee&&(Se=E(2,ln,gt,Z,k,L,Re,oe,re,oe),Se!==void 0&&(ln=Se).length===0))return Oe+ln+ct;if(ln=gt.join(",")+"{"+ln+"}",G*H!==0){switch(G!==2||_(ln,2)||(H=0),H){case 111:ln=ln.replace(M,":-moz-$1")+ln;break;case 112:ln=ln.replace(y,"::-webkit-input-$1")+ln.replace(y,"::-moz-$1")+ln.replace(y,":-ms-input-$1")+ln}H=0}}return Oe+ln+ct}function p(Z,ne,ie){var oe=ne.trim().split(C);ne=oe;var re=oe.length,ae=Z.length;switch(ae){case 0:case 1:var se=0;for(Z=ae===0?"":Z[0]+" ";se<re;++se)ne[se]=l(Z,ne[se],ie).trim();break;default:var fe=se=0;for(ne=[];se<re;++se)for(var le=0;le<ae;++le)ne[fe++]=l(Z[le]+" ",oe[se],ie).trim()}return ne}function l(Z,ne,ie){var oe=ne.charCodeAt(0);switch(33>oe&&(oe=(ne=ne.trim()).charCodeAt(0)),oe){case 38:return ne.replace(x,"$1"+Z.trim());case 58:return Z.trim()+ne.replace(x,"$1"+Z.trim());default:if(0<1*ie&&0<ne.indexOf("\f"))return ne.replace(x,(Z.charCodeAt(0)===58?"":"$1")+Z.trim())}return Z+ne}function v(Z,ne,ie,oe){var re=Z+";",ae=2*ne+3*ie+4*oe;if(ae===944){Z=re.indexOf(":",9)+1;var se=re.substring(Z,re.length-1).trim();return se=re.substring(0,Z).trim()+se+";",G===1||G===2&&_(se,1)?"-webkit-"+se+se:se}if(G===0||G===2&&!_(re,1))return re;switch(ae){case 1015:return re.charCodeAt(10)===97?"-webkit-"+re+re:re;case 951:return re.charCodeAt(3)===116?"-webkit-"+re+re:re;case 963:return re.charCodeAt(5)===110?"-webkit-"+re+re:re;case 1009:if(re.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+re+re;case 978:return"-webkit-"+re+"-moz-"+re+re;case 1019:case 983:return"-webkit-"+re+"-moz-"+re+"-ms-"+re+re;case 883:if(re.charCodeAt(8)===45)return"-webkit-"+re+re;if(0<re.indexOf("image-set(",11))return re.replace(W,"$1-webkit-$2")+re;break;case 932:if(re.charCodeAt(4)===45)switch(re.charCodeAt(5)){case 103:return"-webkit-box-"+re.replace("-grow","")+"-webkit-"+re+"-ms-"+re.replace("grow","positive")+re;case 115:return"-webkit-"+re+"-ms-"+re.replace("shrink","negative")+re;case 98:return"-webkit-"+re+"-ms-"+re.replace("basis","preferred-size")+re}return"-webkit-"+re+"-ms-"+re+re;case 964:return"-webkit-"+re+"-ms-flex-"+re+re;case 1023:if(re.charCodeAt(8)!==99)break;return se=re.substring(re.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+se+"-webkit-"+re+"-ms-flex-pack"+se+re;case 1005:return w.test(re)?re.replace(s,":-webkit-")+re.replace(s,":-moz-")+re:re;case 1e3:switch(se=re.substring(13).trim(),ne=se.indexOf("-")+1,se.charCodeAt(0)+se.charCodeAt(ne)){case 226:se=re.replace(T,"tb");break;case 232:se=re.replace(T,"tb-rl");break;case 220:se=re.replace(T,"lr");break;default:return re}return"-webkit-"+re+"-ms-"+se+re;case 1017:if(re.indexOf("sticky",9)===-1)break;case 975:switch(ne=(re=Z).length-10,se=(re.charCodeAt(ne)===33?re.substring(0,ne):re).substring(Z.indexOf(":",7)+1).trim(),ae=se.charCodeAt(0)+(se.charCodeAt(7)|0)){case 203:if(111>se.charCodeAt(8))break;case 115:re=re.replace(se,"-webkit-"+se)+";"+re;break;case 207:case 102:re=re.replace(se,"-webkit-"+(102<ae?"inline-":"")+"box")+";"+re.replace(se,"-webkit-"+se)+";"+re.replace(se,"-ms-"+se+"box")+";"+re}return re+";";case 938:if(re.charCodeAt(5)===45)switch(re.charCodeAt(6)){case 105:return se=re.replace("-items",""),"-webkit-"+re+"-webkit-box-"+se+"-ms-flex-"+se+re;case 115:return"-webkit-"+re+"-ms-flex-item-"+re.replace(N,"")+re;default:return"-webkit-"+re+"-ms-flex-line-pack"+re.replace("align-content","").replace(N,"")+re}break;case 973:case 989:if(re.charCodeAt(3)!==45||re.charCodeAt(4)===122)break;case 931:case 953:if(V.test(Z)===!0)return(se=Z.substring(Z.indexOf(":")+1)).charCodeAt(0)===115?v(Z.replace("stretch","fill-available"),ne,ie,oe).replace(":fill-available",":stretch"):re.replace(se,"-webkit-"+se)+re.replace(se,"-moz-"+se.replace("fill-",""))+re;break;case 962:if(re="-webkit-"+re+(re.charCodeAt(5)===102?"-ms-"+re:"")+re,ie+oe===211&&re.charCodeAt(13)===105&&0<re.indexOf("transform",10))return re.substring(0,re.indexOf(";",27)+1).replace(P,"$1-webkit-$2")+re}return re}function _(Z,ne){var ie=Z.indexOf(ne===1?":":"{"),oe=Z.substring(0,ne!==3?ie:10);return ie=Z.substring(ie+1,Z.length-1),$(ne!==2?oe:oe.replace(U,"$1"),ie,ne)}function g(Z,ne){var ie=v(ne,ne.charCodeAt(0),ne.charCodeAt(1),ne.charCodeAt(2));return ie!==ne+";"?ie.replace(F," or ($1)").substring(4):"("+ne+")"}function E(Z,ne,ie,oe,re,ae,se,fe,le,Ae){for(var De=0,je=ne,Je;De<ee;++De)switch(Je=z[De].call(A,Z,je,ie,oe,re,ae,se,fe,le,Ae)){case void 0:case!1:case!0:case null:break;default:je=Je}if(je!==ne)return je}function S(Z){switch(Z){case void 0:case null:ee=z.length=0;break;default:if(typeof Z=="function")z[ee++]=Z;else if(typeof Z=="object")for(var ne=0,ie=Z.length;ne<ie;++ne)S(Z[ne]);else J=!!Z|0}return S}function O(Z){return Z=Z.prefix,Z!==void 0&&($=null,Z?typeof Z!="function"?G=1:(G=2,$=Z):G=0),O}function A(Z,ne){var ie=Z;if(33>ie.charCodeAt(0)&&(ie=ie.trim()),j=ie,ie=[j],0<ee){var oe=E(-1,ne,ie,ie,k,L,0,0,0,0);oe!==void 0&&typeof oe=="string"&&(ne=oe)}var re=c(q,ie,ne,0,0);return 0<ee&&(oe=E(-2,re,ie,ie,k,L,re.length,0,0,0),oe!==void 0&&(re=oe)),j="",H=0,L=k=1,re}var u=/^\0+/g,o=/[\0\r\f]/g,s=/: */g,w=/zoo|gra/,P=/([,: ])(transform)/g,C=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,D=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,M=/:(read-only)/g,T=/[svh]\w+-[tblr]{2}/,R=/\(\s*(.*)\s*\)/g,F=/([\s\S]*?);/g,N=/-self|flex-/g,U=/[^]*?(:[rp][el]a[\w-]+)[^]*/,V=/stretch|:\s*\w+\-(?:conte|avail)/,W=/([^-])(image-set\()/,L=1,k=1,H=0,G=1,q=[],z=[],ee=0,$=null,J=0,j="";return A.use=S,A.set=O,i!==void 0&&O(i),A}const a=t},40351:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const a=t},68087:(K,f,e)=>{"use strict";e.d(f,{M:()=>i,f:()=>a});var t=!0;function a(c,p,l){var v="";return l.split(" ").forEach(function(_){c[_]!==void 0?p.push(c[_]):v+=_+" "}),v}var i=function(p,l,v){var _=p.key+"-"+l.name;if((v===!1||t===!1&&p.compat!==void 0)&&p.registered[_]===void 0&&(p.registered[_]=l.styles),p.inserted[l.name]===void 0){var g=l;do{var E=p.insert("."+_,g,p.sheet,!0);g=g.next}while(g!==void 0)}}},28599:K=>{"use strict";const{AbortController:f,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;K.exports=f,K.exports.AbortSignal=e,K.exports.default=f},70109:(K,f,e)=>{"use strict";e.d(f,{Z:()=>v});var t=e(98661),a=e(52720),i=function(){return(i=Object.assign||function(_){for(var g,E=1,S=arguments.length;E<S;E++)for(var O in g=arguments[E])Object.prototype.hasOwnProperty.call(g,O)&&(_[O]=g[O]);return _}).apply(this,arguments)},c=function(_,g){var E={};for(O in _)Object.prototype.hasOwnProperty.call(_,O)&&g.indexOf(O)<0&&(E[O]=_[O]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,O=Object.getOwnPropertySymbols(_);S<O.length;S++)g.indexOf(O[S])<0&&Object.prototype.propertyIsEnumerable.call(_,O[S])&&(E[O[S]]=_[O[S]]);return E},p=function(_){return"Typesetting failed: ".concat(_.message!==void 0?_.message:_.toString())},l=function(_){function g(){var V;M==="every"&&F&&T==="post"&&D.current!==null&&(D.current.style.visibility=(V=(V=C.style)==null?void 0:V.visibility)!=null?V:"visible"),N.current||(M==="first"&&D.current!==null&&(D.current.style.visibility="visible"),O&&O(),N.current=!0),A&&A(),U.current=!1}var S=_.inline,E=S!==void 0&&S,S=_.hideUntilTypeset,O=_.onInitTypeset,A=_.onTypeset,u=_.text,o=_.dynamic,s=_.typesettingOptions,w=_.renderMode,P=_.children,C=c(_,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),x=(0,t.useRef)(""),D=(0,t.useRef)(null),y=(0,t.useContext)(a.n),M=S!=null?S:y==null?void 0:y.hideUntilTypeset,T=w!=null?w:y==null?void 0:y.renderMode,R=s!=null?s:y==null?void 0:y.typesettingOptions,F=o!==!1&&(o||!1),N=(0,t.useRef)(!1),U=(0,t.useRef)(!1);return!U.current&&D.current!==null&&F&&M==="every"&&T==="post"&&(D.current.style.visibility="hidden"),(typeof window!="undefined"?t.useLayoutEffect:t.useEffect)(function(){if((F||!N.current)&&D.current!==null){if(!y)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(T==="pre"){if(!(typeof(V=u)=="string"&&0<V.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(u,'"'));if(!s||!s.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(y.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}T!=="post"&&u===x.current||U.current||(U.current=!0,y.version===3?y.promise.then(function(W){var L;T==="pre"?(L=function(k){x.current=u,W.startup.document.clear(),W.startup.document.updateDocument(),D.current!==null&&(D.current.innerHTML=k.outerHTML),g()},s.fn.endsWith("Promise")?W.startup.promise.then(function(){return W[R.fn](u,i(i({},(R==null?void 0:R.options)||{}),{display:!E}))}).then(L).catch(function(k){throw g(),Error(p(k))}):W.startup.promise.then(function(){var k=W[R.fn](u,i(i({},(R==null?void 0:R.options)||{}),{display:!E}));L(k)}).catch(function(k){throw g(),Error(p(k))})):W.startup.promise.then(function(){return W.typesetClear([D.current]),W.typesetPromise([D.current])}).then(g).catch(function(k){throw g(),Error(p(k))})}).catch(function(W){throw g(),Error(p(W))}):y.promise.then(function(W){W.Hub.Queue(["Typeset",W.Hub,D.current]),W.Hub.Queue(g)}).catch(function(W){throw g(),Error(p(W))}))}var V}),t.default.createElement("span",i({},C,{style:i(i({display:E?"inline":"block"},C.style),{visibility:M?"hidden":(_=C.style)==null?void 0:_.visibility}),ref:D}),P)};const v=l},52720:(K,f,e)=>{"use strict";e.d(f,{Z:()=>g,n:()=>p});var t=e(98661),a=function(){return(a=Object.assign||function(E){for(var S,O=1,A=arguments.length;O<A;O++)for(var u in S=arguments[O])Object.prototype.hasOwnProperty.call(S,u)&&(E[u]=S[u]);return E}).apply(this,arguments)},i,c,p=(0,t.createContext)(void 0),l="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",v="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",_=function(x){var S=x.config,O=x.version,O=O===void 0?3:O,A=x.src,A=A===void 0?O===2?l:v:A,u=x.onStartup,o=x.onLoad,s=x.onError,w=x.typesettingOptions,P=x.renderMode,P=P===void 0?"post":P,C=x.hideUntilTypeset,x=x.children,y=(0,t.useContext)(p);if((y==null?void 0:y.version)!==void 0&&(y==null?void 0:y.version)!==O)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(O===2&&c!==void 0||O===3&&i!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var D=(0,t.useRef)(y),y=(0,t.useRef)((y==null?void 0:y.version)||null);if(y.current===null)y.current=O;else if(y.current!==O)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var M=A||(O===2?l:v);function T(R,F){S&&(window.MathJax=S);var N=document.createElement("script");N.type="text/javascript",N.src=M,N.async=!1,N.addEventListener("load",function(){var U=window.MathJax;u&&u(U),R(U),o&&o()}),N.addEventListener("error",function(U){return F(U)}),document.getElementsByTagName("head")[0].appendChild(N)}return D.current===void 0&&(y={typesettingOptions:w,renderMode:P,hideUntilTypeset:C},O===2?i===void 0&&(typeof window!="undefined"?(i=new Promise(T)).catch(function(R){if(!s)throw Error("Failed to download MathJax version 2 from '".concat(M,"' due to: ").concat(R));s(R)}):(i=Promise.reject()).catch(function(R){})):c===void 0&&(typeof window!="undefined"?(c=new Promise(T)).catch(function(R){if(!s)throw Error("Failed to download MathJax version 3 from '".concat(M,"' due to: ").concat(R));s(R)}):(c=Promise.reject()).catch(function(R){})),D.current=a(a({},y),O===2?{version:2,promise:i}:{version:3,promise:c})),t.default.createElement(p.Provider,{value:D.current},x)};const g=_},21924:(K,f,e)=>{"use strict";var t=e(40210),a=e(55559),i=a(t("String.prototype.indexOf"));K.exports=function(p,l){var v=t(p,!!l);return typeof v=="function"&&i(p,".prototype.")>-1?a(v):v}},55559:(K,f,e)=>{"use strict";var t=e(58612),a=e(40210),i=a("%Function.prototype.apply%"),c=a("%Function.prototype.call%"),p=a("%Reflect.apply%",!0)||t.call(c,i),l=a("%Object.getOwnPropertyDescriptor%",!0),v=a("%Object.defineProperty%",!0),_=a("%Math.max%");if(v)try{v({},"a",{value:1})}catch(E){v=null}K.exports=function(S){var O=p(t,c,arguments);if(l&&v){var A=l(O,"length");A.configurable&&v(O,"length",{value:1+_(0,S.length-(arguments.length-1))})}return O};var g=function(){return p(t,i,arguments)};v?v(K.exports,"apply",{value:g}):K.exports.apply=g},94184:(K,f)=>{var e,t;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var a={}.hasOwnProperty;function i(){for(var c=[],p=0;p<arguments.length;p++){var l=arguments[p];if(l){var v=typeof l;if(v==="string"||v==="number")c.push(l);else if(Array.isArray(l)){if(l.length){var _=i.apply(null,l);_&&c.push(_)}}else if(v==="object")if(l.toString===Object.prototype.toString)for(var g in l)a.call(l,g)&&l[g]&&c.push(g);else c.push(l.toString())}}return c.join(" ")}K.exports?(i.default=i,K.exports=i):(e=[],t=function(){return i}.apply(f,e),t!==void 0&&(K.exports=t))})()},98767:K=>{K.exports=f;function f(t){if(t)return e(t)}function e(t){for(var a in f.prototype)t[a]=f.prototype[a];return t}f.prototype.on=f.prototype.addEventListener=function(t,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(a),this},f.prototype.once=function(t,a){function i(){this.off(t,i),a.apply(this,arguments)}return i.fn=a,this.on(t,i),this},f.prototype.off=f.prototype.removeListener=f.prototype.removeAllListeners=f.prototype.removeEventListener=function(t,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var c,p=0;p<i.length;p++)if(c=i[p],c===a||c.fn===a){i.splice(p,1);break}return i.length===0&&delete this._callbacks["$"+t],this},f.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),i=this._callbacks["$"+t],c=1;c<arguments.length;c++)a[c-1]=arguments[c];if(i){i=i.slice(0);for(var c=0,p=i.length;c<p;++c)i[c].apply(this,a)}return this},f.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},f.prototype.hasListeners=function(t){return!!this.listeners(t).length}},27484:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";var f="millisecond",e="second",t="minute",a="hour",i="day",c="week",p="month",l="quarter",v="year",_="date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},O=function(y,M,T){var R=String(y);return!R||R.length>=M?y:""+Array(M+1-R.length).join(T)+y},A={s:O,z:function(y){var M=-y.utcOffset(),T=Math.abs(M),R=Math.floor(T/60),F=T%60;return(M<=0?"+":"-")+O(R,2,"0")+":"+O(F,2,"0")},m:function y(M,T){if(M.date()<T.date())return-y(T,M);var R=12*(T.year()-M.year())+(T.month()-M.month()),F=M.clone().add(R,p),N=T-F<0,U=M.clone().add(R+(N?-1:1),p);return+(-(R+(T-F)/(N?F-U:U-F))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:p,y:v,w:c,d:i,D:_,h:a,m:t,s:e,ms:f,Q:l}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},u="en",o={};o[u]=S;var s=function(y){return y instanceof x},w=function(y,M,T){var R;if(!y)return u;if(typeof y=="string")o[y]&&(R=y),M&&(o[y]=M,R=y);else{var F=y.name;o[F]=y,R=F}return!T&&R&&(u=R),R||!T&&u},P=function(y,M){if(s(y))return y.clone();var T=typeof M=="object"?M:{};return T.date=y,T.args=arguments,new x(T)},C=A;C.l=w,C.i=s,C.w=function(y,M){return P(y,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var x=function(){function y(T){this.$L=w(T.locale,null,!0),this.parse(T)}var M=y.prototype;return M.parse=function(T){this.$d=function(R){var F=R.date,N=R.utc;if(F===null)return new Date(NaN);if(C.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var U=F.match(g);if(U){var V=U[2]-1||0,W=(U[7]||"0").substring(0,3);return N?new Date(Date.UTC(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)):new Date(U[1],V,U[3]||1,U[4]||0,U[5]||0,U[6]||0,W)}}return new Date(F)}(T),this.$x=T.x||{},this.init()},M.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},M.$utils=function(){return C},M.isValid=function(){return this.$d.toString()!=="Invalid Date"},M.isSame=function(T,R){var F=P(T);return this.startOf(R)<=F&&F<=this.endOf(R)},M.isAfter=function(T,R){return P(T)<this.startOf(R)},M.isBefore=function(T,R){return this.endOf(R)<P(T)},M.$g=function(T,R,F){return C.u(T)?this[R]:this.set(F,T)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(T,R){var F=this,N=!!C.u(R)||R,U=C.p(T),V=function(ee,$){var J=C.w(F.$u?Date.UTC(F.$y,$,ee):new Date(F.$y,$,ee),F);return N?J:J.endOf(i)},W=function(ee,$){return C.w(F.toDate()[ee].apply(F.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice($)),F)},L=this.$W,k=this.$M,H=this.$D,G="set"+(this.$u?"UTC":"");switch(U){case v:return N?V(1,0):V(31,11);case p:return N?V(1,k):V(0,k+1);case c:var q=this.$locale().weekStart||0,z=(L<q?L+7:L)-q;return V(N?H-z:H+(6-z),k);case i:case _:return W(G+"Hours",0);case a:return W(G+"Minutes",1);case t:return W(G+"Seconds",2);case e:return W(G+"Milliseconds",3);default:return this.clone()}},M.endOf=function(T){return this.startOf(T,!1)},M.$set=function(T,R){var F,N=C.p(T),U="set"+(this.$u?"UTC":""),V=(F={},F[i]=U+"Date",F[_]=U+"Date",F[p]=U+"Month",F[v]=U+"FullYear",F[a]=U+"Hours",F[t]=U+"Minutes",F[e]=U+"Seconds",F[f]=U+"Milliseconds",F)[N],W=N===i?this.$D+(R-this.$W):R;if(N===p||N===v){var L=this.clone().set(_,1);L.$d[V](W),L.init(),this.$d=L.set(_,Math.min(this.$D,L.daysInMonth())).$d}else V&&this.$d[V](W);return this.init(),this},M.set=function(T,R){return this.clone().$set(T,R)},M.get=function(T){return this[C.p(T)]()},M.add=function(T,R){var F,N=this;T=Number(T);var U=C.p(R),V=function(k){var H=P(N);return C.w(H.date(H.date()+Math.round(k*T)),N)};if(U===p)return this.set(p,this.$M+T);if(U===v)return this.set(v,this.$y+T);if(U===i)return V(1);if(U===c)return V(7);var W=(F={},F[t]=6e4,F[a]=36e5,F[e]=1e3,F)[U]||1,L=this.$d.getTime()+T*W;return C.w(L,this)},M.subtract=function(T,R){return this.add(-1*T,R)},M.format=function(T){var R=this;if(!this.isValid())return"Invalid Date";var F=T||"YYYY-MM-DDTHH:mm:ssZ",N=C.z(this),U=this.$locale(),V=this.$H,W=this.$m,L=this.$M,k=U.weekdays,H=U.months,G=function($,J,j,Z){return $&&($[J]||$(R,F))||j[J].substr(0,Z)},q=function($){return C.s(V%12||12,$,"0")},z=U.meridiem||function($,J,j){var Z=$<12?"AM":"PM";return j?Z.toLowerCase():Z},ee={YY:String(this.$y).slice(-2),YYYY:this.$y,M:L+1,MM:C.s(L+1,2,"0"),MMM:G(U.monthsShort,L,H,3),MMMM:G(H,L),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:G(U.weekdaysMin,this.$W,k,2),ddd:G(U.weekdaysShort,this.$W,k,3),dddd:k[this.$W],H:String(V),HH:C.s(V,2,"0"),h:q(1),hh:q(2),a:z(V,W,!0),A:z(V,W,!1),m:String(W),mm:C.s(W,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:N};return F.replace(E,function($,J){return J||ee[$]||N.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(T,R,F){var N,U=C.p(R),V=P(T),W=6e4*(V.utcOffset()-this.utcOffset()),L=this-V,k=C.m(this,V);return k=(N={},N[v]=k/12,N[p]=k,N[l]=k/3,N[c]=(L-W)/6048e5,N[i]=(L-W)/864e5,N[a]=L/36e5,N[t]=L/6e4,N[e]=L/1e3,N)[U]||L,F?k:C.a(k)},M.daysInMonth=function(){return this.endOf(p).$D},M.$locale=function(){return o[this.$L]},M.locale=function(T,R){if(!T)return this.$L;var F=this.clone(),N=w(T,R,!0);return N&&(F.$L=N),F},M.clone=function(){return C.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},y}(),D=x.prototype;return P.prototype=D,[["$ms",f],["$s",e],["$m",t],["$H",a],["$W",i],["$M",p],["$y",v],["$D",_]].forEach(function(y){D[y[1]]=function(M){return this.$g(M,y[0],y[1])}}),P.extend=function(y,M){return y.$i||(y(M,x,P),y.$i=!0),P},P.locale=w,P.isDayjs=s,P.unix=function(y){return P(1e3*y)},P.en=o[u],P.Ls=o,P.p={},P})},80790:function(K,f,e){(function(t,a){K.exports=a(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var a={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function i(p,l,v){var _=a[v];return Array.isArray(_)&&(_=_[l?0:1]),_.replace("%d",p)}var c={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4rz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez".split("_"),ordinal:function(p){return p+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i}};return t.locale(c,null,!0),c})},67763:function(K,f,e){(function(t,a){K.exports=a(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var a={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},ordinal:function(i){return i+"\xBA"}};return t.locale(a,null,!0),a})},96023:function(K,f,e){(function(t,a){K.exports=a(e(27484))})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var a={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(i){return""+i+(i===1?"er":"")}};return t.locale(a,null,!0),a})},28734:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e,t){var a=e.prototype,i=a.format;t.en.ordinal=function(c){var p=["th","st","nd","rd"],l=c%100;return"["+c+(p[(l-20)%10]||p[l]||p[0])+"]"},a.format=function(c){var p=this,l=this.$locale(),v=this.$utils(),_=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((p.$M+1)/3);case"Do":return l.ordinal(p.$D);case"gggg":return p.weekYear();case"GGGG":return p.isoWeekYear();case"wo":return l.ordinal(p.week(),"W");case"w":case"ww":return v.s(p.week(),g==="w"?1:2,"0");case"W":case"WW":return v.s(p.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return v.s(String(p.$H===0?24:p.$H),g==="k"?1:2,"0");case"X":return Math.floor(p.$d.getTime()/1e3);case"x":return p.$d.getTime();case"z":return"["+p.offsetName()+"]";case"zzz":return"["+p.offsetName("long")+"]";default:return g}});return i.bind(this)(_)}}})},90850:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e,t){var a=e.prototype,i=a.parse;a.parse=function(c){c.date=function(p){var l=p.date,v=p.utc;return Array.isArray(l)?v?l.length?new Date(Date.UTC.apply(null,l)):new Date:l.length===1?t(String(l[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(l))):l}.bind(this)(c),i.bind(this)(c)}}})},94712:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e,t){var a="h:mm A",i={lastDay:"[Yesterday at] "+a,sameDay:"[Today at] "+a,nextDay:"[Tomorrow at] "+a,nextWeek:"dddd [at] "+a,lastWeek:"[Last] dddd [at] "+a,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(c,p){var l=p||this.$locale().calendar||i,v=t(c||void 0).startOf("d"),_=this.diff(v,"d",!0),g=_<-6?"sameElse":_<-1?"lastWeek":_<0?"lastDay":_<1?"sameDay":_<2?"nextDay":_<7?"nextWeek":"sameElse",E=l[g]||i[g];return typeof E=="function"?E.call(this,t()):this.format(E)}}})},10285:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";var f={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(O,A){return O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(u,o,s){var w=s&&s.toUpperCase();return o||A[s]||f[s]||A[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,C,x){return C||x.slice(1)})})},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,p={},l=function(O){return function(A){this[O]=+A}},v=[/[+-]\d\d:?(\d\d)?/,function(O){(this.zone||(this.zone={})).offset=function(A){if(!A)return 0;var u=A.match(/([+-]|\d\d)/g),o=60*u[1]+(+u[2]||0);return o===0?0:u[0]==="+"?-o:o}(O)}],_=function(O){var A=p[O];return A&&(A.indexOf?A:A.s.concat(A.f))},g=function(O,A){var u,o=p.meridiem;if(o){for(var s=1;s<=24;s+=1)if(O.indexOf(o(s,0,A))>-1){u=s>12;break}}else u=O===(A?"pm":"PM");return u},E={A:[c,function(O){this.afternoon=g(O,!1)}],a:[c,function(O){this.afternoon=g(O,!0)}],S:[/\d/,function(O){this.milliseconds=100*+O}],SS:[a,function(O){this.milliseconds=10*+O}],SSS:[/\d{3}/,function(O){this.milliseconds=+O}],s:[i,l("seconds")],ss:[i,l("seconds")],m:[i,l("minutes")],mm:[i,l("minutes")],H:[i,l("hours")],h:[i,l("hours")],HH:[i,l("hours")],hh:[i,l("hours")],D:[i,l("day")],DD:[a,l("day")],Do:[c,function(O){var A=p.ordinal,u=O.match(/\d+/);if(this.day=u[0],A)for(var o=1;o<=31;o+=1)A(o).replace(/\[|\]/g,"")===O&&(this.day=o)}],M:[i,l("month")],MM:[a,l("month")],MMM:[c,function(O){var A=_("months"),u=(_("monthsShort")||A.map(function(o){return o.substr(0,3)})).indexOf(O)+1;if(u<1)throw new Error;this.month=u%12||u}],MMMM:[c,function(O){var A=_("months").indexOf(O)+1;if(A<1)throw new Error;this.month=A%12||A}],Y:[/[+-]?\d+/,l("year")],YY:[a,function(O){O=+O,this.year=O+(O>68?1900:2e3)}],YYYY:[/\d{4}/,l("year")],Z:v,ZZ:v},S=function(O,A,u){try{var o=function(k){for(var H=(k=e(k,p&&p.formats)).match(t),G=H.length,q=0;q<G;q+=1){var z=H[q],ee=E[z],$=ee&&ee[0],J=ee&&ee[1];H[q]=J?{regex:$,parser:J}:z.replace(/^\[|\]$/g,"")}return function(j){for(var Z={},ne=0,ie=0;ne<G;ne+=1){var oe=H[ne];if(typeof oe=="string")ie+=oe.length;else{var re=oe.regex,ae=oe.parser,se=j.substr(ie),fe=re.exec(se)[0];ae.call(Z,fe),j=j.replace(fe,"")}}return function(le){var Ae=le.afternoon;if(Ae!==void 0){var De=le.hours;Ae?De<12&&(le.hours+=12):De===12&&(le.hours=0),delete le.afternoon}}(Z),Z}}(A)(O),s=o.year,w=o.month,P=o.day,C=o.hours,x=o.minutes,D=o.seconds,y=o.milliseconds,M=o.zone,T=new Date,R=P||(s||w?1:T.getDate()),F=s||T.getFullYear(),N=0;s&&!w||(N=w>0?w-1:T.getMonth());var U=C||0,V=x||0,W=D||0,L=y||0;return M?new Date(Date.UTC(F,N,R,U,V,W,L+60*M.offset*1e3)):u?new Date(Date.UTC(F,N,R,U,V,W,L)):new Date(F,N,R,U,V,W,L)}catch(k){return new Date("")}};return function(O,A,u){u.p.customParseFormat=!0;var o=A.prototype,s=o.parse;o.parse=function(w){var P=w.date,C=w.utc,x=w.args;this.$u=C;var D=x[1];if(typeof D=="string"){var y=x[2]===!0,M=x[3]===!0,T=y||M,R=x[2];M&&(R=x[2]),p=this.$locale(),!y&&R&&(p=u.Ls[R]),this.$d=S(P,D,C),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),T&&P!==this.format(D)&&(this.$d=new Date("")),p={}}else if(D instanceof Array)for(var F=D.length,N=1;N<=F;N+=1){x[1]=D[N-1];var U=u.apply(this,x);if(U.isValid()){this.$d=U.$d,this.$L=U.$L,this.init();break}N===F&&(this.$d=new Date(""))}else s.call(this,w)}}})},92997:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e){e.prototype.dayOfYear=function(t){var a=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return t==null?a:this.add(t-a,"day")}}})},1646:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";var f,e,t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},c=function(S){return S instanceof E},p=function(S,O,A){return new E(S,A,O.$l)},l=function(S){return e.p(S)+"s"},v=function(S){return S<0},_=function(S){return v(S)?Math.ceil(S):Math.floor(S)},g=function(S,O){return S?v(S)?{negative:!0,format:""+function(A){return Math.abs(A)}(S)+O}:{negative:!1,format:""+S+O}:{negative:!1,format:""}},E=function(){function S(A,u,o){var s=this;if(this.$d={},this.$l=o,u)return p(A*i[l(u)],this);if(typeof A=="number")return this.$ms=A,this.parseFromMilliseconds(),this;if(typeof A=="object")return Object.keys(A).forEach(function(P){s.$d[l(P)]=A[P]}),this.calMilliseconds(),this;if(typeof A=="string"){var w=A.match(a);if(w)return this.$d.years=w[2],this.$d.months=w[3],this.$d.weeks=w[4],this.$d.days=w[5],this.$d.hours=w[6],this.$d.minutes=w[7],this.$d.seconds=w[8],this.calMilliseconds(),this}return this}var O=S.prototype;return O.calMilliseconds=function(){var A=this;this.$ms=Object.keys(this.$d).reduce(function(u,o){return u+(A.$d[o]||0)*i[o]},0)},O.parseFromMilliseconds=function(){var A=this.$ms;this.$d.years=_(A/31536e6),A%=31536e6,this.$d.months=_(A/2592e6),A%=2592e6,this.$d.days=_(A/864e5),A%=864e5,this.$d.hours=_(A/36e5),A%=36e5,this.$d.minutes=_(A/6e4),A%=6e4,this.$d.seconds=_(A/1e3),A%=1e3,this.$d.milliseconds=A},O.toISOString=function(){var A=g(this.$d.years,"Y"),u=g(this.$d.months,"M"),o=+this.$d.days||0;this.$d.weeks&&(o+=7*this.$d.weeks);var s=g(o,"D"),w=g(this.$d.hours,"H"),P=g(this.$d.minutes,"M"),C=this.$d.seconds||0;this.$d.milliseconds&&(C+=this.$d.milliseconds/1e3);var x=g(C,"S"),D=A.negative||u.negative||s.negative||w.negative||P.negative||x.negative,y=w.format||P.format||x.format?"T":"",M=(D?"-":"")+"P"+A.format+u.format+s.format+y+w.format+P.format+x.format;return M==="P"||M==="-P"?"P0D":M},O.toJSON=function(){return this.toISOString()},O.format=function(A){var u=A||"YYYY-MM-DDTHH:mm:ss",o={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return u.replace(t,function(s,w){return w||String(o[s])})},O.as=function(A){return this.$ms/i[l(A)]},O.get=function(A){var u=this.$ms,o=l(A);return o==="milliseconds"?u%=1e3:u=o==="weeks"?_(u/i[o]):this.$d[o],u===0?0:u},O.add=function(A,u,o){var s;return s=u?A*i[l(u)]:c(A)?A.$ms:p(A,this).$ms,p(this.$ms+s*(o?-1:1),this)},O.subtract=function(A,u){return this.add(A,u,!0)},O.locale=function(A){var u=this.clone();return u.$l=A,u},O.clone=function(){return p(this.$ms,this)},O.humanize=function(A){return f().add(this.$ms,"ms").locale(this.$l).fromNow(!A)},O.milliseconds=function(){return this.get("milliseconds")},O.asMilliseconds=function(){return this.as("milliseconds")},O.seconds=function(){return this.get("seconds")},O.asSeconds=function(){return this.as("seconds")},O.minutes=function(){return this.get("minutes")},O.asMinutes=function(){return this.as("minutes")},O.hours=function(){return this.get("hours")},O.asHours=function(){return this.as("hours")},O.days=function(){return this.get("days")},O.asDays=function(){return this.as("days")},O.weeks=function(){return this.get("weeks")},O.asWeeks=function(){return this.as("weeks")},O.months=function(){return this.get("months")},O.asMonths=function(){return this.as("months")},O.years=function(){return this.get("years")},O.asYears=function(){return this.as("years")},S}();return function(S,O,A){f=A,e=A().$utils(),A.duration=function(s,w){var P=A.locale();return p(s,{$l:P},w)},A.isDuration=c;var u=O.prototype.add,o=O.prototype.subtract;O.prototype.add=function(s,w){return c(s)&&(s=s.asMilliseconds()),u.bind(this)(s,w)},O.prototype.subtract=function(s,w){return c(s)&&(s=s.asMilliseconds()),o.bind(this)(s,w)}}})},66607:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e,t){e.prototype.isBetween=function(a,i,c,p){var l=t(a),v=t(i),_=(p=p||"()")[0]==="(",g=p[1]===")";return(_?this.isAfter(l,c):!this.isBefore(l,c))&&(g?this.isBefore(v,c):!this.isAfter(v,c))||(_?this.isBefore(l,c):!this.isAfter(l,c))&&(g?this.isAfter(v,c):!this.isBefore(v,c))}}})},10423:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e){e.prototype.isSameOrAfter=function(t,a){return this.isSame(t,a)||this.isAfter(t,a)}}})},37412:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e){e.prototype.isSameOrBefore=function(t,a){return this.isSame(t,a)||this.isBefore(t,a)}}})},96671:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";var f="month",e="quarter";return function(t,a){var i=a.prototype;i.quarter=function(l){return this.$utils().u(l)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(l-1))};var c=i.add;i.add=function(l,v){return l=Number(l),this.$utils().p(v)===e?this.add(3*l,f):c.bind(this)(l,v)};var p=i.startOf;i.startOf=function(l,v){var _=this.$utils(),g=!!_.u(v)||v;if(_.p(l)===e){var E=this.quarter()-1;return g?this.month(3*E).startOf(f).startOf("day"):this.month(3*E+2).endOf(f).endOf("day")}return p.bind(this)(l,v)}}})},84110:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e,t){f=f||{};var a=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(l,v,_,g){return a.fromToBase(l,v,_,g)}t.en.relativeTime=i,a.fromToBase=function(l,v,_,g,E){for(var S,O,A,u=_.$locale().relativeTime||i,o=f.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],s=o.length,w=0;w<s;w+=1){var P=o[w];P.d&&(S=g?t(l).diff(_,P.d,!0):_.diff(l,P.d,!0));var C=(f.rounding||Math.round)(Math.abs(S));if(A=S>0,C<=P.r||!P.r){C<=1&&w>0&&(P=o[w-1]);var x=u[P.l];E&&(C=E(""+C)),O=typeof x=="string"?x.replace("%d",C):x(C,v,P.l,A);break}}if(v)return O;var D=A?u.future:u.past;return typeof D=="function"?D(O):D.replace("%s",O)},a.to=function(l,v){return c(l,v,this,!0)},a.from=function(l,v){return c(l,v,this)};var p=function(l){return l.$u?t.utc():t()};a.toNow=function(l){return this.to(p(this),l)},a.fromNow=function(l){return this.from(p(this),l)}}})},29387:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";var f={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(t,a,i){var c,p=i().utcOffset(),l=function(E,S,O){O===void 0&&(O={});var A=new Date(E);return function(u,o){o===void 0&&(o={});var s=o.timeZoneName||"short",w=u+"|"+s,P=e[w];return P||(P=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:u,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),e[w]=P),P}(S,O).formatToParts(A)},v=function(E,S){for(var O=l(E,S),A=[],u=0;u<O.length;u+=1){var o=O[u],s=o.type,w=o.value,P=f[s];P>=0&&(A[P]=parseInt(w,10))}var C=A[3],x=C===24?0:C,D=A[0]+"-"+A[1]+"-"+A[2]+" "+x+":"+A[4]+":"+A[5]+":000",y=+E;return(i.utc(D).valueOf()-(y-=y%1e3))/6e4},_=a.prototype;_.tz=function(E,S){E===void 0&&(E=c);var O=this.utcOffset(),A=this.toDate().toLocaleString("en-US",{timeZone:E}),u=Math.round((this.toDate()-new Date(A))/1e3/60),o=i(A).$set("millisecond",this.$ms).utcOffset(p-u,!0);if(S){var s=o.utcOffset();o=o.add(O-s,"minute")}return o.$x.$timezone=E,o},_.offsetName=function(E){var S=this.$x.$timezone||i.tz.guess(),O=l(this.valueOf(),S,{timeZoneName:E}).find(function(A){return A.type.toLowerCase()==="timezonename"});return O&&O.value};var g=_.startOf;_.startOf=function(E,S){if(!this.$x||!this.$x.$timezone)return g.call(this,E,S);var O=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return g.call(O,E,S).tz(this.$x.$timezone,!0)},i.tz=function(E,S,O){var A=O&&S,u=O||S||c,o=v(+i(),u);if(typeof E!="string")return i(E).tz(u);var s=function(x,D,y){var M=x-60*D*1e3,T=v(M,y);if(D===T)return[M,D];var R=v(M-=60*(T-D)*1e3,y);return T===R?[M,T]:[x-60*Math.min(T,R)*1e3,Math.max(T,R)]}(i.utc(E,A).valueOf(),o,u),w=s[0],P=s[1],C=i(w).utcOffset(P);return C.$x.$timezone=u,C},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(E){c=E}}})},70178:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e,t){var a=e.prototype;t.utc=function(g){return new e({date:g,utc:!0,args:arguments})},a.utc=function(g){var E=t(this.toDate(),{locale:this.$L,utc:!0});return g?E.add(this.utcOffset(),"minute"):E},a.local=function(){return t(this.toDate(),{locale:this.$L,utc:!1})};var i=a.parse;a.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),i.call(this,g)};var c=a.init;a.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else c.call(this)};var p=a.utcOffset;a.utcOffset=function(g,E){var S=this.$utils().u;if(S(g))return this.$u?0:S(this.$offset)?p.call(this):this.$offset;var O=Math.abs(g)<=16?60*g:g,A=this;if(E)return A.$offset=O,A.$u=g===0,A;if(g!==0){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(O+u,"minute")).$offset=O,A.$x.$localOffset=u}else A=this.utc();return A};var l=a.format;a.format=function(g){var E=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,E)},a.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*g},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var v=a.toDate;a.toDate=function(g){return g==="s"&&this.$offset?t(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var _=a.diff;a.diff=function(g,E,S){if(g&&this.$u===g.$u)return _.call(this,g,E,S);var O=this.local(),A=t(g).local();return _.call(O,A,E,S)}}})},55183:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";var f="week",e="year";return function(t,a,i){var c=a.prototype;c.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var l=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var v=i(this).startOf(e).add(1,e).date(l),_=i(this).endOf(f);if(v.isBefore(_))return 1}var g=i(this).startOf(e).date(l).startOf(f).subtract(1,"millisecond"),E=this.diff(g,f,!0);return E<0?i(this).startOf("week").week():Math.ceil(E)},c.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})},6833:function(K){(function(f,e){K.exports=e()})(this,function(){"use strict";return function(f,e){e.prototype.weekday=function(t){var a=this.$locale().weekStart||0,i=this.$W,c=(i<a?i+7:i)-a;return this.$utils().u(t)?c:this.subtract(c,"day").add(t,"day")}}})},10251:(K,f,e)=>{var t=Array.prototype.slice,a=e(41705),i=e(45539),c=K.exports=function(_,g,E){return E||(E={}),_===g?!0:_ instanceof Date&&g instanceof Date?_.getTime()===g.getTime():!_||!g||typeof _!="object"&&typeof g!="object"?E.strict?_===g:_==g:v(_,g,E)};function p(_){return _==null}function l(_){return!(!_||typeof _!="object"||typeof _.length!="number"||typeof _.copy!="function"||typeof _.slice!="function"||_.length>0&&typeof _[0]!="number")}function v(_,g,E){var S,O;if(p(_)||p(g)||_.prototype!==g.prototype)return!1;if(i(_))return i(g)?(_=t.call(_),g=t.call(g),c(_,g,E)):!1;if(l(_)){if(!l(g)||_.length!==g.length)return!1;for(S=0;S<_.length;S++)if(_[S]!==g[S])return!1;return!0}try{var A=a(_),u=a(g)}catch(o){return!1}if(A.length!=u.length)return!1;for(A.sort(),u.sort(),S=A.length-1;S>=0;S--)if(A[S]!=u[S])return!1;for(S=A.length-1;S>=0;S--)if(O=A[S],!c(_[O],g[O],E))return!1;return typeof _==typeof g}},45539:(K,f)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";f=K.exports=e?t:a,f.supported=t;function t(i){return Object.prototype.toString.call(i)=="[object Arguments]"}f.unsupported=a;function a(i){return i&&typeof i=="object"&&typeof i.length=="number"&&Object.prototype.hasOwnProperty.call(i,"callee")&&!Object.prototype.propertyIsEnumerable.call(i,"callee")||!1}},41705:(K,f)=>{f=K.exports=typeof Object.keys=="function"?Object.keys:e,f.shim=e;function e(t){var a=[];for(var i in t)a.push(i);return a}},9996:K=>{"use strict";var f=function(w){return e(w)&&!t(w)};function e(s){return!!s&&typeof s=="object"}function t(s){var w=Object.prototype.toString.call(s);return w==="[object RegExp]"||w==="[object Date]"||c(s)}var a=typeof Symbol=="function"&&Symbol.for,i=a?Symbol.for("react.element"):60103;function c(s){return s.$$typeof===i}function p(s){return Array.isArray(s)?[]:{}}function l(s,w){return w.clone!==!1&&w.isMergeableObject(s)?u(p(s),s,w):s}function v(s,w,P){return s.concat(w).map(function(C){return l(C,P)})}function _(s,w){if(!w.customMerge)return u;var P=w.customMerge(s);return typeof P=="function"?P:u}function g(s){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s).filter(function(w){return s.propertyIsEnumerable(w)}):[]}function E(s){return Object.keys(s).concat(g(s))}function S(s,w){try{return w in s}catch(P){return!1}}function O(s,w){return S(s,w)&&!(Object.hasOwnProperty.call(s,w)&&Object.propertyIsEnumerable.call(s,w))}function A(s,w,P){var C={};return P.isMergeableObject(s)&&E(s).forEach(function(x){C[x]=l(s[x],P)}),E(w).forEach(function(x){O(s,x)||(S(s,x)&&P.isMergeableObject(w[x])?C[x]=_(x,P)(s[x],w[x],P):C[x]=l(w[x],P))}),C}function u(s,w,P){P=P||{},P.arrayMerge=P.arrayMerge||v,P.isMergeableObject=P.isMergeableObject||f,P.cloneUnlessOtherwiseSpecified=l;var C=Array.isArray(w),x=Array.isArray(s),D=C===x;return D?C?P.arrayMerge(s,w,P):A(s,w,P):l(w,P)}u.all=function(w,P){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(C,x){return u(C,x,P)},{})};var o=u;K.exports=o},39741:(K,f,e)=>{var t,a;(function(i,c){"use strict";t=c,a=typeof t=="function"?t.call(f,e,f,K):t,a!==void 0&&(K.exports=a)})(window,function(){"use strict";var c=function(){var p=window.Element.prototype;if(p.matches)return"matches";if(p.matchesSelector)return"matchesSelector";for(var l=["webkit","moz","ms","o"],v=0;v<l.length;v++){var _=l[v],g=_+"MatchesSelector";if(p[g])return g}}();return function(l,v){return l[c](v)}})},65987:K=>{"use strict";var f={single_source_shortest_paths:function(e,t,a){var i={},c={};c[t]=0;var p=f.PriorityQueue.make();p.push(t,0);for(var l,v,_,g,E,S,O,A,u;!p.empty();){l=p.pop(),v=l.value,g=l.cost,E=e[v]||{};for(_ in E)E.hasOwnProperty(_)&&(S=E[_],O=g+S,A=c[_],u=typeof c[_]=="undefined",(u||A>O)&&(c[_]=O,p.push(_,O),i[_]=v))}if(typeof a!="undefined"&&typeof c[a]=="undefined"){var o=["Could not find a path from ",t," to ",a,"."].join("");throw new Error(o)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var a=[],i=t,c;i;)a.push(i),c=e[i],i=e[i];return a.reverse(),a},find_path:function(e,t,a){var i=f.single_source_shortest_paths(e,t,a);return f.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(e){var t=f.PriorityQueue,a={},i;e=e||{};for(i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a.queue=[],a.sorter=e.sorter||t.default_sorter,a},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var a={value:e,cost:t};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};K.exports=f},17837:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.attributeNames=f.elementNames=void 0,f.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),f.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(K,f,e){"use strict";var t=this&&this.__assign||function(){return t=Object.assign||function(x){for(var D,y=1,M=arguments.length;y<M;y++){D=arguments[y];for(var T in D)Object.prototype.hasOwnProperty.call(D,T)&&(x[T]=D[T])}return x},t.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(x,D,y,M){M===void 0&&(M=y),Object.defineProperty(x,M,{enumerable:!0,get:function(){return D[y]}})}:function(x,D,y,M){M===void 0&&(M=y),x[M]=D[y]}),i=this&&this.__setModuleDefault||(Object.create?function(x,D){Object.defineProperty(x,"default",{enumerable:!0,value:D})}:function(x,D){x.default=D}),c=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var D={};if(x!=null)for(var y in x)y!=="default"&&Object.prototype.hasOwnProperty.call(x,y)&&a(D,x,y);return i(D,x),D};Object.defineProperty(f,"__esModule",{value:!0});var p=c(e(99960)),l=e(45863),v=e(17837),_=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function g(x,D){if(x)return Object.keys(x).map(function(y){var M,T,R=(M=x[y])!==null&&M!==void 0?M:"";return D.xmlMode==="foreign"&&(y=(T=v.attributeNames.get(y))!==null&&T!==void 0?T:y),!D.emptyAttrs&&!D.xmlMode&&R===""?y:y+'="'+(D.decodeEntities!==!1?l.encodeXML(R):R.replace(/"/g,"&quot;"))+'"'}).join(" ")}var E=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function S(x,D){D===void 0&&(D={});for(var y=("length"in x)?x:[x],M="",T=0;T<y.length;T++)M+=O(y[T],D);return M}f.default=S;function O(x,D){switch(x.type){case p.Root:return S(x.children,D);case p.Directive:case p.Doctype:return s(x);case p.Comment:return C(x);case p.CDATA:return P(x);case p.Script:case p.Style:case p.Tag:return o(x,D);case p.Text:return w(x,D)}}var A=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),u=new Set(["svg","math"]);function o(x,D){var y;D.xmlMode==="foreign"&&(x.name=(y=v.elementNames.get(x.name))!==null&&y!==void 0?y:x.name,x.parent&&A.has(x.parent.name)&&(D=t(t({},D),{xmlMode:!1}))),!D.xmlMode&&u.has(x.name)&&(D=t(t({},D),{xmlMode:"foreign"}));var M="<"+x.name,T=g(x.attribs,D);return T&&(M+=" "+T),x.children.length===0&&(D.xmlMode?D.selfClosingTags!==!1:D.selfClosingTags&&E.has(x.name))?(D.xmlMode||(M+=" "),M+="/>"):(M+=">",x.children.length>0&&(M+=S(x.children,D)),(D.xmlMode||!E.has(x.name))&&(M+="</"+x.name+">")),M}function s(x){return"<"+x.data+">"}function w(x,D){var y=x.data||"";return D.decodeEntities!==!1&&!(!D.xmlMode&&x.parent&&_.has(x.parent.name))&&(y=l.encodeXML(y)),y}function P(x){return"<![CDATA["+x.children[0].data+"]]>"}function C(x){return"<!--"+x.data+"-->"}},99960:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Doctype=f.CDATA=f.Tag=f.Style=f.Script=f.Comment=f.Directive=f.Text=f.Root=f.isTag=f.ElementType=void 0;var e;(function(a){a.Root="root",a.Text="text",a.Directive="directive",a.Comment="comment",a.Script="script",a.Style="style",a.Tag="tag",a.CDATA="cdata",a.Doctype="doctype"})(e=f.ElementType||(f.ElementType={}));function t(a){return a.type===e.Tag||a.type===e.Script||a.type===e.Style}f.isTag=t,f.Root=e.Root,f.Text=e.Text,f.Directive=e.Directive,f.Comment=e.Comment,f.Script=e.Script,f.Style=e.Style,f.Tag=e.Tag,f.CDATA=e.CDATA,f.Doctype=e.Doctype},47915:function(K,f,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(v,_,g,E){E===void 0&&(E=g),Object.defineProperty(v,E,{enumerable:!0,get:function(){return _[g]}})}:function(v,_,g,E){E===void 0&&(E=g),v[E]=_[g]}),a=this&&this.__exportStar||function(v,_){for(var g in v)g!=="default"&&!Object.prototype.hasOwnProperty.call(_,g)&&t(_,v,g)};Object.defineProperty(f,"__esModule",{value:!0}),f.DomHandler=void 0;var i=e(97790);a(e(97790),f);var c=/\s+/g,p={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},l=function(){function v(_,g,E){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof g=="function"&&(E=g,g=p),typeof _=="object"&&(g=_,_=void 0),this._callback=_!=null?_:null,this._options=g!=null?g:p,this._elementCB=E!=null?E:null}return v.prototype.onparserinit=function(_){this._parser=_},v.prototype.onreset=function(){var _;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(_=this._parser)!==null&&_!==void 0?_:null},v.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},v.prototype.onerror=function(_){this.handleCallback(_)},v.prototype.onclosetag=function(){this._lastNode=null;var _=this._tagStack.pop();!_||!this._parser||(this._options.withEndIndices&&(_.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(_))},v.prototype.onopentag=function(_,g){var E=new i.Element(_,g);this.addNode(E),this._tagStack.push(E)},v.prototype.ontext=function(_){var g=this._options.normalizeWhitespace,E=this._lastNode;if(E&&E.type==="text")g?E.data=(E.data+_).replace(c," "):E.data+=_;else{g&&(_=_.replace(c," "));var S=new i.Text(_);this.addNode(S),this._lastNode=S}},v.prototype.oncomment=function(_){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=_;return}var g=new i.Comment(_);this.addNode(g),this._lastNode=g},v.prototype.oncommentend=function(){this._lastNode=null},v.prototype.oncdatastart=function(){var _=new i.Text(""),g=new i.NodeWithChildren("cdata",[_]);this.addNode(g),_.parent=g,this._lastNode=_},v.prototype.oncdataend=function(){this._lastNode=null},v.prototype.onprocessinginstruction=function(_,g){var E=new i.ProcessingInstruction(_,g);this.addNode(E)},v.prototype.handleCallback=function(_){if(typeof this._callback=="function")this._callback(_,this.dom);else if(_)throw _},v.prototype.addNode=function(_){var g=this._tagStack[this._tagStack.length-1],E=g?g.children:this.dom,S=E[E.length-1];this._parser&&(this._options.withStartIndices&&(_.startIndex=this._parser.startIndex),this._options.withEndIndices&&(_.endIndex=this._parser.endIndex)),E.push(_),S&&(_.prev=S,S.next=_),g&&(_.parent=g),this._lastNode=null},v.prototype.addDataNode=function(_){this.addNode(_),this._lastNode=_},v}();f.DomHandler=l,f.default=l},97790:function(K,f){"use strict";var e=this&&this.__extends||function(){var O=function(A,u){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var w in s)Object.prototype.hasOwnProperty.call(s,w)&&(o[w]=s[w])},O(A,u)};return function(A,u){O(A,u);function o(){this.constructor=A}A.prototype=u===null?Object.create(u):(o.prototype=u.prototype,new o)}}(),t=this&&this.__assign||function(){return t=Object.assign||function(O){for(var A,u=1,o=arguments.length;u<o;u++){A=arguments[u];for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(O[s]=A[s])}return O},t.apply(this,arguments)};Object.defineProperty(f,"__esModule",{value:!0}),f.cloneNode=f.Element=f.NodeWithChildren=f.ProcessingInstruction=f.Comment=f.Text=f.DataNode=f.Node=void 0;var a=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),i=function(){function O(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(O.prototype,"nodeType",{get:function(){var A;return(A=a.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),O.prototype.cloneNode=function(A){return A===void 0&&(A=!1),E(this,A)},O}();f.Node=i;var c=function(O){e(A,O);function A(u,o){var s=O.call(this,u)||this;return s.data=o,s}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(u){this.data=u},enumerable:!1,configurable:!0}),A}(i);f.DataNode=c;var p=function(O){e(A,O);function A(u){return O.call(this,"text",u)||this}return A}(c);f.Text=p;var l=function(O){e(A,O);function A(u){return O.call(this,"comment",u)||this}return A}(c);f.Comment=l;var v=function(O){e(A,O);function A(u,o){var s=O.call(this,"directive",o)||this;return s.name=u,s}return A}(c);f.ProcessingInstruction=v;var _=function(O){e(A,O);function A(u,o){var s=O.call(this,u)||this;return s.children=o,s}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var u;return(u=this.children[0])!==null&&u!==void 0?u:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(u){this.children=u},enumerable:!1,configurable:!0}),A}(i);f.NodeWithChildren=_;var g=function(O){e(A,O);function A(u,o,s){s===void 0&&(s=[]);var w=O.call(this,u==="script"?"script":u==="style"?"style":"tag",s)||this;return w.name=u,w.attribs=o,w.attribs=o,w}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(u){this.name=u},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var u=this;return Object.keys(this.attribs).map(function(o){return{name:o,value:u.attribs[o]}})},enumerable:!1,configurable:!0}),A}(_);f.Element=g;function E(O,A){switch(A===void 0&&(A=!1),O.type){case"text":return new p(O.data);case"directive":{var u=O;return new v(u.name,u.data)}case"comment":return new l(O.data);case"tag":case"script":case"style":{var o=O,s=A?S(o.children):[],w=new g(o.name,t({},o.attribs),s);return s.forEach(function(x){return x.parent=w}),w}case"cdata":{var P=O,s=A?S(P.children):[],C=new _("cdata",s);return s.forEach(function(D){return D.parent=C}),C}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}f.cloneNode=E;function S(O){for(var A=O.map(function(o){return E(o,!0)}),u=1;u<A.length;u++)A[u].prev=A[u-1],A[u-1].next=A[u];return A}},16996:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.getFeed=void 0;var t=e(43346),a=e(23905);function i(A){var u=g(O,A);return u?u.name==="feed"?c(u):p(u):null}f.getFeed=i;function c(A){var u,o=A.children,s={type:"atom",items:(0,a.getElementsByTagName)("entry",o).map(function(C){var x,D=C.children,y={media:_(D)};S(y,"id","id",D),S(y,"title","title",D);var M=(x=g("link",D))===null||x===void 0?void 0:x.attribs.href;M&&(y.link=M);var T=E("summary",D)||E("content",D);T&&(y.description=T);var R=E("updated",D);return R&&(y.pubDate=new Date(R)),y})};S(s,"id","id",o),S(s,"title","title",o);var w=(u=g("link",o))===null||u===void 0?void 0:u.attribs.href;w&&(s.link=w),S(s,"description","subtitle",o);var P=E("updated",o);return P&&(s.updated=new Date(P)),S(s,"author","email",o,!0),s}function p(A){var u,o,s=(o=(u=g("channel",A.children))===null||u===void 0?void 0:u.children)!==null&&o!==void 0?o:[],w={type:A.name.substr(0,3),id:"",items:(0,a.getElementsByTagName)("item",A.children).map(function(C){var x=C.children,D={media:_(x)};S(D,"id","guid",x),S(D,"title","title",x),S(D,"link","link",x),S(D,"description","description",x);var y=E("pubDate",x);return y&&(D.pubDate=new Date(y)),D})};S(w,"title","title",s),S(w,"link","link",s),S(w,"description","description",s);var P=E("lastBuildDate",s);return P&&(w.updated=new Date(P)),S(w,"author","managingEditor",s,!0),w}var l=["url","type","lang"],v=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function _(A){return(0,a.getElementsByTagName)("media:content",A).map(function(u){for(var o=u.attribs,s={medium:o.medium,isDefault:!!o.isDefault},w=0,P=l;w<P.length;w++){var C=P[w];o[C]&&(s[C]=o[C])}for(var x=0,D=v;x<D.length;x++){var C=D[x];o[C]&&(s[C]=parseInt(o[C],10))}return o.expression&&(s.expression=o.expression),s})}function g(A,u){return(0,a.getElementsByTagName)(A,u,!0,1)[0]}function E(A,u,o){return o===void 0&&(o=!1),(0,t.textContent)((0,a.getElementsByTagName)(A,u,o,1)).trim()}function S(A,u,o,s,w){w===void 0&&(w=!1);var P=E(o,s,w);P&&(A[u]=P)}function O(A){return A==="rss"||A==="feed"||A==="rdf:RDF"}},74975:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.uniqueSort=f.compareDocumentPosition=f.removeSubsets=void 0;var t=e(63317);function a(p){for(var l=p.length;--l>=0;){var v=p[l];if(l>0&&p.lastIndexOf(v,l-1)>=0){p.splice(l,1);continue}for(var _=v.parent;_;_=_.parent)if(p.includes(_)){p.splice(l,1);break}}return p}f.removeSubsets=a;function i(p,l){var v=[],_=[];if(p===l)return 0;for(var g=(0,t.hasChildren)(p)?p:p.parent;g;)v.unshift(g),g=g.parent;for(g=(0,t.hasChildren)(l)?l:l.parent;g;)_.unshift(g),g=g.parent;for(var E=Math.min(v.length,_.length),S=0;S<E&&v[S]===_[S];)S++;if(S===0)return 1;var O=v[S-1],A=O.children,u=v[S],o=_[S];return A.indexOf(u)>A.indexOf(o)?O===l?20:4:O===p?10:2}f.compareDocumentPosition=i;function c(p){return p=p.filter(function(l,v,_){return!_.includes(l,v+1)}),p.sort(function(l,v){var _=i(l,v);return _&2?-1:_&4?1:0}),p}f.uniqueSort=c},89432:function(K,f,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(c,p,l,v){v===void 0&&(v=l),Object.defineProperty(c,v,{enumerable:!0,get:function(){return p[l]}})}:function(c,p,l,v){v===void 0&&(v=l),c[v]=p[l]}),a=this&&this.__exportStar||function(c,p){for(var l in c)l!=="default"&&!Object.prototype.hasOwnProperty.call(p,l)&&t(p,c,l)};Object.defineProperty(f,"__esModule",{value:!0}),f.hasChildren=f.isDocument=f.isComment=f.isText=f.isCDATA=f.isTag=void 0,a(e(43346),f),a(e(85010),f),a(e(26765),f),a(e(98043),f),a(e(23905),f),a(e(74975),f),a(e(16996),f);var i=e(63317);Object.defineProperty(f,"isTag",{enumerable:!0,get:function(){return i.isTag}}),Object.defineProperty(f,"isCDATA",{enumerable:!0,get:function(){return i.isCDATA}}),Object.defineProperty(f,"isText",{enumerable:!0,get:function(){return i.isText}}),Object.defineProperty(f,"isComment",{enumerable:!0,get:function(){return i.isComment}}),Object.defineProperty(f,"isDocument",{enumerable:!0,get:function(){return i.isDocument}}),Object.defineProperty(f,"hasChildren",{enumerable:!0,get:function(){return i.hasChildren}})},23905:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.getElementsByTagType=f.getElementsByTagName=f.getElementById=f.getElements=f.testElement=void 0;var t=e(63317),a=e(98043),i={tag_name:function(O){return typeof O=="function"?function(A){return(0,t.isTag)(A)&&O(A.name)}:O==="*"?t.isTag:function(A){return(0,t.isTag)(A)&&A.name===O}},tag_type:function(O){return typeof O=="function"?function(A){return O(A.type)}:function(A){return A.type===O}},tag_contains:function(O){return typeof O=="function"?function(A){return(0,t.isText)(A)&&O(A.data)}:function(A){return(0,t.isText)(A)&&A.data===O}}};function c(O,A){return typeof A=="function"?function(u){return(0,t.isTag)(u)&&A(u.attribs[O])}:function(u){return(0,t.isTag)(u)&&u.attribs[O]===A}}function p(O,A){return function(u){return O(u)||A(u)}}function l(O){var A=Object.keys(O).map(function(u){var o=O[u];return Object.prototype.hasOwnProperty.call(i,u)?i[u](o):c(u,o)});return A.length===0?null:A.reduce(p)}function v(O,A){var u=l(O);return u?u(A):!0}f.testElement=v;function _(O,A,u,o){o===void 0&&(o=1/0);var s=l(O);return s?(0,a.filter)(s,A,u,o):[]}f.getElements=_;function g(O,A,u){return u===void 0&&(u=!0),Array.isArray(A)||(A=[A]),(0,a.findOne)(c("id",O),A,u)}f.getElementById=g;function E(O,A,u,o){return u===void 0&&(u=!0),o===void 0&&(o=1/0),(0,a.filter)(i.tag_name(O),A,u,o)}f.getElementsByTagName=E;function S(O,A,u,o){return u===void 0&&(u=!0),o===void 0&&(o=1/0),(0,a.filter)(i.tag_type(O),A,u,o)}f.getElementsByTagType=S},26765:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.prepend=f.prependChild=f.append=f.appendChild=f.replaceElement=f.removeElement=void 0;function e(l){if(l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),l.parent){var v=l.parent.children;v.splice(v.lastIndexOf(l),1)}}f.removeElement=e;function t(l,v){var _=v.prev=l.prev;_&&(_.next=v);var g=v.next=l.next;g&&(g.prev=v);var E=v.parent=l.parent;if(E){var S=E.children;S[S.lastIndexOf(l)]=v}}f.replaceElement=t;function a(l,v){if(e(v),v.next=null,v.parent=l,l.children.push(v)>1){var _=l.children[l.children.length-2];_.next=v,v.prev=_}else v.prev=null}f.appendChild=a;function i(l,v){e(v);var _=l.parent,g=l.next;if(v.next=g,v.prev=l,l.next=v,v.parent=_,g){if(g.prev=v,_){var E=_.children;E.splice(E.lastIndexOf(g),0,v)}}else _&&_.children.push(v)}f.append=i;function c(l,v){if(e(v),v.parent=l,v.prev=null,l.children.unshift(v)!==1){var _=l.children[1];_.prev=v,v.next=_}else v.next=null}f.prependChild=c;function p(l,v){e(v);var _=l.parent;if(_){var g=_.children;g.splice(g.indexOf(l),0,v)}l.prev&&(l.prev.next=v),v.parent=_,v.prev=l.prev,v.next=l,l.prev=v}f.prepend=p},98043:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.findAll=f.existsOne=f.findOne=f.findOneChild=f.find=f.filter=void 0;var t=e(63317);function a(_,g,E,S){return E===void 0&&(E=!0),S===void 0&&(S=1/0),Array.isArray(g)||(g=[g]),i(_,g,E,S)}f.filter=a;function i(_,g,E,S){for(var O=[],A=0,u=g;A<u.length;A++){var o=u[A];if(_(o)&&(O.push(o),--S<=0))break;if(E&&(0,t.hasChildren)(o)&&o.children.length>0){var s=i(_,o.children,E,S);if(O.push.apply(O,s),S-=s.length,S<=0)break}}return O}f.find=i;function c(_,g){return g.find(_)}f.findOneChild=c;function p(_,g,E){E===void 0&&(E=!0);for(var S=null,O=0;O<g.length&&!S;O++){var A=g[O];if((0,t.isTag)(A))_(A)?S=A:E&&A.children.length>0&&(S=p(_,A.children));else continue}return S}f.findOne=p;function l(_,g){return g.some(function(E){return(0,t.isTag)(E)&&(_(E)||E.children.length>0&&l(_,E.children))})}f.existsOne=l;function v(_,g){for(var E,S=[],O=g.filter(t.isTag),A;A=O.shift();){var u=(E=A.children)===null||E===void 0?void 0:E.filter(t.isTag);u&&u.length>0&&O.unshift.apply(O,u),_(A)&&S.push(A)}return S}f.findAll=v},43346:function(K,f,e){"use strict";var t=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(f,"__esModule",{value:!0}),f.innerText=f.textContent=f.getText=f.getInnerHTML=f.getOuterHTML=void 0;var a=e(63317),i=t(e(97220)),c=e(99960);function p(E,S){return(0,i.default)(E,S)}f.getOuterHTML=p;function l(E,S){return(0,a.hasChildren)(E)?E.children.map(function(O){return p(O,S)}).join(""):""}f.getInnerHTML=l;function v(E){return Array.isArray(E)?E.map(v).join(""):(0,a.isTag)(E)?E.name==="br"?`
`:v(E.children):(0,a.isCDATA)(E)?v(E.children):(0,a.isText)(E)?E.data:""}f.getText=v;function _(E){return Array.isArray(E)?E.map(_).join(""):(0,a.hasChildren)(E)&&!(0,a.isComment)(E)?_(E.children):(0,a.isText)(E)?E.data:""}f.textContent=_;function g(E){return Array.isArray(E)?E.map(g).join(""):(0,a.hasChildren)(E)&&(E.type===c.ElementType.Tag||(0,a.isCDATA)(E))?g(E.children):(0,a.isText)(E)?E.data:""}f.innerText=g},85010:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.prevElementSibling=f.nextElementSibling=f.getName=f.hasAttrib=f.getAttributeValue=f.getSiblings=f.getParent=f.getChildren=void 0;var t=e(63317),a=[];function i(S){var O;return(O=S.children)!==null&&O!==void 0?O:a}f.getChildren=i;function c(S){return S.parent||null}f.getParent=c;function p(S){var O,A,u=c(S);if(u!=null)return i(u);for(var o=[S],s=S.prev,w=S.next;s!=null;)o.unshift(s),O=s,s=O.prev;for(;w!=null;)o.push(w),A=w,w=A.next;return o}f.getSiblings=p;function l(S,O){var A;return(A=S.attribs)===null||A===void 0?void 0:A[O]}f.getAttributeValue=l;function v(S,O){return S.attribs!=null&&Object.prototype.hasOwnProperty.call(S.attribs,O)&&S.attribs[O]!=null}f.hasAttrib=v;function _(S){return S.name}f.getName=_;function g(S){for(var O,A=S.next;A!==null&&!(0,t.isTag)(A);)O=A,A=O.next;return A}f.nextElementSibling=g;function E(S){for(var O,A=S.prev;A!==null&&!(0,t.isTag)(A);)O=A,A=O.prev;return A}f.prevElementSibling=E},63317:function(K,f,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(_,g,E,S){S===void 0&&(S=E);var O=Object.getOwnPropertyDescriptor(g,E);(!O||("get"in O?!g.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return g[E]}}),Object.defineProperty(_,S,O)}:function(_,g,E,S){S===void 0&&(S=E),_[S]=g[E]}),a=this&&this.__exportStar||function(_,g){for(var E in _)E!=="default"&&!Object.prototype.hasOwnProperty.call(g,E)&&t(g,_,E)};Object.defineProperty(f,"__esModule",{value:!0}),f.DomHandler=void 0;var i=e(99960),c=e(50943);a(e(50943),f);var p=/\s+/g,l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},v=function(){function _(g,E,S){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof E=="function"&&(S=E,E=l),typeof g=="object"&&(E=g,g=void 0),this.callback=g!=null?g:null,this.options=E!=null?E:l,this.elementCB=S!=null?S:null}return _.prototype.onparserinit=function(g){this.parser=g},_.prototype.onreset=function(){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},_.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},_.prototype.onerror=function(g){this.handleCallback(g)},_.prototype.onclosetag=function(){this.lastNode=null;var g=this.tagStack.pop();this.options.withEndIndices&&(g.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(g)},_.prototype.onopentag=function(g,E){var S=this.options.xmlMode?i.ElementType.Tag:void 0,O=new c.Element(g,E,void 0,S);this.addNode(O),this.tagStack.push(O)},_.prototype.ontext=function(g){var E=this.options.normalizeWhitespace,S=this.lastNode;if(S&&S.type===i.ElementType.Text)E?S.data=(S.data+g).replace(p," "):S.data+=g,this.options.withEndIndices&&(S.endIndex=this.parser.endIndex);else{E&&(g=g.replace(p," "));var O=new c.Text(g);this.addNode(O),this.lastNode=O}},_.prototype.oncomment=function(g){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment){this.lastNode.data+=g;return}var E=new c.Comment(g);this.addNode(E),this.lastNode=E},_.prototype.oncommentend=function(){this.lastNode=null},_.prototype.oncdatastart=function(){var g=new c.Text(""),E=new c.NodeWithChildren(i.ElementType.CDATA,[g]);this.addNode(E),g.parent=E,this.lastNode=g},_.prototype.oncdataend=function(){this.lastNode=null},_.prototype.onprocessinginstruction=function(g,E){var S=new c.ProcessingInstruction(g,E);this.addNode(S)},_.prototype.handleCallback=function(g){if(typeof this.callback=="function")this.callback(g,this.dom);else if(g)throw g},_.prototype.addNode=function(g){var E=this.tagStack[this.tagStack.length-1],S=E.children[E.children.length-1];this.options.withStartIndices&&(g.startIndex=this.parser.startIndex),this.options.withEndIndices&&(g.endIndex=this.parser.endIndex),E.children.push(g),S&&(g.prev=S,S.next=g),g.parent=E,this.lastNode=null},_}();f.DomHandler=v,f.default=v},50943:function(K,f,e){"use strict";var t=this&&this.__extends||function(){var y=function(M,T){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,F){R.__proto__=F}||function(R,F){for(var N in F)Object.prototype.hasOwnProperty.call(F,N)&&(R[N]=F[N])},y(M,T)};return function(M,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");y(M,T);function R(){this.constructor=M}M.prototype=T===null?Object.create(T):(R.prototype=T.prototype,new R)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(y){for(var M,T=1,R=arguments.length;T<R;T++){M=arguments[T];for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&(y[F]=M[F])}return y},a.apply(this,arguments)};Object.defineProperty(f,"__esModule",{value:!0}),f.cloneNode=f.hasChildren=f.isDocument=f.isDirective=f.isComment=f.isText=f.isCDATA=f.isTag=f.Element=f.Document=f.NodeWithChildren=f.ProcessingInstruction=f.Comment=f.Text=f.DataNode=f.Node=void 0;var i=e(99960),c=new Map([[i.ElementType.Tag,1],[i.ElementType.Script,1],[i.ElementType.Style,1],[i.ElementType.Directive,1],[i.ElementType.Text,3],[i.ElementType.CDATA,4],[i.ElementType.Comment,8],[i.ElementType.Root,9]]),p=function(){function y(M){this.type=M,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(y.prototype,"nodeType",{get:function(){var M;return(M=c.get(this.type))!==null&&M!==void 0?M:1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"parentNode",{get:function(){return this.parent},set:function(M){this.parent=M},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"previousSibling",{get:function(){return this.prev},set:function(M){this.prev=M},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"nextSibling",{get:function(){return this.next},set:function(M){this.next=M},enumerable:!1,configurable:!0}),y.prototype.cloneNode=function(M){return M===void 0&&(M=!1),x(this,M)},y}();f.Node=p;var l=function(y){t(M,y);function M(T,R){var F=y.call(this,T)||this;return F.data=R,F}return Object.defineProperty(M.prototype,"nodeValue",{get:function(){return this.data},set:function(T){this.data=T},enumerable:!1,configurable:!0}),M}(p);f.DataNode=l;var v=function(y){t(M,y);function M(T){return y.call(this,i.ElementType.Text,T)||this}return M}(l);f.Text=v;var _=function(y){t(M,y);function M(T){return y.call(this,i.ElementType.Comment,T)||this}return M}(l);f.Comment=_;var g=function(y){t(M,y);function M(T,R){var F=y.call(this,i.ElementType.Directive,R)||this;return F.name=T,F}return M}(l);f.ProcessingInstruction=g;var E=function(y){t(M,y);function M(T,R){var F=y.call(this,T)||this;return F.children=R,F}return Object.defineProperty(M.prototype,"firstChild",{get:function(){var T;return(T=this.children[0])!==null&&T!==void 0?T:null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"childNodes",{get:function(){return this.children},set:function(T){this.children=T},enumerable:!1,configurable:!0}),M}(p);f.NodeWithChildren=E;var S=function(y){t(M,y);function M(T){return y.call(this,i.ElementType.Root,T)||this}return M}(E);f.Document=S;var O=function(y){t(M,y);function M(T,R,F,N){F===void 0&&(F=[]),N===void 0&&(N=T==="script"?i.ElementType.Script:T==="style"?i.ElementType.Style:i.ElementType.Tag);var U=y.call(this,N,F)||this;return U.name=T,U.attribs=R,U}return Object.defineProperty(M.prototype,"tagName",{get:function(){return this.name},set:function(T){this.name=T},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"attributes",{get:function(){var T=this;return Object.keys(this.attribs).map(function(R){var F,N;return{name:R,value:T.attribs[R],namespace:(F=T["x-attribsNamespace"])===null||F===void 0?void 0:F[R],prefix:(N=T["x-attribsPrefix"])===null||N===void 0?void 0:N[R]}})},enumerable:!1,configurable:!0}),M}(E);f.Element=O;function A(y){return(0,i.isTag)(y)}f.isTag=A;function u(y){return y.type===i.ElementType.CDATA}f.isCDATA=u;function o(y){return y.type===i.ElementType.Text}f.isText=o;function s(y){return y.type===i.ElementType.Comment}f.isComment=s;function w(y){return y.type===i.ElementType.Directive}f.isDirective=w;function P(y){return y.type===i.ElementType.Root}f.isDocument=P;function C(y){return Object.prototype.hasOwnProperty.call(y,"children")}f.hasChildren=C;function x(y,M){M===void 0&&(M=!1);var T;if(o(y))T=new v(y.data);else if(s(y))T=new _(y.data);else if(A(y)){var R=M?D(y.children):[],F=new O(y.name,a({},y.attribs),R);R.forEach(function(W){return W.parent=F}),y.namespace!=null&&(F.namespace=y.namespace),y["x-attribsNamespace"]&&(F["x-attribsNamespace"]=a({},y["x-attribsNamespace"])),y["x-attribsPrefix"]&&(F["x-attribsPrefix"]=a({},y["x-attribsPrefix"])),T=F}else if(u(y)){var R=M?D(y.children):[],N=new E(i.ElementType.CDATA,R);R.forEach(function(L){return L.parent=N}),T=N}else if(P(y)){var R=M?D(y.children):[],U=new S(R);R.forEach(function(L){return L.parent=U}),y["x-mode"]&&(U["x-mode"]=y["x-mode"]),T=U}else if(w(y)){var V=new g(y.name,y.data);y["x-name"]!=null&&(V["x-name"]=y["x-name"],V["x-publicId"]=y["x-publicId"],V["x-systemId"]=y["x-systemId"]),T=V}else throw new Error("Not implemented yet: ".concat(y.type));return T.startIndex=y.startIndex,T.endIndex=y.endIndex,y.sourceCodeLocation!=null&&(T.sourceCodeLocation=y.sourceCodeLocation),T}f.cloneNode=x;function D(y){for(var M=y.map(function(R){return x(R,!0)}),T=1;T<M.length;T++)M[T].prev=M[T-1],M[T-1].next=M[T];return M}},62378:K=>{"use strict";K.exports=function(e){for(var t=[],a=e.length,i=0;i<a;i++){var c=e.charCodeAt(i);if(c>=55296&&c<=56319&&a>i+1){var p=e.charCodeAt(i+1);p>=56320&&p<=57343&&(c=(c-55296)*1024+p-56320+65536,i+=1)}if(c<128){t.push(c);continue}if(c<2048){t.push(c>>6|192),t.push(c&63|128);continue}if(c<55296||c>=57344&&c<65536){t.push(c>>12|224),t.push(c>>6&63|128),t.push(c&63|128);continue}if(c>=65536&&c<=1114111){t.push(c>>18|240),t.push(c>>12&63|128),t.push(c>>6&63|128),t.push(c&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}},44076:function(K,f,e){"use strict";var t=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(f,"__esModule",{value:!0}),f.decodeHTML=f.decodeHTMLStrict=f.decodeXML=void 0;var a=t(e(59323)),i=t(e(29591)),c=t(e(2586)),p=t(e(26)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;f.decodeXML=v(c.default),f.decodeHTMLStrict=v(a.default);function v(E){var S=g(E);return function(O){return String(O).replace(l,S)}}var _=function(E,S){return E<S?1:-1};f.decodeHTML=function(){for(var E=Object.keys(i.default).sort(_),S=Object.keys(a.default).sort(_),O=0,A=0;O<S.length;O++)E[A]===S[O]?(S[O]+=";?",A++):S[O]+=";";var u=new RegExp("&(?:"+S.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=g(a.default);function s(w){return w.substr(-1)!==";"&&(w+=";"),o(w)}return function(w){return String(w).replace(u,s)}}();function g(E){return function(O){if(O.charAt(1)==="#"){var A=O.charAt(2);return A==="X"||A==="x"?p.default(parseInt(O.substr(3),16)):p.default(parseInt(O.substr(2),10))}return E[O.slice(1,-1)]||O}}},26:function(K,f,e){"use strict";var t=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(f,"__esModule",{value:!0});var a=t(e(33600)),i=String.fromCodePoint||function(p){var l="";return p>65535&&(p-=65536,l+=String.fromCharCode(p>>>10&1023|55296),p=56320|p&1023),l+=String.fromCharCode(p),l};function c(p){return p>=55296&&p<=57343||p>1114111?"\uFFFD":(p in a.default&&(p=a.default[p]),i(p))}f.default=c},87322:function(K,f,e){"use strict";var t=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(f,"__esModule",{value:!0}),f.escapeUTF8=f.escape=f.encodeNonAsciiHTML=f.encodeHTML=f.encodeXML=void 0;var a=t(e(2586)),i=_(a.default),c=g(i);f.encodeXML=w(i);var p=t(e(59323)),l=_(p.default),v=g(l);f.encodeHTML=A(l,v),f.encodeNonAsciiHTML=w(l);function _(P){return Object.keys(P).sort().reduce(function(C,x){return C[P[x]]="&"+x+";",C},{})}function g(P){for(var C=[],x=[],D=0,y=Object.keys(P);D<y.length;D++){var M=y[D];M.length===1?C.push("\\"+M):x.push(M)}C.sort();for(var T=0;T<C.length-1;T++){for(var R=T;R<C.length-1&&C[R].charCodeAt(1)+1===C[R+1].charCodeAt(1);)R+=1;var F=1+R-T;F<3||C.splice(T,F,C[T]+"-"+C[R])}return x.unshift("["+C.join("")+"]"),new RegExp(x.join("|"),"g")}var E=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,S=String.prototype.codePointAt!=null?function(P){return P.codePointAt(0)}:function(P){return(P.charCodeAt(0)-55296)*1024+P.charCodeAt(1)-56320+65536};function O(P){return"&#x"+(P.length>1?S(P):P.charCodeAt(0)).toString(16).toUpperCase()+";"}function A(P,C){return function(x){return x.replace(C,function(D){return P[D]}).replace(E,O)}}var u=new RegExp(c.source+"|"+E.source,"g");function o(P){return P.replace(u,O)}f.escape=o;function s(P){return P.replace(c,O)}f.escapeUTF8=s;function w(P){return function(C){return C.replace(u,function(x){return P[x]||O(x)})}}},45863:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.decodeXMLStrict=f.decodeHTML5Strict=f.decodeHTML4Strict=f.decodeHTML5=f.decodeHTML4=f.decodeHTMLStrict=f.decodeHTML=f.decodeXML=f.encodeHTML5=f.encodeHTML4=f.escapeUTF8=f.escape=f.encodeNonAsciiHTML=f.encodeHTML=f.encodeXML=f.encode=f.decodeStrict=f.decode=void 0;var t=e(44076),a=e(87322);function i(_,g){return(!g||g<=0?t.decodeXML:t.decodeHTML)(_)}f.decode=i;function c(_,g){return(!g||g<=0?t.decodeXML:t.decodeHTMLStrict)(_)}f.decodeStrict=c;function p(_,g){return(!g||g<=0?a.encodeXML:a.encodeHTML)(_)}f.encode=p;var l=e(87322);Object.defineProperty(f,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(f,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(f,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(f,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(f,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(f,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(f,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var v=e(44076);Object.defineProperty(f,"decodeXML",{enumerable:!0,get:function(){return v.decodeXML}}),Object.defineProperty(f,"decodeHTML",{enumerable:!0,get:function(){return v.decodeHTML}}),Object.defineProperty(f,"decodeHTMLStrict",{enumerable:!0,get:function(){return v.decodeHTMLStrict}}),Object.defineProperty(f,"decodeHTML4",{enumerable:!0,get:function(){return v.decodeHTML}}),Object.defineProperty(f,"decodeHTML5",{enumerable:!0,get:function(){return v.decodeHTML}}),Object.defineProperty(f,"decodeHTML4Strict",{enumerable:!0,get:function(){return v.decodeHTMLStrict}}),Object.defineProperty(f,"decodeHTML5Strict",{enumerable:!0,get:function(){return v.decodeHTMLStrict}}),Object.defineProperty(f,"decodeXMLStrict",{enumerable:!0,get:function(){return v.decodeXML}})},14531:(K,f,e)=>{"use strict";e.d(f,{A:()=>t});const t={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Substitutions:()=>t});const t={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",SUBSCRIBE_URL:"%%subscribe_url%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(K,f,e)=>{"use strict";e.d(f,{B8:()=>U,BZ:()=>F,I:()=>P,O1:()=>V,Po:()=>N,Ui:()=>T,Vn:()=>M,WZ:()=>R,Wn:()=>C,b6:()=>y,lc:()=>x,sn:()=>D});var t=e(4605),a=e(3258),i=e(58884),c=e(39419),p=e.n(c),l=e(15045),v=e(70444),_=e(83322),g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(W,L,k)=>L in W?g(W,L,{enumerable:!0,configurable:!0,writable:!0,value:k}):W[L]=k,s=(W,L)=>{for(var k in L||(L={}))A.call(L,k)&&o(W,k,L[k]);if(O)for(var k of O(L))u.call(L,k)&&o(W,k,L[k]);return W},w=(W,L)=>E(W,S(L));function P(W,L,k){const{shareUrl:H,post:G,pub:q,selectionId:z,utm_campaign:ee,utm_medium:$,event:J=a.FP.SHARE_LINK_CLICKED}=k;(0,a.j)(J,w(s({name:W,post_id:G?G.id:null},z?{selection_id:z}:{}),{source:ee,utm_medium:$}));const j=L(H);j&&typeof j=="string"&&(j.startsWith("http")?window.open(j,"_blank"):document.location.href=j),(0,i.ex)(`${q==null?void 0:q.subdomain} shared`,!0)}function C(W){const{pub:L,post:k,sharingSelfPub:H,shareName:G}=W,q=(L==null?void 0:L.twitter_screen_name)||L&&_.twitterScreenNames[L.subdomain];let z=G;L&&H?z="I just started a Substack! You can subscribe to it here":(L&&!k&&(z=`Subscribe to ${z}`),q&&(!k||L&&(!k.publishedBylines.length||k.publishedBylines.some(ee=>ee.id===L.author_id)))&&(z+=`, by @${q}`)),P("twitter",ee=>(0,l.pathWithQuery)("https://twitter.com/share",{url:ee,text:z}),W)}function x(W){P("linkedin",L=>(0,l.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:L}),W)}function D(W){P("reddit",L=>(0,l.pathWithQuery)("https://www.reddit.com/submit/",{url:L,title:W.shareName}),W)}function y(W){P("hackernews",L=>(0,l.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:L,title:W.shareName}),W)}function M(W){P("pinterest",L=>(0,l.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:L,description:W.shareName}),W)}function T(W){var L;const{iString:k}=I18N.i(((L=W.pub)==null?void 0:L.language)||"en");P("copy",H=>((0,c.copyToClipboard)(H),!1),W),(0,t.ZP)(k("Link copied to clipboard"))}function R(W){P("email",L=>(0,l.pathWithQuery)("mailto:",{subject:W.shareName,body:L}),W)}function F(W){P("notes",L=>(0,l.pathWithQuery)((0,v.TK)({message:L})),W)}function N(W){P("facebook",L=>(0,l.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:L}),W)}function U(W={}){const{post:L,pub:k,profile:H}=W;return L?L.title:k?k.name:H?`${H.name} on Substack`:document.title}function V(W,L={}){const{pub:k,post:H,clip:G,comments:q,commentId:z,selectionId:ee,profile:$,user:J,utm_campaign:j,medium:Z,referral_token:ne,useCustomDomainOverOpen:ie}=L,oe=s(s({r:J!=null&&J.id?(0,_.userReferralKey)(J):ne,selection:ee,utm_campaign:j||(H?"post":$?"profile":k?"pub":G?"clip":"unknown"),utm_medium:Z||"web",utm_source:W},{comments:q!=null&&q.length?!0:void 0,commentId:z}),G?{clipId:G.id}:{});return k!=null&&k.subdomain&&(H!=null&&H.slug)&&!G?(0,l.getPostAppLinkUrl)(k.subdomain,H.slug,{params:oe,hostOverride:ie&&k.custom_domain?(0,l.getBaseUrl)(k):null}):(0,l.pathWithQuery)(`${H?(0,l.getPostUrl)(k,H,{comments:!!(q!=null&&q.length),commentId:z,clipId:G==null?void 0:G.id}):k?`${k.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,oe)}},35570:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(30396);const a=({root:i=null,threshold:c=0,rootMargin:p}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[l,v]=(0,t.eJ)(null),[_,g]=(0,t.eJ)(null),E=(0,t.sO)(new IntersectionObserver(([S])=>v(S),{root:i,threshold:c,rootMargin:p}));return(0,t.d4)(()=>{var S;const O=(S=_==null?void 0:_.base)!=null&&S.addEventListener?_.base:_!=null&&_.addEventListener?_:null,{current:A}=E;return A.disconnect(),O&&A.observe(O),()=>A.disconnect()},[_]),[g,l]}},56129:(K,f,e)=>{"use strict";e.d(f,{$4:()=>v,Sm:()=>A,cS:()=>P,nv:()=>S,om:()=>y,pA:()=>C,vM:()=>o});var t=e(16274),a=e(15045),i=e(3258),c=e(39419),p=e.n(c);const l=1900;class v extends t.sN{constructor(T,R){super(T);const F=this.spec.run;this.spec.run=(N,U,V,W)=>((0,i.j)(i.FP.EDITOR_MENU_ICON_CLICKED,{button:R||this.spec.label||this.spec.title}),F.call(this,N,U,V,W))}static fromMenuItem(T,R){const{spec:F}=T;return new v(F,R)}}const _="ProseMirror-prompt",g=`${_}-visible`;class E{constructor(T){this.options=T}read(T){return T.value}validate(T){return T=this.clean(T),!T&&this.options.required?"Required field":this.options.validate&&this.options.validate(T)}clean(T){return this.options.clean?this.options.clean(T):T}}class S extends E{render(){const T=document.createElement("input");return T.type="text",T.placeholder=this.options.label,T.value=this.options.value||"",T.className=this.options.className||"",T.autocomplete="off",T}}class O extends null{constructor(T){super(T)}render(){const T=document.createElement("select");T.value=this.options.value||"";const R=document.createElement("option");return R.textContent=this.options.label,R.value="",T.appendChild(R),this.options.options.forEach((F,N)=>{const U=document.createElement("option");U.textContent=F.label,U.value=String(N),T.appendChild(U)}),this.options.onChange&&T.addEventListener("change",()=>{const F=this.read(T);this.options.onChange(F)},!1),T}read(T){const R=this.options.options[T.value];return R&&R.value}}class A extends S{constructor(T,R){super({label:"Enter URL\u2026",className:"url-input",value:R||T&&T.mark.attrs.href||"",required:!0,clean:F=>{let N;return F?(N=F.trim(),N=N.startsWith("http")||N.startsWith("mailto")||/^%%.*%%$/.test(N)?N:`http://${N}`):N="",N},validate:F=>{if(!/^%%.*%%$/.test(F)){if(F.startsWith(`${(0,a.getBaseUrl)()}/publish/post/`)&&alert("This is a link to a post draft. Readers will not be able to access this page."),F.length>l)return"Link is too long";try{const N=new URL(F);if(["http:","https:","mailto:"].includes(N.protocol))return}catch(N){console.error("Failed to parse URL:",N)}return F.startsWith("http")?"Invalid URL":"Invalid URL. Try using http://"}}})}}function u(M,T){const{trackedName:R}=T,F={label:T.title,run:M};for(const N of Object.keys(T))F[N]=T[N];return(!T.enable||T.enable===!0)&&!T.select&&(F[T.enable?"enable":"select"]=N=>M(N)),new v(F,R)}function o(M,T){const{from:R,$from:F,to:N,empty:U}=M.selection;return U?T.isInSet(M.storedMarks||F.marks()):M.doc.rangeHasMark(R,N,T)}function s(M,T){const R={active(F){return o(F,M)},enable:!0};for(const F in T)R[F]=T[F];return u(toggleMark(M),R)}function w(M){return M==null?null:M.scrollHeight>M.clientHeight?M:w(M.parentElement)}function P(M){if(C(M))return;const T=`${_}-${M.parentClass}`,R=M.root||document.body,F=M.scrollParent&&document.querySelector&&document.querySelector(M.scrollParent)||w(R)||window,N=R.appendChild(document.createElement("div"));N.classList.add(_),M.className&&N.classList.add(M.className),N.id=T,(0,c.addClass)(document.body,g);const U=z=>{N.contains(z.target)||L()},V=()=>{var z;if(M.position)M.position(N,k);else{const ee=M.parentClass&&((z=document.querySelector)==null?void 0:z.call(document,`.${M.parentClass}`));if(ee){const $=ee.getBoundingClientRect();N.style.top=`${$.bottom+(M.offsetTop||0)}px`,N.style.left=`${$.left+(M.offsetLeft||0)}px`}else{const $=N.getBoundingClientRect();N.style.top=`${(window.innerHeight-$.height)/2+(M.offsetTop||0)}px`,N.style.left=`${(window.innerWidth-$.width)/2+(M.offsetLeft||0)}px`}}},W=z=>{z&&z.preventDefault();const ee=x(M.fields,H);ee&&L(ee)},L=z=>{(0,c.removeClass)(document.body,g),window.removeEventListener("mousedown",U),window.removeEventListener("resize",V,!1),F.removeEventListener("scroll",V,!1),N.parentNode&&N.parentNode.removeChild(N),z?(M.onSubmit&&M.onSubmit(z),M.callback&&M.callback(z)):M.onCancel&&M.onCancel(),M.onClose&&M.onClose()};setTimeout(()=>window.addEventListener("mousedown",U),50),window.addEventListener("resize",V,!1),F.addEventListener("scroll",V,!1);const k=N.appendChild(document.createElement("span"));k.className="head";const H=[];let G=0;for(const z in M.fields){G++;const ee=M.fields[z].render();ee.tabIndex=G,H.push(ee)}const q=N.appendChild(document.createElement("form"));if(M.title&&(q.appendChild(document.createElement("h5")).textContent=M.title),H.forEach(z=>{q.appendChild(document.createElement("div")).appendChild(z)}),!M.no_buttons){const z=document.createElement("button");z.type="submit",z.className=`${_}-submit`,z.textContent=M.submitText||"OK",z.addEventListener("click",W);const ee=document.createElement("button");ee.type="button",ee.className=`${_}-cancel`,ee.textContent="Cancel",ee.addEventListener("click",()=>L());const $=q.appendChild(document.createElement("div"));$.className=`${_}-buttons`,$.appendChild(z),$.appendChild(document.createTextNode(" ")),$.appendChild(ee)}if(M.footer&&q.appendChild(M.footer),M.openseaEmbedFooter&&q.appendChild(M.openseaEmbedFooter),V(),q.addEventListener("submit",W),M.onInput&&q.addEventListener("input",z=>{M.onInput(z,N)}),q.addEventListener("keydown",z=>{if(z.keyCode==27)z.preventDefault(),L();else if(z.keyCode==13&&!(z.ctrlKey||z.metaKey||z.shiftKey))z.preventDefault(),W();else if(z.keyCode==9&&(window.setTimeout(()=>{N.contains(document.activeElement)||L()},500),H.length>1)){for(let ee=0;ee<H.length;ee++)if(document.activeElement===H[ee]){ee===0&&z.shiftKey?(z.preventDefault(),H[H.length-1].focus()):ee===H.length-1&&!z.shiftKey&&(z.preventDefault(),H[0].focus());break}}}),q.elements.length>0){let z=q.elements[0];for(const ee of q.elements)if(!ee.value&&["INPUT","TEXTAREA"].includes(ee.nodeName)){z=ee;break}z.focus()}}function C(M){var T;const R=`${_}-${M.parentClass}`,F=document.getElementById(R);if(F){let N;return F.querySelector&&(N=F.querySelector(`.${_}-cancel`)),N?N.click():((T=F.parentNode)==null||T.removeChild(F),(0,c.removeClass)(document.body,g)),!0}}function x(M,T){const R={};let F=0;for(const N in M){const U=M[N],V=T[F++],W=U.read(V),L=U.validate(W);if(L)return D(V,L),null;R[N]=U.clean(W)}return R}function D(M,T){const R=M.parentNode,F=R.appendChild(document.createElement("div"));F.style.left=`${M.offsetLeft+M.offsetWidth+2}px`,F.style.top=`${M.offsetTop-5}px`,F.className="ProseMirror-invalid",F.textContent=T,setTimeout(()=>R.removeChild(F),1500)}function y(M,T){const R=M.selection.$from;for(let F=R.depth;F>=0;F--){const N=R.index(F);if(R.node(F).canReplaceWith(N,N,T))return!0}return!1}},36487:(K,f,e)=>{"use strict";e.d(f,{u:()=>a});var t=e(83322);function a(i){let c;try{c=new URL(i)}catch(v){return console.error("Failed to parse URL",i,v),i}c.hostname=c.hostname.replace(/^www\./,""),c.pathname=c.pathname.replace(/\/+$/,""),c.hash="";const p=[];c.hostname.includes("youtube")&&p.push("v"),c.searchParams.forEach((v,_)=>{p.includes(_)||c.searchParams.delete(_)});const l=c.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return l?(0,t.truncateText)(l,40):i}},55687:(K,f,e)=>{"use strict";e.d(f,{u:()=>a});const t=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function a(i){return t.format(i)}},80076:(K,f,e)=>{"use strict";e.d(f,{d:()=>t});function t(a){return Array.from(a.items).filter(i=>i.kind==="file"&&i.type.startsWith("image/")).length>0}},62952:(K,f,e)=>{"use strict";e.d(f,{h:()=>i});var t=e(30396),a=e(80076);function i({onAddFiles:c}){const p=(0,t.sO)(),l=(0,t.sO)(),[v,_]=(0,t.eJ)(!1),g=A=>{A instanceof DragEvent&&!A.defaultPrevented&&A.dataTransfer&&(0,a.d)(A.dataTransfer)&&(A.preventDefault(),c(Array.from(A.dataTransfer.files)),_(!1))},E=A=>{const{current:u}=p,{target:o}=A;!v&&u&&o&&o instanceof HTMLDivElement&&(u===o||u.contains(o))&&A.dataTransfer&&(0,a.d)(A.dataTransfer)&&(A.preventDefault(),l.current=o,_(!0))},S=A=>{l.current&&A.preventDefault()},O=A=>{const{current:u}=l;u&&A.relatedTarget!==u&&!u.contains(A.relatedTarget)&&(l.current=void 0,_(!1))};return{isDragging:v,props:{onDragEnter:E,onDragOver:S,onDragLeave:O,onDragEnd:O,onDrop:g,ref:p}}}},4070:(K,f,e)=>{"use strict";e.d(f,{Z:()=>k});var t=e(30396),a=e(45895),i=e(69578);function c(q){var z,ee;let $=0;if(q)if(q.content&&q.content.length>0)for(const J of q.content)$+=c(J);else $+=(ee=(z=q.text)==null?void 0:z.length)!=null?ee:0;return $}function p(q){let z=0;return(0,a.forEachNode)(q,ee=>{i.t.includes(ee.type)&&(ee.type==="codeBlock"?ee.content.forEach($=>{var J,j;$.type==="text"&&(z+=((j=((J=$.text)!=null?J:"").match(/\n/g))!=null?j:[]).length+1)}):z++)}),z}var l=e(83322),v=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,A=(q,z,ee)=>z in q?v(q,z,{enumerable:!0,configurable:!0,writable:!0,value:ee}):q[z]=ee,u=(q,z)=>{for(var ee in z||(z={}))S.call(z,ee)&&A(q,ee,z[ee]);if(E)for(var ee of E(z))O.call(z,ee)&&A(q,ee,z[ee]);return q},o=(q,z)=>_(q,g(z));function s(q,{limit:z=420}={}){var ee,$,J,j;let Z=null,ne=0,ie=!1;if(q)if(z<=0)ie=!0;else if(q.content&&q.content.length>0){Z=o(u({},q),{content:[]});for(const oe of q.content){const re=s(oe,{limit:z-ne});if(re.doc){if((ee=Z.content)==null||ee.push(re.doc),ne+=re.length,re.isTruncated){ie=!0;break}}else{ie=!0;break}}}else Z=o(u({},q),{text:($=(0,l.truncateText)(q.text,z))!=null?$:void 0}),ne+=(j=(J=Z.text)==null?void 0:J.length)!=null?j:0,q.text!==Z.text&&(ie=!0);return{doc:Z,length:ne,isTruncated:ie}}function w(q,z){var ee;const $=[];let J=!1,j=0;for(const ne of(ee=q.content)!=null?ee:[]){if(ne.type&&i.t.includes(ne.type)){if(j++,j===z){J=!0,$.push(ne);break}}else if(ne.content){const ie=w(ne,z-j);if(j+=ie.blockCount,ie.isTruncated){$.push(ie.doc),J=!0;break}}$.push(ne)}const Z=o(u({},q),{content:$});return q.text&&(Z.text=q.text.split(/\n/g).slice(0,z).join(`
`)),{doc:Z,blockCount:j,isTruncated:J}}var P=e(36487),C=Object.defineProperty,x=Object.defineProperties,D=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,R=(q,z,ee)=>z in q?C(q,z,{enumerable:!0,configurable:!0,writable:!0,value:ee}):q[z]=ee,F=(q,z)=>{for(var ee in z||(z={}))M.call(z,ee)&&R(q,ee,z[ee]);if(y)for(var ee of y(z))T.call(z,ee)&&R(q,ee,z[ee]);return q},N=(q,z)=>x(q,D(z));const U=420,V=380,W=9,L=12;function k(q,{characterTruncationLimit:z=U,characterTruncationThreshold:ee=V,lineTruncationLimit:$=W,lineTruncationThreshold:J=L}={}){return(0,t.Ye)(()=>{var j;const Z=(j=q==null?void 0:q.body_json)!=null?j:q!=null&&q.body?H(q.body):null,ne=G(Z),ie=c(ne)>ee,oe=p(ne)>J;if(!ne||!(ie||oe))return{bodyJson:ne,truncatedBodyJson:ne,isTruncated:!1};let re=ne,ae=!1;if(ie){const fe=s(re,{limit:z});re=fe.doc,ae=fe.isTruncated}let se=!1;if(oe&&re){const fe=w(re,$);re=fe.doc,se=fe.isTruncated}return{bodyJson:ne,truncatedBodyJson:re,isTruncated:ae||se}},[q==null?void 0:q.body,q==null?void 0:q.body_json])}function H(q){return{type:"doc",attrs:{schemaVersion:"v1"},content:q.split(`

`).map(z=>({type:"paragraph",content:[{type:"text",text:z}]}))}}function G(q){var z,ee;let $=null;if(q)if($=N(F({},q),{content:void 0,text:void 0}),q!=null&&q.content){$.content=[];for(const J of q.content){const j=G(J);j&&$.content.push(j)}}else{const J=(z=q.marks)==null?void 0:z.find(j=>j.type==="link");(ee=J==null?void 0:J.attrs)!=null&&ee.href?$.text=(0,P.u)(J.attrs.href):$.text=q.text}return $}},41487:(K,f,e)=>{"use strict";e.d(f,{Q:()=>l});var t=e(30396),a=e(76193),i=e(39419),c=e.n(i),p=(v,_,g)=>new Promise((E,S)=>{var O=o=>{try{u(g.next(o))}catch(s){S(s)}},A=o=>{try{u(g.throw(o))}catch(s){S(s)}},u=o=>o.done?E(o.value):Promise.resolve(o.value).then(O,A);u((g=g.apply(v,_)).next())});function l(v){const[_,g]=(0,t.eJ)(""),[E,S]=(0,t.eJ)(""),[O,A]=(0,t.eJ)({}),[u,o]=(0,t.eJ)(!1);return(0,t.d4)(()=>{(0,a.isMobile)()&&navigator.share&&navigator.canShare(O)&&o(!0)},[O]),(0,t.d4)(()=>{function s(){return p(this,null,function*(){g("");const w=v.imageUrl;if((0,i.preloadImage)(v.imageUrl,()=>{g(w),S(v.imageDownloadUrl)}),(0,a.isMobile)()){const P=yield fetch(v.imageUrlSameOrigin||w);A({title:v.shareTitle,text:v.shareText,files:[new File([yield P.blob()],"image.png",{type:"image/png"})],url:v.shareUrl})}})}s()},[v.imageDownloadUrl,v.imageUrl,v.shareText,v.shareTitle,v.shareUrl]),{img:_,imgDownload:E,shareData:O,useNativeShare:u}}},95582:(K,f,e)=>{"use strict";e.d(f,{L:()=>i});var t=e(30396),a=(c,p,l)=>new Promise((v,_)=>{var g=O=>{try{S(l.next(O))}catch(A){_(A)}},E=O=>{try{S(l.throw(O))}catch(A){_(A)}},S=O=>O.done?v(O.value):Promise.resolve(O.value).then(g,E);S((l=l.apply(c,p)).next())});function i(c,p){const[l,v]=(0,t._Y)(c,p),_=(0,t.sO)(l);_.current=l;const g=(0,t.Ye)(()=>E=>a(this,null,function*(){if(typeof E=="function")return yield E(g,()=>_.current);v(E)}),[]);return[l,g]}},20964:(K,f,e)=>{"use strict";e.d(f,{M:()=>i});var t=e(26686);function a(){return(0,t._)("/api/v1/user-settings")}function i(){var c,p;const{data:l}=a();return(p=l==null?void 0:l.userSettings.some(v=>v.type==="explicit_content_enabled"&&v.value_bool))!=null?p:typeof window!="undefined"?(c=window._preloads)==null?void 0:c.userSettings.explicitContentEnabled:!1}},92298:(K,f,e)=>{"use strict";e.d(f,{j:()=>_,l:()=>g});var t=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(E,S,O)=>S in E?t(E,S,{enumerable:!0,configurable:!0,writable:!0,value:O}):E[S]=O,l=(E,S)=>{for(var O in S||(S={}))i.call(S,O)&&p(E,O,S[O]);if(a)for(var O of a(S))c.call(S,O)&&p(E,O,S[O]);return E};let v={};function _(E){v=l({},E)}function g(){return l({},v)}},8461:(K,f,e)=>{"use strict";e.d(f,{IU:()=>v});var t=e(15045),a=e(83322),i=e(86405),c=e(28876),p=e(32081);function l(S,O,{quantity:A=1,plan:u,isSubscription:o,coupon:s}){var w;const P=(S/100).toFixed(2),C=(S/A/100).toFixed(2);O=O.toUpperCase(),v();const x=getConfig(),D=getPublicationFbPixelId();D&&(new Image().src=`https://www.facebook.com/tr?id=${D}&ev=Purchase&cd[value]=${P}&cd[currency]=${O}`),D&&o&&(new Image().src=`https://www.facebook.com/tr?id=${D}&ev=Subscribe&cd[value]=${P}&cd[currency]=${O}`),recordTwitterEvent("purchase",{price:Number(C),quantity:A});const y=randomString(),M=((w=u.amount)!=null?w:0)*A;let T;s&&s.percent_off?T=Math.round(M*((s.percent_off_precise||s.percent_off)/100)):s&&s.amount_off&&(T=Math.max(0,s.amount_off));const R=u.name;sendPublisherGa4Event("purchase",{transaction_id:y,value:P,currency:O,coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),items:[{item_id:u&&u.id,item_name:u&&(R||u.nickname||u.id)||"subscription",coupon:(s==null?void 0:s.name)||(s==null?void 0:s.id),discount:T,index:0,price:C,quantity:A}]}),sendPublisherGaEvent("transaction",{ti:y,tr:P,cu:O}),sendPublisherGaEvent("item",{ti:y,in:u&&(R||u.nickname||u.id)||"subscription",ip:C,iq:A,ic:u&&u.id,cu:O});const F="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",x!=null&&x.adwordsAccountId&&(x!=null&&x.adwordsEventSendTo)?{send_to:`${x.adwordsAccountId}/${F}`}:{});const N=g();if(N){const{id:U,label:V}=N;new Image().src=`//www.googleadservices.com/pagead/conversion/${U}/?value=${P}&currency_code=${O}&label=${V}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${u&&(R||u.nickname||u.id)||""} Subscription`),E()==="bankless"){const U=u?`paid_${u.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:U})),page()}}function v(){const S=(0,c.iE)();if(S.properties.is_free_subscribed)return;S.properties.is_free_subscribed=!0,(0,c.Hx)("sign_up"),(0,c.XY)("event",{ec:"Signup",ea:"Signup Success"});const O="Yo9oCMOM1MYDEKuN5pYB";(0,c.NA)("conversion",S!=null&&S.adwordsAccountId&&(S!=null&&S.adwordsEventSendTo)?{send_to:`${S.adwordsAccountId}/${O}`}:{});const A=(0,c.xL)();A&&(new Image().src=`https://www.facebook.com/tr?id=${A}&ev=CompleteRegistration`),(0,i.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),E()==="bankless"&&(window.history.replaceState({},document.title,(0,t.updateQuery)({plan:"free"})),(0,p.Md)())}function _(S={}){sendLocalGaEvent("Publication Created",S)}function g(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function E(){var S,O;const A=typeof window!="undefined"&&((S=window._preloads)==null?void 0:S.pub);return((O=A==null?void 0:A.parent_publication)==null?void 0:O.subdomain)||(A==null?void 0:A.subdomain)}},3258:(K,f,e)=>{"use strict";e.d(f,{A:()=>i.A,FP:()=>i.FP,IU:()=>t.IU,K8:()=>i.K8,XY:()=>a.XY,j:()=>i.j,jA:()=>i.jA,jJ:()=>i.jJ,uF:()=>c.S,x6:()=>i.x6,xG:()=>i.xG});var t=e(8461),a=e(28876),i=e(32081),c=e(31256)},31256:(K,f,e)=>{"use strict";e.d(f,{S:()=>l});var t=e(39419),a=e.n(t),i=e(28876),c=e(32081);let p=null;function l(){var v;typeof window!="undefined"&&((v=window==null?void 0:window.navigator)!=null&&v.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,i.LH)(),(0,i.dl)(),(0,i.jP)(),(0,c.Md)(),(0,t.windowReady)(()=>{const _=p;p=null,_&&_.length>0&&(0,c.At)(_)})}},31032:(K,f,e)=>{"use strict";e.d(f,{W:()=>a});var t=e(83322);const a=(0,t.randomString)()},28876:(K,f,e)=>{"use strict";e.d(f,{Hx:()=>s,LH:()=>C,NA:()=>w,XY:()=>P,dl:()=>u,iE:()=>o,jP:()=>x,xL:()=>y});var t=e(15045),a=e(39776),i=e(39419),c=e.n(i),p=e(31032),l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(M,T,R)=>T in M?l(M,T,{enumerable:!0,configurable:!0,writable:!0,value:R}):M[T]=R,S=(M,T)=>{for(var R in T||(T={}))_.call(T,R)&&E(M,R,T[R]);if(v)for(var R of v(T))g.call(T,R)&&E(M,R,T[R]);return M};function O(M,{toHead:T=!1}={}){(0,i.windowReady)(()=>{const R=document.createElement("script");if(R.async=!0,R.src=M,T)document.head.appendChild(R);else{const F=document.getElementsByTagName("script")[0];F.parentNode&&F.parentNode.insertBefore(R,F)}})}function A(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function u(){var M,T,R;if(typeof window=="undefined")return;const F=(T=(M=window==null?void 0:window._preloads)==null?void 0:M.pub)==null?void 0:T.google_tag_manager_token;if(!F)return;const N=A();if(F===N)return;window.dataLayer=window.dataLayer||[],(0,a.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const U=o();(R=U.user)!=null&&R.id&&window.dataLayer.push({userId:U.user.id.toString()}),O(`https://www.googletagmanager.com/gtm.js?id=${F}`,{toHead:!0})}function o(){let M;return typeof window!="undefined"&&(M=window._analyticsConfig),M||(M={}),M.properties||(M.properties={}),M.properties.browserSessionId=p.W,M}function s(M,T={}){var R;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const F=o();(R=F.user)!=null&&R.id&&(T.user_id=F.user.id.toString()),window.publisherGA4gtag("event",M,T)}function w(M,T){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",M,T)}function P(M,T={}){var R;const F=o(),N=D();if(!N)return;const U=(0,t.parseQuery)(window.location.href);T=Object.assign({v:1,t:M,tid:N,cid:F.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:U.utm_campaign,cs:U.utm_source,cm:U.utm_medium,ck:U.utm_term,cc:U.utm_content,ci:U.utm_id},T),(R=F.user)!=null&&R.id&&(T.uid=F.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,t.serializeQuery)(T)}`}function C(){var M;if(typeof window=="undefined")return;const T=A();if(!T)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var F;(F=window.GA4DataLayer)==null||F.push(arguments)},window.publisherGA4gtag("js",new Date);const R=o();window.publisherGA4gtag("config",T,S({send_page_view:!1},R.user&&{user_id:(M=R==null?void 0:R.user)==null?void 0:M.id.toString()}))}function x(){var M;if(typeof window=="undefined")return;const T=o();!T.localGaPixelId&&!T.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var R;(R=window==null?void 0:window.localGaDataLayer)==null||R.push(arguments)},window.gtag("js",new Date),T.localGaPixelId&&window.gtag("config",T.localGaPixelId),T.adwordsAccountId&&window.gtag("config",T.adwordsAccountId),(M=T.user)!=null&&M.id&&window.gtag("userId",T.user.id.toString()),O(`https://www.googletagmanager.com/gtag/js?id=${T.localGaPixelId||T.adwordsAccountId}&l=localGaDataLayer`))}function D(){const M=typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id;return M&&M.startsWith("UA-")?null:M}function y(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(K,f,e)=>{"use strict";e.d(f,{A:()=>T,At:()=>G,FP:()=>C,K8:()=>W,Md:()=>k,j:()=>R,jA:()=>L,jJ:()=>N,x6:()=>F,xG:()=>V});var t=e(85928),a=e.n(t),i=e(44043),c=e(15045),p=e(63830),l=e(86405),v=e(39419),_=e.n(v),g=e(92298),E=e(31032),S=e(28876),O=Object.defineProperty,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(z,ee,$)=>ee in z?O(z,ee,{enumerable:!0,configurable:!0,writable:!0,value:$}):z[ee]=$,w=(z,ee)=>{for(var $ in ee||(ee={}))u.call(ee,$)&&s(z,$,ee[$]);if(A)for(var $ of A(ee))o.call(ee,$)&&s(z,$,ee[$]);return z},P;const C=i.F,x=10,D=typeof window!="undefined"&&window!=window.top&&(0,p.l)(v.uuidV4);let y="browser";typeof window!="undefined"&&(navigator.standalone||(P=window.matchMedia)!=null&&P.call(window,"(display-mode: standalone)").matches)&&(y="standalone");const M=null;function T(){return D}function R(z,ee={}){var $;if(["development","test"].includes(($="production")!=null?$:"")&&!z)throw new Error("`undefined` event passed to FRONTEND track call");H(z,Object.assign({},ee))}function F(z,ee,$={}){R(C.PUBLICATION_VISITED,w({visited_publication_id:z.id,visited_publication_subdomain:z.subdomain,source:ee},$))}function N({post:z,hasPaywall:ee,surface:$,markRead:J}){R(C.POST_SEEN,{post_id:z.id,post_audience:z.audience,post_type:z.type,has_paywall:ee,post_age_minutes:z.post_date&&a()().diff(z.post_date,"minute"),surface:$}),J&&U(z.id)}function U(z){return fetch(`/api/v1/posts/${z}/seen`,{method:"POST"})}function V({post:z,hasPaywall:ee,surface:$}){R(C.POST_BOTTOM_SEEN,{post_id:z.id,post_audience:z.audience,post_type:z.type,has_paywall:ee,surface:$})}function W({post:z}){z!=null&&z.id&&(R(C.POST_PAGE_PINGBACK,{seconds:0,post_id:z.id}),setTimeout(()=>{R(C.POST_PAGE_PINGBACK,{seconds:10,post_id:z.id})},1e4))}function L({previous:z,url:ee}){z&&(ee.includes("_no_an=true")||k())}function k(z={}){var ee,$;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&(($=(ee=window==null?void 0:window._preloads)==null?void 0:ee.pub)!=null&&$.embed_tracking_disabled))return;H(C.PAGES,Object.assign(q(),z));const J=(0,S.xL)();J&&(new Image().src=`https://www.facebook.com/tr?id=${J}&ev=PageView`),(0,l.g)("pageview"),(0,S.XY)("pageview"),(0,S.Hx)("page_view"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function H(z,ee={}){var $,J;if(typeof window=="undefined")return;const j={event:z,properties:Object.assign({browserSessionId:E.W,iframeVisitId:D,r:(0,c.getQueryItem)("r")},ee),context:{client_type:"web",displayMode:y,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,g.l)()}},Z=(0,v.base64encode)(JSON.stringify(j));M&&M.length<x?M.push(Z):new Image().src=(0,c.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:Z}),(J=($=window==null?void 0:window._preloads)==null?void 0:$.user)!=null&&J.is_global_admin&&console.log(`EVENT: ${z}`,ee)}function G(z){typeof window!="undefined"&&(new Image().src=(0,c.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:z.join(",")}))}function q(){const z={};if(typeof window!="undefined"){const ee=window._preloads&&window._preloads.post,$=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);$&&ee&&$[1]===ee.slug&&(z.post_id=ee.id,z.post_audience=ee.audience,z.post_type=ee.type)}return z}},33816:(K,f,e)=>{"use strict";var t=e(80569),a=e.n(t),i=(l,v,_)=>new Promise((g,E)=>{var S=u=>{try{A(_.next(u))}catch(o){E(o)}},O=u=>{try{A(_.throw(u))}catch(o){E(o)}},A=u=>u.done?g(u.value):Promise.resolve(u.value).then(S,O);A((_=_.apply(l,v)).next())});function c(l){return i(this,arguments,function*({postId:v}){yield request.post(`/api/v1/drafts/${v}/to_editor1`)})}function p(l){return i(this,arguments,function*({postId:v}){yield request.post(`/api/v1/drafts/${v}/to_editor2`)})}},66141:(K,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(15103),a=e(48583),i=e(95495),c=e(3258),p=e(85928),l=e.n(p),v=e(58884);const _=()=>{},g=(0,i.xu)(O=>(0,t.cn)({key:O,value:!1}));function E(O,A=null,u=_){const[o,s]=(0,a.KO)(g(O));if(!O)return[!0,_];const w=()=>{u(),(0,c.j)(c.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:O});const C=new Date;(0,v.ex)(O,C.toString()),s({key:O,value:!0})};return[o.value||S(O,A),w]}function S(O,A){let u;const o=typeof window=="undefined"?new Date().toString():(0,v.mM)(O);return o&&A?u=l()(o).add(A,"second").isAfterNow():u=!!o,u}},66219:(K,f,e)=>{"use strict";e.d(f,{z:()=>v});var t=e(30396),a=e(80569),i=e.n(a),c=e(39419),p=e.n(c),l=(_,g,E)=>new Promise((S,O)=>{var A=s=>{try{o(E.next(s))}catch(w){O(w)}},u=s=>{try{o(E.throw(s))}catch(w){O(w)}},o=s=>s.done?S(s.value):Promise.resolve(s.value).then(A,u);o((E=E.apply(_,g)).next())});const v=({mediaUploadId:_})=>{const[g,E]=(0,t.eJ)(null),[S,O]=(0,t.eJ)(!0),[A,u]=(0,t.eJ)(null);return(0,t.d4)(()=>{_?(()=>l(void 0,null,function*(){try{const s=yield i().get(`/api/v1/video/upload/${_}`);E(s.body),O(!1)}catch(s){console.error("Failed to load media upload:",s),u((0,c.getNetworkErrorMessage)(s)),O(!1)}}))():(E(null),O(!1))},[_,A]),{mediaUpload:g,loading:S,error:A}}},63030:(K,f,e)=>{"use strict";e.r(f),e.d(f,{getNewPubPodcastSettings:()=>s,getNewSectionPodcastSettings:()=>u,getPodcastEpisodeImageUrl:()=>w,getPubPodcastSettings:()=>o,getSectionPodcastSettings:()=>A});var t=e(15045),a=e(83322),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(P,C,x)=>C in P?i(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,E=(P,C)=>{for(var x in C||(C={}))v.call(C,x)&&g(P,x,C[x]);if(l)for(var x of l(C))_.call(C,x)&&g(P,x,C[x]);return P},S=(P,C)=>c(P,p(C));const O=P=>{if(!P)return[];const C=[];for(const x of P){if(C.length===2)break;const D=x.toLowerCase();for(const[y,M]of Object.entries(a.PODCAST_CATEGORIES)){if(C.length===2)break;if(y.toLowerCase()===D||y.toLowerCase().split(" & ").includes(D)){C.push({category:y});break}for(const T of M){if(C.length===2)break;if(T.toLowerCase()===D||T.toLowerCase().split(" & ").includes(D)){C.push({category:y,subcategory:T});break}}}}return C},A=({pub:P,section:C})=>{var x,D,y,M,T,R,F,N;const U=C==null?void 0:C.podcastSettings,V=(D=(x=U==null?void 0:U.podcast_title)!=null?x:C==null?void 0:C.name)!=null?D:null,W=(M=(y=U==null?void 0:U.podcast_description)!=null?y:C==null?void 0:C.description)!=null?M:null,L=(T=U==null?void 0:U.itunes_podcast_primary_category)!=null?T:null,k=(R=U==null?void 0:U.itunes_podcast_primary_subcategory)!=null?R:null,H=(F=U==null?void 0:U.itunes_podcast_secondary_category)!=null?F:null,G=(N=U==null?void 0:U.itunes_podcast_secondary_subcategory)!=null?N:null,q=(U==null?void 0:U.itunes_explicit)||!1,z=(U==null?void 0:U.podcast_art_url)||(0,t.getDefaultPodcastArtUrlCDN)(),ee=(U==null?void 0:U.paid_podcast_episode_art_url)||null,$=(U==null?void 0:U.podcast_byline)||P.podcast_byline||P.author_name||"",J=(U==null?void 0:U.language)||P.podcast_language||"",j=!!U&&!!U.podcast_feed_url,Z=j?U.podcast_feed_url:(0,t.getPodcastRssUrl)({pub:S(E({},P),{section:C})});return{title:V,description:W,primaryCategory:L,primarySubcategory:k,secondaryCategory:H,secondarySubcategory:G,isExplicit:q,artUrl:z,byline:$,language:J,isRedirected:j,podcastRssUrl:Z,paidEpisodeArtUrl:ee}},u=({pub:P,section:C})=>{var x,D;const y=(x=C==null?void 0:C.name)!=null?x:null,M=(D=C==null?void 0:C.description)!=null?D:null,T=null,R=null,F=null,N=null,U=!1,V=(0,t.getDefaultPodcastArtUrlCDN)(),W=P.podcast_byline||P.author_name||"",L=P.podcast_language||"";return{title:y,description:M,primaryCategory:T,primarySubcategory:R,secondaryCategory:F,secondarySubcategory:N,isExplicit:U,artUrl:V,byline:W,language:L,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},o=({pub:P})=>{var C,x;const D=P.podcast_title||P.name,y=P.podcast_description||P.hero_text,M=P.itunes_podcast_primary_category,T=P.itunes_podcast_primary_subcategory,R=P.itunes_podcast_secondary_category,F=P.itunes_podcast_secondary_subcategory,N=(C=P.itunes_explicit)!=null?C:!1,U=P.podcast_art_url||(0,t.getDefaultPodcastArtUrlCDN)(),V=P.podcast_byline||P.author_name,W=P.podcast_language||"",L=!!P.show_pub_podcast_tab,k=!!P.podcast_feed_url,H=E({},P);delete H.section;const G=k?P.podcast_feed_url:(0,t.getPodcastRssUrl)({pub:H});return{title:D,description:y,primaryCategory:M,primarySubcategory:T,secondaryCategory:R,secondarySubcategory:F,isExplicit:N,artUrl:U,byline:V,language:W,isRedirected:k,podcastRssUrl:G,showPodcastTab:L,paidEpisodeArtUrl:(x=P.paid_podcast_episode_art_url)!=null?x:null}},s=({pub:P,publication:C})=>{var x,D,y;const[M,T]=O(C.tags.map(({canonical_name:z})=>z)),R=`${P.name} Podcast`,F=P.hero_text,N=M==null?void 0:M.category,U=(x=M==null?void 0:M.subcategory)!=null?x:null,V=T==null?void 0:T.category,W=(D=T==null?void 0:T.subcategory)!=null?D:null,L=P.explicit||!1,k=(0,t.getDefaultPodcastArtUrlCDN)(),H=P.author_name;return{title:R,description:F,primaryCategory:N,primarySubcategory:U,secondaryCategory:V,secondarySubcategory:W,isExplicit:L,artUrl:k,byline:H,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(y=P.paid_podcast_episode_art_url)!=null?y:null}};function w(P,C){return(C==null?void 0:C.cover_image)||(C==null?void 0:C.podcast_art_url)||(P==null?void 0:P.podcast_art_url)}},69229:(K,f,e)=>{"use strict";e.d(f,{b:()=>c});var t=e(85928),a=e.n(t);function i(p){var l;return`${[p.is_primary,((l=p.publication)==null?void 0:l.author_id)===p.user_id,p.role==="admin",p.role==="contributor"].map(_=>_?"0":"1").join("")}-${a()(p.created_at).valueOf()}`}function c(p){return p.slice(0).sort((l,v)=>i(l)>i(v)?1:-1)}},16527:(K,f,e)=>{"use strict";e.d(f,{Q:()=>a});var t=e(20042);function a(i,c,{native:p=!1,newTab:l=!1}={}){i.defaultPrevented||(i.preventDefault(),p?l||i.metaKey||i.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:c}).click():window.location.assign(c):(0,t.route)(c))}},86405:(K,f,e)=>{"use strict";e.d(f,{g:()=>v});var t=e(20501);const a=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,i=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,c=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,p=(_,g=null)=>{const E=a();if(!E)return;const S={p_id:"Twitter",p_user_id:0,txn_id:E,events:JSON.stringify([[_,g]]),tw_sale_amount:(g==null?void 0:g.value)||0,tw_order_quantity:(g==null?void 0:g.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};l(S)},l=_=>{new Image().src=`https://t.co/i/adsct?${(0,t.serializeQuery)(_)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,t.serializeQuery)(_)}`},v=(_,{quantity:g,price:E}={})=>{if(_==="purchase"){const S=c();S&&typeof window.twq=="function"&&window.twq("event",S),p("purchase",{num_items:g,value:E})}else if(_==="signup"){const S=i();S&&typeof window.twq=="function"&&window.twq("event",S),p("signup")}else p("pageview")}},8479:(K,f,e)=>{"use strict";e.d(f,{NL:()=>U,Q1:()=>R,Wf:()=>y,do:()=>D,ib:()=>N,kp:()=>W,rd:()=>V,x8:()=>M});var t=e(30396),a=e(28599),i=e.n(a),c=e(73955),p=e.n(c),l=e(80569),v=e.n(l),_=e(39419),g=e.n(_),E=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(H,G,q)=>G in H?E(H,G,{enumerable:!0,configurable:!0,writable:!0,value:q}):H[G]=q,w=(H,G)=>{for(var q in G||(G={}))u.call(G,q)&&s(H,q,G[q]);if(A)for(var q of A(G))o.call(G,q)&&s(H,q,G[q]);return H},P=(H,G)=>S(H,O(G)),C=(H,G)=>{var q={};for(var z in H)u.call(H,z)&&G.indexOf(z)<0&&(q[z]=H[z]);if(H!=null&&A)for(var z of A(H))G.indexOf(z)<0&&o.call(H,z)&&(q[z]=H[z]);return q},x=(H,G,q)=>new Promise((z,ee)=>{var $=Z=>{try{j(q.next(Z))}catch(ne){ee(ne)}},J=Z=>{try{j(q.throw(Z))}catch(ne){ee(ne)}},j=Z=>Z.done?z(Z.value):Promise.resolve(Z.value).then($,J);j((q=q.apply(H,G)).next())});const D={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function y(H,G,{auto:q,initialResult:z}={}){const[ee,$]=(0,t.eJ)({result:z||null,isLoading:!!q,hasLoadedOnce:!1,error:null,promise:null}),J=()=>{$(P(w({},ee),{error:null}))},j=(ne={})=>{var ie=ne,{abortController:oe=new(i())}=ie,re=C(ie,["abortController"]);const ae=H(P(w({},re),{signal:oe.signal})).then(se=>{if(!oe.signal.aborted)return $({isLoading:!1,hasLoadedOnce:!0,error:null,result:se,promise:null}),se},se=>{if(!oe.signal.aborted)return console.error("There was an error fetching resource",se),$(fe=>P(w({},fe),{isLoading:!1,error:se,result:null,promise:null})),se});return $(se=>P(w({},se),{isLoading:!0,error:null,promise:ae})),ae},Z=ne=>{$(ie=>P(w({},ie),{error:null,result:ne,isLoading:!1,promise:null}))};return(0,t.d4)(()=>{if(q){const ne=new(i());return j({abortController:ne}),()=>{ne.abort()}}},G||[]),P(w({},ee),{refetch:j,setResult:Z,clearError:J})}function M(H,G){switch(G.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const q=H.slice(),{page:z,id:ee}=G.payload;return q[z]={result:null,id:ee,isLoading:!0,error:null},q}case"page_load":{const{id:q,result:z}=G.payload;return H.map(ee=>ee.id===q?P(w({},ee),{isLoading:!1,result:z,error:null}):ee)}case"page_error":{const{id:q,error:z}=G.payload;return H.map(ee=>ee.id===q?P(w({},ee),{isLoading:!1,result:null,error:z}):ee)}}return H}function T(H,G,{auto:q,initialResult:z,pages:ee,dispatch:$}={}){var J;const[j,Z]=(0,t._Y)(M,[{result:z||null,isLoading:!!q,error:null}]),ne=ee!=null?ee:j,ie=$!=null?$:Z,oe=(le={})=>{var Ae=le,{abortController:De=new(i()),page:je=ne.length}=Ae,Je=C(Ae,["abortController","page"]);const Be=ne[je-1],st=p()();return ie({type:"page_start",payload:{page:je,id:st}}),H({options:Je,signal:De.signal,page:je,lastPage:Be}).then(ht=>{if(!De.signal.aborted)return ie({type:"page_load",payload:{page:je,id:st,result:ht}}),ht},ht=>{if(!De.signal.aborted)return ie({type:"page_error",payload:{page:je,id:st,error:ht}}),ht})},re=le=>(ie({type:"page_reset"}),oe(P(w({},le),{page:0})));(0,t.d4)(()=>{if(q){const le=new(i());return re({abortController:le}),()=>{le.abort()}}},G||[]);let ae=!1;const se=()=>x(this,null,function*(){if(!ae){const le=ne[ne.length-1];if(!le.isLoading&&!le.error)return ae=!0,yield oe()}}),fe=ne[ne.length-1];return{pages:ne,page:ne.length,lastPage:fe,fetchMore:se,canFetchMore:fe&&!fe.isLoading&&!fe.error,fetchFirstPage:re,hasLoadedOnce:!!((J=ne[0])!=null&&J.result)}}function R(H){var G=H,{auto:q,initialResult:z,deps:ee}=G,$=C(G,["auto","initialResult","deps"]);return y(J=>x(this,null,function*(){var j=J,{signal:Z}=j,ne=C(j,["signal"]);const{pathname:ie="",query:oe,body:re,method:ae="get"}=w(w({},$),ne),se=v()(ae.toUpperCase(),ie);oe&&se.query(oe),re&&se.send(re),Z.addEventListener("abort",()=>{se.abort()});const fe=yield se;if(Z.aborted)return;const le=fe.error;if(le)throw le;return fe.body}),ee||[],{auto:q,initialResult:z})}const F=new Map;function N(H){var G=H,{pathname:q,auto:z,initialResult:ee,deps:$,cacheTtl:J}=G,j=C(G,["pathname","auto","initialResult","deps","cacheTtl"]);const Z=y(ie=>{var oe=ie,{pathname:re}=oe,ae=C(oe,["pathname"]);if(!q)throw new Error("useFetch requires a pathname");if(J){const fe=F.get(q);if(fe){const{ts:le,ttl:Ae,promise:De}=fe;if(le+Ae>Date.now())return De}}const se=V(re!=null?re:q,w(w({},j),ae));return J&&F.set(q,{ts:Date.now(),ttl:J,promise:se}),se},$||[],{auto:z,initialResult:ee}),ne=ie=>{q&&J&&F.set(q,{ts:Date.now(),ttl:J,promise:Promise.resolve(ie)}),Z.setResult(ie)};return P(w({},Z),{setResult:ne})}function U(H){var G=H,{pathname:q,auto:z,initialResult:ee,deps:$,getPageInit:J,pages:j,dispatch:Z}=G,ne=C(G,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return T(({page:ie,lastPage:oe,options:re})=>{if(!q)throw new Error("useFetch requires a pathname");const ae=J({init:w(w({},ne),re),page:ie,lastPage:oe});return V(q,ae)},$||[],{auto:z,initialResult:ee,pages:j,dispatch:Z})}function V(H){return x(this,arguments,function*(G,q={}){var z;const $=w({cache:"no-cache"},q),{query:J,json:j}=$,Z=C($,["query","json"]);let ne=G;if(J){let oe;J instanceof URLSearchParams?oe=J:oe=new URLSearchParams(Object.entries(J).reduce((ae,[se,fe])=>(fe!==void 0&&(Array.isArray(fe)?fe.forEach(le=>{le!==void 0&&ae.push([se,le])}):ae.push([se,fe])),ae),[]));const re=oe.toString();re&&(G.indexOf("?")!==-1?ne+=`&${re}`:ne+=`?${re}`)}j&&(Z.body=JSON.stringify(j),Z.headers instanceof Headers||(Z.headers=new Headers(Z.headers)),Z.headers.set("Content-Type","application/json"));const ie=yield fetch(ne,Z);if(!ie.ok){let oe;try{oe=yield ie.json()}catch(re){oe={}}throw new W(ie,oe)}return["DELETE","HEAD"].includes((z=Z==null?void 0:Z.method)!=null?z:"")?{}:ie.json()})}class W extends Error{constructor(G,q){super(),this.response=G,this.body=q}getMessage(G){return(0,_.getNetworkErrorMessageFromResponse)(this.body,G)}}function L(H,G="Something went wrong."){return H instanceof W?H.getMessage():G}function k(H,G,q){const[z,ee]=useState(null);return useCallback((...$)=>{clearTimeout(z),ee(null),ee(setTimeout(()=>H(...$),G))},[z,...q])}},11533:(K,f,e)=>{"use strict";e.d(f,{j:()=>i});var t=e(30396),a=e(20042);function i(p,l){(0,t.d4)(()=>{const v=_=>{p(_)};return a.subscribers.push(v),()=>{a.subscribers.splice(a.subscribers.indexOf(v)>>>0,1)}},l)}function c({path:p}={}){const[l,v]=useState({}),_=useRef(null);i(S=>{_.current=S,v({})},[]);const g=_.current||getCurrentUrl(),E=g.replace(/\?.+$/,"");return _.current=null,[{url:g,path:E,matches:p&&exec(E,p,{})||null},route]}},26686:(K,f,e)=>{"use strict";e.d(f,{_:()=>_});var t=e(83757),a=e(8479),i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(g,E)=>{var S={};for(var O in g)c.call(g,O)&&E.indexOf(O)<0&&(S[O]=g[O]);if(g!=null&&i)for(var O of i(g))E.indexOf(O)<0&&p.call(g,O)&&(S[O]=g[O]);return S},v=(g,E,S)=>new Promise((O,A)=>{var u=w=>{try{s(S.next(w))}catch(P){A(P)}},o=w=>{try{s(S.throw(w))}catch(P){A(P)}},s=w=>w.done?O(w.value):Promise.resolve(w.value).then(u,o);s((S=S.apply(g,E)).next())});function _(g,E={},S){var O=E,{deps:A,auto:u=!0,massage:o=w=>v(this,null,function*(){return w})}=O,s=l(O,["deps","auto","massage"]);return(0,t.ZP)(u?A?[...A,g]:g:null,()=>(0,a.rd)(g,s).then(o),S)}},6742:(K,f,e)=>{"use strict";e.d(f,{UM:()=>p,th:()=>l});var t=e(30396),a=e(39419),i=e.n(a);function c(v,_,{root:g,threshold:E=0,rootMargin:S,disabled:O=!1}={}){(0,t.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!v.current||O)return;const A=new IntersectionObserver(o=>{_(o.some(s=>s.isIntersecting))},{root:g,threshold:E,rootMargin:S});A.observe(v.current);function u(){A.disconnect()}return u},[v,_,g,E,S,O])}function p(v,_,{root:g,threshold:E=0,rootMargin:S,disabled:O=!1}={}){const A=(0,t.sO)(!1),u=(0,t.I4)(o=>{o&&!A.current&&(A.current=!0,_())},[_,A]);c(v,u,{root:g,threshold:E,rootMargin:S,disabled:O||A.current})}function l(v){const[_,g]=(0,t.eJ)(!1);return(0,t.d4)(()=>{const E=()=>{const S=(0,a.isWindowVisible)();g(S),v==null||v(S)};return(0,a.onWindowVisibilityChange)(E),()=>{(0,a.offWindowVisibilityChange)(E)}},[v]),_}},36868:(K,f,e)=>{"use strict";e.d(f,{P:()=>t});const t=(a,i)=>i.payments_state==="enabled"?a.is_subscribed:a.is_free_subscribed},86730:(K,f,e)=>{"use strict";var t=e(39419),a=e.n(t),i=(p,l,v)=>new Promise((_,g)=>{var E=A=>{try{O(v.next(A))}catch(u){g(u)}},S=A=>{try{O(v.throw(A))}catch(u){g(u)}},O=A=>A.done?_(A.value):Promise.resolve(A.value).then(E,S);O((v=v.apply(p,l)).next())});class c{constructor(l){this.startedAt=null,this.endedAt=null,this.audioContext=null,this.analyser=null,this.createJavaScriptNode=null,this.audioNode=null,this.aspectRatio=null,this.startingTimeout=null,this.audioInput=null,this.recordedChunks=null,this.mediaRecorder=null,this.stream=null,this.bufferSize=4096,this.sampleRate=44100,this.state=c.STATE.STOPPED,this.aspectRatio=l.aspectRatio,this.onStarting=l.onStarting,this.onStarted=l.onStarted,this.onStopping=l.onStopping,this.onStopped=l.onStopped,Object.assign(this,l)}static get STATE(){return{STOPPED:"stopped",STARTING:"starting",STARTED:"started",STOPPING:"stopping"}}static isSupported(){var l,v;return!(typeof window=="undefined"||!((v=(l=window.navigator)==null?void 0:l.mediaDevices)!=null&&v.getUserMedia)||!window.AudioContext&&!window.webkitAudioContext||!window.MediaRecorder||!window.Float32Array||!window.Blob||!window.URL||!window.Worker||isMobileBrowser()||isIOs())}get duration(){return this.startedAt?((this.endedAt||Date.now())-this.startedAt)/1e3:null}get volume(){if(this.state!==c.STATE.STARTED||!this.analyser)return 0;const l=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(l),Math.max(...l)/255}startCapture(){return i(this,null,function*(){if(!c.isSupported())return alert("Recording is not supported on this device."),!1;if(this.stream)try{return yield this.stream,!0}catch(l){return!1}try{this.stream=navigator.mediaDevices.getUserMedia({audio:!0,video:this.aspectRatio?{aspectRatio:{ideal:this.aspectRatio}}:!0}),this.stream=yield this.stream,this.stream.getTracks().forEach(l=>{l.addEventListener("ended",()=>{this.state===c.STATE.STARTED&&this.stop()})})}catch(l){console.error(l),this.stream=null}return this.stream?!0:(alert("Unable to access the camera or microphone! Please check your browser settings."),!1)})}stopCapture(){return i(this,null,function*(){var l,v;if(this.stream){if(this.stream instanceof Promise)try{yield this.stream}catch(_){return}if(this.state===c.STATE.STARTED){yield this.stop();return}this.stream instanceof MediaStream&&(this.stream.getTracks().forEach(_=>_.stop()),(v=(l=this.stream).stop)==null||v.call(l),this.stream=null)}})}start(){return i(this,arguments,function*({startAt:l=null}={}){var v,_,g;if(!c.isSupported())throw new Error("Recording is not supported on this device");if(this.state===c.STATE.STOPPING)throw new Error("Currently stopping last recording");if(["starting","started"].includes(this.state))return;if(this.startingTimeout&&clearTimeout(this.startingTimeout),this.state=c.STATE.STARTING,(v=this.onStarting)==null||v.call(this),!(yield this.startCapture())){this.state=c.STATE.STOPPED,(_=this.onStopped)==null||_.call(this);return}const E=window.AudioContext||window.webkitAudioContext;try{if(this.audioContext=isFirefox()?new E:new E({sampleRate:this.sampleRate}),this.analyser=this.audioContext.createAnalyser(),this.analyser.smoothingTimeConstant=.2,this.analyser.fftSize=1024,this.audioContext.createScriptProcessor)this.audioNode=this.audioContext.createScriptProcessor(this.bufferSize,1,1);else throw new Error("Unable to construct audio node");this.stream instanceof MediaStream&&(this.audioInput=this.audioContext.createMediaStreamSource(this.stream),this.audioInput.connect(this.analyser),this.analyser.connect(this.audioNode),this.audioNode.connect(this.audioContext.destination));let S;if(typeof MediaRecorder.isTypeSupported=="function"&&(MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?S={mimeType:"video/webm;codecs=vp9"}:MediaRecorder.isTypeSupported("video/webm;codecs=h264")?S={mimeType:"video/webm;codecs=h264"}:MediaRecorder.isTypeSupported("video/webm")?S={mimeType:"video/webm"}:MediaRecorder.isTypeSupported("video/mp4")&&(S={mimeType:"video/mp4"})),this.recordedChunks=[],!this.stream){console.error("this.stream is not set, cannot record");return}if(this.stream instanceof Promise){console.error("this.stream has not been awaited, cannot record");return}this.mediaRecorder=new MediaRecorder(this.stream,S),this.startingTimeout=window.setTimeout(()=>{var O,A;this.mediaRecorder||console.error("mediaRecorder is null in timeout"),(O=this.mediaRecorder)==null||O.start(),this.state=c.STATE.STARTED,this.startedAt=Date.now(),this.endedAt=null,(A=this.onStarted)==null||A.call(this)},l?Math.max(Math.max(Date.now(),+l)-Date.now(),0):2e3)}catch(S){this.state=c.STATE.STOPPED,(g=this.onStopped)==null||g.call(this),console.error("Unable to access the camera or microphone!",S),alert("Unable to setup camera or microphone!")}})}stop(){return i(this,arguments,function*({dropRecording:l=!1,stopCapture:v=!0}={}){var _,g;if(!c.isSupported())throw new Error("Recording is not supported on this device");if(["stopping","stopped"].includes(this.state))return;if(this.state===c.STATE.STARTING)throw new Error("Currently starting new recording");this.startingTimeout&&clearTimeout(this.startingTimeout),this.state=c.STATE.STOPPING,(_=this.onStopping)==null||_.call(this);const E=(S=null)=>i(this,null,function*(){var O,A,u,o,s;(O=this.audioInput)==null||O.disconnect(),(A=this.analyser)==null||A.disconnect(),(u=this.audioNode)==null||u.disconnect(),(o=this.audioContext)==null||o.close(),this.audioContext=null,this.analyser=null,this.audioNode=null,this.audioInput=null,this.mediaRecorder=null,v&&(yield this.stopCapture()),this.state=c.STATE.STOPPED,this.endedAt=Date.now(),(s=this.onStopped)==null||s.call(this,S!=null?S:void 0)});((g=this.mediaRecorder)==null?void 0:g.state)!=="recording"||l?yield E():(this.mediaRecorder.ondataavailable=S=>i(this,null,function*(){S.data&&S.data.size>0?yield E(S.data):yield E()}),this.mediaRecorder.stop())})}}},62246:(K,f,e)=>{"use strict";e.d(f,{fe:()=>a.f,mz:()=>i.m,r6:()=>t.r,u_:()=>a.u,xB:()=>t.x});var t=e(28079),a=e(53940),i=e(29354)},21958:(K,f,e)=>{"use strict";e.d(f,{L:()=>u});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(o,s,w)=>s in o?p(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,O=(o,s)=>{for(var w in s||(s={}))g.call(s,w)&&S(o,w,s[w]);if(_)for(var w of _(s))E.call(s,w)&&S(o,w,s[w]);return o},A=(o,s)=>l(o,v(s));function u(o,s="div",w){return(0,a.forwardRef)((P,C)=>(0,t.createElement)(s,A(O(O({},w),P),{ref:C,className:c()(o,P==null?void 0:P.className)})))}},13045:(K,f,e)=>{"use strict";e.d(f,{HZ:()=>a.H,xu:()=>p.xu,zx:()=>i.zx,hE:()=>c.h,XZ:()=>P.X,ji:()=>x,iz:()=>v.i,hs:()=>_.hs,tu:()=>_.tu,gq:()=>_.gq,hU:()=>i.hU,aN:()=>E.a,Tz:()=>l.Tz,v2:()=>O.v2,sN:()=>O.sN,u_:()=>S.u_,fe:()=>S.fe,mz:()=>S.mz,xB:()=>S.xB,gu:()=>R.g,xv:()=>o.xv,oi:()=>V.o,hh:()=>o.hh,gx:()=>L.g,FN:()=>w.FN,u:()=>s.u,kG:()=>i.kG,pm:()=>w.pm,dd:()=>w.dd});var t=e(11059),a=e(83787),i=e(84040),c=e(91041),p=e(84606),l=e(15187),v=e(48960),_=e(51126),g=e(94016),E=e(56288),S=e(62246),O=e(76235),A=e(92106),u=e(80043),o=e(43887),s=e(92630),w=e(75425),P=e(53570),C=e(6400);const x=({contentBelow:H,details:G,disabled:q,label:z,name:ee,paddingBottom:$,paddingTop:J,testid:j,track:Z,value:ne,onChange:ie,usePublicationTheme:oe})=>(0,C.h)(_.gq,{as:"label",gap:8,paddingBottom:$,paddingTop:J},(0,C.h)(P.X,{as:"div",checked:ne,name:ee!=null?ee:j,"data-track-input":Z,disabled:q,size:"small",onChange:ie}),(0,C.h)(_.tu,{flex:"grow"},(0,C.h)(o.xv.B4,{as:"span",color:q?oe?"secondary-theme":"secondary":oe?"primary-theme":"primary"},z),G&&(0,C.h)(o.xv.Detail,{color:oe?"secondary-theme":"secondary"},G),H));var D=e(72657),y=e(69045);const M={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},T=({children:H,label:G})=>h(FlexColumn,null,G&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},G),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},H));var R=e(2019),F=e(96427);const N=({details:H,helpText:G,label:q,name:z,options:ee,paddingBottom:$,paddingTop:J,value:j,onChange:Z})=>h(Field,{label:q,details:H,helpText:G,paddingTop:J,paddingBottom:$,wrapWithLabel:!0},h(Select,{name:z,value:j,onChange:Z},ee.map(ne=>h("option",{value:ne.value},ne.label))));var U=e(30396),V=e(34394);const W=({details:H,disabled:G,errors:q,helpText:z,inputRef:ee,label:$,paddingBottom:J,paddingTop:j,value:Z,onChange:ne})=>{const ie=useCallback(oe=>{ne(oe.target.value)},[ne]);return h(Field,{label:$,details:H,errors:q,helpText:z,paddingTop:j,paddingBottom:J,wrapWithLabel:!0},h(TextInput,{ref:ee,error:!!(q!=null&&q.length),disabled:G,value:Z,onChange:ie}))};var L=e(27885);const k=({details:H,disabled:G,helpText:q,label:z,paddingBottom:ee,paddingTop:$,value:J,onChange:j})=>{const Z=useCallback(ne=>{j(ne.target.value)},[j]);return h(Field,{details:H,helpText:q,label:z,paddingBottom:ee,paddingTop:$,wrapWithLabel:!0},h(Textarea,{disabled:G,value:J,onChange:Z}))}},11621:(K,f,e)=>{"use strict";e.d(f,{Aq:()=>M,F:()=>ie,FJ:()=>D,dN:()=>y,vU:()=>A});var t=e(46526),a=e(15103),i=e(95495),c=e(6684),p=e(41609),l=e.n(p),v=e(14293),_=e.n(v),g=e(78718),E=e.n(g),S=e(6385),O=e(56885);const A=(0,a.cn)(null);A.debugLabel="errorAtom";const u=(0,a.cn)(null);u.debugLabel="providerAtom";const o=(0,a.cn)(null);o.debugLabel="localProviderAtom";const s=(0,a.cn)(()=>["#e85c57","#f1de71","#66cd7a","#002fa7","#7756e3","#1da1f2"]);s.debugLabel="colorsAtom";const w=(0,a.cn)(t.X0.Connecting);w.debugLabel="websocketStatusAtom";const P=(0,a.cn)([]);P.debugLabel="connectedClientsAtom";const C=(0,a.cn)(null);C.debugLabel="lockedForPublishByAtom";const x=(0,a.cn)(null);x.debugLabel="lockedForConversionByAtom";const D=(0,a.cn)(null);D.debugLabel="openDrawerAtom";const y=(0,a.cn)(null);y.debugLabel="editingFileAtom";const M=(0,a.cn)({});M.debugLabel="pubAtom";const T=(0,a.cn)(null);T.debugLabel="persistedPostAtom";const R=(0,a.cn)({});R.debugLabel="postWorkingCopyAtom";const F=["audience","audience_before_archived","exempt_from_archive_paywall","write_comment_permissions","default_comment_sort","section_chosen","draft_section_id"],N=(0,a.cn)(pt=>{const hn=pt(T);return E()(hn,F)}),U=(0,a.cn)(pt=>{const hn=pt(T),Dn=pt(R),Gn={};if(!hn)return Gn;const Kt=["slug","draft_title","draft_subtitle","audience","write_comment_permissions","default_comment_sort","draft_section_id","section_chosen","audience_before_archived","exempt_from_archive_paywall","show_guest_bios","search_engine_title","search_engine_description","social_title","description","cover_image"];for(const wt of Kt)wt&&hn[wt]!==Dn[wt]&&(Gn[wt]=Dn[wt]);return Gn});U.debugLabel="postChangesAtom",U.debugLabel="postChangesAtom";const V=(0,i.qs)(pt=>(0,O.n)(pt(R)));V.debugLabel="initialSchedulingSettingsAtom";const W=(0,a.cn)(pt=>{const hn=pt(V),Dn={scheduledAt:pt(Xe),unlockAt:pt(Ne)},Gn={};return Dn.scheduledAt!==hn.scheduledAt&&(Gn.scheduledAt=Dn.scheduledAt),Dn.unlockAt!==hn.unlockAt&&(Gn.unlockAt=Dn.unlockAt),Gn});W.debugLabel="schedulingChangesAtom";const L=(0,a.cn)({shareAutomatically:!1,shareToChat:!1,chatText:null});L.debugLabel="initialSharingSettingsAtom";const k=(0,a.cn)(pt=>{const hn=pt(L),Dn={shareAutomatically:pt(ht),shareToChat:pt(xe),chatText:pt(Ve)},Gn={};return Dn.shareAutomatically!==hn.shareAutomatically&&(Gn.shareAutomatically=Dn.shareAutomatically),Dn.shareToChat!==hn.shareToChat&&(Gn.shareToChat=Dn.shareToChat),Dn.chatText!==hn.chatText&&(Gn.chatText=Dn.chatText),Gn});k.debugLabel="sharingChangesAtom";const H=(0,a.cn)(pt=>{const hn={},Dn=pt(U);l()(Dn)||(hn.post=Dn);const Gn=pt(W);l()(Gn)||(hn.scheduling=Gn);const Kt=pt(k);return l()(Kt)||(hn.sharing=Kt),hn});H.debugLabel="unsyncedChangesAtom";const G=62e3,q=G*.85,z=(0,a.cn)(0);z.debugLabel="emailLengthAtom";const ee=(0,a.cn)(pt=>{const hn=pt(z);return pt(j)?null:hn>G?"limit":hn>q?"warn":null});ee.debugLabel="emailTooLongAtom";const $=(0,a.cn)(!1);$.debugLabel="hasPaywallAtom";const J=(0,a.cn)({anchors:0,notes:0});J.debugLabel="footnotesCountAtom";const j=(0,a.cn)(!1);j.debugLabel="hasPlaceholdersAtom";const Z=(0,a.cn)(!1);Z.debugLabel="savingDraftAtom";const ne=(0,a.cn)(!1);ne.debugLabel="publishingPostAtom";const ie=(0,a.cn)(pt=>{var hn;return(hn=pt(R))==null?void 0:hn.id});ie.debugLabel="postIdAtom";const oe=(0,i.kv)(R,pt=>pt.type||"newsletter");oe.debugLabel="postTypeAtom";const re=(0,i.kv)(R,pt=>pt.is_published);re.debugLabel="isPublishedAtom";const ae=(0,i.kv)(R,pt=>pt.post_date);ae.debugLabel="postDateAtom";const se=(0,i.kv)(R,pt=>pt.updated_at);se.debugLabel="updatedAtAtom";const fe=(0,i.kv)(R,pt=>pt.postBylines);fe.debugLabel="bylinesAtom";const le=(0,i.kv)(R,pt=>pt.pendingInvites);le.debugLabel="pendingInvitesAtom";const Ae=(0,c.R)(R,pt=>pt.prop("slug"));ie.debugLabel="slug";const De=(0,c.R)(R,pt=>pt.prop("draft_body"));De.debugLabel="draft_body";const je=(0,c.R)(R,pt=>pt.prop("draft_title"));je.debugLabel="titleAtom";const Je=(0,c.R)(R,pt=>pt.prop("draft_subtitle"));Je.debugLabel="subtitleAtom";const Be=(0,c.R)(R,pt=>pt.prop("audience"));Be.debugLabel="audienceAtom";const st=(0,i.qs)(pt=>!!pt(Se)||!pt(M).default_post_publish_send_email);st.debugLabel="dontSendEmailAtom";const ht=(0,i.qs)(pt=>{const hn=pt(M);return pt(re)?!0:!!(hn.twitter_share_on_publish_opt_in&&hn.twitter_permissions==="write")});ht.debugLabel="shareAutomaticallyAtom";const gt=(0,a.cn)(pt=>pt(ht)&&!pt(re)&&["newsletter","podcast","video","thread"].includes(pt(oe)));gt.debugLabel="shouldShareAutomaticallyAtom";const Xe=(0,i.qs)(pt=>(0,O.n)(pt(R)).scheduledAt);Xe.debugLabel="scheduledAtAtom";const Re=(0,i.kv)(T,pt=>(0,O.n)(pt).scheduledAt);Re.debugLabel="lastScheduledAtAtom";const Ne=(0,i.qs)(pt=>(0,O.n)(pt(R)).unlockAt);Ne.debugLabel="unlockAtAtom";const ke=(0,a.cn)(!0);ke.debugLabel="sendFreePreviewAtom";const ot=(0,a.cn)(pt=>(0,S.isPaidAudience)(pt(Be))&&pt(ke)&&pt($));ot.debugLabel="shouldSendFreePreviewAtom";const Dt=(0,c.R)(R,pt=>pt.prop("write_comment_permissions"));Dt.debugLabel="commentLevelAtom";const ln=(0,c.R)(R,pt=>pt.prop("default_comment_sort"));ln.debugLabel="commentSortAtom";const ct=(0,c.R)(R,pt=>pt.prop("draft_section_id"));ct.debugLabel="sectionIdAtom";const Oe=(0,c.R)(R,pt=>pt.prop("section_chosen"));Oe.debugLabel="sectionChosenAtom";const Se=(0,i.kv)(R,pt=>pt.email_sent_at);Se.debugLabel="emailSentAtAtom";const Ze=(0,c.R)(R,pt=>pt.prop("audience_before_archived"));Ze.debugLabel="audienceBeforeArchivedAtom";const Fe=(0,c.R)(R,pt=>pt.prop("exempt_from_archive_paywall"));Fe.debugLabel="exemptFromPaywallArchiveAtom";const Ke=(0,c.R)(R,pt=>pt.prop("social_title"));Ke.debugLabel="socialTitleAtom";const et=(0,c.R)(R,pt=>pt.prop("description"));et.debugLabel="socialDescriptionAtom";const Qe=(0,c.R)(R,pt=>pt.prop("cover_image"));Qe.debugLabel="socialImageAtom";const $e=(0,c.R)(R,pt=>pt.prop("show_guest_bios")||!1);$e.debugLabel="showGuestBiosAtom";const Te=(0,c.R)(R,pt=>pt.prop("search_engine_title"));Te.debugLabel="searchTitleAtom";const te=(0,c.R)(R,pt=>pt.prop("search_engine_description"));te.debugLabel="searchDescriptionAtom";const ue=(0,a.cn)(pt=>pt(oe)!=="page"&&!pt(Se));ue.debugLabel="canSendEmailAtom";const we=(0,a.cn)(pt=>pt(ue)&&pt(Be)==="only_free");we.debugLabel="mustSendEmailAtom";const me=(0,i.qs)(pt=>{const hn=pt(T);if(hn.is_published&&hn.email_sent_at)return!1;if("should_send_email"in hn)return!!hn.should_send_email;const Dn=pt(oe),Gn=pt(ue),Kt=pt(we),wt=pt(st);return Dn==="adhoc_email"?!0:!Kt&&wt?!1:Gn});me.debugLabel="shouldSendEmailAtom";const Ee=(0,a.cn)(pt=>{var hn,Dn;const Gn=(Dn=(hn=pt(M))==null?void 0:hn.plans)==null?void 0:Dn.find(Kt=>{var wt;return((wt=Kt.metadata)==null?void 0:wt.founding)==="yes"});return!["thread","page","podcast","video"].includes(pt(oe))&&!!Gn});Ee.debugLabel="canSendToOnlyFoundingAtom";const he=(0,a.cn)(pt=>{var hn,Dn;const Gn=pt(M),Kt=pt(oe);let wt;return Kt==="page"?wt=!1:Kt==="podcast"?wt=((hn=Gn==null?void 0:Gn.sections)==null?void 0:hn.filter(Lt=>Lt.is_podcast).length)>(Gn.podcast_enabled?0:1):wt=((Dn=Gn==null?void 0:Gn.sections)==null?void 0:Dn.length)>0,wt});he.debugLabel="showSectionSelectorAtom";const xe=(0,a.cn)(!1);xe.debugLabel="shareToChatAtom";const Ve=(0,a.cn)(null);Ve.debugLabel="chatTextAtom";const Pe=(0,a.cn)(null);Pe.debugLabel="droppedAudioFileAtom";const Ie=(0,a.cn)(null);Ie.debugLabel="droppedVideoFileAtom";const ze=(0,i.kv)(R,pt=>pt.draft_video_upload_id);ze.debugLabel="videoUploadIdAtom";const tt=(0,i.kv)(R,pt=>pt.draftPodcastUpload);tt.debugLabel="podcastUploadAtom";const Le=(0,i.kv)(R,pt=>pt.draft_podcast_upload_id);Le.debugLabel="podcastUploadIdAtom";const It=(0,i.kv)(R,pt=>pt.draftPodcastPreviewUpload);It.debugLabel="podcastPreviewUploadAtom";const on=(0,i.kv)(R,pt=>pt.draftVideoUpload);on.debugLabel="videoUploadAtom";const zt=(0,i.kv)(R,pt=>pt.draft_podcast_url);zt.debugLabel="podcastUrlAtom";const $t=(0,i.kv)(R,pt=>pt.draft_podcast_duration);$t.debugLabel="podcastDurationAtom";const Bt=(0,a.cn)(!1);Bt.debugLabel="podcastUploadingAtom";const xn=(0,a.cn)(!1);xn.debugLabel="podcastPreviewUploadingAtom";const Hn=(0,i.qs)(pt=>pt(R).draftVideoUpload?"video":"audio");Hn.debugLabel="podcastMediaTypeAtom";const ir=(0,a.cn)(null);ir.debugLabel="droppedPodcastFileAtom";const Vn=(0,a.cn)(!1);Vn.debugLabel="skipToRecordStepAtom";const _t=(0,i.kv)(R,pt=>{var hn,Dn;return((hn=pt.draftVideoUpload)==null?void 0:hn.preview_duration)&&((Dn=pt.draftVideoUpload)==null?void 0:Dn.preview_duration)>0});_t.debugLabel="hasVideoPaywallAtom";const ut=(0,a.cn)({isExplicit:!1,episodeNumber:null,seasonNumber:null,episodeType:null});ut.debugLabel="podcastMetadataAtom";const Ce=(0,a.cn)(null);Ce.debugLabel="podcastPreviewUploadIdAtom";const be=(0,c.R)(ut,pt=>pt.prop("isExplicit"));be.debugLabel="isExplicitAtom";const We=(0,c.R)(ut,pt=>pt.prop("episodeNumber"));We.debugLabel="episodeNumberAtom";const qe=(0,c.R)(ut,pt=>pt.prop("seasonNumber"));qe.debugLabel="seasonNumberAtom";const Et=(0,c.R)(ut,pt=>pt.prop("episodeType"));Et.debugLabel="episodeTypeAtom";const en=(0,a.cn)(!1);en.debugLabel="shouldSyndicateAtom";const In=(0,a.cn)(null);In.debugLabel="syndicateToSectionIdAtom";const qn=(0,a.cn)(null);qn.debugLabel="shouldSyndicateToOtherFeedAtom";const cr=(0,a.cn)(pt=>pt(T).draftVoiceoverUpload);cr.debugLabel="initialVoiceoverUploadAtom";const pr=(0,i.qs)(pt=>pt(R).draft_voiceover_upload_id);pr.debugLabel="voiceoverUploadIdAtom";const wr=(0,i.qs)(pt=>pt(R).draftVoiceoverUpload);wr.debugLabel="voiceoverUploadAtom";const Vr=(0,a.cn)(pt=>pt(oe)==="newsletter"&&!_()(pt(R).draft_voiceover_upload_id));Vr.debugLabel="shouldShowVoiceoverAtom";const On=(0,a.cn)(pt=>{var hn;return`Editing ${((hn=pt(T))==null?void 0:hn.draft_title)||pt(oe)} - Substack`});On.debugLabel="documentMetadataTitleAtom"},57710:(K,f,e)=>{"use strict";e.d(f,{c:()=>g});var t=e(80569),a=e.n(t),i=e(48930),c=e(20501),p=e(83322),l=(S,O,A)=>new Promise((u,o)=>{var s=C=>{try{P(A.next(C))}catch(x){o(x)}},w=C=>{try{P(A.throw(C))}catch(x){o(x)}},P=C=>C.done?u(C.value):Promise.resolve(C.value).then(s,w);P((A=A.apply(S,O)).next())});const v=null,_=(S,O,A=()=>{})=>l(void 0,null,function*(){const u=yield a().post(O?`/api/v1/file/${O}`:"/api/v1/file/pub-files").send({filename:S.name,filetype:S.type,filesize:S.size,title:(0,i.c5)(S.name)});return new Promise((o,s)=>{const{fileKey:w,url:P,fields:C}=u.body,x=new FormData;Object.keys(C).forEach(y=>x.append(y,C[y])),x.append("file",S);const D=new XMLHttpRequest;D.open("POST",P),D.upload.addEventListener("progress",A),D.upload.addEventListener("load",y=>{o(w)}),D.addEventListener("error",s),D.send(x)})}),g=(S,O,A)=>l(void 0,null,function*(){const u=yield _(S,A),o=`${(0,c.getBaseUrl)(O)}/f/${u}`,s=`${(0,c.getBaseUrl)(O)}/api/v1/file/${u}`;return{filename:S.name,filetype:S.type,filesize:S.size,title:(0,i.c5)(S.name),href:o,raw_href:s,fileKey:u,dirty:!0}}),E=S=>l(void 0,[S],function*({file:O,editor:A,pub:u,position:o,postId:s}){let w;try{const P=randomString();A==null||A.commands.insertLoadingPlaceholder({request_id:P,src:v},o);const C=yield g(O,u,s),x=O.type==="application/pdf"?"pdf":"xlsx";if(w=findPlaceholder(A,P),w){const{position:D}=w;replaceContent(A,{from:D,to:D+1},{type:x,attrs:C})}}catch(P){throw w&&A.commands.deleteRange({from:w.position,to:w.position+1}),P.message="Failed to upload file",P}})},56885:(K,f,e)=>{"use strict";e.d(f,{n:()=>t});const t=a=>{var i,c,p,l;const v=(c=(i=a.postSchedules)==null?void 0:i[0])==null?void 0:c.trigger_at,_=(l=(p=a.postSchedules)==null?void 0:p.find(g=>g.post_audience==="everyone"))==null?void 0:l.trigger_at;return{scheduledAt:v,unlockAt:_}}},50292:(K,f,e)=>{"use strict";e.d(f,{SJ:()=>p});var t=e(6400),a=e(30396);const i=(0,t.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function c(l,{shouldShowGetAppPill:v=!0,style:_,alwaysPinTitle:g,backAction:E,onRefresh:S}={}){const O=p();return useLayoutEffect(()=>{O.setChildOptions({title:l,style:_,alwaysPinTitle:g,backAction:E,shouldShowGetAppPill:v,onRefresh:S})},[O,l,_,E,v,S]),useLayoutEffect(()=>{O.setPinTitle(!1)},[]),O}function p(){return(0,a.qp)(i)}},19696:(K,f,e)=>{"use strict";e.d(f,{L:()=>t.L});var t=e(21958)},41474:(K,f,e)=>{"use strict";e.d(f,{CD:()=>x,Gv:()=>F,Kr:()=>R,MJ:()=>C,iI:()=>s,qG:()=>P,rw:()=>A,zi:()=>O});var t=e(69371),a=e(3258);K=e.hmd(K);var i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(N,U,V)=>U in N?i(N,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):N[U]=V,E=(N,U)=>{for(var V in U||(U={}))v.call(U,V)&&g(N,V,U[V]);if(l)for(var V of l(U))_.call(U,V)&&g(N,V,U[V]);return N},S=(N,U)=>c(N,p(U));function O(N,U,{extraEventProps:V={},tabId:W,primaryItem:L}={}){w("seen",N,U,{extraEventProps:V,tabId:W,primaryItem:L})}function A(N,U,V,{extraEventProps:W={},tabId:L,primaryItem:k}={}){w("clicked",N,U,{extraEventProps:S(E({clicked_element:V},W),{tabId:L,primaryItem:k})})}function u(N,U,{primaryItem:V}={}){var W,L,k,H,G,q,z;return{item_primary_entity_key:V&&"entity_key"in V?V.entity_key:"entity_key"in N?N.entity_key:"",item_entity_key:"entity_key"in N?N.entity_key:"",item_type:N.type,item_context_type:"context"in N?N.context.type:"",item_context_type_bucket:"context"in N&&(W=N.context.typeBucket)!=null?W:"",item_context_timestamp:new Date("context"in N?N.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in N?(L=N.context.users[0])==null?void 0:L.id:void 0,item_context_user_ids:"context"in N&&((H=(k=N.context.users)==null?void 0:k.length)!=null?H:0)>0?N.context.users.map(({id:ee})=>ee):[],item_publication_id:"publication"in N?(G=N.publication)==null?void 0:G.id:void 0,item_post_id:(q=N.post)==null?void 0:q.id,item_comment_id:(z=N.comment)==null?void 0:z.id,item_can_reply:"canReply"in N?N.canReply:!0,tab_id:U!=null?U:void 0,item_module_id:"id"in N?N.id:void 0}}function o(N,U,{primaryItem:V}={}){return N.type==="comment"||N.type==="post"||N.type==="featuredCollection"||N.type==="featuredPublication"||N.type==="postLeaderboard"||N.type==="recommendedPosts"?N.trackingParameters:u(N,U,{primaryItem:V})}function s(N,{primaryItem:U}={}){return S(E({},N),{trackingParameters:u(N,null,{primaryItem:U})})}function w(N,U,V,{extraEventProps:W={},tabId:L,primaryItem:k}={}){const H=o(U,L!=null?L:null,{primaryItem:k});(0,a.j)(N==="seen"?a.FP.FEED_ITEM_SEEN:a.FP.FEED_ITEM_CLICKED,E(E({surface:V,tabId:L,module:K},H),W))}function P(N,U,V,{extraEventProps:W={},tabId:L,primaryItem:k}={}){const H=o(U,L!=null?L:null,{primaryItem:k});(0,a.j)(N==="seen"?a.FP.FEED_MODULE_ITEM_SEEN:a.FP.FEED_MODULE_ITEM_CLICKED,E(E({surface:V,tabId:L,module:K},H),W))}function C(N,U,{extraEventProps:V={}}={}){D("seen",N,U,{extraEventProps:V})}function x(N,U,V,{extraEventProps:W={}}={}){D("clicked",N,U,{extraEventProps:E({clicked_element:V},W)})}function D(N,U,V,{extraEventProps:W={}}={}){var L,k,H,G;(0,a.j)(N==="seen"?a.FP.FEED_USER_SUGGESTION_SEEN:a.FP.FEED_USER_SUGGESTION_CLICKED,E({suggested_user_id:U.user.id,suggested_publication_id:(k=(L=U.publication)==null?void 0:L.id)!=null?k:null,suggestion_source:(H=U.source)!=null?H:null,suggestion_id:(G=U.id)!=null?G:null,surface:V},W))}function y(N,{utm_source:U}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:U,tab_id:N})}function M(N,{utm_source:U}={}){const V=o(N,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,E({utm_source:U},V))}function T(N){const U=o(N,null);track(EVENTS.FEED_HIDDEN_REPLIES_VIEWED,E({},U))}function R(N,U,{tabId:V,noteId:W}={}){(0,a.j)(a.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:N,reason:U,tabId:V,noteId:W})}function F(N,{props:U,isModuleItem:V}={}){const W=(0,t.rI)(),L=V?P:w;return k=>{L("clicked",N,W,{extraEventProps:E({clicked_element:k},U)})}}},91870:(K,f,e)=>{"use strict";e.d(f,{I0:()=>x,RR:()=>C,d6:()=>M,ev:()=>y,kc:()=>T});var t=e(6400),a=e(30396),i=e(70444),c=e(20501),p=e(95582),l=e(8479),v=e(39419),_=e.n(v),g=e(41474),E=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(H,G,q)=>G in H?E(H,G,{enumerable:!0,configurable:!0,writable:!0,value:q}):H[G]=q,w=(H,G)=>{for(var q in G||(G={}))u.call(G,q)&&s(H,q,G[q]);if(A)for(var q of A(G))o.call(G,q)&&s(H,q,G[q]);return H},P=(H,G)=>S(H,O(G));const C=(0,t.createContext)({dispatch:()=>Promise.resolve()});function x(){return(0,a.qp)(C).dispatch}const D={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map,inboxItems:new Map,unhiddenReplyCommentIds:new Set},y=(0,t.createContext)(D);function M({initialItem:H}={}){return(0,p.L)(R,()=>H?N(D,H):D)}function T(){return(0,a.qp)(y)}function R(H,G){var q,z,ee,$;switch(G.type){case"sign_in":return P(w({},H),{lastDispatchType:G.type,isSigningIn:G.payload.isSigningIn,signInNoExit:(q=G.payload.signInNoExit)!=null?q:!1});case"page_load":{const{result:J}=G.payload;return P(w({},F(H,J.items)),{lastDispatchType:G.type,pages:(0,l.x8)(H.pages,G)})}case"post_load":{const{post:J,publication:j}=G.payload;return L(H,{posts:[J],publications:[j]})}case"post_like":{const{postId:J,isLiked:j}=G.payload,Z=H.posts.get(J);return U(H,G.type,J,V(Z,j))}case"post_restack":{const{postId:J,isRestacked:j}=G.payload,Z=H.posts.get(J);return Z?U(H,G.type,J,W(Z,j)):H}case"post_delete":{const{publication:J,post:j}=G.payload,Z=new Map(H.posts);Z.delete(j.id);const ne=new Map([...H.comments].filter(([ie,oe])=>oe.post_id!==j.id));return[(0,c.getFeedPostUrl)(j.id,{noBase:!0}),(0,c.getFeedShortPostUrl)(J,j,{noBase:!0})].includes(window.location.pathname)&&(0,v.redirect)(i.Ds,{replace:!0}),P(w({},H),{lastDispatchType:G.type,posts:Z,comments:ne,pages:H.pages.map(ie=>P(w({},ie),{result:ie.result?P(w({},ie.result),{items:ie.result.items.filter(oe=>{var re;return((re=oe.post)==null?void 0:re.id)!==j.id})}):ie.result}))})}case"post_save":{const{postId:J,isSaved:j}=G.payload;return H.posts.get(J)?U(H,G.type,J,{is_saved:j}):H}case"comment_like":{const{commentId:J,isLiked:j}=G.payload,Z=H.comments.get(J);return P(w({},H),{lastDispatchType:G.type,comments:k(H.comments,J,P(w({},Z),{reaction:j?"\u2764":void 0,reactions:P(w({},Z.reactions),{"\u2764":(((z=Z.reactions)==null?void 0:z["\u2764"])||0)+(j?1:-1)}),reaction_count:(Z.reaction_count||0)+(j?1:-1)}))})}case"comment_restack":{const{commentId:J,isRestacked:j}=G.payload,Z=H.comments.get(J);return P(w({},H),{lastDispatchType:G.type,comments:Z?k(H.comments,J,P(w({},Z),{restacked:j,restacks:(Z.restacks||0)+(j?1:-1)})):H.comments})}case"comment_delete":{const{comment:J}=G.payload,j=new Map(H.posts),Z=new Map([...H.comments].filter(([oe,re])=>re.id!==J.id&&!new RegExp(`(^|.)${J.id}(.|$)`).test(re.ancestor_path))),ne=j.get(J.post_id),ie=J.ancestor_path&&Z.get(Number(J.ancestor_path.split(".").pop()));return ie?Z.set(ie.id,P(w({},ie),{children_count:(ie.children_count||1)-1,children:(ie.children||[]).filter(oe=>oe.id!==J.id)})):ne&&j.set(ne.id,P(w({},ne),{child_comment_count:(ne.child_comment_count||1)-1})),[(0,c.getFeedCommentUrl)(J,{noBase:!0})].includes(window.location.pathname)&&(0,v.redirect)(i.Ds,{replace:!0}),P(w({},H),{lastDispatchType:G.type,posts:j,comments:Z,pages:H.pages.map(oe=>P(w({},oe),{result:oe.result?P(w({},oe.result),{items:oe.result.items.filter(re=>{var ae;return((ae=re.comment)==null?void 0:ae.id)!==J.id&&!(re.parentComments||[]).filter(Boolean).map(se=>se.id).includes(J.id)})}):oe.result}))})}case"new_post":return P(w({},H),{lastDispatchType:G.type,publications:new Map([...H.publications].concat([[G.payload.publication.id,G.payload.publication]])),posts:new Map([...H.posts].concat([[G.payload.post.id,G.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,i.vy)(G.payload.post.id),publication:G.payload.publication,post:G.payload.post,context:G.payload.context||{}}]}},...H.pages]});case"new_comment":{const{comment:J}=G.payload,j=new Map(H.posts),Z=j.get(J.post_id);Z&&j.set(Z.id,P(w({},Z),{child_comment_count:(Z.child_comment_count||0)+1}));const ne=new Map(H.comments);ne.set(J.id,J);const ie=(((ee=J.ancestor_path)==null?void 0:ee.split("."))||[]).map(Number).filter(Boolean).map(se=>ne.get(se)||null),oe=($=ie[ie.length-1])!=null?$:null;oe&&ne.set(oe.id,P(w({},oe),{children_count:(oe.children_count||0)+1,children:[J].concat(oe.children||[])}));const ae=[{error:null,isLoading:!1,result:{items:[(0,g.iI)({type:"comment",entity_key:(0,i.It)(J.id),comment:J,parentComments:ie,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}})]}},...H.pages];return P(w({},H),{lastDispatchType:G.type,posts:j,comments:ne,pages:ae})}case"edit_comment":{const{comment:J}=G.payload,j=new Map(H.comments);return j.set(J.id,J),P(w({},H),{lastDispatchType:G.type,comments:j})}case"comments_load":{const{comments:J}=G.payload,j=[],Z=J.slice();for(;Z.length>0;){const ne=Z.pop();j.push(ne),Z.push(...ne.children||[])}return P(w({},H),{lastDispatchType:G.type,comments:new Map([...H.comments].concat(j.map(ne=>[ne.id,ne])))})}case"item_load":{const{item:J}=G.payload;return P(w({},N(H,J)),{lastDispatchType:G.type})}case"items_load":{const{items:J}=G.payload;return P(w({},F(H,J)),{lastDispatchType:G.type})}case"new_feed_items":{const J=[...H.pages];if(G.payload.insertLocation){const j={error:null,isLoading:!1,result:{items:G.payload.feedItems}};G.payload.insertLocation==="prepend"?J.unshift(j):G.payload.insertLocation==="append"&&J.push(j)}return P(w({},F(H,G.payload.feedItems)),{lastDispatchType:G.type,pages:J})}case"reply_unhidden":{const{comment_id:J}=G.payload,j=H.comments.get(J),Z=new Map(H.comments);return Z.set(J,P(w({},j),{hide_reply:!1})),P(w({},H),{lastDispatchType:G.type,comments:Z,unhiddenReplyCommentIds:new Set([...H.unhiddenReplyCommentIds,J])})}case"inbox_load":return P(w({},L(H,G.payload)),{inboxItems:new Map([...H.inboxItems].concat(G.payload.inboxItems.map(J=>[J.uuid,J])))});case"inbox_item_archive":{const{uuid:J}=G.payload,j=H.inboxItems.get(J);return P(w({},H),{inboxItems:k(H.inboxItems,J,P(w({},j),{archived_at:new Date().toISOString()}))})}}return P(w({},H),{lastDispatchType:G.type,pages:(0,l.x8)(H.pages,G)})}function F(H,G){const q=new Map(H.publications),z=new Map(H.posts),ee=new Map(H.comments);for(const $ of G){if("publication"in $&&$.publication&&q.set($.publication.id,$.publication),"post"in $){const{post:J}=$;J&&z.set(J.id,J)}if("comment"in $){const{comment:J}=$;if(J&&(ee.set(J.id,J),J.attachments))for(const j of J.attachments)j.type==="post"&&(z.set(j.post.id,j.post),q.set(j.publication.id,j.publication))}if("parentComments"in $)for(const J of $.parentComments)J&&ee.set(J.id,J)}return P(w({},H),{publications:q,posts:z,comments:ee})}function N(H,G){var q;return P(w({},H),{posts:G.post?k(H.posts,G.post.id,G.post):H.posts,publications:G.publication?k(H.publications,G.publication.id,G.publication):H.publications,comments:new Map([...H.comments].concat([G.comment,...(q=G.parentComments)!=null?q:[]].filter(Boolean).map(z=>[z.id,z])))})}function U(H,G,q,z){const ee=new Map(H.posts),$=ee.get(q);return $&&ee.set($.id,w(w({},$),z)),P(w({},H),{lastDispatchType:G,posts:ee})}function V(H,G){var q;const z=G!=null?G:!H.reaction,ee="\u2764";return{reaction:z,reactions:{[ee]:(((q=H.reactions)==null?void 0:q[ee])||0)+(G?1:-1)}}}function W(H,G){return{restacked:G,restacks:(H.restacks||0)+(G?1:-1)}}function L(H,{posts:G,publications:q}){const z=new Map(H.posts);for(const $ of G)z.set($.id,w(w({},z.get($.id)),$));const ee=new Map(H.publications);for(const $ of q)ee.set($.id,w(w({},ee.get($.id)),$));return P(w({},H),{posts:z,publications:ee})}function k(H,G,q){const z=new Map(H);return z.set(G,q),z}},73413:(K,f,e)=>{"use strict";e.d(f,{L:()=>a});var t=e(30123);const a=document.location.origin===t.tE},4948:(K,f,e)=>{"use strict";e.d(f,{M:()=>a});var t=e(30396);function a(i,c,{shouldCheck:p,threshold:l=200,bodyRef:v}){const _=(0,t.sO)(),g=v!=null?v:_,E=()=>{const S=g.current;if(S){const{bottom:O}=S.getBoundingClientRect();O<window.innerHeight+l&&i()}};return(0,t.d4)(()=>{if(p)return window.addEventListener("scroll",E,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",E,{capture:!0})}},c),{bodyRef:g,check:E}}},44396:(K,f,e)=>{"use strict";e.d(f,{XA:()=>l});var t=e(30396),a=e(1852),i=e.n(a),c=e(39419),p=e.n(c);function l(){return(0,a.useMediaQuery)({maxWidth:650})}function v(){return useMediaQuery({maxWidth:1400})}function _(){const[g,E]=useState(!1);return useLayoutEffect(()=>{E(isIOs())},[]),g}},72307:(K,f,e)=>{"use strict";e.d(f,{Th:()=>o,Y0:()=>w,_V:()=>C,e:()=>u,lV:()=>A});var t=e(6400),a=e(30396),i=e(8479),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(x,D,y)=>D in x?c(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,S=(x,D)=>{for(var y in D||(D={}))_.call(D,y)&&E(x,y,D[y]);if(v)for(var y of v(D))g.call(D,y)&&E(x,y,D[y]);return x},O=(x,D)=>p(x,l(D));function A(x){const D=(0,i.ib)({pathname:"/api/v1/subscriptions",auto:x,deps:[]});return(0,a.Ye)(()=>O(S({},D),{result:D.result?O(S({},D.result),{publicationMap:new Map(D.result.publications.map(M=>[M.id,M])),subscriptionMap:new Map(D.result.subscriptions.map(M=>[M.publication_id,M])),publicationUserMap:new Map(D.result.publicationUsers.map(M=>[M.publication_id,M]))}):null}),[D])}const u=(0,t.createContext)(i.do);function o(){return(0,a.qp)(u)}function s(x){var D;const{subscriptionMap:y,publicationUserMap:M,publicationsWithPledges:T}=(D=o().result)!=null?D:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},R=y.get(x),F=M.get(x);return{subscription:R,publicationUser:F,is_pledged:!!(T!=null&&T.includes(x))}}function w(x){const{subscription:D,publicationUser:y,is_pledged:M}=s(x),T=(D==null?void 0:D.membership_state)==="free_signup",R=(D==null?void 0:D.membership_state)==="subscribed",F=!!(D!=null&&D.is_founding),N=!!(y&&["contributor","admin"].includes(y.role));return{subscription:D,publicationUser:y,isFreeSubscribed:T,isPaid:R,isSubscribed:T||R,isAuthor:N,isFounding:F,isPledged:M}}function P(){var x,D,y;const{publicationUsers:M,publicationMap:T}=(x=o().result)!=null?x:{publicationMap:new Map,publicationUsers:[]},R=(y=(D=M.find(F=>F.is_primary))!=null?D:M.find(F=>F.role==="admin"))!=null?y:M.find(F=>F.role==="contributor");return R&&T.get(R.publication_id)}function C(x){var D,y;const{publicationUsers:M}=(D=o().result)!=null?D:{publicationUsers:[]};return(y=M.find(T=>T.publication_id===x))!=null?y:null}},35616:(K,f,e)=>{"use strict";e.d(f,{N:()=>a});var t=e(63270);function a(){return!!(0,t.xR)().getConfigFor("enable_unified_home_web")}},82622:(K,f,e)=>{"use strict";e.d(f,{COMMENT_STATUS:()=>E,Hz:()=>v,Ng:()=>O,Sh:()=>_,Zu:()=>c,_N:()=>A,hO:()=>g,us:()=>l});var t=e(85200),a=e(46131);const i=1e4,c=9999;var p=(s=>(s.everyone="everyone",s.free_subscriber="free_subscriber",s.paid_subscriber="paid_subscriber",s))(p||{}),l=(s=>(s.comments_disabled="comments_disabled",s.free_subscription_required="free_subscription_required",s.paid_subscription_required="paid_subscription_required",s))(l||{});const v=({likesEnabled:s=!0,language:w="en"}={})=>{const{iString:P}=I18N.i(w),C=[];return C.push({key:"most_recent_first",text:P("New First"),description:P("Newest first (good for live events)")}),s&&C.push({key:"best_first",text:P("Top First"),description:P("Top ranked first")}),C.push({key:"oldest_first",text:P("Chronological"),description:P("Chronological order (oldest first)")}),C},_=(s,w)=>v({language:w}).find(P=>P.key===s).text,g=function(s,w){if(Symbol.iterator in Object(s)){for(const P of s)if(w(P)===!1||g(P.children||[],w)===!1)return!1}},E={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required",reported:"reported"},S=new Set([E.review_required,E.edit_review_required,E.published,E.moderator_approved,E.new_commenter_approval_required,E.reported]),O=s=>s.deleted?!1:S.has(s.status);function A(s,w){const{attachments:P}=s;if(P&&P.length>0){for(const C of P)if(C.type==="post"){for(const x of C.post.publishedBylines)if(x.id===w)return!0;if((0,t.wN)(C.publication,w))return!0}else if(C.type==="comment"){if(C.comment.user_id===w)return!0}else if(C.type==="publication"&&(0,t.wN)(C.publication,w))return!0}return u(s).has(w)}function u(s){var w,P,C;const x=[];if(s.body_json)for(const D of(0,a.Z)(s.body_json))D.type==="substack_mention"&&(((w=D.attrs)==null?void 0:w.mentionType)==="user"||!((P=D.attrs)!=null&&P.mentionType))&&x.push((C=D.attrs)==null?void 0:C.id);return new Set(x)}function o(s){var w,P;const C=[];if(s.body_json)for(const x of traverse(s.body_json))x.type==="substack_mention"&&((w=x.attrs)==null?void 0:w.mentionType)==="pub"&&C.push((P=x.attrs)==null?void 0:P.id);return new Set(C)}},11838:(K,f,e)=>{"use strict";e.d(f,{T6:()=>O,oJ:()=>E});var t=e(6400),a=e(5865),i=e(94198),c=e(2376),p=e(24706),l=e(20501),v=(o,s,w)=>new Promise((P,C)=>{var x=M=>{try{y(w.next(M))}catch(T){C(T)}},D=M=>{try{y(w.throw(M))}catch(T){C(T)}},y=M=>M.done?P(M.value):Promise.resolve(M.value).then(x,D);y((w=w.apply(o,s)).next())});const _=i.ZP.extend({name:"substack_mention",addAttributes(){return{id:u("id"),label:u("label"),mentionType:u("mentionType"),url:u("url")}},renderHTML({node:o,HTMLAttributes:s}){return["substack-mention",(0,a.P1)({class:"substack-mention","data-type":this.name},this.options.HTMLAttributes,s),this.options.renderLabel({options:this.options,node:o})]},addNodeView(){return(0,p.fW)(A)}}),g=o=>s=>v(void 0,[s],function*({editor:w,query:P}){if(P.length<1)return[];const{mentionsSearch:C}=e(86602);return yield C(P,{pathname:o})}),E=o=>s=>v(void 0,[s],function*({editor:w,query:P}){if(P.length<2)return[];const{chatMentionsSearch:C}=e(86602);return yield C(P,{pathname:o})}),S=(o="user")=>()=>{const s=e(42441),w=s.prototype.stopCallback;let P,C;const x=(D,y=!1)=>({items:D.items,query:D.query,isLoading:y,selectItem:M=>M&&D.command({id:M.id,label:M.name,mentionType:M.type,url:M.url}),placeholderText:o==="user"?"Mention a person...":"Mention a person or publication...",noResultsText:o==="user"?"No people found":"No person or publication found",minQueryLength:2});return{onStart:D=>{const{AutocompleteResults:y}=e(92949),M=e(79253).ZP;P=new p.M_(y,{props:x(D),editor:D.editor}),C=M("body",{getReferenceClientRect:D.clientRect,appendTo:()=>document.getElementsByClassName("editor-scroll")[0]||document.body,content:P.element,popperOptions:{strategy:"absolute",modifiers:[{options:{altAxis:!0}}]},showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}),s.prototype.stopCallback=function(T,R,F){return F==="esc"?!0:w(T,R,F)}},onBeforeUpdate(D){C&&C[0].show(),P&&P.updateProps(x(D,!0)),D.clientRect&&C&&C[0].setProps({getReferenceClientRect:D.clientRect})},onUpdate(D){P&&P.updateProps(x(D,!1)),C&&C[0].setProps({getReferenceClientRect:D.clientRect})},onKeyDown(D){var y;return D.event.key==="Escape"?(C&&C[0]&&C[0].destroy(),C=null,P&&P.destroy(),P=null,setTimeout(()=>{s.prototype.stopCallback=w},0),!0):(y=P==null?void 0:P.ref)==null?void 0:y.onKeyDown(D)},onExit(D){s.prototype.stopCallback=w,C&&C[0]&&C[0].destroy(),C=null,P&&P.destroy(),P=null}}},O=_.configure({HTMLAttributes:{class:"substack-mention"},suggestion:{char:"@",pluginKey:new c.H$("substack_mention"),decorationClass:"substack-mention",allowSpaces:!0,startOfLine:!1,items:g("/api/v1/reader/comments/mention"),render:S("user")}});function A({node:{attrs:{id:o,label:s}}}){return(0,t.h)(p.T5,{as:"a",href:(0,l.getProfileUrlById)(o,s),className:"substack-mention"},["@",s])}function u(o){return{default:null,parseHTML:s=>s.getAttribute(`data-${o}`),renderHTML:s=>s[o]?{[`data-${o}`]:s[o]}:{}}}},69578:(K,f,e)=>{"use strict";e.d(f,{Z:()=>C,t:()=>P});var t=e(99734),a=e(67937),i=e(30561),c=e(57355),p=e(83416),l=e(20336),v=e(7490),_=e(73816),g=e(71462),E=e(34565),S=e(51575),O=e(26022),A=e(4281),u=e(52701),o=e(11838);const s=l.Z.extend({addAttributes(){return{schemaVersion:{default:"v1"}}}}),w=[a.ZP,i.ZP,c.ZP,p.ZP,v.Z,_.ZP,E.Z,S.ZP,O.Z,A.ZP,u.Z,s,t.ZP,g.Z.configure({linkOnPaste:!1,openOnClick:!1,HTMLAttributes:{class:"note-link",rel:"nofollow ugc noopener",target:"_blank"}}),o.T6],P=["listItem","codeBlock","heading","paragraph"],C=w},44043:(K,f,e)=>{"use strict";e.d(f,{F:()=>t});const t={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_MEDIA_CLICKED:"Add Episode Media Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APPLE_SMART_APP_BANNER_MAYBE_SEEN:"Apple Smart App Banner Maybe Seen",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_INSTALL_MODAL_OPENED:"App Install Modal Opened",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIOGRAM_DOWNLOAD_CLICKED:"Audiogram Download Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_REFERRAL_VISIT:"Cover Page Referral Visit",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DASHBOARD_ACTION_CTA_DISMISSED:"Dashboard Action Cta Dismissed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_AWARENESS_UPDATED:"Editor Awareness Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURED_COLLECTION_ITEM_CLICKED:"Featured Collection Item Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_HIDDEN_REPLIES_VIEWED:"Feed Hidden Replies Viewed",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_MODULE_ITEM_CLICKED:"Feed Module Item Clicked",FEED_MODULE_ITEM_SEEN:"Feed Module Item Seen",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMAGE_CONTEXT_MENU_CLICKED:"Image Context Menu Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_LAYOUT_CHANGED:"Inbox Layout Changed",INBOX_POST_CLICKED:"Inbox Post Clicked",INBOX_TAB_CHANGED:"Inbox Tab Changed",INSTAGRAM_SHARE_MODAL_SEEN:"Instagram Share Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SEEN:"Internationalization Beta Optin Modal Seen",INTERNATIONALIZATION_BETA_OPTIN_MODAL_SUBMITTED:"Internationalization Beta Optin Modal Submitted",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",LOCAL_PAYMENT_METHODS_MODAL_SEEN:"Local Payment Methods Modal Seen",LOCAL_PAYMENT_METHODS_MODAL_TURN_OFF_CLICKED:"Local Payment Methods Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",MILESTONE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Milestone Media Assets Image Downloaded",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",NOT_YOU_BANNER_DISMISSED:"Not You Banner Dismissed",NOT_YOU_BANNER_TAPPED:"Not You Banner Tapped",NOT_YOU_BANNER_VIEWED:"Not You Banner Viewed",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PLEDGE_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Pledge Note Media Assets Image Downloaded",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAGE_REFERRAL_CTA_DISMISSED:"Post Page Referral Cta Dismissed",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_STATS_ANNOUNCEMENT_CLICKED:"Post Stats Announcement Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFERRED_LANGUAGE_SET:"Preferred Language Set",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_MEDIA_CLICKED:"Processing Episode Media Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_MORE_MENU_TAPPED:"Profile More Menu Tapped",PROFILE_PEOPLE_LIST_VIEWED:"Profile People List Viewed",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLIC_LEADERBOARD_VIEWED:"Public Leaderboard Viewed",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_FLOATING_CTA_HOVERED:"Reader Floating Cta Hovered",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",READING_QUEUE_ITEM_CLICKED:"Reading Queue Item Clicked",READING_QUEUE_ITEM_DISMISSED:"Reading Queue Item Dismissed",READING_QUEUE_ITEM_SEEN:"Reading Queue Item Seen",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REDIRECTED_PAYMENT_SCREEN_SHOWN:"Redirected Payment Screen Shown",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",RESTACK_SELECTION_CLICKED:"Restack Selection Clicked",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCHEDULED_POST_SEEN:"Scheduled Post Seen",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_PLANS_PAGE_FAILED:"Setup Plans Page Failed",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_CENTER_INSTAGRAM_MODAL_OPENED:"Share Center Instagram Modal Opened",SHARE_CENTER_MEDIA_ASSETS_EMAILED:"Share Center Media Assets Emailed",SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED:"Share Center Media Assets Emailed Failed",SHARE_CENTER_SEEN:"Share Center Seen",SHARE_CENTER_VIDEO_DOWNLOADED:"Share Center Video Downloaded",SHARE_CENTER_VIDEO_SELECT_QUOTE_CLICKED:"Share Center Video Select Quote Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",SHARE_SELECTION_EDIT_MODAL_OPENED:"Share Selection Edit Modal Opened",SHARE_SELECTION_IMAGE_DOWNLOADED:"Share Selection Image Downloaded",SHARE_SELECTION_INSTAGRAM_MODAL_OPENED:"Share Selection Instagram Modal Opened",SHARE_SELECTION_MODAL_OPENED:"Share Selection Modal Opened",SHARE_SELECTION_RESTACK_CLICKED:"Share Selection Restack Clicked",SIGN_IN_APP_UPSELL_CLICKED:"Sign In App Upsell Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PAGE_REFERRAL_VISIT:"Subscribe Page Referral Visit",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_STEP_SHOWN:"Subscribe Screen Step Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUBSCRIPTION_NOTE_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Subscription Note Media Assets Image Downloaded",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TRANSCRIPTION_PAGE_VIEWED:"Transcription Page Viewed",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_CLIP_BUTTON_CLICKED:"Video Clip Button Clicked",VIDEO_CLIP_BUTTON_SEEN:"Video Clip Button Seen",VIDEO_CLIP_CREATE_MODAL_CLOSED:"Video Clip Create Modal Closed",VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED:"Video Clip Download Button Clicked",VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN:"Video Clip Instagram Share Modal Seen",VIDEO_CLIP_LOOP_BUTTON_CLICKED:"Video Clip Loop Button Clicked",VIDEO_CLIP_MODAL_CLOSED:"Video Clip Modal Closed",VIDEO_CLIP_SEEKED:"Video Clip Seeked",VIDEO_CLIP_SEEN:"Video Clip Seen",VIDEO_CLIP_SHARE_BUTTON_CLICKED:"Video Clip Share Button Clicked",VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED:"Video Clip Watch Full Episode Button Clicked",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_QUOTE_TEXT_SELECTED:"Video Quote Text Selected",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},a={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",CONTACT_SYNC_INITIATED:"Contact Sync Initiated",CONTACT_SYNC_PERMISSIONS_SCREEN_COMPLETED:"Contact Sync Permissions Screen Completed",CONTACT_SYNC_PERMISSIONS_SCREEN_VIEWED:"Contact Sync Permissions Screen Viewed",CONTACT_SYNC_SCREEN_DISMISSED:"Contact Sync Screen Dismissed",CONTACT_SYNC_SCREEN_VIEWED:"Contact Sync Screen Viewed",CONTACT_SYNC_SUGGESTIONS_SCREEN_COMPLETED:"Contact Sync Suggestions Screen Completed",CONTACT_SYNC_SUGGESTIONS_SCREEN_VIEWED:"Contact Sync Suggestions Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",FOLLOW_MODAL_VIEWED:"Follow Modal Viewed",IAP_PAYMENT_PROCESSED:"Iap Payment Processed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_MANAGE_SUBSCRIPTION_ITEM_TAPPED:"Mobile Manage Subscription Item Tapped",MOBILE_MANAGE_SUBSCRIPTION_SCREEN_VIEWED:"Mobile Manage Subscription Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",MOBILE_SUBSCRIBE_CTA_TAPPED:"Mobile Subscribe Cta Tapped",MOBILE_SUBSCRIBE_SCREEN_COMPLETED:"Mobile Subscribe Screen Completed",MOBILE_SUBSCRIBE_SCREEN_OPTION_SELECTED:"Mobile Subscribe Screen Option Selected",MOBILE_SUBSCRIBE_SCREEN_VIEWED:"Mobile Subscribe Screen Viewed",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_CATEGORIES_SCREEN_COMPLETED:"Onboarding Categories Screen Completed",ONBOARDING_CATEGORIES_SCREEN_VIEWED:"Onboarding Categories Screen Viewed",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PHONE_VERIFICATION_CODE_SCREEN_COMPLETED:"Phone Verification Code Screen Completed",PHONE_VERIFICATION_CODE_SCREEN_VIEWED:"Phone Verification Code Screen Viewed",PHONE_VERIFICATION_SCREEN_COMPLETED:"Phone Verification Screen Completed",PHONE_VERIFICATION_SCREEN_VIEWED:"Phone Verification Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",REQUESTING_CONTACTS_ACCESS:"Requesting Contacts Access",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},18349:(K,f,e)=>{"use strict";e.r(f),e.d(f,{I18N:()=>w,defaultTemplateTranslate:()=>O,getLanguage:()=>A,i:()=>u,l:()=>s,p:()=>o,serializeStringTemplate:()=>S,supportedLanguages:()=>_,supportedNonEnglishLanguages:()=>g});/*! gettext.js - Guillaume Potier - MIT Licensed */var t=function(P){P=P||{},this&&(this.__version="1.1.1");var C={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(H){return{nplurals:2,plural:H!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},x={isObject:function(H){var G=typeof H;return G==="function"||G==="object"&&!!H},isArray:function(H){return toString.call(H)==="[object Array]"}},D={},y=P.locale||C.locale,M=P.domain||C.domain,T={},R={},F=P.ctxt_delimiter||C.ctxt_delimiter;P.messages&&(T[M]={},T[M][y]=P.messages),P.plural_forms&&(R[y]=P.plural_forms);var N=function(H){var G=arguments;return H.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(q,z){return G[z]}).replace(/%% /g,"%")},U=function(H){if(H.indexOf(F)!==-1){var G=H.split(F);return G[1]}return H},V=function(H){for(var G=[H],q=H.lastIndexOf("-");q>0;)H=H.slice(0,q),G.push(H),q=H.lastIndexOf("-");return G},W=function(H){H=H.replace("_","-");var G=H.search(/[.@]/);return G!=-1&&(H=H.slice(0,G)),H},L=function(H){var G=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!G.test(H))throw new Error(N('The plural form "%1" is not valid',H));return new Function("n","var plural, nplurals; "+H+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},k=function(H,G,q){if(!q.plural_form)return N.apply(this,[U(H[0])].concat(Array.prototype.slice.call(arguments,3)));var z;return q.plural_func?z=q.plural_func(G):(D[y]||(D[y]=L(R[y])),z=D[y](G)),(typeof z.plural=="undefined"||z.plural>z.nplurals||H.length<=z.plural)&&(z.plural=0),N.apply(this,[U(H[z.plural]),G].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:N,expand_locale:V,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(H,G,q,z){if(!H||!G||!q)throw new Error("You must provide a domain, a locale and messages");if(typeof H!="string"||typeof G!="string"||!x.isObject(q))throw new Error("Invalid arguments");return G=W(G),z&&(R[G]=z),T[H]||(T[H]={}),T[H][G]=q,this},loadJSON:function(H,G){if(x.isObject(H)||(H=JSON.parse(H)),!H[""]||!H[""].language||!H[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var q=H[""];return delete H[""],this.setMessages(G||C.domain,q.language,H,q["plural-forms"])},setLocale:function(H){return y=W(H),this},getLocale:function(){return y},textdomain:function(H){return H?(M=H,this):M},gettext:function(H){return this.dcnpgettext.apply(this,[void 0,void 0,H,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(H,G,q){return this.dcnpgettext.apply(this,[void 0,void 0,H,G,q].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(H,G){return this.dcnpgettext.apply(this,[void 0,H,G,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(H,G,q,z,ee){if(H=H||M,typeof q!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',q));var $,J={plural_form:!1},j=G?G+F+q:q,Z,ne,ie=V(y);for(var oe in ie)if(ne=ie[oe],Z=T[H]&&T[H][ne]&&T[H][ne][j],z?Z=Z&&typeof T[H][ne][j]!="string":Z=Z&&typeof T[H][ne][j]=="string",Z)break;return Z?$=T[H][ne][j]:($=q,J.plural_func=C.plural_func),z?(J.plural_form=!0,k.apply(this,[Z?$:[q,z],ee,J].concat(Array.prototype.slice.call(arguments,5)))):k.apply(this,[[$],ee,J].concat(Array.prototype.slice.call(arguments,5)))}}};const a=t,i=a();i.setLocale("de");const c=a();c.setLocale("fr");const p=a();p.setLocale("es");const l=a(),v="en",_=["en","de","es","fr"],g=["de","es","fr"],E=P=>({de:i,es:p,fr:c})[P]||l,S=P=>(Array.isArray(P)?(P[0]||"")+P.slice(1).map((C,x)=>`%${x+1}${C}`).join(""):P).toString(),O=(P,...C)=>{const x=S(P);return l.gettext(x,...C)},A=({pub:P,locale:C}={})=>{let x;switch(C==null?void 0:C.language){case"de":x="de";break;case"es":x="es";break;case"fr":x="fr";break;default:x="en"}return(P==null?void 0:P.language)||x||v},u=(P=v)=>{const C=typeof P=="string"?P:P?A({pub:P.pub}):v,x=E(C),D=M=>M.replace(/%%([A-Za-z_]+)%/g,"%%$1%% ");return{iString:(M,...T)=>D(x.gettext(M,...T)),iPlural:(M,T,R,...F)=>D(x.ngettext(M,T,R,...F)),iContext:(M,T,...R)=>D(x.pgettext(M,T,...R)),iTemplate:(M,...T)=>{const R=S(M);return D(x.gettext(R,...T))},iCombo:(M,T,R,F,...N)=>D(x.dcnpgettext(null,M,T,R,F,...N))}},o=P=>[P,null],s=(P,C)=>{const x=E(P),D=JSON.parse(JSON.stringify(C));x.loadJSON(D,"messages")},w={i:u,p:o,l:s};if(typeof window=="undefined"){const P=e(Object(function(){var y=new Error("Cannot find module '@/lib/translations/build/translations-de.json'");throw y.code="MODULE_NOT_FOUND",y}()));w.l("de",P);const C=e(Object(function(){var y=new Error("Cannot find module '@/lib/translations/build/translations-es.json'");throw y.code="MODULE_NOT_FOUND",y}()));w.l("es",C);const x=e(Object(function(){var y=new Error("Cannot find module '@/lib/translations/build/translations-fr.json'");throw y.code="MODULE_NOT_FOUND",y}()));w.l("fr",x)}typeof window!="undefined"?window.I18N=w:e.g.I18N=w},61782:(K,f,e)=>{"use strict";e.d(f,{L:()=>t});const t=1653592864},48971:(K,f,e)=>{"use strict";e.r(f),e.d(f,{DEFAULT_MINIMUM_RATES:()=>i,MAX_MONTHLY_RATE:()=>c,MAX_YEARLY_RATE:()=>p,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>a,currencyFormattedPledgePriceString:()=>v,validatePledgePrices:()=>l});var t=e(83322);const a={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},i={month:5,year:50,founding:50},c=100,p=1e3,l=_=>{const{value:g,interval:E,is_founding:S,currency:O}=_,A=(a[O.toLowerCase()]||i)[S?"founding":E],u=E==="month"?c:p;return g<A?`${(0,t.toTitleCase)(E)}ly plan price must be at least ${v(A,O)}`:g>u?`${(0,t.toTitleCase)(E)}ly${_.is_founding?" founding":""} plan price must be less than ${v(u,O)}`:null},v=(_,g)=>(0,t.centsToPriceString)(_*((0,t.isZeroDecimalCurrency)(g)?1:100),g)},6385:(K,f,e)=>{"use strict";e.r(f),e.d(f,{getAllAudiences:()=>O,getAudiencesForPublicListing:()=>A,getCommentAuthor:()=>V,getCoverImageUrl:()=>W,getFoundingAudiences:()=>o,getPaidAudiences:()=>u,getPostAuthor:()=>U,isFoundingAudience:()=>w,isPaidAudience:()=>s,previewSubHasFullAccessToPost:()=>N,pubRoleHasFullAccessToPost:()=>R,pubRolesHaveFullAccessToPost:()=>F,subHasFullAccessToPost:()=>y,subHasFullAccessToPostAudience:()=>M,userHasFullAccessToPost:()=>x});var t=Object.defineProperty,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(L,k,H)=>k in L?t(L,k,{enumerable:!0,configurable:!0,writable:!0,value:H}):L[k]=H,l=(L,k)=>{for(var H in k||(k={}))i.call(k,H)&&p(L,H,k[H]);if(a)for(var H of a(k))c.call(k,H)&&p(L,H,k[H]);return L},v=(L,k)=>{var H={};for(var G in L)i.call(L,G)&&k.indexOf(G)<0&&(H[G]=L[G]);if(L!=null&&a)for(var G of a(L))k.indexOf(G)<0&&c.call(L,G)&&(H[G]=L[G]);return H};const _=["founding","only_paid","everyone","only_free"],g=["founding","only_paid","everyone"],E=["founding","only_paid"],S=["founding"];function O(){return[..._]}function A(){return[...g]}function u(){return[...E]}function o(){return[...S]}function s(L){return u().includes(L)}function w(L){return o().includes(L)}function P(L,k,H){if(!k&&!H||(L==null?void 0:L.subscription_publication_id)===k||(L==null?void 0:L.subscription_publication_id)===H){if(L!=null&&L.is_founding||L!=null&&L.is_contributor)return"founding";if(L!=null&&L.is_subscribed)return"paid"}return"free"}function C(L){switch(L){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${L}`)}}function x(L,k,H){if(!k)return!1;if(!k.audience)throw new Error("Post has no audience");const G=P(L,k.publication_id,H==null?void 0:H.parent_publication_id);return C(k.audience).includes(G)}function D(L,k){if(!k||(L==null?void 0:L.publication_id)===k){if((L==null?void 0:L.membership_state)==="subscribed"&&(L!=null&&L.is_founding))return"founding";if((L==null?void 0:L.membership_state)==="subscribed")return"paid"}return"free"}function y(L,k){if(!k)return!1;if(!k.audience)throw new Error("Post has no audience");const H=D(L,k.publication_id);return C(k.audience).includes(H)}function M(L,k){const H=D(L);return C(k).includes(H)}function T(L){return(L==null?void 0:L.role)==="admin"||(L==null?void 0:L.role)==="contributor"||(L==null?void 0:L.membership_state)==="subscribed"&&(L!=null&&L.is_founding)?"founding":(L==null?void 0:L.membership_state)==="subscribed"?"paid":"free"}function R(L,k){if(!k)return!1;if(!k.audience)throw new Error("Post has no audience");const H=T(L);return C(k.audience).includes(H)}function F(L,k){return!!(k&&(R(L==null?void 0:L[k.publication_id],k)||k.parent_publication_id&&R(L==null?void 0:L[k.parent_publication_id],k)))}function N(L,k,{audienceOverride:H}){if(!k)return!1;if(!k.audience&&!H)throw new Error("Post has no audience");const G=L;return C(H!=null?H:k.audience).includes(G)}function U(L,k){var H;const G=(H=k==null?void 0:k.publishedBylines)==null?void 0:H[0];if(G)return G;const q=L.contributors.find(ee=>ee.owner);if(q){const ee=q,{user_id:$}=ee,J=v(ee,["user_id"]);return l({id:$},J)}const z=L.contributors.find(ee=>["admin","contributor"].includes(ee.role));if(z){const ee=z,{user_id:$}=ee,J=v(ee,["user_id"]);return l({id:$},J)}return{id:L.author_id,name:L.author_name,photo_url:L.author_photo_url,bio:L.author_bio}}function V(L){var k,H,G,q,z,ee,$,J,j,Z,ne,ie,oe,re,ae;return{id:(G=(H=(k=L.user)==null?void 0:k.id)!=null?H:L.user_id)!=null?G:-1,name:(ee=(z=(q=L.user)==null?void 0:q.name)!=null?z:L.name)!=null?ee:"",handle:(J=($=L.user)==null?void 0:$.handle)!=null?J:L.handle,photo_url:(Z=(j=L.user)==null?void 0:j.photo_url)!=null?Z:L.photo_url,bestseller_tier:(oe=(ie=(ne=L.user)==null?void 0:ne.bestseller_tier)!=null?ie:L.user_bestseller_tier)!=null?oe:null,primary_publication:(ae=(re=L.user)==null?void 0:re.primary_publication)!=null?ae:L.user_primary_publication}}function W(L){return!L.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(L.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(L.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(L.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(L.cover_image)?null:L.cover_image}},85200:(K,f,e)=>{"use strict";e.d(f,{FV:()=>g,Im:()=>l,ab:()=>v,wN:()=>_});var t=e(39693),a=e.n(t),i=e(15045),c=e(83322);const p=function(E){const S=E.trim();return(0,c.endsWithPunctuation)(S)?S:`${S}.`},l=function(E,S=3){if(!(E!=null&&E.length)||!E[0].owner)return null;const O=E[0].name;if(E.length===1)return{owner:O,others:null};let A=E.slice(1);if(A.length>S&&(A=A.filter(u=>u.role==="admin")),A.length&&A.length<=S){const u=A.map(o=>o.name);return{owner:O,others:(0,c.oxfordComma)(u).toString()}}return{owner:O,others:null}},v=function(E,S,O,A,u){const o=E?p(E):"";let s;S&&!S.others?A.toLowerCase().includes(S.owner.toLowerCase())?s="":s=` by ${S.owner},`:s="";let w;return O?w=` a Substack publication with ${O}.`:u?w=` a Substack publication. ${u}.`:w=" a Substack publication.",p(`${o} Click to read ${A},${s}${w}`)};function _(E,S){if(E){if(E.author_id===S)return!0;for(const O of E.contributors)if(O.user_id===S)return!0}return!1}const g=E=>{const S=E.podcast_enabled?{title:E.podcast_title,subtitle:E.podcast_description,podcast_art_url:E.podcast_art_url,url:(0,i.getPodcastLandingUrl)({pub:E,section:null})}:null,O=E.sections.filter(A=>A.is_podcast).map(A=>{var u,o;return{title:A.name,subtitle:(u=A.podcastSettings)==null?void 0:u.podcast_description,podcast_art_url:(o=A.podcastSettings)==null?void 0:o.podcast_art_url,url:(0,i.getPodcastLandingUrl)({pub:E,section:A})}});return a()([S,...O])}},91613:(K,f,e)=>{"use strict";e.d(f,{x:()=>a});var t=e(6385);const a=(i,c,p,l,v)=>!(!v&&!(i!=null&&i.has_publication)||l.invite_only||(0,t.isPaidAudience)(p.audience)||!c.enable_restacking)},68842:(K,f,e)=>{"use strict";e.r(f),e.d(f,{foundingPlanMinimum:()=>_,generatePlanNickname:()=>l,getStripeChargeStatusMapper:()=>A,getStripeErrorRewrite:()=>O,isSubscriptionInvoiced:()=>g,paymentMethodTypeMapper:()=>u,planAmount:()=>v,stripeInvoiceStatusMapper:()=>E,stripeSubscriptionStatusMapper:()=>S});var t=e(27484),a=e.n(t),i=e(83322);const c=e(18029),p={"This customer has no attached payment source":"Please enter payment details"},l=({amount:o,currency:s,interval:w,interval_count:P=1})=>{let C;return w==="month"&&P===3?C="quarter":w==="month"&&P===6&&(C="semiannual"),`${(0,i.centsToPriceString)(o,s)} ${C?`${C}ly`:`a ${w}`}`},v=(o,s)=>{var w;let P;if(!s||s===o.currency)P=o.object==="price"?o.unit_amount:o.amount;else{if(!((w=o.currency_options)!=null&&w[s]))return;P=o.currency_options[s].unit_amount}return P!=null?P:0},_=(o,s)=>{var w;return!s||s===o.currency?o.metadata.minimum:(w=o.metadata.minimum_local)==null?void 0:w[s]},g=o=>o.billing==="send_invoice",E=(o,s)=>{if(o==="open"&&a()(s).isBeforeNow())return"Overdue";switch(o){case"open":return"Unpaid";default:return c(o)}},S=(o,{language:s})=>{const{iString:w}=I18N.i(s!=null?s:"en");switch(o){case"active":return w("Active");case"canceled":return w("Canceled");case"incomplete":return w("Incomplete");case"incomplete_expired":return w("Incomplete Expired");case"past_due":return w("Past Due");case"trialing":return w("Trialing");case"unpaid":return w("Unpaid");default:return c(o)}},O=o=>p[o]?p[o]:o.includes("Set an `address` on the customer object and verify with the `tax[automatic_tax]` status.")?"Please enter your billing details and try again":null,A=(o,s)=>{if(s)return"Refunded";switch(o){case"succeeded":return"Paid";default:return c(o)}},u=o=>{switch(o){case"card":return"Card";case"bancontact":return"Bancontact";case"ideal":return"iDEAL";case"sofort":return"Sofort";case"sepa_debit":return"SEPA Direct Debit";default:return c(o)}}},82771:(K,f,e)=>{"use strict";e.d(f,{Rg:()=>s,hd:()=>o});var t=e(85928),a=e.n(t),i=e(6385),c=e(15045),p=e(83322),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(P,C,x)=>C in P?l(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,A=(P,C)=>{for(var x in C||(C={}))E.call(C,x)&&O(P,x,C[x]);if(g)for(var x of g(C))S.call(C,x)&&O(P,x,C[x]);return P},u=(P,C)=>v(P,_(C));function o(P,{name:C,url:x,description:D,potentialAction:y}={}){return y===void 0&&(y={"@type":"SearchAction",name:`Search ${P.name}`,target:`${P.base_url}${(0,c.getBaseArchiveUrl)(P)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:C||P.name,publisher:A(A({"@type":"Organization",name:P.name,url:P.base_url},P.logo_url?{logo:{"@type":"ImageObject",url:P.logo_url}}:{}),P.twitter_screen_name?{sameAs:[`https://twitter.com/${P.twitter_screen_name}`]}:{}),url:x||P.base_url,mainEntityOfPage:{"@type":"WebPage",url:x||P.base_url},description:D||P.hero_text,potentialAction:y}}function s(P,C){var x,D,y,M;const T=(0,p.getBylineUsers)(C),R=A(A(u(A({"@type":"Organization",name:(P.parent_publication||P).name,url:(0,c.getBaseUrl)(P.parent_publication||P),description:(P.parent_publication||P).hero_text},P.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:P.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(P.parent_publication||P).id}`}),(P.parent_publication||P).logo_url&&{logo:{"@type":"ImageObject",url:(P.parent_publication||P).logo_url,contentUrl:(0,c.imginary)((x=(P.parent_publication||P).logo_url)!=null?x:""),thumbnailUrl:(0,c.imginary)((D=(P.parent_publication||P).logo_url)!=null?D:"",128,{height:128})},image:{"@type":"ImageObject",url:(P.parent_publication||P).logo_url,contentUrl:(0,c.imginary)((y=(P.parent_publication||P).logo_url)!=null?y:""),thumbnailUrl:(0,c.imginary)((M=(P.parent_publication||P).logo_url)!=null?M:"",128,{height:128})}}),(P.parent_publication||P).twitter_screen_name&&{sameAs:[`https://twitter.com/${(P.parent_publication||P).twitter_screen_name}`]});return u(A({"@context":"https://schema.org","@type":"NewsArticle",url:(0,c.getPostUrl)(P,C),mainEntityOfPage:(0,c.getPostUrl)(P,C),headline:C.search_engine_title||C.social_title||C.title,description:C.search_engine_description||C.description,image:C.cover_image?[{"@type":"ImageObject",url:C.cover_image}]:[],datePublished:a()(C.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:a()(C.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,i.isPaidAudience)(C.audience)},C.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:T.length>0?T.map(F=>A(A({"@type":"Person",name:F.name,url:(0,c.getReaderProfileUrl)(F),description:F.bio,identifier:`user:${F.id}`},F.twitter_screen_name&&{sameAs:[`https://twitter.com/${F.twitter_screen_name}`]}),F.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,c.imginary)(F.photo_url),thumbnailUrl:(0,c.imginary)(F.photo_url,128,{height:128})}})):R,publisher:R})}function w(P){return A({"@context":"https://schema.org","@type":"Person",image:(P==null?void 0:P.photo_url)&&imginary(P.photo_url),name:`${P==null?void 0:P.name}`,url:P&&getReaderProfileUrl(P),jobTitle:P==null?void 0:P.bio,description:P==null?void 0:P.bio},P!=null&&P.twitter_screen_name?{sameAs:[`https://twitter.com/${P.twitter_screen_name}`]}:{})}},86418:(K,f,e)=>{"use strict";e.d(f,{P:()=>i});const t=new Set(["subscribed","free_signup"]);function a(c){return t.has(c)}function i(c,p){if(!c)return!1;if(!p)return!0;const l=["unsubscribed","free_signup","subscribed"];return l.indexOf(c)>=l.indexOf(p)}},21125:(K,f,e)=>{"use strict";e.d(f,{gg:()=>i});var t=e(25235);function a(p){return p&&c(p)[0]||null}function i(p){return p&&c(p).pop()||null}function c(p){return(0,t.find)(p).filter(l=>l.type==="url"&&l.href.startsWith("http"))}},46131:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function*t(a){if(yield a,a.content)for(const i of a.content)yield*t(i)}},91733:(K,f,e)=>{"use strict";var t=(a=>(a.CONTRIBUTOR="contributor",a.FOUNDING="founding",a.PAID="paid",a.FREE="free_subscriber",a))(t||{})},81470:(K,f,e)=>{"use strict";e.d(f,{U:()=>t});var t=(i=>(i.Feed="feed",i.FeedSidebar="feed-sidebar",i.Suggestions="suggestions",i.Permalink="permalink",i.Profile="profile",i.Post="post",i.PostEmbed="post-embed",i.Publication="publication",i.RestacksList="restacks-list",i))(t||{}),a=(i=>(i.ForYou="for-you",i.Subscribed="subscribed",i.Writers="writers-v2",i.Everyone="everyone",i.FirstNote="first-note",i.FeaturedContentPreview="featured-content-preview",i))(a||{})},18255:(K,f,e)=>{"use strict";e.d(f,{E4:()=>t,ML:()=>a});var t=(c=>(c.CompOneMonth="comp_one_month",c.CompThreeMonths="comp_three_months",c.CompSixMonths="comp_six_months",c.CompNineMonths="comp_nine_months",c.CompTwelveMonths="comp_twelve_months",c.Custom="custom",c))(t||{});const a={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},i={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365}},20501:(K,f,e)=>{"use strict";e.r(f),e.d(f,{CDN_URL:()=>a.L4,CHAT_EXAMPLES_URL:()=>ke,CHAT_FAQ_URL:()=>Ne,FEED_PATH:()=>i.Ds,FEED_PATH_NAME:()=>i.qB,OLD_FEED_PATH:()=>i.Z3,_getUrl:()=>a.JD,extractDimensionsFromImageUrl:()=>gt,feedPathRegex:()=>i.Qe,fixOldFeedPath:()=>i.sm,getActivityRepliesDeepLinkUrl:()=>i.AP,getAddPodcastToSectionUrl:()=>Oe,getAppLinkTabUrl:()=>ae,getBaseAppLinkUrl:()=>j,getBaseUrl:()=>a.SV,getBillingDetailsUrl:()=>y,getBillingHistoryUrl:()=>M,getCancelOrUncancelUrl:()=>It,getChangeEmailUrl:()=>F,getChatAppLinkUrl:()=>ie,getCollabPostUrl:()=>Hn,getCommentDeepLinkUrl:()=>i.z5,getCommentEntityKey:()=>i.It,getCommentFallbackUrl:()=>i.NZ,getCommunityCommentAppLinkUrl:()=>Ae,getCommunityPostAppLinkUrl:()=>le,getCommunityPostEntityKey:()=>i.AO,getConnectFacebookUrl:()=>Ve,getConnectTwitterUrl:()=>xe,getContactSyncAppLinkUrl:()=>oe,getContactSyncDeepLinkUrl:()=>re,getCreateNotesUrl:()=>i.TK,getCustomPublicationThemeDisablePreviewUrl:()=>Re,getCustomPublicationThemePreviewUrl:()=>Xe,getDashboardHomeUrl:()=>G,getDiscoveryLeaderboardUrl:()=>_t,getDonateSubscriptionUrl:()=>x,getEditPostUrlById:()=>c.getEditPostUrlById,getEditProfileUrl:()=>p.getEditProfileUrl,getEditPubPodcastUrl:()=>Ze,getEditSectionPodcastUrl:()=>Fe,getEmailTestUrl:()=>T,getFeedCommentAppLinkUrl:()=>De,getFeedCommentUrl:()=>i.Sg,getFeedPeopleYouMayKnowUrl:()=>i.kM,getFeedPostRestacksUrl:()=>i.Oi,getFeedPostUrl:()=>i.rc,getFeedShortPostUrl:()=>i.mx,getFeedUrl:()=>i.E2,getGiftsUrl:()=>R,getGroupManagementUrl:()=>k,getHcProfileViolationFormUrl:()=>Le,getHostname:()=>a.Fo,getImginariedFavicons:()=>$e,getImportPodcastToSectionUrl:()=>Se,getInboxAppLinkUrl:()=>Z,getLeaderboardUrl:()=>Bt,getLikelyLoggedInParam:()=>c.getLikelyLoggedInParam,getLinkToVideo:()=>c.getLinkToVideo,getLinkableElementIdForVideo:()=>c.getLinkableElementIdForVideo,getManageGroupSubscriptionUrl:()=>U,getManageSubscriptionUrl:()=>N,getMeetingAdminUrl:()=>J,getMeetingOrderUrl:()=>ee,getMeetingsUrl:()=>$,getMentionsUrl:()=>Dt,getNavigationBarItemUrl:()=>we,getNoteCommentPreviewUrl:()=>i.IY,getNoteEntityKey:()=>i.D2,getNoteRestacksUrl:()=>i.Ed,getNoteUrl:()=>i.gt,getNotesDeepLinkUrl:()=>i.iA,getOfferSubscribeUrl:()=>D,getPodcastArchiveUrl:()=>Be,getPodcastRssUrlFromIds:()=>xn,getPostDashboardUrl:()=>H,getPostDeepLinkUrl:()=>i.sH,getPostDetailsPageUrl:()=>zt,getPostDetailsShareCenterUrl:()=>$t,getPostEntityKey:()=>i.vy,getPostManagementUrl:()=>q,getPostTagUrl:()=>ct,getPostUrl:()=>c.getPostUrl,getPostUrlBySlug:()=>c.getPostUrlBySlug,getPresubscribeUrl:()=>w,getProfileConnectionsUrl:()=>p.getProfileConnectionsUrl,getProfileHandleUrl:()=>p.getProfileHandleUrl,getProfileSetupUrl:()=>p.getProfileSetupUrl,getProfileSubdomain:()=>p.getProfileSubdomain,getProfileUrlById:()=>p.getProfileUrlById,getPubAccountSettingsUrl:()=>c.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>he,getPublicationAppLinkUrl:()=>se,getPublicationChatAppLinkUrl:()=>fe,getPublishBaseUrl:()=>V,getPublishPledgeStats:()=>ir,getPublishSettingsUrl:()=>W,getPublishSubscriberNotesUrl:()=>Vn,getReaderAutoFollowUrl:()=>p.getReaderAutoFollowUrl,getReaderCollectionUrl:()=>Ce,getReaderInviteUrl:()=>p.getReaderInviteUrl,getReaderPostUrl:()=>Pe,getReaderProfileUrl:()=>p.getReaderProfileUrl,getRecommendedPostsUrl:()=>ut,getReferralSettingsUrl:()=>L,getSectionEmailBannerSettingUrl:()=>Ee,getSectionUrl:()=>me,getSectionWelcomeUrl:()=>P,getSharePublicationUrl:()=>o,getStreakGraphicUrl:()=>on,getStripeInvoiceUrl:()=>Qe,getStripePlanUrl:()=>et,getSubdomainOrCustomDomain:()=>ze,getSubscribeUrl:()=>s,getSubscriberDashboardUrl:()=>z,getSubstackUrl:()=>a.ZJ,getSubstackUrlWithDomain:()=>a.y,getThreadCommentsLandingPageUrl:()=>Je,getThreadsLandingPageUrl:()=>je,getUserAppLinkUrl:()=>ne,getWebChatUrl:()=>C,imginary:()=>st,isFeedPath:()=>i.Z2,isHostedBySubstack:()=>te,isHostedByUnsplash:()=>Te,isOldFeedPath:()=>i.p8,isOpenSubstackPostUrl:()=>ue,matchCommentPath:()=>i.Th,matchFeedSubpath:()=>i.Iw,matchNoteId:()=>i.WF,matchNotePath:()=>i.Po,matchOldCommentPath:()=>i.Qd,matchPostPath:()=>i.nY,parsePostUrl:()=>ln,parseUrl:()=>ot,pathWithQuery:()=>a.n1,serializeQuery:()=>a.Y$,shareSamePub:()=>tt,stripeBaseUrl:()=>Ke,substackBaseUrl:()=>a.tE,substackDomain:()=>a.T9,substackUrl:()=>a.pv,unimginary:()=>ht});var t=e(72985),a=e(30123),i=e(70444),c=e(36250),p=e(2731),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(be,We,qe)=>We in be?l(be,We,{enumerable:!0,configurable:!0,writable:!0,value:qe}):be[We]=qe,A=(be,We)=>{for(var qe in We||(We={}))E.call(We,qe)&&O(be,qe,We[qe]);if(g)for(var qe of g(We))S.call(We,qe)&&O(be,qe,We[qe]);return be},u=(be,We)=>v(be,_(We));const o=(be,We={})=>{const qe=A({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},We),Et=(0,a.SV)(be);return(0,a.n1)(Et,A(A({},qe),We))};function s(be,{root:We,user:qe,addBase:Et,skipToken:en=!1,params:In={}}={}){var qn;if(We?/[&?]$/.test(We)||(We.includes("?")||We.endsWith("%%")?We+="&":We+="?"):We=Et?`${(0,a.SV)(be)}/subscribe?`:"/subscribe?",qe!=null&&qe.email)In.autoSubmit=!0,In.email=qe==null?void 0:qe.email;else if(!In.token&&!en){const{getQueryItem:cr}=e(15045),pr=typeof window!="undefined"&&((qn=window._preloads)!=null&&qn.original_url)?cr(window._preloads.original_url,"token"):null;In.token=pr}return We+(0,a.Y$)(In)}function w(be){return`/api/v1/presubscribe/${be.id}`}function P({pub:be,section:We}){const qe=`/s/${We.slug}/welcome`;return`${(0,a.SV)(be)}${qe}`}function C({pubId:be,postId:We,commentId:qe,params:Et}){return(0,a.n1)(`${(0,a.ZJ)()}/chat${be?`/${be}`:""}${We?`/post/${We}`:""}${qe?`/reply/${qe}`:""}`,Et)}function x(be,{root:We,addBase:qe,params:Et={}}={}){return We?/[&?]$/.test(We)||(We.includes("?")||We.endsWith("%%")?We+="&":We+="?"):We=qe?`${(0,a.SV)(be)}/donate?`:"/donate?",We+(0,a.Y$)(Et)}function D(be,{root:We,user:qe,addBase:Et,offerCode:en,params:In={}}){return We?/[&?]$/.test(We)||(We.includes("?")||We.endsWith("%%")?We+="&":We+="?"):We=Et?`${(0,a.SV)(be)}/subscribe/offer/${en}?`:`/subscribe/offer/${en}?`,qe!=null&&qe.email&&(In.autoSubmit=!0,In.email=qe==null?void 0:qe.email),We+(0,a.Y$)(In)}function y(be,{utm_source:We}={}){return(0,a.n1)(`${(0,a.SV)(be)}/account/billing?details`,{utm_source:We})}function M(be,{utm_source:We}={}){return(0,a.n1)(`${(0,a.SV)(be)}/account/receipts`,{utm_source:We})}function T(be,{utm_source:We}={}){return(0,a.n1)(`${(0,a.SV)(be)}/account/email-test`,{utm_source:We})}function R({pub:be}){return`${(0,a.SV)(be)}/account/gifts`}function F({utm_source:be}={}){return(0,a.n1)(`${(0,a.ZJ)()}/account/email`,{utm_source:be})}function N(be){return`${(0,a.SV)(be)}/account`}const U=(be,We={})=>(0,a.n1)(`${(0,a.SV)(be)}/account/group`,We);function V(be,{addBase:We,baseUrlOptions:qe}={}){return`${We?(0,a.SV)(be,qe):""}/publish`}function W(be,{addBase:We=!1,baseUrlOptions:qe={},section:Et="",params:en}={}){let In=(0,a.n1)(`${V(be,{addBase:We,baseUrlOptions:qe})}/settings`,en);return Et&&(In+=`#${Et}`),In}function L(be,{addBase:We=!1,baseUrlOptions:qe={},params:Et}={}){return(0,a.n1)(`${V(be,{addBase:We,baseUrlOptions:qe})}/settings/reader_referrals`,Et)}function k(be,{addBase:We=!1,baseUrlOptions:qe={},params:Et}={}){return(0,a.n1)(`${V(be,{addBase:We,baseUrlOptions:qe})}/groups`,Et)}function H(be,{addBase:We,params:qe}={}){const en=`${We?(0,a.SV)(be):""}/publish`;return qe?(0,a.n1)(en,qe):en}function G(be,{addBase:We,params:qe}={}){const en=`${We?(0,a.SV)(be):""}/publish/home`;return qe?(0,a.n1)(en,qe):en}function q(be,We="published",{addBase:qe,params:Et}={}){const In=`${qe?(0,a.SV)(be):""}/publish/posts/${We}`;return Et?(0,a.n1)(In,Et):In}function z(be,{addBase:We,params:qe}={}){const en=`${We?(0,a.SV)(be):""}/publish/subscribers`;return qe?(0,a.n1)(en,qe):en}function ee(be,We,{addBase:qe,params:Et,referrer:en}={}){const qn=`${qe?(0,a.SV)(be):""}/meetings/book/${We}`,cr=u(A({},Et),{referrer:en});return Et||en?(0,a.n1)(qn,cr):qn}function $(be,{addBase:We,params:qe,referrer:Et}={}){const In=`${We?(0,a.SV)(be):""}/meetings`,qn=u(A({},qe),{referrer:Et});return qe||Et?(0,a.n1)(In,qn):In}function J(be,{addBase:We,params:qe,filter:Et}={}){const In=`${We?(0,a.SV)(be):""}/publish/meetings/${Et!=null?Et:"upcoming"}`;return qe?(0,a.n1)(In,qe):In}function j(){return(0,a.JD)(`open.${a.T9}`)}function Z({utm_source:be,utm_campaign:We,redirect:qe}){return(0,a.n1)(`${j()}/inbox`,{utm_source:be,utm_campaign:We,redirect:qe})}function ne({user_id:be,user_name:We,utm_source:qe,utm_campaign:Et,redirect:en}){let In=`${j()}/users/${be}`;const qn=(0,t.cleanSlug)(We,{hashIfEmpty:!0});return qn&&(In+=`-${qn}`),(0,a.n1)(In,{utm_source:qe,utm_campaign:Et,redirect:en})}function ie({utm_source:be,utm_campaign:We}){return(0,a.n1)(`${j()}/chat`,{utm_source:be,utm_campaign:We})}function oe({utm_source:be,utm_campaign:We,deepLink:qe}){return(0,a.n1)(`${j()}/contact-sync`,{utm_source:be,utm_campaign:We,deepLink:qe})}function re({utm_source:be,utm_campaign:We}={}){return(0,a.n1)("substack://contact-sync",{utm_source:be,utm_campaign:We})}function ae({tab:be,utm_source:We,utm_campaign:qe,redirect:Et}){return(0,a.n1)(`${j()}/${be}`,{utm_source:We,utm_campaign:qe,redirect:Et})}function se({subdomain:be,utm_source:We,utm_campaign:qe,redirect:Et}){return(0,a.n1)(`${j()}/pub/${be}`,{utm_source:We,utm_campaign:qe,redirect:Et})}function fe({pubKey:be,utm_source:We,utm_campaign:qe,r:Et,redirect:en,modal:In}){return(0,a.n1)(`${j()}/pub/${be}/chat`,{utm_source:We,utm_campaign:qe,redirect:en,modal:In,r:Et})}function le({postId:be,utm_source:We,utm_campaign:qe,redirect:Et,modal:en}){return(0,a.n1)(`${j()}/chat/posts/${be}`,{utm_source:We,utm_campaign:qe,redirect:Et,modal:en})}function Ae({commentId:be,targetReplyId:We,utm_source:qe,utm_campaign:Et,redirect:en,modal:In}){return(0,a.n1)(`${j()}/chat/replies/${be}`,{target_reply_id:We,utm_source:qe,utm_campaign:Et,redirect:en,modal:In})}function De(be,{urlParams:We}={}){return(0,i.Sg)(be,{baseUrl:j(),urlParams:We})}function je({pub:be,postId:We,modal:qe,query:Et}){return(0,a.n1)(`${(0,a.SV)(be)}/chat${We?`/posts/${We}`:""}`,A({modal:qe},Et))}function Je({pub:be,commentId:We,targetReplyId:qe,modal:Et,query:en}){return(0,a.n1)(`${(0,a.SV)(be)}/chat${We?`/replies/${We}`:""}`,A({modal:Et,target_reply_id:qe},en))}function Be({pub:be,params:We,section:qe}){return qe?(0,a.n1)(`${(0,a.SV)(be)}/listen/${qe.slug}/archive`,We):(0,a.n1)(`${(0,a.SV)(be)}/podcast/archive`,We)}function st(be,We,{quality:qe="auto:good",format:Et="auto",crop:en="limit",lossy:In=!1,attachment:qn=!1,filename:cr=null,gravity:pr=null,height:wr=null,aspect:Vr=null,backgroundColor:On,version:pt=null,smartCrop:hn=!1,portraitCrop:Dn=!1,skipDomainValidation:Gn=!1,leadingSegments:Kt=[],trailingSegments:wt=[]}={}){var Lt;if(!be)return be;be.startsWith("/")&&!be.startsWith("//")&&(be=(0,a.ZJ)()+be),be=ht(be);try{if(new URL(be).hostname.endsWith(".localhost"))return be}catch(An){}if(typeof window!="undefined"&&((Lt=window==null?void 0:window.location)!=null&&Lt.hostname)&&["subwit.com","herokuapp.com"].reduce((An,Fn)=>An||window.location.hostname.endsWith(Fn),!1)&&(be=be.replace("//substack.com",`//${window.location.hostname}`)),be.startsWith("https://substackcdn.com")||be.startsWith(a.L4))return be;if(be.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return be.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,a.L4);if(be.startsWith("https://res.cloudinary.com"))return be.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,a.L4);if(!Gn&&!be.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return be;if(hn&&We&&wr){const An=gt(be);if(An){const Fn=We/wr,Un=An.width/An.height;(Fn<1&&Un>=1||Fn>=1&&Un<1||Fn===1&&Un>=1||Fn===1&&Un<=1)&&Math.abs(Fn-Un)>=.5&&(en="fill",pr=pr!=null?pr:"auto")}}if(hn&&(en="fill",pr=pr!=null?pr:"auto"),Vr&&We&&wr==null){const[An,Fn]=Vr.split(":").map(Number);wr=Math.round(We*Fn/An)}const mt=[We&&`w_${We}`,wr&&`h_${wr}`,en&&(We||wr)&&`c_${en}`,Et&&`f_${Et}`,qe&&`q_${qe}`,`fl_${In?"lossy":"progressive:steep"}`,pr&&`g_${pr}`,qn&&`fl_attachment${cr?`:${cr}`:""}`,On&&`b_rgb:${On}`].filter(Boolean).join(","),Mt=[We&&`w_${We}`,Et&&`f_${Et}`,qe&&`q_${qe}`,`fl_${In?"lossy":"progressive:steep"}`,qn&&`fl_attachment${cr?`:${cr}`:""}`,On&&`b_rgb:${On}`].filter(Boolean).join(","),Jt=[en&&(We||wr)&&`c_${en}`,pr&&`g_${pr}`,Vr?`ar_${Vr}`:"ar_1"].filter(Boolean).join(","),pn=Dn?[Mt,"/if_ar_lt_1.0/",Jt,"/if_end"].join(""):[mt].filter(Boolean).join(",");return`${a.L4}/image/fetch/${Kt.concat([pn]).concat(wt).join("/")}/${encodeURIComponent(be+(pt?`${be.indexOf("?")!==-1?"&":"?"}version=${pt}`:""))}`}function ht(be){if(!be)return be;const We=[/^https:\/\/substackcdn\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/(?:\$[^/]+\/)?[^/]+\/(.+)$/i];for(const qe of We){const Et=qe.exec(be);if(Et)return decodeURIComponent(Et[1])}return be}function gt(be){const We=be.match(/(\d+)x(\d+)\.\w+$/);return We?{width:+We[1],height:+We[2]}:null}function Xe(be,We){return`${(0,a.SV)(be)}/api/v1/custom-publication-theme/${We.id}/preview`}function Re(be){return`${(0,a.SV)(be)}/api/v1/custom-publication-theme/disable-preview`}const Ne="https://substack.link/chat-faq",ke="https://substack.link/chat-examples";function ot(be){const We=be.trim();if(/\s/.test(We))return null;try{const qe=new URL(We);return["http:","https:"].includes(qe.protocol)?qe:null}catch(qe){return null}}const Dt=(be,We,qe,Et)=>{switch(be){case"user":default:return ne({user_id:We,user_name:qe,utm_source:"mentions"});case"pub":return Et?(0,a.n1)(Et,{utm_source:"mentions"}):""}};function ln(be){var We;const qe=ot(be);if(!qe)return null;const Et=(We=qe.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:We[1];if(!Et)return null;let en,In;return qe.hostname.endsWith(`.${a.pv.hostname}`)?en=qe.hostname.split(".")[0]:In=qe.hostname,{slug:Et,subdomain:en,customDomain:In}}function ct(be,We,{addBase:qe=!1,query:Et={}}={}){return(0,a.n1)(`${qe?(0,a.SV)(be):""}/t/${We.slug}`,Et)}const Oe=({section:be})=>`/publish/settings/new_podcast/${be.id}`,Se=({section:be})=>be?`/publish/import/podcast/${be.id}`:"",Ze=({pub:be,addBase:We})=>`${We?(0,a.SV)(be):""}/publish/settings/podcast/edit`,Fe=({pub:be,section:We,addBase:qe,referrer:Et})=>We?`${qe?(0,a.SV)(be):""}/publish/settings/podcast/${We.id}${Et?`?referrer=${Et}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),Ke="https://dashboard.stripe.com",et=(be,We)=>`${Ke}/${be.stripe_user_id}/prices/${We}`,Qe=(be,We)=>`${Ke}/${be.stripe_user_id}/invoices/${We}`;function $e(be){const We=be.html.map(qe=>{var Et;const en=(Et=qe.match(/href="([^"]+)"/))==null?void 0:Et[1];return en?qe.replace(en,st(en)):qe});return u(A({},be),{html:We})}function Te(be){return be?be.startsWith("https://images.unsplash.com/"):!1}function te(be){if(be){if(be.startsWith(a.L4)||be.startsWith("https://res.cloudinary.com")||be.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:We}=e(83322),qe=`https://${We()}.s3.amazonaws.com`;if(be.startsWith(qe))return!0}return!1}function ue(be){if(!be)return!1;const{hostname:We,pathname:qe}=new URL(be);return We.startsWith("open.substack.com")?qe.startsWith("/pub/")&&qe.includes("/p/"):!1}function we(be,We,{addBase:qe}={}){var Et,en;return We.section?me(be,{addBase:qe,section:We.section}):We.post?(0,c.getPostUrl)(be,We.post,{noBase:!qe}):We.postTag?ct(be,We.postTag,{addBase:qe}):qe&&/^\/[^/]/.test((Et=We.link_url)!=null?Et:"")?`${(0,a.SV)(be)}${We.link_url}`:(en=We.link_url)!=null?en:""}function me(be,{addBase:We,section:qe}={}){if(qe=qe||(be==null?void 0:be.section),!qe)throw new Error("Section not found");return`${We?(0,a.SV)(be):""}/s/${qe.slug||qe.id}`}function Ee(be,{addBase:We,section:qe}={}){if(qe=qe||(be==null?void 0:be.section),!qe)throw new Error("Section not found");const Et=We?(0,a.SV)(be):"";return(0,a.n1)(`${Et}/publish/settings/preamble`,{section:qe.id})}const he=(be,{addBase:We,params:qe}={})=>{const Et=We&&be?Hd.getBaseUrl(be):"";return xe(A({base:Et},qe))},xe=be=>{var We;const qe=`${(We=be==null?void 0:be.base)!=null?We:""}/api/v1/twitter/authorize`;return be?(0,a.n1)(qe,be):qe},Ve=be=>{var We;const qe=`${(We=be==null?void 0:be.base)!=null?We:""}/api/v1/fb/auth`;return be?(0,a.n1)(qe,be):qe};function Pe(be,We){return(0,a.n1)(`${(0,a.SV)()}/inbox/post/${be}`,We)}function Ie(be){const We=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,qe=/^https?:\/\/([^\.]+)\.substack\.com/;let Et=be.match(We);return!Et&&(Et=be.match(qe),!Et)?null:Et[1]}function ze(be){be=(be||"").toLowerCase();const We=be.match(/^\s*(\w+)\s*$/);if(We)return We[1];const qe=be.match(/\w+(\.\w+)+/);if(qe){let Et=qe[0];return Et.includes("substack")&&(Et=Et.split(".")[0]),Et}}function tt({url:be,currentSubdomain:We,currentCustomDomain:qe}){return ue(be)?We===Ie(be):qe?qe===ze(be):We===Ie(be)}function Le(be){return`${(0,a.ZJ)()}/profile/${be}/hc-violation-form`}const It=(be,{addBase:We,params:qe}={})=>{const Et=We?(0,a.SV)(be):"";return(0,a.n1)(`${Et}/account/cancel`,qe)},on=(be,We,qe)=>`${(0,a.SV)(be)}/api/v1/streak.jpg?n=${We}&pct=${qe}`,zt=(be,We,{addBase:qe,referrer:Et,params:en}={})=>{const qn=`${qe?(0,a.SV)(be):""}/publish/posts/detail/${We}`,cr=u(A({},en),{referrer:Et});return en||Et?(0,a.n1)(qn,cr):qn},$t=(be,We,{addBase:qe,referrer:Et,params:en,selectionForQuote:In}={})=>{const cr=`${qe?(0,a.SV)(be):""}/publish/posts/detail/${We}/share-center`,pr=u(A({},en),{referrer:Et,selectionForQuote:In});return en||Et||In?(0,a.n1)(cr,pr):cr},Bt=(be,We,{addBase:qe,params:Et}={})=>{if(!(be!=null&&be.id))return"";const en=qe?(0,a.SV)(be):"";return(0,a.n1)(`${en}/leaderboard?`,A(A({},Et),(We==null?void 0:We.id)&&{referrer_token:We.id.toString(36)}))};function xn({pubId:be,sectionId:We,token:qe}){if(We){let en=`${(0,a.SV)({subdomain:"api"})}/feed/podcast/${be}/s/`;return qe?en+=`${We}/private/${qe}.rss`:en+=`${We}.rss`,en}let Et=`${(0,a.SV)({subdomain:"api"})}/feed/podcast/${be}`;return qe?Et+=`/private/${qe}.rss`:Et+=".rss",Et}const Hn=({pub:be,postId:We,params:qe={type:"newsletter"}})=>{const Et=`${(0,a.SV)(be)}/publish/collab`;return(0,a.n1)(We?`${Et}/${We}`:Et,qe)},ir=(be,{addBase:We,baseUrlOptions:qe,params:Et}={})=>{const en=We?(0,a.SV)(be,qe):"";return(0,a.n1)(`${en}/publish/stats/pledges`,Et)},Vn=(be,{addBase:We,baseUrlOptions:qe,params:Et}={})=>{const en=We?(0,a.SV)(be,qe):"";return(0,a.n1)(`${en}/publish/stats/notes`,Et)};function _t(be){return`${(0,a.ZJ)()}/browse/${be}`}function ut(){return`${(0,a.ZJ)()}/browse`}function Ce(be,We){return(0,a.Q2)(`/collection/${be}`,We)}},30123:(K,f,e)=>{"use strict";e.d(f,{Fo:()=>g,JD:()=>l,L4:()=>c,Q2:()=>o,SV:()=>O,T9:()=>t,Y$:()=>E,ZJ:()=>A,n1:()=>S,pv:()=>_,tE:()=>v,y:()=>u});const t="substack.com",a=null,c="https://substackcdn.com",p=null;function l(s){let w="https://",P="";return w+s+P}const v=l(t),_=new URL(v);function g(s,{forceSubdomain:w=!1}={}){if(s&&"custom_domain"in s&&s.custom_domain&&!s.custom_domain_optional&&!w)return s.custom_domain;let P=t;return s&&s.subdomain!=="www"&&(P=`${s.subdomain}.${P}`),P}function E(s){return Object.keys(s).filter(w=>typeof s[w]!="undefined"&&s[w]!==null).map(w=>`${encodeURIComponent(w)}=${encodeURIComponent(s[w])}`).join("&")}function S(s,w){if(!s)return"";if(!w)return s;const P=E(w),C=P?s.indexOf("?")===-1?"?":"&":"";return`${s}${C}${P}`}function O(s,{forceSubdomain:w=!1}={}){if(s&&"rss_website_url"in s&&s.rss_website_url)try{return new URL(s.rss_website_url).origin}catch(C){return s.rss_website_url}else if(s&&"base_url"in s&&s.base_url&&!w)return s.base_url;const P=g(s,{forceSubdomain:w});return l(P)}function A(){return O()}function u(s){return l(s)}function o(s,{noBase:w,urlParams:P}={}){const C=w?"":O();return S(`${C}${s}`,P)}},70444:(K,f,e)=>{"use strict";e.d(f,{AO:()=>oe,AP:()=>se,D2:()=>Z,Ds:()=>S,E2:()=>k,Ed:()=>j,IY:()=>Ae,It:()=>ne,Iw:()=>y,NZ:()=>ee,Oi:()=>J,Po:()=>W,Qd:()=>V,Qe:()=>D,Sg:()=>q,TK:()=>le,Th:()=>N,WF:()=>L,Z2:()=>u,Z3:()=>O,gt:()=>z,iA:()=>re,kM:()=>H,mx:()=>G,nY:()=>F,p8:()=>T,qB:()=>E,rc:()=>$,sH:()=>fe,sm:()=>R,vy:()=>ie,z5:()=>ae});var t=e(6385),a=e(30123),i=e(2731),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(De,je,Je)=>je in De?c(De,je,{enumerable:!0,configurable:!0,writable:!0,value:Je}):De[je]=Je,g=(De,je)=>{for(var Je in je||(je={}))l.call(je,Je)&&_(De,Je,je[Je]);if(p)for(var Je of p(je))v.call(je,Je)&&_(De,Je,je[Je]);return De};const E="notes",S=`/${E}`,O="/feed",A=`${S}/`;function u(De){return De===S||De.startsWith(A)}const o=/^([cp])-(\d+)$/,s=/^\/note\/([cp])-(\d+)$/,w=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,P=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,C=/^\/@[^\/]+\/note\/c-(\d+)$/,x=/^\/@[^\/]+\/note\/p-(\d+)$/,D=new RegExp(`${S}/(short|post)/p-(\\d+)`);function y(De){const je=N(De);if(je)return je;const Je=F(De);if(Je)return Je;const Be=W(De);return Be||null}const M=new RegExp(`^${O}(/?)`);function T(De){return!!De.match(M)}function R(De){return De.replace(M,`${S}$1`)}function F(De){const je=De.match(P);if(je)return{type:"post",id:Number(je[3]),author:{id:Number(je[1]),name:je[2]}};const Je=De.match(x);if(Je)return{type:"post",id:Number(Je[1])};const Be=De.match(D);return Be?{type:Be[1]==="short"?"post":"postViewer",id:Number(Be[2])}:null}function N(De){const je=De.match(w);if(je)return{type:"comment",id:Number(je[3]),author:{id:Number(je[1]),name:je[2]}};const Je=De.match(C);return Je?{type:"comment",id:Number(Je[1])}:null}const U=new RegExp(`^${O}/comment/(d+)$`);function V(De){return De.match(U)}function W(De){const je=De.match(s);return je?{type:je[1]==="c"?"comment":"post",id:Number(je[2])}:null}function L(De){const je=De.match(o);return je?{type:je[1]==="c"?"comment":"post",id:Number(je[2])}:null}function k({baseUrl:De,urlParams:je}={}){let Je=S;const Be=De!=null?De:(0,a.ZJ)();return(typeof window=="undefined"||!window.location.href.startsWith(Be))&&(Je=Be+Je),(0,a.n1)(Je,je)}function H({baseUrl:De,urlParams:je}={}){const Je=k({baseUrl:De});return(0,a.n1)(`${Je}/suggestions`,je)}function G(De,je,{noBase:Je,urlParams:Be}={}){var st,ht;const gt=(st=je.publishedBylines)!=null&&st[0]?(ht=je.publishedBylines)==null?void 0:ht[0]:De?(0,t.getPostAuthor)(De,je):{id:0,name:"someone"};return(0,a.n1)(`${(0,i.getReaderProfileUrl)(gt,{noBase:Je,extraParams:Be})}/note/${ie(je.id)}`,Be)}function q(De,{noBase:je,baseUrl:Je,urlParams:Be,noHandle:st}={}){return De.user_id?(0,a.n1)(`${(0,i.getReaderProfileUrl)((0,t.getCommentAuthor)(De),{baseUrl:Je,noBase:je,noHandle:st})}/note/${ne(De.id)}`,Be):k({baseUrl:Je})}function z(De,{noBase:je,baseUrl:Je,urlParams:Be}={}){const st=je?"":Je!=null?Je:(0,a.ZJ)();return(0,a.n1)(`${st}/note/${De}`,Be)}function ee(De,{noBase:je,urlParams:Je}={}){const Be=je?"":(0,a.SV)();return(0,a.n1)(`${Be}/note/${ne(De)}`,Je)}function $(De,{noBase:je,urlParams:Je}={}){const Be=je?"":(0,a.SV)();return(0,a.n1)(`${Be}${S}/post/${ie(De)}`,Je)}function J(De,je){return(0,a.Q2)(`/note/${ie(De)}/restacks`,je)}function j(De,je,Je){return(0,a.Q2)(`/note/${De}/restacks${je==="notes"?"/notes":"/instants"}`,Je)}function Z(De,je){return`${je==="comment"?"c":"p"}-${De}`}function ne(De){return`c-${De}`}function ie(De){return`p-${De}`}function oe(De){return`cp-${De}`}function re({utm_source:De,utm_campaign:je}={}){return(0,a.n1)("substack://notes",{utm_source:De,utm_campaign:je})}function ae(De){return`substack://notes/${ne(De)}`}function se(De){return`substack://activity/notes/${ne(De)}/replies`}function fe(De){return`substack://notes/${ie(De)}`}function le(De){return(0,a.n1)(k(),g({action:"compose"},De))}function Ae(De,{noBase:je}={}){return`${je?"":(0,a.SV)()}/note/${ne(De)}/preview.jpg`}},36250:(K,f,e)=>{"use strict";e.r(f),e.d(f,{getCommentUrl:()=>w,getEditPostUrlById:()=>u,getLikelyLoggedInParam:()=>o,getLinkToVideo:()=>A,getLinkableElementIdForVideo:()=>O,getPostCommentsUrl:()=>S,getPostUrl:()=>g,getPostUrlBySlug:()=>E,getPubAccountSettingsUrl:()=>s});var t=e(30123),a=e(70444),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(P,C,x)=>C in P?i(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,_=(P,C)=>{for(var x in C||(C={}))p.call(C,x)&&v(P,x,C[x]);if(c)for(var x of c(C))l.call(C,x)&&v(P,x,C[x]);return P};function g(P,C,{noBase:x,edit:D,email:y,comments:M,commentId:T,commentInput:R,highlightComment:F,replyToComment:N,commentContextId:U,uuid:V,urlParams:W,signedIn:L=!1,feedViewer:k=!1,clipId:H}={}){if(P&&(P=[P].concat(P.child_publications||[]).find(z=>z.id===(C==null?void 0:C.publication_id))||P),(P==null?void 0:P.type)==="rss"&&C)return C.canonical_url||P.rss_website_url;const G=C?V?C.uuid:C.slug:null;if((D||!G)&&P&&(C!=null&&C.id)){const z=x?"":(0,t.SV)(P),ee=!!(C!=null&&C.editor_v2);return`${z}${u(P,C.id,ee,W)}`}if((C==null?void 0:C.type)==="restack"&&(C!=null&&C.id))return`${x?"":(0,t.SV)(P)}/cp/${C.id}`;if(k||!P||!C||!G){const z=x?"":(0,t.SV)();return T?(0,a.NZ)(T,{noBase:x,urlParams:W}):C&&H?(0,t.n1)(`${(0,t.SV)(P)}/p/${C.slug}`,W):C?(0,a.rc)(C.id,{noBase:x,urlParams:W}):(0,t.n1)(`${z}${a.Ds}`,W)}const q=o(L,P);return E(P,G,{noBase:x,email:y,comments:M,commentId:T,commentInput:R,highlightComment:F,replyToComment:N,commentContextId:U,urlParams:_({lli:q},W)})}function E(P,C,{noBase:x,email:D,comments:y,commentId:M,commentInput:T,highlightComment:R,replyToComment:F,commentContextId:N,urlParams:U}={}){let V="";return x||(V+=(0,t.SV)(P)),V+=`/p/${C}`,y&&(!M||R)&&(V+="/comments"),M&&!R&&!N&&(V+=`/comment/${M}`),D&&(V+="/email"),U&&(V=(0,t.n1)(V,U)),M&&(R||F)?V+=`#comment-${M}${F?"-reply":""}`:T&&(V+="#input"),M&&N&&(V+=`/comment/${N}#comment-${M}`),V}function S(P,C,x,D){return g(P,C,_({comments:!0,commentId:x==null?void 0:x.id},D))}function O({mediaUploadId:P}){return`media-${P}`}function A({pub:P,post:C,mediaUploadId:x}){return`${g(P,C)}#${O({mediaUploadId:x})}`}function u(P,C,x,D){const y=x?"/publish/collab":"/publish/post";return(0,t.n1)(`${y}/${C}`,D)}function o(P,C){return C.custom_domain&&P?"1":void 0}function s(P,{addBase:C,params:x,signedIn:D}={}){const y=o(D,P),M=C?(0,t.SV)(P):"";return(0,t.n1)(`${M}/account`,_({lli:y},x))}function w(P,C,x,D){return C.post_id?S(x!=null?x:void 0,P!=null?P:void 0,C,D):(0,a.Sg)(C,D)}},2731:(K,f,e)=>{"use strict";e.r(f),e.d(f,{getEditProfileUrl:()=>O,getProfileConnectionsUrl:()=>s,getProfileHandleUrl:()=>E,getProfileSetupUrl:()=>w,getProfileSubdomain:()=>S,getProfileUrlById:()=>g,getReaderAutoFollowUrl:()=>u,getReaderInviteUrl:()=>o,getReaderProfileUrl:()=>A});var t=e(72985),a=e(30123),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(P,C,x)=>C in P?i(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,_=(P,C)=>{for(var x in C||(C={}))p.call(C,x)&&v(P,x,C[x]);if(c)for(var x of c(C))l.call(C,x)&&v(P,x,C[x]);return P};function g(P,C,{searchParams:x,noBase:D,baseUrl:y}={}){let T=`${D?"":y!=null?y:(0,a.ZJ)()}/profile/${P}`;const R=(0,t.cleanSlug)(C,{hashIfEmpty:!0});return R&&(T+=`-${R}`),(0,a.n1)(T,x)}const E=(P,{searchParams:C,noBase:x,baseUrl:D}={})=>{const M=`${x?"":D!=null?D:(0,a.ZJ)()}/@${P}`;return(0,a.n1)(M,C)};function S(P,{searchParams:C,noBase:x,baseUrl:D}={}){const M=`${x?"":D!=null?D:(0,a.ZJ)()}/@${P}`;return(0,a.n1)(M,C)}function O(){return`${(0,a.ZJ)()}/profile/edit`}function A(P,{utm_source:C,utm_content:x,noBase:D,baseUrl:y,noHandle:M,extraParams:T}={}){const R=C||x?{utm_source:C,utm_content:x}:void 0,F=_(_({},T),R),N=M?void 0:(P==null?void 0:P.handle)||(P==null?void 0:P.author_handle);return N?E(N,{noBase:D,baseUrl:y,searchParams:F}):g(P.author_id||P.user_id||P.id,P.user_profile_name||P.author_name||P.name,{noBase:D,baseUrl:y,searchParams:F})}function u(P){return`${A(P)}?follow`}function o(P){return`${A(P)}?invite`}function s(P,C,x){return(0,a.Q2)(`${A(P,{noBase:!0})}/${C!=null?C:"subscribers"}`,x)}function w(P={}){return(0,a.n1)(`${(0,a.ZJ)()}/profile/start`,P)}},96702:(K,f,e)=>{"use strict";e.r(f),e.d(f,{DEFAULT_PHOTO_URL:()=>l,getDefaultUserPhotoById:()=>p,getUserPhotoUrl:()=>i,getUserPhotoUrlWithoutDefault:()=>c});var t=e(20501),a=e(30123);function i(v,_){const g=c(v,_);return g||l}function c(v,{preferAuthorPhoto:_}={}){return _&&(v!=null&&v.author_photo_url)&&(0,t.imginary)(v.author_photo_url)?(0,t.imginary)(v.author_photo_url):v!=null&&v.photo_url&&(0,t.imginary)(v.photo_url)?(0,t.imginary)(v.photo_url):(v==null?void 0:v.id)!=null?p(v.id):null}function p(v){const _=["purple","yellow","orange","green","black"];return`${(0,a.ZJ)()}/img/avatars/${_[v%5]}.png`}const l=`${(0,a.ZJ)()}/img/avatars/logged-out.png`},76193:(K,f,e)=>{"use strict";e.r(f),e.d(f,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>a,MOBILE_USER_AGENT_PATTERN:()=>t,getIosVersion:()=>p,isAndroid:()=>g,isAndroidUserAgent:()=>_,isIos:()=>l,isMobile:()=>i,isMobileUserAgent:()=>c});const t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function i(E={}){let S=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!S&&typeof window!="undefined"&&(S=window.opera),S?c(S,E):!1}function c(E,{checkFirst4:S}={}){return t.lastIndex=0,a.lastIndex=0,!!(t.test(E)||S&&a.test(E.substr(0,4)))}function p(){if(typeof navigator=="undefined")return null;const E=navigator.userAgent;if(!E.match(/iPad/i)&&!E.match(/iPhone/i))return null;const S=E.indexOf("OS ");return S===-1?null:parseInt(E.substr(S+3,3).replace("_","."))||null}function l(){return!!p()}const v=/Android/i;function _(E){return v.lastIndex=0,!!E&&v.test(E)}function g(){return typeof navigator=="undefined"?!1:_(navigator.userAgent)}},63830:(K,f,e)=>{"use strict";e.d(f,{l:()=>t});const t=(a,{utm_source:i}={})=>{const c={id:a(),timestamp:new Date};return i&&(c.utm_source=i),c}},83322:(K,f,e)=>{"use strict";e.r(f),e.d(f,{AUDIENCE_ADJECTIVES:()=>Xe,AppError:()=>Qe,CENTS_PER_EMAIL:()=>Fe,CONTENT_MODERATION_REASONS:()=>Je,ChatError:()=>$e,DEFAULT_MAX_BYLINES:()=>_o,DEFAULT_PREVIEW_LIMIT:()=>oe,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>re,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>ie,DEFAULT_THEME_COLORS:()=>Oe,EU_COUNTRIES:()=>We,GIFT_LENGTH_MONTHS:()=>ke,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>ne,GRACE_PERIOD_DAYS:()=>J,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>Ne,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>j,MAX_BANK_PAYMENT_ATTEMPTS:()=>De,MAX_FILE_SIZE:()=>R,MAX_INT32:()=>je,MAX_MEDIA_FILE_SIZE:()=>M,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>T,MAX_PODCAST_FILE_SIZE:()=>y,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>ae,MISSING_IMAGE_HEIGHT:()=>le,MISSING_IMAGE_URL:()=>fe,MISSING_IMAGE_WIDTH:()=>Ae,MONTH_NAMES:()=>ln,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>Se,NO_REPLY_EMAIL:()=>Ie,NZD_COUNTRIES:()=>qe,OLD_PODCAST_CATEGORIES:()=>Dt,PODCAST_CATEGORIES:()=>ot,PODCAST_SECTIONS_TO_MARK_AS_NEWSLETTERS:()=>Ke,PUBLICATION_TIER_DESCRIPTIONS:()=>uo,SECURITY_QUESTIONS:()=>gt,SPECIAL_SUBDOMAINS:()=>ht,STRIPE_DAYS_UNTIL_DUE:()=>Z,STRIPE_TAX_ID_TYPES:()=>ct,SUBSCRIPTION_WORDS:()=>Ho,SUBSTACK_PUBLICATION_IDS:()=>q,SUBSTACK_PUBLICATION_ID_BETA:()=>L,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>W,SUBSTACK_PUBLICATION_ID_COMPANY:()=>N,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>U,SUBSTACK_PUBLICATION_ID_ON:()=>F,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>G,SUBSTACK_PUBLICATION_ID_READ:()=>k,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>V,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>H,SUBSTACK_USER_ID:()=>z,SUBSTACK_USER_IDS:()=>$,SUBSTACK_WRITERS_USER_ID:()=>ee,SUPPORTED_CURRENCIES:()=>Et,TERSE_AUDIENCE_ADJECTIVES:()=>Re,TRANSPARENT_IMAGE_URL:()=>se,TWEET_PLACEHOLDER_DATA_URI:()=>s,WEEK_IN_SECONDS:()=>Ze,anonymousName:()=>Wo,areCommentsLocked:()=>zr,assertIsDefined:()=>w,assertIsError:()=>P,balanceTextWithCharacterWidths:()=>Ce,baschezScoreToEmojis:()=>gn,baschezToCategory:()=>fn,canDeleteComment:()=>kt,canDeletePost:()=>Cn,canEditComment:()=>vt,canPostComments:()=>yt,canReplyToPost:()=>Pe,canReportComment:()=>En,canSeeCommenterEmails:()=>Sr,canSeeComments:()=>Gr,canSeeTranscription:()=>Oo,centsToDollarString:()=>On,centsToPriceString:()=>Vr,colorLightness:()=>Gt,colorLuma:()=>Zt,commentsEnabledForPost:()=>sr,couldPostCommentsIfSubscribed:()=>ft,coverPageFreeSubscriberCount:()=>Wt,currencySymbol:()=>pr,decimalToPercent:()=>Ut,deep_equals:()=>Pn,defaultAudienceForPub:()=>Yn,defaultCommentLevelForPub:()=>Zr,defaultSendEmailForPub:()=>co,dollarFormatter:()=>pt,dollarStringToCents:()=>hn,endsWithPunctuation:()=>Bt,ensureInList:()=>fo,escapeNewlines:()=>jt,flat:()=>ar,flowTextBasedOnWidth:()=>kr,formatArray:()=>Qn,formatBytes:()=>Mo,formatEllipsis:()=>$t,formatPercentForDisplay:()=>bt,formatPodcastDuration:()=>de,formattedBytesToNumber:()=>ko,foundingMemberDescription:()=>dr,fromEnv:()=>Jn,getByLine:()=>Te,getBylineUsers:()=>St,getCopyrightedContentBucketName:()=>st,getCurrencyForCountry:()=>en,getGiftValueText:()=>Kt,getInitalPayment:()=>Gn,getNext5HoursAfterMidnight:()=>To,getNumberWithCommas:()=>So,getOpennodePaymentUrl:()=>Pr,getPlanTitle:()=>Ft,getPostCtaPresentParticiple:()=>yn,getPostCtaText:()=>bn,getPostEmbedMeta:()=>we,getPostMediaBucketName:()=>Be,getPrintedByline:()=>nn,getPrintedPostType:()=>Ln,getReadableAttribution:()=>Ur,getReaderRecommendationEmailSubject:()=>Tt,getRestackEmailSubject:()=>nt,getScheduledAt:()=>qt,getSubscribeText:()=>ue,getSubscriptionSentenceWithCustomWords:()=>Nt,getSubscriptionWord:()=>mn,getSuperscriptNumberString:()=>tr,getTrialEndOverride:()=>it,getWithIndefiniteArticle:()=>Me,get_month_name:()=>Ot,group_by:()=>lr,guessFirstName:()=>Ye,guessLastName:()=>lt,handleDocumentLinkClick:()=>Xr,hashString:()=>rt,hexToHSV:()=>pn,hexToRgb:()=>An,hidePaidPostsFor:()=>me,isAppAttribution:()=>Hr,isFoundingPlan:()=>rn,isNotMainEntry:()=>no,isNotesAttribution:()=>Br,isPaidPub:()=>or,isPinnable:()=>go,isProbablyEmail:()=>bo,isSearchEngineCrawlerQuick:()=>Bo,isSubstackNetworkAttribution:()=>Dr,isTouchDevice:()=>Rr,isUUID:()=>Nn,isValidCommentLevel:()=>eo,isZeroDecimalCurrency:()=>qn,joinLines:()=>Mn,kFormatter:()=>dt,longestSetOfWordsBelowCost:()=>ut,mode:()=>an,normalizeHex:()=>Jt,numberToHumanFileSize:()=>Or,numberToOrderOfMagnitude:()=>so,numberToOrderOfMagnitudeShortString:()=>Qr,numberToOrderOfMagnitudeString:()=>io,numberToOrdinal:()=>ur,numberToRoughRankingString:()=>Eo,numberToString:()=>Ar,objectMap:()=>vn,onlyOwnsRootComment:()=>Qt,oxfordComma:()=>tn,paymentPeriodToPlan:()=>lo,planBasePricing:()=>wt,pluralize:()=>at,possessive:()=>Pt,postSocialDescription:()=>Jo,profilePageFreeSubscriberCount:()=>jn,pubCurrency:()=>In,pubHasPaymentsEnabled:()=>Kn,pubUsesZeroDecimalCurrency:()=>cr,pubsWithCustomSubscriptionWords:()=>Rt,randomString:()=>Wn,resolveTwitterShareText:()=>te,restacksEnabledForPost:()=>fr,rgbToHex:()=>Fn,roundPriceUp:()=>Dn,sanitizeInlineText:()=>Po,satoshiToBitcoin:()=>wr,secondsToHHMMSS:()=>mt,secondsToLargestUnit:()=>Lt,sectionIsSpecificallyMarkedAsNewsletter:()=>et,setDateToMidnightPST:()=>wo,shouldHidePostFromArchive:()=>Ge,shouldUseInlineComments:()=>Ee,showCommentsOnPost:()=>gr,simpleBalanceText:()=>Hn,sortSubscriptions:()=>xe,spellOutNumber:()=>Sn,splitArray:()=>$n,streamToBuffer:()=>Lr,stringCost:()=>_t,stripInvalidBytes:()=>ze,subscriptionTypeText:()=>Ve,textLengthAlphaNumericMinimumValidator:()=>Bn,toMap:()=>Rn,toMillis:()=>hr,toSentenceCase:()=>Zn,toTitleCase:()=>rr,transformDocumentLink:()=>jr,truncAndFormatArray:()=>_n,truncateBytes:()=>tt,truncateNumber:()=>At,truncateText:()=>It,truncateToValidBytes:()=>Le,truncateWords:()=>on,twitterScreenNames:()=>o,userFromReferralKey:()=>xo,userReferralKey:()=>qr,validCommentLevels:()=>Er,validateColor:()=>Un,validateHex:()=>Mt,videoPlayerDimensions:()=>oo});var t=e(57824),a=e.n(t),i=e(82626),c=e(82622);const p={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(He,Ht,wn)=>Ht in He?l(He,Ht,{enumerable:!0,configurable:!0,writable:!0,value:wn}):He[Ht]=wn,A=(He,Ht)=>{for(var wn in Ht||(Ht={}))E.call(Ht,wn)&&O(He,wn,Ht[wn]);if(g)for(var wn of g(Ht))S.call(Ht,wn)&&O(He,wn,Ht[wn]);return He},u=(He,Ht)=>v(He,_(Ht));const o=p,s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function w(He){if(He==null)throw new Qe(`Expected value to be defined, but received ${He}`)}function P(He){if(!(He instanceof Error))throw new Qe(`Expected value to be an Error, but received ${He}`)}const C="\u2026",x=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],D=["CA","AU","HK","NZ"],y=350*1024*1024,M=20*1024*1024*1024,T=50*1024*1024,R=700*1024*1024,F=1,N=46438,U=86696,V=81318,W=87805,L=508885,k=737237,H=1014268,G=1056696,q=[F,N,U,V,W,L,k,H,G],z=81309935,ee=41856304,$=[z,ee],J=16,j=45,Z=30,ne=0,ie=1e3,oe=356,re=256,ae=6,se="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",fe="/img/missing-image.png",le=455,Ae=728,De=3,je=2147483647,Je=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function Be(){const He="substack-post-media";if(!He)throw new Qe("postMediaBucketName is not defined");return He}function st(){return Be()==="substack-post-media"?"substack-copyrighted-media":"substack-copyrighted-media-staging"}const ht=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],gt=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],Xe={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},Re={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},Ne=new Date("2020-01-16"),ke=1,ot={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},Dt={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},ln=["January","February","March","April","May","June","July","August","September","October","November","December"],ct=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],Oe=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],Se=["IN"],Ze=60*60*24*7,Fe=.0064,Ke={therampart:{sectionNames:[],sectionIds:[62635]},thebulwark:{sectionNames:["Bulwark Goes to Hollywood"],sectionIds:[]}},et=({section:He,pub:Ht})=>{var wn,kn;return!!((wn=Ke[Ht.subdomain])!=null&&wn.sectionNames.includes(He.name)||(kn=Ke[Ht.subdomain])!=null&&kn.sectionIds.includes(He.id))};class Qe extends Error{constructor(Ht,{status:wn=500,userVisible:kn=!1,messageHtml:er=null,responseBody:Nr=null}={}){super(Ht),this.name=this.constructor.name,this.status=wn,this.userVisible=!!Nr||kn||!1,this.messageHtml=er,this.response={body:Nr||(this.userVisible?er?{errors:[{msg:Ht,msgHTML:er}]}:{error:Ht}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class $e extends Error{constructor({status:Ht=500,errType:wn="SERVER_ERROR",errMessage:kn="",pub:er=null}){super(kn),this.name=this.constructor.name,this.status=Ht,this.response={body:{status:wn,error:kn}},er&&(this.response.body.publication=er),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function Te(He,{skipMultiContributorCheck:Ht=!1}={}){var wn,kn,er,Nr;if(He.subdomain==="popularinformation")return"Judd Legum";if(He.subdomain==="whyisthisinteresting")return"Noah & Colin";if(He.subdomain==="informant")return"Nick Martin";if(He.subdomain==="colinmeloy")return"Colin Meloy";if(He.subdomain==="petition"||He.subdomain==="russiandissent")return null;if(He.subdomain==="mattlabash")return"Matt Labash";if(He.subdomain==="wmbrown")return"Matt Hranek";if(He.subdomain==="bigtechontrial")return"Matt Stoller and Yosef Weitzman";if(!Ht&&((wn=He.contributors)==null?void 0:wn.length)>1)return null;const Wr=He.name||He.subdomain,Fr=[(er=(kn=He.contributors)==null?void 0:kn[0])==null?void 0:er.name,He.author_name,He.email_from_name,(Nr=He==null?void 0:He.author)==null?void 0:Nr.name];for(let ro of Fr)if(ro&&(ro=ro.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),ro&&!ro.startsWith(Wr)&&!Wr.startsWith(ro)&&!ro.endsWith(Wr)&&!Wr.endsWith(ro)))return ro;return null}function te({pub:He,post:Ht}){var wn;const kn=(He==null?void 0:He.twitter_screen_name)||He&&o[He==null?void 0:He.subdomain];let er=(wn=Ht==null?void 0:Ht.title)!=null?wn:He==null?void 0:He.name;return He&&!Ht&&(er=`Subscribe to ${er}`),kn&&(!Ht||He&&(!Ht.publishedBylines.length||Ht.publishedBylines.some(Nr=>Nr.id===He.author_id)))&&(er+=`, by @${kn}`),er}function ue(He,{now:Ht=!1,isFreeSubscribed:wn=!1,isMobile:kn=!1,isPledged:er=!1,pledgesEnabled:Nr=!1}={}){if(!He)return"Subscribe";const{iString:Wr}=I18N.i(He.language);return Nt(He,()=>wn&&He.plans&&kn&&Ht?Wr("Upgrade now"):wn&&He.plans&&kn&&!Ht?Wr("Upgrade"):wn&&He.plans&&!kn&&Ht?Wr("Upgrade to paid now"):wn&&He.plans&&!kn&&!Ht?Wr("Upgrade to paid"):Wr(wn&&Nr&&!er&&Ht?"Pledge your support now":wn&&Nr&&!er&&!Ht?"Pledge your support":Ht?"Subscribe now":"Subscribe"),Fr=>(wn&&He.plans?Zn(kn?Fr.upgrade:Fr.upgradeToPaid):wn&&Nr&&!er?"Pledge your support":Zn(mn(He,"subscribe")))+(Ht?" now":""))}function we({date:He,bylines:Ht,like_count:wn,comment_count:kn,language:er="en"}){const{iPlural:Nr}=I18N.i(er),Wr=e(85928),Fr=[];return Fr.push(Wr(He).locale(er).fromNow()),wn&&Fr.push(Nr("1 like","%1 likes",wn)),kn&&Fr.push(Nr("1 comment","%1 comments",kn)),Ht&&Ht.length&&Fr.push(Qn(Ht.map(ro=>ro.name).filter(ro=>ro!==null),er)),Fr.join(" \xB7 ")}const me=["astralcodexten"];function Ee(He,Ht){return He.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(He==null?void 0:He.subdomain)||(Ht==null?void 0:Ht.type)==="video")}const he=(He="")=>He.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function xe(He){return He.sort((Ht,wn)=>{var kn,er;if(!Ht)return 1;if(!wn||Ht.membership_state==="subscribed"&&wn.membership_state!=="subscribed")return-1;if(wn.membership_state==="subscribed"&&Ht.membership_state!=="subscribed")return 1;const Nr=he((kn=Ht.publication)==null?void 0:kn.name),Wr=he((er=wn.publication)==null?void 0:er.name);return Nr<Wr?-1:Nr>Wr?1:0})}function Ve(He){if(He.expiry&&new Date(He.expiry)>new Date)switch(He.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!He.email_disabled||He.email_settings&&Object.values(He.email_settings||{}).some(Ht=>Ht==="individual")?"Free Subscriber":He.digest_enabled||He.email_settings&&Object.values(He.email_settings||{}).some(Ht=>Ht==="digest")?"Follows in Digests":"Emails Disabled"}function Pe({post:He,user:Ht}){return!!(He&&Ht&&Ht.has_publication&&!Ht.is_admin&&!Ht.is_contributor&&He.slug!=="coming-soon")}const Ie="no-reply@substack.com";function ze(He){if(!He||typeof He!="string")return He;try{return encodeURIComponent(He),He}catch(Ht){}return He.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Ht=>Ht.length>1?Ht:"")}function tt(He,Ht){const wn=new TextEncoder().encode(He);return wn.length>Ht?new TextDecoder().decode(wn.slice(0,Ht)):He}function Le(He){for(;;)try{return encodeURIComponent(He),He}catch(Ht){He=He.substring(0,He.length-1)}}function It(He,Ht,{words:wn=null,ellipsis:kn=C,extension:er=null}={}){if(!He)return He;let Nr=!1;if(wn){const Wr=new RegExp(`^(\\w+\\W+){${wn-1}}\\w+`).exec(He);Wr&&(Nr=!0,He=Wr[0])}return Ht&&He.length>Ht&&(Nr=!0,He=He.substring(0,Ht-kn.length)),Nr&&(He=Le(He),He+=kn,er&&(He+=er)),He}function on(He,Ht,{ellipsis:wn=C,quotationMarks:kn=!1}={}){if(!He)return He;kn&&(Ht-=2);let er=He;if(He&&He.length>Ht){const Nr=He.split(/\s+/),Wr=[];let Fr=0;for(;Fr<=Ht;){const ro=Nr.shift();if(!ro||Fr+ro.length>Ht)break;Wr.push(ro),Fr+=ro.length+1}er=$t(Wr.join(" "),wn)}return kn&&(er.endsWith(" ")||er.startsWith(" "))&&(er=er.trim()),kn?`"${er}"`:er}const zt=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function $t(He,Ht=C){return`${He.replace(zt,"")}${Ht}`}function Bt(He){return/[!.?](?:\s+)?$/.test(He)}const xn=new Set([" ","-"]);function Hn(He,{maxCharsPerLine:Ht=55,maxLines:wn=2,preferWide:kn=!1}={}){if(He.length<=Ht)return[He];const er=Ht*wn;if(He.length>er){let Ko=er;for(;Ko>=0&&He.charAt(Ko)!==" ";)Ko--;He=$t(He.slice(0,Ko))}const Nr=kn?Ht:Math.floor(He.length/wn);let Wr=-1,Fr=0;const ro=[];for(;Fr+Nr<He.length-1;){for(Fr=Fr+Nr;Fr<=He.length-1&&!xn.has(He.charAt(Fr));)Fr++;const Ko=He.charAt(Fr)==="-";ro.push(He.slice(Wr+1,Ko?Fr+1:Fr)),Wr=Fr}return Fr<He.length-1&&ro.push(He.slice(Wr+1)),ro}const ir=He=>/[A-Z]/.test(He),Vn=He=>/[\s-]/.test(He);function _t(He,Ht){let wn=0;for(let kn=0;kn<He.length;kn+=1){const er=He[kn];ir(er)?wn+=Ht:wn+=1}return wn}function ut(He,Ht,wn){const kn=[];let er=0,Nr=!1;for(let ro=0;ro<He.length;ro+=1){const Ko=He[ro];if(Vn(Ko)){Nr=!0;continue}else Nr&&(kn.push(He.slice(er,ro)),er=ro,Nr=!1)}if(er<He.length&&kn.push(He.slice(er)),!kn.length)return"";const Wr=[kn[0]];let Fr=_t(kn[0],Ht);for(const ro of kn.slice(1)){const Ko=_t(ro,Ht);if(Fr+=Ko,Fr<=wn)Wr.push(ro);else break}return Wr.join("")}function Ce(He,{maxCostPerLine:Ht=55,maxLines:wn=2,capitalCost:kn=1.2}={}){const er=He;if(_t(He,kn)<=Ht)return[He];const Wr=[];for(let Fr=0;Fr<wn;Fr+=1){const ro=ut(He,kn,Ht);if(ro)Wr.push(ro),He=He.slice(ro.length);else break}return Wr.reduce((Fr,ro)=>Fr+ro.length,0)<er.length&&(Wr[Wr.length-1]=$t(Wr[Wr.length-1].slice(0,Wr[Wr.length-1].length-1))),Wr}const be=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],We=[...be,"BG","CZ","DK","HU","PL","RO","SE"],qe=["NZ","CK","NU","PN","TK"],Et=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr","pln"];function en(He){return He==="AU"?"aud":He==="BR"?"brl":He==="CA"?"cad":He==="LI"||He==="CH"?"chf":He==="DK"||He==="FO"||He==="GL"?"dkk":be.includes(He)?"eur":He==="GB"?"gbp":He==="MX"?"mxn":He==="BV"||He==="NO"||He==="SJ"?"nok":qe.includes(He)?"nzd":He==="PL"?"pln":He==="SE"?"sek":He==="US"?"usd":null}const In=He=>{var Ht,wn;return((wn=(Ht=He.draft_plans)==null?void 0:Ht[0])==null?void 0:wn.currency)||"usd"};function qn(He){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(He.toUpperCase())}function cr(He){const Ht=In(He);return qn(Ht)}function pr(He){return new Intl.NumberFormat("en-US",{style:"currency",currency:He,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const wr=He=>He/1e8;function Vr(He,Ht,{forceDecimals:wn=!1}={}){let er=new Intl.NumberFormat("en-US",{style:"currency",currency:Ht,minimumFractionDigits:wn||He%100&&!qn(Ht)?2:0,maximumFractionDigits:Ht==="btc"?8:2}).format(Ht==="btc"?wr(He):qn(Ht)?He:He/100);return Ht==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&D.includes(window._preloads.country)&&(er=`US${er}`),er}function On(He){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(He/100)}const pt=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function hn(He){if(!He)return null;if(typeof He!="string")throw new Error("Bad type for dollar string");const Ht=He.replace(/[^0-9.]/g,"");return Ht?Math.round(Number(Ht)*100):null}function Dn(He){let Ht=He/100;return Ht=Ht<50?Math.ceil(Ht):Math.ceil(Ht/5)*5,Ht*100}function Gn(He,{quantity:Ht=1,coupon:wn=null,noTrial:kn=!1,trial_end_override:er=null}={}){if(!kn&&(He.trial_period_days||wn&&wn.trial_period_days||er&&er>Date.now()/1e3+120))return 0;let Nr=He.amount*Ht;return wn&&wn.percent_off?Nr=Math.round(Nr*(1-(wn.percent_off_precise||wn.percent_off)/100)):wn&&wn.amount_off&&(Nr=Math.max(0,Nr-wn.amount_off)),Nr}function Kt(He,{interval:Ht="month",interval_count:wn=ke,multiplier:kn=1,min:er=0}={}){let Nr,Wr,Fr;for(const Xo of He){if(!Fr)Fr=Xo.currency;else if(Fr!=Xo.currency)continue;Xo.interval=="month"?(!Nr||Xo.amount<Nr)&&(Nr=Xo.amount):Xo.interval=="year"&&(!Wr||Xo.amount<Wr)&&(Wr=Xo.amount)}let ro=Nr;if(!ro&&Wr&&(ro=Wr/12),!ro)return null;let Ko;switch(Ht){case"month":Ko=ro;break;case"day":Ko=ro/30;break;case"year":Ko=Wr||ro*12;break;default:throw new Error(`bad interval: ${Ht}`)}let si=Ko*wn*kn;return si<er?null:(si=Math.floor(si/100)*100,Vr(si,Fr))}function wt(He,{amount:Ht,interval:wn="",language:kn="en"}={}){const er=Vr(Ht!=null?Ht:He.amount,He.currency);if(He.interval!=="forever"){const Nr=wn||He.interval,{iPlural:Wr,iString:Fr}=I18N.i(kn);if(He.interval_count===3){if(Nr==="day")return Fr("%1/three days",er);if(Nr==="month")return Fr("%1/three months",er);if(Nr==="week")return Fr("%1/three weeks",er);if(Nr==="year")return Fr("%1/three years",er)}if(Nr==="day")return Wr("%2/day","%2/%1 days",He.interval_count,er);if(Nr==="month")return Wr("%2/month","%2/%1 months",He.interval_count,er);if(Nr==="week")return Wr("%2/week","%2/%1 weeks",He.interval_count,er);if(Nr==="year")return Wr("%2/year","%2/%1 years",He.interval_count,er)}return er}function Lt(He,{secondsCutoff:Ht,minutesCutoff:wn,hoursCutoff:kn,daysCutoff:er,weeksCutoff:Nr,long:Wr,noNumber:Fr,noWord:ro,lessThanMinute:Ko,language:si="en",appendAgo:Xo}={}){const{iCombo:Lo}=I18N.i(si);He=Math.round(He);let Ao;return He<(Ht||60)?(Ao=Math.round(He),ro?Ao:Fr&&Wr?Lo("secondsToLargestUnit","second","seconds",Ao):Fr&&!Wr?Lo("secondsToLargestUnit","sec","secs",Ao):!Wr&&Xo?Lo("secondsToLargestUnit","%1 sec ago","%1 secs ago",Ao):Wr?Xo?Lo("secondsToLargestUnit","%1 second ago","%1 seconds ago",Ao):Lo("secondsToLargestUnit","%1 second","%1 seconds",Ao):Lo("secondsToLargestUnit","%1 sec","%1 secs",Ao)):He<(wn||3600)&&Ko&&!ro&&!Fr?(Ao=Math.round(He/60),!Wr&&Xo?Lo("secondsToLargestUnit","%1 min ago","%1 mins ago",Ao):Wr?Xo?Lo("secondsToLargestUnit","less than %1 second ago","less than %1 seconds ago",Ao):Lo("secondsToLargestUnit","less than %1 minute","less than %1 minutes",Ao):Lo("secondsToLargestUnit","less than %1 min","less than %1 mins",Ao)):He<(wn||3600)?(Ao=Math.round(He/60),ro?Ao:Fr&&Wr?Lo("secondsToLargestUnit","minute","minutes",Ao):Fr&&!Wr?Lo("secondsToLargestUnit","min","mins",Ao):!Wr&&Xo?Lo("secondsToLargestUnit","%1 min ago","%1 mins ago",Ao):Wr?Xo?Lo("secondsToLargestUnit","%1 minute ago","%1 minutes ago",Ao):Lo("secondsToLargestUnit","%1 minute","%1 minutes",Ao):Lo("secondsToLargestUnit","%1 min","%1 mins",Ao)):He<(kn||86400)?(Ao=Math.round(He/60/60),ro?Ao:Fr&&Wr?Lo("secondsToLargestUnit","hour","hours",Ao):Fr&&!Wr?Lo("secondsToLargestUnit","hr","hrs",Ao):!Wr&&Xo?Lo("secondsToLargestUnit","%1 hr ago","%1 hrs ago",Ao):Wr?Xo?Lo("secondsToLargestUnit","%1 hour ago","%1 hours ago",Ao):Lo("secondsToLargestUnit","%1 hour","%1 hours",Ao):Lo("secondsToLargestUnit","%1 hr","%1 hrs",Ao)):He<(er||604800)?(Ao=Math.round(He/60/60),ro?Ao:Fr?Lo("secondsToLargestUnit","day","days",Ao):Xo?Lo("secondsToLargestUnit","%1 day ago","%1 days ago",Ao):Lo("secondsToLargestUnit","%1 day","%1 days",Ao)):He<(Nr||31557600)?(Ao=Math.round(He/60/60),ro?Ao:Fr&&Wr?Lo("secondsToLargestUnit","week","weeks",Ao):Fr&&!Wr?Lo("secondsToLargestUnit","wk","wks",Ao):!Wr&&Xo?Lo("secondsToLargestUnit","%1 wk ago","%1 wks ago",Ao):Wr?Xo?Lo("secondsToLargestUnit","%1 week ago","%1 weeks ago",Ao):Lo("secondsToLargestUnit","%1 week","%1 weeks",Ao):Lo("secondsToLargestUnit","%1 wk","%1 wks",Ao)):(Ao=Math.round(He/60/60/24/365.25),ro?Ao:Fr&&Wr?Lo("secondsToLargestUnit","year","years",Ao):Fr&&!Wr?Lo("secondsToLargestUnit","yr","yrs",Ao):!Wr&&Xo?Lo("secondsToLargestUnit","%1 yr ago","%1 yrs ago",Ao):Wr?Xo?Lo("secondsToLargestUnit","%1 year ago","%1 years ago",Ao):Lo("secondsToLargestUnit","%1 year","%1 years",Ao):Lo("secondsToLargestUnit","%1 yr","%1 yrs",Ao))}function mt(He){const Ht=Math.floor(He/60/60),wn=Math.floor(He/60)%60,kn=Math.floor(He%60);return`${(Ht?`${Ht}:`:"")+(Ht?`0${wn}`.slice(-2):wn)}:${`0${kn}`.slice(-2)}`}function Mt(He){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(He)}function Jt(He){return He[0]!=="#"&&(He=`#${He}`),He=He.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(Ht,wn,kn,er)=>wn+wn+kn+kn+er+er),He}function pn(He){He=Jt(He);function Ht(Lo,Ao){typeof Lo=="string"&&Lo.indexOf(".")!=-1&&parseFloat(Lo)===1&&(Lo="100%");const ji=typeof Lo=="string"&&Lo.indexOf("%")!=-1;return Lo=Math.min(Ao,Math.max(0,parseFloat(Lo))),ji&&(Lo=parseInt(Lo*Ao,10)/100),Math.abs(Lo-Ao)<1e-6?1:Lo%Ao/parseFloat(Ao)}const wn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(He);let kn=parseInt(wn[1],16),er=parseInt(wn[2],16),Nr=parseInt(wn[3],16);kn=Ht(kn,255),er=Ht(er,255),Nr=Ht(Nr,255);const Wr=Math.max(kn,er,Nr),Fr=Math.min(kn,er,Nr);let ro;const Ko=Wr,si=Wr-Fr,Xo=Wr===0?0:si/Wr;if(Wr==Fr)ro=0;else{switch(Wr){case kn:ro=(er-Nr)/si+(er<Nr?6:0);break;case er:ro=(Nr-kn)/si+2;break;case Nr:ro=(kn-er)/si+4;break}ro/=6}return{h:ro,s:Xo,v:Ko}}function An(He){const Ht=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Jt(He));return Ht?{r:parseInt(Ht[1],16),g:parseInt(Ht[2],16),b:parseInt(Ht[3],16)}:null}function Fn({r:He,g:Ht,b:wn}){return`#${He.toString(16).padStart(2,"0")}${Ht.toString(16).padStart(2,"0")}${wn.toString(16).padStart(2,"0")}`}function Un(He){const Ht=pn(He);if(Ht.h>.11&&Ht.h<.56)if(Ht.s>.25&&Ht.v>.5){if(Ht.s<.6&&Ht.v>.8)return!0;if(Ht.s>.6)return!0}else return!1;else if(Ht.s>.25&&Ht.v>.5)return!0;return!1}function Gt(He,Ht){const wn=An(He);return wn?(wn.r=Math.max(0,Math.min(255,Math.round(wn.r*Ht))),wn.g=Math.max(0,Math.min(255,Math.round(wn.g*Ht))),wn.b=Math.max(0,Math.min(255,Math.round(wn.b*Ht))),Fn(wn)):He}function Zt(He){let{r:Ht,g:wn,b:kn}=An(He);return Ht=Ht/255,wn=wn/255,kn=kn/255,Ht=Ht<=.03928?Ht/12.92:Math.pow((Ht+.055)/1.055,2.4),wn=wn<=.03928?wn/12.92:Math.pow((wn+.055)/1.055,2.4),kn=kn<=.03928?kn/12.92:Math.pow((kn+.055)/1.055,2.4),.2126*Ht+.7152*wn+.0722*kn}function _n(He,Ht,{name:wn=Fr=>Fr,restWord:kn="other",noNames:er="people",pluralizeRest:Nr=!0,showRestCount:Wr=!0}={}){const Fr=He.map(wn).filter(Boolean).slice(0,Ht);if(Fr.length===0)Fr.push(at(He.length,er));else if(Fr.length<He.length){const ro=He.length-Fr.length;Fr.push(`${Wr?ro:""} ${kn}${ro>1&&Nr?"s":""}`)}return Qn(Fr)}function Qn(He,Ht="en"){const{iString:wn}=I18N.i(Ht);let kn="";return He.length===1?kn=He[0]:He.length===2?kn=He.join(` ${wn("and")} `):He.length>2&&(kn=`${He.slice(0,-1).join(", ")}, ${wn("and")} ${He.slice(-1)}`),kn}function At(He,{minSignificantDigits:Ht=1,language:wn="en"}={}){if(He<1e3)return He.toString();const{iTemplate:kn}=I18N.i(wn),er=Nr=>{const Wr=Math.max(Ht-1-Math.floor(Math.log10(Nr)),0);return Math.round(Nr*Math.pow(10,Wr))/Math.pow(10,Wr)};return Math.round(He/1e3)<1e3?(He/=1e3,kn`${er(He)}k`):Math.round(He/1e6)<1e3?(He/=1e6,kn`${er(He)}m`):Math.round(He/1e9)<1e3?(He/=1e9,kn`${er(He)}b`):(He/=1e12,kn`${er(He)}t`)}const fn=He=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(He,1))/Math.LN10+1e-9))-1),gn=He=>"\u{1F525}".repeat(fn(He));function Mn(He,Ht,wn){const kn=(He||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(Nr=>Nr.trim()).filter(Nr=>Nr),er=[];for(;kn.length>0;){const Nr=kn.shift(),Wr=er[er.length-1];Wr&&Wr.length<wn?er[er.length-1]+=Ht+Nr:er.push(Nr)}return er.join(`
`)}function Wn(){return Math.random().toString(36).replace(/^0\./,"")}function rr(He){return He.trim().split(/\s+/).filter(Boolean).map(Ht=>Ht[0].toUpperCase()+Ht.substr(1).toLowerCase()).join(" ")}function Zn(He,Ht){const wn=Ht?He.substr(1).toLowerCase():He.substr(1);return He[0].toUpperCase()+wn}function ur(He){const Ht=["th","st","nd","rd"],wn=He%100;return He+(Ht[(wn-20)%10]||Ht[wn]||Ht[0])}function Ar(He,{precision:Ht=0,language:wn="en"}={}){return typeof He=="string"&&(He=Number(He.replace(/,/g,""))),new Intl.NumberFormat(wn,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:Ht}).format(He)}function so(He){return Math.pow(10,Math.floor(Math.log10(He)))||0}function io(He){return He<100?"tens":He<1e3?"hundreds":He<1e4?"thousands":He<1e5?"tens of thousands":He<1e6?"hundreds of thousands":He<1e7?"millions":He<1e8?"tens of millions":He<1e9?"hundreds of millions":He<1e10?"billions":He<1e11?"tens of billions":He<1e12?"hundreds of billions":He<1e13?"trillions":He<1e14?"tens of trillions":He<1e15?"hundreds of trillions":"gagillions"}function Qr(He){const Ht=He.toLocaleString(void 0,{notation:"compact",maximumFractionDigits:0,roundingMode:"floor"});return He>=1e3?`${Ht}+`:He>0?Ht:"0"}function Eo(He){return He<=10?`#${He}`:He<=25?"Top 25":He<=50?"Top 50":He<=100?"Top 100":""}function So(He){if(He<1e3)return null;let kn=Math.floor(He/1e3)*1e3;return kn>=1e6&&(kn=Math.floor(He/1e5)*1e5),Ar(kn)}function Wt(He,Ht="en"){const{iTemplate:wn}=I18N.i(Ht),kn=So(He);return kn?wn`Over ${kn} subscribers`:null}function jn(He){if(!He||He<100)return"See subscribers";const Ht=He<1e3?100:1;return`${Qr(Math.floor(He/Ht)*Ht)} subscribers`}const bt=He=>He<1?"< 1%":`${He}%`;function Ut(He,{rounded:Ht=!1,display:wn=!1,decimalPlaces:kn=-1}={}){let er=parseFloat(He)*100;return kn>=0&&(er=er.toFixed(kn)),Ht&&(er=Math.floor(er)),wn?bt(Number(er)):er}function qt(He){var Ht;if((Ht=He==null?void 0:He.postSchedules)!=null&&Ht.length&&He.postSchedules[0].trigger_at)return new Date(He.postSchedules[0].trigger_at);if("scheduled_at"in He&&!(!He||!He.scheduled_at)&&!(He.email_sent_at&&He.should_send_email))return new Date(Math.max(new Date(He.scheduled_at).getTime(),Date.now()))}function Sn(He){return He===0?"zero":He===1?"one":He===2?"two":He===3?"three":He===4?"four":He===5?"five":He===6?"six":He===7?"seven":He===8?"eight":He===9?"nine":He===10?"ten":He===11?"eleven":He===12?"twelve":Ar(He)}function at(He,Ht,{zero_fallback:wn="",just_word:kn}={}){let er,Nr;const Wr=Ht.lastIndexOf(" ")+1,Fr=Ht.substr(Wr),ro=Ht.substr(0,Wr);return["person","people"].includes(Fr)?(er=`${ro}person`,Nr=`${ro}people`):["reply","replies"].includes(Fr)?(er=`${ro}reply`,Nr=`${ro}replies`):["entry","entries"].includes(Fr)?(er=`${ro}entry`,Nr=`${ro}entries`):["match","matches"].includes(Fr)?(er=`${ro}match`,Nr=`${ro}matches`):(er=Ht,Nr=`${Ht}s`),kn||(er=`${Ar(He)} ${er}`,Nr=`${Ar(He)} ${Nr}`),!He&&wn?wn:He==1?er:Nr}function Pt(He){return`${He}\u2019${He[He.length-1]==="s"?"":"s"}`}function jt(He){return He.replace(/\n/g,"\\n")}const vn=(He,Ht,wn)=>{const kn={};for(const er in He)kn[er]=Ht.call(wn,He[er],er,He);return kn};function Pn(He,Ht){if(isNaN(He))return isNaN(Ht);if(He===null)return Ht===null;switch(typeof He){case"undefined":case"boolean":case"number":case"string":return He===Ht}const wn=Object.keys(He).sort(),kn=Object.keys(Ht).sort();if(wn.length!==kn.length)return!1;for(let er=0;er<wn.length;er+=1){const Nr=wn[er];if(Nr!==kn[er]||!Pn(He[Nr],Ht[Nr]))return!1}return!0}const Rn=(He,Ht="id")=>{const wn={};for(const kn of He)typeof Ht=="function"?wn[Ht(kn)]=kn:wn[kn[Ht]]=kn;return wn};function $n(He,Ht){const wn=[],kn=[];for(const er of He)Ht(er)?wn.push(er):kn.push(er);return[wn,kn]}const ar=(He,Ht=1)=>{const wn=[];function kn(er,Nr){for(const Wr of er)Array.isArray(Wr)&&Nr>0?kn(Wr,Nr-1):wn.push(Wr)}return kn(He,Ht),wn},lr=(He,Ht,wn)=>{if(typeof Ht=="string"){const kn=Ht.split(".");Ht=er=>kn.reduce((Nr,Wr)=>Nr[Wr],er)}return[].reduce.call(He,(kn,er,Nr)=>{const Wr=Ht.call(wn,er,Nr,He),Fr=kn.get(Wr);return Fr?Fr.push(er):kn.set(Wr,[er]),kn},new Map)};function sr({publication:He,post:Ht}){return["adhoc_email","page"].includes(Ht==null?void 0:Ht.type)?!1:He.community_enabled&&Ht&&Ht.write_comment_permissions!=="none"}function fr({publication:He,post:Ht}){return!!(He.community_enabled&&Ht)}function gr({publication:He,post:Ht}){return(Ht==null?void 0:Ht.type)==="adhoc_email"||(Ht==null?void 0:Ht.slug)==="coming-soon"?!1:Ht&&Ht.comment_count>0||sr({publication:He,post:Ht})}const Sr=He=>!!(He&&He.is_contributor);function Gr(He,Ht,{bypassContentAccessCheck:wn=!1}={}){const{userHasFullAccessToPost:kn}=e(6385);return He&&Ht.publishedBylines&&Ht.publishedBylines.find(er=>er.id===He.id)?!0:wn||kn(He,Ht)}function Oo(He,Ht,{bypassContentAccessCheck:wn=!1}={}){const{userHasFullAccessToPost:kn}=e(6385);return He&&Ht.publishedBylines&&Ht.publishedBylines.find(er=>er.id===He.id)?!0:wn||kn(He,Ht)}const zr=He=>He.type==="thread"&&He.write_comment_permissions==="none";function yt(He,Ht,wn){const kn=He&&"id"in He?He.id:null;if(kn&&Ht.publishedBylines&&Ht.publishedBylines.find(er=>er.id===kn))return{canReply:!0};if(He&&He.is_contributor)return{canReply:!0};switch(Ht.write_comment_permissions||wn.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:c.us.comments_disabled};case"only_paid":{const er=!!(He&&He.is_subscribed);return{canReply:er,repliesDisabledReason:er?void 0:c.us.paid_subscription_required}}}return{canReply:!1}}function ft(He,Ht,wn){return yt(u(A({},He),{is_subscribed:!0}),Ht,wn).canReply}const vt=(He,Ht)=>!!(Ht&&He&&He.id===Ht.user_id);function kt(He,Ht,{pub:wn,post:kn,parentComments:er}){if(!He||!Ht)return!1;if(He.is_contributor||He.id===Ht.user_id)return!0;if(Ht.publication_id&&Ht.post_id){if(Cn(He,wn,kn))return!0}else if(Qt({user:He,comment:Ht,parentComments:er}))return!0;return!1}function Qt({user:He,comment:Ht,parentComments:wn}){var kn;if(!He||!Ht||Ht.publication_id&&Ht.post_id||He.id===Ht.user_id||He.is_contributor)return!1;const er=Number((kn=Ht.ancestor_path)==null?void 0:kn.split(".").filter(Boolean)[0]);if(!er)return!1;const Nr=wn==null?void 0:wn.find(Wr=>(Wr==null?void 0:Wr.id)===er);return He.id===(Nr==null?void 0:Nr.user_id)}function Cn(He,Ht,wn){return He?!!(He.is_contributor||He.id===(Ht==null?void 0:Ht.author_id)||Ht!=null&&Ht.contributors.find(kn=>kn.user_id===He.id&&["admin","contributor"].includes(kn.role))):!1}function En(He,Ht){return!(!He||!Ht||He.id===Ht.user_id)}function Kn(He){return!!He.plans}function or(He){return!!(He.plans||He.has_subscribers)}function Yn(He,{type:Ht,coupon:wn}={}){return!He.plans||Ht==="page"?"everyone":wn?"only_free":"only_paid"}function Er(He,Ht,wn){if(Ht==="thread")switch(He){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(He){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return wn?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function eo(He,Ht,wn,kn){return He!=null&&Er(Ht,wn,kn).includes(He)}function Zr(He,Ht,wn,kn){return eo(wn.default_write_comment_permissions,He,Ht,kn)?wn.default_write_comment_permissions:Er(He,Ht,kn)[0]}function co(He,Ht,wn){return Ht==="page"?!1:wn==="only_free"?!0:!!He.default_post_publish_send_email}function it(He,Ht,wn){return Ht&&Ht.interval==="forever"?0:Math.max(0,...[He.trial_end_override>Date.now()/1e3?He.trial_end_override:0,Ht&&Ht.trial_period_days&&Math.round((Date.now()+Ht.trial_period_days*24*60*60*1e3)/1e3),wn&&wn.trial_period_days&&Math.round((Date.now()+wn.trial_period_days*24*60*60*1e3)/1e3)].filter(kn=>kn))}function Ye(He,{prependSpace:Ht=!1}={}){return He?(Ht?" ":"")+He.trim().split(/\s+/g)[0]:""}function lt(He){return He?He.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const Ot=He=>ln[new Date(He).getMonth()];function tn(He,{noBreakSpace:Ht}={}){const wn=Ht?"\xA0":" ";let kn=[];if(He.length==1)kn=[He[0]];else if(He.length==2)kn=[He[0],`${wn}and${wn}`,He[1]];else if(He.length>=3)for(let er=0;er<He.length;er++)kn.push(He[er]),er<He.length-2?kn.push(`,${wn}`):er===He.length-2&&kn.push(`,${wn}and${wn}`);return kn.toString=()=>kn.join(""),kn}function an(He){const Ht=new Map;for(const wn of He){let kn=Ht.get(wn);kn=(kn||0)+1,Ht.set(wn,kn)}return Array.from(Ht).sort((wn,kn)=>kn[1]-wn[1])[0][0]}function bn(He,Ht="en"){const{iString:wn}=I18N.i(Ht);return He.type==="thread"?wn("View thread"):He.type==="podcast"?wn("Listen"):wn("Read")}function yn(He,{isFinalWord:Ht}={}){return He==="podcast"?`listening${Ht?"":" to"}`:He==="video"?"watching":"reading"}function Ln(He){return He==="newsletter"?"post":He==="podcast"?"episode":He==="adhoc_email"?"email":He}function nt(He){return`${It(He.title||"Untitled post",115)}`}function Ge(He){return He.publication_id===10475&&He.section_id===18994}function St(He,{isDraft:Ht=!1}={}){return He?((Ht?He.draftBylines:He.publishedBylines)||[]).filter(kn=>kn.name):[]}function nn(He,Ht,{isDraft:wn=!1}={}){const kn=St(Ht,{isDraft:wn});return kn.length>0?Qn(kn.map(er=>er.name).filter(er=>er!==null)):null}const Nn=He=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(He);function hr(He){return typeof He=="string"?a()(He)||0:typeof He=="number"?He:0}function jr(He){const Ht=wn=>new RegExp(`^.*${wn}`);if(He){if(He.includes(i.Substitutions.CHECKOUT_URL))return He.replace(Ht(i.Substitutions.CHECKOUT_URL),"/subscribe?");if(He.includes(i.Substitutions.FOUNDING_CHECKOUT_URL))return He.replace(Ht(i.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(He.includes(i.Substitutions.REFERRAL_URL))return He.replace(Ht(i.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(He.includes(i.Substitutions.UNSUBSCRIBE_URL))return He.replace(Ht(i.Substitutions.UNSUBSCRIBE_URL),"/account?");if(He.includes(i.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return He.replace(Ht(i.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(He))return null}else return He;return He}function Xr(He){const Ht=jr(He);if(Ht){const wn=window.open(Ht,"_blank");wn!=null&&wn.focus&&wn.focus()}}function no(He){if(!He)return!0;const Ht=document.location&&document.location.pathname||"";return["publish","account"].includes(Ht.split("/")[1])}function Mo(He,Ht=2){if(He===0)return"0 Bytes";const wn=1024,kn=Ht<0?0:Ht,er=Math.floor(Math.log(He)/Math.log(wn));return`${parseFloat((He/Math.pow(wn,er)).toFixed(kn))} ${x[er]}`}function ko(He=""){if(!He)return 0;const[Ht,wn]=He.split(" "),kn=x.indexOf(wn);return kn<0?0:Number(Ht)*Math.pow(1024,kn)}function Bo(He){return/Googlebot/i.test(He||"")?"Google":/bingbot/i.test(He||"")||/BingPreview/i.test(He||"")?"Bing":/Slurp/i.test(He||"")?"Yahoo":/DuckDuckBot/i.test(He||"")?"DDG":/Baiduspider/i.test(He||"")?"Baidu":!1}function Wo(He,Ht,wn,kn){return He.name?He.name:(wn&&wn.author_id===kn.id||Ht&&Ht.publishedBylines&&Ht.publishedBylines.find(er=>er.id===kn.id))&&He.email||"Someone"}function Jo(He,Ht){return He&&He.description||Ht.hero_text||`Get ${Ht.name} in your inbox`}const Ho=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],Go={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},Rt=Ho.flatMap(He=>He.pubs);function Nt(He,Ht,wn){const kn=Ho.find(Nr=>{var Wr;return Nr.pubs.includes(((Wr=He==null?void 0:He.parent_publication)==null?void 0:Wr.subdomain)||(He==null?void 0:He.subdomain))})||null,er=kn?A(A({},Go),kn):null;return er?wn(er):Ht()}function mn(He,Ht){const wn=Ho.find(er=>{var Nr;return er.pubs.includes(((Nr=He==null?void 0:He.parent_publication)==null?void 0:Nr.subdomain)||(He==null?void 0:He.subdomain))});let kn=wn&&wn[Ht];if(!kn&&(kn=Go[Ht],!kn))throw new Error(`${Ht} is not a valid subscription word`);return kn}function tr(He){const Ht={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${He}`).map(wn=>Ht[wn]))}const dr=He=>{var Ht,wn,kn;return(kn=(wn=(Ht=He==null?void 0:He.plans)==null?void 0:Ht.find(er=>{var Nr;return(Nr=er.metadata)==null?void 0:Nr.founding}))==null?void 0:wn.metadata)==null?void 0:kn.short_description},Pr=He=>`https://checkout.opennode.com/${He}`;function Or(He=0){const Ht=He===0?0:Math.floor(Math.log(He)/Math.log(1024));return`${+(He/Math.pow(1024,Ht)).toPrecision(3)}${["B","KB","MB","GB","TB"][Ht]}`}function Ur(He,Ht="en"){if(!He)return null;const{iString:wn}=I18N.i(Ht),kn=wn("Substack Network"),er=wn("Substack App");if(Br(He))return er;const Nr={"blog.substack.com":kn,"library.substack.com":kn,"substack-network":kn,"on.substack.com":kn,"post-end-cta":"Post Footer CTA","stories.substack.com":kn,"substack-app":er,"substack-boost":kn,"substack-categories-discovery":er,"substack-categories-discovery-search":er,"substack-comment-links":kn,"substack-cross-posts":kn,"substack-facepiles":kn,"substack-feed-item":er,"substack-homepage-recommendations":kn,"substack-ios-in-app-purchase":"Substack iOS In-App Purchase","substack-mentions":kn,"substack-notes":er,"substack-onboarding-discovery":er,"substack-post-embeds":kn,"substack-post-reply-comment":kn,"substack-presubscribe":er,"substack-publication-embeds":kn,"substack-reader-discovery":er,"substack-reader-profile-discovery":er,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":wn("Substack Network \u2014 Your Weekly Stack"),"substack-recommendation-email":kn,"substack-referral":kn,"substack-signup-flow":kn,"substack-subscriber-referral":kn,"substack-twitter-link":er,"substack-twitter-suggest":er,"substack-xp-post-template":kn,"substack-xp-read-next":kn,"substack.com":er,"t.co":"Twitter","www.substack.com":kn,external:wn("external form / api"),"googleads.g.doubleclick.net":"Google","score-upsell":wn("Boost upsell to engaged subscribers")}[He];return Nr||(/(\b|\.)facebook\./.test(He)?"Facebook":/(\b|\.)instagram\./.test(He)?"Instagram":/(\b|\.)linkedin\./.test(He)?"LinkedIn":/(\b|\.)youtube\./.test(He)?"YouTube":/(\b|\.)duckduckgo\./.test(He)?"DuckDuckGo":/(\b|\.)medium\./.test(He)?"Medium":/(\b|\.)reddit\./.test(He)?"Reddit":/(\b|\.)bing\./.test(He)?"Bing":/(\b|\.)google\./.test(He)?"Google":He!=null&&He.includes(".")?He:rr(He.replace(/-/g," ")))}function Hr(He){return Br(He)?!0:["substack-app","substack-categories-discovery","substack-categories-discovery-search","substack-feed-item","substack-ios-in-app-purchase","substack-notes","substack-onboarding-discovery","substack-presubscribe","substack-reader-discovery","substack-reader-profile-discovery","substack-twitter-link","substack-twitter-suggest","substack.com"].includes(He)}function Br(He){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(He)}function Dr(He){return!Hr(He)&&/substack/i.test(He)}const bo=He=>/^\S+@\S+\.\S+$/.test(He),Po=He=>(He||"").replace(/\s+/g," "),uo={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function lo(He){return He?He<3456e3?"monthly":He<8121600?"quarterly":He<16070400?"semiannual":He<3456e4?"annual":He>3888e3?"lifetime":"other":"free"}function go(He){return He&&(He.homepage_type==="newspaper"||He.homepage_type==="magaziney")}const _o=35;function oo(He,{isStatic:Ht}={}){let wn,kn;return He.width>=He.height*1.7777777777777777?(wn=Ht?550:960,kn=Math.round(wn*(He.height/He.width))):He.width>=He.height?(wn=Ht?550:728,kn=Math.round(wn*(He.height/He.width))):wn=kn=Ht?550:728,{height:kn,width:wn}}function wo(He){const Ht=e(85928),wn=Ht(He);return Ht.utc([wn.year(),wn.month(),wn.date(),8,0,0]).toDate()}function To({now:He}={}){const Ht=e(85928),wn=He?Ht(He):Ht();let kn=wn.utc().startOf("day").add(5,"hour");return kn.isBefore(wn)&&(kn=kn.utc().add(1,"day")),kn}function de(He){const Ht=Math.round(He/60),wn=Math.floor(Ht/60),kn=Ht%60;return`${wn?`${wn}HR `:""}${kn}M`}function pe(He){const Ht=He.toLowerCase()[0];return["a","e","i","o","u"].includes(Ht)}function ve(He){return He.toLowerCase().startsWith("uni watch")?"a":pe(He)?"an":"a"}function Me(He){return`${ve(He)} ${He}`}function rt(He){return He.split("").reduce((Ht,wn)=>(Ht<<5)-Ht+wn.charCodeAt(0)|0,0)}function dt(He,Ht="en"){const{iContext:wn}=I18N.i(Ht),kn=wn("thousandsAbbreviation","K");return Math.abs(He)>9999?`${Math.sign(He)*(Math.abs(He)/1e3).toFixed(1)}${kn}`:(Math.sign(He)*Math.abs(He)).toString()}function Tt({recommendedPubs:He}){let Ht=null;for(const wn of He){for(const kn of wn.recommendations)if(kn.hasOwnProperty("blurb")&&kn.blurb){Ht=`${kn.name} recommended ${wn.name}`;break}if(Ht)break}return Ht!=null?Ht:"Recommendations from your Substacks"}function Ft(He,Ht="en"){const{iString:wn}=I18N.i(Ht);return He.metadata.short_description?wn(He.metadata.short_description):He.interval==="year"?wn("Annual"):He.interval==="forever"?wn("Founding Membership"):He.interval==="month"&&He.interval_count===3?wn("Quarterly"):He.interval==="month"&&He.interval_count===6?wn("Semiannually"):He.interval==="day"?wn("Daily"):He.interval==="week"?wn("Weekly"):wn("Monthly")}function rn(He){var Ht;return((Ht=He==null?void 0:He.metadata)==null?void 0:Ht.founding)==="yes"}const Bn=({minLength:He,maxLength:Ht,minAlphaNumeric:wn}={})=>kn=>{if(!kn)return"Missing input";if(He&&kn.length<He)return`Must be at least ${He} characters long`;if(Ht&&kn.length>Ht)return`Must be at most ${Ht} characters long`;const er=new RegExp("\\P{P}|`","gu"),Nr=kn.match(er);if(!Nr||(Nr==null?void 0:Nr.length)<(wn!=null?wn:He))return`Must contain at least ${wn!=null?wn:He} non-punctuation characters`;const Wr=["`"];let Fr=0;return Nr.forEach(ro=>{Wr.includes(ro)&&(Fr+=1)}),Nr.length-Fr<(wn!=null?wn:He)?`Must contain at least ${wn!=null?wn:He} non-punctuation characters`:null};function Jn(He,Ht){const wn=process.env[He],kn=typeof wn!="undefined",er=typeof Ht!="undefined";if(kn)return wn;if(er)return Ht;throw new Error(`Missing required env var ${He}`)}function Lr(He){return new Promise((Ht,wn)=>{const kn=[];He.on("data",er=>kn.push(er)),He.once("end",()=>Ht(Buffer.concat(kn))),He.once("error",wn)})}function kr(He,{maxWidth:Ht=55,maxLines:wn=2,charWidth:kn=1}={}){const er=[];let Nr="",Wr=0;const Fr=He.split(" ");for(const ro of Fr){const Ko=ro.length*kn;if(Wr+Ko<=Ht)Nr?(Nr+=` ${ro}`,Wr+=Ko+kn):(Nr=ro,Wr=Ko);else if(er.push(Nr),Nr=ro,Wr=Ko,er.length===wn)break}if(er.length===wn&&Nr){const ro=Ht-Wr;ro>=3?Nr+="...":Nr=`${Nr.substring(0,Nr.length-(3-ro))}...`,er[wn-1]=Nr}else Nr&&er.push(Nr);return er}function Rr(){return typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0)}function qr(He){return(He==null?void 0:He.id)&&He.id.toString(36)||null}function xo(He){if(!He)return null;try{const Ht=parseInt(He,36);return isNaN(Ht)||Ht>je?null:Ht}catch(Ht){return null}}function fo(He,Ht){return typeof He!="string"?Ht[0]:Ht.includes(He)?He:Ht[0]}},17087:(K,f,e)=>{"use strict";e.d(f,{a:()=>t});const t=(a,i,c)=>{var p;return((p=c==null?void 0:c.preview_duration)!=null?p:0)>0||["everyone","only_free"].includes(i.audience)||["only_paid"].includes(i.audience)&&(a==null?void 0:a.is_subscribed)||["founding"].includes(i.audience)&&(a==null?void 0:a.is_founding)}},31163:(K,f,e)=>{"use strict";e.d(f,{DL:()=>i,UB:()=>a});function t(c){const p=e(85928);return p().diff(p(c),"hour")}const a=c=>{const p=Math.floor(c/60),l=Math.floor(c%60);return`${p}:${l.toString().padStart(2,"0")}`};function i(c,p=!1){if(c<0)return"0:00";const l=Math.floor(c),v=Math.floor(l/60),_=l%60;if(p){const g=Math.round((c-l)*10);return`${v}:${String(_).padStart(2,"0")}.${g}`}return`${v}:${String(_).padStart(2,"0")}`}},32542:K=>{"use strict";const f={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3",language:"en"};K.exports=f},18363:(K,f,e)=>{"use strict";e.d(f,{$y:()=>o,ph:()=>D,uF:()=>C});var t=e(80569),a=e.n(t),i=e(83322),c=e(28054),p=e(83813),l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(M,T,R)=>T in M?l(M,T,{enumerable:!0,configurable:!0,writable:!0,value:R}):M[T]=R,S=(M,T)=>{for(var R in T||(T={}))_.call(T,R)&&E(M,R,T[R]);if(v)for(var R of v(T))g.call(T,R)&&E(M,R,T[R]);return M},O=(M,T,R)=>new Promise((F,N)=>{var U=L=>{try{W(R.next(L))}catch(k){N(k)}},V=L=>{try{W(R.throw(L))}catch(k){N(k)}},W=L=>L.done?F(L.value):Promise.resolve(L.value).then(U,V);W((R=R.apply(M,T)).next())});const A=M=>{const{url:T,isEpisode:R}=M.attrs;return["div",{class:"apple-podcast-container","data-component-name":"ApplePodcastToDom"},["iframe",{class:`apple-podcast ${R?"":"episode-list"}`,"data-attrs":JSON.stringify(M.attrs),src:T,frameborder:"0",allow:"autoplay *; encrypted-media *;",allowfullscreen:"true"}]]},u=M=>{const{imageUrl:T,isEpisode:R,podcastTitle:F,podcastByline:N,duration:U,numEpisodes:V,targetUrl:W}=M.attrs;let L=M.attrs.title,k=F,H=(0,i.secondsToHHMMSS)(U/1e3);return R||(L=F,k=N,H=(0,i.pluralize)(V,"episode",{zero_fallback:"No episodes"})),(0,c.L)(T,L,k,H,{targetUrl:W})},o={attrs:{url:{},isEpisode:{},imageUrl:{default:""},title:{default:""},podcastTitle:{default:""},podcastByline:{default:""},duration:{default:""},numEpisodes:{default:""},targetUrl:{default:""},releaseDate:{default:""}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"iframe.apple-podcast",getAttrs:p.YX}],toDOM:A,toDOMStatic:u},s=/[<iframe]?.*[src="]?(https?:\/\/(embed\.)?podcasts\.apple\.com\/([^/]+)?\/?podcast\/([^/]+)\/?(id\d+)\??(i=(\d+))?)[\S]*/,w=M=>{const T=s.exec(M);return T?{match:T[0],embedLink:T[2],countryCode:T[3],slug:T[4],podcastId:T[5].substr(2),episodeId:T[7]}:{match:!1}},P=(0,p.Se)({name:"applePodcast",nodeSpec:o,addCommands(){return{insertApplePodcast:M=>({commands:T})=>T.insertContent({type:this.name,attrs:M})}}}),C=(M,{customSchema:T}={})=>T&&!T.nodes.applePodcast?null:w(M).match||null,x=M=>O(void 0,null,function*(){const T=w(M),{slug:R,podcastId:F,episodeId:N,countryCode:U}=T,W=(yield a().get("/api/v1/apple_podcast").query({slug:R,podcastId:F,episodeId:N,country:U})).body;return S({url:y(T),isEpisode:!!T.episodeId},W)}),D=(M,...T)=>O(void 0,[M,...T],function*(R,{customSchema:F}={}){return(F||e(71565).fK).nodes.applePodcast.create(yield x(R))}),y=({countryCode:M,slug:T,podcastId:R,episodeId:F})=>{const N=M||"us",U=F?`?i=${F}`:"";return`https://embed.podcasts.apple.com/${N}/podcast/${T}/id${R}${U}`}},98488:(K,f,e)=>{"use strict";e.d(f,{$:()=>S});var t=e(24706),a=e(83322),i=e(83813),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?c(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A};const E="image-asset-error",S={attrs:{url:{default:""}},group:"block",defining:!0,parseDOM:[{tag:`div.${E}`,getAttrs:i.YX}],toDOM:A=>{if(typeof window!="undefined"){const{render:u,h:o}=e(6400),{ImageAssetError:s}=e(26579);A.attrs.isEditor=!0;const w=document.createElement("div");return w.className=E,w.setAttribute("data-attrs",JSON.stringify(A.attrs)),u(o(s,{node:g({},A)}),w),w}return["div",{"data-attrs":JSON.stringify(g({},A.attrs)),"data-component-name":"AssetErrorToDOM"},[["picture"],["img",{src:a.MISSING_IMAGE_URL,height:a.MISSING_IMAGE_HEIGHT,width:a.MISSING_IMAGE_WIDTH}]]]},toDOMStatic:A=>["div",{"data-attrs":JSON.stringify(g({},A.attrs)),"data-component-name":"AssetErrorToDOMStatic"}]},O=(0,i.Se)({name:"assetError",nodeSpec:S,addNodeView(){const{ImageAssetError:A}=e(26579);return(0,t.fW)(A)}})},25799:(K,f,e)=>{"use strict";e.d(f,{$y:()=>O});var t=e(24706),a=e(83813),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s));const O={attrs:{label:{default:null},mediaUploadId:{default:null},duration:{default:null},isEditorNode:{default:!1}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.native-audio-embed",getAttrs:a.YX}],toDOM:o=>{if(typeof window!="undefined"&&o.attrs.isEditorNode){const{render:s,h:w}=e(6400),{AudioEmbedPlayer:P}=e(58592),C=document.createElement("div");return C.className="native-audio-embed",C.setAttribute("data-attrs",JSON.stringify(o.attrs)),s(w(P,{label:o.attrs.label,src:`/api/v1/audio/upload/${o.attrs.mediaUploadId}/src`,duration:o.attrs.duration}),C),C}return u(o)},toDOMStatic:o=>u(o)},A=(0,a.Se)({name:"audio",nodeSpec:O,addNodeView:()=>{const{AudioEditor:o}=e(32027);return(0,t.fW)(o)},addCommands(){return{insertAudio:o=>({commands:s})=>s.insertContent({type:this.name,attrs:S(E({},o),{isEditorNode:!0})})}}}),u=o=>["div",{class:"native-audio-embed","data-component-name":"AudioPlaceholder","data-attrs":JSON.stringify(o.attrs)}]},32434:(K,f,e)=>{"use strict";e.d(f,{$y:()=>i});var t=e(83813);const a=p=>["div",{class:"native-audio-url-embed","data-attrs":JSON.stringify(p.attrs),"data-component-name":"AudioUrlPlaceholder"}],i={attrs:{label:{},url:{},duration:{}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.native-audio-url-embed",getAttrs:t.YX}],toDOM:a},c=(0,t.Se)({name:"audioUrl",nodeSpec:i})},29943:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(83322),a=e(83813);const i={attrs:{request_id:{},url:{},src:{default:null},type:{default:null}},untrackedAttrs:["src"],inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"a.augmentation-placeholder",getAttrs:a.YX}],toDOM:p=>["a",{class:"augmentation-placeholder image-link","data-attrs":JSON.stringify(p.attrs),href:"javascript:void(0)","data-component-name":"AugmentationPlaceholderToDOM"},["img",{src:p.attrs.src||t.TRANSPARENT_IMAGE_URL}]]},c=(0,a.Se)({name:"augmentation_placeholder",nodeSpec:i,addCommands(){return{insertLoadingPlaceholder:(p,l)=>({commands:v})=>l?v.insertContentAt(l,{type:this.name,attrs:p}):v.insertContent({type:this.name,attrs:p})}}})},95191:(K,f,e)=>{"use strict";e.d(f,{$y:()=>s,XC:()=>C,bo:()=>M});var t=e(15045),a=e(28054),i=e(83813),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(T,R,F)=>R in T?c(T,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[R]=F,S=(T,R)=>{for(var F in R||(R={}))_.call(R,F)&&E(T,F,R[F]);if(v)for(var F of v(R))g.call(R,F)&&E(T,F,R[F]);return T},O=(T,R)=>p(T,l(R)),A=(T,R,F)=>new Promise((N,U)=>{var V=k=>{try{L(F.next(k))}catch(H){U(H)}},W=k=>{try{L(F.throw(k))}catch(H){U(H)}},L=k=>k.done?N(k.value):Promise.resolve(k.value).then(V,W);L((F=F.apply(T,R)).next())});const u=T=>["div",{class:`bandcamp-wrap${T.attrs.is_album?" album":""}`,"data-attrs":JSON.stringify(T.attrs),"data-component-name":"BandcampToDOM"},["iframe",{src:T.attrs.embed_url,frameborder:"0",gesture:"media",scrolling:"no",allowfullscreen:"true"}]],o=T=>{const{thumbnail_url:R,author:F,title:N,description:U,url:V}=T.attrs;return(0,a.L)(R,N,(F||"").toString(),U,{targetUrl:V})},s={attrs:{url:{},title:{default:""},description:{default:""},thumbnail_url:{default:""},author:{default:""},embed_url:{default:""},is_album:{default:""}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"div.bandcamp-wrap",getAttrs:i.YX}],toDOM:u,toDOMStatic:o},w=(0,i.Se)({name:"bandcamp",nodeSpec:s,addCommands(){return{insertBandcamp:T=>({commands:R})=>R.insertContent({type:this.name,attrs:T})}}}),P=/^.*(https?\:\/\/(\S+)?.bandcamp.com\/(...+)\/[^\/]+(\/[^\/]+)?(\?[\#]*)?(\#.*)?).*$/,C=T=>{const R=P.exec(T);return R&&R[1]},x=T=>{const R=P.exec(T);return!!R&&R[3]==="album"},D=T=>C(T)!==null,y=T=>A(void 0,null,function*(){const R=x(T),F=e(80569),N=(0,t.parseQuery)(T).theme==="dark"?"dark":"light",V=(yield F.get("/api/v1/bandcamp").query({url:T.trim(),is_album:R,theme:N})).body;return O(S({},V),{is_album:R})}),M=(T,...R)=>A(void 0,[T,...R],function*(F,{customSchema:N}={}){return(N||e(71565).fK).nodes.bandcamp.create(yield y(F))})},86402:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(5865),a=e(99734);const i={content:"block+",group:"block",parseDOM:[{tag:"blockquote"},{tag:"p",priority:100,getAttrs:p=>!p.style.marginLeft||p.style.marginLeft.startsWith("0")?!1:{}}],toDOM:()=>["blockquote",0]},c=a.ZP.extend({parseHTML(){return i.parseDOM},addCommands(){return{setBlockquote:()=>({state:p,commands:l})=>!(0,t.Ig)(p,"paragraph")||(0,t.Ig)(p,"pullquote")?!1:l.wrapIn(this.name),toggleBlockquote:()=>({state:p,commands:l})=>!(0,t.Ig)(p,"paragraph")||(0,t.Ig)(p,"pullquote")?!1:l.toggleWrap(this.name),unsetBlockquote:()=>({commands:p})=>p.lift(this.name)}}})},71071:(K,f,e)=>{"use strict";e.d(f,{$y:()=>g,ax:()=>S});var t=e(82626),a=e(39419),i=e.n(a),c=e(15045),p=e(83322),l=e(31067),v=e.n(l),_=e(83813);const g={attrs:{url:{default:null},text:{default:null},action:{default:null},class:{default:null}},inline:!1,atom:!0,group:"block",draggable:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"p.button-wrapper[data-attrs]",priority:100,getAttrs:_.YX}],toDOM:O=>S(O)},E=(0,_.Se)({name:"button",nodeSpec:g,addCommands(){return{insertSubscribeButton:O=>({commands:A})=>{const u={url:t.Substitutions.CHECKOUT_URL,text:(0,p.getSubscribeText)(O,{now:!0})};return A.insertContent({type:this.name,attrs:u})},insertCustomButtonEditorV2:O=>({commands:A})=>A.insertContent({type:this.name,attrs:O}),insertSubscribeButtonWithPreamble:O=>({commands:A,editor:u})=>{const{iTemplate:o}=I18N.i({pub:O}),s=O.payments_state!=="enabled"?o`Thanks for reading ${O.name}! Subscribe for free to receive new posts and support my work.`:o`${O.name} is a reader-supported publication. To receive new posts and support my work, consider becoming a free or paid subscriber.`,w={url:t.Substitutions.CHECKOUT_URL,text:(0,p.getSubscribeText)(O),language:O.language};return A.insertContent({type:"subscribeWidget",attrs:w,content:[u.schema.nodes.ctaCaption.create(null,[u.schema.text(s)]).toJSON()]})},insertCaptionedShareButton:O=>({commands:A,editor:u})=>{const{iString:o,iTemplate:s}=I18N.i({pub:O}),w=s`Thank you for reading ${O.name}. This post is public so feel free to share it.`,P={url:t.Substitutions.SHARE_URL,text:o("Share")};return A.insertContent({type:"captionedShareButton",attrs:P,content:[u.state.schema.nodes.ctaCaption.create(null,[u.state.schema.text(w)]).toJSON()]})},insertSharePostButton:O=>({commands:A})=>{const{iString:u}=I18N.i({pub:O}),o={url:t.Substitutions.SHARE_URL,text:u("Share")};return A.insertContent({type:this.name,attrs:o})},insertSharePubButton:O=>({commands:A})=>{const{iTemplate:u}=I18N.i({pub:O}),o={url:t.Substitutions.SHARE_PUB_URL,text:u`Share ${O.name}`};return A.insertContent({type:this.name,attrs:o})},insertCommentsButton:O=>({commands:A})=>{const{iString:u}=I18N.i({pub:O}),o={url:t.Substitutions.HALF_MAGIC_COMMENTS_URL,text:u("Leave a comment")};return A.insertContent({type:this.name,attrs:o})},insertGiftButton:O=>({commands:A})=>{const{iTemplate:u}=I18N.i({pub:O}),o={url:`${t.Substitutions.CHECKOUT_URL}&gift=true`,text:(0,p.getSubscriptionSentenceWithCustomWords)(O,()=>u`Give a gift subscription`,s=>`Give a gift ${s.subscription}`)};return A.insertContent({type:this.name,attrs:o})},insertDonateButton:O=>({commands:A})=>{const{iString:u}=I18N.i({pub:O}),o={url:`${t.Substitutions.CHECKOUT_URL}&donate=true`,text:u("Donate Subscriptions")};return A.insertContent({type:this.name,attrs:o})},insertGroupSubscriptionButton:({publication:O})=>({commands:A})=>{const{iTemplate:u}=I18N.i({pub:O}),o=O.default_group_coupon,s={url:`${t.Substitutions.CHECKOUT_URL}group=true${o?`&coupon=${o}`:""}`,text:(0,p.getSubscriptionSentenceWithCustomWords)(O,()=>o&&O.default_group_coupon_percent_off?u`Get ${O.default_group_coupon_percent_off.split(".")[0]}% off a group subscription`:u`Get a group subscription`,w=>o&&O.default_group_coupon_percent_off?`Get ${O.default_group_coupon_percent_off.split(".")[0]}% off a group ${w.subscription}`:`Get a group ${w.subscription}`)};return A.insertContent({type:this.name,attrs:s})},insertCoupon:(O,A)=>({commands:u})=>{const o={url:`${O.base_url}/subscribe?coupon=${A.id}${A.group_only?"&group=true":""}`,text:`Get ${(0,a.couponToString)(A)}`};return u.insertContent({type:this.name,attrs:o})},insertReferralButton:O=>({commands:A})=>{const{iString:u}=I18N.i({pub:O}),o={url:`${t.Substitutions.LEADERBOARD_URL}&utm_source=post`,text:u("Refer a friend")};return A.insertContent({type:this.name,attrs:o})},insertCaptionedWriterReferralButtonV2:({writerReferralCode:O,publication:A,postId:u})=>({commands:o,state:s,dispatch:w})=>{if(!(0,l.canInsert)(s,s.schema.nodes.button))return!1;const{iString:P,iTemplate:C}=I18N.i({pub:A}),x=C`Start writing today. Use the button below to create your Substack and connect your publication with ${A.name}`,D={url:`${(0,c.getWriterReferralUrl)(O||"")}?utm_source=substack&utm_context=post&utm_content=${u}&utm_campaign=writer_referral_button`,text:P("Start a Substack")},y=s.schema.nodes.captionedWriterReferralButton.create(D,s.schema.nodes.ctaCaption.create(null,[s.schema.text(x)]));return w?o.insertContent(y.toJSON()):!0}}}}),S=O=>{const A=document.createElement("span");A.textContent=O.attrs.text;const u=document.createElement("a");u.className="button primary",O.attrs.class&&(u.className+=` ${O.attrs.class}`),u.href=O.attrs.url,u.appendChild(A),u.addEventListener("click",s=>{/^.*%%.*%%/.test(u.href)&&(s.preventDefault(),(0,p.handleDocumentLinkClick)(u.href))});const o=document.createElement("p");return o.className="button-wrapper",o.setAttribute("data-attrs",JSON.stringify(O.attrs)),o.setAttribute("data-component-name","ButtonCreateButton"),o.appendChild(u),o}},24544:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={content:"text*",group:"block",selectable:!0,defining:!0,isolating:!0,parseDOM:[{tag:"figcaption"}],toDOM:()=>["figcaption",{class:"image-caption"},0]},i=(0,t.Se)({name:"caption",nodeSpec:a})},66745:(K,f,e)=>{"use strict";e.d(f,{$y:()=>E});var t=e(82626),a=e(71071),i=e(83813),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(u,o,s)=>o in u?c(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,g=(u,o)=>{for(var s in o||(o={}))l.call(o,s)&&_(u,s,o[s]);if(p)for(var s of p(o))v.call(o,s)&&_(u,s,o[s]);return u};const E=u=>({content:"ctaCaption",attrs:{url:{default:null},text:{default:null}},inline:!1,group:"block",draggable:!0,atom:!1,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.captioned-button-wrap",getAttrs:i.YX}],toDOM:o=>{const s=document.createElement("div");s.className="captioned-button-wrap",s.setAttribute("data-attrs",JSON.stringify(o.attrs)),s.setAttribute("data-component-name","CaptionedButtonToDOM");const w=document.createElement("div");w.className="preamble";const P=(0,a.ax)({attrs:g(g({},o.attrs),u)});return s.appendChild(w),s.appendChild(P),{dom:s,contentDOM:w}}}),S=({substitutionAttrs:u,name:o})=>(0,i.Se)({name:o,nodeSpec:E(u)}),O=S({name:"captionedShareButton",substitutionAttrs:{url:t.Substitutions.SHARE_URL}}),A=S({name:"captionedWriterReferralButton",substitutionAttrs:{hasDynamicSubstitutions:!1}})},97155:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={content:"block caption*",atom:!1,selectable:!0,isolating:!1,defining:!0,draggable:!0,group:"block",parseDOM:[{tag:"figure"}],toDOM:()=>["div",{class:"captioned-image-container"},["figure",0]],toDOMStatic:()=>["div",{class:"captioned-image-container-static"},["figure",0]]},i=(0,t.Se)({name:"captionedImage",nodeSpec:a})},43457:(K,f,e)=>{"use strict";e.d(f,{$:()=>S});var t=e(83813),a=Object.defineProperty,i=Object.defineProperties,c=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?a(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A},E=(A,u)=>i(A,c(u));const S={attrs:{symbol:{}},atom:!0,editable:!1,selectable:!0,isolating:!1,defining:!0,draggable:!1,inline:!0,group:"inline",parseDOM:[{tag:".cashtag-wrap",getAttrs:A=>{try{return JSON.parse(A.getElementsByTagName("a")[0].getAttribute("data-attrs"))}catch(u){return!1}}}],toDOM:A=>{if(typeof window!="undefined"){const{render:u,h:o}=e(6400),s=e(45094),w=document.createElement("span");return w.className="cashtag-wrap",u(o(s.default,{symbol:A.attrs.symbol.trim()}),w),w}return["span",{class:"cashtag-wrap","data-attrs":JSON.stringify(A.attrs),"data-component-name":"CashtagToDOM"}]},toDOMStatic:A=>["span",{class:"cashtag-wrap","data-component-name":"CashtagToDOMStatic","data-attrs":JSON.stringify(E(g({},A.attrs),{prependSymbol:!0,isStatic:!0}))}]},O=(0,t.Se)({name:"cashtag",nodeSpec:S})},67954:(K,f,e)=>{"use strict";e.d(f,{Z:()=>c});var t=e(68135),a=e(83813);class i extends t.El{get EmbedClass(){return c}}class c extends t.ZP{static maybeAssignType(v){const _=v.name.split(".").pop();_&&["cbr","cbz"].indexOf(_.toLowerCase())>=0&&(v.assignedType=`application/x-${_}`)}static get NodeView(){return i}}c.substackType="comic",c.supportedMimeTypes=[{name:"application/x-cbr",signature:[[82,97,114,33,26,7,0],[82,97,114,33,26,7,1,0],[127,69,76,70]]},{name:"application/x-cbz",signature:[[80,75,3,4],[80,75,5,6],[80,75,7,8]]}],c.actionButtonText="Read now",c.actionButtonAttr="href";const p=(0,a.Se)({name:"comic",nodeSpec:t.ZP.nodeSpec})},14172:(K,f,e)=>{"use strict";e.d(f,{I:()=>l,P:()=>p});var t=e(2376),a=e(31067),i=e.n(a),c=e(80200);function p(v){const{paragraph:_,ordered_list:g,bullet_list:E,blockquote:S,orderedList:O,bulletList:A}=v.schema.nodes;return(0,a.isNodeOfType)(v,[_,g,E,S,O,A])}function l(v,_){if(!p(v))return!1;const{schema:g}=v,E=g.nodes.footnote.create({number:1},g.nodes.paragraph.create()),S=g.nodes.footnoteAnchor.create({number:1}),O=v.tr,A=(0,c.dG)(O,g);O.replaceWith(A,A,E),O.replaceSelectionWith(S),(0,c.A0)(O,g);try{O.setSelection(t.Bs.create(O.doc,A+2,A+2)).scrollIntoView()}catch(u){return console.error("could not set footnote text selection"),!1}return _&&_(O),!0}},82054:(K,f,e)=>{"use strict";e.d(f,{$y:()=>O,Gq:()=>C,a7:()=>w,aE:()=>o});var t=e(6400),a=e(70444),i=e(20501),c=e(83813),p=Object.defineProperty,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(x,D,y)=>D in x?p(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,E=(x,D)=>{for(var y in D||(D={}))v.call(D,y)&&g(x,y,D[y]);if(l)for(var y of l(D))_.call(D,y)&&g(x,y,D[y]);return x},S=(x,D,y)=>new Promise((M,T)=>{var R=U=>{try{N(y.next(U))}catch(V){T(V)}},F=U=>{try{N(y.throw(U))}catch(V){T(V)}},N=U=>U.done?M(U.value):Promise.resolve(U.value).then(R,F);N((y=y.apply(x,D)).next())});const O={attrs:{url:{},commentId:{},comment:{}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.comment",getAttrs:x=>{var D;if(x instanceof HTMLElement)try{return JSON.parse((D=x.getAttribute("data-attrs"))!=null?D:"")}catch(y){return!1}return!1}}],toDOM:x=>{if(typeof window!="undefined"){const D=document.createElement("div");Object.assign(D,{className:"comment","data-attrs":JSON.stringify(x.attrs)});const{CommentEmbed:y}=e(29417);return(0,t.render)((0,t.h)(y,{commentId:x.attrs.commentId}),D),D}return u(x)},toDOMStatic:x=>u(x)},A=(0,c.Se)({name:"comment",nodeSpec:O,addCommands(){return{insertComment:x=>({commands:D})=>D.insertContent({type:this.name,attrs:x})}}});function u(x){return["div",{class:"comment","data-attrs":JSON.stringify(x.attrs),"data-component-name":"CommentPlaceholder"}]}function o(x,{customSchema:D}={}){if(D&&!D.nodes.comment)return null;const y=(0,i.parseUrl)(x);return y&&(0,a.Th)(y.pathname)?x:null}function s(x){return S(this,null,function*(){const D=e(80569),y=(0,i.parseUrl)(x),M=y&&(0,a.Th)(y.pathname);if(!M)return console.warn("pathname did not match"),null;let T;try{const{body:{item:{comment:{id:F,date:N,edited_at:U,body:V,body_json:W,restacks:L,reaction_count:k,attachments:H,name:G,user_id:q,photo_url:z,user_bestseller_tier:ee}}}}=yield D.get(`/api/v1/reader/comment/${M.id}`);T={comment:{id:F,date:N,edited_at:U,body:V,body_json:W,restacks:L,reaction_count:k,attachments:H,name:G,user_id:q,photo_url:z,user_bestseller_tier:ee}}}catch(F){return console.warn(F),null}const R=(0,i.getFeedCommentAppLinkUrl)(M,{urlParams:{utm_source:"comment_embed"}});return E({url:R,commentId:M.id},T)})}function w(x){return S(this,arguments,function*(D,{customSchema:y}={}){const M=y||e(71565).fK,T=yield s(D);return T?M.nodes.comment.create(T):null})}function P(x){return S(this,null,function*(){const D=e(80569);let y;try{y=(yield D.get("/api/v1/reader/feed/last-note")).body;const T=(0,i.getFeedCommentUrl)(y);return s(T)}catch(M){return null}})}function C(x){return S(this,arguments,function*(D,{customSchema:y}={}){const M=y||e(71565).fK,T=yield P(D);return T?M.nodes.comment.create(T):null})}},88985:(K,f,e)=>{"use strict";e.d(f,{$y:()=>p,Z9:()=>E,uL:()=>O});var t=e(6400),a=e(20501),i=e(83813),c=(u,o,s)=>new Promise((w,P)=>{var C=y=>{try{D(s.next(y))}catch(M){P(M)}},x=y=>{try{D(s.throw(y))}catch(M){P(M)}},D=y=>y.done?w(y.value):Promise.resolve(y.value).then(C,x);D((s=s.apply(u,o)).next())});const p={attrs:{url:{},subdomain:{},pub:{}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.community-chat",getAttrs:u=>{var o;if(u instanceof HTMLElement)try{return JSON.parse((o=u.getAttribute("data-attrs"))!=null?o:"")}catch(s){return!1}return!1}}],toDOM:u=>{if(typeof window!="undefined"){const o=document.createElement("div");if(Object.assign(o,{className:"community-chat","data-attrs":JSON.stringify(u.attrs)}),!u.attrs.pub||!u.attrs.subdomain){const w=document.createElement("div");return w.innerText="Could not load subscriber chat link",o.appendChild(w),o}const{CommunityChatEmbed:s}=e(43088);return(0,t.render)((0,t.h)(s,{pub:u.attrs.pub,subdomain:u.attrs.subdomain}),o),o}return v(u)},toDOMStatic:u=>v(u)},l=(0,i.Se)({name:"communityChat",nodeSpec:p,addCommands(){return{insertCommunityChat:u=>({commands:o})=>o.insertContent({type:this.name,attrs:u}),insertCommunityChatEmbed:u=>({commands:o})=>{const s={url:(0,a.getPublicationChatAppLinkUrl)({pubKey:u.subdomain,utm_source:"chat_embed"}),subdomain:u.subdomain,pub:{id:u.id,name:u.name,author_name:u.author_name,author_photo_url:u.author_photo_url}};return o.insertContent({type:this.name,attrs:s})},insertVisitThreadButton:u=>({commands:o})=>o.insertCommunityChatEmbed(u)}}});function v(u){return["div",{class:"community-chat","data-attrs":JSON.stringify(u.attrs),"data-component-name":"CommunityChatRenderPlaceholder"}]}const _=/^https?:\/\/open\.substack\.com\/pub\/([^\/]+)\/chat(\?.*)?$/,g=/^https?:\/\/([^\.]+)\.substack\.com\/chat(\?.*)?$/;function E(u,{customSchema:o}={}){if(o&&!o.nodes.communityChat)return null;const s=(0,a.parseUrl)(u);return s&&s.pathname.match(/^(\/pub\/[^\/]+)?\/chat($|\/)/)?u:null}function S(u){return c(this,null,function*(){const o=e(80569),s=A(u);let w=null;try{const{body:C}=yield o.get("/api/v1/publication/chat-embed").query({subdomain:s,url:u});w=C}catch(C){}return w?{url:(0,a.getPublicationChatAppLinkUrl)({pubKey:w.subdomain,utm_source:"chat_embed"}),subdomain:s,pub:w}:null})}function O(u){return c(this,arguments,function*(o,{customSchema:s}={}){const w=s||e(71565).fK,P=S(o);return P?w.nodes.communityChat.create(P):null})}function A(u){let o=u.match(_);return!o&&(o=u.match(g),!o)?null:o[1]}},67042:(K,f,e)=>{"use strict";e.d(f,{$y:()=>o,H6:()=>x,yv:()=>y});var t=e(6400),a=e(24706),i=e(20501),c=e(83813),p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(M,T,R)=>T in M?p(M,T,{enumerable:!0,configurable:!0,writable:!0,value:R}):M[T]=R,O=(M,T)=>{for(var R in T||(T={}))g.call(T,R)&&S(M,R,T[R]);if(_)for(var R of _(T))E.call(T,R)&&S(M,R,T[R]);return M},A=(M,T)=>l(M,v(T)),u=(M,T,R)=>new Promise((F,N)=>{var U=L=>{try{W(R.next(L))}catch(k){N(k)}},V=L=>{try{W(R.throw(L))}catch(k){N(k)}},W=L=>L.done?F(L.value):Promise.resolve(L.value).then(U,V);W((R=R.apply(M,T)).next())});const o={attrs:{url:{},postId:{},communityPost:{},author:{}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.community-post",getAttrs:M=>{var T;if(M instanceof HTMLElement)try{return JSON.parse((T=M.getAttribute("data-attrs"))!=null?T:"")}catch(R){return!1}return!1}}],toDOM:M=>{if(typeof window!="undefined"){const T=document.createElement("div");Object.assign(T,{className:"community-post","data-attrs":JSON.stringify(M.attrs)});const{CommunityPostEmbed:R}=e(4697);return(0,t.render)((0,t.h)(R,{postId:M.attrs.postId}),T),T}return w(M)},toDOMStatic:M=>w(M)},s=(0,c.Se)({name:"communityPost",nodeSpec:o,addCommands(){return{insertCommunityPost:M=>({commands:T})=>T.insertContent({type:this.name,attrs:M})}},addNodeView(){const{CommunityPostEditor:M}=e(4697);return(0,a.fW)(M)}});function w(M){return["div",{class:"community-post","data-attrs":JSON.stringify(M.attrs),"data-component-name":"CommunityPostPlaceholder"}]}const P=/^https?:\/\/(?:[^\/]+\.)?substack\.com\/chat\/posts\/([-A-Fa-f0-9]+)(\?.*)?$/,C=/^\/chat\/posts\/([-A-Fa-f0-9]+)$/;function x(M,{customSchema:T}={}){if(T&&!T.nodes.communityPost)return null;const R=(0,i.parseUrl)(M);return R&&R.pathname.match(C)?M:null}function D(M){return u(this,null,function*(){var T,R;const F=e(80569),N=(0,i.parseUrl)(M),U=N&&((T=N.pathname.match(C))==null?void 0:T[1]);if(!U)return null;let V;try{const{body:{user:k,communityPost:{id:H,publication_id:G,body:q,audience:z,type:ee,media_assets:$,link_url:J}}}=yield F.get(`/api/v1/community/posts/${U}`);V={author:k},z==="all_subscribers"&&(V=A(O({},V),{communityPost:{id:H,publication_id:G,body:q,audience:z,type:ee,media_assets:$,link_url:(0,i.pathWithQuery)(J,{utm_source:"post_embed"})}}))}catch(k){if(k instanceof Error){const H=(R=k==null?void 0:k.response)==null?void 0:R.body;if((H==null?void 0:H.status)==="PAID_SUBSCRIPTION_REQUIRED")V={author:H.user};else return null}else return null}const W=(0,i.getCommunityPostAppLinkUrl)({postId:U,utm_source:"thread_embed"});return O({url:W,postId:U},V)})}function y(M){return u(this,arguments,function*(T,{customSchema:R}={}){const F=R||e(71565).fK,N=yield D(T);return N?F.nodes.communityPost.create(N):null})}},2889:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={content:"text*",group:"block",draggable:!1,selectable:!0,isolating:!0,defining:!0,atom:!1,parseDOM:[{tag:"p.cta-caption"}],toDOM:()=>["p",{class:"cta-caption"},0]},i=(0,t.Se)({name:"ctaCaption",nodeSpec:a})},15867:(K,f,e)=>{"use strict";e.d(f,{$y:()=>p,HL:()=>O,Nc:()=>c,s3:()=>o,vb:()=>g});var t=e(15045),a=e(83813),i=(s,w,P)=>new Promise((C,x)=>{var D=T=>{try{M(P.next(T))}catch(R){x(R)}},y=T=>{try{M(P.throw(T))}catch(R){x(R)}},M=T=>T.done?C(T.value):Promise.resolve(T.value).then(D,y);M((P=P.apply(s,w)).next())});const c='!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();',p={attrs:{url:{},thumbnail_url:"",height:"",title:{default:""},description:{default:""}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"div.datawrapper-wrap",getAttrs:a.YX}],toDOM:s=>u(s),toDOMStatic:s=>A(s)},l=(0,a.Se)({name:"datawrapper",nodeSpec:p,addCommands(){return{insertDatawrapper:s=>({commands:w})=>w.insertContent({type:this.name,attrs:s})}}}),v=/^.*https?:\/\/datawrapper\.dwcdn\.net\/.*$/,_=/^.*https?:\/\/(www\.)?datawrapper.de\/_\/.*$/,g=s=>{const w=v.exec(s);if(w)return w[0];const P=_.exec(s);return P&&P[0]},E=s=>g(s)!==null,S=s=>i(void 0,null,function*(){return(yield e(80569).get("/api/v1/datawrapper-embed").query({url:s.trim()})).body}),O=(s,...w)=>i(void 0,[s,...w],function*(P,{customSchema:C}={}){return(C||e(71565).fK).nodes.datawrapper.create(yield S(P))}),A=(s,{}={})=>{const w=document.createElement("div");w.className="datawrapper-wrap static",w.setAttribute("data-component-name","DatawrapperToDOMStatic");const P=s.attrs.thumbnail_url,C=document.createElement("a");if(C.href=s.attrs.url.replace(/embed\//,""),C.setAttribute("target","_blank"),s.attrs.title){const y=document.createElement("div");y.className="datawrapper-title",y.innerHTML=s.attrs.title,w.appendChild(y)}if(s.attrs.description){const y=document.createElement("div");y.className="datawrapper-description",y.innerHTML=s.attrs.description,w.appendChild(y)}const x=document.createElement("div"),D=document.createElement("img");return D.className="datawrapper-wrap thumbnail",D.src=(0,t.imginary)(s.attrs.thumbnail_url,640),D.style.backgroundImage=`url(${s.attrs.thumbnail_url})`,s.attrs.belowTheFold&&D.setAttribute("loading","lazy"),C.append(D),x.append(C),w.appendChild(x),w},u=s=>{const w=document.createElement("div");w.id="datawrapper-iframe",w.className="datawrapper-wrap outer",w.dataset.attrs=JSON.stringify(s.attrs),w.setAttribute("data-component-name","DatawrapperToDOM");const P=document.createElement("iframe");P.id="iframe-datawrapper",P.className="datawrapper-iframe",P.src=s.attrs.url,P.width="560",P.height=s.attrs.height||"455",P.frameBorder="0",P.scrolling="no",s.attrs.belowTheFold&&P.setAttribute("loading","lazy"),w.appendChild(P);const C=document.createElement("script");return C.type="text/javascript",C.text=c,w.appendChild(C),w};class o{constructor(w){const P=u(w),C=P.querySelector(".datawrapper-iframe"),x=document.createElement("div");x.className="datawrapper-screen",x.addEventListener("dblclick",()=>{x.classList.add("sunken"),C.focus()}),C.addEventListener("blur",()=>{x.classList.remove("sunken")}),P.appendChild(x),this.dom=P}}},10099:(K,f,e)=>{"use strict";e.d(f,{$y:()=>M,lQ:()=>F,wM:()=>N});var t=e(24706),a=e(78718),i=e.n(a),c=e(2376),p=e(80569),l=e.n(p),v=e(39419),_=e.n(v),g=e(20501),E=e(83813),S=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(U,V,W)=>V in U?S(U,V,{enumerable:!0,configurable:!0,writable:!0,value:W}):U[V]=W,P=(U,V)=>{for(var W in V||(V={}))o.call(V,W)&&w(U,W,V[W]);if(u)for(var W of u(V))s.call(V,W)&&w(U,W,V[W]);return U},C=(U,V)=>O(U,A(V)),x=(U,V)=>{var W={};for(var L in U)o.call(U,L)&&V.indexOf(L)<0&&(W[L]=U[L]);if(U!=null&&u)for(var L of u(U))V.indexOf(L)<0&&s.call(U,L)&&(W[L]=U[L]);return W},D=(U,V,W)=>new Promise((L,k)=>{var H=z=>{try{q(W.next(z))}catch(ee){k(ee)}},G=z=>{try{q(W.throw(z))}catch(ee){k(ee)}},q=z=>z.done?L(z.value):Promise.resolve(z.value).then(H,G);q((W=W.apply(U,V)).next())});const y="digest-post-embed",M={attrs:{nodeId:{default:null},caption:{default:null},size:{default:null},isEditorNode:{default:!1},title:{default:null},publishedBylines:{default:null},post_date:{default:null},cover_image:{default:null},cover_image_alt:{default:null},canonical_url:{default:null},section_name:{default:null},id:{default:null},type:{default:null},reaction_count:{default:null},comment_count:{default:null},publication_name:{default:null},publication_logo_url:{default:null},belowTheFold:{default:!1}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,editable:!1,parseDOM:[{tag:`.${y}`,getAttrs:U=>{try{const V=JSON.parse(U.getAttribute("data-attrs"));return C(P({},V),{nodeId:(0,v.uuidV4)()})}catch(V){return!1}}}],toDOM:U=>{if(typeof window!="undefined"&&U.attrs.isEditorNode){const{render:V,h:W}=e(6400),{DigestPostEmbedWeb:L}=e(37660),k=document.createElement("div");return k.className=y,k.setAttribute("data-attrs",JSON.stringify(U.attrs)),V(W(L,C(P({},U.attrs),{caption:U.attrs.caption,size:U.attrs.size||void 0,isEditor:!0})),k),k}return R(U)},toDOMStatic:U=>["div",{class:y,"data-attrs":JSON.stringify(P({isEmail:!0},U.attrs))}]},T=(0,E.Se)({name:"digestPostEmbed",nodeSpec:M,addNodeView(){const{DigestPostEditor:U}=e(3347);return(0,t.fW)(U)},addCommands(){return{convertDigestPostEmbedToLinkV2:({pos:U,url:V})=>({dispatch:W,state:L,chain:k})=>{if(W){const H=L.tr,G=U,q=G+V.length;return k().setNodeSelection(U).deleteSelection().command(({tr:z})=>(z.insertText(V,G),!0)).command(({tr:z})=>(z.addMark(G,q+1,L.schema.marks.link.create({text:V,href:V})),!0)).setTextSelection(c.Bs.create(H.doc,G,q+1)).scrollIntoView().focus(q+2).run()}return!0},convertDigestPostEmbedToEmbeddedPostV2:({pos:U,attrs:V})=>({dispatch:W,chain:L})=>{if(W){const k={id:V.id,url:V.url,title:V.title,publication_name:V.publication_name,publication_logo_url:V.publication_logo_url,date:V.post_date,comment_count:V.comment_count,bylines:V.publishedBylines};return L().setNodeSelection(U).deleteCurrentNode().insertContent({type:"embeddedPost",attrs:k}).run()}return!0}}}}),R=U=>["div",{class:y,"data-attrs":JSON.stringify(U.attrs)}],F=(U,{customSchema:V}={})=>{var W,L,k,H;if(V&&!V.nodes.digestPostEmbed)return null;const G=(0,g.parseUrl)(U);if(!G)return null;const q=(0,g.shareSamePub)({url:U,currentSubdomain:(L=(W=window._preloads)==null?void 0:W.pub)==null?void 0:L.subdomain,currentCustomDomain:(H=(k=window._preloads)==null?void 0:k.pub)==null?void 0:H.custom_domain});return G&&(G.pathname.startsWith("/p/")||(0,g.isOpenSubstackPostUrl)(G))&&q?U:null},N=U=>D(void 0,null,function*(){const V=yield l().get("/api/v1/posts/digest_embed").query({url:U.trim()}),{pub:W,post:L}=V.body,k=L,{truncated_body_text:H}=k,G=x(k,["truncated_body_text"]),{name:q,logo_url:z}=W,ee=["title","publishedBylines","post_date","cover_image","cover_image_alt","canonical_url","section_name","id","type","reaction_count","comment_count"],$=i()(G,ee);return C(P({caption:H!=null?H:"",size:"lg",isEditor:!0},$),{publishedBylines:$.publishedBylines.map(j=>i()(j,["id","name","bio","photo_url","is_guest","bestseller_tier","primaryPublicationSubscribeUrl","primaryPublicationUrl","primaryPublicationName","primaryPublicationId"])),publication_name:q,publication_logo_url:z!=null?z:""})})},78675:(K,f,e)=>{"use strict";e.d(f,{Z:()=>c});var t=e(68135),a=e(83813);class i extends t.El{get EmbedClass(){return c}}class c extends t.ZP{static maybeAssignType(v){const _=v.name.split(".").pop();_&&["kpf","kfx"].indexOf(_.toLowerCase())>=0&&(v.assignedType=`application/vnd.amazon.${_}`)}static get NodeView(){return i}}c.substackType="ebook",c.supportedMimeTypes=[{name:"application/vnd.amazon.kfx",signature:[[75,70,88,32]]},{name:"application/vnd.amazon.kpf",signature:[[80,75,3,4]]},{name:"application/epub+zip",signature:[[80,75,3,4]]},{name:"application/x-mobipocket-ebook",signature:[[77,79,66,73]]}];const p=(0,a.Se)({name:"ebook",nodeSpec:c.nodeSpec})},28663:(K,f,e)=>{"use strict";e.d(f,{$y:()=>w,Ng:()=>C,O5:()=>D});var t=e(15045),a=e(20501),i=e(83322),c=e(83813),p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(y,M,T)=>M in y?p(y,M,{enumerable:!0,configurable:!0,writable:!0,value:T}):y[M]=T,O=(y,M)=>{for(var T in M||(M={}))g.call(M,T)&&S(y,T,M[T]);if(_)for(var T of _(M))E.call(M,T)&&S(y,T,M[T]);return y},A=(y,M)=>l(y,v(M)),u=(y,M,T)=>new Promise((R,F)=>{var N=W=>{try{V(T.next(W))}catch(L){F(L)}},U=W=>{try{V(T.throw(W))}catch(L){F(L)}},V=W=>W.done?R(W.value):Promise.resolve(W.value).then(N,U);V((T=T.apply(y,M)).next())});const o=`<svg width="19" height="19" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
  d="M3 18V12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3C14.3869 3 16.6761 3.94821 18.364 5.63604C20.0518 7.32387 21 9.61305 21 12V18"
  stroke-linecap="round"
  stroke-linejoin="round"
  />
  <path
  d="M21 19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H18C17.4696 21 16.9609 20.7893 16.5858 20.4142C16.2107 20.0391 16 19.5304 16 19V16C16 15.4696 16.2107 14.9609 16.5858 14.5858C16.9609 14.2107 17.4696 14 18 14H21V19ZM3 19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H6C6.53043 21 7.03914 20.7893 7.41421 20.4142C7.78929 20.0391 8 19.5304 8 19V16C8 15.4696 7.78929 14.9609 7.41421 14.5858C7.03914 14.2107 6.53043 14 6 14H3V19Z"
  stroke-linecap="round"
  stroke-linejoin="round"
  />
</svg>`,s=`<svg width="32" height="32" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path
  className="inner-triangle"
  d="M10 8L16 12L10 16V8Z"
  stroke-width="1.5"
  stroke-linecap="round"
  stroke-linejoin="round"
  />
</svg>`,w={attrs:{id:{default:null},url:{default:null},publication_id:{default:null},publication_name:{default:null},publication_logo_url:{default:null},title:{default:null},truncated_body_text:{default:null},date:{default:null},like_count:{default:null},comment_count:{default:null},bylines:{default:null},utm_campaign:{default:null},belowTheFold:{default:!1},type:{default:null},language:{default:"en"}},untrackedAttrs:["truncated_body_text","bylines"],inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.embedded-post-wrap",getAttrs:c.YX}],toDOM:y=>{const{publication_logo_url:M,publication_name:T,title:R,truncated_body_text:F,url:N,bylines:U,date:V,like_count:W,comment_count:L,utm_campaign:k,id:H,type:G,language:q}=y.attrs,{iString:z}=I18N.i(q),ee=(0,t.pathWithQuery)(N,{utm_source:"substack",utm_campaign:k||"post_embed",utm_medium:"web"});ee===""&&console.error(`Invalid path (${N}) for post: ${H}`);const $=document.createElement("div");$.classList.add("embedded-post-title-icon"),$.innerHTML=o;const J=document.createElement("div");return J.classList.add("embedded-post-cta-icon"),J.innerHTML=s,["div",{class:"embedded-post-wrap","data-attrs":JSON.stringify(y.attrs),"data-component-name":"EmbeddedPostToDOM"},["a",{class:"embedded-post",native:!0,href:ee},["div",{class:"embedded-post-header"},M?["img",{class:"embedded-post-publication-logo",src:(0,t.imginary)(M,56),loading:y.attrs.belowTheFold?"lazy":null}]:["span",{}],["span",{class:"embedded-post-publication-name"},T||z("Failed to embed post")]],["div",{class:"embedded-post-title-wrapper"},...G==="podcast"?[$]:[],["div",{class:"embedded-post-title"},R||z("Failed to embed post")]],...F?[["div",{class:"embedded-post-body"},(0,i.formatEllipsis)(F)]]:[],["div",{class:"embedded-post-cta-wrapper"},...G==="podcast"?[J]:[],["span",{class:"embedded-post-cta"},z(G==="podcast"?"Listen now":"Read more")]],["div",{class:"embedded-post-meta"},(0,i.getPostEmbedMeta)({date:V,bylines:U,like_count:W,comment_count:L,language:q})]]]},toDOMStatic:y=>{const{publication_logo_url:M,publication_name:T,title:R,truncated_body_text:F,url:N,bylines:U,date:V,like_count:W,comment_count:L,utm_campaign:k,type:H,language:G}=y.attrs,{iString:q}=I18N.i(G),z=(0,t.pathWithQuery)(N,{utm_source:"substack",utm_campaign:k||"post_embed",utm_medium:"email"}),ee=(0,t.imginary)("/img/podcast-headphones.svg",19,{format:"png"}),$=(0,t.imginary)("/img/audio-player-play.png",12);return["div",{class:"embedded-post-wrap","data-component-name":"EmbeddedPostToDOMStatic"},["div",{class:"embedded-post"},["div",{class:"embedded-post-header"},M?["img",{class:"embedded-post-publication-logo",src:(0,t.imginary)(M,56),width:28,height:28}]:["span",{}],["span",{class:"embedded-post-publication-name"},T||q("Failed to embed post")]],["div",{class:"embedded-post-title-wrapper"},...H==="podcast"?[["img",{class:"embedded-post-title-icon embedded-post-title-icon-static",src:ee}]]:[],["a",{class:"embedded-post-title",href:z||"#"},R||q("Failed to embed post")]],...F?[["div",{class:"embedded-post-body"},(0,i.formatEllipsis)(F)]]:[["br"],["br"]],["div",{class:"embedded-post-cta-wrapper"},...H==="podcast"?[["img",{width:12,height:12,class:"embedded-post-cta-icon-static",src:$}]]:[],["a",{class:"embedded-post-cta",href:z||"#"},q(H==="podcast"?"Listen now":"Read more")]],["div",{class:"embedded-post-meta"},(0,i.getPostEmbedMeta)({date:V,bylines:U,like_count:W,comment_count:L,language:G})]]]}},P=(0,c.Se)({name:"embeddedPost",nodeSpec:w,addCommands(){return{insertEmbeddedPost:y=>({commands:M})=>M.insertContent({type:this.name,attrs:y})}}}),C=(y,{customSchema:M,forceAllowOwnPub:T=!1}={})=>{var R,F,N,U;if(M&&!M.nodes.embeddedPost)return null;const V=(0,t.parseUrl)(y);if(!V)return null;const L=(0,a.shareSamePub)({url:y,currentSubdomain:(F=(R=window._preloads)==null?void 0:R.pub)==null?void 0:F.subdomain,currentCustomDomain:(U=(N=window._preloads)==null?void 0:N.pub)==null?void 0:U.custom_domain})&&!T;return V&&(V.pathname.startsWith("/p/")||(0,a.isOpenSubstackPostUrl)(V))&&!L?y:null},x=y=>u(void 0,null,function*(){const M=e(80569);try{return(yield M.get("/api/v1/posts/embed").query({url:y.trim()})).body}catch(T){return null}}),D=(y,...M)=>u(void 0,[y,...M],function*(T,{customSchema:R,language:F="en"}={}){const N=R||e(71565).fK,U=yield x(T);return U?N.nodes.embeddedPost.create(A(O({},U),{language:F})):null})},77317:(K,f,e)=>{"use strict";e.d(f,{$y:()=>u,l6:()=>w,mt:()=>C,t3:()=>s});var t=e(15045),a=e(83813),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(x,D,y)=>D in x?i(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,E=(x,D)=>{for(var y in D||(D={}))v.call(D,y)&&g(x,y,D[y]);if(l)for(var y of l(D))_.call(D,y)&&g(x,y,D[y]);return x},S=(x,D)=>c(x,p(D)),O=(x,D,y)=>new Promise((M,T)=>{var R=U=>{try{N(y.next(U))}catch(V){T(V)}},F=U=>{try{N(y.throw(U))}catch(V){T(V)}},N=U=>U.done?M(U.value):Promise.resolve(U.value).then(R,F);N((y=y.apply(x,D)).next())});const A=x=>x?{style:`background-color: ${x}`}:{},u={attrs:{id:{default:null},name:{},logo_url:{default:null},base_url:{default:null},hero_text:{default:null},author_name:{default:null},show_subscribe:{default:!0},logo_bg_color:{default:null},language:{default:"en"}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.embedded-publication-wrap",getAttrs:a.YX}],toDOMWithSubscribe:x=>{const{name:D,logo_url:y,base_url:M,hero_text:T,author_name:R,logo_bg_color:F,language:N}=x.attrs,{iString:U,iTemplate:V}=I18N.i(N);return["div",{class:"embedded-publication-wrap","data-attrs":JSON.stringify(x.attrs),"data-component-name":"EmbeddedPublicationToDOMWithSubscribe"},["div",{class:"embedded-publication show-subscribe"},["a",{class:"embedded-publication-link-part",native:!0,href:(0,t.pathWithQuery)(M,{utm_source:"substack",utm_campaign:"publication_embed",utm_medium:"web"})},...y?[["img",E({class:"embedded-publication-logo",src:(0,t.imginary)(y),width:56,height:56},A(F))]]:[],["h3",{class:"embedded-publication-name"},D||U("Failed to embed publication")],...T?[["div",{class:"embedded-publication-hero-text"},T]]:[],...R&&!D.includes(R)?[["div",{class:"embedded-publication-author-name"},V`By ${R}`]]:[]],["form",{class:"embedded-publication-subscribe",method:"GET",action:(0,t.getSubscribeUrl)({base_url:M},{addBase:!0})},["input",{type:"hidden",name:"source",value:"publication-embed"}],["input",{type:"hidden",name:"autoSubmit",value:"true"}],["input",{type:"email",class:"email-input",name:"email",placeholder:U("Type your email...")}],["input",{type:"submit",class:"button primary",value:U("Subscribe")}]]]]},toDOMWithoutSubscribe:x=>{const{name:D,logo_url:y,base_url:M,hero_text:T,author_name:R,logo_bg_color:F,language:N}=x.attrs,{iString:U,iTemplate:V}=I18N.i(N);return["div",{class:"embedded-publication-wrap","data-attrs":JSON.stringify(x.attrs)},["a",{class:"embedded-publication embedded-publication-flex",native:!0,href:(0,t.pathWithQuery)(M,{utm_source:"substack",utm_campaign:"publication_embed",utm_medium:"web"})},...y?[["div",{class:"embedded-publication-left"},["img",E({class:"embedded-publication-logo",src:(0,t.imginary)(y),width:40,height:40},A(F))]]]:[],["div",{class:"embedded-publication-right"},["h3",{class:"embedded-publication-name"},D||U("Failed to embed publication")],...T?[["div",{class:"embedded-publication-hero-text"},T]]:[],...R&&!D.includes(R)?[["div",{class:"embedded-publication-author-name"},V`By ${R}`]]:[]]]]},toDOMStatic:x=>{const{name:D,logo_url:y,base_url:M,hero_text:T,author_name:R,logo_bg_color:F}=x.attrs,N=(0,t.pathWithQuery)(M,{utm_source:"substack",utm_campaign:"publication_embed",utm_medium:"email"});return["div",{class:"embedded-publication-wrap","data-attrs":JSON.stringify(x.attrs),"data-component-name":"EmbeddedPublicationToDOMStatic"},["table",{class:"embedded-publication"},["tr",{},...y?[["td",{class:"embedded-publication-left",valign:"top",width:56},["img",E({class:"embedded-publication-logo",src:(0,t.imginary)(y),width:40,height:40},A(F))]]]:[],["td",{class:"embedded-publication-right"},["h3",{class:"embedded-publication-name"},["a",{href:N},D||"Failed to embed publication"]],...T?[["div",{class:"embedded-publication-hero-text"},["a",{href:N},T]]]:[],...R&&!D.includes(R)?[["div",{class:"embedded-publication-author-name"},["a",{href:N},`By ${R}`]]]:[]]]]]},toDOM:x=>x.attrs.show_subscribe?u.toDOMWithSubscribe(x):u.toDOMWithoutSubscribe(x)},o=(0,a.Se)({name:"embeddedPublication",nodeSpec:u,addCommands(){return{insertEmbeddedPublication:x=>({commands:D})=>D.insertContent({type:this.name,attrs:x})}}}),s=(x,{customSchema:D}={})=>{if(D&&!D.nodes.embeddedPublication)return null;const y=(0,t.parseUrl)(x);return y&&(!y.pathname||y.pathname==="/")?x:null},w=x=>O(void 0,null,function*(){const D=e(80569);try{const y=yield D.get("/api/v1/publication/embed").query({url:x.trim()});return y.body.id?y.body:null}catch(y){return null}}),P=x=>O(void 0,null,function*(){const D=yield w(x);return D?S(E({},D),{show_subscribe:!0}):null}),C=(x,...D)=>O(void 0,[x,...D],function*(y,{customSchema:M}={}){const T=M||e(71565).fK,R=yield P(y);return R?T.nodes.embeddedPublication.create(R):null})},4509:(K,f,e)=>{"use strict";var t=e(30561),a=e(51575),i=e(18151),c=e(69984),p=e(90214),l=e(73752),v=e(18363),_=e(98488),g=e(25799),E=e(32434),S=e(29943),O=e(95191),A=e(86402),u=e(71071),o=e(24544),s=e(66745),w=e(97155),P=e(43457),C=e(67954),x=e(82054),D=e(88985),y=e(67042),M=e(2889),T=e(15867),R=e(10099),F=e(78675),N=e(28663),U=e(77317),V=e(68135),W=e(62274),L=e(63045),k=e(69079),H=e(39214),G=e(25748);const q=G.Z.extend({draggable:!0});var z=e(59199),ee=e(74911),$=e(66262),J=e(26643),j=e(71565),Z=e(24440),ne=e(19073),ie=e(57670),oe=e(2781),re=e(46953),ae=e(30788),se=e(90549),fe=e(18480),le=e(83245),Ae=e(69618),De=e(47291),je=e(29808),Je=e(81693),Be=e(8678),st=e(38822),ht=e(51144),gt=e(55899),Xe=e(66278),Re=e(1647),Ne=e(71817),ke=e(36496),ot=e(59331),Dt=e(53187),ln=e(24520),ct=e(82350),Oe=e(84134),Se=e(31417),Ze=e(79559),Fe=e(76982),Ke=e(61611);const et=({isStatic:Qe})=>[StarterKit.configure({history:!1,blockquote:!1,bulletList:!1,orderedList:!1}),Typography,Subscript,Superscript,LinkCustom,BlockquoteTipTap,PullquoteTipTap.configure({isStatic:Qe}),BulletList,OrderedList,ImageGallery.configure({isStatic:Qe}),Image3,PaywallTipTap.configure({isStatic:Qe}),AudioTipTap.configure({isStatic:Qe}),ApplePodcastTipTap.configure({isStatic:Qe}),VideoTipTap.configure({isStatic:Qe}),TwitterTipTap.configure({isStatic:Qe}),Twitter2TipTap.configure({isStatic:Qe}),YoutubeTipTap.configure({isStatic:Qe}),Youtube2TipTap.configure({isStatic:Qe}),ButtonTipTap.configure({isStatic:Qe}),ImageTipTap.configure({isStatic:Qe}),Image2TipTap.configure({isStatic:Qe}),SubscribeWidgetTipTap.configure({isStatic:Qe}),CtaCaptionTipTap.configure({isStatic:Qe}),DigestPostEmbedTipTap.configure({isStatic:Qe}),EmbeddedPostTipTap.configure({isStatic:Qe}),EmbeddedPublicationTipTap.configure({isStatic:Qe}),SpotifyTipTap.configure({isStatic:Qe}),Spotify2TipTap.configure({isStatic:Qe}),CashtagTipTap.configure({isStatic:Qe}),FileTipTap.configure({isStatic:Qe}),XlsxTipTap.configure({isStatic:Qe}),PdfTipTap.configure({isStatic:Qe}),EbookTipTap.configure({isStatic:Qe}),ComicTipTap.configure({isStatic:Qe}),MentionTipTap.configure({isStatic:Qe}),InstagramTipTap.configure({isStatic:Qe}),PollTipTap.configure({isStatic:Qe}),InstallSubstackAppTipTap.configure({isStatic:Qe}),BandcampTipTap.configure({isStatic:Qe}),VimeoTipTap.configure({isStatic:Qe}),TikTokTipTap.configure({isStatic:Qe}),OpenseaTipTap.configure({isStatic:Qe}),SoundcloudTipTap.configure({isStatic:Qe}),CommunityChatTipTap.configure({isStatic:Qe}),CommentTipTap.configure({isStatic:Qe}),AssetErrorTipTap.configure({isStatic:Qe}),CommunityPostTipTap.configure({isStatic:Qe}),GitgistTipTap.configure({isStatic:Qe}),AugmentationPlaceholderTipTap.configure({isStatic:Qe}),ManifoldTipTap.configure({isStatic:Qe}),PredictionMarketTipTap.configure({isStatic:Qe}),KindleTipTap.configure({isStatic:Qe}),DatawrapperTipTap.configure({isStatic:Qe}),LichessTipTap.configure({isStatic:Qe}),CaptionedImageTipTap.configure({isStatic:Qe}),CaptionTipTap.configure({isStatic:Qe}),CaptionedShareButtonTipTap.configure({isStatic:Qe}),CaptionedWriterReferralButtonTipTap.configure({isStatic:Qe}),LatexBlockTipTap.configure({isStatic:Qe}),FootnoteTipTap.configure({isStatic:Qe}),FootnoteAnchorTipTap.configure({isStatic:Qe}),PreformattedTextBlockTipTap.configure({isStatic:Qe}),MeetingTipTap.configure({isStatic:Qe}),AudioUrlTipTap.configure({isStatic:Qe}),TemplateCommentTipTap.configure({isStatic:Qe}),ReferralLinkTipTap.configure({isStatic:Qe}),ReferralsTierCard.configure({isStatic:Qe}),PreviewInSubstackAppTipTap.configure({isStatic:Qe}),FragmentNodeTipTap.configure({isStatic:Qe}),AssetErrorTipTap.configure({isStatic:Qe}),HorizontalRuleCustom,SubstackMentions,CashTag]},68135:(K,f,e)=>{"use strict";e.d(f,{El:()=>E,ZP:()=>S});var t=e(80983),a=e(80569),i=e.n(a),c=e(82626),p=e(15045),l=e(83322),v=e(83813),_=(A,u,o)=>new Promise((s,w)=>{var P=D=>{try{x(o.next(D))}catch(y){w(y)}},C=D=>{try{x(o.throw(D))}catch(y){w(y)}},x=D=>D.done?s(D.value):Promise.resolve(D.value).then(P,C);x((o=o.apply(A,u)).next())});const g=A=>new Promise((u,o)=>{if(!window.FileReader){o(new TypeError("File reader API not found"));return}const s=new FileReader;s.onerror=o,s.onload=()=>{u(s.result)},s.readAsDataURL(A)});class E{constructor(u,o,s){this.dom=this.EmbedClass.buildNodeView(u,o,s)}get EmbedClass(){return S}update(u){return u.type.name===this.EmbedClass.substackType}stopEvent(u){return u.target.className==="file-embed-menu-button"}}class S{static maybeAssignType(u){}static isValidMimeType(u){return _(this,null,function*(){const o=u.assignedType||u.type,s=this.supportedMimeTypes.map(({name:P})=>P).indexOf(o);if(s===-1)return!1;const w=this.supportedMimeTypes[s];return this.fileMatchesMime(u,w)})}static fileMatchesMime(u,o){return _(this,null,function*(){const s=yield this.getBytes(u);for(const w of o.signature){let P=0,C=!0;for(const x of w)x!==s[P]&&(C=!1),P++;if(C)return!0}return!1})}static getBytes(u){const o=new File([u],u.name,{type:u.assignedType||u.type});return new Promise((s,w)=>{const P=new FileReader;P.onloadend=function(C){if(C.target.readyState===FileReader.DONE){const x=C.target.result,D=new Uint8Array(x);s(D)}w()},P.onerror=function(C){w(C)},P.readAsArrayBuffer(o)})}static get NodeView(){return E}static get nodeSpec(){return{definition:this,attrs:{filename:{default:null},filetype:{default:null},filesize:{default:null},href:{default:null},title:{default:null},description:{default:null},thumbnail:{default:null},fileKey:{default:null},dirty:{default:!0},raw_href:{default:null},error:{default:null},empty:{default:!1}},substackType:this.substackType,inline:!1,atom:!0,group:"block",selectable:!1,canHandleFile:(u,o)=>_(this,null,function*(){return this.maybeAssignType(o),this.isValidMimeType(o)}),draggable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.file-embed-wrapper",getAttrs:u=>{const o={};try{const[s,w,P]=u.children[0].children,[C,x]=s.children,[D,y]=x.children;o.title=D.textContent;const[M,T]=y.textContent.split("\u2219");o.filesize=(0,l.formattedBytesToNumber)(M);const R=T.split("File")[0].trim().toLowerCase();if(this.supportedMimeTypes.find(N=>N.name.indexOf(R)!==-1)||this.substackType===R)o.filetype=R;else if(this.substackType==="file")o.filetype=R;else return!1;return C.classList.contains("file-embed-thumbnail-default")||(o.thumbnail=C.getAttribute("src")),o.description=w.innerText,o[this.actionButtonAttr]=P.getAttribute("href"),o}catch(s){return!1}}}],toDOM:u=>{const o=["div",{class:"file-embed-wrapper","data-component-name":"FileToDOM"},["div",{class:"file-embed-container-reader"},["div",{class:"file-embed-container-top"},["image",{class:`file-embed-thumbnail${u.attrs.thumbnail?"":"-default"}`,src:u.attrs.thumbnail||(0,p.imginary)("/img/attachment_icon.svg")}],["div",{class:"file-embed-details"},["div",{class:"file-embed-details-h1"},u.attrs.title||u.attrs.filename||""],["div",{class:"file-embed-details-h2"},this.formatNameSize(u.attrs)]],["a",{class:"file-embed-button wide",href:u.attrs[this.actionButtonAttr]},["span",{class:"file-embed-button-text"},this.actionButtonText]]]]];return u.attrs.description&&o[2].push(["div",{class:"file-embed-description"},u.attrs.description]),o[2].push(["a",{class:"file-embed-button narrow",href:u.attrs[this.actionButtonAttr]},["span",{class:"file-embed-button-text"},this.actionButtonText]]),o},toDOMStatic:u=>{var o;let s,w,C=((o=u.attrs)==null?void 0:o.title)||"";return u.attrs.thumbnail&&u.attrs.thumbnail.indexOf("attachment_icon.svg")===-1?(w=!1,s=(0,p.imginary)(u.attrs.thumbnail,100,{aspect:"1.5",crop:"fill",gravity:"auto",height:150})):(w=!0,s=(0,p.imginary)("/img/attachment_icon.svg",32,{aspect:"1",crop:"fill",gravity:"auto",height:32})),C&&C.length>40&&(C=`${C.substr(0,40)}...`),["table",{class:"static-file-embed-table",cellspacing:"16","data-component-name":"FileToDOMStatic"},["tr",{},["td",{class:`static-file-embed-thumbnail-container ${w?"default":""}`},["img",{class:`static-file-embed-thumbnail ${w?"default":""}`,src:s}]],["td",{class:`static-file-embed-details ${w?"default":""}`},["div",{class:"static-file-embed-details-h1"},C],["div",{class:"static-file-embed-details-h2"},this.formatNameSize(u.attrs)]]],u.attrs.description?["tr",{},["td",{class:"static-file-embed-description",colspan:"2"},["p",{style:"margin: 0;"},u.attrs.description||""]]]:null,["tr",{},["td",{class:"static-file-embed-button-container",colspan:"2"},["table",{class:"static-file-embed-button",cellspacing:"0"},["tr",{},["td",{align:"center"},["a",{href:`${u.attrs[this.actionButtonAttr]}?token=${c.Substitutions.FILE_DOWNLOAD_TOKEN}`,class:"static-file-embed-anchor"},this.actionButtonText]]]]]]].filter(D=>D)}}}static buildNodeView(u,o,s){var w,P,C,x;const D=document.createElement("div");D.className="file-embed-wrapper-editor";const y=document.createElement("div");y.className="file-embed-container",y.dataset.attrs=JSON.stringify(u.attrs),y.appendChild(this.generateContainerTop(u,o,s)),y.appendChild(this.generateDescription(u,o,s)),y.appendChild(this.generateButton(u,o,s,"narrow"));const M=document.createElement("div");M.className="file-embed-aligner";const{button:T,menu:R}=this.generateDropdown(u,o,s);M.appendChild(y),M.appendChild(R),D.appendChild(M);const F=document.createElement("img");F.src=(0,p.imginary)("/img/file_drag_default.png");const N=document.createElement("img");N.src=(0,p.imginary)((w=u==null?void 0:u.attrs)==null?void 0:w.thumbnail,100,{aspect:"1.5",crop:"fill",gravity:"auto",height:150}),D.addEventListener("dragstart",L=>{var k;(k=u==null?void 0:u.attrs)!=null&&k.thumbnail?L.dataTransfer.setDragImage(N,0,0):L.dataTransfer.setDragImage(F,0,0)}),((C=(P=o.state)==null?void 0:P.doc)==null?void 0:C.nodeAt(o.state.doc.nodeSize-3))===u&&setTimeout(()=>{o.dispatch(o.state.tr.insertText("\r",o.state.doc.nodeSize-2))},0);const V=document.createElement("div");V.appendChild(this.generateSpinner());const W=this.generateErrorCover(o,u);return(x=u.attrs)!=null&&x.error&&(T.className="file-embed-menu-button hidden",y.className="file-embed-container covered error",y.appendChild(W)),u.startReplacing=()=>{V.className="file-embed-container cover",y.className="file-embed-container covered",T.className="file-embed-menu-button disabled",y.contains(W)&&y.removeChild(W),y.appendChild(V)},u.stopReplacing=L=>{L?(T.className="file-embed-menu-button hidden",y.className="file-embed-container covered error",y.appendChild(W)):(y.className="file-embed-container",T.className="file-embed-menu-button"),y.removeChild(V)},D}static formatFileType(u){return u?["application/vnd.amazon.kfx","application/vnd.amazon.kpf","application/vnd.amazon.ebook"].includes(u)?"Kindle":(t.extension(u)||u.split("/").pop().split("-").pop()).toUpperCase():""}static formatNameSize(u){return`${(0,l.numberToHumanFileSize)(u.filesize)} \u2219 ${this.formatFileType(u.filetype)} file`}static getFileAttrs(u){return{href:u.getAttribute("href"),filename:u.getAttribute("filename"),filetype:u.getAttribute("filetype"),filesize:u.getAttribute("filesize"),title:u.getAttribute("title"),dirty:u.getAttribute("dirty"),description:u.getAttribute("description"),error:u.getAttribute("error")}}static generateThumbnail(u,o,s){const w=document.createElement("img");return w.className=`file-embed-thumbnail${u.attrs.thumbnail?"":"-default"}`,w.setAttribute("src",u.attrs.thumbnail||(0,p.imginary)("/img/attachment_icon.svg")),u.updateThumbnail=(P,...C)=>_(this,[P,...C],function*(x,D=400,y={aspect:"1.5",crop:"fill",gravity:"auto",width:400,height:600}){if(u.attrs.dirty=!0,!x){u.attrs.thumbnail=null,w.onload=()=>{w.className="file-embed-thumbnail-default"},w.src=(0,p.imginary)("/img/attachment_icon.svg");return}const M=yield g(x),T=yield i().post("/api/v1/image").send({image:M}),R=(0,p.imginary)(T.body.url,D,y);return u.attrs.thumbnail=R,w.onload=()=>{w.className="file-embed-thumbnail"},w.src=R,R}),w}static generateDetails(u,o,s){const w=document.createElement("div");w.className="file-embed-details";const P=document.createElement("div");P.className="file-embed-details-h1",P.innerText=u.attrs.title||u.attrs.filename;const C=document.createElement("div");return C.className="file-embed-details-h2",C.innerText=this.formatNameSize(u.attrs),w.appendChild(P),w.appendChild(C),u.updateTitle=x=>{u.attrs.title=x,u.attrs.dirty=!0,P.innerText=x},w}static generateButton(u,o,s,w){const P=document.createElement("button");P.className=`file-embed-button primary mock ${w}`;const C=document.createElement("span");return C.className="file-embed-button-text",C.innerText=this.actionButtonText,P.appendChild(C),P}static generateDescription(u,o,s){const w=document.createElement("div");return w.className="file-embed-description ",w.innerText=u.attrs.description,u.updateDescription=P=>{u.attrs.dirty=!0,u.attrs.description=P?P.trim():null,w.innerText=P?P.trim():null},w}static generateErrorCover(u,o){var s,w;const P=document.createElement("div");P.className="file-embed-container cover error";const C=document.createElement("div");C.className="file-embed-error-inner";const x=document.createElement("img");x.className="file-embed-error-icon",x.setAttribute("src",(0,p.cdnSvg)("/img/alert-circle.svg"));const D=document.createElement("div");D.className="file-embed-error-message",D.innerText=(s=o.attrs.error)==null?void 0:s.message;const y=document.createElement("div");y.className="file-embed-error-button",y.onclick=this.makeReplaceButtonClickHandler(u,o);const M=document.createElement("span");return M.className="file-embed-error-button-text",M.innerText=((w=o.attrs.error)==null?void 0:w.button)||"Try again",y.appendChild(M),C.appendChild(x),C.appendChild(D),C.appendChild(y),P.appendChild(C),P}static generateSpinner(){const u=document.createElement("div");u.className="embed-loader-container";const o=document.createElement("div");o.className="embed-loader";const s=document.createElement("div");return s.innerText="Replacing...",s.className="embed-loader-text",u.appendChild(o),u.appendChild(s),u}static makeReplaceButtonClickHandler(u,o){return s=>{const w=document.createElement("input");w.className="sidebar-item-hidden-file-input",w.type="file",w.oninput=P=>{var C;const x=(C=P.target)==null?void 0:C.files[0];u.dispatchEvent({type:"file_replace",node:o,file:x})},document.body.appendChild(w),w.click(),document.body.removeChild(w)}}static generateDropdown(u,o,s){const w=document.createElement("div");w.className="post-editor-file-embed-dropdown-container dropdown-container";const P=document.createElement("div");P.className="dropdown-content";const C=document.createElement("div");C.className="dropdown-list",[{label:"Edit",icon:"edit",onclick:y=>{o.dispatchEvent({type:"file_edit",node:u})}},{label:"Replace",icon:"swap",onclick:this.makeReplaceButtonClickHandler(o,u)},{label:"Download",icon:"download",onclick:y=>{const M=document.createElement("a");M.href=u.attrs.raw_href,M.download=u.attrs.filename,document.body.appendChild(M);const T=window.onbeforeunload;window.onbeforeunload=null,M.click(),window.onbeforeunload=T,document.body.removeChild(M)}},{label:"Delete",icon:"trash",onclick:y=>{const M=s();o.dispatch(o.state.tr.delete(M,M+1))}}].map(y=>{const M=document.createElement("div");M.className="dropdown-list-item",M.onclick=y.onclick;const T=document.createElement("div");T.className=`dropdown-list-item-icon icon-${y.icon}`;const R=document.createElement("span");return R.className="dropdown-list-item-text",R.innerText=y.label,M.appendChild(T),M.appendChild(R),M}).forEach(y=>{C.appendChild(y)}),P.appendChild(C);const x=document.createElement("div");x.className="file-embed-menu-button";const D=document.createElement("div");return D.className="dropdown-icon",D.appendChild(document.createElement("span")),D.appendChild(document.createElement("span")),D.appendChild(document.createElement("span")),D.appendChild(document.createElement("span")),x.appendChild(D),w.appendChild(x),w.appendChild(P),x.onclick=y=>{if(P.className==="dropdown-content open")return;P.className="dropdown-content open",D.className="dropdown-icon open",x.className="file-embed-menu-button open";const M=()=>{P.className="dropdown-content",D.className="dropdown-icon",x.className="file-embed-menu-button",document.removeEventListener("click",M)};setTimeout(()=>{document.addEventListener("click",M)},0)},{button:x,menu:w}}static generateContainerTop(u,o,s){const w=document.createElement("div");return w.className="file-embed-container-top",w.appendChild(this.generateThumbnail(u,o,s)),w.appendChild(this.generateDetails(u,o,s)),w.appendChild(this.generateButton(u,o,s,"wide")),w}}S.substackType="file",S.supportedMimeTypes=[],S.actionButtonText="Download",S.actionButtonAttr="raw_href";const O=(0,v.Se)({name:"file",nodeSpec:S.nodeSpec})},62274:(K,f,e)=>{"use strict";e.d(f,{$:()=>p});var t=e(2376),a=e(14172),i=e(80200),c=e(83813);const p={attrs:{number:{default:1}},content:"block+",atom:!1,selectable:!1,isolating:!1,defining:!0,draggable:!1,group:"block",parseDOM:[{tag:".footnote"}],toDOM:v=>{const{number:_}=v.attrs;return["div",{class:"footnote","data-component-name":"FootnoteToDOM"},["a",{id:`footnote-${_}`,href:`#footnote-anchor-${_}`,class:"footnote-number",contenteditable:!1,target:"_self"},`${_}`],["div",{class:"footnote-content"},0]]},toDOMStatic:v=>{const{number:_}=v.attrs;return["div",{class:"footnote","data-component-name":"FootnoteToDOMStatic"},["span",{class:"footnote-number"},`${_}`],["div",{class:"footnote-content"},0]]}},l=(0,c.Se)({name:"footnote",nodeSpec:p,addCommands(){return{insertFootnote:()=>({state:v,editor:_,dispatch:g})=>{if(!(0,a.P)(v))return!1;const{schema:E}=_,S=E.nodes.footnote.create({number:1},E.nodes.paragraph.create()),O=E.nodes.footnoteAnchor.create({number:1}),A=v.tr,u=(0,i.dG)(A,E);if(A.replaceWith(u,u,S),A.replaceSelectionWith(O),(0,i.A0)(A,E),g){try{A.setSelection(t.Bs.create(A.doc,u+2,u+2)).scrollIntoView()}catch(o){return console.error("could not set footnote text selection"),!1}g(A)}return!0}}}})},63045:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(83322),a=e(83813);const i={attrs:{number:{default:1}},atom:!0,selectable:!0,isolating:!1,defining:!0,draggable:!0,inline:!0,group:"inline",parseDOM:[{tag:".footnote-anchor"}],toDOM:p=>{const{number:l}=p.attrs;return["a",{class:"footnote-anchor","data-component-name":"FootnoteAnchorToDOM",id:`footnote-anchor-${l}`,href:`#footnote-${l}`,target:"_self"},`${l}`]},toDOMStatic:p=>{const{number:l}=p.attrs;return["span",{class:"footnote-anchor-email","data-component-name":"FootnoteAnchorToDOMStatic"},`${(0,t.getSuperscriptNumberString)(l)}`]}},c=(0,a.Se)({name:"footnoteAnchor",nodeSpec:i})},69079:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={content:"block+",group:"block",toDOM:()=>["div",{"data-component-name":"FragmentNodeToDOM"},0]},i=(0,t.Se)({name:"fragmentNode",nodeSpec:a})},39214:(K,f,e)=>{"use strict";e.d(f,{$y:()=>p,S:()=>g,un:()=>O});var t=e(91036),a=e.n(t),i=e(83813),c=(u,o,s)=>new Promise((w,P)=>{var C=y=>{try{D(s.next(y))}catch(M){P(M)}},x=y=>{try{D(s.throw(y))}catch(M){P(M)}},D=y=>y.done?w(y.value):Promise.resolve(y.value).then(C,x);D((s=s.apply(u,o)).next())});const p={attrs:{innerHTML:{},stylesheet:{}},untrackedAttrs:["innerHTML","stylesheet"],inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.github-gist",getAttrs:i.YX}],toDOMStatic:u=>A(u,!0),toDOM:u=>A(u,!1)},l=(0,i.Se)({name:"gitgist",nodeSpec:p,addCommands(){return{insertGithubGist:u=>({commands:o})=>o.insertContent({type:this.name,attrs:u})}}}),v=/(https?:\/\/gist.github.com\/([^\s]*\/[^\s\.#]*)([\.#][^\s]*)?)/,_=(u,{customSchema:o}={})=>g(u,{customSchema:o})!==null,g=(u,{customSchema:o}={})=>{if(o&&!o.nodes.gitgist)return null;const s=v.exec(u);return s&&s[1]},E=u=>{const o=u.match(v);return o&&o[2]?o[2]:null},S=u=>c(void 0,null,function*(){const o=E(u);return(yield e(80569).get("/api/v1/github/gist").query({id:o})).body}),O=(u,...o)=>c(void 0,[u,...o],function*(s,{customSchema:w}={}){return(w||e(71565).fK).nodes.gitgist.create(yield S(s))});function A(u,o){const s=document.createElement("div");s.classList.add("github-gist"),o?s.setAttribute("data-component-name","GitgistToDOMStatic"):(s.dataset.attrs=JSON.stringify(u.attrs),s.setAttribute("data-component-name","GitgistToDOM")),s.innerHTML=a()(u.attrs.innerHTML,{allowedTags:a().defaults.allowedTags,allowedAttributes:Object.assign({},a().defaults.allowedAttributes,{"*":["href","style","id","data-*","itemprop","class"]})});const w=document.createElement("link");if(w.rel="stylesheet",w.href=u.attrs.stylesheet,s.prepend(w),o){s.classList.add("static");const P=s.getElementsByTagName("td");for(let C=0;C<P.length;C++){const x=P[C];x.dataset.lineNumber?(x.innerHTML=x.dataset.lineNumber,x.align="right"):(x.align="left",x.innerHTML=`<pre>${x.innerHTML}</pre>`),x.classList.add("content"),x.height="20px"}}return s}},59199:(K,f,e)=>{"use strict";e.d(f,{$:()=>c});var t=e(15045),a=e(83813);const i=550,c={attrs:{src:{},height:{default:null},width:{default:null},alt:{default:null},title:{default:null}},inline:!0,group:"inline",draggable:!0,toDOM:l=>{const v=(0,t.imginary)(l.attrs.src,i*2);return["img",{style:l.attrs.height&&l.attrs.width?`max-width:${l.attrs.width}px;max-height:${l.attrs.height}px`:"",src:v,alt:l.attrs.alt,title:l.attrs.title,"data-component-name":"ImageToDOM"}]},toDOMStatic:l=>{if(l.attrs.height&&l.attrs.width){const _=Math.min(l.attrs.width,i),g=(0,t.imginary)(l.attrs.src,_);return["table",{class:"image-wrapper",width:"100%",border:"0",cellSpacing:"0",cellPadding:"0","data-component-name":"ImageToDOMStatic"},["tr",{},["td"],["td",{class:"content",width:_}],["td"]],["tr",{},["td"],["td",{align:"left",class:"content",width:_},["img",{src:g,alt:l.attrs.alt,title:l.attrs.title}]],["td"]]]}return["img",{src:(0,t.imginary)(l.attrs.src,i),alt:l.attrs.alt,title:l.attrs.title}]}},p=(0,a.Se)({name:"image",nodeSpec:c})},66262:(K,f,e)=>{"use strict";e.d(f,{$y:()=>u,MQ:()=>x,N9:()=>P,Nh:()=>s});var t=e(6400),a=e(35588),i=e(15045),c=e(20501),p=e(83813),l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(T,R,F)=>R in T?l(T,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[R]=F,S=(T,R)=>{for(var F in R||(R={}))_.call(R,F)&&E(T,F,R[F]);if(v)for(var F of v(R))g.call(R,F)&&E(T,F,R[F]);return T},O=(T,R,F)=>new Promise((N,U)=>{var V=k=>{try{L(F.next(k))}catch(H){U(H)}},W=k=>{try{L(F.throw(k))}catch(H){U(H)}},L=k=>k.done?N(k.value):Promise.resolve(k.value).then(V,W);L((F=F.apply(T,R)).next())});const A=T=>T.attrs.fullscreen?"full":T.attrs.imageSize||"normal",u={attrs:{src:{},srcNoWatermark:{default:null},fullscreen:{default:null},imageSize:{default:null},height:{default:null},width:{default:null},resizeWidth:{default:null},bytes:{default:null},alt:{default:null},title:{default:null},type:{default:null},href:{default:null},belowTheFold:{default:!1},topImage:{default:!1},internalRedirect:{default:null}},inline:!1,atom:!0,group:"block",draggable:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"p",priority:100,getAttrs:T=>{if(T.textContent.trim())return!1;const[R]=T.getElementsByTagName("img");return R?s(R):!1}},{tag:"img[src]",getAttrs:T=>T.getAttribute("height")&&Number(T.getAttribute("height"))<=1||T.getAttribute("width")&&Number(T.getAttribute("width"))<=1?!1:s(T)}],toDOM:T=>{const R=w(T),F=A(T),N=i.WEB_RESPONSIVE_IMAGE_WIDTHS.map(ne=>({width:ne,imageSrc:w(T,{maxWidth:ne})})),U=i.WEB_RESPONSIVE_IMAGE_WIDTHS.map(ne=>({width:ne,imageSrc:w(T,{maxWidth:ne,imageProps:{format:"webp"}})}));let V,W;if(T.attrs.height&&T.attrs.width)switch(V=T.attrs.height,W=T.attrs.width,T.attrs.resizeWidth?(V=T.attrs.resizeWidth*V/W,W=T.attrs.resizeWidth):y(T.attrs)&&W<i.MIN_GIF_WIDTH&&(V*=i.MIN_GIF_WIDTH/W,W=i.MIN_GIF_WIDTH),F){case"full":W=Math.min(W,i.WEB_CONTENT_WIDTH);break}const L=240,k=4,H=T.attrs.width/T.attrs.height,G=T.attrs.resizeWidth?T.attrs.resizeWidth/H:T.attrs.height,q=T.attrs.resizeWidth?T.attrs.resizeWidth/G:H;let z=!(T.attrs.href&&T.attrs.href!=T.attrs.src);z=z&&T.attrs.height>L&&G>L,z=z&&H<k&&q<k;const ee=typeof window=="undefined";let $;T.attrs.href?$=(0,c.isHostedBySubstack)(T.attrs.href)?(0,i.imginary)(T.attrs.href):T.attrs.href:$=(0,i.imginary)(T.attrs.src);const J=document.createElement("div"),j=z?"image-link is-viewable-img image2":"image-link image2";return z&&ee&&(J.className="image-link-expand",(0,t.render)((0,t.h)(a.Z,{width:16,height:16,strokeWidth:2,stroke:"#FFFFFF"}),J)),["a",{class:j,target:"_blank",href:$,"data-component-name":"Image2ToDOM"},["div",{class:`image2-inset${F==="full"?" image2-full-screen":""}`},["picture",{},["source",{type:"image/webp",srcset:U.map(ne=>`${ne.imageSrc} ${ne.width}w`).join(", "),sizes:"100vw"}],["img",{src:R,width:F==="full"?void 0:W,height:F==="full"?void 0:V,"data-attrs":JSON.stringify(T.attrs),class:F==="full"?"sizing-fullscreen":F==="large"?"sizing-large":"sizing-normal",alt:T.attrs.alt||"",title:T.attrs.title||T.attrs.alt,srcset:N.map(ne=>`${ne.imageSrc} ${ne.width}w`).join(", "),sizes:"100vw",loading:T.attrs.belowTheFold?"lazy":null,fetchpriority:T.attrs.topImage?"high":null}]],J]]},toDOMStatic:T=>{const R=A(T),F=T.attrs.href||T.attrs.internalRedirect||(0,i.imginary)(T.attrs.src,void 0,{quality:R==="normal"?"auto:good":"auto:best"});if(T.attrs.height&&T.attrs.width&&R!=="full"){const{width:U,height:V}=T.attrs;let W=U;T.attrs.resizeWidth?W=T.attrs.resizeWidth:y(T.attrs)&&(W=Math.min(Math.max(U,i.MIN_GIF_WIDTH),i.MAX_GIF_WIDTH));const L=Math.min(W,i.EMAIL_CONTENT_WIDTH),k=M(U,V,L),H=W>i.EMAIL_CONTENT_WIDTH,G={"data-attrs":JSON.stringify(T.attrs),alt:T.attrs.alt||"",title:T.attrs.title||T.attrs.alt,width:L,height:k,class:H?"wide-image":"",src:(0,i.imginary)(T.attrs.src,!y(T.attrs)&&H?W*2:W,{lossy:D(T.attrs)})};return["table",{class:"image-wrapper",width:"100%",border:"0",cellSpacing:"0",cellPadding:"0","data-component-name":"Image2ToDOMStatic"},["tr",{},["td"],["td",{align:"left",class:"content",width:W},["a",{class:"image-link",target:"_blank",href:F},["img",G]]],["td"]]]}else if(R==="full"){const U=(0,i.imginary)(T.attrs.src,i.EMAIL_CONTENT_WIDTH*2,{lossy:D(T.attrs),crop:"limit",aspect:R==="full"?"1":void 0});return["a",{class:"image-link",target:"_blank",href:F},["img",{src:U,"data-attrs":JSON.stringify(T.attrs),alt:T.attrs.alt||"",title:T.attrs.title||T.attrs.alt,height:T.attrs.height,width:T.attrs.width}]]}const N=(0,i.imginary)(T.attrs.src,i.EMAIL_CONTENT_WIDTH*2,{lossy:D(T.attrs)});return["a",{class:"image-link",target:"_blank",href:F},["img",{src:N,"data-attrs":JSON.stringify(T.attrs),alt:T.attrs.alt||"",title:T.attrs.title||T.attrs.alt,width:T.attrs.resizeWidth||T.attrs.width,height:T.attrs.resizeWidth?M(T.attrs.width,T.attrs.height,T.attrs.resizeWidth):T.attrs.height}]]}},o=(0,p.Se)({name:"image2",nodeSpec:u}),s=(T,R,{bytes:F,internalRedirect:N}={})=>{const U=T.getAttribute("data-attrs");if(U)try{return JSON.parse(U)}catch(H){}let V;T.getAttribute("imageSize")&&(V=T.getAttribute("imageSize"));let W,L;const k=T.getAttribute("style");if(k){const H=/max-height:\s*(\d+)px/.exec(k);H&&(W=Number(H[1]));const G=/max-width:\s*(\d+)px/.exec(k);G&&(L=Number(G[1]))}else T.getAttribute("width")&&T.getAttribute("height")&&(W=Number(T.getAttribute("height")),L=Number(T.getAttribute("width")));return T.complete&&T.naturalHeight&&T.naturalWidth&&(W=T.naturalHeight,L=T.naturalWidth),{src:(0,i.unimginary)(T.getAttribute("src")),type:R,title:T.getAttribute("title"),alt:T.getAttribute("alt"),height:W,width:L,bytes:F,internalRedirect:N,imageSize:V}},w=(T,{maxWidth:R=null,imageProps:F={}}={})=>{const N=A(T);let U=N==="full"?i.MAX_REASONABLE_SCREEN_WIDTH*2:N==="large"?i.LARGE_IMAGE_WIDTH*2:i.WEB_CONTENT_WIDTH*2;return R&&(U=Math.min(R,U)),(0,i.imginary)(T.attrs.src,U,S({lossy:D(T.attrs)},F))},P=(T,{customSchema:R}={})=>{if(R&&!R.nodes.image2)return null;const F=/(https?:\/\/(giphy\.com\/gifs|gph.is\/g|media\d*\.giphy\.com\/media)\/[^\s]+)/.exec(T);return F&&F[1]},C=T=>O(void 0,null,function*(){const R=e(80569),{preloadImage:F}=e(39419),N="image/gif",U=yield R.get("/api/v1/giphy").query({url:T}),V=yield new Promise(W=>F(w({attrs:{type:N,src:U.body.url}}),W));return s(V,N,{bytes:U.body.bytes})}),x=(T,...R)=>O(void 0,[T,...R],function*(F,{customSchema:N}={}){return(N||e(71565).fK).nodes.image2.create(yield C(F))});function D(T){return y(T)&&(!T.bytes||T.bytes>5e6)}function y(T){return!!(T.type&&T.type==="image/gif"||T.src&&T.src.split("?")[0].split("#")[0].endsWith(".gif"))}function M(T,R,F){return R*F/T}},26643:(K,f,e)=>{"use strict";e.d(f,{$y:()=>w});var t=e(5865),a=e(24706),i=e(78718),c=e.n(i),p=e(66262);const l=({defaultComponentProps:x})=>{const D={};for(const[y,M]of Object.entries(x))D[y]={default:M};return D},v=({defaultComponentProps:x})=>{const D={};for(const[y,M]of Object.entries(x))D[y]={default:M,keepOnSplit:!1};return D},_=({attrs:x})=>{const D={};for(const[y,M]of Object.entries(x))D[y]=c()(M,["default"]);return D};var g=Object.defineProperty,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,A=(x,D,y)=>D in x?g(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,u=(x,D)=>{for(var y in D||(D={}))S.call(D,y)&&A(x,y,D[y]);if(E)for(var y of E(D))O.call(D,y)&&A(x,y,D[y]);return x};const o=()=>({src:{default:null,keepOnSplit:!1},alt:{default:null,keepOnSplit:!1},title:{default:null,keepOnSplit:!1},href:{default:null,keepOnSplit:!1},width:{default:"100%",keepOnSplit:!1},height:{default:"auto",keepOnSplit:!1},size:{default:"normal",keepOnSplit:!1},align:{default:"center",keepOnSplit:!1}}),s="image3",w={name:s,group:"block",draggable:!0,attrs:_({attrs:o()}),parseDOM:[{tag:"image3",getAttrs:x=>{try{if(x instanceof HTMLElement){const D=x.getAttribute("data-attrs");if(D)return JSON.parse(D)}}catch(D){return!1}return!1}}],toDOM:x=>["div",{class:"image3","data-attrs":JSON.stringify(u({},x.attrs))}],toDOMStatic:x=>["div",{class:"image3","data-attrs":JSON.stringify(u({isEmail:!0},x.attrs))}]},P=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,C=t.NB.create({name:s,inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,addOptions(){return{HTMLAttributes:{}}},addAttributes(){return o()},parseHTML(){return[{tag:'img[src]:not([src^="data:"])',getAttrs:x=>({src:x.getAttribute("src")})},{tag:"p",priority:100,getAttrs:x=>{var D;if((D=x==null?void 0:x.textContent)!=null&&D.trim())return!1;const[y]=x.getElementsByTagName("img");return y?c()((0,p.Nh)(y,null),["src","title","alt","height","width"]):!1}}]},renderHTML({HTMLAttributes:x}){return["img",(0,t.P1)(this.options.HTMLAttributes,x)]},addCommands(){return{setImage:x=>({commands:D})=>D.insertContent({type:this.name,attrs:x})}},addNodeView(){const{Image3Editor:x}=e(31544);return(0,a.fW)(x)},addInputRules(){return[(0,t.x2)({find:P,type:this.type,getAttributes:x=>{const[,,D,y,M,T,R]=x;return{src:y,type:M,alt:D,title:T,href:R}}})]}})},74911:(K,f,e)=>{"use strict";e.d(f,{$y:()=>S});var t=e(5865),a=e(24706),i=e(83813),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(u,o,s)=>o in u?c(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,g=(u,o)=>{for(var s in o||(o={}))l.call(o,s)&&_(u,s,o[s]);if(p)for(var s of p(o))v.call(o,s)&&_(u,s,o[s]);return u};const E="image-gallery-embed",S={attrs:{gallery:{default:{}},isEditorNode:{default:!1}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:E,getAttrs:i.YX}],toDOM:u=>{if(typeof window!="undefined"&&u.attrs.isEditorNode){const{render:o,h:s}=e(6400),{ImageGallery:w}=e(51050);u.attrs.isEditor=!0;const P=document.createElement("div");return P.className=E,P.setAttribute("data-attrs",JSON.stringify(u.attrs)),o(s(w,{node:g({},u)}),P),P}return O(u)},toDOMStatic:u=>["div",{class:E,"data-attrs":JSON.stringify(g({isEmail:!0},u.attrs))}]},O=u=>["div",{class:E,"data-attrs":JSON.stringify(u.attrs)}],A=t.NB.create({name:"imageGallery",group:S.group,draggable:!0,addAttributes(){return{gallery:{default:{}},isEditorNode:{default:!0}}},parseHTML(){return[{tag:E}]},renderHTML({HTMLAttributes:u,node:o}){return this.options.isStatic&&S.toDOMStatic?S.toDOMStatic(o):["div",g({class:E},(0,t.P1)(u))]},addNodeView(){const{ImageGallery:u}=e(51050);return(0,a.fW)(u)},addCommands(){return{insertImageGallery:u=>({commands:o})=>o.insertContent({type:this.name,attrs:u}),updateImageGallery:u=>({commands:o})=>o.updateAttributes(this.name,u)}}})},71565:(K,f,e)=>{"use strict";e.d(f,{fK:()=>Vn});var t=e(5865),a=e(99734),i=e(67937),c=e(30561),p=e(57355),l=e(83416),v=e(20336),_=e(35525),g=e(7490),E=e(21902),S=e(25748),O=e(73816),A=e(71462),u=e(34565),o=e(94198),s=e(51575),w=e(26022),P=e(4281),C=e(18151),x=e(69984),D=e(52701),y=e(24706),M=e(44908),T=e(55963),R=e(87823),F=e(2376),N=e(80569),U=e.n(N),V=e(82626),W=e(6378),L=e(21125),k=e(15045),H=e(83322),G=e(98488),q=e(15867),z=e(30814);const ee=t.hj.create({name:"audioInsert",addCommands(){return{insertAudio:({label:bt,mediaUploadId:Ut,duration:qt})=>({state:Sn,dispatch:at})=>(0,z.n)({label:bt,mediaUploadId:Ut,duration:qt})(Sn,at)}}});var $=e(95009),J=e(20501),j=e(31067);function Z(bt){return(Ut,qt)=>(0,j.canInsert)(Ut,Ut.schema.nodes.communityChat)?(qt&&qt((0,j.insertNodeBelowSelection)(Ut,Ut.schema.nodes.communityChat.create({url:(0,J.getPublicationChatAppLinkUrl)({pubKey:bt.subdomain,utm_source:"chat_embed"}),subdomain:bt.subdomain,pub:{id:bt.id,name:bt.name,author_name:bt.author_name,author_photo_url:bt.author_photo_url}}))),!0):!1}const ne=t.hj.create({name:"buttonCustom",addCommands(){return{insertSubscribeButton:bt=>({state:Ut,dispatch:qt})=>(0,$.tX)(bt)(Ut,qt),insertSubscribeButtonWithPreamble:bt=>({state:Ut,dispatch:qt})=>(0,$.Ui)(bt)(Ut,qt),insertCaptionedShareButton:bt=>({state:Ut,dispatch:qt})=>(0,$.T6)(bt)(Ut,qt),insertSpecialOfferButton:({couponPub:bt,scrollParent:Ut,parentClass:qt,get_coupons:Sn,insert_coupon:at,SelectField:Pt,openPrompt:jt,closePrompt:vn,getNetworkErrorMessage:Pn})=>({state:Rn,dispatch:$n,view:ar})=>(0,$.pw)({couponPub:bt,scrollParent:Ut,parentClass:qt,get_coupons:Sn,insert_coupon:at,SelectField:Pt,openPrompt:jt,closePrompt:vn,getNetworkErrorMessage:Pn})(Rn,$n,ar),insertGroupSubscriptionButton:({publication:bt})=>({state:Ut,dispatch:qt})=>(0,$.Fp)({publication:bt})(Ut,qt),insertDonateButton:bt=>({state:Ut,dispatch:qt})=>(0,$.U0)(bt)(Ut,qt),insertReferralButton:bt=>({state:Ut,dispatch:qt})=>(0,$.Lb)(bt)(Ut,qt),insertCaptionedWriterReferralButton:bt=>({state:Ut,dispatch:qt})=>(0,$.HQ)({writerReferralCode:bt.writerReferralCode,publication:bt.publication,postId:bt.postId})(Ut,qt),insertGiftButton:bt=>({state:Ut,dispatch:qt})=>(0,$.aZ)(bt)(Ut,qt),insertCommentsButton:bt=>({state:Ut,dispatch:qt})=>(0,$.sj)(bt)(Ut,qt),insertSharePubButton:bt=>({state:Ut,dispatch:qt})=>(0,$.S_)(bt)(Ut,qt),insertSharePostButton:bt=>({state:Ut,dispatch:qt})=>(0,$.BN)(bt)(Ut,qt),insertCustomButton:({scrollParent:bt,parentClass:Ut,TextField:qt,openPrompt:Sn,publication:at})=>({state:Pt,dispatch:jt,view:vn})=>(0,$.op)({scrollParent:bt,parentClass:Ut,TextField:qt,openPrompt:Sn,publication:at})(Pt,jt,vn),insertVisitThreadButton:bt=>({state:Ut,dispatch:qt})=>Z(bt)(Ut,qt)}}});var ie=e(63159);const oe=t.hj.create({name:"embedContentCustom",addCommands(){return{insertInstallSubstackAppEmbed:bt=>({state:Ut,dispatch:qt})=>(0,ie.Y)(bt)(Ut,qt)}}});var re=e(25804),ae=e(51609),se=e(39419);const fe=bt=>{bt.preventDefault()},le=(bt,Ut,qt)=>{const Sn=bt.dom;if(Sn){const at=Sn.querySelector(`[data-attrs*='{"nodeId":"${Ut}"']`);qt?at.addEventListener("dragstart",fe):at.removeEventListener("dragstart",fe)}},Ae=(bt,Ut)=>(qt,Sn,at)=>{if(Sn){let Pt,jt;if(qt.doc.descendants((vn,Pn)=>{if(vn.attrs.nodeId===bt.nodeId)return Pt=vn,jt=Pn,!1}),Pt){const vn=qt.tr;return vn.setNodeMarkup(jt,Pt.type,Object.assign({},Pt.attrs,bt)),le(at,bt.nodeId,Ut),Sn(vn),!0}}return!0},De=({url:bt})=>(Ut,qt)=>{if(qt){const Sn=Ut.tr,at=Ut.selection.from,Pt=at+bt.length;Sn.deleteSelection(),Sn.insertText(bt,at),Sn.addMark(at,Pt+1,Ut.schema.marks.link.create({text:bt,href:bt})),Sn.setSelection(F.Bs.create(Sn.doc,at,Pt+1)),qt(Sn)}return!0},je=({url:bt})=>(Ut,qt,Sn)=>{if(qt){const[,at]=(0,ae.WB)(bt,Ut.schema,{forceAllowOwnPub:!0});(0,ae.rN)(at,Sn,Ut.schema,{forceAllowOwnPub:!0}).catch(jt=>alert((0,se.getNetworkErrorMessage)(jt)));const Pt=Ut.tr;qt(Pt.replaceSelectionWith(at))}return!0},Je=()=>(bt,Ut)=>(Ut&&Ut((0,re.NE)(bt,Ut)),!0),Be=t.hj.create({name:"digestPostEmbedExtension",addCommands(){return{updateDigestPostEmbed:(bt,Ut)=>({state:qt,dispatch:Sn,view:at})=>Ae(bt,Ut)(qt,Sn,at),convertDigestPostEmbedToLink:bt=>({state:Ut,dispatch:qt})=>De(bt)(Ut,qt),convertDigestPostEmbedToEmbeddedPost:bt=>({state:Ut,dispatch:qt,view:Sn})=>je(bt)(Ut,qt,Sn),deleteDigestPostEmbed:()=>({state:bt,dispatch:Ut})=>Je()(bt,Ut)}}});var st=e(14172);const ht=t.hj.create({name:"footnoteCustom",addCommands(){return{insertFootnote:()=>({state:bt,dispatch:Ut})=>(0,st.I)(bt,Ut)}}});var gt=e(40042);const Xe=({url:bt,caption:Ut})=>(qt,Sn)=>{if(!Sn)return!1;const at=qt.schema,Pt={src:bt,imageSize:"normal",height:512,width:512},jt=at.nodes.image2.create(Pt);if(Ut){const vn=at.nodes.caption.create(null,at.text(Ut)),Pn=at.nodes.captionedImage.create({},[jt,vn]);Sn((0,j.insertNodeBelowSelection)(qt,Pn))}else Sn((0,j.insertNodeBelowSelection)(qt,jt));return!0};var Re=e(28146);const Ne=t.hj.create({name:"imageInsert",addCommands(){return{insertImage:bt=>({state:Ut,dispatch:qt,view:Sn})=>{const{insertImageItem:at}=e(97766);return at(Ut.schema.nodes.image2,{insertImageFile:bt}).spec.run(Ut,qt,Sn)},insertUnsplashImage:bt=>({state:Ut,dispatch:qt})=>(0,Re.c)(bt)(Ut,qt),insertImageGallery:bt=>({state:Ut,dispatch:qt})=>(0,gt.M)(bt)(Ut,qt),updateImageGallery:bt=>({state:Ut,dispatch:qt})=>(0,gt.h)(bt)(Ut,qt),insertImageFromUrl:({url:bt,caption:Ut})=>({state:qt,dispatch:Sn})=>Xe({url:bt,caption:Ut})(qt,Sn)}}});var ke=e(18799);const ot=t.hj.create({name:"latexInsert",addCommands(){return{insertLatex:({expression:bt})=>({state:Ut,dispatch:qt})=>(0,ke.H)({expression:bt})(Ut,qt)}}});var Dt=e(50783);const ln=t.hj.create({name:"meetingInsert",addCommands(){return{insertMeeting:({publication:bt,meetingsConfig:Ut,usePublicationName:qt})=>({state:Sn,dispatch:at})=>(0,Dt.H)({publication:bt,meetingsConfig:Ut,usePublicationName:qt})(Sn,at)}}});var ct=e(82530);const Oe=t.hj.create({name:"paywallCustom",addCommands(){return{addPaywall:bt=>({state:Ut,dispatch:qt})=>(0,ct.addPaywall)(bt)(Ut,qt)}}});var Se=e(16407);const Ze=t.hj.create({name:"pollInsert",addCommands(){return{insertPoll:({id:bt})=>({state:Ut,dispatch:qt})=>(0,Se.f)({id:bt})(Ut,qt)}}});var Fe=e(4509);const Ke=({mediaUploadId:bt})=>(Ut,qt)=>(qt&&qt((0,j.insertNodeBelowSelection)(Ut,Ut.schema.nodes.video.create({mediaUploadId:bt,isEditorNode:!0}))),!0),et=t.hj.create({name:"videoInsert",addCommands(){return{insertVideo:({mediaUploadId:bt})=>({state:Ut,dispatch:qt})=>Ke({mediaUploadId:bt})(Ut,qt)}}});var Qe=e(46953),$e=e(29808),Te=e(38822),te=e(53187),ue=e(83813),we=e(31417),me=e(61611),Ee=Object.defineProperty,he=Object.defineProperties,xe=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ze=(bt,Ut,qt)=>Ut in bt?Ee(bt,Ut,{enumerable:!0,configurable:!0,writable:!0,value:qt}):bt[Ut]=qt,tt=(bt,Ut)=>{for(var qt in Ut||(Ut={}))Pe.call(Ut,qt)&&ze(bt,qt,Ut[qt]);if(Ve)for(var qt of Ve(Ut))Ie.call(Ut,qt)&&ze(bt,qt,Ut[qt]);return bt},Le=(bt,Ut)=>he(bt,xe(Ut)),It=(bt,Ut,qt)=>new Promise((Sn,at)=>{var Pt=Pn=>{try{vn(qt.next(Pn))}catch(Rn){at(Rn)}},jt=Pn=>{try{vn(qt.throw(Pn))}catch(Rn){at(Rn)}},vn=Pn=>Pn.done?Sn(Pn.value):Promise.resolve(Pn.value).then(Pt,jt);vn((qt=qt.apply(bt,Ut)).next())});const on=bt=>{var Ut,qt,Sn,at;const[Pt,jt]=(((at=(Sn=(qt=(Ut=bt.split("_"))==null?void 0:Ut[1])==null?void 0:qt.split("."))==null?void 0:Sn[0])==null?void 0:at.split("x"))||[0,0]).map(Number);return{width:Pt,height:jt}},zt={type:"doc",content:[{type:"paragraph"}]},$t={image:bt=>Wn(bt.attrs.src),image2:bt=>typeof bt.attrs.width!="number"&&typeof bt.attrs.height!="number"||bt.attrs.width>=300&&bt.attrs.height>=300?Wn(bt.attrs.src):null,image3:bt=>{const Ut=on(bt.attrs.src);return typeof bt.attrs.width!="number"&&typeof bt.attrs.height!="number"||bt.attrs.width>=300&&bt.attrs.height>=300||Ut.width>=300&&Ut.height>=300?Wn(bt.attrs.src):null},imageGallery:bt=>{var Ut,qt;return Wn((qt=(Ut=bt.attrs.gallery.images)==null?void 0:Ut[0])==null?void 0:qt.src)},spotify:bt=>Wn(bt.attrs.image),spotify2:bt=>Wn(bt.attrs.image),opensea:bt=>Wn(bt.attrs.image),twitter2:bt=>{if(bt.attrs.photos){for(const Ut of bt.attrs.photos)if(Ut.img_url)return Wn(Ut.img_url)}return bt.attrs.expanded_url&&bt.attrs.expanded_url.image?bt.attrs.expanded_url.image.url?Wn(bt.attrs.expanded_url.image.url):Wn(bt.attrs.expanded_url.image):null},vimeo:bt=>we.Jn(bt.attrs.videoId,{playButton:!1}),youtube:bt=>me.Jn(bt.attrs.videoId,{playButton:!1}),youtube2:bt=>me.Jn(bt.attrs.videoId,{playButton:!1}),kindle:bt=>(0,k.imginary)(bt.attrs.imageUrl),applePodcast:bt=>(0,k.imginary)(bt.attrs.imageUrl),tiktok:bt=>(0,k.imginary)(bt.attrs.thumbnail_url),prediction_market:bt=>(0,k.imginary)(bt.attrs.thumbnail_url),manifold:bt=>(0,k.imginary)(bt.attrs.thumbnail_url),lichess:bt=>(0,k.imginary)(bt.attrs.thumbnail_url),datawrapper:bt=>(0,k.imginary)(bt.attrs.thumbnail_url)},Bt={augmentation_placeholder:e(29943).$,youtube2:e(61611).$y,youtube:e(76982).$,vimeo:e(31417).$y,install_substack_app:e(19073).$,preview_in_substack_app:e(8678).$,opensea:e(18480).$y,twitter:e(24520).$,twitter2:e(82350).$y,communityChat:e(88985).$y,communityPost:e(67042).$y,comment:e(82054).$y,spotify2:e(71817).$y,spotify:e(1647).$,soundcloud:e(66278).$y,instagram:e(24440).$y,image2:e(66262).$y,image:e(59199).$,button:e(71071).$y,comic:e(67954).Z.nodeSpec,file:e(67954).Z.nodeSpec,pdf:e(69618).Z.nodeSpec,xlsx:e(79559).Z.nodeSpec,ebook:e(78675).Z.nodeSpec,referral_link:e(51144).$,bandcamp:e(95191).$y,kindle:e(57670).$y,gitgist:e(39214).$y,embeddedPost:e(28663).$y,embeddedPublication:e(77317).$y,applePodcast:e(18363).$y,audio:e(25799).$y,video:e(84134).$,audioUrl:e(32434).$y,tiktok:e(53187).$y,poll:e(47291).$,imageGallery:e(74911).$y,image3:e(26643).$y,cashtag:e(43457).$,substack_mentions:e(90549).$,prediction_market:e(29808).$y,manifold:e(29808).$y,lichess:e(46953).$y,datawrapper:e(15867).$y,digestPostEmbed:e(10099).$y,assetError:G.$},xn=Le(tt({},Bt),{blockquote:e(86402).$,fragmentNode:e(69079).$,captionedImage:e(97155).$,caption:e(24544).$,ctaCaption:e(2889).$,footnote:e(62274).$,footnoteAnchor:e(63045).$,latex_block:e(2781).nodeSpec,paywall:e(83245).nodeSpec,preformatted_text_block:e(81693).$,pullquote:Te.$,subscribeWidget:e(36496).$,captionedShareButton:e(66745).$y({url:V.Substitutions.SHARE_URL}),captionedWriterReferralButton:e(66745).$y({hasDynamicSubstitutions:!1}),templateComment:e(59331).$,meeting:e(30788).$,referralTier:e(55899).$y}),Hn=Le(tt({},Bt),{subscribeWidget:e(36496).$,paywall:e(83245).nodeSpec,templateComment:e(59331).$}),ir={strikethrough:e(83555).J,superscript:e(78437).O,subscript:e(93288).l},Vn=new R.V_({nodes:On(),marks:pt()}),_t=new R.V_({nodes:On({isStatic:!0}),marks:pt({isStatic:!0})}),Ce=Object.keys(xn).filter(bt=>!["blockquote","pullquote"].includes(bt)).map(bt=>{const Ut=(0,j.proseMirrorToTipTap)(bt,xn[bt]),qt=tt(tt({},xn[bt]),Ut);if(bt==="youtube2")qt.addNodeView=()=>({node:Sn})=>new me.dQ(Sn);else if(bt==="tiktok")qt.addNodeView=()=>({node:Sn})=>new te.QZ(Sn);else if(bt==="lichess")qt.addNodeView=()=>({node:Sn})=>new Qe.$1(Sn);else if(bt==="datawrapper")qt.addNodeView=()=>({node:Sn})=>new q.s3(Sn);else if(bt==="prediction_market"||bt==="manifold")qt.addNodeView=()=>({node:Sn})=>new $e.eC(Sn);else if(bt==="paywall"){const Sn=e(83245);qt.addNodeView=()=>({node:at})=>new Sn.PaywallView(at)}else if(bt==="latex_block"){const Sn=e(2781);qt.addNodeView=()=>({node:at})=>new Sn.LatexView(at)}else if(bt==="comic"){const Sn=e(67954).Z;qt.addNodeView=()=>({node:at,editor:Pt,getPos:jt})=>new Sn.NodeView(at,Pt.view,jt)}else if(bt==="pdf"){const Sn=e(69618).Z;qt.addNodeView=()=>({node:at,editor:Pt,getPos:jt})=>new Sn.NodeView(at,Pt.view,jt)}else if(bt==="xlsx"){const Sn=e(79559).Z;qt.addNodeView=()=>({node:at,editor:Pt,getPos:jt})=>new Sn.NodeView(at,Pt.view,jt)}else if(bt==="ebook"){const Sn=e(78675).Z;qt.addNodeView=()=>({node:at,editor:Pt,getPos:jt})=>new Sn.NodeView(at,Pt.view,jt)}return t.NB.create(qt)}),be=A.r.extend({addKeyboardShortcuts(){return{"Mod-k":()=>this.editor.commands.addLink()}},addCommands(){const{addLink:bt}=e(19503);return{addLink:()=>({state:Ut,dispatch:qt,view:Sn})=>bt(Ut.schema)(Ut,qt,Sn)}}}).configure({autolink:!1,openOnClick:!1}),We=a.V6.extend({addCommands(){return{toggleBlockquote:()=>({state:bt,commands:Ut})=>!(0,t.Ig)(bt,"paragraph")||(0,t.Ig)(bt,"pullquote")?!1:Ut.toggleWrap(this.name)}},parseHTML(){return e(86402).$.parseDOM}}),qe=(bt,Ut,qt)=>It(void 0,null,function*(){const{schema:Sn}=Ut,at=Sn.nodes.cashtag.create({symbol:bt,prependSymbol:!1}),Pt=Ut.tr;return Pt.replaceSelectionWith(at),qt&&qt(Pt),!0}),Et=()=>It(void 0,null,function*(){const bt="/api/v1/symbols/all";return(yield U().get(bt)).body.symbols}),en=o.pf.configure({HTMLAttributes:{class:"mention"},suggestion:{char:"$",allowSpaces:!1,startOfLine:!1,command:()=>{},items:({editor:bt,query:Ut})=>[],render:()=>({onStart:()=>{Et()},onUpdate(){},onKeyDown(bt){return bt.event.key==="Escape"},onExit(bt){return It(this,null,function*(){const Ut=bt.text.trim();if(["$",""].includes(Ut))return;const qt=yield Et();if(!/\$[a-z]+$/i.test(Ut)||Ut.length>6||!qt.includes(Ut.toUpperCase().replace("$",""))||["BTC","ETH","SOL","XRP","BNB","LUNA"].includes(Ut.toUpperCase().replace("$","")))return;const Sn=bt.editor.state.tr;Sn.setSelection(F.Bs.create(Sn.doc,bt.range.from,bt.range.to)).deleteSelection(),bt.editor.view.dispatch(Sn),qe(Ut.toUpperCase(),bt.editor.view.state,bt.editor.view.dispatch),bt.editor.commands.insertContent(" "),bt.editor.view.dispatch(bt.editor.state.tr)})}})}}),qn=o.pf.extend({name:"substack_mentions_extension"}).configure({HTMLAttributes:{class:"substack_mentions"},suggestion:{char:"@",pluginKey:new F.H$("substack_mentions_extension"),decorationClass:"substack_mentions",allowSpaces:!0,startOfLine:!1,command:({editor:bt,range:Ut,props:qt})=>{var Sn;const{uuidV4:at}=e(39419);if(!qt.item)return;const{name:Pt,id:jt,type:vn,url:Pn,photo_url:Rn}=qt.item,$n=bt.view.state.selection.$to.nodeAfter;((Sn=$n==null?void 0:$n.text)==null?void 0:Sn.startsWith(" "))&&(Ut.to+=1);const{schema:lr}=bt.state;let sr=bt.state.tr;sr.setSelection(F.Bs.create(sr.doc,Ut.from,Ut.to)).deleteSelection(),bt.view.dispatch(sr),sr=bt.state.tr;const fr=lr.nodes.substack_mentions.create({name:Pt,id:jt,type:vn,url:Pn,photo_url:Rn,uuid:at()});sr.insert(Ut.from,fr),bt.view.dispatch(sr),bt.commands.insertContent(" "),bt.view.dispatch(bt.state.tr),sr.setSelection(F.Bs.near(sr.doc.resolve(Ut.from+1)))},items:bt=>It(void 0,[bt],function*({editor:Ut,query:qt}){const{mentionsSearch:Sn}=e(86602);return qt.length<1?[]:yield Sn(qt)}),render:()=>{const bt=e(42441),Ut=bt.prototype.stopCallback;let qt,Sn;const at=(Pt,jt=!1)=>({items:Pt.items,query:Pt.query,isLoading:jt,selectItem:vn=>vn&&Pt.command({item:vn}),placeholderText:"Mention a person or publication...",noResultsText:"No people or publications found",minQueryLength:2});return{onStart:Pt=>{const{AutocompleteResults:jt}=e(92949),vn=e(79253).ZP;qt=new y.M_(jt,{props:at(Pt),editor:Pt.editor}),Sn=vn("body",{getReferenceClientRect:Pt.clientRect,appendTo:()=>document.getElementsByClassName("editor-scroll")[0]||document.body,content:qt.element,popperOptions:{strategy:"absolute",modifiers:[{options:{altAxis:!0}}]},showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}),bt.prototype.stopCallback=function(Pn,Rn,$n){return $n==="esc"?!0:Ut(Pn,Rn,$n)}},onBeforeUpdate(Pt){Sn&&Sn[0].show(),qt&&qt.updateProps(at(Pt,!0)),Pt.clientRect&&Sn&&Sn[0].setProps({getReferenceClientRect:Pt.clientRect})},onUpdate(Pt){qt&&qt.updateProps(at(Pt,!1)),Sn&&Sn[0].setProps({getReferenceClientRect:Pt.clientRect})},onKeyDown(Pt){var jt;return Pt.event.key==="Escape"?(Sn&&Sn[0]&&Sn[0].destroy(),Sn=null,qt&&qt.destroy(),qt=null,setTimeout(()=>{bt.prototype.stopCallback=Ut},0),!0):(jt=qt==null?void 0:qt.ref)==null?void 0:jt.onKeyDown(Pt)},onExit(Pt){bt.prototype.stopCallback=Ut,Sn&&Sn[0]&&Sn[0].destroy(),Sn=null,qt&&qt.destroy(),qt=null}}}}}),cr=S.b.extend({addCommands(){return{insertHorizontalRule:()=>({state:bt,dispatch:Ut})=>(Ut&&Ut((0,j.insertNodeBelowSelection)(bt,bt.schema.nodes.horizontalRule.create())),!0),setHorizontalRule:()=>({state:bt,dispatch:Ut})=>(Ut&&Ut((0,j.insertNodeBelowSelection)(bt,bt.schema.nodes.horizontalRule.create())),!0)}}}),pr=l.dn.extend({marks:"_"}),wr=[We,i.d8,c.DY,ne,p.EK,pr,oe,v.B,ht,_.U,g.X,E.A,cr,ee,et,ot,ln,Ze,Ne,O.Tx,be,u.H,s.GS,w.n,Oe,Te.z,P.Re,C.a,x.$,D.x,en,qn,Be,...Ce],Vr=(0,t.J1)(wr);Object.entries(Vr.nodes).forEach(([bt,Ut])=>{xn[bt]!==void 0&&(Ut.spec=tt(tt({},xn[bt]),Ut.spec))});function On({isStatic:bt=!1}={}){let Ut=T.fK.spec.nodes;for(const qt of Object.keys(xn)){const Sn=Object.assign({},xn[qt]);bt&&Sn.toDOMStatic&&(Sn.toDOM=Sn.toDOMStatic),delete Sn.toDOMStatic,Ut.get(qt)?Ut=Ut.update(qt,Sn):Ut=Ut.addToEnd(qt,Sn)}return Ut}function pt({isStatic:bt=!1}={}){let Ut=T.fK.spec.marks;for(const qt of Object.keys(ir)){const Sn=Object.assign({},ir[qt]);bt&&Sn.toDOMStatic&&(Sn.toDOM=Sn.toDOMStatic),delete Sn.toDOMStatic,Ut.get(qt)?Ut=Ut.update(qt,Sn):Ut=Ut.addToEnd(qt,Sn)}return Ut}function hn(bt){let Ut=bt;return typeof Ut=="string"&&(Ut=Gn(Ut)),forEachNode(Ut,qt=>{const Sn=proseMirrorTipTapNodeMap.find(at=>at[0]===qt.type);return Sn&&(qt.type=Sn[1],Sn[1]==="orderedList"&&(qt.attrs.start=qt.attrs.order)),qt.marks&&qt.marks.forEach(at=>{const Pt=proseMirrorTipTapMarkMap.find(jt=>jt[0]===at.type);Pt&&(at.type=Pt[1])}),qt}),Ut}function Dn(bt){let Ut=bt;return typeof Ut=="string"&&(Ut=Gn(Ut)),forEachNode(Ut,qt=>{const Sn=proseMirrorTipTapNodeMap.find(at=>at[1]===qt.type);return Sn&&(qt.type=Sn[0],Sn[0]==="ordered_list"&&(qt.attrs.order=qt.attrs.start)),qt.marks&&qt.marks.forEach(at=>{const Pt=proseMirrorTipTapMarkMap.find(jt=>jt[1]===at.type);Pt&&(at.type=Pt[0])}),qt}),Ut}function Gn(bt){bt&&(bt=bt.replace("http://substack-post-media","https://substack-post-media"),bt=bt.replace("http://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984","https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984")),bt=Gt(bt);let Ut;if(bt)try{Ut=JSON.parse(bt)}catch(qt){}return Ut!=null?Ut:void 0}function Kt(bt,{customSchema:Ut,useTiptap:qt,mutateJson:Sn,shouldSetBelowTheFoldAttribute:at=!1,shouldThrowOnInvalid:Pt}={}){try{const jt=Gn(bt)||zt;Sn&&Sn(jt);const vn=so(jt);if(!vn)throw new Error("could not purgeUnsafeLinks");let Pn=vn;return at&&(Pn=Qr(Pn)),qt?Pn=hn(Pn):Pn=Dn(Pn),(Ut||Vn).nodeFromJSON(Pn)}catch(jt){if(console.error("Failed to parse JSON:",jt),Pt)throw new Error(`Failed to parse JSON:  ${jt.message}`);return(Ut||Vn).nodeFromJSON(zt)}}function wt(bt,{runMigrations:Ut=!1}={}){let qt=bt.toJSON();return Ut&&(qt=io(qt),qt=so(qt),qt=Dn(qt)),JSON.stringify(qt)}function Lt(bt,Ut){const qt=document.createElement("div");return qt.appendChild(DOMSerializer.fromSchema(Ut?_t:Vn).serializeFragment([bt],{document})),qt}function mt(bt){return DOMSerializer.renderSpec(document,bt).dom.outerHTML}function Mt(bt){Array.from(bt.querySelectorAll("img")).forEach(qt=>{const Sn=document.createElement("amp-img");Sn.setAttribute("layout","intrinsic"),qt.getAttributeNames().forEach(at=>{at!=="srcset"&&Sn.setAttribute(at,qt.getAttribute(at))}),qt.replaceWith(Sn)})}function Jt(bt,Ut,{isAmp:qt,transform:Sn,useTipTap:at}={}){if(at){const Pn=Gn(bt),Rn=hn(Pn);if(!Rn)throw new Error("could not serialize json doc");return generateHTMLForTipTap({doc:Rn,extensions:getCommonExtensions({isStatic:Ut!=null?Ut:!1}),customDocument:document})}const Pt=Kt(bt,{shouldSetBelowTheFoldAttribute:!0}),jt=DOMSerializer.fromSchema(Ut?_t:Vn),vn=document.createElement("div");return jt.serializeFragment(Pt.content,{document},vn),Sn&&Sn(vn),qt&&Mt(vn),vn.innerHTML}function pn(bt,Ut){return toText(Kt(bt),Ut)}function An(bt){return convertProsemirrorDocToPodcastDescription(Kt(bt))}function Fn(bt,Ut){return extractTags(Kt(bt))}function Un(bt,{stripEmptyParagraphs:Ut}={}){let qt=PMDOMParser.fromSchema(Vn).parse(new DOMParser().parseFromString(bt,"text/html"));return Ut&&(qt=filterChildren(qt,Sn=>!(Sn.type&&Sn.type.name==="paragraph"&&!toText(Sn)))),qt?wt(qt):null}function Gt(bt){return bt&&bt[0]!=="{"&&bt!=="null"?wt(defaultMarkdownParser.parse(bt)):bt}function Zt(bt){var Ut,qt;return bt.body=(Ut=Gt(bt.body))!=null?Ut:null,bt.draft_body=(qt=Gt(bt.draft_body))!=null?qt:null,bt}function _n(bt){var Ut,qt,Sn,at,Pt;return bt.subscribe_content=(Ut=Gt(bt.subscribe_content))!=null?Ut:null,bt.welcome_email_content=(qt=Gt(bt.welcome_email_content))!=null?qt:null,bt.tos_content=(Sn=Gt(bt.tos_content))!=null?Sn:null,bt.privacy_content=(at=Gt(bt.privacy_content))!=null?at:null,bt.disclosures_content=(Pt=Gt(bt.disclosures_content))!=null?Pt:null,bt}function Qn(bt,Ut,{post:qt=null,maxStopAfter:Sn=null,language:at="en"}={}){const{iString:Pt}=I18N.i(at);let jt=(qt==null?void 0:qt.type)==="thread"?145:250;(Sn||Sn===0)&&(jt=Math.min(Sn,jt));const vn=(qt==null?void 0:qt.type)==="thread";let Pn="";if(Ut)Pn+=Ut;else if(jt!==0){const Rn={paragraph:!0,blockquote:!0,list_item:!0,listItem:!0,heading:!0,code_block:!0,codeBlock:!0,hardbreak:!0,hard_break:!0,hardBreak:!0},$n={caption:!0,footnote:!0};forEachNode(typeof bt=="string"?Gn(bt):bt,ar=>{if(jt&&Pn.length>=jt||$n[ar.type])return!1;ar.type==="text"?Pn+=ar.text:Rn[ar.type]&&Pn&&Pn[Pn.length-1]!==" "?Pn+=" ":ar.type==="substack_mentions"&&(Pn+=ar.attrs.name)})}if(Pn=Pn.replace(/\s+/g," ").trim(),vn&&jt&&Pn.length>=jt&&(Pn=truncateText(Pn,jt)),(qt==null?void 0:qt.type)==="podcast"||(qt==null?void 0:qt.type)==="video"){const Rn=getMediaDuration(qt);Pn=`${(qt==null?void 0:qt.type)==="video"?Pt("Watch now"):Pt("Listen now")} ${Rn?`(${secondsToLargestUnit(Rn,{minutesCutoff:10800,language:at})}) `:""}| ${Pn}`}return Pn}function At(bt,Ut){return Mn(bt,Ut)[0]}function fn(bt){const Ut=Gn(bt);return Ut?uniq(findNodes(Ut,qt=>{var Sn;return $t[(Sn=qt.type)!=null?Sn:""]}).map(qt=>{var Sn;return imginary($t[(Sn=qt.type)!=null?Sn:""](qt))}).filter(qt=>qt)):[]}function gn(bt){const Ut=fn(bt);return Ut.length>0?Ut[0]:null}function Mn(bt,Ut){const qt=[];"podcast_episode_image_info"in Ut&&Ut.podcast_episode_image_info&&!Ut.podcast_episode_image_info.isDefaultArt&&qt.unshift(Ut.podcast_episode_image_info.url),qt.unshift(...fn(bt));const Sn=Ut.videoUpload||Ut.draftVideoUpload;if((Sn==null?void 0:Sn.state)==="transcoded"){const at=getMediaUploadThumbnailUrl(Sn);at&&qt.unshift(at)}return Ut.podcast_art_url&&qt.unshift(Ut.podcast_art_url),qt}function Wn(bt){return bt?(bt=bt.replace(/\/l_twitter_play_button_rvaygk[^\/]+/g,""),(0,k.imginary)(bt,void 0,{height:600})):null}function rr(bt){forEachNode(bt,Ut=>Ut.type!=="button"?!1:(Ut.attrs.url&&typeof Ut.attrs.url=="string"&&Ut.attrs.url.startsWith("%%")&&(Ut.attrs.action=Ut.attrs.url.replace(/%%/g,"")),!0),{nodeTypes:"button"})}function Zn(bt){let Ut=bt;if(typeof Ut=="string"){const Sn=Gn(Ut);if(Sn)Ut=Sn;else return[]}rr(Ut);const qt=[];return forEachNode(Ut,Sn=>{if(Sn.type==="button"&&Sn.attrs.url&&!Sn.attrs.action)qt.push({text:Sn.attrs.text,url:Sn.attrs.url});else if(Sn.marks){for(const at of Sn.marks)if(at.type==="link"&&at.attrs.href){qt.push({text:Sn.text,url:at.attrs.href});break}}}),qt}function ur(bt){let Ut=bt;if(typeof Ut=="string"){const Sn=Gn(Ut);if(Sn)Ut=Sn;else return!1}return!!findNode(Ut,Sn=>{var at;return Sn.type==="templateComment"||((at=Sn.type)==null?void 0:at.name)==="templateComment"})}function Ar(bt){let Ut=bt;if(typeof Ut=="string"){const Sn=Gn(Ut);if(Sn)Ut=Sn;else return!1}return!!findNode(Ut,Sn=>{var at,Pt,jt,vn,Pn,Rn;for(const $n of["href","src","url"])if((Pn=(jt=(Pt=(at=Sn==null?void 0:Sn.attrs)==null?void 0:at[$n])==null?void 0:Pt.trim)==null?void 0:(vn=jt.call(Pt)).toLowerCase)!=null&&Pn.call(vn).startsWith("javascript:")||(Rn=Sn==null?void 0:Sn.marks)!=null&&Rn.find(ar=>{var lr,sr,fr,gr,Sr;return(Sr=(fr=(sr=(lr=ar.attrs)==null?void 0:lr[$n])==null?void 0:sr.trim)==null?void 0:(gr=fr.call(sr)).toLowerCase)==null?void 0:Sr.call(gr).startsWith("javascript:")}))return!0})}function so(bt){let Ut=bt;if(typeof Ut=="string"){const Sn=Gn(Ut);if(Sn)Ut=Sn;else return null}return filterChildren(Ut,Sn=>{var at,Pt,jt,vn,Pn,Rn;for(const $n of["href","src","url"])if((Pn=(jt=(Pt=(at=Sn==null?void 0:Sn.attrs)==null?void 0:at[$n])==null?void 0:Pt.trim)==null?void 0:(vn=jt.call(Pt)).toLowerCase)!=null&&Pn.call(vn).startsWith("javascript:")||(Rn=Sn==null?void 0:Sn.marks)!=null&&Rn.find(ar=>{var lr,sr,fr,gr,Sr;return(Sr=(fr=(sr=(lr=ar.attrs)==null?void 0:lr[$n])==null?void 0:sr.trim)==null?void 0:(gr=fr.call(sr)).toLowerCase)==null?void 0:Sr.call(gr).startsWith("javascript:")}))return!1;return!0})}function io(bt){const Ut=typeof bt=="string"?Gn(bt):bt;return forEachNode(Ut,qt=>{qt.text=stripInvalidBytes(qt.text)},{nodeTypes:["text"]}),Ut}function Qr(bt,Ut=8){const qt=typeof bt=="string"?Gn(bt):bt;if(!qt)return;let Sn=!1;return qt.type==="doc"&&qt.content&&qt.content.map((at,Pt)=>{Pt>Ut?forEachNode(at,jt=>{!jt.content&&jt.attrs&&(jt.attrs.belowTheFold=!0)}):Sn||forEachNode(at,jt=>{!jt.content&&(jt==null?void 0:jt.type)=="image2"&&jt.attrs&&(jt.attrs.topImage=!0,Sn=!0)})}),qt}function Eo(bt){try{return JSON.parse(bt),An(bt)}catch(Ut){return bt}}function So(bt,{body:Ut,hasPodcastPreview:qt}){if(!bt||!Ut)return null;let Sn=Ut;if(qt){const{truncatePrivateDocument:at}=e(31067),Pt=at(Gn(Ut),{maxLength:bt.post_preview_limit?bt.post_preview_limit:356});Sn=JSON.stringify(Pt)}return An(Sn)}function Wt(bt){return wt(Vn.node("doc",null,bt.split(`
`).map(Ut=>Ut.trim()).filter(Ut=>Ut.length>0).map(Ut=>{const qt=[],Sn=parseValidLinks(Ut);if(Sn.length>0){let at=Ut;for(;;){const Pt=Sn.map(Pn=>[at.indexOf(Pn.value),Pn.value]).sort().find(([Pn])=>Pn>=0);if(!Pt)break;const[jt,vn]=Pt;jt>0&&qt.push(Vn.text(at.substring(0,jt))),qt.push(Vn.text(vn,[Vn.marks.link.create({title:vn,href:vn,target:"_blank"})])),at=at.substring(jt+vn.length)}at&&qt.push(Vn.text(at))}else qt.push(Vn.text(Ut));return Vn.node("paragraph",null,qt)})))}function jn(bt){let Ut=bt;if(typeof bt=="string"){const qt=Gn(bt);if(qt)Ut=qt;else return!1}return hasExplicitPaywallJSON(Ut)}},24440:(K,f,e)=>{"use strict";e.d(f,{$p:()=>P,$y:()=>v,Dy:()=>g});var t=e(85928),a=e.n(t),i=e(20501),c=e(83813),p=(D,y,M)=>new Promise((T,R)=>{var F=V=>{try{U(M.next(V))}catch(W){R(W)}},N=V=>{try{U(M.throw(V))}catch(W){R(W)}},U=V=>V.done?T(V.value):Promise.resolve(V.value).then(F,N);U((M=M.apply(D,y)).next())});const l=/[@#][\w.]+|\n/g,v={attrs:{instagram_id:{},title:{},author_name:{},thumbnail_url:{default:""},timestamp:{},belowTheFold:{default:!1}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.instagram",getAttrs:c.YX}],toDOM:D=>{const y=document.createElement("div");y.className="instagram",y.setAttribute("data-attrs",JSON.stringify(D.attrs)),y.setAttribute("data-component-name","InstagramToDOM");const M=document.createElement("div");M.className="instagram-top-bar",y.appendChild(M);const T=document.createElement("a");T.className="instagram-author-name",T.href=u(D.attrs.author_name),T.target="_blank",T.textContent=D.attrs.author_name,M.appendChild(T);const R=document.createElement("a");R.className="instagram-image",R.href=O(D.attrs.instagram_id),R.target="_blank",y.appendChild(R);const F=document.createElement("img");F.src=(0,i.imginary)(D.attrs.thumbnail_url,640),D.attrs.belowTheFold&&F.setAttribute("loading","lazy"),R.appendChild(F);const N=document.createElement("div");N.className="instagram-bottom-bar",y.appendChild(N);const U=document.createElement("div");if(U.className="instagram-title",C(D.attrs.title,U),N.appendChild(U),D.attrs.timestamp){const V=document.createElement("div");V.className="instagram-timestamp",V.textContent=a()(D.attrs.timestamp).format("MMMM D, YYYY"),N.appendChild(V)}return y}},_=(0,c.Se)({name:"instagram",nodeSpec:v,addCommands(){return{insertInstagram:D=>({commands:y})=>y.insertContent({type:this.name,attrs:D})}}}),g=(D,{customSchema:y}={})=>y&&!y.nodes.instagram?null:x(D)[1],E=(D,{customSchema:y}={})=>y&&!y.nodes.instagram?!1:S(D)!==null,S=D=>x(D)[0],O=D=>`https://instagram.com/p/${D}`,A=(D,{imageSize:y="l"}={})=>`https://instagram.com/p/${D}/media/?size=${y}`,u=D=>`https://instagram.com/${D}`,o=(D,{height:y=120,width:M=120}={})=>`${CDN_URL}/image/instagram_name/w_${M},h_${y},c_fill/${D}.jpg`,s=D=>`https://instagram.com/explore/tags/${D.substr(1)}/`,w=D=>p(void 0,null,function*(){return(yield e(80569).get(`/api/v1/instagram/post/${S(D)}`)).body}),P=(D,...y)=>p(void 0,[D,...y],function*(M,{customSchema:T}={}){return(T||e(71565).fK).nodes.instagram.create(yield w(M))});function C(D,y){if(!D)return;let M=0,T,R;for(;T=l.exec(D);)switch(M<T.index&&y.appendChild(document.createTextNode(D.substring(M,T.index))),M=T.index+T[0].length,T[0][0]){case`
`:y.appendChild(document.createElement("br"));break;case"@":R=document.createElement("a"),R.href=u(T[0].substr(1)),R.target="_blank",R.textContent=T[0],y.appendChild(R);break;case"#":R=document.createElement("a"),R.href=s(T[0]),R.target="_blank",R.textContent=T[0],y.appendChild(R);break;default:y.appendChild(document.createTextNode(T[0]))}M<D.length&&y.appendChild(document.createTextNode(D.substr(M)))}const x=D=>{const y=/(https?:\/\/(?:www\.)?(?:instagram\.com|instagr\.am)\/(?:p|reel|reels)\/([^\/\b\s\?\#]+)[^\s]*)/.exec(D);return y?[y[2],y[1]]:[null,null]}},19073:(K,f,e)=>{"use strict";e.d(f,{$:()=>c});var t=e(15045),a=e(83813);const i=l=>(0,t.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"author-post-insert",utm_source:l}),c={attrs:{logo_url:{default:null},publication_name:{default:null},publication_subdomain:{default:null},author_name:{default:null},language:{default:"en"}},inline:!1,atom:!0,group:"block",draggable:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.install-substack-app-embed"}],toDOM:l=>{const{logo_url:v,publication_name:_,publication_subdomain:g,author_name:E,language:S}=l.attrs,{iString:O,iTemplate:A}=I18N.i(S);return["div",{class:"install-substack-app-embed","data-component-name":"InstallSubstackAppToDOM"},["img",{class:"install-substack-app-embed-img",src:(0,t.imginary)(v)}],["div",{class:"install-substack-app-embed-text"},["div",{class:"install-substack-app-header"},A`${E?`Get more from ${E}`:`Read ${_}`} in the Substack app`],["div",{class:"install-substack-app-text"},O("Available for iOS and Android")]],["a",{href:i(g),target:"_blank",class:"install-substack-app-embed-link"},["button",{class:"install-substack-app-embed-btn button primary"},O("Get the app")]]]},toDOMStatic:l=>{const{logo_url:v,publication_name:_,publication_subdomain:g,author_name:E,language:S}=l.attrs,{iString:O,iTemplate:A}=I18N.i(S);return["div",{class:"install-substack-app-embed","data-component-name":"InstallSubstackAppToDOMStatic"},["table",{class:"install-substack-embed-table"},["tr",{},["td",{rowspan:2},["img",{class:"install-substack-app-embed-img",src:(0,t.imginary)(v),width:64,height:64}]],["td",{class:"install-substack-app-header"},A`${E?`Get more from ${E}`:`Read ${_}`} in the Substack app`]],["tr",{},["td",{class:"install-substack-app-text"},O("Available for iOS and Android")]],["tr",{},["td",{colspan:2},["a",{href:i(g),target:"_blank",class:"install-substack-app-embed-link"},["button",{class:"install-substack-app-embed-btn button primary"},O("Get the app")]]]]]]}},p=(0,a.Se)({name:"install_substack_app",nodeSpec:c,addCommands(){return{insertInstallSubstackAppEmbed:l=>({commands:v})=>{const _=(0,t.getBaseUrl)(l),g={logo_url:l.logo_url||`${_}/img/substack.png`,publication_name:l.name,language:l.language,author_name:l.author_name,publication_subdomain:l.subdomain};return v.insertContent({type:this.name,attrs:g})}}}})},57670:(K,f,e)=>{"use strict";e.d(f,{$y:()=>_,aI:()=>A,lA:()=>E});var t=e(15045),a=e(83813),i=(s,w,P)=>new Promise((C,x)=>{var D=T=>{try{M(P.next(T))}catch(R){x(R)}},y=T=>{try{M(P.throw(T))}catch(R){x(R)}},M=T=>T.done?C(T.value):Promise.resolve(T.value).then(D,y);M((P=P.apply(s,w)).next())});const c=/https?:\/\/read\.amazon(?:\.co)?\.[a-z]+\/kp\/(?:embed|card)\?asin=([^&#\s\b'"]+)[^\b\s'"]*/i,l=[new RegExp(`<iframe[^>]+src="${c.source}"[^>]*><\\/iframe>`,"i"),c],v=200,_={attrs:{kindleId:{},imageUrl:{}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"div.kindle-wrap",getAttrs:a.YX}],toDOM:s=>{const w=u(s.attrs.kindleId);return["div",{class:"kindle-wrap","data-attrs":JSON.stringify(s.attrs),"data-component-name":"KindleToDOM"},["iframe",{src:w,frameborder:"0",gesture:"media",allow:"autoplay; fullscreen",allowautoplay:"true",allowfullscreen:"true"}]]},toDOMStatic:s=>["table",{class:"kindle-wrapper",width:"100%",border:"0",cellSpacing:"0",cellPadding:"0","data-component-name":"KindleToDOMStatic"},["tr",{},["td"],["td",{align:"left",class:"content",width:v},["a",{class:"image-link",target:"_blank",href:o(s.attrs.kindleId)},["img",{"data-attrs":JSON.stringify(s.attrs),alt:"",width:`${v}`,class:"wide-image",src:(0,t.imginary)(s.attrs.imageUrl,v*2)}]]],["td"]]]},g=(0,a.Se)({name:"kindle",nodeSpec:_,addCommands(){return{insertKindle:s=>({commands:w})=>w.insertContent({type:this.name,attrs:s})}}}),E=s=>{for(const w of l){const P=w.exec(s);if(P)return P[0]}return null},S=s=>{for(const w of l){const P=w.exec(s);if(P)return P[1]}return null},O=s=>i(void 0,null,function*(){return(yield e(80569).get("/api/v1/kindle").query({embedText:s})).body}),A=(s,...w)=>i(void 0,[s,...w],function*(P,{customSchema:C}={}){return(C||e(71565).fK).nodes.kindle.create(yield O(P))}),u=s=>(0,t.pathWithQuery)("https://read.amazon.com/kp/card",{asin:s,preview:"inline",linkCode:"kpe",hideShare:"true"}),o=s=>`https://www.amazon.com/gp/product/${s}/`},2781:(K,f,e)=>{"use strict";e.r(f),e.d(f,{LatexBlockTipTap:()=>u,LatexView:()=>s,createLatexNode:()=>o,generateId:()=>O,nodeSpec:()=>A});var t=e(24706),a=e(83813),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(w,P,C)=>P in w?i(w,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[P]=C,E=(w,P)=>{for(var C in P||(P={}))v.call(P,C)&&g(w,C,P[C]);if(l)for(var C of l(P))_.call(P,C)&&g(w,C,P[C]);return w},S=(w,P)=>c(w,p(P));const O=()=>{let w="";const P="ABCDEFGHIJKLMNOPQRSTUVWXYZ",C=P.length;for(let x=0;x<10;x++)w+=P.charAt(Math.floor(Math.random()*C));return w},A={content:"text*",group:"block",code:!0,defining:!0,isolating:!0,attrs:{persistentExpression:"",id:""},parseDOM:[{tag:"pre.text",preserveWhitespace:"full",priority:60},{tag:"div.latexWrapper",getAttrs:a.YX}],toDOM:w=>["div",{class:"latex-rendered","data-attrs":JSON.stringify(E({},w.attrs)),"data-component-name":"LatexBlockToDOM"}],toDOMStatic:w=>["div",{class:"latex-rendered","data-attrs":JSON.stringify(S(E({},w.attrs),{isEmail:!0})),"data-component-name":"LatexBlockToDOMStatic"}]},u=(0,a.Se)({name:"latex_block",nodeSpec:A,addCommands(){return{insertLatex:w=>({commands:P})=>P.insertContent({type:this.name,attrs:w})}},addNodeView(){const{LatexComponent:w}=e(85103);return(0,t.fW)(w)}}),o=w=>{const{render:P,h:C}=e(6400),{LatexComponent:x}=e(85103),D=document.createElement("span");D.className="latex-rendered";const y=O(),M=w==null?void 0:w.attrs.persistentExpression;return P(C(x,{persistentExpression:M,node:w,id:y}),D),D};class s{constructor(P){P.updateExpression=C=>{P.attrs=S(E({},P.attrs),{persistentExpression:C}),P.attrs.dirty=!0},this.dom=o(P)}}},46953:(K,f,e)=>{"use strict";e.d(f,{$1:()=>A,$y:()=>c,CA:()=>v,Ee:()=>E});var t=e(15045),a=e(83813),i=(u,o,s)=>new Promise((w,P)=>{var C=y=>{try{D(s.next(y))}catch(M){P(M)}},x=y=>{try{D(s.throw(y))}catch(M){P(M)}},D=y=>y.done?w(y.value):Promise.resolve(y.value).then(C,x);D((s=s.apply(u,o)).next())});const c={attrs:{url:{},thumbnail_url:""},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"div.lichess-wrap",getAttrs:a.YX}],toDOM:u=>O(u),toDOMStatic:u=>S(u)},p=(0,a.Se)({name:"lichess",nodeSpec:c,addCommands(){return{insertLichess:u=>({commands:o})=>o.insertContent({type:this.name,attrs:u})}}}),l=/^.*(https?\:\/\/(\S+)?(?:(.?lichess.org\/.*).*)).*$/,v=u=>{const o=l.exec(u);return o&&o[0]},_=u=>v(u)!==null,g=u=>i(void 0,null,function*(){return(yield e(80569).get("/api/v1/lichess-embed").query({url:u.trim()})).body}),E=(u,...o)=>i(void 0,[u,...o],function*(s,{customSchema:w}={}){return(w||e(71565).fK).nodes.lichess.create(yield g(s))}),S=(u,{}={})=>{const o=document.createElement("div");o.className="lichess-wrap static",o.setAttribute("data-component-name","LichessToDOMStatic");const s=u.attrs.thumbnail_url,w=document.createElement("a");w.href=u.attrs.url.replace(/embed\//,""),w.setAttribute("target","_blank");const P=document.createElement("img");return P.className="lichess-wrap thumbnail",P.src=(0,t.imginary)(u.attrs.thumbnail_url,640),P.style.backgroundImage=`url(${u.attrs.thumbnail_url})`,u.attrs.belowTheFold&&P.setAttribute("loading","lazy"),w.append(P),o.appendChild(w),o},O=u=>{const o=document.createElement("div");o.id="lichess-iframe",o.className="lichess-wrap outer",o.dataset.attrs=JSON.stringify(u.attrs),o.setAttribute("data-component-name","LichessToDOM");const s=document.createElement("iframe");return s.id="iframe-lichess",s.className="lichess-iframe",s.src=u.attrs.url,s.width="560",s.height="405px",s.frameBorder="0",u.attrs.belowTheFold&&s.setAttribute("loading","lazy"),o.appendChild(s),o};class A{constructor(o){const s=O(o),w=s.querySelector(".lichess-iframe"),P=document.createElement("div");P.className="lichess-screen",P.addEventListener("dblclick",()=>{P.classList.add("sunken"),w.focus()}),w.addEventListener("blur",()=>{P.classList.remove("sunken")}),s.appendChild(P),this.dom=s}}},30788:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={attrs:{name:{},avatarUrl:{},url:{},isEditorNode:{}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.meeting-embed",getAttrs:t.YX}],toDOM:p=>{if(typeof window!="undefined"&&p.attrs.isEditorNode){const{render:l,h:v}=e(6400),{MeetingEmbed:_}=e(54853),g=document.createElement("div");return g.className="meeting-embed",g.setAttribute("data-attrs",JSON.stringify(p.attrs)),l(v(_,{name:p.attrs.name,avatarUrl:p.attrs.avatarUrl,url:p.attrs.url}),g),g}return c(p)},toDOMStatic:p=>c(p)},i=(0,t.Se)({name:"meeting",nodeSpec:a}),c=p=>["div",{class:"meeting-embed","data-attrs":JSON.stringify(p.attrs),"data-component-name":"MeetingPlaceholder"}]},90549:(K,f,e)=>{"use strict";e.d(f,{$:()=>S});var t=e(83813),a=Object.defineProperty,i=Object.defineProperties,c=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?a(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A},E=(A,u)=>i(A,c(u));const S={attrs:{name:{},id:{},type:{},url:{},photo_url:{},uuid:{}},atom:!0,editable:!1,selectable:!0,isolating:!1,defining:!0,draggable:!1,inline:!0,group:"inline",parseDOM:[{tag:".mention-wrap",getAttrs:A=>{try{return JSON.parse(A.getElementsByTagName("a")[0].getAttribute("data-attrs"))}catch(u){return!1}}}],toDOM:A=>{var u;if(typeof window!="undefined"){const{render:o,h:s}=e(6400),w=e(86602),P=document.createElement("span");return P.className="mention-wrap",P.setAttribute("data-attrs",JSON.stringify(A.attrs)),o(s(w.default,{name:((u=A.attrs.name)==null?void 0:u.trim())||"",id:A.attrs.id||null,type:A.attrs.type||null,url:A.attrs.url||null,photo_url:A.attrs.photo_url||null,uuid:A.attrs.uuid||null,isEditorContext:!0}),P),P}return["span",{class:"mention-wrap","data-attrs":JSON.stringify(A.attrs),"data-component-name":"MentionToDOM"}]},toDOMStatic:A=>["span",{class:"mention-wrap","data-attrs":JSON.stringify(E(g({},A.attrs),{isStatic:!0})),"data-component-name":"MentionToDOMStatic"}]},O=(0,t.Se)({name:"substack_mentions",nodeSpec:S})},18480:(K,f,e)=>{"use strict";e.d(f,{$y:()=>v,YT:()=>s,vt:()=>O,zb:()=>w});var t=e(80569),a=e.n(t),i=e(15045),c=e(83322),p=e(83813),l=(P,C,x)=>new Promise((D,y)=>{var M=F=>{try{R(x.next(F))}catch(N){y(N)}},T=F=>{try{R(x.throw(F))}catch(N){y(N)}},R=F=>F.done?D(F.value):Promise.resolve(F.value).then(M,T);R((x=x.apply(P,C)).next())});const v={attrs:{collection:{},collection_slug:{},creator:{},description:{},image_url:{},name:{},animation_url:{},nft_logo_url:{},permalink:{},youtube_url:{default:null},belowTheFold:{default:!1}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.opensea",getAttrs:p.YX}],toDOMStatic:A,toDOM:u},_=(0,p.Se)({name:"opensea",nodeSpec:v,addCommands(){return{insertOpensea:P=>({commands:C})=>C.insertContent({type:this.name,attrs:P})}}}),g=P=>{var C,x,D;return(D=(x=(C=(0,i.parseUrl)(P))==null?void 0:C.pathname.match(/assets\/(ethereum\/)?(.+)/))==null?void 0:x[2])==null?void 0:D.split("/")[0]},E=P=>{var C,x,D;return(D=(x=(C=(0,i.parseUrl)(P))==null?void 0:C.pathname.match(/assets\/(ethereum\/)?(.+)/))==null?void 0:x[2])==null?void 0:D.split("/")[1]},S=P=>l(void 0,null,function*(){return(yield a().get("/api/v1/opensea").query({contract:g(P),token_id:E(P)})).body}),O=(P,...C)=>l(void 0,[P,...C],function*(x,{customSchema:D}={}){return(D||e(71565).fK).nodes.opensea.create(yield S(x))});function A(P){const C=document.createElement("div");C.className="opensea static",C.setAttribute("data-component-name","OpenseaToDOMStatic");const x=document.createElement("table");x.className="opensea-header-table";const D=document.createElement("tr");D.className="opensea-header-row";const y=document.createElement("tr"),M=document.createElement("td"),T=document.createElement("a");T.className="opensea-title",P.attrs.permalink&&T.setAttribute("href",P.attrs.permalink),T.textContent=P.attrs.name,M.appendChild(T),y.appendChild(T);const R=document.createElement("tr"),F=document.createElement("td"),N=document.createElement("a");N.className="opensea-collection",P.attrs.collection_slug&&N.setAttribute("href",`https://opensea.io/collection/${P.attrs.collection_slug}`),N.textContent=(0,c.truncateText)(P.attrs.collection,50),F.appendChild(N),R.appendChild(F);const U=document.createElement("td"),V=document.createElement("table");U.className="opensea-masthead",V.appendChild(y),V.appendChild(R),U.appendChild(V);const W=document.createElement("td");W.className="nft-logo";const L=document.createElement("a"),k=document.createElement("img");P.attrs.nft_logo_url&&k.setAttribute("src",(0,i.imginary)(P.attrs.nft_logo_url)),P.attrs.permalink&&L.setAttribute("href",P.attrs.permalink),P.attrs.belowTheFold&&L.setAttribute("loading","lazy"),L.appendChild(k),W.appendChild(L),D.appendChild(U),D.appendChild(W),x.appendChild(D);const H=document.createElement("a");P.attrs.permalink&&H.setAttribute("href",P.attrs.permalink);const G=document.createElement("img");G.className="opensea-image",P.attrs.image_url&&G.setAttribute("src",(0,i.imginary)(P.attrs.image_url,600,{crop:"fill"})),G.setAttribute("alt",P.attrs.name),G.setAttribute("width","500"),P.attrs.belowTheFold&&G.setAttribute("loading","lazy"),H.appendChild(G);const q=document.createElement("table");q.className="opensea-footer-table";const z=document.createElement("tr"),ee=document.createElement("td");ee.className="opensea-description",ee.textContent=(0,c.truncateText)(P.attrs.description,200),z.appendChild(ee);const $=document.createElement("tr"),J=document.createElement("td"),j=document.createElement("a");J.className="opensea-creator",P.attrs.creator&&j.setAttribute("href",`https://opensea.io/${P.attrs.creator}?tab=created`),j.textContent=`Created by ${(0,c.truncateText)(P.attrs.creator,50)}`,J.appendChild(j),$.appendChild(J);const Z=document.createElement("tr"),ne=document.createElement("td"),ie=document.createElement("a"),oe=document.createElement("table"),re=document.createElement("tr"),ae=document.createElement("td");return ie.className="opensea-cta-link",P.attrs.permalink&&ie.setAttribute("href",P.attrs.permalink),oe.setAttribute("cellspacing","16"),oe.className="opensea-cta-table",ae.className="opensea-cta",ae.textContent="View on OpenSea",re.appendChild(ae),oe.appendChild(re),ie.appendChild(oe),ne.appendChild(ie),Z.appendChild(ne),P.attrs.description&&q.appendChild(z),q.appendChild($),q.appendChild(Z),C.appendChild(x),C.appendChild(H),C.appendChild(q),C.querySelectorAll&&Array.prototype.forEach.call(C.querySelectorAll("a"),se=>{se.target="_blank"}),C}function u(P){const C=document.createElement("div");C.className="opensea",C.setAttribute("data-component-name","OpenseaToDOM");const x=document.createElement("a");x.className="opensea-title",P.attrs.permalink&&x.setAttribute("href",P.attrs.permalink),x.textContent=P.attrs.name;const D=document.createElement("a");D.className="opensea-collection",P.attrs.collection_slug&&D.setAttribute("href",`https://opensea.io/collection/${P.attrs.collection_slug}`),D.textContent=(0,c.truncateText)(P.attrs.collection,50);const y=document.createElement("div");y.className="opensea-masthead",y.appendChild(x),y.appendChild(D);const M=document.createElement("a");P.attrs.permalink&&M.setAttribute("href",P.attrs.permalink);const T=document.createElement("img");P.attrs.nft_logo_url&&T.setAttribute("src",(0,i.imginary)(P.attrs.nft_logo_url)),P.attrs.belowTheFold&&T.setAttribute("loading","lazy"),M.appendChild(T);const R=document.createElement("div");R.className="opensea-header",R.appendChild(y),R.appendChild(M);const F=document.createElement("a");P.attrs.permalink&&F.setAttribute("href",P.attrs.permalink),F.className="opensea-media-link";let N,U;const V=["gltf","glb","webm","mp4","m4v","ogv","ogg"],L=["mp3","wav","oga"].some(j=>{var Z;return(Z=P.attrs.animation_url)==null?void 0:Z.endsWith(j)}),k=V.some(j=>{var Z;return(Z=P.attrs.animation_url)==null?void 0:Z.endsWith(j)}),H=!P.attrs.animation_url,G=P.attrs.animation_url&&!L&&!k;(H||L||G||P.attrs.youtube_url)&&(U=document.createElement("img"),U.className="opensea-image",P.attrs.image_url&&U.setAttribute("src",(0,i.imginary)(P.attrs.image_url,600,{crop:"fill"})),P.attrs.belowTheFold&&U.setAttribute("loading","lazy"),U.setAttribute("alt",P.attrs.name),F.appendChild(U)),(L||k)&&(N=document.createElement(L?"audio":"video"),N.className="opensea-player",N.setAttribute("controls",!0),N.setAttribute("loop",!0),N.setAttribute("src",P.attrs.animation_url),N.setAttribute("alt","OpenSea NFT media"),P.attrs.belowTheFold&&N.setAttribute("loading","lazy")),U&&F.appendChild(U),N&&F.appendChild(N);const z=document.createElement("div");z.className="opensea-description",z.textContent=(0,c.truncateText)(P.attrs.description,200);const ee=document.createElement("a");ee.className="opensea-creator",P.attrs.creator&&ee.setAttribute("href",`https://opensea.io/${P.attrs.creator}?tab=created`),ee.textContent=`Created by ${(0,c.truncateText)(P.attrs.creator,50)}`;const $=document.createElement("a");$.className="opensea-cta",P.attrs.permalink&&$.setAttribute("href",P.attrs.permalink),$.textContent="View on OpenSea";const J=document.createElement("div");return J.className="opensea-footer",P.attrs.description&&J.appendChild(z),J.appendChild(ee),J.appendChild($),C.appendChild(R),C.appendChild(F),C.appendChild(J),C.querySelectorAll&&Array.prototype.forEach.call(C.querySelectorAll("a"),j=>{j.target="_blank"}),C}const o=/^https:\/\/opensea.io\/assets\/.+/,s=P=>{const C=o.exec(P);return C&&C[0]},w=P=>s(P)!==null},83245:(K,f,e)=>{"use strict";e.r(f),e.d(f,{PaywallTipTap:()=>l,PaywallView:()=>p,nodeSpec:()=>i});var t=e(5865),a=e(24706);const i={attrs:{},inline:!1,group:"block",atom:!0,selectable:!0,isolating:!1,defining:!1,draggable:!0,parseDOM:[{tag:".paywall-jump"}],toDOM:()=>["div",{class:"paywall-jump","data-component-name":"PaywallToDOM"}]},c=`
<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.75439 4.33398V14.834" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.50439 9.58398L8.7544 14.834L14.0044 9.58398" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`;class p{constructor(){const _=document.createElement("div");_.className="paywall-editor",_.appendChild(document.createElement("hr"));const g=document.createElement("div");g.className="paywall-editor-pill";const E=document.createElement("span");E.innerText="Paid content below this line";const S=document.createElement("div");S.className="paywall-editor-pill-icon-container",S.innerHTML=c,g.appendChild(E),g.appendChild(S),_.appendChild(g),_.appendChild(document.createElement("hr")),this.dom=_}}const l=t.NB.create({name:"paywall",addOptions(){return{isStatic:!1}},inline:!1,group:"block",selectable:!0,isolating:!1,defining:!1,draggable:!0,parseHTML(){return[{tag:"paywall"}]},renderHTML(){return["div",{class:"paywall-jump","data-component-name":"PaywallToDOM"}]},addCommands(){return{addPaywallAtStartEditorV2:()=>({commands:v,editor:_})=>{var g,E,S,O;const A=(((O=(S=(E=(g=_.view.state.doc.content)==null?void 0:g.content)==null?void 0:E[0])==null?void 0:S.content)==null?void 0:O.size)||0)+1;return v.insertContentAt(A,{type:this.name},{updateSelection:!1})},addPaywallEditorV2:()=>({commands:v})=>v.insertContent({type:this.name}),addPaywall:()=>({commands:v})=>v.addPaywallEditorV2?v.addPaywallEditorV2():!1,removePaywall:()=>({chain:v,editor:_})=>{if(_.view.state){const{tr:g}=this.editor.view.state;let E=0;return g.doc.descendants((S,O)=>S.type.name===this.name?(E=O,!1):!0),v().setNodeSelection(E).deleteSelection().run(),!0}return!1}}},addNodeView(){const{PaywallBreak:v}=e(8383);return(0,a.fW)(v)}})},69618:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(24706),a=e(68135),i=e(83813),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))_.call(w,P)&&E(s,P,w[P]);if(v)for(var P of v(w))g.call(w,P)&&E(s,P,w[P]);return s},O=(s,w)=>p(s,l(w));class A extends a.El{get EmbedClass(){return u}}class u extends a.ZP{static get NodeView(){return A}}u.substackType="pdf",u.supportedMimeTypes=[{name:"application/pdf",signature:[[37,80,68,70]]}],u.actionButtonText="Download";const o=(0,i.Se)({name:"pdf",nodeSpec:O(S({},u.nodeSpec),{selectable:!0}),addCommands(){return{insertPdf:s=>({commands:w})=>w.insertContent({type:this.name,attrs:s})}},addNodeView(){const{FileEditor:s}=e(21138);return(0,t.fW)(s)}})},47291:(K,f,e)=>{"use strict";e.d(f,{$:()=>g});var t=e(83813),a=Object.defineProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(S,O,A)=>O in S?a(S,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):S[O]=A,v=(S,O)=>{for(var A in O||(O={}))c.call(O,A)&&l(S,A,O[A]);if(i)for(var A of i(O))p.call(O,A)&&l(S,A,O[A]);return S};const _="poll-embed",g={attrs:{id:{}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:_,getAttrs:t.YX}],toDOM:S=>{if(typeof window!="undefined"){const{render:O,h:A}=e(6400),u=document.createElement("div");u.setAttribute("data-attrs",JSON.stringify(S.attrs)),u.className=_;const{Poll:o}=e(85905);return O(A(o,{id:S.attrs.id,isEditor:!0}),u),u}return["div",{class:_,"data-attrs":JSON.stringify(S.attrs),"data-component-name":"PollToDOM"}]},toDOMStatic:S=>["div",{class:_,"data-attrs":JSON.stringify(v({isEmail:!0},S.attrs)),"data-component-name":"PollToDOMStatic"}]},E=(0,t.Se)({name:"poll",nodeSpec:g,addCommands(){return{insertPoll:S=>({commands:O})=>O.insertContent({type:this.name,attrs:S})}}})},29808:(K,f,e)=>{"use strict";e.d(f,{$y:()=>c,Gd:()=>_,eC:()=>u,sv:()=>S});var t=e(15045),a=e(83813),i=(o,s,w)=>new Promise((P,C)=>{var x=M=>{try{y(w.next(M))}catch(T){C(T)}},D=M=>{try{y(w.throw(M))}catch(T){C(T)}},y=M=>M.done?P(M.value):Promise.resolve(M.value).then(x,D);y((w=w.apply(o,s)).next())});const c={attrs:{url:{},thumbnail_url:""},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"div.prediction-market-wrap",getAttrs:a.YX}],toDOM:o=>A(o),toDOMStatic:o=>O(o)},p=(0,a.Se)({name:"prediction_market",nodeSpec:c,addCommands(){return{insertPredictionMarket:o=>({commands:s})=>s.insertContent({type:this.name,attrs:o})}}}),l=(0,a.Se)({name:"manifold",nodeSpec:c}),v=/^.*(https?\:\/\/(\S+)?(?:(.?manifold.markets|metaculus.com\/questions\/.*\/).*)).*$/,_=o=>{const s=v.exec(o);return s&&s[0]},g=o=>_(o)!==null,E=o=>i(void 0,null,function*(){return(yield e(80569).get("/api/v1/prediction-embed").query({url:o.trim()})).body}),S=(o,...s)=>i(void 0,[o,...s],function*(w,{customSchema:P}={}){return(P||e(71565).fK).nodes.prediction_market.create(yield E(w))}),O=(o,{}={})=>{const s=document.createElement("div");s.className="prediction-market-wrap static",s.setAttribute("data-component-name","PredictionMarketToDOMStatic");const w=o.attrs.thumbnail_url,P=document.createElement("a");P.href=o.attrs.url.replace(/embed\//,""),P.setAttribute("target","_blank");const C=document.createElement("img");return C.className="prediction-market thumbnail",C.src=(0,t.imginary)(o.attrs.thumbnail_url,640),C.style.backgroundImage=`url(${o.attrs.thumbnail_url})`,o.attrs.belowTheFold&&C.setAttribute("loading","lazy"),P.append(C),s.appendChild(P),s},A=o=>{const s=o.attrs.embed_url,w=document.createElement("div");w.id="prediction-market-iframe",w.className="prediction-market-wrap outer",w.dataset.attrs=JSON.stringify(o.attrs),w.setAttribute("data-component-name","PredictionMarketToDOM");const P=document.createElement("iframe");return P.id="iframe-prediction-market",P.className="prediction-market-iframe",P.src=o.attrs.url,P.width="560",P.height="405px",P.frameBorder="0",o.attrs.belowTheFold&&P.setAttribute("loading","lazy"),w.appendChild(P),w};class u{constructor(s){const w=A(s),P=w.querySelector(".prediction-market-iframe"),C=document.createElement("div");C.className="prediction-market-screen",C.addEventListener("dblclick",()=>{C.classList.add("sunken"),P.focus()}),P.addEventListener("blur",()=>{C.classList.remove("sunken")}),w.appendChild(C),this.dom=w}}},81693:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={content:"text*",group:"block",code:!0,defining:!0,isolating:!0,attrs:{params:{default:""}},parseDOM:[{tag:"pre.text",preserveWhitespace:"full",priority:60}],toDOM:()=>["div",{class:"preformatted-block","data-component-name":"PreformattedTextBlockToDOM"},["label",{class:"hide-text",contenteditable:!1}],["pre",{class:"text"},0]],toDOMStatic:()=>["pre",{class:"text","data-component-name":"PreformattedTextBlockToDOMStatic"},0]},i=(0,t.Se)({name:"preformatted_text_block",nodeSpec:a})},8678:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(15045),a=e(83813);const i={attrs:{pub:{default:null},uuid:{default:null}},inline:!1,atom:!0,group:"block",draggable:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.install-substack-app-embed.preview-inapp"}],toDOM:p=>{const{pub:l,uuid:v}=p.attrs,_=typeof l=="object"?(0,t.getBaseUrl)(l):(0,t.getBaseUrl)({id:l}),g=l.logo_url||`${_}/img/substack.png`;return["div",{class:"install-substack-app-embed preview-inapp","data-component-name":"PreviewInSubstackAppToDOM"},["img",{class:"install-substack-app-embed-img",src:(0,t.imginary)(g)}],["div",{class:"install-substack-app-embed-text"},["div",{class:"install-substack-app-header"},"Test in the Substack app"],["div",{class:"install-substack-app-text"},"This section is only visible to you"]],["a",{href:(0,t.getPreviewInAppUrl)(l,v),target:"_blank",class:"install-substack-app-embed-link"},["button",{class:"install-substack-app-embed-btn button primary"},"Open in app"]]]},toDOMStatic:p=>{const{pub:l,uuid:v}=p.attrs,_=typeof l=="object"?(0,t.getBaseUrl)(l):(0,t.getBaseUrl)({id:l}),g=l.logo_url||`${_}/img/substack.png`;return["div",{class:"install-substack-app-embed preview-inapp","data-component-name":"PreviewInSubstackAppToDOMStatic"},["table",{class:"install-substack-embed-table"},["tr",{},["td",{rowspan:2},["img",{class:"install-substack-app-embed-img",src:(0,t.imginary)(g),width:64,height:64}]],["td",{class:"install-substack-app-header"},"Test in the Substack app"]],["tr",{},["td",{class:"install-substack-app-text"},"This section is only visible to you"]],["tr",{},["td",{colspan:2},["a",{href:(0,t.getPreviewInAppUrl)(l,v),target:"_blank",class:"install-substack-app-embed-link"},["button",{class:"install-substack-app-embed-btn button primary"},"Open in app"]]]]]]}},c=(0,a.Se)({name:"preview_in_substack_app",nodeSpec:i})},38822:(K,f,e)=>{"use strict";e.d(f,{$:()=>a,z:()=>i});var t=e(5865);const a={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"q"},{tag:"div.pullquote"}],toDOM:()=>["div",{class:"pullquote"},0]},i=t.NB.create({name:"pullquote",defining:!0,content:a.content,group:a.group,renderHTML(c){return a.toDOM(c.node)},parseHTML(){return a.parseDOM},addCommands(){return{setPullquote:()=>({state:c,commands:p})=>!(0,t.Ig)(c,"paragraph")||(0,t.Ig)(c,"blockquote")?!1:p.wrapIn(this.name),togglePullquote:()=>({state:c,commands:p})=>!(0,t.Ig)(c,"paragraph")||(0,t.Ig)(c,"blockquote")?!1:p.toggleWrap(this.name),unsetPullquote:()=>({commands:c})=>c.lift(this.name)}}})},51144:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(82626),a=e(83813);const i={attrs:{name:{default:null},subdomain:{}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.referral-link",getAttrs:a.YX}],toDOM:p=>{const l=p.attrs.name||`${p.attrs.subdomain}.substack.com`,v=document.createElement("div");v.className="referral-link",v.setAttribute("data-attrs",JSON.stringify(p.attrs)),v.setAttribute("data-component-name","ReferralLinkToDOM");const _=document.createElement("h4");v.appendChild(_);const g=document.createElement("a");g.textContent=t.Substitutions.PRINTED_REFERRAL_URL,g.href=`http://${t.Substitutions.REFERRAL_URL}`,_.appendChild(g),g.addEventListener("click",S=>{if(g.href.endsWith("%%")){S.preventDefault();const O=window.open("/?referral_code=test&showWelcome=true","_blank");O&&O.focus&&O.focus()}});const E=document.createElement("a");return E.className="button primary",E.textContent="Share your referral link",E.href=`mailto:?subject=${encodeURIComponent(`Check out ${l}`)}&body=${encodeURIComponent("Subscribe using my link: ")}http://${t.Substitutions.REFERRAL_URL}`,v.appendChild(E),v}},c=(0,a.Se)({name:"referral_link",nodeSpec:i})},55899:(K,f,e)=>{"use strict";e.d(f,{$y:()=>_});var t=e(83813),a=Object.defineProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(O,A,u)=>A in O?a(O,A,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[A]=u,v=(O,A)=>{for(var u in A||(A={}))c.call(A,u)&&l(O,u,A[u]);if(i)for(var u of i(A))p.call(A,u)&&l(O,u,A[u]);return O};const _={attrs:{isEditorNode:{},numReferralsRequired:{},rewardDescription:{},pub:{default:{}},tierNumber:{}},atom:!0,content:"",isolating:!1,defining:!1,group:"block",parseDOM:[{getAttrs:t.YX,tag:".referrals-tier-card"}],toDOM:O=>{if(typeof window!="undefined"){const{render:A,h:u}=e(6400),{ReferralsTierCard:o}=e(90618),s=document.createElement("div");return s.className="referrals-tier-card",s.setAttribute("data-attrs",JSON.stringify(O.attrs)),A(u(o,{numReferralsRequired:O.attrs.numReferralsRequired,rewardDescription:O.attrs.rewardDescription,pub:S(O.attrs.pub),tierNumber:O.attrs.tierNumber}),s),s}return E(O)},toDOMStatic:O=>E(O)},g=(0,t.Se)({name:"referralTier",nodeSpec:_}),E=O=>["div",{class:"referrals-tier-card","data-attrs":JSON.stringify(O.attrs),"data-component-name":"ReferralsTierCardPlaceholder"}],S=O=>{const A=v({},O);return delete A.email_render_elements,A}},28054:(K,f,e)=>{"use strict";e.d(f,{L:()=>a});var t=e(15045);const a=(i,c,p,l,{targetUrl:v}={})=>{let _=["td",{class:"audio-details","data-component-name":"AudioEmbedStatic"},["p",{class:"title"},c],["p",{class:"subtitle"},p]];l&&(_=[..._,["p",{class:"metadata"},l]]);const g=["table",{class:"audio-embed-static",cellspacing:"12","data-component-name":"AudioEmbedStaticTable"},["tr",{},["td",{class:"thumbnail-container"},["div",{class:"play-container"},["img",{class:"play",src:(0,t.imginary)("/img/thumbnail-play.png",72),height:36,width:36}]],["img",{class:"thumbnail",src:(0,t.imginary)(i,160),height:80,width:80}]],_]];return v?["a",{class:"audio-embed-static-outer",href:v,target:"_blank","data-component-name":"AudioEmbedStaticLink"},g]:g}},66278:(K,f,e)=>{"use strict";e.d(f,{$y:()=>O,SH:()=>u,kb:()=>w});var t=e(15045),a=e(28054),i=e(83813),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(P,C,x)=>C in P?c(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,g=(P,C)=>{for(var x in C||(C={}))l.call(C,x)&&_(P,x,C[x]);if(p)for(var x of p(C))v.call(C,x)&&_(P,x,C[x]);return P},E=(P,C,x)=>new Promise((D,y)=>{var M=F=>{try{R(x.next(F))}catch(N){y(N)}},T=F=>{try{R(x.throw(F))}catch(N){y(N)}},R=F=>F.done?D(F.value):Promise.resolve(F.value).then(M,T);R((x=x.apply(P,C)).next())});const S="https://w.soundcloud.com/player/?auto_play=false&buying=false&liking=false&download=false&sharing=false&show_artwork=true&show_comments=false&show_playcount=false&show_user=true&hide_related=true&visual=false&start_track=0",O={attrs:{url:{},title:{default:""},description:{default:""},thumbnail_url:{default:""},author_name:{default:""},author_url:{default:""},targetUrl:{default:""}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.soundcloud-wrap",getAttrs:i.YX}],toDOM:P=>["div",{class:"soundcloud-wrap","data-attrs":JSON.stringify(P.attrs),"data-component-name":"SoundcloudToDOM"},["iframe",{src:(0,t.updateQuery)(S,{url:P.attrs.url}),frameborder:"0",gesture:"media",scrolling:"no",allowfullscreen:"true"}]],toDOMStatic:P=>{const{thumbnail_url:C,author_name:x,title:D,targetUrl:y}=P.attrs;return(0,a.L)(C,D,x,null,{targetUrl:y})}},A=(0,i.Se)({name:"soundcloud",nodeSpec:O,addCommands(){return{insertSoundcloud:P=>({commands:C})=>C.insertContent({type:this.name,attrs:P})}}}),u=(P,{customSchema:C}={})=>{if(C&&!C.nodes.soundcloud)return null;const x=/^.*(https?\:\/\/(www\.)?soundcloud.com\/[^\/]+\/[^\/]+(\/[^\/]+)?(\?[\#]*)?(\#.*)?).*$/.exec(P);return x&&x[1]},o=(P,{customSchema:C}={})=>u(P,{customSchema:C})!==null,s=P=>E(void 0,null,function*(){const D=(yield e(80569).get("/api/v1/soundcloud").query({url:P.trim()})).body;return g({targetUrl:P.trim()},D)}),w=(P,...C)=>E(void 0,[P,...C],function*(x,{customSchema:D}={}){return(D||e(71565).fK).nodes.soundcloud.create(yield s(x))})},1647:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(15045),a=e(83813);const i={attrs:{image:{},title:{},subtitle:{},description:{},url:{}},inline:!0,group:"inline",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,toDOM:p=>["iframe",{class:"spotify-wrap","data-attrs":JSON.stringify(p.attrs),src:`https://open.spotify.com/embed?uri=${encodeURIComponent(p.attrs.url)}&view=coverart&theme=white`,frameborder:"0",gesture:"media",allowfullscreen:"true","data-component-name":"SpotifyToDOM"}],toDOMStatic:p=>["a",{class:"spotify-wrap",href:p.attrs.url,"data-component-name":"SpotifyToDOMStatic"},["img",{class:"cover",src:(0,t.imginary)("/img/spotify_play.png?v=1",156),style:`background-image:url(${p.attrs.image})`}],["span",{class:"content"},["img",{class:"logo",src:(0,t.imginary)("/img/spotify_logo.png",40)}],["span",{class:"title"},p.attrs.title],["span",{class:"subtitle"},p.attrs.subtitle],["span",{class:"description"},p.attrs.description]]]},c=(0,a.Se)({name:"spotify",nodeSpec:i})},71817:(K,f,e)=>{"use strict";e.d(f,{$y:()=>c,W7:()=>g,qZ:()=>l});var t=e(28054),a=e(83813),i=(O,A,u)=>new Promise((o,s)=>{var w=x=>{try{C(u.next(x))}catch(D){s(D)}},P=x=>{try{C(u.throw(x))}catch(D){s(D)}},C=x=>x.done?o(x.value):Promise.resolve(x.value).then(w,P);C((u=u.apply(O,A)).next())});const c={attrs:{image:{},title:{},subtitle:{},description:{},url:{},belowTheFold:{default:!1}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"iframe.spotify-wrap",getAttrs:a.YX}],toDOM:O=>{let A="spotify-wrap";const u=E(O.attrs.url)[0];return u!=null&&u.show||u!=null&&u.episode?A+=" podcast":u!=null&&u.playlist?A+=" playlist":u!=null&&u.album?A+=" album":u!=null&&u.artist&&(A+=" artist"),["iframe",{class:A,"data-attrs":JSON.stringify(O.attrs),src:S(O.attrs.url),frameborder:"0",gesture:"media",allowfullscreen:"true",allow:"encrypted-media",loading:O.attrs.belowTheFold?"lazy":null,"data-component-name":"Spotify2ToDOM"}]},toDOMStatic:O=>{const{image:A,title:u,subtitle:o,description:s,url:w}=O.attrs;return(0,t.L)(A,u,o,s,{targetUrl:w})}},p=(0,a.Se)({name:"spotify2",nodeSpec:c,addCommands(){return{insertSpotify:O=>({commands:A})=>A.insertContent({type:this.name,attrs:O})}}}),l=(O,{customSchema:A}={})=>A&&!A.nodes.spotify2?null:E(O)[1],v=(O,{customSchema:A}={})=>l(O,{customSchema:A})!==null,_=O=>i(void 0,null,function*(){return(yield e(80569).get("/api/v1/spotify").query({url:O})).body}),g=(O,...A)=>i(void 0,[O,...A],function*(u,{customSchema:o}={}){return(o||e(71565).fK).nodes.spotify2.create(yield _(u))}),E=O=>{const A=/((?:https?:\/\/open\.spotify\.com\/(?:embed\/)?|spotify\:)([^\"\'\s\b\?\#]*)(?:[\?\#][\S]*)?)/.exec(O);if(!A)return[null,null];const u=A[2].split(/[\/\:]/),o={};for(let s=1;s<u.length;s+=2)o[u[s-1]]=u[s];return[o,A[1]]},S=O=>{const A=E(O)[0],u=[];if(A){if(A.user&&A.playlist)u.push("user",A.user,"playlist",A.playlist);else if(A.playlist)u.push("playlist",A.playlist);else if(A.album)u.push("album",A.album);else if(A.track)u.push("track",A.track);else if(A.artist)u.push("artist",A.artist);else if(A.show)u.push("show",A.show);else if(A.episode)u.push("episode",A.episode);else return;return`https://open.spotify.com/embed/${u.join("/")}`}}},83555:(K,f,e)=>{"use strict";e.d(f,{J:()=>t});const t={parseDOM:[{tag:"del"},{tag:"s"}],toDOM(){return["s",0]}}},36496:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(71071),a=e(83813);const i={content:"ctaCaption",attrs:{url:{default:null},text:{default:null},language:{default:"en"}},inline:!1,group:"block",draggable:!0,atom:!1,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"p.subscription-widget-wrap",getAttrs:a.YX}],toDOM:p=>{const{text:l,language:v}=p.attrs,{iString:_,iTemplate:g}=I18N.i(v);return["div",{class:"subscription-widget-wrap","data-attrs":JSON.stringify(p.attrs),"data-component-name":"SubscribeWidgetToDOM"},["div",{class:"subscription-widget show-subscribe"},["div",{class:"preamble"},0],["form",{class:"subscription-widget-subscribe"},["input",{type:"email",class:"email-input",name:"email",placeholder:_("Type your email\u2026"),tabindex:-1}],["input",{type:"submit",class:"button primary",value:l}],["div",{class:"fake-input-wrapper"},["div",{class:"fake-input"}],["div",{class:"fake-button"}]]]]]},toDOMStatic:p=>["div",{class:"subscription-widget-wrap","data-component-name":"SubscribeWidgetToDOMStatic"},["div",{class:"subscription-widget show-subscribe"},["div",{class:"preamble"},0],(0,t.ax)(p)]]},c=(0,a.Se)({name:"subscribeWidget",nodeSpec:i,addCommands(){return{insertSubscribeWidget:p=>({commands:l})=>l.insertContent({type:this.name,attrs:p})}}})},93288:(K,f,e)=>{"use strict";e.d(f,{l:()=>t});const t={parseDOM:[{tag:"sub"}],toDOM(){return["sub",0]}}},78437:(K,f,e)=>{"use strict";e.d(f,{O:()=>t});const t={parseDOM:[{tag:"sup"}],toDOM(){return["sup",0]}}},59331:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(83813);const a={content:"block+",group:"block",defining:!1,isolating:!1,attrs:{params:{default:""}},parseDOM:[{tag:"pre.template-comment"}],toDOM:()=>["pre",{class:"template-comment","data-component-name":"TemplateCommentToDOM"},["code",0]]},i=(0,t.Se)({name:"templateComment",nodeSpec:a})},53187:(K,f,e)=>{"use strict";e.d(f,{$y:()=>p,Ml:()=>S,QZ:()=>o,od:()=>_});var t=e(82626),a=e(15045),i=e(83813),c=(s,w,P)=>new Promise((C,x)=>{var D=T=>{try{M(P.next(T))}catch(R){x(R)}},y=T=>{try{M(P.throw(T))}catch(R){x(R)}},M=T=>T.done?C(T.value):Promise.resolve(T.value).then(D,y);M((P=P.apply(s,w)).next())});const p={attrs:{url:{},title:{default:""},thumbnail_url:{default:""},author:{default:""},embed_url:{default:""},author_url:{default:""},belowTheFold:{default:!1}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDom:[{tag:"div.tiktok-wrap",getAttrs:i.YX}],toDOM:s=>u(s),toDOMStatic:s=>A(s)},l=(0,i.Se)({name:"tiktok",nodeSpec:p,addCommands(){return{insertTiktok:s=>({commands:w})=>w.insertContent({type:this.name,attrs:s})}}}),v=/^.*(https?\:\/\/(\S+)?(?:vt.tiktok.com\/|(.?tiktok.com\/.*\/video\/).*)).*$/,_=s=>{const w=v.exec(s);return w&&w[0]},g=s=>_(s)!==null,E=s=>c(void 0,null,function*(){return(yield e(80569).get("/api/v1/tiktok").query({url:s.trim()})).body}),S=(s,...w)=>c(void 0,[s,...w],function*(P,{customSchema:C}={}){return(C||e(71565).fK).nodes.tiktok.create(yield E(P))}),O=s=>`tiktok-${s==null?void 0:s.split("/").slice(-1)[0]}`,A=(s,{useTikTokUrl:w=!1}={})=>{var P,C,x,D;const y=document.createElement("div");y.className="tiktok-wrap static",y.setAttribute("data-component-name","TikTokCreateStaticTikTokEmbed");const M=`${w?s.attrs.url:`${t.Substitutions.POST_URL}/#tiktok-${(P=s.attrs.embed_url)==null?void 0:P.split("/").slice(-1)[0]}`}`,T=document.createElement("a");T.href=M,T.setAttribute("target","_blank");const R=document.createElement("img");R.className="tiktok thumbnail",R.src=(0,a.imginary)(s.attrs.thumbnail_url,640),R.style.backgroundImage=`url(${(0,a.imginary)(s.attrs.thumbnail_url)})`,s.attrs.belowTheFold&&R.setAttribute("loading","lazy"),T.append(R);const F=document.createElement("div");F.classList.add("content");const N=document.createElement("a");N.classList.add("author"),N.href=s.attrs.author_url,N.setAttribute("target","_blank"),N.appendChild(document.createTextNode(((D=(x=(C=s.attrs.author_url)==null?void 0:C.split)==null?void 0:x.call(C,"/").slice(-1))==null?void 0:D[0])||s.attrs.author));const U=document.createElement("a");return U.classList.add("title"),U.href=M,U.setAttribute("target","_blank"),U.appendChild(document.createTextNode(s.attrs.title)),F.appendChild(N),F.appendChild(U),y.appendChild(T),y.appendChild(F),y},u=s=>{var w;const P=s.attrs.embed_url,C=document.createElement("div");C.id=O(P),C.className="tiktok-wrap outer",C.dataset.attrs=JSON.stringify(s.attrs),C.setAttribute("data-component-name","TikTokCreateTikTokEmbed");const x=document.createElement("iframe");x.id=`iframe-${O(P)}`,x.className="tiktok-iframe",x.src=P,x.frameBorder="0",(w=x.setAttribute)==null||w.call(x,"allow","autoplay; fullscreen; encrypted-media"),x.allowFullscreen="true",x.allowautoplay="true",x.allowfullscreen="true",x.scrolling="no",s.attrs.belowTheFold&&x.setAttribute("loading","lazy"),C.appendChild(x);const D=document.createElement("iframe");D.src="https://team-hosted-public.s3.amazonaws.com/set-then-check-cookie.html",D.id=`third-party-iframe-${O(P)}`,D.className="third-party-cookie-check-iframe",D.style.display="none",s.attrs.belowTheFold&&D.setAttribute("loading","lazy"),C.append(D);const y=A(s,{useTikTokUrl:!0});C.appendChild(y);const M=document.createElement("div");M.classList.add("fallback-failure"),M.id=`fallback-failure-${O(P)}`;const T=document.createElement("div");T.classList.add("error-content");const R=document.createElement("img");return R.classList.add("error-icon"),R.src=(0,a.cdnSvg)("/img/alert-circle.svg"),s.attrs.belowTheFold&&R.setAttribute("loading","lazy"),T.appendChild(R),T.appendChild(document.createTextNode("Tiktok failed to load.")),T.appendChild(document.createElement("br")),T.appendChild(document.createElement("br")),T.appendChild(document.createTextNode("Enable 3rd party cookies or use another browser")),M.appendChild(T),C.appendChild(M),C};class o{constructor(w){const P=u(w),C=P.querySelector(".tiktok-iframe"),x=document.createElement("div");x.className="tiktok-screen";const D=document.createElement("h1");D.className="instructions",D.innerText="Double click to interact",x.appendChild(D),x.addEventListener("dblclick",()=>{x.classList.add("sunken"),C.focus()}),C.addEventListener("blur",()=>{x.classList.remove("sunken")}),P.appendChild(x),this.dom=P}}},24520:(K,f,e)=>{"use strict";e.d(f,{$:()=>v});var t=e(91036),a=e.n(t),i=e(89018),c=e.n(i),p=e(20501),l=e(83813);const v={attrs:{url:{},html:{},author:{},author_name:{},date:{}},untrackedAttrs:["html"],inline:!0,group:"inline",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.tweet",getAttrs:function(E){try{const S=JSON.parse(E.getAttribute("data-attrs"));return"url"in S&&"html"in S&&"author"in S&&"author_name"in S&&"date"in S?S:!1}catch(S){return!1}}}],toDOM:g=>{const E=document.createElement("div");E.className="tweet",E.setAttribute("data-component-name","TwitterToDOM"),E.setAttribute("data-attrs",JSON.stringify(g.attrs)),E.innerHTML=a()(g.attrs.html,{allowedTags:a().defaults.allowedTags.concat(["img"]),allowedAttributes:Object.assign({},a().defaults.allowedAttributes,{"*":["href","style","id","data-*","itemprop","class","align","alt","center","bgcolor"]})});const S=document.createElement("a");S.className="tweet-header",S.href=`https://twitter.com/${g.attrs.author}`,E.insertBefore(S,E.childNodes[0]);const O=document.createElement("img");O.src=`${p.CDN_URL}/image/twitter_name/w_${i.tweet_icon_size_px}/${g.attrs.author}.jpg`,S.appendChild(O);const A=document.createElement("span");A.className="tweet-author-name",A.textContent=g.attrs.author_name,S.appendChild(A);const u=document.createElement("span");u.className="tweet-author",u.textContent=`@${g.attrs.author}`,S.appendChild(u);const o=document.createElement("a");return o.className="tweet-date",o.textContent=g.attrs.date,o.href=g.attrs.url,E.appendChild(o),E.querySelectorAll&&Array.prototype.forEach.call(E.querySelectorAll("a"),s=>{s.target="_blank"}),E}},_=(0,l.Se)({name:"twitter",nodeSpec:v})},82350:(K,f,e)=>{"use strict";e.d(f,{$y:()=>S,Pz:()=>u,qK:()=>w});var t=e(91036),a=e.n(t),i=e(89018),c=e.n(i),p=e(85928),l=e.n(p),v=e(20501),_=e(83322),g=e(83813),E=(y,M,T)=>new Promise((R,F)=>{var N=W=>{try{V(T.next(W))}catch(L){F(L)}},U=W=>{try{V(T.throw(W))}catch(L){F(L)}},V=W=>W.done?R(W.value):Promise.resolve(W.value).then(N,U);V((T=T.apply(y,M)).next())});const S={attrs:{url:{},full_text:{},username:{},name:{},date:{},photos:[],quoted_tweet:{},retweet_count:{},like_count:{},expanded_url:{default:null},video_url:{default:null},belowTheFold:{default:!1}},untrackedAttrs:["full_text","photos","quoted_tweet","expanded_url"],inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.tweet",getAttrs:g.YX}],toDOMStatic:y=>D(y,!0),toDOM:y=>D(y,!1)},O=(0,g.Se)({name:"twitter2",nodeSpec:S,addCommands(){return{insertTwitter:y=>({commands:M})=>M.insertContent({type:this.name,attrs:y})}}}),A=(y,{customSchema:M}={})=>u(y,{customSchema:M})!==null,u=(y,{customSchema:M}={})=>{if(M&&!M.nodes.twitter2)return null;const T=/(https?:\/\/(mobile\.twitter\.com|twitter\.com|t\.co)\/.*\/status\/[^\/\s]*)/.exec(y);return T&&T[1]},o=y=>{const M=y.match(/https?:\/\/(?:mobile\.twitter\.com|twitter\.com|t\.co)\/.*\/status\/(\d+)/);return M&&M[1]?M[1]:null},s=y=>E(void 0,null,function*(){return(yield e(80569).get("/api/v1/tweet").query({url:y})).body}),w=(y,...M)=>E(void 0,[y,...M],function*(T,{customSchema:R}={}){return(R||e(71565).fK).nodes.twitter2.create(yield s(T))});function P(y,M,{additionalClasses:T=[],belowTheFold:R=!1}={}){const F=document.createElement("div");F.className=`tweet-photo-wrapper ${T.join(" ")}`;const N=document.createElement("img");if(N.className="tweet-photo",N.setAttribute("src",(0,v.imginary)(y.img_url,600)),N.setAttribute("alt",y.alt_text||"Image"),R&&N.setAttribute("loading","lazy"),M)F.appendChild(N);else{const U=document.createElement("picture"),V=document.createElement("source");V.setAttribute("type","image/webp"),V.setAttribute("srcset",(0,v.imginary)(y.img_url,600,{format:"webp"})),U.appendChild(V),U.appendChild(N),F.appendChild(U)}return F}function C(y,M,{belowTheFold:T=!1}={}){const R=document.createElement("div");if(R.className="tweet-photos-container",y.length===1)R.appendChild(P(y[0],M,{belowTheFold:T})),R.className+=" one";else if(y.length===2){R.className+=" two";for(const F of y){const N=document.createElement("div");N.className="tweet-photos-column",N.appendChild(P(F,M,{belowTheFold:T})),R.appendChild(N)}}else{const F=[document.createElement("div"),document.createElement("div")];if(F.forEach(N=>{R.appendChild(N),N.className="tweet-photos-column"}),y.length===3){R.className+=" three",F[0].appendChild(P(y[0],M,{belowTheFold:T}));for(const N of y.slice(1))F[1].appendChild(P(N,M,{additionalClasses:["half-height-container"],belowTheFold:T}))}else R.className+=" four",y.slice(0,4).forEach((U,V)=>{F[V%2].appendChild(P(U,M,{additionalClasses:["half-height-container"],belowTheFold:T}))})}return R}const x=C;function D(y,M){var T;const R=document.createElement("div"),F=M?"Twitter2ToDOMStatic":"Twitter2ToDOM";R.setAttribute("data-component-name",F),R.className=`${M?"tweet static":"tweet"}`,M||R.setAttribute("data-attrs",JSON.stringify(y.attrs));const N=document.createElement("a"),U=document.createElement("a");N.className="tweet-link-top",U.className="tweet-link-bottom",N.setAttribute("href",y.attrs.url),U.setAttribute("href",y.attrs.url);const V=document.createElement("div");if(V.className="tweet-text",N.setAttribute("target","_blank"),U.setAttribute("target","_blank"),V.innerHTML=a()(y.attrs.full_text,{allowedTags:a().defaults.allowedTags.concat(["img"]),allowedAttributes:Object.assign({},a().defaults.allowedAttributes,{"*":["href","style","id","data-*","itemprop","class","align","alt","center","bgcolor"]})}),R.appendChild(N),N.appendChild(V),y.attrs.video_url&&!M){const $=document.createElement("div");$.className="tweet-video-wrapper",R.appendChild($);const J=document.createElement("video");J.className="tweet-video",J.setAttribute("controls","true"),J.setAttribute("src",(0,v.imginary)(y.attrs.video_url,600)),J.setAttribute("alt","Video"),y.attrs.belowTheFold&&J.setAttribute("loading","lazy"),$.appendChild(J)}else if((T=y==null?void 0:y.attrs)!=null&&T.photos&&y.attrs.photos.length>0){const $=x(y.attrs.photos,M,{belowTheFold:y.attrs.belowTheFold});N.appendChild($)}if(y.attrs.quoted_tweet&&y.attrs.quoted_tweet.full_text){const $=document.createElement("div");$.className="quote-tweet",$.innerHTML=a()(y.attrs.quoted_tweet.full_text,{allowedTags:[]});const J=document.createElement("div");J.className="quote-tweet-header";const j=document.createElement("img");j.className="quote-tweet-header-avatar",j.src=`${v.CDN_URL}/image/twitter_name/w_40/${y.attrs.quoted_tweet.username}.jpg`,j.setAttribute("alt",`Twitter avatar${y.attrs.quoted_tweet.username?` for @${y.attrs.quoted_tweet.username}`:""}`),y.attrs.belowTheFold&&j.setAttribute("loading","lazy"),J.appendChild(j);const Z=document.createElement("div");Z.className="quote-tweet-header-text";const ne=document.createElement("span");ne.className="quote-tweet-name",ne.textContent=`${y.attrs.quoted_tweet.name||""} `,Z.appendChild(ne);const ie=document.createElement("span");ie.className="quote-tweet-username",ie.textContent=`@${y.attrs.quoted_tweet.username}`,Z.appendChild(ie),J.appendChild(Z),$.insertBefore(J,$.childNodes[0]),N.appendChild($)}if(y.attrs.expanded_url&&y.attrs.expanded_url.title){const $=document.createElement("a");if($.className="expanded-link",$.setAttribute("href",y.attrs.expanded_url.url),y.attrs.expanded_url.image){const ie=y.attrs.expanded_url.image.url||y.attrs.expanded_url.image,oe=document.createElement("img");oe.setAttribute("src",(0,v.imginary)(ie,600,{height:314,crop:"fill"})),oe.className="expanded-link-img",y.attrs.belowTheFold&&oe.setAttribute("loading","lazy"),$.appendChild(oe)}const J=document.createElement("div");J.className="expanded-link-bottom";const j=document.createElement("span");j.className="expanded-link-domain",j.textContent=y.attrs.expanded_url.domain,J.appendChild(j);const Z=document.createElement("span");Z.className="expanded-link-title",Z.textContent=(0,_.truncateText)(y.attrs.expanded_url.title,140),J.appendChild(Z);const ne=document.createElement("span");ne.className="expanded-link-description",ne.textContent=y.attrs.expanded_url.description?M?y.attrs.expanded_url.description.slice(0,135).concat("..."):y.attrs.expanded_url.description:"",J.appendChild(ne),$.appendChild(J),N.appendChild($)}const W=document.createElement("div");W.className="tweet-header",N.insertBefore(W,N.childNodes[0]);const L=document.createElement("img");L.className="tweet-header-avatar",L.src=`${v.CDN_URL}/image/twitter_name/w_${i.tweet_icon_size_px*2}/${y.attrs.username}.jpg`,L.setAttribute("alt",`Twitter avatar${y.attrs.username?` for @${y.attrs.username}`:""}`),y.attrs.belowTheFold&&L.setAttribute("loading","lazy"),W.appendChild(L);const k=document.createElement("div");k.className="tweet-header-text",W.appendChild(k);const H=document.createElement("span");H.className="tweet-author-name",H.textContent=`${y.attrs.name||""} `,k.appendChild(H);const G=document.createElement("span");G.className="tweet-author-handle",G.textContent=`@${y.attrs.username}`,k.appendChild(G);const q=document.createElement("div");q.className="tweet-footer";const z="tweet-date",ee=document.createElement("span");if(ee.className=z,ee.textContent=l()(y.attrs.date).format("h:mm A \u2219 MMM D, YYYY"),q.appendChild(ee),y.attrs.retweet_count!==0&&y.attrs.like_count!==0){const $=document.createElement("hr");q.appendChild($)}if(y.attrs.retweet_count!==0&&y.attrs.like_count!==0){const $=document.createElement("div");if($.className="tweet-ufi",y.attrs.like_count>0){const J=document.createElement("span"),j=document.createElement("span");J.setAttribute("href",`${y.attrs.url}/likes`),J.className="likes",j.className="like-count",j.textContent=y.attrs.like_count.toLocaleString(),J.appendChild(j),J.append(y.attrs.like_count>1?"Likes":"Like"),$.appendChild(J)}if(y.attrs.retweet_count>0){const J=document.createElement("span"),j=document.createElement("span");J.setAttribute("href",`${y.attrs.url}/retweets`),J.className="retweets",j.className="rt-count",j.textContent=y.attrs.retweet_count.toLocaleString(),J.appendChild(j),J.append(y.attrs.retweet_count>1?"Retweets":"Retweet"),$.appendChild(J)}q.appendChild($)}return U.appendChild(q),R.appendChild(U),N.querySelectorAll&&Array.prototype.forEach.call(N.querySelectorAll("a"),$=>{$.target="_blank"}),U.querySelectorAll&&Array.prototype.forEach.call(U.querySelectorAll("a"),$=>{$.target="_blank"}),R}},80200:(K,f,e)=>{"use strict";e.d(f,{A0:()=>a,dG:()=>c});function t(p,l){const v={},_={};p.doc.descendants((A,u)=>{A.type===l.nodes.footnote?v[A.attrs.number]=[u,A.nodeSize]:A.type===l.nodes.footnoteAnchor&&(_[A.attrs.number]=u)});const g=new Set(Object.keys(v).map(Number)),E=new Set(Object.keys(_).map(Number)),S=Array.from(g).filter(A=>!E.has(A)).sort((A,u)=>u-A),O=Array.from(E).filter(A=>!g.has(A)).sort((A,u)=>u-A);for(const A of S){const[u,o]=v[A];p.delete(u,u+o)}for(const A of O){const u=_[A];p.delete(u,u+1)}}function a(p,l){let v=1,_=1;p.doc.descendants((g,E)=>{if(g.type===l.nodes.footnote){if(g.attrs.number!==v){const S=l.nodes.footnote.create({number:v},g.content);p.replaceWith(E,E+g.nodeSize,S)}v+=1}else if(g.type===l.nodes.footnoteAnchor){if(g.attrs.number!==_){const S=l.nodes.footnoteAnchor.create({number:_});p.replaceWith(E,E+g.nodeSize,S)}_+=1}})}function i(p,l){const v=[];let _=!1;p.doc.forEach((g,E)=>{g.type===l.nodes.footnote&&(_=!0),_&&g.type!==l.nodes.footnote&&v.push([E,g.nodeSize])}),v.reverse().forEach(([g,E])=>{p.delete(g,g+E)})}function c(p,l){let v=0;p.doc.nodesBetween(0,p.selection.from,g=>{g.type===l.nodes.footnoteAnchor&&(v+=1)});const _=[];return p.doc.forEach((g,E)=>{g.type===l.nodes.footnote&&_.push(E)}),v<_.length?_[v]:p.doc.resolve(0).end()}},45895:(K,f,e)=>{"use strict";e.r(f),e.d(f,{forEachNode:()=>t,forEachNodeReverse:()=>a});function t(i,c,{nodeTypes:p}={}){var l,v;if(!i||(p&&!Array.isArray(p)&&(p=[p]),i.type&&(!p||p.includes(i.type)||p.includes(i.type.name))&&c(i)===!1))return;const _=((l=i.content)==null?void 0:l.length)>0?i.content:((v=i.content)==null?void 0:v.childCount)>0?i.content.content:[];for(const g of _)t(g,c,{nodeTypes:p})}function a(i,c){var p,l;if(!i||c(i)===!1)return;const v=((p=i.content)==null?void 0:p.length)>0?i.content:((l=i.content)==null?void 0:l.childCount)>0?i.content.content:[];for(let _=v.length-1;_>=0;_--)a(v[_],c)}},83813:(K,f,e)=>{"use strict";e.d(f,{Se:()=>p,YX:()=>_});var t=e(5865),a=e(31067),i=e.n(a);const c=({attrs:g})=>{var E;const S={};if(!g)return S;for(const[O,A]of Object.entries(g))S[O]={default:(E=A.default)!=null?E:null,keepOnSplit:!1};return S},p=({name:g,nodeSpec:E,addNodeView:S,addCommands:O})=>t.NB.create({name:g,content:E.content,marks:E.marks,group:E.group,inline:E.inline,atom:E.atom,selectable:E.selectable,draggable:E.draggable,code:E.code,whitespace:E.whitespace,defining:E.defining,isolating:E.isolating,addNodeView:S,addCommands:O,renderHTML(A){return this.options.isStatic&&E.toDOMStatic?E.toDOMStatic(A.node):E.toDOM(A.node)},parseHTML(){return E.parseDOM},addAttributes(){return c({attrs:E.attrs})}}),l=({doc:g,extensions:E,customDocument:S})=>{const O=getSchema(E),A=TipTapPMNode.fromJSON(O,g),u=document.createElement("div");return TipTapPMDOMSerializer.fromSchema(O).serializeFragment(A.content,{document:S},u),u.innerHTML};function v({doc:g}){return!!findNode(g,E=>E.type==="paywall")}const _=g=>{try{if(typeof g!="string"){const E=g.getAttribute("data-attrs");if(E)return JSON.parse(E)}}catch(E){return!1}return!1}},84134:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(24706),a=e(83813);const i={attrs:{mediaUploadId:{},duration:{}},group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,toDOM:l=>{if(typeof window!="undefined"){const{render:v,h:_}=e(6400),{VideoEmbedPlayer:g,VideoEmbedProps:E}=e(96347),S=document.createElement("div");S.className="native-video-embed",S.setAttribute("data-attrs",JSON.stringify(l.attrs));const O={mediaUploadId:l.attrs.mediaUploadId,pub:null,post:null,isEditor:!0};return v(_(g,O),S),S}return p(l)},toDOMStatic:l=>p(l)},c=(0,a.Se)({name:"video",nodeSpec:i,addNodeView(){const{VideoEditor:l}=e(16e3);return(0,t.fW)(l)},addCommands(){return{insertVideo:l=>({commands:v})=>v.insertContent({type:this.name,attrs:l})}}}),p=l=>["div",{class:"native-video-embed","data-component-name":"VideoPlaceholder","data-attrs":JSON.stringify(l.attrs)}]},31417:(K,f,e)=>{"use strict";e.d(f,{$y:()=>i,Jn:()=>E,Oy:()=>g,vR:()=>l});var t=e(20501),a=e(83813);const i={attrs:{videoId:{},videoKey:{default:""},belowTheFold:{default:!1}},untrackedAttrs:["videoKey"],inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.vimeo-wrap",getAttrs:a.YX}],toDOM:u=>{const o=p(u.attrs.videoId,u.attrs.videoKey);return["div",{id:A(u.attrs.videoId),class:"vimeo-wrap","data-attrs":JSON.stringify(u.attrs),"data-component-name":"VimeoToDOM"},["div",{class:"vimeo-inner"},["iframe",{src:o,frameborder:"0",gesture:"media",allow:"autoplay; fullscreen",allowautoplay:"true",allowfullscreen:"true",loading:u.attrs.belowTheFold?"lazy":null}]]]},toDOMStatic:u=>["a",{href:S(u.attrs.videoId,u.attrs.videoKey),target:"_blank",class:"vimeo-wrap","data-component-name":"VimeoToDOMStatic"},["img",{src:E(u.attrs.videoId,{maxWidth:550})}]]},c=(0,a.Se)({name:"vimeo",nodeSpec:i,addCommands(){return{insertVimeo:u=>({commands:o})=>o.insertContent({type:this.name,attrs:u})}}}),p=(u,o=null)=>`https://player.vimeo.com/video/${u}?autoplay=0${o?`&h=${o}`:""}`,l=(u,{customSchema:o}={})=>o&&!o.nodes.vimeo?null:O(u)[2],v=(u,{customSchema:o}={})=>l(u,{customSchema:o})!==null,_=u=>{const[o,s]=O(u);return o?{videoId:o,videoKey:s}:null},g=(u,{customSchema:o}={})=>{const s=o||e(71565).fK,w=_(u);return w?s.nodes.vimeo.create(w):null},E=(u,{maxWidth:o=728,playButton:s=!0}={})=>`${t.CDN_URL}/image/vimeo/w_${o},c_limit,d_video_placeholder.png${s?"/l_youtube_play_qyqt8q,w_170":""}/${u}`,S=(u,o)=>`https://vimeo.com/${u}${o?`/${o}`:""}`;function O(u){const o=/(https?:\/\/[^\s]*vimeo.com\/(?:channels\/[^/]+\/|video\/)?(\d+)(\/([0-9a-f]+))?[^\s\"\'"]*)/.exec(u);return o?[o[2],o[4],o[1]]:[null,null,null]}function A(u){return`vimeo-${u}`}},79559:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(24706),a=e(68135),i=e(83813),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))_.call(w,P)&&E(s,P,w[P]);if(v)for(var P of v(w))g.call(w,P)&&E(s,P,w[P]);return s},O=(s,w)=>p(s,l(w));class A extends a.El{get EmbedClass(){return u}}class u extends a.ZP{static get NodeView(){return A}}u.substackType="xlsx",u.supportedMimeTypes=[{name:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",signature:[[80,75,3,4],[80,75,5,6],[80,75,7,8]]}];const o=(0,i.Se)({name:"xlsx",nodeSpec:O(S({},u.nodeSpec),{selectable:!0}),addCommands(){return{insertXlsx:s=>({commands:w})=>w.insertContent({type:this.name,attrs:s})}},addNodeView(){const{FileEditor:s}=e(21138);return(0,t.fW)(s)}})},76982:(K,f,e)=>{"use strict";e.d(f,{$:()=>i});var t=e(83813),a=e(61611);const i={attrs:{videoId:{}},inline:!0,group:"inline",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,toDOM:p=>{const l=`https://www.youtube.com/embed/${p.attrs.videoId}`;return["div",{class:"youtube-wrap","data-component-name":"YoutubeToDOM","data-attrs":JSON.stringify(p.attrs)},["iframe",{src:l,frameborder:"0",gesture:"media",allowfullscreen:"true"}]]},toDOMStatic:p=>{const l=`https://www.youtube.com/watch?v=${p.attrs.videoId}`,v=(0,a.Jn)(p.attrs.videoId,{maxWidth:550});return["a",{href:l,target:"_blank",class:"youtube-wrap","data-component-name":"YoutubeToDOMStatic"},["img",{src:v}]]}},c=(0,t.Se)({name:"youtube",nodeSpec:i})},61611:(K,f,e)=>{"use strict";e.d(f,{$y:()=>c,Jn:()=>E,dQ:()=>s,gp:()=>l,o1:()=>_});var t=e(15045),a=e(20501),i=e(83813);const c={attrs:{videoId:{},startTime:{default:null},endTime:{default:null}},inline:!1,group:"block",draggable:!0,atom:!0,selectable:!0,isolating:!0,defining:!0,parseDOM:[{tag:"div.youtube-wrap",getAttrs:i.YX},{tag:"iframe",getAttrs:w=>{try{const P=w.src&&A(w.src)[0];return P?{videoId:P}:!1}catch(P){return!1}}},{tag:"object",getAttrs:w=>{try{const P=w.data&&A(w.data)[0];if(P)return{videoId:P};const C=w.querySelectorAll("param");for(const D of C){const y=D.value&&A(D.value)[0];if(y)return{videoId:y}}const x=w.querySelectorAll("embed");for(const D of x){const y=D.src&&A(D.src)[0];if(y)return{videoId:y}}return!1}catch(P){return!1}}}],toDOM:w=>{const P=O(w.attrs.videoId,{start:w.attrs.startTime,end:w.attrs.endTime});return["div",{id:u(w.attrs.videoId),class:"youtube-wrap","data-attrs":JSON.stringify(w.attrs),"data-component-name":"Youtube2ToDOM"},["div",{class:"youtube-inner"},["iframe",{src:P,frameborder:"0",loading:"lazy",gesture:"media",allow:"autoplay; fullscreen",allowautoplay:"true",allowfullscreen:"true",width:"728",height:"409"}]]]},toDOMStatic:w=>["a",{href:S(w.attrs),target:"_blank",class:"youtube-wrap","data-component-name":"Youtube2ToDOMStatic"},["img",{src:E(w.attrs.videoId,{maxWidth:550})}]]},p=(0,i.Se)({name:"youtube2",nodeSpec:c,addCommands(){return{insertYoutube:w=>({commands:P})=>P.insertContent({type:this.name,attrs:w})}}}),l=(w,{customSchema:P}={})=>P&&!P.nodes.youtube2?null:A(w)[1],v=(w,{customSchema:P}={})=>P&&!P.nodes.youtube2?null:A(w)[0]!==null,_=(w,{customSchema:P}={})=>{const C=P||e(71565).fK,x=g(w);return x?C.nodes.youtube2.create(x):null},g=w=>{const P=A(w)[0];if(!P)return null;const C=o(w);return{videoId:P,startTime:C.start,endTime:C.end}},E=(w,{maxWidth:P=728,playButton:C=!0}={})=>`${a.CDN_URL}/image/youtube/w_${P},c_limit${C?"/l_youtube_play_qyqt8q,w_120":""}/${w}`,S=w=>`https://www.youtube.com/watch?${(0,a.serializeQuery)({v:w.videoId,start:w.startTime,end:w.endTime})}`,O=(w,{start:P,end:C,enableJsApi:x}={})=>`https://www.youtube-nocookie.com/embed/${w}?${(0,a.serializeQuery)({start:P,end:C,rel:0,autoplay:0,showinfo:0,enablejsapi:x?1:0})}`,A=w=>{const P=/(https?\:\/\/(www\.|m\.)?youtube\.com\/(v\/)?watch\?[^\s]+)/.exec(w);if(P){const x=(0,t.parseQuery)(P[1]).v||null;if(x)return[x,P[1]]}const C=/(https?\:\/\/(?:youtu\.be|www\.youtube\.com\/embed|www\.youtube-nocookie\.com\/embed|www\.youtube\.com\/v|www\.youtube\.com\/shorts)\/([A-z0-9\-_]+)[^\s]*)/.exec(w);return C?[C[2],C[1]]:[null,null]};function u(w){return`youtube2-${w}`}function o(w){const P=(0,t.parseQuery)(w);return{start:P.start||P.t,end:P.end}}class s{constructor(P){const C=O(P.attrs.videoId,{start:P.attrs.startTime,end:P.attrs.endTime,enableJsApi:!0}),x=document.createElement("div");x.id=u(P.attrs.videoId),x.className="youtube-wrap",x.dataset.attrs=JSON.stringify(P.attrs);const D=document.createElement("div");D.className="youtube-inner",x.appendChild(D);const y=document.createElement("iframe");y.src=C,y.frameborder="0",y.gesture="media",y.allow="autoplay; fullscreen",y.allowautoplay="true",y.allowfullscreen="true",D.appendChild(y);const M=document.createElement("div");M.className="youtube-screen";const T=document.createElement("h1");T.className="instructions",T.innerText="Double click to interact",M.appendChild(T),M.addEventListener("dblclick",()=>{M.classList.add("sunken"),y.focus()}),y.addEventListener("blur",()=>{M.classList.remove("sunken"),y.contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*")}),D.appendChild(M),this.dom=x}}},43088:(K,f,e)=>{"use strict";e.r(f),e.d(f,{CommunityChatEmbed:()=>E,EmailCommunityChatEmbed:()=>S});var t=e(6400),a=e(20501),i=e(28488),c=e(18492),p=e(84040),l=e(51126),v=e(43887),_=e(96450);const g={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function E({pub:A,subdomain:u}){const{iString:o}=(0,i.M1)();return(0,t.h)(l.tu,{className:g.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:O(u),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,t.h)(_.q,{size:"xl",imageUrl:(0,a.imginary)(A.author_photo_url),border:!0}),(0,t.h)(l.tu,{gap:4,alignItems:"center"},(0,t.h)(v.xv.H3,{translated:!0,as:"div",color:"pub-primary-text"},"Join ",I18N.p(A.author_name),"\u2019s subscriber chat"),(0,t.h)(v.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,t.h)(l.tu,{alignSelf:"stretch"},(0,t.h)(p.zx,{priority:"primary-theme",href:O(u)},o("Join chat"))))}function S({pub:A,subdomain:u}){const{iString:o}=(0,i.M1)();return(0,t.h)("a",{className:g.emailWrapper,href:O(u),"data-component-name":"EmailCommunityChatEmbed"},(0,t.h)("div",{className:g.container},(0,t.h)(c.NS,{size:64,src:(0,a.imginary)(A.author_photo_url),framed:!0}),(0,t.h)("div",{className:g.text},(0,t.h)(v.xv.H3,{translated:!0,className:g.title,as:"div",color:"pub-primary-text"},"Join ",I18N.p(A.author_name),"\u2019s subscriber chat"),(0,t.h)(v.xv.B4,{translated:!0,color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,t.h)(c.Bj,{tableClassName:g.button},o("Join chat"))))}function O(A){return(0,a.getPublicationChatAppLinkUrl)({pubKey:A,utm_source:"chat_embed"})}},4697:(K,f,e)=>{"use strict";e.r(f),e.d(f,{CommunityPostEditor:()=>q,CommunityPostEmbed:()=>z,EmailCommunityPostEmbed:()=>ee});var t=e(6400),a=e(20501),i=e(8479),c=e(51126),p=e(2181),l=e(2564),v=e(13045),_=e(15045),g=e(83322),E=e(18492),S=e(43887);const O={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var A=Object.defineProperty,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=($,J,j)=>J in $?A($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,P=($,J)=>{for(var j in J||(J={}))o.call(J,j)&&w($,j,J[j]);if(u)for(var j of u(J))s.call(J,j)&&w($,j,J[j]);return $};function C({communityPost:$,is_freemail:J,author:j,cta:Z,withAttribution:ne,attributionText:ie,hideReply:oe,truncateBodyAt:re}){const ae=!$||J&&$.audience==="only_paid";let se=null;return!ae&&$.body&&(se=re?(0,g.truncateText)($.body,re):$.body),(0,t.h)(E.zK,{gap:12,verticalAlign:"top"},(0,t.h)(E.NS,{src:j.photo_url,size:40}),(0,t.h)(E.i$,{gap:4,style:{lineHeight:0}},ne&&(0,t.h)(p.xn,{isStatic:!0,text:ie||`From ${j.name?(0,g.possessive)(j.name):"Substack user"} subscriber chat`}),ae?(0,t.h)(D,null):[$.type==="media"&&$.media_assets?$.media_assets.slice(0,1).map(fe=>(0,t.h)(y,{key:fe.url,asset:fe})):$.type==="link"&&(0,t.h)(M,{communityPost:$}),se&&(0,t.h)(x,null,(0,t.h)("span",null,(0,t.h)(S.Zx,{weight:"bold"},j.name)," ",se))],!oe&&(0,t.h)(x,null,(0,t.h)(E.YF,null,(0,t.h)("tr",null,(0,t.h)("td",{align:"left"},(0,t.h)(S.Zx,{color:"secondary"},"Reply...")),(0,t.h)("td",{align:"right"},(0,t.h)(l.Z,{size:20,stroke:"var(--color-secondary}"}))))),Z&&(0,t.h)(E.b9,{fullWidth:!0,href:Z.url},Z.text),Z&&Z.blurb&&(0,t.h)("div",null,(0,t.h)(S.xv,{color:"secondary",align:"center",size:14,lineHeight:20},Z.blurb))))}function x($){return(0,t.h)("div",P({className:O.bubble},$))}function D(){return(0,t.h)("div",{className:O.paywallBubble,style:{backgroundImage:`url(${(0,a.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,t.h)(S.xv.Meta,null,"SUBSCRIBERS ONLY"))}function y({asset:$}){return(0,t.h)("img",{className:O.img,width:400,src:(0,a.imginary)($.url,800,{crop:"limit",height:800})})}function M({communityPost:$}){var J,j;const{link_metadata:Z,link_url:ne}=$,ie=(j=(J=Z==null?void 0:Z.url)!=null?J:ne)!=null?j:"";let oe;try{const re=new URL(ie);oe=`${re.host}${re.pathname}${re.search}${re.hash}`}catch(re){oe=ie}return(0,t.h)(x,null,(0,t.h)(E.YF,{style:{width:"400px"}},(0,t.h)("tr",null,(0,t.h)("td",{align:"left",style:{verticalAlign:"top"}},(Z==null?void 0:Z.title)&&(0,t.h)(S.xv,{font:"serif",lineHeight:24},Z.title),(0,t.h)(S.xv.Meta,{color:"secondary"},oe)),(0,t.h)("td",{width:"16"}),(0,t.h)("td",{align:"right"},(Z==null?void 0:Z.image)&&(0,t.h)("img",{className:O.linkImg,src:(0,a.imginary)(Z.image,144,{height:144,smartCrop:!0})})))))}function T({utm_campaign:$,utm_source:J,style:j}){const Z="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",ne=getGlobalAccountSettingsUrl({utm_source:J,section:"notifications",highlightNotification:null}),ie=getChatAppLinkUrl({utm_source:J,utm_campaign:$});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:j},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},Z,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:ne}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:ie},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:ne},"Visit Settings")))}const R={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var F=Object.defineProperty,N=Object.defineProperties,U=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,k=($,J,j)=>J in $?F($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,H=($,J)=>{for(var j in J||(J={}))W.call(J,j)&&k($,j,J[j]);if(V)for(var j of V(J))L.call(J,j)&&k($,j,J[j]);return $},G=($,J)=>N($,U(J));const q=({node:$})=>{const{attrs:J}=$;return(0,t.h)(z,{postId:J.postId})};function z({postId:$}){var J;const{isLoading:j,error:Z,result:ne}=(0,i.ib)({pathname:`/api/v1/community/posts/${$}`,auto:!0,deps:[$]}),ie=Z instanceof i.kp&&Z.response.status===402&&((J=Z.body)==null?void 0:J.status)==="PAID_SUBSCRIPTION_REQUIRED"?Z.body:null;return(0,t.h)(c.hs,{as:"a",className:R.container,target:"_blank",href:(0,a.getCommunityPostAppLinkUrl)({postId:$,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},ie?(0,t.h)(p.V8,{author:ie.user}):Z?"Error":ne&&(0,t.h)(p.Jg,{author:ne.user,communityPost:ne.communityPost,withAttribution:!0,isReadOnly:!0}))}function ee($){const{postId:J}=$;return(0,t.h)("a",{className:R.emailWrapper,href:(0,a.getCommunityPostAppLinkUrl)({postId:J,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,t.h)("div",{className:R.container},(0,t.h)(C,G(H({},$),{withAttribution:!0}))))}},2181:(K,f,e)=>{"use strict";e.d(f,{Jg:()=>gt,Q4:()=>Ve,V8:()=>xe,dI:()=>Gn,rk:()=>zt,xn:()=>Kt});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(28175),l=e.n(p),v=e(80587),_=e(98188),g=e(10293),E=e(45609),S=e(99869),O=e(19723),A=e(45570),u=e(5149),o=e(49770),s=e(17048),w=e(27194),P=e(13639),C=e(2564),x=e(80332),D=e(20501),y=e(92604),M=e(85344),T=e(86602),R=e(79786),F=e(67963),N=e(3258),U=e(15748),V=e(8479),W=e(39419),L=e.n(W),k=e(84040),H=e(51126),G=e(76235),q=e(68713),z=e(43887),ee=e(75425),$=e(10186),J=e(57588),j=e(33510),Z=e(72307),ne=e(859),ie=e(9613),oe=e(1942),re=Object.defineProperty,ae=Object.defineProperties,se=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,De=(mt,Mt,Jt)=>Mt in mt?re(mt,Mt,{enumerable:!0,configurable:!0,writable:!0,value:Jt}):mt[Mt]=Jt,je=(mt,Mt)=>{for(var Jt in Mt||(Mt={}))le.call(Mt,Jt)&&De(mt,Jt,Mt[Jt]);if(fe)for(var Jt of fe(Mt))Ae.call(Mt,Jt)&&De(mt,Jt,Mt[Jt]);return mt},Je=(mt,Mt)=>ae(mt,se(Mt)),Be=(mt,Mt)=>{var Jt={};for(var pn in mt)le.call(mt,pn)&&Mt.indexOf(pn)<0&&(Jt[pn]=mt[pn]);if(mt!=null&&fe)for(var pn of fe(mt))Mt.indexOf(pn)<0&&Ae.call(mt,pn)&&(Jt[pn]=mt[pn]);return Jt},st=(mt,Mt,Jt)=>new Promise((pn,An)=>{var Fn=Zt=>{try{Gt(Jt.next(Zt))}catch(_n){An(_n)}},Un=Zt=>{try{Gt(Jt.throw(Zt))}catch(_n){An(_n)}},Gt=Zt=>Zt.done?pn(Zt.value):Promise.resolve(Zt.value).then(Fn,Un);Gt((Jt=Jt.apply(mt,Mt)).next())});const ht="ffe5d072-ae52-11ed-afa1-0242ac120002";function gt({communityPost:mt,author:Mt,extras:Jt,withAttribution:pn,flex:An,hideReply:Fn,isReadOnly:Un,onReply:Gt,onDelete:Zt}){const _n=(0,a.sO)(null),Qn={type:"posts",id:mt.id},At=(0,J.useDispatch)(),fn=!(mt.type==="media"&&mt.media_assets);return(0,t.h)(xn,{user:Mt,flex:An,containerRef:_n},pn&&(0,t.h)(Kt,{text:`From ${Mt.name}\u2019s subscriber chat`}),(0,t.h)(Xe,{actionMenuProps:{communityEntity:mt,publicationId:mt.publication_id,onReply:Gt,onDelete:Zt,isReadOnly:Un,isFlagged:mt.reported_by_user},flex:An},(0,t.h)(qn,null,mt.type==="media"&&mt.media_assets&&(0,t.h)(Re,{context:Qn,reactions:mt.reactions,currentReaction:mt.reaction,onReactionClick:Ne(mt.id,"posts",At,mt.reaction),isReadOnly:Un},(0,t.h)(M.q,{assets:mt.media_assets.map(gn=>gn.url),className:ie.Z.imageGroup,readOnly:Un})),mt.link_url&&(0,t.h)(Re,{context:Qn,reactions:mt.reactions,currentReaction:mt.reaction,onReactionClick:Ne(mt.id,"posts",At,mt.reaction),setReactions:fn,isReadOnly:Un},(0,t.h)(Dn,{linkUrl:mt.link_url,linkMetadata:mt.link_metadata,postId:mt.id})),mt.body&&(0,t.h)(Re,{context:Qn,reactions:mt.reactions,currentReaction:mt.reaction,onReactionClick:Ne(mt.id,"posts",At,mt.reaction),setReactions:fn&&!mt.link_url,isReadOnly:Un},(0,t.h)(pr,{authorName:Mt.name,communityEntity:mt})))),!Fn&&(0,t.h)(In,null,(0,t.h)(On,{commenters:mt.recent_commenters,count:mt.comment_count,audience:mt.audience})),Jt)}function Xe({children:mt,actionMenuProps:Mt,flex:Jt="grow"}){return(0,t.h)(H.gq,{alignItems:"start",gap:12,flex:Jt},(0,t.h)(H.tu,null,mt),(0,t.h)(ir,je({},Mt)))}function Re({children:mt,context:Mt,reactions:Jt,currentReaction:pn,setReactions:An=!0,onReactionClick:Fn,isReadOnly:Un}){return An?(0,t.h)(H.gq,{className:ie.Z.reactionsWrapper},mt,(0,t.h)(ne.J,{context:Mt,reactions:Jt,currentReaction:pn,onReactionClick:Fn,isReadOnly:Un})):(0,t.h)(t.Fragment,null,mt)}const Ne=(mt,Mt,Jt,pn)=>An=>st(void 0,null,function*(){Jt(pn===An?ot(An,mt,Mt):ke(An,mt,Mt,pn))}),ke=(mt,Mt,Jt,pn)=>(An,Fn)=>st(void 0,null,function*(){An({type:`${Jt}-new_reaction`,payload:{id:Mt,reaction:mt}}),(yield Ee(mt,Mt,Jt))instanceof Error&&An(pn?{type:`${Jt}-new_reaction`,payload:{id:Mt,reaction:pn}}:{type:`${Jt}-remove_reaction`,payload:{id:Mt,reaction:mt}})}),ot=(mt,Mt,Jt)=>(pn,An)=>st(void 0,null,function*(){pn({type:`${Jt}-remove_reaction`,payload:{id:Mt,reaction:mt}}),(yield he(mt,Mt,Jt))instanceof Error&&pn({type:`${Jt}-new_reaction`,payload:{id:Mt,reaction:mt}})}),Dt=(mt,Mt)=>(Jt,pn)=>st(void 0,null,function*(){Jt({type:"posts-delete_post",payload:{id:mt,publication_id:Mt}});const An=yield me(mt);An instanceof Error&&console.warn("error deleting thread",An)}),ln=(mt,Mt,Jt)=>(pn,An)=>st(void 0,null,function*(){pn({type:"comments-delete_comment",payload:{id:mt,postId:Mt}});const Fn=yield te(mt);if(Fn instanceof Error&&console.warn("error deleting comment",Fn),Jt){const Gt=yield ue(Jt);Gt instanceof Error||pn({type:"comments-update_comment",payload:{id:Jt,comment:Gt.comment}})}const Un=yield we(Mt);Un instanceof Error||pn({type:"posts-update_post",payload:{id:Mt,post:Un.communityPost}})}),ct=(mt,Mt)=>(Jt,pn)=>st(void 0,null,function*(){Jt({type:"posts-lock_replies",payload:{id:mt,isLocked:Mt}});const An=yield Ke(mt,Mt);An instanceof Error&&(console.warn("error locking post",An),alert(`There was an error ${Mt?"locking":"unlocking"} replies to this post. Please try again later.`),Jt({type:"posts-lock_replies",payload:{id:mt,isLocked:!Mt}}))}),Oe=(mt,Mt)=>(Jt,pn)=>st(void 0,null,function*(){Jt({type:"comments-lock_replies",payload:{id:mt,isLocked:Mt}});const An=yield et(mt,Mt);An instanceof Error&&(console.warn("error locking comment",An),alert(`There was an error ${Mt?"locking":"unlocking"} replies to this comment. Please try again later.`),Jt({type:"comments-lock_replies",payload:{id:mt,isLocked:!Mt}}))}),Se=mt=>(Mt,Jt)=>st(void 0,null,function*(){Mt({type:"posts-flag_post",payload:{id:mt}});const pn=yield $e(mt);pn instanceof Error&&console.warn("error flagging post",pn)}),Ze=mt=>(Mt,Jt)=>st(void 0,null,function*(){Mt({type:"comments-flag_comment",payload:{id:mt}});const pn=yield Te(mt);pn instanceof Error&&console.warn("error flagging comment",pn)}),Fe=(mt,Mt)=>(Jt,pn)=>st(void 0,null,function*(){Jt({type:"comments-ban_author",payload:{id:mt,ban:Mt}});const An=yield Qe(mt,Mt);An instanceof Error&&(console.warn("error toggling ban for comment author",An),alert(`There was an error ${Mt?"banning":"unbanning"} this user. Please try again later.`),Jt({type:"comments-ban_author",payload:{id:mt,ban:!Mt}}))});function Ke(mt,Mt){return st(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${mt}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:Mt})})}catch(Jt){return Jt}})}function et(mt,Mt){return st(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${mt}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:Mt})})}catch(Jt){return Jt}})}function Qe(mt,Mt){return st(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${mt}/publication_bans?ban=${Mt.toString()}`,{method:"POST"})}catch(Jt){return Jt}})}function $e(mt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/posts/${mt}/reports`,{method:"POST",json:{postId:mt}})}catch(Mt){return Mt}})}function Te(mt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/comments/${mt}/reports`,{method:"POST",json:{commentId:mt}})}catch(Mt){return Mt}})}function te(mt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/comments/${mt}`,{method:"DELETE",json:{commentId:mt}})}catch(Mt){return Mt}})}function ue(mt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/comments/${mt}`,{method:"GET"})}catch(Mt){return console.warn(Mt),Mt}})}function we(mt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/posts/${mt}`,{method:"GET"})}catch(Mt){return console.warn(Mt),Mt}})}function me(mt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/posts/${mt}`,{method:"DELETE",json:{postId:mt}})}catch(Mt){return Mt}})}function Ee(mt,Mt,Jt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/${Jt}/${Mt}/reaction`,{method:"POST",json:{reaction:mt}})}catch(pn){return pn}})}function he(mt,Mt,Jt){return st(this,null,function*(){try{return yield(0,V.rd)(`/api/v1/community/${Jt}/${Mt}/reaction`,{method:"DELETE",query:{reaction:mt}})}catch(pn){return pn}})}function xe({author:mt,extras:Mt,showReply:Jt=!0,analyticsParams:pn,commenters:An,count:Fn,audience:Un}){return(0,a.d4)(()=>{pn&&(0,N.j)(N.FP.THREAD_PAYWALL_SCREEN_VIEWED,pn)},[]),(0,t.h)(xn,{user:mt},(0,t.h)(qn,null,(0,t.h)(pt,{audience:Un}),Jt&&(0,t.h)(On,{isLocked:!0,commenters:An,count:Fn})),Mt)}function Ve({author:mt,extras:Mt,showReply:Jt=!0,commenters:pn,count:An}){return(0,t.h)(xn,{user:mt},(0,t.h)(qn,null,(0,t.h)(hn,null),Jt&&(0,t.h)(On,{isLocked:!0,commenters:pn,count:An})),Mt)}function Pe(mt){return typeof mt.message=="string"}function Ie({text:mt,rawText:Mt,specialText:Jt,mentionMap:pn,limit:An=600}){const[Fn,Un]=(0,a.eJ)(!1);if(Jt)return(0,t.h)("em",null,Jt);if(!mt)return(0,t.h)(t.Fragment,null);let Gt=[{characters:mt.length,message:mt}];Mt&&pn&&(Gt=Le(Mt,pn));const{alwaysShow:Zt,afterExpansion:_n}=tt(Gt,An),Qn=_n.length>0;return(0,t.h)(t.Fragment,null,Zt.map(At=>Pe(At)?(0,t.h)(ze,null,At.message):At.message),Qn&&!Fn&&(0,t.h)(t.Fragment,null,(0,t.h)("span",null," "),(0,t.h)(k.kG,{resetCss:!0,className:ie.Z.readMore,onClick:At=>{At.preventDefault(),Un(!0)}},"Read more")),Qn&&Fn&&(0,t.h)(t.Fragment,null,_n.map(At=>Pe(At)?(0,t.h)(ze,null,At.message):At.message)))}function ze({children:mt}){return(0,t.h)(l(),{options:{attributes:{rel:"nofollow ugc",onClick:Mt=>Mt.stopPropagation()}}},mt)}function tt(mt,Mt){let Jt=0;const pn=[],An=[];for(const Fn of mt){let Un=Fn;if(Jt<Mt){if(Jt+Un.characters>Mt&&Pe(Un)){const Gt=Mt-Jt,Zt={characters:Gt,message:Un.message.slice(0,Gt)},_n={characters:Un.characters-Gt,message:Un.message.slice(Gt)};Un=Zt,An.push(_n)}Jt+=Un.characters,pn.push(Un)}else An.push(Un)}return{alwaysShow:pn,afterExpansion:An}}function Le(mt,Mt){const Jt=/\$\{(\d+)\}/g;let pn=Jt.exec(mt);const An=mt,Fn=[];let Un=0;for(;pn;){const Gt=Number(pn[1]),Zt=Mt[Gt];Zt?(pn.index>Un&&Fn.push({characters:pn.index-Un,message:An.slice(Un,pn.index)}),Fn.push({characters:Zt.text.length,message:on(Zt.user_id,It(Zt.text),Zt.text)})):Fn.push({characters:Jt.lastIndex-Un,message:An.slice(Un,Jt.lastIndex)}),Un=Jt.lastIndex,pn=Jt.exec(mt)}return Un<An.length&&Fn.push({characters:An.length-Un,message:An.slice(Un)}),Fn}function It(mt){return mt.slice(1)}function on(mt,Mt,Jt){return(0,t.h)(T.default,{name:Mt,id:mt,mentionText:Jt,type:"user",uuid:ht,isStatic:!1,isEditorContext:!1})}function zt(mt){var Mt=mt,{communityComment:Jt,quoteReply:pn,isTargeted:An,isBanned:Fn,pubRole:Un}=Mt,Gt=Be(Mt,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return(0,t.h)($t,je({isTargeted:An,commentInfoArr:[{communityComment:Jt,quoteReply:pn,isBanned:Fn,pubRole:Un}]},Gt))}function $t({commentInfoArr:mt,author:Mt,chatPublicationId:Jt,hideReply:pn,onReply:An,onNewQuote:Fn,onQuoteReplyClick:Un,onDelete:Gt,commentRef:Zt,isTargeted:_n,isReadOnly:Qn,chatAuthorNameAttribution:At,extras:fn,flex:gn}){const Mn=(0,J.useDispatch)(),Wn=mt[mt.length-1].communityComment,{reply_count:rr=0,recent_commenters:Zn=[]}=Wn!=null?Wn:{};return(0,t.h)(xn,{user:Mt,pubRole:mt[0].pubRole,containerRef:Zt,id:`comment-${Wn==null?void 0:Wn.id}`,flex:gn},At&&(0,t.h)(Kt,{text:`Comment from ${At}\u2019s subscriber chat`}),(0,t.h)(Xe,{actionMenuProps:{communityEntity:mt[0].communityComment,isBanned:mt[0].isBanned,isFlagged:mt[0].communityComment.reported_by_user,onReply:An,onDelete:Gt,onNewQuote:Fn,isReadOnly:Qn,publicationId:Jt},flex:gn},(0,t.h)(qn,null,mt.map(({communityComment:{id:ur,body:Ar,quote_id:so,media_uploads:io,reactions:Qr,reaction:Eo,reported_by_user:So},quoteReply:Wt},jn)=>{var bt;return(0,t.h)(t.Fragment,{key:ur},!So&&io&&io.length>0&&so===null&&(0,t.h)(Re,{context:{type:"comments",id:ur},reactions:Qr,currentReaction:Eo,onReactionClick:Ne(ur,"comments",Mn,Eo),isReadOnly:Qn},(0,t.h)(M.q,{assets:io.map(Ut=>Ut.url),className:ie.Z.imageGroup,readOnly:Qn})),so&&Wt&&(0,t.h)(wr,{authorName:(bt=Wt.user.name)!=null?bt:"Substack User",communityEntity:Wt.comment,onClick:Un}),Ar&&(0,t.h)(Re,{context:{type:"comments",id:ur},reactions:Qr,currentReaction:Eo,onReactionClick:Ne(ur,"comments",Mn,Eo),setReactions:!io||io.length===0,isReadOnly:Qn},(0,t.h)(pr,{authorName:Mt.name,communityEntity:mt[jn].communityComment,isTargeted:_n})))}))),!pn&&rr>0&&(0,t.h)(In,null,(0,t.h)(On,{commenters:Zn,count:rr})),fn)}function Bt(mt){return mt.post_id===void 0}function xn({user:mt,children:Mt,flex:Jt="grow",containerRef:pn,id:An,pubRole:Fn}){return(0,t.h)(H.hs,{id:An,alignItems:"start",gap:12,flex:Jt,ref:pn,className:c()(oe.Z.avatarContainer,ie.Z.avatarContainer)},(0,t.h)(H.hs,{paddingTop:4},mt?(0,t.h)(wt,{user:mt,pubRole:Fn,size:40}):(0,t.h)(j.Vm,{type:"circle",size:40})),(0,t.h)(H.tu,{flex:"grow",gap:4},Mt))}function Hn(){return(0,t.h)(H.hs,{className:ie.Z.actionButton,paddingX:4,alignItems:"center"},(0,t.h)(v.Z,null))}function ir({communityEntity:mt,onReply:Mt,onDelete:Jt,isReadOnly:pn,publicationId:An,isBanned:Fn,isFlagged:Un,onNewQuote:Gt}){const Zt=(0,a.sO)(!1),_n=Qn=>{Zt.current=Qn};return(0,t.h)(H.hs,{alignItems:"center",className:ie.Z.actions},(0,t.h)(q.J,{content:({closePopover:Qn})=>(0,t.h)(Vn,{communityEntity:mt,onReply:Mt,onDelete:Jt,closePopover:Qn,isReadOnly:pn,publicationId:An,isBanned:Fn,isFlagged:Un,onNewQuote:Gt}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:ie.Z.actionMenuLayer,onOpen:()=>_n&&_n(!0),onClose:()=>_n&&_n(!1)},(0,t.h)(Hn,null)))}function Vn({communityEntity:mt,onReply:Mt,onDelete:Jt,isReadOnly:pn,publicationId:An,isBanned:Fn,isFlagged:Un,closePopover:Gt,onNewQuote:Zt}){const _n=(0,F.aF)(),{isAuthor:Qn}=(0,Z.Y0)(An!=null?An:0),At=An&&Qn,fn=mt&&_n&&mt.user_id===_n.id,gn=mt&&!Bt(mt),Mn=gn&&"parent_id"in mt&&mt.parent_id!==null,Wn=fn||At,rr=fn||At,Zn=!fn&&!Un,ur=At&&gn&&!fn;return(0,t.h)(H.tu,{className:ie.Z.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!pn&&Mt&&(0,t.h)(ut,{disabled:!!(mt!=null&&mt.is_locked),onReply:Mt}),!pn&&Zt&&gn&&(0,t.h)(_t,{onNewQuote:Zt,communityComment:mt,closePopover:Gt}),mt&&mt.body&&(0,t.h)(Ce,{communityEntity:mt,closePopover:Gt}),mt&&(0,t.h)(be,{communityEntity:mt,closePopover:Gt}),!pn&&mt&&!Mn&&rr&&(0,t.h)(We,{communityEntity:mt,closePopover:Gt}),!pn&&mt&&Wn&&(0,t.h)(en,{communityEntity:mt,closePopover:Gt,onDelete:Jt}),!pn&&mt&&Zn&&(0,t.h)(qe,{communityEntity:mt,closePopover:Gt}),!pn&&mt&&Fn!==void 0&&ur&&(0,t.h)(Et,{communityEntity:mt,closePopover:Gt,isBanned:Fn}))}function _t({onNewQuote:mt,communityComment:Mt,closePopover:Jt}){return(0,t.h)(G.sN,{icon:(0,t.h)(_.Z,null),onClick:()=>{mt(Mt),Jt()}},"Quote")}function ut({disabled:mt,onReply:Mt}){return(0,t.h)(G.sN,{icon:(0,t.h)(g.Z,null),onClick:Mt,disabled:mt},"Reply")}function Ce({communityEntity:mt,closePopover:Mt}){const Jt=(0,ee.pm)(),pn=()=>{if(mt){const{body:An}=mt;(0,W.copyToClipboard)(An),Jt.popToast(Fn=>(0,t.h)(ee.FN,Je(je({},Fn),{text:"Text copied",Icon:E.Z})))}Mt()};return(0,t.h)(G.sN,{icon:(0,t.h)(E.Z,null),onClick:pn},"Copy Text")}function be({communityEntity:mt,closePopover:Mt}){const Jt=(0,U.g)(),{id:pn}=mt,An=Bt(mt),Fn=()=>{var Un;let Gt;An?Gt=(0,D.getCommunityPostAppLinkUrl)({postId:pn}):Gt=(0,D.getCommunityCommentAppLinkUrl)({commentId:(Un=mt.parent_id)!=null?Un:pn,targetReplyId:mt.parent_id?pn:void 0}),Jt(Gt),Mt()};return(0,t.h)(G.sN,{icon:(0,t.h)(S.Z,null),onClick:Fn},"Copy Link")}function We({communityEntity:mt,closePopover:Mt}){const Jt=(0,J.useDispatch)(),{id:pn,is_locked:An}=mt,Fn=Bt(mt),Un=()=>st(this,null,function*(){Jt(Fn?ct(pn,!An):Oe(pn,!An)),Mt()});return(0,t.h)(G.sN,{icon:An?(0,t.h)(O.Z,null):(0,t.h)(A.Z,null),onClick:Un,priority:An?"primary":"destructive"},An?"Turn on replies":"Turn off replies")}function qe({communityEntity:mt,closePopover:Mt}){const Jt=(0,J.useDispatch)(),pn=Bt(mt),An=()=>st(this,null,function*(){if(confirm(`Are you sure you want to flag this ${pn?"thread":"reply"}?`)){const{id:Un}=mt;Jt(pn?Se(Un):Ze(Un)),Mt()}});return(0,t.h)(G.sN,{icon:(0,t.h)(u.Z,null),onClick:An,priority:"destructive"},pn?"Flag thread":"Flag reply")}function Et({communityEntity:mt,closePopover:Mt,isBanned:Jt}){const pn=(0,J.useDispatch)(),An=()=>st(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:Un}=mt;pn(Fe(Un,!Jt)),Mt()}});return(0,t.h)(G.sN,{icon:Jt?(0,t.h)(o.Z,null):(0,t.h)(s.Z,null),onClick:An,priority:"destructive"},Jt?"Unban user":"Ban user")}function en({communityEntity:mt,closePopover:Mt,onDelete:Jt}){const pn=(0,J.useDispatch)(),An=Bt(mt),Fn=()=>st(this,null,function*(){if(confirm(`Are you sure you want to delete this ${An?"thread":"comment"}?`)){const{id:Gt}=mt;if(An){const{publication_id:Zt}=mt;pn(Dt(Gt,Zt))}else{const{post_id:Zt,parent_id:_n}=mt;pn(ln(Gt,Zt,_n))}Jt&&setTimeout(Jt,500)}Mt()});return(0,t.h)(G.sN,{icon:(0,t.h)(w.Z,null),onClick:Fn,priority:"destructive"},An?"Delete thread":"Delete reply")}function In(mt){return(0,t.h)(H.tu,je({className:ie.Z.replyContainer,alignItems:"start"},mt))}function qn(mt){return(0,t.h)(H.tu,je({className:ie.Z.bubbleStack,gap:4,alignItems:"start"},mt))}function cr(mt){var Mt=mt,{isTargeted:Jt}=Mt,pn=Be(Mt,["isTargeted"]);return(0,t.h)(H.hs,je({className:c()(ie.Z.bubble,Jt&&ie.Z.targetedAnimation),padding:12,bg:"secondary",minWidth:0},pn))}function pr({authorName:mt,communityEntity:Mt,isTargeted:Jt}){return(0,t.h)(cr,{isTargeted:Jt},(0,t.h)(Vr,{authorName:mt,communityEntity:Mt}))}function wr({authorName:mt,communityEntity:Mt,onClick:Jt}){return(0,t.h)(H.hs,{className:c()(ie.Z.bubble,ie.Z.quoteBox),onClick:Jt,padding:12,minWidth:0},(0,t.h)(Vr,{authorName:mt,communityEntity:Mt}))}function Vr({authorName:mt,communityEntity:Mt}){var Jt,pn,An,Fn;let Un=null;const Gt=Bt(Mt)?"thread":"reply";return Mt.reported_by_user&&(Un=`You flagged this ${Gt}`),(Mt.status==="deleted"||!Mt.body)&&(Un=`This ${Gt} is not available`),Mt.body||(Bt(Mt)?(Jt=Mt.media_assets)!=null&&Jt.length?Un=`${Mt.media_assets.length} ${Mt.media_assets.length>1?"photos":"photo"}.`:Mt.link_url&&(Un=`Link: ${Mt.link_url}`,(pn=Mt.link_metadata)!=null&&pn.title&&(Un=`Link: "${Mt.link_metadata.title}"`)):(An=Mt.media_uploads)!=null&&An.length&&(Un=`${Mt.media_uploads.length} ${Mt.media_uploads.length>1?"photos":"photo"}.`)),(0,t.h)(z.Zx,{isParagraph:!0,className:ie.Z.bubbleText},(0,t.h)(z.Zx,{weight:"semibold",className:ie.Z.authorName},mt||"Substack user")," ",(Mt.body||Un)&&(0,t.h)(Ie,{text:(Fn=Mt.raw_body)!=null?Fn:Mt.body,rawText:Mt.raw_body,specialText:Un,mentionMap:Mt.mentions}))}function On({isLocked:mt,count:Mt=0,commenters:Jt,audience:pn}){const An=mt?P.Z:C.Z;return(0,t.h)(cr,{alignSelf:"stretch"},(0,t.h)(H.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,t.h)(H.hs,{alignItems:"center",gap:8},Jt&&(0,t.h)(H.hs,{className:ie.Z.facepile,alignItems:"center"},Jt.map(Fn=>(0,t.h)(wt,{className:ie.Z.facepileAvatar,user:Fn,size:24}))),(0,t.h)(z.Zx,{color:"secondary"},Mt>0?`${Mt.toLocaleString()} replies...`:"Reply...")),(0,t.h)(H.hs,{gap:4,alignItems:"center"},mt||!pn||pn==="all_subscribers"?void 0:(0,t.h)(z.Zx,{color:"secondary"},pn==="only_founding"?"Founding":"Paid"),(0,t.h)(An,{size:20,stroke:"var(--color-secondary)"}))))}function pt({audience:mt}){const Mt=mt==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,t.h)(H.tu,{className:ie.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,t.h)(H.hs,{alignItems:"center",gap:4},(0,t.h)(P.Z,{size:12,stroke:"var(--color-secondary)"}),(0,t.h)(z.xv.Meta,{weight:"semibold"},Mt)))}function hn(){return(0,t.h)(H.tu,{className:ie.Z.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,t.h)(H.hs,{alignItems:"center",gap:4},(0,t.h)(P.Z,{size:12,stroke:"var(--color-secondary)"}),(0,t.h)(z.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function Dn({linkUrl:mt,linkMetadata:Mt,postId:Jt}){var pn,An,Fn;const Un=(0,J.useDispatch)();let Gt;try{const gn=new URL((pn=Mt==null?void 0:Mt.url)!=null?pn:mt);Gt=`${gn.host}${gn.pathname}${gn.search}${gn.hash}`}catch(gn){Gt=mt}const{result:Zt,isLoading:_n,error:Qn}=(0,V.ib)({pathname:"/api/v1/link-metadata",query:{url:mt},auto:!Mt,deps:[mt]});Zt&&!Mt&&Jt&&Un({type:"posts-link_metadata",payload:{id:Jt,link_metadata:Zt}});const At=(An=Mt==null?void 0:Mt.title)!=null?An:Zt==null?void 0:Zt.title,fn=(Fn=Mt==null?void 0:Mt.image)!=null?Fn:Zt==null?void 0:Zt.image;return(0,t.h)(cr,null,(0,t.h)(H.hs,{as:"a",href:mt,target:"_blank",justifyContent:"space-between",gap:12,className:ie.Z.linkBubble,onClick:gn=>gn.stopPropagation()},(0,t.h)(H.tu,{gap:4},At&&(0,t.h)(z.xv,{font:"serif",weight:"semibold",className:ie.Z.linkTitle},At),(0,t.h)(z.xv.Detail,{ellipsis:!0,className:ie.Z.linkUrl},Gt)),fn&&(0,t.h)(R.e,{className:ie.Z.linkImg,src:fn,maxWidth:144})))}function Gn(mt){return(0,t.h)(k.zx,je({className:ie.Z.ctaButton,priority:"primary-theme"},mt))}function Kt({text:mt,isStatic:Mt}){return(0,t.h)(H.hs,{paddingX:8,paddingY:4},(0,t.h)(z.xv.Detail,{weight:"semibold"},(0,t.h)(y.Z,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:Mt})," ",mt))}function wt({user:mt,size:Mt,pubRole:Jt,className:pn}){let An;(Jt==null?void 0:Jt.role)==="admin"||(Jt==null?void 0:Jt.role)==="contributor"?An="author":Jt!=null&&Jt.is_founding?An="founding":(Jt==null?void 0:Jt.membership_state)==="subscribed"&&(An="paid");const Fn=(0,x.L0)(mt);return(0,t.h)(H.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,D.getReaderProfileUrl)(mt,{noBase:!0}),target:"_blank"},(0,t.h)($.YY,{showProfileHovercard:Fn,className:pn,size:Mt,user:mt,subscriptionType:An}))}function*Lt(mt,Mt,Jt=1){for(let pn=mt;pn<Mt;pn+=Jt)yield pn}},859:(K,f,e)=>{"use strict";e.d(f,{J:()=>o});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(68642),l=e(54525),v=e(8479),_=e(13045),g=e(94016),E=e(68713),S=e(15822),O=e(1942);const A=3,u=6;function o({context:N,reactions:U,currentReaction:V,onReactionClick:W,isReadOnly:L}){const k=U&&Object.keys(U).some(z=>U[z]>0),{result:H,isLoading:G}=(0,v.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),q=(0,a.Ye)(()=>!U||!(H!=null&&H.reactionTypes)?[]:Object.entries(U).sort((ee,$)=>$[1]===ee[1]?ee[0].localeCompare($[0]):$[1]-ee[1]).filter(([ee,$])=>$>0&&H.reactionTypes[ee]).slice(0,A),[U,H]);return H!=null&&H.reactionTypes?(0,t.h)(_.tu,null,(0,t.h)(_.gq,{onClick:F,className:c()(O.Z.reactionsContainer,{[O.Z.show]:k})},q.map(([z,ee])=>(0,t.h)(g.z,{layerClassName:O.Z.nameCard,content:(0,t.h)(P,{context:N,reaction:z}),layerOptions:{placement:"bottom-center"}},(0,t.h)(_.gq,{key:z,className:c()(O.Z.reaction,{[O.Z.blue]:z===V}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>W&&W(z)},(0,t.h)(T,{reaction:H.reactionTypes[z]}),(0,t.h)(y,{count:ee,textColor:z===V?"bg-light":"primary"})))),!L&&(0,t.h)(E.J,{content:({closePopover:z})=>(0,t.h)(w,{emojis:H,isLoading:G,currentReaction:V,onPick:ee=>{W&&W(ee),z()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:O.Z.emojiPickerLayer},(0,t.h)(s,null)))):null}function s(){return(0,t.h)(_.hs,{className:O.Z.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,t.h)(l.Z,null))}function w({emojis:N,isLoading:U,currentReaction:V,onPick:W}){var L;const k=(0,a.Ye)(()=>!(N!=null&&N.reactionTypes)||U?[]:Object.keys(N.reactionTypes),[N==null?void 0:N.reactionTypes,U]),{result:H,isLoading:G}=(0,v.Wf)(()=>e.e(695).then(e.t.bind(e,64695,19)),[],{auto:!0}),q=(0,a.I4)(J=>[J,...(H==null?void 0:H[J])||[]],[H]),{filteredItems:z,setQuery:ee,hasFiltered:$}=(0,p.C)({items:k,getKeys:q,deps:[k,q]});return U||G?(0,t.h)(S.S,null):(0,t.h)(_.tu,{gap:12,className:O.Z.emojiPicker,onClick:F,overflowY:"auto"},(0,t.h)(p.R,{setQuery:ee,placeholder:"Search emoji...",size:"small"}),$&&(z&&z.length>0?(0,t.h)(D,{reactions:z,currentReaction:V,onPick:W,emojiMap:N.reactionTypes,title:null}):(0,t.h)(_.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!$&&(0,t.h)(t.Fragment,null,(0,t.h)(D,{reactions:N.suggestedReactionTypes,currentReaction:V,onPick:W,emojiMap:N.reactionTypes,title:"Suggested Reactions"}),(L=N.categories)==null?void 0:L.map(J=>(0,t.h)(D,{reactions:J.reactionTypes,currentReaction:V,onPick:W,emojiMap:N.reactionTypes,title:J.title}))))}function P({reaction:N,context:U}){var V;const W=U.type==="posts"?`/api/v1/community/posts/${U.id}/reactions`:`/api/v1/community/comments/${U.id}/reactions`,{result:L,isLoading:k}=(0,v.ib)({pathname:W,method:"GET",auto:!0});if(k)return(0,t.h)(S.S,null);const G=((V=L==null?void 0:L.reactions.filter(ee=>ee.reaction===N))!=null?V:[]).map(ee=>ee.user.name),q=G.slice(0,u),z=Math.max(0,G.length-u);return(0,t.h)(_.tu,{gap:2,className:O.Z.emojiPicker,onClick:F,overflowY:"auto"},q.map(ee=>(0,t.h)(M,{text:ee})),z>0&&(0,t.h)(M,{text:`+ ${z} ${z===1?"other":"others"}`}))}function C({title:N}){return(0,t.h)(_.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},N)}function x({reactions:N,currentReaction:U,onPick:V,emojiMap:W}){return(0,t.h)(_.gq,{className:O.Z.reactionSection,gap:8},N==null?void 0:N.map(L=>(0,t.h)(_.hs,{key:L,onClick:()=>V(L),className:c()(O.Z.reactionToPick,{[O.Z.blue]:L===U}),bg:"primary",alignItems:"center"},(0,t.h)(R,{reaction:W[L]}))))}function D({reactions:N,currentReaction:U,onPick:V,emojiMap:W,title:L}){return(0,t.h)(_.tu,{gap:12},L&&(0,t.h)(C,{title:L}),(0,t.h)(x,{reactions:N,currentReaction:U,onPick:V,emojiMap:W}))}function y({count:N,textColor:U}){return(0,t.h)(_.xv,{className:O.Z.count,color:U,lineHeight:20},N)}function M({text:N}){return(0,t.h)(_.xv,{size:12,color:"primary",weight:"medium",font:"text"},N)}function T({reaction:N}){return(0,t.h)(_.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},N)}function R({reaction:N}){return(0,t.h)(_.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},N)}const F=N=>{N.stopPropagation(),N.preventDefault()}},25597:(K,f,e)=>{"use strict";e.d(f,{Z:()=>l});var t=e(6400),a=e(13639),i=e(36377),c=e(11851);const l=({audience:v,className:_,size:g=16,isStatic:E,thin:S})=>v==="only_paid"?S?(0,t.h)(c.Z,{className:_,height:g,isStatic:E}):(0,t.h)(a.Z,{className:_,size:g}):v==="founding"?(0,t.h)(i.Z,{className:_,height:g,isStatic:E,strokeWidth:1}):null},13509:(K,f,e)=>{"use strict";var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(8400),v=e.n(l),_=e(23279),g=e.n(_),E=e(23493),S=e.n(E),O=e(80569),A=e.n(O),u=e(15045),o=e(28488),s=e(84040),w=e(51126),P=e(43887),C=e(15822),x=e(96789),D=e(55024),y=(U,V,W)=>new Promise((L,k)=>{var H=z=>{try{q(W.next(z))}catch(ee){k(ee)}},G=z=>{try{q(W.throw(z))}catch(ee){k(ee)}},q=z=>z.done?L(z.value):Promise.resolve(z.value).then(H,G);q((W=W.apply(U,V)).next())});const M="random",T=U=>U.toLowerCase().trim()||M,R=()=>{const{iString:U,iTemplate:V}=useI18N();return[{id:"B&W",name:U("B&W"),imageUrl:"/img/generate-presets/bw-portrait.jpg",prompt:()=>"B&W close up portrait, ambient light, Nikon 15mm f/1.8G, by Lee Jeffries, Alessio Albi, Adrian Kuipers"},{id:"Photo",name:U("Photo"),imageUrl:"/img/generate-presets/photo.jpg",prompt:()=>"Professional photography, bokeh, natural lighting, canon lens, shot on dslr 64 megapixels sharp focus"},{id:"Comic",name:U("Comic"),imageUrl:"/img/generate-presets/comic.jpg",prompt:()=>"Mark Brooks and Dan Mumford, comic book art, perfect, smooth cell shading"},{id:"Logo",name:U("Logo"),imageUrl:"/img/generate-presets/logo.jpg",prompt:()=>"2d, flat, vector illustration, football team emblem, logo, centered, sharp, clean linework, head-on"},{id:"Anime",name:U("Anime"),imageUrl:"/img/generate-presets/anime.jpg",prompt:()=>"Studio Ghibli, Anime Key Visual, by Makoto Shinkai, Deep Color, Intricate, 8k resolution concept art, Natural Lighting, Beautiful Composition"},{id:"Pixel",name:U("Pixel"),imageUrl:"/img/generate-presets/pixel.jpg",prompt:()=>"as a logo, 16-bit, Pixel, SNES Style, Susan Kare, Highly detailed, Modern, Simple Background"},{id:"Paint",name:U("Paint"),imageUrl:"/img/generate-presets/vangough.jpg",prompt:()=>{const W=["Van Gogh","John Sargent","Josephine Wall","Claude Monet","Edward Hopper","Edvard Munch","Gustav Klimt","Henry Asencio","Paul Cezanne","J M W Turner","Pablo Picasso"];return`by ${W[Math.floor(Math.random()*W.length)]}, oil painting, canvas, expressive, colorful`}},{id:"Blur",name:U("Blur"),imageUrl:"/img/generate-presets/richter.jpg",prompt:()=>"gerhard richter, photorealistic painting, motion blur"},{id:"Epic",name:U("Epic"),imageUrl:"/img/generate-presets/epic.jpg",prompt:()=>"Epic cinematic brilliant stunning intricate meticulously detailed dramatic atmospheric maximalist digital matte painting"},{id:"Toon",name:U("Toon"),imageUrl:"/img/generate-presets/cartoon.jpg",prompt:()=>"Pixar, Disney, concept art, 3d digital art, Maya 3D, ZBrush Central 3D shading, bright colored background, radial gradient background, cinematic, Reimagined by industrial light and magic, 4k resolution post processing"},{id:"Neon",name:U("Neon"),imageUrl:"/img/generate-presets/neon.jpg",prompt:()=>"synthwave, bladerunner, neon lights, midnight 80s vibe"},{id:"Etching",name:U("Etching"),imageUrl:"/img/generate-presets/lithograph.jpg",prompt:()=>"Lithography, letterpress intaglio mezzotint linocut"}]},F=({open:U,onAfterClose:V,onImageSelected:W,onUrlSelected:L,insertionPointSelector:k,className:H=""})=>{const{iString:G,iTemplate:q}=useI18N(),z=R();W&&L&&console.error("onImageSelected and onUrlSelected are mutually exclusive");const[ee,$]=useState(""),[J,j]=useState(""),[Z,ne]=useState(null),[ie,oe]=useState(!1),[re,ae]=useState(!1),se=useRef(null),fe=useRef(null),le=useRef(null),[Ae,De]=useState(!1),[je,Je]=useState(null);useEffect(()=>(U&&(se.current.open(),setTimeout(()=>{fe.current.focus()},50)),()=>{ne(null),$(""),j(""),Je(null)}),[U]),useEffect(()=>{const Re=throttle(()=>{},200,{leading:!1}),Ne=le.current;return U&&(Ne==null||Ne.addEventListener("scroll",Re)),()=>{Ne==null||Ne.removeEventListener("scroll",Re)}},[U]);const Be=useCallback(Re=>y(void 0,[Re],function*({prompt:Ne,style:ke}){const ot=T(Ne);try{oe(!1),De(!0),ne(null);const Dt=yield request.post("/api/v1/generate_image/generate_art").send({prompt:ot,style:ke,num_images:4});j(ee),De(!1);const ln=Dt.body;oe(!1),ne(ln.map(ct=>ct.url)),le.current.scrollTop=0}catch(Dt){console.error("error searching images:",Dt),ne(null),De(!1),oe(!0)}}),[ee]),st=useCallback(debounce(Be,400),[Be]),ht=Re=>y(void 0,null,function*(){var Ne;$(Re);const ke=z.find(ot=>je===ot.id);yield st({prompt:Re,style:(Ne=ke==null?void 0:ke.prompt())!=null?Ne:""})}),gt=document.querySelector(k);if(!gt)return console.error(`could not find insertion point matching selector ${k}`),null;const Xe=Re=>y(void 0,null,function*(){ae(!0);try{if(L)yield L({url:Re,prompt:J});else if(W){De(!0);const Ne=yield request.post("/api/v1/generate_image/get_img_as_blob").send({url:Re}).responseType("blob");De(!1),oe(!1),yield W(Ne.body)}else console.error("no onSelected callback set")}catch(Ne){oe(!0),De(!1)}ae(!1),se.current.close()});return createPortal(h("div",{onMouseDown:Re=>{Re.stopPropagation()}},h(PopupModal,{ref:se,closePill:!0,className:cn("insert-media-modal","insert-image-modal","insert-generated-image-modal","force-light-theme",H),onClose:V},h("h3",{className:"insert-media-modal-header"},G("Generate image")),h(FlexColumn,{gap:12,flex:"grow"},h("div",{className:"form new-form"},h("form",{onSubmit:Re=>{Re.preventDefault(),ht(ee)}},h(FlexColumn,{gap:8},h(FlexRow,{gap:8},h("input",{className:"insert-image-modal-search",ref:fe,type:"text","aria-label":"Prompt",placeholder:G("Describe what you want to create..."),value:ee,onChange:Re=>{$(Re.target.value)}}),h(PencraftButton,{type:"submit",onClick:()=>{ht(ee)},disabled:Ae},G("Generate"))),h(FlexColumn,{gap:8},h(Text.Meta,{translated:!0},"Select a style (Optional)"),h(FlexRow,{className:css.presetRowContainer},h("div",{className:css.fade}),h(FlexRow,{className:css.presetRow,gap:8,justifyContent:"start",alignItems:"start",paddingRight:32,paddingBottom:8},z.map(Re=>h(FlexColumn,{gap:4,justifyContent:"center",className:cn(css.preset,{[css.selected]:je===Re.id,[css.unselected]:je&&je!==Re.id}),onClick:()=>{const Ne=je===Re.id;Je(Ne?null:Re.id)}},h("img",{className:css.presetImage,src:imginary(Re.imageUrl,144),alt:Re.name}),h(Text.Meta,{className:css.presetName},Re.name))))))))),h("div",{className:cn("insert-image-modal-body",css.modalBody),ref:le},ie&&h("div",{className:"insert-image-modal-empty"},G("Something went wrong. Please try again later.")),!Ae&&!re&&Z&&Z.length>0?h(FlexColumn,{gap:12,className:"insert-image-modal-images"},chunk(Z,2).map(Re=>h(FlexRow,{gap:12},Re.map((Ne,ke)=>h("div",{key:ke,className:"insert-image-modal-item",onClick:()=>{Xe(Ne)}},h("img",{src:Ne}),h("div",{className:"insert-image-modal-item-footer"},h(PencraftButton,{priority:"secondary",disabled:re,onClick:()=>{}},G("Insert")))))))):Z&&Z.length===0?h("div",{className:"insert-image-modal-empty"},q`No results for ${J}`):h("div",{className:"insert-image-modal-empty"},Ae||re?h(FlexColumn,{gap:8,alignItems:"center",justifyContent:"center"},h(DrunkSpinner,null),h(Text,{font:"text",translated:!0},"Generating your image... (This takes ~30-40 seconds)")):h(Text,{font:"text",translated:!0},"Enter a prompt above to generate an image")))))),gt)};var N=null},45809:(K,f,e)=>{"use strict";e.d(f,{M:()=>i});var t=e(6400),a=e(28488);function i({array:c,limit:p,formatter:l=v=>v}){const v=c.map(l).filter(Boolean).slice(0,p),{iString:_,iPlural:g}=(0,a.M1)(),E=_("and");if(v.length===0)return g("one person","%1 people",c.length);if(v.length===1)return v[0];if(v.length===2)return(0,t.h)(t.Fragment,null,v[0]," ",E," ",v[1]);const S=v.slice(0,-1).map(A=>(0,t.h)(t.Fragment,null,A,", ")),O=c.length-v.length;return O>0?(0,t.h)(t.Fragment,null,S,g("and 1 other","and %1 others",O)):(0,t.h)(t.Fragment,null,S,E," ",v[v.length-1])}},26579:(K,f,e)=>{"use strict";e.r(f),e.d(f,{ImageAssetError:()=>_});var t=e(6400),a=e(24706),i=e(19242),c=e(43557),p=e(13045),l=e(94016);const v={container:"frontend-components-ImageAssetError-module__container--rZpFh",icon:"frontend-components-ImageAssetError-module__icon--JZWhF"},_=({})=>(0,t.h)(a.T5,null,(0,t.h)(p.tu,{alignItems:"center",justifyContent:"center",className:v.container},(0,t.h)(i.Z,{className:v.icon}),(0,t.h)(p.gq,{alignItems:"center",gap:4},(0,t.h)(p.xv.Meta,{color:"pub-accent"},"Image not found"),(0,t.h)(l.z,{content:(0,t.h)(p.xv.B4,null,"This may be a temporary error, please refresh the page to try again.")},(0,t.h)(c.Z,{size:12,className:v.icon})))))},51050:(K,f,e)=>{"use strict";e.r(f),e.d(f,{ImageGallery:()=>N,ImageGalleryStatic:()=>U,getSize:()=>y});var t=e(6400),a=e(30396),i=e(24706),c=e(94184),p=e.n(c),l=e(23237),v=e(20501),_=e(19826),g=e(51126),E=e(55661),S=e(79786);const O={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var A=Object.defineProperty,u=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(W,L,k)=>L in W?A(W,L,{enumerable:!0,configurable:!0,writable:!0,value:k}):W[L]=k,x=(W,L)=>{for(var k in L||(L={}))w.call(L,k)&&C(W,k,L[k]);if(s)for(var k of s(L))P.call(L,k)&&C(W,k,L[k]);return W},D=(W,L)=>u(W,o(L));const y=(W,L)=>L===1?"large":L===2||L===4?"medium":L%3===0?"small":L===5||L===7?W<=2?"small":"medium":W<=5?"small":"medium",M={small:237,medium:360,large:728},T=({src:W,size:L,onSelectImage:k,useViewer:H=!1,alt:G})=>{const q=()=>{H&&k()};return(0,t.h)(S.e,{src:W,alt:G,maxWidth:2*M[L],className:p()(O.image,O[L],H&&O.zoom),onClick:q})},R=(W,L="",k="")=>{const H=[];for(const G in W){const q=W[G],{height:z=0,width:ee=0}=(0,v.extractDimensionsFromImageUrl)(q.src)||{},$=`(${Number(G)+1} of ${W.length})`,J={src:q.src,height:z,width:ee,alt:`${k} ${$}`,title:`${L} ${$}`};H.push({attrs:J})}return H},F=({onEditGallery:W,editGalleryRef:L})=>(0,t.h)(g.hs,{justifyContent:"center",alignItems:"center",className:O.editGalleryWrap},(0,t.h)(_.Fx,{ref:L,noList:!0},(0,t.h)(g.tu,{onClick:W,justifyContent:"center",alignItems:"center",className:O.editGallery},(0,t.h)(l.Z,{height:20})))),N=({node:W,editor:L})=>{const{gallery:k}=W.attrs,H=W.attrs.isEditor||L,{caption:G,alt:q}=k,z=k.images.map((le,Ae)=>D(x({},le),{idx:Ae})),ee=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[$,J]=(0,a.eJ)(!1),[j,Z]=(0,a.eJ)(0),ne=(0,a.sO)(null),ie=z.length===1,oe=R(z,G),re=le=>{Z(le),J(!0)},ae=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(z.length===0)return null;const se=le=>{var Ae,De;H&&(le?(Ae=ne.current)==null||Ae.open():(De=ne.current)==null||De.close())},fe=V(z);return(0,t.h)(i.T5,{className:"image-gallery-embed","data-drag-handle":""},(0,t.h)("figure",{className:p()(O.imageGallery,H&&O.canEdit),onMouseEnter:()=>se(!0),onMouseLeave:()=>se(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},H&&k&&(0,t.h)(F,{onEditGallery:ae,editGalleryRef:ne}),(0,t.h)(g.tu,{gap:8},ie?(0,t.h)(T,{src:z[0].src,alt:q,caption:G,size:y(0,1),onSelectImage:()=>re(0),useViewer:ee}):fe.map(le=>(0,t.h)(g.hs,{className:p()(O.imageRow,O[`length-${le.length}`]),gap:8},le.map(Ae=>(0,t.h)(T,{src:Ae.src,alt:q,caption:G,size:y(Ae.idx,z.length),onSelectImage:()=>re(Ae.idx),useViewer:ee})))),G&&(0,t.h)("figcaption",{className:O.imageCaption},G)),(0,t.h)(E.ImageViewerModal,{showModal:$,modalContent:oe,onClose:()=>J(!1),step:j})))},U=({node:W})=>{const{gallery:L}=W.attrs;if(!L)return null;const{alt:k,staticGalleryImage:H,caption:G}=L;return H?(0,t.h)("div",{className:p()(O.static,O.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,t.h)("img",{src:(0,v.imginary)(H.src,2*M.large),alt:k}),G&&(0,t.h)("div",{className:p()(O.imageCaption,O.static)},G)):null};function V(W){const L=W.length===4?2:3;let k=[W.slice(0,L)];const H=W.slice(L);return H.length>0&&(k=k.concat(V(H))),k}},85344:(K,f,e)=>{"use strict";e.d(f,{q:()=>A});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(23260),l=e(20964),v=e(84040),_=e(51126),g=e(43887),E=e(11688),S=e(79786);const O={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S",showAnyway:"frontend-components-ImageGroup-module__showAnyway--sC4sW"};function A({className:o,assets:s,readOnly:w,isRestack:P,isPreview:C,onClick:x,aspect:D}){const y=s.map(N=>typeof N=="string"?{src:N,explicit:!1}:N);let M=y;y.length>6&&(M=M.slice(0,5));const[T,R]=(0,a.eJ)(null),F=(N,U)=>{N.preventDefault(),R({index:U})};return(0,t.h)(_.hs,{className:c()(O.imageGroup,O[`size-${Math.min(y.length,6)}`],P&&O.restack,C&&O.preview,o),alignSelf:"stretch",gap:4},M.map(({src:N,explicit:U},V)=>(0,t.h)(u,{key:N,asset:N,explicit:U,index:V,total:y.length,readOnly:w,aspect:D,onClick:w?void 0:W=>{W.defaultPrevented||(W.preventDefault(),x&&x(),F(W,V))}})),y.length>6&&(0,t.h)(u,{asset:y[6].src,explicit:y[6].explicit,index:5,total:6,count:y.length-M.length,readOnly:w,onClick:w?void 0:x,aspect:D}),!w&&(0,t.h)(E.cr,{module:"./ImageViewerModal",resolve:N=>N.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:!!T,modalContent:y.map(N=>({attrs:{src:N.src}})),onClose:()=>{R(null)},step:T?T.index:void 0,includeDownloadButton:!1}))}function u({asset:o,explicit:s,onClick:w,index:P,total:C,count:x,readOnly:D,aspect:y}){const M=(0,l.M)(),[T,R]=(0,a.eJ)(s&&!M);return(0,t.h)(_.hs,{position:"relative",className:c()(O.image,!D&&O.clickable,P===0&&O.topLeft,(P===0&&C===1||P===1&&C===2||P===1&&C===4||P===2&&C!==4)&&O.topRight,(P===0&&C<=3||P===2&&C===4||P===3&&C>4)&&O.bottomLeft,(P+1===C||P==2&&C===5)&&O.bottomRight),flex:"grow",radius:6,onClick:T?void 0:w},(0,t.h)(S.e,{src:o,maxWidth:1e3,imageProps:{aspect:y||"1:1",smartCrop:!0,portraitCrop:C===1}}),T?(0,t.h)(_.tu,{justifyContent:"center",alignItems:"center",position:"absolute",inset:0,bg:"glass-inverted-thick",gap:16,cursor:"pointer",onClick:F=>{F.preventDefault(),R(!1)}},(0,t.h)(p.Z,{size:24,stroke:"var(--color-white)"}),C===1&&(0,t.h)(t.Fragment,null,(0,t.h)(_.tu,{gap:4,textAlign:"center"},(0,t.h)(g.xv.B4,{weight:"bold"},"Explicit content"),(0,t.h)(g.xv.B4,{color:"secondary"},"This image was hidden by your settings.")),(0,t.h)(v.zx,{className:O.showAnyway,priority:"secondary",outline:"none"},"Show anyway"))):x!=null&&(0,t.h)(_.hs,{className:O.imageCount,justifyContent:"center",alignItems:"center"},(0,t.h)(g.xv.H2,{color:"bg-light"},"+",x)))}},55661:(K,f,e)=>{"use strict";e.r(f),e.d(f,{ImageViewerContents:()=>w,ImageViewerModal:()=>s});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(2564),l=e(56743),v=e(71375),_=e(71212),g=e(15045),E=e(39419),S=e(92271),O=e(51126),A=e(62246),u=e(15822);const o={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function s({showModal:x,modalContent:D,onClose:y,step:M,includeDownloadButton:T=!0}){const R=F=>{F.stopPropagation(),y()};return(0,t.h)(A.u_,{isOpen:x,onClose:y,position:"full",opacity:"dark",onEscape:R},(0,t.h)(w,{modalContent:D,onClose:y,stepDefault:M,includeDownloadButton:T}))}function w({modalContent:x=[],onClose:D,stepDefault:y,includeDownloadButton:M}){const[T,R]=(0,a.eJ)(y),[F,N]=(0,a.eJ)(!0),U=(0,E.isMobileBrowser)(),V=j=>{j.currentTarget===j.target&&D()},[W,L]=(0,a.eJ)(!1);(0,a.d4)(()=>{if(!U){let j;const Z=ie=>{const{key:oe}=ie;["ArrowRight","ArrowDown"].includes(oe)?(H(),ie.stopPropagation()):["ArrowLeft","ArrowUp"].includes(oe)&&(k(),ie.stopPropagation())},ne=ie=>{(ie==null?void 0:ie.type)==="keydown"&&Z(ie),clearTimeout(j),L(!1),j=setTimeout(()=>{L(!0)},2e3)};return window.addEventListener("pointermove",ne,{capture:!0,passive:!0}),window.addEventListener("pointerdown",ne,{capture:!0,passive:!0}),window.addEventListener("keydown",ne,{capture:!0,passive:!0}),ne(),()=>{clearTimeout(j),window.removeEventListener("pointermove",ne,{capture:!0}),window.removeEventListener("pointerdown",ne,{capture:!0}),window.removeEventListener("keydown",ne,{capture:!0})}}},[U,T]);const k=()=>{T!==0&&(R(T-1),N(!0))},H=()=>{T!==x.length-1&&(R(T+1),N(!0))},G=x[T],{attrs:{src:q,alt:z,title:ee}}=G,$=U?8:16,J="#FFFFFF";return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:c()(o.chrome,W&&o.inactive)},T<x.length-1&&(0,t.h)(P,{buttonFunction:H,style:{right:0,padding:$},isSidebar:!0,icon:(0,t.h)(p.Z,{size:20,strokeWidth:2,stroke:J})}),T>0&&(0,t.h)(P,{buttonFunction:k,style:{left:0,padding:$},isSidebar:!0,icon:(0,t.h)(l.Z,{size:20,strokeWidth:2,stroke:J})}),(0,t.h)(P,{buttonFunction:D,style:{position:"absolute",right:$,top:$},isSidebar:!1,icon:(0,t.h)(v.Z,{size:20,strokeWidth:2,stroke:J})}),M&&(0,t.h)(P,{buttonFunction:j=>{j.stopPropagation(),C(ee,q)},style:{position:"absolute",left:$,top:$},isSidebar:!1,icon:(0,t.h)(_.Z,{size:20,strokeWidth:2,stroke:J})})),(0,t.h)("div",{className:o.imgContainer,onClick:V},(0,t.h)("img",{className:c()(o.img,F&&o.isLoading),onLoad:()=>{N(!1)},alt:z,title:ee,src:(0,g.imginary)(q,void 0,{quality:"auto:good"}),key:q,onClick:V})),F&&(0,t.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,t.h)(u.S,{className:o.imgDrunkSpin})))}function P({buttonFunction:x,style:D,isSidebar:y,icon:M,tetherRef:T}){return(0,t.h)(O.hs,{className:c()(o.modalImageButtonContainer,y?o.modalImageSidebar:null),style:D,alignItems:"center",justifyContent:"center",onClick:x,ref:T},(0,t.h)(S.z,{className:o.modalImageButton,look:"circle"},M))}function C(x,D){const y=document.createElement("a");return document.body.appendChild(y),y.href=D,y.target="_blank",y.click(),document.body.removeChild(y),null}},35442:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Metadata:()=>O});var t=e(6400),a=e(53836),i=e.n(a),c=e(15045),p=e(63030),l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(u,o,s)=>o in u?l(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,S=(u,o)=>{for(var s in o||(o={}))_.call(o,s)&&E(u,s,o[s]);if(v)for(var s of v(o))g.call(o,s)&&E(u,s,o[s]);return u};function O({badge:u,title:o,socialTitle:s,searchDescription:w,description:P,themeColor:C,image:x,seoProps:D,isLargeImage:y=!1,imageWidth:M,imageHeight:T,isPodcast:R=!1,isVideo:F=!1,slug:N,pub:U,post:V,siteName:W,publishedTime:L,meta:k=[],siteConfigs:H={},appUpsellLink:G}){const q={meta:[...k,{property:"og:type",content:"article"}]};u&&(q.titleTemplate=`(${u}) %s`),o&&(q.title=o,q.meta.push({property:"og:title",content:s||o},{name:"twitter:title",content:s||o})),(P||w)&&q.meta.push({name:"description",content:w||P},{property:"og:description",content:P},{name:"twitter:description",content:P}),C&&q.meta.push({name:"theme-color",content:C});const z=!!U&&U.invite_only,ee=!!V&&V.audience==="everyone",$=!z&&ee,J=$&&H.twitter_player_card_enabled,j=(U==null?void 0:U.subdomain)&&A.includes(U.subdomain)&&$;if(R&&U&&V){const Z=(0,p.getPodcastEpisodeImageUrl)(U,V);Z&&(x=(0,c.imginary)(Z,1200,{height:600,smartCrop:!0,format:"jpg"}),y=!0)}if(x){let Z="summary";y&&(Z="summary_large_image"),(R&&J||F&&j)&&(Z="player"),q.meta.push({property:"og:image",content:x},{name:"twitter:image",content:x},{name:"twitter:card",content:Z}),M&&q.meta.push({property:"og:image:width",content:M}),T&&q.meta.push({property:"og:image:height",content:T})}if(D){const Z=Object.entries(D).filter(([ne,ie])=>ie).map(([ne])=>ne).join(", ");Z&&q.meta.push({name:"robots",content:Z})}return U!=null&&U.explicit&&q.meta.push({name:"rating",content:"adult"}),R&&J&&q.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)(U)}/embed/podcast/${N}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),F&&j&&q.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)(U)}/embed/video/${N}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),W&&q.meta.push({property:"og:site_name",content:W}),L&&q.meta.push({property:"og:published_time",content:L}),G&&q.meta.push({name:"apple-itunes-app",content:`app-id=1581650857, app-argument=${G}`}),(0,t.h)(i(),S({},q))}const A=["pinespodcast","test1"]},8383:(K,f,e)=>{"use strict";e.r(f),e.d(f,{PaywallBreak:()=>i});var t=e(6400),a=e(24706);const i=c=>(0,t.h)(a.T5,{className:"paywall paywall-editor","data-drag-handle":""},(0,t.h)("hr",null),(0,t.h)("div",{class:"paywall-editor-pill"},(0,t.h)("span",null,"Paid content below this line"),(0,t.h)("div",{class:"paywall-editor-pill-icon-container"},(0,t.h)("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M8.75439 4.33398V14.834",stroke:"#666666","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M3.50439 9.58398L8.7544 14.834L14.0044 9.58398",stroke:"#666666","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))),(0,t.h)("hr",null))},74285:(K,f,e)=>{"use strict";e.d(f,{X:()=>p,h:()=>l});var t=e(6400),a=e(98661),i=e(30396);const c=(0,t.createContext)(null);function p({root:v,children:_}){const g=(0,i.sO)(v);return(0,t.h)(c.Provider,{value:g},_,!v&&(0,t.h)("div",{ref:g}))}function l({children:v}){const _=(0,i.qp)(c).current;return _?(0,a.createPortal)(v,_):null}},55489:(K,f,e)=>{"use strict";e.d(f,{s:()=>R});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(31131),l=e(28596),v=e(99869),_=e(82626),g=e(68227),E=e(36543),S=e(17835),O=e(9e3),A=e(66839),u=e(56838),o=e(91004),s=e(3258),w=e(58884),P=e(39419),C=e(13045),x=e(35616),D=e(4190),y=e(28488);const M={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var T=(U,V,W)=>new Promise((L,k)=>{var H=z=>{try{q(W.next(z))}catch(ee){k(ee)}},G=z=>{try{q(W.throw(z))}catch(ee){k(ee)}},q=z=>z.done?L(z.value):Promise.resolve(z.value).then(H,G);q((W=W.apply(U,V)).next())});function R({post:U,user:V,pub:W,trigger:L,instagramExperimentActive:k,onChange:H,toggleInstagramModal:G,position:q}){const{iString:z}=(0,y.M1)(),ee=(0,x.N)(),{exposeExperiment:$,getExperimentVariant:J}=(0,D.jc)(),j=(0,o.O1)(null,{post:U,pub:W,user:V,useCustomDomainOverOpen:!0}),Z=(0,o.B8)({post:U,pub:W}),ne={title:Z,url:j},ie=(0,P.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(ne),[oe,re]=(0,a.eJ)(ie),ae=()=>T(this,null,function*(){var gt;if((0,s.j)(s.FP.POST_SHARE_BUTTON_CLICKED,{position:q}),k&&$("instagram_post_sharing"),ie&&oe)try{yield navigator.share(ne),(0,s.j)(s.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(gt=U.id)!=null?gt:null,utm_campaign:"default"}),(0,w.ex)(`${W.subdomain} shared`,!0);return}catch(Xe){if(!(Xe instanceof Error)||Xe.name==="AbortError")return;re(!1),(0,s.j)(s.FP.NATIVE_SHARE_FAILED,{errorName:Xe.name,errorMessage:Xe.message})}}),se=()=>{(0,o.Wn)({shareUrl:j,shareName:Z,pub:W,post:U,utm_campaign:q}),H==null||H()},fe=()=>{(0,o.Po)({shareUrl:j,pub:W,post:U,utm_campaign:q}),H==null||H()},le=()=>{(0,o.lc)({shareUrl:j,pub:W,post:U,utm_campaign:q}),H==null||H()},Ae=()=>{(0,o.BZ)({shareUrl:j,pub:W,post:U,utm_campaign:q}),H==null||H()},De=()=>{(0,o.WZ)({shareUrl:j,shareName:Z,pub:W,post:U,utm_campaign:q}),H==null||H()},je=()=>{(0,o.Ui)({shareUrl:j,pub:W,post:U,utm_campaign:q}),H==null||H()},Je=()=>{G==null||G(),(0,s.j)(s.FP.SHARE_LINK_CLICKED,{name:"instagram",post_id:U.id,source:q}),H==null||H()},Be=k&&J("instagram_post_sharing"),st=Be&&["treatment_new","treatment_default"].includes(Be);let ht;if(F(L))ht=L;else if(N(L)){let gt;U.share_url_override?gt=U.share_url_override:L.isStatic?U?gt=_.Substitutions.SHARE_URL:gt=_.Substitutions.SHARE_PUB_URL:gt="javascript:void(0)";const Xe=L.labelStyle==="none";ht=(0,t.h)(u.Ng,{style:L.style,icon:Xe?(0,t.h)(p.Z,{className:"icon",height:(0,u.Su)(L.style),strokeWidth:u.PA}):null,href:gt,noLabel:L.labelStyle==="none",className:c()(!Xe&&"no-icon")},L.labelStyle==="cta"&&z("Share"))}return(0,t.h)(C.v2,{trigger:ht,onOpen:ae,useMobileBottomSheet:!0,disableMenu:oe,layerOptions:{placement:q==="pub-preview"?"bottom-start":"bottom-end",preferX:q==="pub-preview"?"right":"left"},className:M.dropdownMenu,maxHeight:"fit-content"},(0,t.h)(C.sN,{icon:(0,t.h)(O.Z,{height:24}),onClick:Ae},(0,t.h)(C.gq,{justifyContent:"space-between",alignItems:"center"},z(ee?"Share as a note":"Share to Notes"),(!k||!st)&&(0,t.h)(C.hs,{className:M.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,t.h)(C.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),st&&(0,t.h)(C.sN,{icon:(0,t.h)(E.Z,{height:24}),onClick:Je},(0,t.h)(C.gq,{justifyContent:"space-between",alignItems:"center"},z("Share to Instagram"),Be==="treatment_new"&&(0,t.h)(C.hs,{className:M.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,t.h)(C.xv.B4,{translated:!0,size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,t.h)(C.sN,{icon:(0,t.h)(A.Z,{height:24}),onClick:se},z("Share to Twitter")),(0,t.h)(C.sN,{icon:(0,t.h)(g.Z,{height:24}),onClick:fe},z("Share to Facebook")),(0,t.h)(C.sN,{icon:(0,t.h)(S.Z,{height:24}),onClick:le},z("Share to Linkedin")),(0,t.h)("div",{className:M.divider}),(0,t.h)(C.sN,{icon:(0,t.h)(C.hs,{className:M.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,t.h)(l.Z,{className:M.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:De},z("Send as email")),(0,t.h)(C.sN,{icon:(0,t.h)(C.hs,{className:M.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,t.h)(v.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:je},z("Copy link")))}function F(U){return U.type!==void 0}function N(U){const V=U;return V.style!==void 0&&V.labelStyle!==void 0}},71278:(K,f,e)=>{"use strict";e.d(f,{Z:()=>s});var t=e(6400),a=e(94184),i=e.n(a),c=e(98661),p=e(15045),l=e(76193),v=e(3258),_=e(28488),g=e(41487),E=e(33510),S=e(40946),O=e(96656),A=(w,P,C)=>new Promise((x,D)=>{var y=R=>{try{T(C.next(R))}catch(F){D(F)}},M=R=>{try{T(C.throw(R))}catch(F){D(F)}},T=R=>R.done?x(R.value):Promise.resolve(R.value).then(y,M);T((C=C.apply(w,P)).next())});const u=({pub:w,post:P,style:C,text:x,inline:D,sharePage:y,source:M})=>{const{img:T,imgDownload:R,shareData:F,useNativeShare:N}=(0,g.Q)({shareTitle:"Share this post",shareText:P.title,shareUrl:(0,p.getPostUrl)(w,P),imageDownloadUrl:(0,p.getPressKitUrl)(w,P,C,`${x}${C.aspectRatio?` - ${C.aspectRatio}`:""}`),imageUrl:(0,p.getPressKitUrl)(w,P,C),imageUrlSameOrigin:(0,p.getPressKitImageUrl)(w,P,C)}),U=(0,c.useCallback)(()=>A(void 0,null,function*(){if((0,v.j)(v.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:P.id,type:x,aspectRatio:C.aspectRatio,share_center:y,inline:!!D,source:M}),N&&F)try{yield navigator.share(F)}catch(W){}}),[P,x,C,y,D,N,F,M]),V=(0,c.useCallback)(()=>{(0,v.j)(v.FP.IMAGE_CONTEXT_MENU_CLICKED,{post_id:P.id,clicked_from:"writer_media_assets",type:x,aspectRatio:C.aspectRatio,share_center:y,inline:!!D,source:M})},[P,x,C,y,D,M]);return(0,t.h)("a",{onClick:U,href:N?void 0:R,alt:"Download Image",download:!0,className:O.Z.link,target:"_blank",rel:"noreferrer",onContextMenu:V},(0,t.h)("div",{className:i()(O.Z.root,{[O.Z.sharePage]:y})},!(0,l.isMobile)()&&(0,t.h)("div",{className:O.Z.download},(0,t.h)(S.Z,{stroke:"#404040",fill:"white"})),!T&&(0,t.h)("div",{className:i()(O.Z.image,O.Z.imageLoading,{[O.Z.secondaryBorder]:y}),alt:"Loading"},(0,t.h)(E.Sv,null)),T&&(0,t.h)("img",{src:T,className:i()(O.Z.image,{[O.Z.inline]:D,[O.Z.sharePage]:y&&!D,[O.Z.secondaryBorder]:y})})))},o=({pub:w,post:P,style:C,downloadUrl:x})=>{const{iString:D}=useI18N();return h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:x||getPressKitUrl(w,P,C,"image"),alt:D("Download Image"),download:!0,target:"_blank",className:PressKitCss.link,rel:"noreferrer"},h("img",{src:getPressKitUrl(w,P,C),className:PressKitCss.imageEmail})))))},s=u},80332:(K,f,e)=>{"use strict";e.d(f,{Ct:()=>re,L0:()=>oe,PP:()=>gt});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(32224),l=e(77883),v=e(15045),_=e(20501),g=e(76193),E=e(83322),S=e(4190),O=e(58718),A=e(28488),u=e(92643),o=e(67963),s=e(69518),w=e(60779),P=e(59386),C=e(3258),x=e(69229),D=e(84040),y=e(48960),M=e(51126),T=e(94016),R=e(43887),F=e(10186),N=e(55886),U=e(68262),V=e(44695),W=e(45809),L=e(27797),k=Object.defineProperty,H=Object.defineProperties,G=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,$=(Ne,ke,ot)=>ke in Ne?k(Ne,ke,{enumerable:!0,configurable:!0,writable:!0,value:ot}):Ne[ke]=ot,J=(Ne,ke)=>{for(var ot in ke||(ke={}))z.call(ke,ot)&&$(Ne,ot,ke[ot]);if(q)for(var ot of q(ke))ee.call(ke,ot)&&$(Ne,ot,ke[ot]);return Ne},j=(Ne,ke)=>H(Ne,G(ke)),Z=(Ne,ke)=>{var ot={};for(var Dt in Ne)z.call(Ne,Dt)&&ke.indexOf(Dt)<0&&(ot[Dt]=Ne[Dt]);if(Ne!=null&&q)for(var Dt of q(Ne))ke.indexOf(Dt)<0&&ee.call(Ne,Dt)&&(ot[Dt]=Ne[Dt]);return ot};const ne=3,ie=1;function oe(Ne){return!!Ne.id&&!!Ne.name}function re(Ne){var ke=Ne,{dontStopPropagation:ot,inline:Dt,children:ln}=ke,ct=Z(ke,["dontStopPropagation","inline","children"]);const Oe=ae(ct);return(0,g.isMobile)()?(0,t.h)(t.Fragment,null,ln):(0,t.h)("div",j(J(J({className:c()("profile-hover-card-target",L.Z.profileHoverCardTarget,Dt&&L.Z.inline,ct.className&&ct.className)},Oe.triggerProps),Oe.hoverProps),{onClick:Se=>{ot||Se.stopPropagation()}}),ln,Oe.layer)}function ae(Ne){var ke=Ne,{subject:ot,utmSource:Dt,placement:ln}=ke,ct=Z(ke,["subject","utmSource","placement"]);const{loading:Oe,refetch:Se,viewerProfile:Ze,subjectProfile:Fe}=(0,u.Un)({subjectId:(ot==null?void 0:ot.author_id)||(ot==null?void 0:ot.user_id)||(ot==null?void 0:ot.id),subjectName:(ot==null?void 0:ot.name)||"Substack user",delayLoading:!0}),Ke=ot&&Ze&&(ot==null?void 0:ot.id)===Ze.id,et=ot==null?void 0:ot.id,Qe=(0,a.I4)(()=>{var Te;et&&!Fe&&Se(et);const te=(((Te=Fe==null?void 0:Fe.publicationUsers)==null?void 0:Te.length)||0)>0;Fe&&(0,C.j)(C.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:Fe.id,is_self:!!Ke,has_publication:!!te})},[Se,et,Fe,Ke]),$e=(0,T.o)(J({className:L.Z.profileHoverCard,onOpen:Qe,loading:Oe&&!Fe,hideOnScroll:!0,layerOptions:{placement:ln!=null?ln:"right-center"},content:Fe?(0,t.h)(gt,{profile:Fe,subject:ot,utmSource:Dt,forceRefresh:()=>Se(et)}):null},ct));return(0,g.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:$e}const se="account-card";function fe(Ne){let ke=[];Ne&&Ne.subscriptions&&(ke=(0,E.sortSubscriptions)(Ne.subscriptions.filter(Dt=>!!Dt)));let ot=null;return ke.length>ne&&(ot=`See all (${(0,E.numberToString)(ke.length)})`),ke=ke.slice(0,ne),{subscriptions:ke,moreSubsLabel:ot}}function le(Ne){let ke=[];Ne&&Ne.publicationUsers&&(ke=Ne.publicationUsers.filter(Dt=>!!Dt),ke=ke&&(0,x.b)(ke));let ot=null;return ke.length>ie&&(ot=`See all (${(0,E.numberToString)(ke.length)})`),ke=ke.slice(0,ie),{publications:ke,morePubsLabel:ot}}function Ae({pub:Ne,isWrites:ke,isFounding:ot,isPaid:Dt,utmSource:ln}){const ct=(0,v.getPubUrl)(Ne,{params:{utm_source:ln||se,utm_content:ke?"writes":"reads"},signedIn:!!(0,o.aF)()});return Ne?(0,t.h)("a",{href:ct,target:"_blank",onClick:()=>{(0,C.j)(ke?C.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:C.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,C.x6)(Ne,"hover_profile")},className:L.Z.hoverCardAvatar,rel:"noopener"},(0,t.h)(U.F,{pub:Ne,size:32,badgeType:ot?"founder":Dt?"subscribed":null}),(0,t.h)(R.xv.B4,{weight:"medium",title:Ne.name},Ne.name)):null}function De({pub:Ne,utmSource:ke}){const ot=(0,v.getPubUrl)(Ne,{params:{utm_source:ke||se,utm_content:"writes"},signedIn:!!(0,o.aF)()}),Dt=(0,E.getByLine)(Ne);return(0,t.h)(M.tu,{as:"a",href:ot,target:"_blank",onClick:()=>{(0,C.j)(C.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,C.x6)(Ne,"hover_profile")},rel:"noopener",padding:12,gap:12,className:L.Z.writesCard,radius:12},(0,t.h)(M.gq,{gap:12},(0,t.h)(U.F,{pub:Ne,size:40}),(0,t.h)(M.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,t.h)(R.xv.B4,{weight:"semibold"},Ne.name),Dt&&(0,t.h)(R.xv.B4,{translated:!0,color:"secondary"},"By ",I18N.p(Dt)))),Ne.hero_text&&(0,t.h)(R.xv.B4,{color:"secondary",clamp:3},Ne.hero_text))}function je({subject:Ne,subscriptions:ke,moreSubsLabel:ot,utmSource:Dt}){const{iString:ln}=(0,A.M1)();return(0,t.h)(M.tu,null,(0,t.h)(V.GF,{sectionTitle:ln("Reads"),seeAllLabel:ot,link:Xe(Ne,{utmSource:Dt})}),(0,t.h)(M.tu,null,ke.map(ct=>(0,t.h)(Ae,{pub:ct.publication,isPaid:ct.membership_state==="subscribed",isFounding:ct.is_founding,utmSource:Dt}))))}function Je({publication:Ne,utmSource:ke}){return Ne?(0,t.h)(De,{pub:Ne,utmSource:ke}):null}function Be({pub:Ne,profileId:ke,isSubscribed:ot,user:Dt,utmSource:ln,forceRefreshCard:ct}){const{iString:Oe}=(0,A.M1)(),{getExperimentVariant:Se,exposeExperiment:Ze}=(0,S.jc)(),{isLoading:Fe,subscribe:Ke}=(0,l.G)({publication:Ne,profileId:ke,source:ln!=null?ln:"profile-card",onSuccess:()=>{ct()}}),et=Ne?(0,_.getSubscribeUrl)(Ne,{user:Dt,addBase:!0,params:{utm_source:ln||se,utm_content:"subscribes",next:document.location.href}}):"";return Ne&&(ot?(0,t.h)(D.zx,{priority:"secondary",fill:"outline",href:et,rounded:!0,onClick:()=>{(0,C.j)(C.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,C.x6)(Ne,"hover_profile")},title:Ne.name},Oe("Subscribed")):ln==="feed"&&Dt?(0,t.h)(D.zx,{priority:"primary",rounded:!0,onClick:Qe=>{Qe.preventDefault(),Ke()},title:Ne.name,disabled:Fe},(0,t.h)(M.gq,{alignItems:"center",gap:8},(0,t.h)(p.Z,{size:20}),Oe("Subscribe"))):(0,t.h)(D.zx,{priority:"primary",href:et,localNavigation:!1,rounded:!0,onClick:()=>{(0,C.j)(C.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,C.x6)(Ne,"hover_profile")},title:Ne.name},(0,t.h)(M.gq,{alignItems:"center",gap:8},(0,t.h)(p.Z,{size:20}),Oe("Subscribe"))))}function st({profile:Ne}){const{isFollowing:ke,buttonProps:ot,css:Dt}=(0,O.yr)(Ne,"hover-card");return(0,t.h)(D.hU,J({fill:"outline"},ot),ke?(0,t.h)(t.Fragment,null,(0,t.h)(s.$,{className:Dt.off}),(0,t.h)(P.m,{className:Dt.on})):(0,t.h)(w.w,null))}function ht({profile:Ne}){const{isFollowing:ke,buttonProps:ot}=(0,O.yr)(Ne,"hover-card"),{iString:Dt}=(0,A.M1)();return(0,t.h)(D.zx,J({fill:"outline",priority:"primary",rounded:!0},ot),ke?(0,t.h)(t.Fragment,null,(0,t.h)(O.OK,null,Dt("Following")),(0,t.h)(O.Rc,null,Dt("Unfollow"))):Dt("Follow"))}function gt({profile:Ne,subject:ke,themed:ot,className:Dt,utmSource:ln,hideSubscribeButtons:ct,forceRefresh:Oe}){var Se,Ze;const Fe=(0,o.aF)(),{iString:Ke}=(0,A.M1)();if(!Ne)return null;const{subscriptions:et,moreSubsLabel:Qe}=fe(Ne),{publications:$e}=le(Ne),Te=Xe(ke,{utmSource:ln}),te=(ke==null?void 0:ke.name)||"",ue=Ne.primaryPublication&&((Se=Ne.publicationUsers.find(Ve=>{var Pe;return Ve.publication_id===((Pe=Ne==null?void 0:Ne.primaryPublication)==null?void 0:Pe.id)}))==null?void 0:Se.publication),we=ke&&ke.id===(Fe==null?void 0:Fe.id),me=we&&Ne&&!Ne.profile_set_up_at,Ee=$e.length>0&&!me,he=et.length>0&&!me&&!Ee,xe=(Ze=Ne==null?void 0:Ne.handle)!=null?Ze:null;return(0,t.h)("div",{className:Dt},(0,t.h)(M.tu,{gap:16,padding:8},(0,t.h)(M.gq,{justifyContent:"space-between"},(0,t.h)("a",{href:Te},(0,t.h)(F.qE,{user:Ne,size:64})),me?(0,t.h)(D.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,v.getProfileSetupUrl)({utm_source:ln||se})},Ke("Set up profile")):we?(0,t.h)(D.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,v.getEditProfileUrl)()},Ke("Edit profile")):ct?null:(0,t.h)(M.hs,{gap:4},ue?(0,t.h)(t.Fragment,null,(0,t.h)(st,{profile:Ne}),(0,t.h)(Be,{pub:ue,isSubscribed:Ne.isSubscribed,user:Fe,profileId:Ne.id,utmSource:ln,forceRefreshCard:Oe})):(0,t.h)(ht,{profile:Ne}))),(0,t.h)(M.tu,{gap:6},(0,t.h)(V.Sz,{themed:ot,title:te,handle:xe,blurb:Ne.bio,url:Te,userId:ke.id,bestsellerTier:Ne.bestseller_tier})),Ee&&(0,t.h)(Je,{publication:ue,utmSource:ln}),he&&(0,t.h)(t.Fragment,null,(0,t.h)(y.i,null),(0,t.h)(je,{subject:ke,subscriptions:et,moreSubsLabel:Qe,utmSource:ln})),Ne.mutuals&&(0,t.h)(Re,{mutuals:Ne.mutuals,utmSource:ln})))}function Xe(Ne,{utmSource:ke}={}){const ot=typeof window!="undefined"&&window.location.href.startsWith((0,_.getSubstackUrl)());return(0,v.getReaderProfileUrl)(Ne,{noBase:ot,utm_source:ke||se})}function Re({mutuals:Ne,utmSource:ke}){const{iString:ln,iPlural:ct}=(0,A.M1)(),{paidSubscribers:Oe,freeSubscribers:Se,recommenders:Ze}=Ne;let Fe,Ke;Oe.length>0?(Fe="paid",Ke=Oe):Ze.length>0?(Fe="recommended",Ke=Ze):(Fe="free",Ke=Se);const et=Ke.sort(Qe=>Qe.photo_url?1:-1);return et.length===0?null:(0,t.h)(M.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,t.h)(M.hs,{style:{paddingLeft:6}},et.slice(0,3).map(Qe=>(0,t.h)(M.hs,{as:"a",key:Qe.id,href:(0,v.getReaderProfileUrl)(Qe,{utm_source:"profile-card"})},(0,t.h)(N.t,{className:L.Z.facepileFace,src:Qe.photo_url||(0,v.getDefaultUserPhotoById)(Qe.id),size:24})))),(0,t.h)(R.xv,{font:"text",color:"secondary",size:12},Fe==="recommended"&&ln("Recommended by "),(0,t.h)(W.M,{array:et,limit:3,formatter:Qe=>(0,t.h)(R.hh,{href:Xe(Qe,{utmSource:ke})},Qe.name)})," ",Fe==="paid"?ct("is a paid subscriber","are paid subscribers",Ke.length):Fe==="free"?ct("subscribes","subscribe",Ke.length):"","."))}},96098:(K,f,e)=>{"use strict";e.d(f,{h:()=>i});var t=e(6400),a=e(61864);function i({children:c}){return(0,t.h)("div",{className:a.Z.pubTheme},c)}},68642:(K,f,e)=>{"use strict";e.d(f,{C:()=>w,R:()=>P});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(23279),l=e.n(p),v=e(24840),_=e(51126),g=e(46890),E=Object.defineProperty,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,u=(C,x,D)=>x in C?E(C,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):C[x]=D,o=(C,x)=>{for(var D in x||(x={}))O.call(x,D)&&u(C,D,x[D]);if(S)for(var D of S(x))A.call(x,D)&&u(C,D,x[D]);return C},s=(C,x)=>{var D={};for(var y in C)O.call(C,y)&&x.indexOf(y)<0&&(D[y]=C[y]);if(C!=null&&S)for(var y of S(C))x.indexOf(y)<0&&A.call(C,y)&&(D[y]=C[y]);return D};function w({items:C,getKeys:x,sort:D=!0,sortFunc:y,deps:M}){const T=(W,L)=>{const k=x(W),H=x(L);for(let G=0;G<Math.min(k.length,H.length);G++){const q=k[G].localeCompare(H[G]);if(q!==0)return q}return k.length-H.length},[R,F]=(0,a.eJ)(""),N=(0,a.Ye)(()=>l()(F,100),[F]),U=R.trim(),V=(0,a.Ye)(()=>{if(!U)return C;let W=C.filter(L=>x(L).some(H=>H.toLowerCase().includes(U.toLowerCase())));if(D||y){const L=y||T;W=W.sort(L)}return W},M?[U,...M]:[U,C]);return{setQuery:N,filteredItems:V,hasFiltered:U!==""}}function P(C){var x=C,{setQuery:D,placeholder:y="Search...",size:M="medium",value:T=void 0}=x,R=s(x,["setQuery","placeholder","size","value"]);const F=U=>{D(U.currentTarget.value)},N=(0,a.sO)(null);return(0,t.h)(_.hs,o({className:c()(g.Z.searchContainer,g.Z[M]),bg:"secondary",paddingX:M==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var U;return(U=N.current)==null?void 0:U.focus()}},R),(0,t.h)(v.Z,{size:M==="small"?16:20,color:"var(--color-secondary)"}),(0,t.h)("input",{type:"search",className:g.Z.searchInput,ref:N,placeholder:y,onInput:F,value:T}))}},48042:(K,f,e)=>{"use strict";e.d(f,{ar:()=>S,rn:()=>E});var t=e(6400),a=e(94184),i=e.n(a),c=e(25380),p=e(13045),l=e(70073),v=e(27247),_=e(78137);const g=null,E=({isSelected:O,value:A,onClick:u,coverImageUrl:o,themeVariables:s})=>{let w=s.web_bg_color||s.cover_bg_color,P=s.print_on_web_bg_color||s.cover_print_primary||"#1a1a1a";return A==="accent"?(w=s.background_pop_color||s.background_pop,P=s.print_on_pop):A==="image"&&(P="#ffffff",w="rgba(0,0,0,0.5)"),(0,t.h)(p.kG,{className:i()(_.Z.customizeAssetButton,_.Z.themeButton,O&&_.Z.selected,A==="image"&&_.Z.image),onClick:C=>{C.preventDefault(),u()},style:{backgroundColor:w}},A==="image"&&(0,t.h)("div",{className:_.Z.imageBg,style:{backgroundImage:`url(${o})`}}),(0,t.h)("div",{className:i()(_.Z.inner,A==="image"&&_.Z.image)},O&&(0,t.h)(c.Z,{stroke:P,size:18})))},S=({isSelected:O,value:A,label:u,onClick:o})=>(0,t.h)(p.zx,{rounded:!0,priority:"secondary",className:i()(_.Z.customizeAssetButton,_.Z.aspectRatioButton,O&&_.Z.selected),onClick:s=>{s.preventDefault(),o()},leftIcon:A==="square"?(0,t.h)(v.Z,null):(0,t.h)(l.Z,null)},u)},58592:(K,f,e)=>{"use strict";e.r(f),e.d(f,{AudioEmbedPlayer:()=>q,AudioEmbedPlayerStatic:()=>z,AudioFeature:()=>N,AudioFeatureDescription:()=>U,AudioUploadErrorModal:()=>J,PlayButton:()=>H,PlaybackRateToggle:()=>k,PlayerControls:()=>G,ProgressBar:()=>W,ProgressBarTheme:()=>V,VoiceoverPlayer:()=>ee,VoiceoverPlayerStatic:()=>$});var t=e(6400),a=e(94184),i=e.n(a),c=e(1852),p=e(82626),l=e(92271),v=e(62246),_=e(83322),g=e(28488),E=e(3258),S=e(18165),O=e(97737),A=e(14846),u=e(82019),o=e(97864),s=e(17590);const w={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var P=Object.defineProperty,C=Object.defineProperties,x=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,T=(j,Z,ne)=>Z in j?P(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:ne}):j[Z]=ne,R=(j,Z)=>{for(var ne in Z||(Z={}))y.call(Z,ne)&&T(j,ne,Z[ne]);if(D)for(var ne of D(Z))M.call(Z,ne)&&T(j,ne,Z[ne]);return j},F=(j,Z)=>C(j,x(Z)),N=(j=>(j.Embed="Embed audio",j.Voiceover="Add voiceover",j.Podcast="Podcast",j.PodcastPreview="Podcast free version",j.VideoPodcast="Episode",j.ShareQuote="Share quote",j))(N||{}),U=(j=>(j.Embed="Upload or record an audio file embedded into the text.",j.Voiceover="Upload or record a new voiceover: an audio version of your post.",j.Podcast="Create a new podcast episode by uploading or recording an audio file.",j.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",j.VideoPodcast="Create a new podcast episode by uploading or recording a video file. The audio from your video will be delivered to podcast players.",j.ShareQuote="Upload or record an audio file that will be used as a share quote.",j))(U||{}),V=(j=>(j[j.PubAccent=0]="PubAccent",j[j.PubFull=1]="PubFull",j[j.Substack=2]="Substack",j))(V||{});const W=({containerRef:j,currentTime:Z,remainingTime:ne,progress:ie,onMouseDown:oe,shouldCollapseOnMobile:re=!1,theme:ae=1})=>(0,t.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,t.h)("div",{className:i()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":re})},Z),(0,t.h)("div",{ref:j,className:i()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":re}),onMouseDown:oe},(0,t.h)("div",{className:i()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":ae===1,"tw-bg-substack-detail":ae!==1})}),(0,t.h)("div",{className:i()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":ae!==2,"tw-bg-substack-accent":ae===2}),style:{width:`${ie*100}%`}}),(0,t.h)("div",{className:i()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":ae===1,"tw-border-substack-bg":ae!==1,"tw-bg-substack-accent":ae===2,"tw-bg-pub-accent":ae!==2}),style:{left:`${ie*100}%`}})),(0,t.h)("div",{className:"tw-min-w-[40px]"},ne)),L=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],k=({onSetPlaybackRate:j,playbackRate:Z,className:ne})=>{const ie=L.findIndex(({value:oe})=>oe===Z);return(0,t.h)("div",{onClick:()=>{const oe=(ie+1)%L.length;j(L[oe].value)},className:ne},L[ie].display,"\xD7")},H=({togglePlayback:j,isPlaying:Z,isDisabled:ne=!1})=>(0,t.h)("div",{onClick:()=>{(0,E.j)(E.FP.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:ne}),ne||j()},className:"tw-flex tw-justify-center tw-pb-8"},Z?(0,t.h)("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},(0,t.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,t.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,t.h)(o.Z,{className:i()("tw-relative tw-left-1",{"tw-cursor-pointer":!ne,"tw-fill-pub-accent":!ne,"tw-fill-substack-detail":ne}),stroke:"none",height:28})),G=({isPlaying:j,onSkipBack:Z,onSkipForward:ne,onTogglePlayback:ie})=>(0,t.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},Z&&(0,t.h)("div",{onClick:Z,role:"button",className:"tw-cursor-pointer"},(0,t.h)(O.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,t.h)("div",{className:i()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:ie,role:"button"},j?(0,t.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,t.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,t.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,t.h)(o.Z,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),ne&&(0,t.h)("div",{onClick:ne,role:"button",className:"tw-cursor-pointer"},(0,t.h)(A.Z,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),q=j=>(0,t.h)(S.Z,F(R({},j),{metricsPost:j.post,feature:"Embed audio",render:({currentTime:Z,isPlaying:ne,progress:ie,progressBarRef:oe,progressBarOnMouseDown:re,remainingTime:ae,playbackRate:se,setPlaybackRate:fe,togglePlayback:le})=>(0,t.h)("div",{"data-component-name":"AudioEmbedPlayer","data-drag-handle":"",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,t.h)(k,{onSetPlaybackRate:fe,playbackRate:se,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,t.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},j.label&&(0,t.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},j.label),(0,t.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,t.h)(W,{currentTime:Z,remainingTime:ae,containerRef:oe,progress:ie,onMouseDown:re}))),(0,t.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:le,role:"button"},ne?(0,t.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,t.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,t.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,t.h)(o.Z,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),z=({pub:j,post:Z,duration:ne,label:ie})=>{var oe;const{iString:re}=(0,g.M1)();return(0,t.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,t.h)("tr",null,(0,t.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,t.h)("a",{href:Z.canonical_url,className:i()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",w.noUnderline)},(0,t.h)(u.Z,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(oe=j.theme)==null?void 0:oe.background_pop_color,isStatic:!0}),(0,t.h)("span",{className:"tw-align-middle"},(0,_.truncateText)(ie,10)||re("Listen now")," \xB7 ",(0,_.secondsToHHMMSS)(ne))))))},ee=j=>{const Z=(0,c.useMediaQuery)({maxWidth:631}),ne=`/api/v1/audio/upload/${j.mediaUploadId}/src`,{iString:ie,iTemplate:oe}=(0,g.M1)();return(0,t.h)(S.Z,F(R({},j),{src:ne,feature:"Add voiceover",metricsPost:j.post,render:({isPaywalled:re,currentTime:ae,isPlaying:se,progress:fe,progressBarRef:le,progressBarOnMouseDown:Ae,remainingTime:De,playbackRate:je,setPlaybackRate:Je,togglePlayback:Be})=>(0,t.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,t.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,t.h)(s.Z,{className:"tw-stroke-pub-secondary-text"})),(0,t.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},re?(0,t.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},ie("Upgrade to paid to play voiceover")):(0,t.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,t.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},ie("Article voiceover")),(0,t.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,t.h)(k,{onSetPlaybackRate:Je,playbackRate:je,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,t.h)(W,{currentTime:ae,remainingTime:De,containerRef:le,progress:fe,onMouseDown:Ae,shouldCollapseOnMobile:!0}))),re?(0,t.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,t.h)(o.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:Z?20:24})):(0,t.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Be,role:"button"},se?(0,t.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,t.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,t.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,t.h)(o.Z,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},$=({pub:j,post:Z,isPaywalled:ne})=>{var ie,oe,re;const ae=ne?"Upgrade to paid for post voiceover":`Listen to post ${((ie=Z.voiceoverUpload)==null?void 0:ie.duration)&&`\xB7 ${(0,_.secondsToHHMMSS)(Z.voiceoverUpload.duration)}`}`;return(0,t.h)("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,t.h)("tr",null,(0,t.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,t.h)("a",{href:`${p.Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:i()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",w.noUnderline)},(0,t.h)(u.Z,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:ne?(oe=j.theme)==null?void 0:oe.background_contrast_3:(re=j.theme)==null?void 0:re.background_pop_color,isStatic:!0}),(0,t.h)("span",{className:"voiceover-player-static-cta tw-align-middle"},ae)))))},J=({isOpen:j,onDismiss:Z,onDeleteAudio:ne})=>(0,t.h)(v.u_,{isOpen:j,onClose:Z},(0,t.h)(v.xB,{includeClose:!1,title:"Something went wrong..."}),(0,t.h)(v.fe,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),(0,t.h)(v.mz,{includeDivider:!1,alignment:"default",primaryButton:(0,t.h)(l.z,{onClick:ne,variant:"primary"},"Got it")}))},92949:(K,f,e)=>{"use strict";e.r(f),e.d(f,{AutocompleteResults:()=>u});var t=e(6400),a=e(98661),i=e(30396),c=e(15045),p=e(51126),l=e(43887),v=e(95297),_=e(68262),g=e(38441);const E={items:"frontend-components-autocomplete_results-module__items--QOhhk",item:"frontend-components-autocomplete_results-module__item--MJeUr",isSelected:"frontend-components-autocomplete_results-module__isSelected--ONPGC",profileImg:"frontend-components-autocomplete_results-module__profileImg--Nv3m7",showMore:"frontend-components-autocomplete_results-module__showMore--qRni7"},S=({items:s,selectItem:w,selectedItem:P,setSelectedItem:C,selectedItemRef:x,query:D})=>(0,t.h)(t.Fragment,null,s.map(y=>(0,t.h)(A,{isSelected:P&&y.id===P.id&&y.type===P.type,key:y.id+y.type,onClick:()=>w(y),onMouseEnter:()=>C(y),elemRef:P&&y.id===P.id&&y.type===P.type?x:void 0},(0,t.h)(p.gq,{flex:"grow",alignItems:"center",gap:12,padding:8},y.type==="user"&&(0,t.h)(O,{item:y,query:D}),y.type==="pub"&&(0,t.h)(t.Fragment,null,(0,t.h)(_.F,{className:E.profileImg,logoUrl:y.photo_url||(0,c.getDefaultUserPhotoById)(y.id),size:32,publicationName:y.name}),(0,t.h)(p.tu,{style:{maxWidth:"260px"}},(0,t.h)(l.xv.B4,{weight:"semibold",ellipsis:!0,as:"div"},y.name),y.author_name&&y.author_name.length>0?(0,t.h)(l.xv.Detail,{ellipsis:!0},"by ",y.author_name):null))))));function O({item:s,query:w}){var P;let C=null;s.publications&&s.publications.length>0&&(s.primary_publication_id?C=s.publications.find(({id:D})=>D===s.primary_publication_id)||s.publications[0]:C=s.publications[0]);const x=s.handle&&w&&((P=s.handle)==null?void 0:P.startsWith(w));return(0,t.h)(t.Fragment,null,(0,t.h)(g.m1,{className:E.profileImg,photo_url:(0,c.imginary)(s.photo_url||(0,c.getDefaultUserPhotoById)(s.id),80),lazy:!0,size:32}),(0,t.h)(p.tu,{style:{maxWidth:"260px"}},(0,t.h)(p.gq,{gap:6},(0,t.h)(l.xv.B4,{weight:"semibold",ellipsis:!0,as:"div"},s.name),s.bestseller_tier!==0&&(0,t.h)(v.s,{tier:s.bestseller_tier,size:"sm",userId:s.id})),C&&x?(0,t.h)(l.xv.Detail,{ellipsis:!0},`@${s.handle} \u2219 ${C.name}`):(0,t.h)(t.Fragment,null,C?(0,t.h)(l.xv.Detail,{ellipsis:!0},C.name):null,x?(0,t.h)(l.xv.Detail,{ellipsis:!0},"@",s.handle):null),s.meta?(0,t.h)(l.xv.Meta,{ellipsis:!0},s.meta):null))}const A=({children:s,isSelected:w,onClick:P,onMouseEnter:C,elemRef:x,className:D})=>(0,t.h)("button",{className:`${E.item} ${w?E.isSelected:""} ${D!=null?D:""}`,onClick:P,onMouseEnter:C,onMouseDown:y=>{y.preventDefault();const{target:M}=y;M&&M.focus!==void 0&&M.focus()},ref:x,tabIndex:-1},s),u=(0,a.forwardRef)((s,w)=>{const{items:P,selectItem:C,query:x,isLoading:D,placeholderText:y,noResultsText:M,minQueryLength:T=0}=s,[R,F]=(0,i.eJ)(0),[N,U]=(0,i.eJ)(!1),V=P.size>1,W=3,L=6,H=Array.from(P.values()).some(oe=>oe.length>(V?W:L))&&!N,G=Array.from(P.values()).map(oe=>N?oe:oe.slice(0,V?W:L)).flat(),q=(0,i.sO)(),z=G[R],ee=G.length+(H?1:0),$=H?R===ee-1:!1,J=(0,i.sO)(null);(0,i.d4)(()=>{R>=0&&q.current&&q.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[R,q]);const j=()=>{F((R+ee-1)%ee)},Z=()=>{F((R+1)%ee)},ne=()=>{z&&C(z),$&&U(!0)};(0,i.d4)(()=>{F(0),U(!1)},[P]);const ie=oe=>{const re=G.findIndex(ae=>ae.id===oe.id);F(re!==-1?re:0)};return(0,i.aP)(w,()=>({getElement:()=>J.current,onKeyDown:({event:oe})=>oe.key==="ArrowUp"?(j(),!0):oe.key==="ArrowDown"?(Z(),!0):oe.key==="Enter"?(ne(),!0):!1})),y&&(!x||x.length<T)?(0,t.h)(p.tu,{className:E.items},(0,t.h)(p.gq,{padding:8},(0,t.h)(l.xv.Meta,null,y))):(0,t.h)("div",{className:E.items,ref:J},Array.from(P.entries()).map(([oe,re])=>(0,t.h)(o,{title:V?oe:void 0,maxItemsToDisplay:N?void 0:V?W:L,items:re,selectItem:C,selectedItem:z,setSelectedItem:ie,selectedItemRef:q,query:x})),D&&(0,t.h)(p.gq,{padding:8},(0,t.h)(l.xv.Meta,null,"Loading...")),!D&&ee===0&&(0,t.h)(p.gq,{padding:8},(0,t.h)(l.xv.Meta,null,M)),H&&(0,t.h)(p.tu,{padding:8},(0,t.h)(A,{isSelected:$,onClick:()=>U(!0),onMouseEnter:()=>F(ee-1),elemRef:$?q:void 0,className:E.showMore},(0,t.h)(l.xv.Meta,{align:"center",paddingTop:8,paddingBottom:8},"Show more..."))))}),o=({title:s,maxItemsToDisplay:w,items:P,selectItem:C,selectedItem:x,setSelectedItem:D,selectedItemRef:y,query:M})=>{const T=w?P.slice(0,w):P;return(0,t.h)(t.Fragment,null,s&&(0,t.h)(p.tu,{padding:8},(0,t.h)(l.xv.Meta,null,s)),(0,t.h)(S,{items:T,selectItem:C,selectedItem:x,setSelectedItem:D,selectedItemRef:y,query:M}))}},35291:(K,f,e)=>{"use strict";e.d(f,{p:()=>p});var t=e(6400),a=e(94184),i=e.n(a),c=e(1602);const p=({name:l,label:v,info:_,checked:g,disabled:E,onChange:S,isRow:O=!0,className:A})=>{const u=(0,t.h)(t.Fragment,null,(0,t.h)("span",{className:i()("big-checkbox",{checked:g,disabled:E}),onClick:()=>!E&&(S==null?void 0:S(!g)),onKeyDown:o=>{o.key===" "&&(S==null||S(!g))},role:"checkbox","aria-checked":g,"aria-label":v||l,tabIndex:0},(0,t.h)(c.Z,{fill:"#ffffff"})));return(0,t.h)("label",{className:i()("big-checkbox-input",A,{"big-checkbox-input-row":O})},!O&&u,(0,t.h)("div",{onClick:()=>{(v||_)&&!E&&(S==null||S(!g))}},v,_&&(0,t.h)("div",{className:"info"},_)),O&&u,(0,t.h)("input",{type:"hidden",name:l,"data-testid":l,value:String(g)}))}},7922:(K,f,e)=>{"use strict";e.d(f,{Z:()=>P,k:()=>C});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(39419),l=e.n(p),v=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,A=(x,D,y)=>D in x?v(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,u=(x,D)=>{for(var y in D||(D={}))S.call(D,y)&&A(x,y,D[y]);if(E)for(var y of E(D))O.call(D,y)&&A(x,y,D[y]);return x},o=(x,D)=>_(x,g(D)),s=(x,D)=>{var y={};for(var M in x)S.call(x,M)&&D.indexOf(M)<0&&(y[M]=x[M]);if(x!=null&&E)for(var M of E(x))D.indexOf(M)<0&&O.call(x,M)&&(y[M]=x[M]);return y};const P=x=>{var D=x,{children:y,className:M=void 0,disabled:T=void 0,loading:R=void 0,type:F="button",href:N=void 0,localNavigation:U=!1,onClick:V=void 0,forwardedRef:W=void 0,newTab:L=void 0}=D,k=s(D,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const H=G=>{if(T||R){G&&G.preventDefault();return}V?V(G):N?(0,p.redirect)(N,{event:G,local_navigation:U,newTab:L}):F!=="submit"&&console.log("No onClick set!")};return(0,t.h)("button",o(u({tabIndex:0},k),{type:F,className:c()("button",M,{disabled:T}),disabled:T||R,onClick:H,ref:W}),R?"Please wait...":y)},C=(0,a.forwardRef)((x,D)=>{var y=x,{onClick:M,href:T,localNavigation:R,newTab:F}=y,N=s(y,["onClick","href","localNavigation","newTab"]);const U=T?V=>{M&&(M.call(V.target,V),V.defaultPrevented)||(0,p.redirect)(T,{event:V,local_navigation:R,newTab:F})}:M;return(0,t.h)("button",o(u({tabIndex:0},N),{ref:D,onClick:U}))})},45094:(K,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>S});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(80569),l=e.n(p),v=e(15045),_=(O,A,u)=>new Promise((o,s)=>{var w=x=>{try{C(u.next(x))}catch(D){s(D)}},P=x=>{try{C(u.throw(x))}catch(D){s(D)}},C=x=>x.done?o(x.value):Promise.resolve(x.value).then(w,P);C((u=u.apply(O,A)).next())});const g=O=>parseFloat(O).toFixed(2),S=({symbol:O,prependSymbol:A=!1,isStatic:u=!1})=>{const o=`/api/v1/price/${O}`,[s,w]=(0,a.eJ)(null),[P,C]=(0,a.eJ)(null),[x,D]=(0,a.eJ)(!1);return(0,a.d4)(()=>{(()=>_(void 0,null,function*(){try{const M=yield l().get(o);if(M.body){if(M.body.status==="not_found"){D(!0);return}w(M.body.price),C(M.body.change_pct)}}catch(M){D(!0)}}))()},[o]),!A&&O.startsWith("$")&&(O=O.slice(1)),u?(0,t.h)("span",null,(0,t.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,v.getStockLandingUrl)(O)}`},O," ")):x?(0,t.h)("span",null,O," "):(0,t.h)("a",{className:c()("cashtag",{neutral:P==0,positive:P&&parseFloat(P)>0,negative:P&&parseFloat(P)<0}),target:"_blank",rel:"noopener",href:`${(0,v.getStockLandingUrl)(O)}`,"data-attrs":JSON.stringify({symbol:O}),"data-component-name":"Cashtag"},`${O.toUpperCase()} `,(0,t.h)("span",null,(0,t.h)("span",null,(0,t.h)("span",{className:c()("delta")},`${g(P||0)}%`,!P||parseFloat(P)>0?String.fromCharCode(8593):String.fromCharCode(8595)))))}},32027:(K,f,e)=>{"use strict";e.r(f),e.d(f,{AudioEditor:()=>c});var t=e(6400),a=e(24706),i=e(58592);const c=({node:p})=>(0,t.h)(a.T5,null,(0,t.h)(i.AudioEmbedPlayer,{label:p.attrs.label,src:`/api/v1/audio/upload/${p.attrs.mediaUploadId}/src`,duration:p.attrs.duration}))},3347:(K,f,e)=>{"use strict";e.r(f),e.d(f,{DigestPostEditor:()=>A});var t=e(6400),a=e(24706),i=e(37660),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(u,o,s)=>o in u?c(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,S=(u,o)=>{for(var s in o||(o={}))_.call(o,s)&&E(u,s,o[s]);if(v)for(var s of v(o))g.call(o,s)&&E(u,s,o[s]);return u},O=(u,o)=>p(u,l(o));const A=({node:u,editor:o,deleteNode:s,updateAttributes:w,getPos:P})=>{const C=u.attrs,x=O(S({},C),{isEditor:!!o});return(0,t.h)(a.T5,{className:"digestPostEmbed","data-drag-handle":""},(0,t.h)(i.DigestPostEmbedWeb,S({},O(S({},x),{isEditor:!0,editor:o,updateAttributes:w,deleteNode:s,getPos:P}))))}},45180:(K,f,e)=>{"use strict";e.d(f,{$:()=>O,c:()=>A});var t=e(6400),a=e(94184),i=e.n(a),c=e(67749),p=e(13045),l=e(51126),v=e(71720),_=e(67963),g=e(18492),E=e(56838),S=e(39232);const O=({post:u,href:o,isEditor:s,includeUfi:w=!1,paddingTop:P=0,paddingBottom:C=0})=>{const x=(0,_.aF)(),D=(0,v.I)();return(0,t.h)(l.gq,{gap:16,paddingTop:P,paddingBottom:C,alignItems:"center"},w&&D&&x&&u&&(0,t.h)(l.gq,{gap:8,className:"post-ufi"},(0,t.h)(E.RY,{post:u,pub:D,user:x}),(0,t.h)(E.L9,{post:u,pub:D}),(0,t.h)(E.pD,{post:u,pub:D,user:x,style:"button",labelStyle:"cta"})),(0,t.h)(p.xv.Button,{className:i()({[S.Z.disableLink]:s}),as:"a",href:o,align:"center"},(0,t.h)(l.gq,{gap:8,alignItems:"center",className:S.Z.link},(0,t.h)(p.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,t.h)(c.Z,{size:16}))))},A=({href:u,includeUfi:o=!1,paddingTop:s=0,paddingBottom:w=0})=>(0,t.h)(g.zK,{gap:16,style:{paddingTop:s,paddingBottom:w}},(0,t.h)(p.xv.Button,{as:"a",href:u,align:"center"},(0,t.h)(g.zK,{gap:8},(0,t.h)(p.xv.B4,{color:"pub-accent",as:"span",size:14,className:S.Z.link},"Read full story"))))},83871:(K,f,e)=>{"use strict";e.d(f,{I:()=>A,h:()=>O});var t=e(6400),a=e(94184),i=e.n(a),c=e(20501),p=e(18492),l=e(39419),v=e.n(l),_=e(13045),g=e(51126),E=e(45809),S=e(39232);const O=({bylines:u,date:o,isEditor:s})=>(0,t.h)(g.gq,{alignItems:"center",gap:4},u!=null&&u.length?(0,t.h)(t.Fragment,null,(0,t.h)(_.xv.Meta,{className:i()({[S.Z.disableLink]:s}),color:"pub-secondary-text"},(0,t.h)(E.M,{array:u||[],limit:3,formatter:({id:w,name:P})=>(0,t.h)("a",{className:S.Z.inheritColor,href:(0,c.getProfileUrlById)(w,P)},P)})),(0,t.h)(_.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,t.h)(_.xv.Meta,{color:"pub-secondary-text"},(0,l.formatPostDate)(o))),A=({bylines:u,date:o})=>(0,t.h)(p.zK,{gap:4},u!=null&&u.length?(0,t.h)(p.zK,{gap:4},(0,t.h)(_.xv.Meta,{color:"pub-secondary-text"},(0,t.h)(E.M,{array:u||[],limit:3,formatter:({id:s,name:w})=>(0,t.h)("a",{className:S.Z.inheritColor,href:(0,c.getProfileUrlById)(s,w)},w)})),(0,t.h)(_.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,t.h)(_.xv.Meta,{color:"pub-secondary-text"},(0,l.formatPostDate)(o)))},75935:(K,f,e)=>{"use strict";e.d(f,{Y:()=>O,c:()=>S});var t=e(6400),a=e(94184),i=e.n(a),c=e(18492),p=e(13045),l=e(51126),v=e(79786),_=e(45180),g=e(83871),E=e(39232);const S=({post:A,isEditor:u,children:o})=>{const{publishedBylines:s,title:w,canonical_url:P,post_date:C,section_name:x,cover_image:D,cover_image_alt:y}=A;return(0,t.h)(l.tu,null,x&&(0,t.h)("a",{href:P,className:i()({[E.Z.disableLink]:u}),target:"_blank",rel:"noopener"},(0,t.h)(p.xv.Meta,{color:"pub-primary-text",paddingBottom:8},x)),(0,t.h)("a",{href:P,className:i()({[E.Z.disableLink]:u}),target:"_blank",rel:"noopener"},(0,t.h)(p.xv.H2,{color:"pub-primary-text"},w)),(0,t.h)(g.h,{bylines:s,date:C,isEditor:u}),D&&(0,t.h)(p.xu,{paddingTop:24},(0,t.h)("a",{href:P,className:i()({[E.Z.disableLink]:u}),target:"_blank",rel:"noopener"},(0,t.h)(v.e,{className:E.Z.fullWidth,src:D,alt:y!=null?y:w,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,t.h)(p.hs,{paddingTop:16,flex:"grow"},u?o:(0,t.h)("a",{href:P,className:i()({[E.Z.disableLink]:u}),target:"_blank",rel:"noopener"},o)),(0,t.h)(_.$,{post:A,href:P,includeUfi:!1,isEditor:u}))},O=({post:A,children:u})=>{const{publishedBylines:o,title:s,canonical_url:w,post_date:P,section_name:C,cover_image:x,cover_image_alt:D}=A;return(0,t.h)(c.i$,null,C&&(0,t.h)("a",{href:w},(0,t.h)(p.xv.Meta,{color:"pub-primary-text",paddingBottom:8},C)),(0,t.h)("a",{href:w},(0,t.h)(p.xv.H2,{color:"pub-primary-text"},s)),(0,t.h)(g.I,{bylines:o,date:P}),x&&(0,t.h)(p.xu,{paddingTop:24},(0,t.h)("a",{href:w},(0,t.h)(v.e,{className:E.Z.fullWidth,src:x,alt:D!=null?D:s,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,t.h)("a",{href:w},(0,t.h)(p.xu,{as:"p"},u)),(0,t.h)(_.c,{href:w}))}},40445:(K,f,e)=>{"use strict";e.d(f,{_:()=>A,a:()=>O});var t=e(6400),a=e(94184),i=e.n(a),c=e(13045),p=e(51126),l=e(44396),v=e(79786),_=e(45180),g=e(83871),E=e(75935),S=e(39232);const O=({post:u,isEditor:o,children:s})=>{const{publishedBylines:w,title:P,canonical_url:C,post_date:x,section_name:D,cover_image:y,cover_image_alt:M}=u,T=(0,l.XA)();return(0,t.h)(p.tu,null,D&&(0,t.h)("a",{href:C,className:i()({[S.Z.disableLink]:o}),target:"_blank",rel:"noopener"},(0,t.h)(c.xv.Meta,{color:"pub-primary-text",paddingBottom:8},D)),(0,t.h)("a",{href:C,className:i()({[S.Z.disableLink]:o}),target:"_blank",rel:"noopener"},(0,t.h)(c.xv.H2,{color:"pub-primary-text"},P)),(0,t.h)(g.h,{bylines:w,date:x,isEditor:o}),(0,t.h)(c.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},y&&(0,t.h)(c.xu,{style:{width:T?"unset":140}},(0,t.h)("a",{href:C,className:i()({[S.Z.disableLink]:o}),target:"_blank",rel:"noopener"},(0,t.h)(v.e,{className:T?S.Z.fullWidth:S.Z.mdSquare,src:y,alt:M!=null?M:P,maxWidth:T?1300:280,imageProps:{height:Math.round(T?1300:280),smartCrop:!0}}))),(0,t.h)(p.tu,{flex:"grow"},o?s:(0,t.h)("a",{href:C,className:i()({[S.Z.disableLink]:o}),target:"_blank",rel:"noopener"},s),(0,t.h)(_.$,{post:u,href:C,isEditor:o}))))},A=({post:u,children:o})=>(0,t.h)(E.Y,{post:u,children:o})},80375:(K,f,e)=>{"use strict";e.d(f,{o:()=>O,u:()=>S});var t=e(6400),a=e(94184),i=e.n(a),c=e(18492),p=e(13045),l=e(51126),v=e(79786),_=e(45180),g=e(83871),E=e(39232);const S=({post:A,isEditor:u})=>{const{publishedBylines:o,title:s,canonical_url:w,post_date:P,cover_image:C,cover_image_alt:x}=A;return(0,t.h)("a",{href:w,className:i()({[E.Z.disableLink]:u}),target:"_blank",rel:"noopener"},(0,t.h)(l.gq,{gap:16},C&&(0,t.h)(p.xu,{style:{width:70,height:70}},(0,t.h)(v.e,{className:E.Z.smSquare,src:C,alt:x!=null?x:s,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,t.h)(l.tu,null,(0,t.h)(p.xv.H4,{color:"pub-primary-text"},s),(0,t.h)(g.h,{bylines:o,date:P,isEditor:u}),(0,t.h)(_.$,{post:A,href:w,includeUfi:!1,isEditor:u}))))},O=({post:A})=>{const{publishedBylines:u,title:o,canonical_url:s,post_date:w,cover_image:P,cover_image_alt:C}=A;return(0,t.h)(c.zK,{gap:16},P&&(0,t.h)(p.xu,{style:{width:70}},(0,t.h)("a",{href:s},(0,t.h)(v.e,{className:E.Z.smSquare,src:P,alt:C!=null?C:o,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,t.h)(c.i$,null,(0,t.h)(p.xv.H4,{color:"pub-primary-text"},(0,t.h)("a",{href:s},o)),(0,t.h)(g.I,{bylines:u,date:w}),(0,t.h)(_.c,{href:s})))}},37660:(K,f,e)=>{"use strict";e.r(f),e.d(f,{DigestPostEmbedWeb:()=>ee});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(91036),l=e.n(p),v=e(13045),_=e(39232),g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=($,J,j)=>J in $?g($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,s=($,J)=>{for(var j in J||(J={}))A.call(J,j)&&o($,j,J[j]);if(O)for(var j of O(J))u.call(J,j)&&o($,j,J[j]);return $},w=($,J)=>E($,S(J));const P=$=>{$.stopPropagation()},C=({editing:$,caption:J,onFocus:j,onSave:Z,onCancel:ne})=>{const ie=J.replace(/<br\s*\/?>/gi,`
`),[oe,re]=(0,a.eJ)(ie);return $?(0,t.h)(v.tu,{flex:"grow"},(0,t.h)(v.gx,{name:"description",value:oe,onChange:ae=>{re(ae.target.value)},className:_.Z.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:P,onKeyDown:P,onCopy:P,onPaste:P}),(0,t.h)(v.hE,{paddingY:8,justifyContent:"end"},(0,t.h)(v.zx,{priority:"secondary-theme",onClick:ne},"Cancel"),(0,t.h)(v.zx,{priority:"primary-theme",onClick:()=>{const ae=oe.replace(/\n/g,"<br>"),se=l()(ae,w(s({},l().defaults),{allowedTags:["br"]}));Z(se)}},"Save"))):(0,t.h)("p",{onClick:j,className:_.Z.caption,dangerouslySetInnerHTML:{__html:J}})};var x=e(66120),D=e(48960),y=e(76235);const M=({size:$,onOpen:J,onClose:j,onEditCaption:Z,onSetLayout:ne,onConvertToLink:ie,onConvertToEmbeddedPost:oe,onDelete:re})=>(0,t.h)(v.hs,{className:_.Z.menu,justifyContent:"end"},(0,t.h)(y.v2,{trigger:(0,t.h)(v.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,t.h)(x.Z,{className:_.Z.menuIcon,height:20})),onOpen:J,onClose:j,layerOptions:{placement:"bottom-end"}},(0,t.h)(y.sN,{disabled:$==="sm",onClick:()=>ne("sm")},"Small display"),(0,t.h)(y.sN,{disabled:$==="md",onClick:()=>ne("md")},"Medium display"),(0,t.h)(y.sN,{disabled:$==="lg",onClick:()=>ne("lg")},"Large display"),(0,t.h)(D.i,null),($==="lg"||$==="md")&&(0,t.h)(y.sN,{onClick:Z},"Edit caption"),(0,t.h)(y.sN,{onClick:()=>oe()},"Convert to default"),(0,t.h)(y.sN,{onClick:ie},"Convert to link"),(0,t.h)(y.sN,{priority:"destructive",onClick:re},"Remove")));var T=e(75935),R=e(40445),F=e(80375),N=Object.defineProperty,U=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,L=($,J,j)=>J in $?N($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,k=($,J)=>{for(var j in J||(J={}))V.call(J,j)&&L($,j,J[j]);if(U)for(var j of U(J))W.call(J,j)&&L($,j,J[j]);return $};const H=$=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:$,bubbles:!0}))},G=$=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:$,bubbles:!0}))},q=$=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:$,bubbles:!0}))},z=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},ee=({nodeId:$,caption:J,size:j="lg",isEditor:Z,title:ne,publishedBylines:ie,post_date:oe,cover_image:re,cover_image_alt:ae,canonical_url:se,section_name:fe,id:le,type:Ae,reaction_count:De,comment_count:je,publication_name:Je,publication_logo_url:Be,editor:st,updateAttributes:ht,deleteNode:gt,getPos:Xe})=>{const[Re,Ne]=(0,a.eJ)(!1),[ke,ot]=(0,a.eJ)(!1),[Dt,ln]=(0,a.eJ)(!1),ct={title:ne,publishedBylines:ie,post_date:oe,cover_image:re,cover_image_alt:ae,canonical_url:se,section_name:fe,id:le,type:Ae,reaction_count:De,comment_count:je,publication_name:Je,publication_logo_url:Be},Oe=()=>{ot(!0),Ne(!1),H({nodeId:$,shouldDisableDrag:!0})},Se=(0,t.h)(C,{editing:ke,caption:J,onFocus:Oe,onSave:Ze=>{ot(!1),ht?ht({caption:Ze}):H({nodeId:$,caption:Ze,shouldDisableDrag:!1})},onCancel:()=>{ot(!1),H({nodeId:$,shouldDisableDrag:!1})}});return(0,t.h)("div",{className:c()(_.Z.digestPostEmbed),onMouseEnter:()=>!ke&&Ne(!0),onMouseLeave:()=>!Dt&&Ne(!1),"data-component-name":"DigestPostEmbed"},(0,t.h)(t.Fragment,null,Z&&Re&&(0,t.h)(M,{size:j,onOpen:()=>ln(!0),onClose:()=>ln(!1),onEditCaption:Oe,onSetLayout:Ze=>{ht?ht({size:Ze}):H(k({nodeId:$,caption:J,size:Ze},ct))},onConvertToEmbeddedPost:()=>{st&&Xe?st.commands.convertDigestPostEmbedToEmbeddedPostV2({pos:Xe(),attrs:k({url:se},ct)}):q({url:se})},onConvertToLink:()=>{st&&Xe?st.commands.convertDigestPostEmbedToLinkV2({pos:Xe(),url:se}):G({url:se})},onDelete:()=>{gt?gt():z()}}),j==="sm"&&(0,t.h)(F.u,{post:ct,isEditor:Z}),j==="md"&&(0,t.h)(R.a,{post:ct,isEditor:Z},Z?Se:(0,t.h)("p",{className:_.Z.caption,dangerouslySetInnerHTML:{__html:J}})),j==="lg"&&(0,t.h)(T.c,{post:ct,isEditor:Z},Z?Se:(0,t.h)("p",{className:_.Z.caption,dangerouslySetInnerHTML:{__html:J}}))))}},21138:(K,f,e)=>{"use strict";e.r(f),e.d(f,{FileEditor:()=>y});var t=e(6400),a=e(30396),i=e(24706),c=e(94184),p=e.n(c),l=e(48583),v=e(66120),_=e(887),g=e(53716),E=e(71212),S=e(66440),O=e(13045),A=e(46051),u=e(11621),o=e(57710),s=e(20501),w=e(83322),P=e(68135);const C={viewWrapper:"frontend-components-document_body-file-FileEditor-module__viewWrapper--dNyHQ",container:"frontend-components-document_body-file-FileEditor-module__container--i6VLW",content:"frontend-components-document_body-file-FileEditor-module__content--J_1Ey",thumbnail:"frontend-components-document_body-file-FileEditor-module__thumbnail--nsRb8",custom:"frontend-components-document_body-file-FileEditor-module__custom--Juu7P",download:"frontend-components-document_body-file-FileEditor-module__download--zAxLO",editMenuWrap:"frontend-components-document_body-file-FileEditor-module__editMenuWrap--ygOcq",editMenuDownload:"frontend-components-document_body-file-FileEditor-module__editMenuDownload--yb2q3"};var x=(M,T,R)=>new Promise((F,N)=>{var U=L=>{try{W(R.next(L))}catch(k){N(k)}},V=L=>{try{W(R.throw(L))}catch(k){N(k)}},W=L=>L.done?F(L.value):Promise.resolve(L.value).then(U,V);W((R=R.apply(M,T)).next())});const D=({node:M,pos:T,onDeleteFile:R,onReplaceFile:F})=>{const N=(0,a.sO)(null),U=(0,a.sO)(null),V=(0,l.b9)(u.dN),W=(0,l.b9)(u.FJ),L=(0,A.I)(H=>x(void 0,null,function*(){var G;H.preventDefault();const q=(G=H.target)==null?void 0:G.files[0];F(q)}),[]),k=()=>{V({node:M,pos:T}),W("fileEmbed")};return(0,t.h)(O.hs,{justifyContent:"center",alignItems:"center",className:C.editMenuWrap},(0,t.h)(O.v2,{trigger:(0,t.h)(O.hU,{rounded:!1,label:"Actions"},(0,t.h)(v.Z,{size:16,stroke:"#404040"})),role:"menu"},(0,t.h)(O.sN,{onClick:k},(0,t.h)(O.gq,{alignItems:"center",gap:16},(0,t.h)(_.Z,{height:16})," ",(0,t.h)(O.xv,{size:14},"Edit"))),(0,t.h)(O.sN,{onClick:()=>{var H;return(H=N.current)==null?void 0:H.click()}},(0,t.h)(O.gq,{alignItems:"center",gap:16},(0,t.h)(g.Z,{height:16}),(0,t.h)(O.xv,{size:14},"Replace"),(0,t.h)("input",{type:"file",ref:N,onChange:L,style:{visibility:"hidden"}}))),(0,t.h)(O.sN,{onClick:()=>{var H;return(H=U.current)==null?void 0:H.click()}},(0,t.h)(O.gq,{alignItems:"center",gap:16},(0,t.h)(E.Z,{height:16})," ",(0,t.h)(O.hh,{className:C.editMenuDownload,href:M.attrs.raw_href||"",download:M.attrs.filename,ref:U},"Download"))),(0,t.h)(O.sN,{onClick:R},(0,t.h)(O.gq,{alignItems:"center",gap:16},(0,t.h)(S.Z,{height:16})," ",(0,t.h)(O.xv,{size:14},"Delete")))))},y=({node:M,deleteNode:T,updateAttributes:R,getPos:F})=>{const N=M.attrs,U=(0,l.Dv)(u.Aq),V=(0,l.Dv)(u.F),[W,L]=(0,a.eJ)(!1),k=(0,A.I)(H=>x(void 0,null,function*(){L(!0);try{const G=yield(0,o.c)(H,U,V);G.thumbnail=M.attrs.thumbnail,R(G)}catch(G){throw Error(`Failed to replace file. ${G.message}`)}finally{L(!1)}}),[]);return(0,t.h)(i.T5,{className:C.viewWrapper,"data-drag-handle":""},(0,t.h)(O.gq,{className:C.container,justifyContent:"center",alignItems:"center"},!W&&(0,t.h)(D,{node:M,pos:F(),onDeleteFile:T,onReplaceFile:k}),(0,t.h)(O.gq,{className:C.content,justifyContent:"space-between"},W?(0,t.h)(O.tu,{alignItems:"center",gap:16,justifyContent:"center",flex:"grow"},(0,t.h)(O.aN,null),(0,t.h)(O.xv.B4,null,"Replacing file\u2026")):(0,t.h)(t.Fragment,null,(0,t.h)(O.hs,{justifyContent:"center",alignItems:"center",gap:8},(0,t.h)("img",{className:p()(C.thumbnail,N.thumbnail&&C.custom),src:N.thumbnail||(0,s.imginary)("/img/attachment_icon.svg")}),(0,t.h)(O.tu,null,(0,t.h)(O.xv,{font:"display",size:14,fontWeight:"bold",lineHeight:22},N.title||N.filename),(0,t.h)(O.gq,null,(0,t.h)(O.xv,{color:"secondary",font:"display",size:14,lineHeight:22},`${(0,w.numberToHumanFileSize)(Number(N.filesize))} \u2219 ${P.ZP.formatFileType(N.filetype)} file`)))),(0,t.h)("a",{className:C.download,href:N.raw_href||"",download:N.filename},"Download")))))}},31544:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Image3Editor:()=>N});var t=e(6400),a=e(30396),i=e(24706),c=e(94184),p=e.n(c),l=e(25235),v=e(31992),_=e(29942),g=e(62686),E=e(40160),S=e(8700),O=e(99869),A=e(92027),u=e(68713),o=e(15045),s=e(13045),w=e(84040),P=e(51126),C=e(43887),x=e(55661),D=e(79786),y=e(89873);const M={normal:"large",large:"full",full:"normal"};let T;const R=({alt:U,onUpdateAlt:V})=>(0,t.h)(P.tu,{gap:8,justifyContent:"center",className:y.Z.captionEditor},(0,t.h)(P.tu,{gap:8},(0,t.h)(C.xv,{size:16,font:"meta",color:"secondary"},"Alt text"),(0,t.h)(s.oi,{value:U,onChange:W=>V(W.currentTarget.value),placeholder:"Describe images\u2026"}))),F=({href:U,onSave:V})=>{const[W,L]=(0,a.eJ)(U||""),k=()=>{const H=(0,l.find)(W,"url");H.length?V(H[0].href.replace("http:","https:")):alert("Invalid url")};return(0,t.h)(P.tu,{gap:8,justifyContent:"center",className:y.Z.captionEditor},(0,t.h)(P.tu,{gap:4},(0,t.h)(C.xv,{size:16,font:"meta",color:"secondary"},"URL"),(0,t.h)(s.oi,{placeholder:"Add image link\u2026",value:W,onChange:H=>L(H.currentTarget.value)})),(0,t.h)(P.gq,{gap:8},U&&(0,t.h)(w.zx,{priority:"destructive",size:"small",onClick:()=>V(null)},"Remove"),(0,t.h)(w.zx,{priority:"primary-theme",size:"small",onClick:k,disabled:U===W||!W.length},U!=null&&U.length?"Update":"Save")))},N=({node:U,updateAttributes:V,editor:W})=>{var L;const k=(0,a.sO)(null),[H,G]=(0,a.eJ)(!1),[q,z]=(0,a.eJ)(0),[ee,$]=(0,a.eJ)(0),J=(0,a.sO)(null),j=()=>{const Je=document.querySelector(".ProseMirror");Je&&$(Je==null?void 0:Je.clientWidth),J.current&&(J.current.onload=()=>{J.current&&z(J.current.naturalWidth/J.current.naturalHeight)})},Z=Je=>{T=Je};(0,a.d4)(()=>{j()});const[ne,ie]=(0,a.eJ)(!1),oe=({width:Je,height:Be})=>Je<50||Be<50,re=Je=>{Je.preventDefault(),setTimeout(()=>le(Je))},ae=Je=>{ie(!0),T=Je.clientX,setTimeout(()=>{document.addEventListener("mousemove",re),document.addEventListener("mouseup",se)})},se=()=>{ie(!1),T=-1,document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",se)},fe=(Je,Be)=>{var st,ht;if(!J.current){console.error("Media ref is undefined|null",{resizableImg:J.current});return}const gt={width:(st=J.current)==null?void 0:st.width,height:(ht=J.current)==null?void 0:ht.height},Xe={width:-1,height:-1};Je==="left"?Xe.width=gt.width-Math.abs(Be):Xe.width=gt.width+Math.abs(Be),Xe.width>ee&&(Xe.width=ee),Xe.height=Xe.width/q,!oe(Xe)&&V(Xe)},le=Je=>{if(T===-1)return;const{clientX:Be}=Je,st=T-Be;if(st===0)return;const ht=st>0?"left":"right";setTimeout(()=>{fe(ht,Math.abs(st)),T=Be})},Ae=Je=>{const Be={size:Je,width:"100%"};Je!=="normal"&&(Be.height="auto",Be.align="center"),Je==="large"&&(Be.width=o.LARGE_IMAGE_WIDTH),Je==="full"&&(Be.width=o.MAX_REASONABLE_SCREEN_WIDTH),V(Be)},De=()=>{switch(U.attrs.size){case"large":return o.LARGE_IMAGE_WIDTH;case"full":return typeof window!==void 0?window.innerWidth:o.MAX_REASONABLE_SCREEN_WIDTH;default:return U.attrs.width==="100%"?o.WEB_CONTENT_WIDTH:U.attrs.width}},je=Je=>{if(!["Enter","ArrowUp","ArrowDown"].includes(Je.key))return;Je.preventDefault(),Je.stopPropagation();const Be=W.chain();Je.key==="ArrowUp"?Be.selectNodeBackward():Be.selectNodeForward(),Be.focus().scrollIntoView().run()};return(0,a.d4)(()=>{k.current&&(k.current.style.height="0px",k.current.style.height=`${k.current.scrollHeight}px`)},[U.attrs.title]),(0,t.h)(i.T5,{as:"figure",className:p()(y.Z.mediaNodeView,U.attrs.align&&y.Z[`align-${U.attrs.align}`||""]),"data-drag-handle":""},(0,t.h)(P.gq,{className:p()(y.Z.imageContainer,y.Z[U.attrs.size])},(0,t.h)(P.tu,{gap:8},(0,t.h)(P.gq,{style:{position:"relative"}},(0,t.h)(D.e,{className:y.Z[U.attrs.size],src:U.attrs.src,alt:U.attrs.alt,title:U.attrs.title,maxWidth:De(),imageRef:J}),U.attrs.size==="normal"&&(0,t.h)("div",{className:p()(y.Z.horizontalResizeHandle,((L=U.attrs.title)==null?void 0:L.length)&&y.Z.withCaption),title:"Resize",onClick:({clientX:Je})=>Z(Je),onMouseDown:ae,onMouseUp:se},(0,t.h)(w.hU,{fill:"filled",priority:"secondary"},(0,t.h)(v.Z,{height:18,color:"#2b2e3b"})))),(0,t.h)(P.gq,{className:p()(y.Z.inlineCaptionEditor,U.attrs.title&&y.Z.hasCaption)},(0,t.h)("textarea",{onKeyDown:je,ref:k,className:y.Z.caption,placeholder:"Add caption\u2026",value:U.attrs.title,onChange:Je=>V({title:Je.currentTarget.value})}))),(0,t.h)(P.gq,{gap:4,className:p()(y.Z.mediaControlButtons)},(0,t.h)(s.u,{text:"Toggle standard, large, full-screen",preferPlacement:"top-center",hoverOptions:{delayEnter:250,delayLeave:150}},(0,t.h)(w.hU,{priority:"tertiary",fill:"empty",onClick:()=>Ae(M[U.attrs.size])},(0,t.h)(_.Z,{height:18,color:"#2b2e3b"}))),U.attrs.size==="normal"&&(0,t.h)(t.Fragment,null,(0,t.h)(s.u,{text:"Align left",preferPlacement:"top-center"},(0,t.h)(w.hU,{priority:"tertiary",className:p()(U.attrs.align==="left"&&y.Z.active),fill:"empty",onClick:()=>V({align:"left"})},(0,t.h)(g.Z,{height:18,color:"#2b2e3b"}))),(0,t.h)(s.u,{text:"Align center",preferPlacement:"top-center",hoverOptions:{delayEnter:250,delayLeave:150}},(0,t.h)(w.hU,{priority:"tertiary",className:p()(U.attrs.align==="center"&&y.Z.active),fill:"empty",onClick:()=>V({align:"center"})},(0,t.h)(E.Z,{height:18,color:"#2b2e3b"}))),(0,t.h)(s.u,{text:"Align right",preferPlacement:"top-center",hoverOptions:{delayEnter:250,delayLeave:150}},(0,t.h)(w.hU,{priority:"tertiary",className:p()(U.attrs.align==="right"&&y.Z.active),fill:"empty",onClick:()=>V({align:"right"})},(0,t.h)(S.Z,{height:18,color:"#2b2e3b"})))),(0,t.h)(s.u,{text:"Add link",preferPlacement:"top-center",hoverOptions:{delayEnter:250,delayLeave:150}},(0,t.h)(u.J,{preferPlacement:"bottom-start",content:(0,t.h)(F,{href:U.attrs.href,onSave:Je=>{var Be;V({href:Je}),(Be=J.current)==null||Be.click()}})},(0,t.h)(w.hU,{priority:"tertiary",fill:"empty"},(0,t.h)(O.Z,{height:18,color:"#2b2e3b"})))),(0,t.h)(s.u,{text:"Edit alt text",preferPlacement:"top-center",hoverOptions:{delayEnter:250,delayLeave:150}},(0,t.h)(u.J,{preferPlacement:"bottom-start",content:(0,t.h)(R,{alt:U.attrs.alt,onUpdateAlt:Je=>V({alt:Je})})},(0,t.h)(w.hU,{priority:"tertiary",fill:"empty"},(0,t.h)(A.Z,{height:18,color:"#2b2e3b"})))))),(0,t.h)(x.ImageViewerModal,{showModal:H,modalContent:[{attrs:U.attrs}],onClose:()=>G(!1),step:0}))}},16e3:(K,f,e)=>{"use strict";e.r(f),e.d(f,{VideoEditor:()=>c});var t=e(6400),a=e(24706),i=e(96347);const c=({node:p})=>(0,t.h)(a.T5,null,(0,t.h)(i.VideoEmbedPlayer,{mediaUploadId:p.attrs.mediaUploadId,isEditor:!0,post:null,pub:null}))},45353:(K,f,e)=>{"use strict";var t=e(6400),a=e(30396),i=e(94184),c=e(51126),p=e(43887),l=e(99758);const v={container:"frontend-components-dropdown_menu2-index-module__container--ATYp_"},_=({renderDropdown:S,children:O,onSelect:A,noBorder:u,className:o,root:s,disabled:w=!1})=>{const[P,C]=useState(!1),x=useRef(),D=useCallback(()=>{var T;C(!1),(s||((T=x==null?void 0:x.current)==null?void 0:T.closest('[role="dialog"]'))||window).removeEventListener("click",D)},[s]),y=useCallback(()=>{!P&&!w&&(C(!0),setTimeout(()=>{var T;(s||((T=x==null?void 0:x.current)==null?void 0:T.closest('[role="dialog"]'))||window).addEventListener("click",D)},0))},[P,s,w]),M=(...T)=>{A&&A(...T),D()};return h("div",{className:classnames("dropdown-base",o,{"no-border":u}),onClick:y,ref:x},O,h("div",{className:classnames("dropdown-content",{open:P})},S({onSelect:M})))},g=({options:S,onSelect:O,value:A,contentStyle:u=null,noBorder:o,getTitle:s,targetPrefix:w})=>{const P=typeof A=="string"?A:s(A),C=A&&typeof w=="function"?w(A):typeof w=="string"?w:"";return h(_,{onSelect:O,noBorder:o,renderDropdown:x=>h("div",{onClick:D=>D.stopPropagation(),className:"dl-text-picker",style:u!=null?u:void 0},S.map(D=>h("div",{className:"text-row",onClick:()=>x.onSelect(D)},typeof D=="string"?D:s(D))))},h(FlexRow,{className:css.container,border:"detail",alignItems:"center",gap:8,radius:6,paddingX:24},h(Text.B3,{className:css.label},A?C+P:"-- select --"),h(CaretDownIcon,{height:4})))},E=null},22939:(K,f,e)=>{"use strict";e.d(f,{E:()=>a});var t=e(30396);function a(){const i=(0,t.sO)(null);return[i,()=>{var p;return(p=i.current)==null?void 0:p.toggle()}]}},43615:(K,f,e)=>{"use strict";e.d(f,{FF:()=>re,Pn:()=>ne,ZP:()=>j});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(71375),l=e(49770),v=e(58718),_=e(15045),g=e(28488),E=e(67963),S=e(62017),O=e(39419),A=e(84040),u=e(51126),o=e(62246),s=e(43887),w=e(10186),P=e(33510),C=e(44695);const x=40,D=.5*x,y=.2,M=2;function T(fe){return{width:(fe-1)*x*(1-y)+x+2*M,height:x+2*M}}function R({faces:fe}){const Ae=fe.slice(0).reverse().map(({id:Je,photo_url:Be},st)=>({id:Je,photo_url:Be||getDefaultUserPhotoById(Je),x:(fe.length-st-1)*(1-y)*x+M})),{width:De,height:je}=T(fe.length);return h("svg",{version:"1.1",width:De,height:je,viewBox:`0 0 ${De} ${je}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,Ae.map(({id:Je,photo_url:Be,x:st})=>h("pattern",{id:`image-${Je}`,x:st,y:M,patternUnits:"userSpaceOnUse",height:x,width:x},h("image",{height:x,width:x,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:Be})))),Ae.map(({id:Je,x:Be})=>h("circle",{cx:Be+D,cy:D+M,r:D,fill:`url(#image-${Je})`,stroke:"#fff","stroke-width":M})))}var F=e(80332),N=e(79786),U=e(30105);const V={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var W=Object.defineProperty,L=Object.defineProperties,k=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,z=(fe,le,Ae)=>le in fe?W(fe,le,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):fe[le]=Ae,ee=(fe,le)=>{for(var Ae in le||(le={}))G.call(le,Ae)&&z(fe,Ae,le[Ae]);if(H)for(var Ae of H(le))q.call(le,Ae)&&z(fe,Ae,le[Ae]);return fe},$=(fe,le)=>L(fe,k(le)),J=(fe,le)=>{var Ae={};for(var De in fe)G.call(fe,De)&&le.indexOf(De)<0&&(Ae[De]=fe[De]);if(fe!=null&&H)for(var De of H(fe))le.indexOf(De)<0&&q.call(fe,De)&&(Ae[De]=fe[De]);return Ae};function j(fe){var le=fe,{faces:Ae,secondaryFaces:De,maximum:je=5,pileLabel:Je,modalLabel:Be,secondaryLabel:st,secondaryHref:ht,enableModal:gt,className:Xe,totalCount:Re,detailUtmSource:Ne,onDialogOpen:ke,showFaces:ot=!0,showBlanks:Dt=!1,relativeLinks:ln=!1}=le,ct=J(le,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","showBlanks","relativeLinks"]);const[Oe,Se]=(0,a.eJ)(!1),[Ze,Fe]=(0,a.eJ)(!1),et=Ae.concat((De==null?void 0:De.filter(Qe=>!Ae.find($e=>$e.id===Qe.id)))||[]).filter(({photo_url:Qe})=>Dt?!0:!!Qe).slice(0,je);return(0,t.h)(u.hs,{alignItems:"center",gap:8,flex:"grow",className:c()("facepile",Xe)},ot&&(0,t.h)(Z,$(ee({},ct),{className:Xe,faces:et,maximum:je,showBlanks:Dt,relativeLinks:ln})),Je&&(0,t.h)(oe,{label:Je,clickable:!!(gt&&Ae.length),onClick:()=>{!gt||!(Ae!=null&&Ae.length)||(Se(!0),ke&&ke())}}),st&&(0,t.h)(s.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),st&&(0,t.h)(oe,{label:st,clickable:!!(gt&&(De!=null&&De.length)),href:ht,onClick:ht?void 0:()=>{!gt||!(De!=null&&De.length)||(Fe(!0),ke&&ke())}}),Oe&&(0,t.h)(re,{isOpen:Oe,modalLabel:Be,faces:Ae,totalCount:Re,onClose:()=>Se(!1),utmSource:Ne}),Ze&&De&&(0,t.h)(re,{isOpen:Ze,modalLabel:st,faces:De,totalCount:De.length,onClose:()=>Fe(!1),utmSource:Ne}))}function Z({faces:fe,loading:le,className:Ae,clickable:De=!0,hoverProfiles:je,faceUtmSource:Je,elevated:Be,showBlanks:st=!1,maximum:ht=5,size:gt=40,relativeLinks:Xe=!1}){const Re=(0,O.isMobileBrowser)(),Ne=fe.filter(({photo_url:ke})=>st?!0:!!ke).slice(0,ht);return(0,t.h)(u.hs,{alignItems:"center"},!le&&Ne.length>0&&(0,t.h)(u.hs,{alignItems:"center",className:c()(V.faces,V[`size-${gt}`],Ae)},Ne.map(({id:ke,name:ot,photo_url:Dt,className:ln,tooltipTitle:ct,tooltipContent:Oe,noLink:Se},Ze)=>{const Fe=(0,_.getReaderProfileUrl)({id:ke,name:ot},{utm_source:Je,noBase:!!Xe}),Ke=(0,t.h)(N.e,{className:c()("facepile-face",V.face,V[`size-${gt}`],ln,Ze===0&&V.first,Ze===Ne.length-1&&V.last,Be&&V.elevated),style:{zIndex:Ne.length-Ze},maxWidth:gt*2,src:(0,_.imginary)(Dt||(0,_.getDefaultUserPhotoById)(ke),64)});return Se||!De?Ke:(0,t.h)(F.Ct,{disabled:!je||Re,key:ke,subject:{id:ke,name:ot,photo_url:Dt},utmSource:Je},(0,t.h)(U.L,{disabled:!ct&&!Oe,title:ct,content:Oe,className:"inverse bottom"},(0,t.h)(u.hs,{as:"a",flex:"auto",href:Fe,target:"_blank",rel:"noopener"},Ke)))})),le&&(0,t.h)(ie,{maximum:ht,size:gt}))}function ne({pub:fe,post:le}){var Ae;const De=(0,_.imginary)(`${(0,_.getBaseUrl)(fe)}/p/${le.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:je,width:Je}=T((Ae=le==null?void 0:le.publishedBylines)==null?void 0:Ae.length);return(0,t.h)("img",{src:De,width:Je,height:je})}function ie({maximum:fe,size:le}){return(0,t.h)(u.hs,{gap:12},new Array(fe).fill(null).map(()=>(0,t.h)(P.Vm,{type:"circle",height:le,width:le})))}function oe({label:fe,clickable:le,href:Ae,onClick:De}){return(0,t.h)(s.xv.B4,null,(0,t.h)(S.hh,{className:le?V.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:le?"hover-underline":"none",onClick:De,href:Ae},fe))}function re(fe){var le=fe,{isOpen:Ae,onClose:De}=le,je=J(le,["isOpen","onClose"]);return(0,t.h)(o.u_,{isOpen:!!Ae,onClose:De,width:500},(0,t.h)(ae,ee({onClose:De},je)))}function ae({faces:fe,modalLabel:le,onClose:Ae,openLinksInNewTab:De,totalCount:je,utmSource:Je}){const{iString:Be,iTemplate:st,iPlural:ht}=(0,g.M1)(),gt=(je||0)-fe.length;return(0,t.h)(t.Fragment,null,(0,t.h)(u.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,t.h)(s.xv.H2,null,le),Ae&&(0,t.h)(A.hU,{onClick:Ae},(0,t.h)(p.Z,{height:20}))),(0,t.h)(u.tu,{overflowY:"auto",className:V.column},(0,t.h)(u.tu,{gap:4,padding:8,flex:"grow"},fe.map(Xe=>(0,t.h)(se,{face:Xe,openLinksInNewTab:De,utmSource:Je})),gt>0&&(0,t.h)(u.hs,{gap:16,alignItems:"center",padding:8},(0,t.h)(u.hs,{className:V.avatarOther,alignItems:"center",justifyContent:"center"},(0,t.h)(l.Z,{className:V.avatarOtherIcon,size:20})),(0,t.h)(s.xv.B4,{color:"secondary"},"+",ht("%1 other reader","%1 other readers",gt))))))}function se({face:fe,openLinksInNewTab:le,utmSource:Ae}){const{iString:De,iTemplate:je}=(0,g.M1)(),{id:Je,name:Be,photo_url:st,primary_publication:ht,writes:gt,className:Xe,noLink:Re}=fe,Ne=Ae||"facepile-modal",ke=(0,_.getReaderProfileUrl)({id:Je,name:Be},{utm_source:Ne}),ot=(0,E.aF)(),Dt=(0,v.Sv)(fe,Ne);return(0,t.h)(u.hs,{key:Je,flex:"grow"},Re?(0,t.h)(u.hs,{gap:16,padding:8,radius:12,className:V.row,alignItems:"center",flex:"grow"},(0,t.h)(w.BG,{user:fe,pub:ht,size:40,className:Xe}),(0,t.h)(u.tu,{minWidth:0,flex:"grow"},(0,t.h)(s.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(V.link,c()({"no-name":!(Be||"").trim().length}))},Be))):(0,t.h)(u.hs,ee({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:V.row,href:ke},le?{target:"_blank"}:{}),(0,t.h)(w.BG,{user:fe,pub:ht,size:40,className:Xe}),(0,t.h)(u.tu,{minWidth:0,flex:"grow"},(0,t.h)(F.Ct,{disabled:(0,O.isMobileBrowser)(),subject:{id:Je,name:Be,photo_url:st},utmSource:Ne,className:V.link},(0,t.h)(s.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(V.link,c()({"no-name":!(Be||"").trim().length}))},Be)),gt&&ht&&(0,t.h)(C.Sm,{disabled:(0,O.isMobileBrowser)(),publication_id:ht==null?void 0:ht.id,className:V.link},(0,t.h)(s.xv.B4,{color:"secondary",decoration:"hover-underline",className:c()(V.link,{"no-name":!(Be||"").trim().length})},gt))),ot&&ot.id!==Je&&(0,t.h)(A.zx,{fill:"empty",priority:Dt.isFollowing?"secondary":"primary",className:V.button,onClick:ln=>{ln.preventDefault(),Dt.toggle()}},Dt.isFollowing?De("Following"):De("Follow"))))}},84297:(K,f,e)=>{"use strict";e.d(f,{Z:()=>v});var t=e(6400),a=e(39419),i=e.n(a),c=(_,g,E)=>new Promise((S,O)=>{var A=s=>{try{o(E.next(s))}catch(w){O(w)}},u=s=>{try{o(E.throw(s))}catch(w){O(w)}},o=s=>s.done?S(s.value):Promise.resolve(s.value).then(A,u);o((E=E.apply(_,g)).next())});const p=.8,l=100;class v extends t.Component{constructor(g,E){super(g,E),this.fudgeFactor=p,this.accepts=null,this.chunkSize=null,this.fileName="",this.urls=[],this.onPartUploadStarted=(S,O,A)=>c(this,null,function*(){console.error("should be implemented by subclass")}),this.onPartUploadCompleted=(S,O,A)=>c(this,null,function*(){console.error("should be implemented by subclass")}),this.state={uploading:null,uploadingXhrGenerators:[],uploadingXhrs:[],existingEtags:[],startedAt:null,uploadedAt:null,percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:null,fileUrl:null,path:null}}componentWillUnmount(){this.state.uploading&&this.cancelUpload()}acceptsFile(g){return(this.props.accepts||this.accepts||"*").split(",").map(E=>new RegExp(E.trim().replace(/\./g,"\\.").replace(/\*/g,".*"))).reduce((E,S)=>E||S.test(g.type),!1)}uploadFile(g,E,{urls:S=null,method:O="POST",rehost:A=!1,fileUrl:u=null,path:o=null,withCredentials:s=!0,useFormData:w=!0,mediaUpload:P=null}={}){var C;if(this.state.uploading)return;if(!window.FormData||!window.XMLHttpRequest){alert("Your browser does not support uploading files!");return}if(g&&!this.acceptsFile(g)){alert("Please select a valid file");return}S=S||this.props.urls||this.urls;const x=[];if(!w&&this.chunkSize>0)for(let y=0;y<S.length;y++)x.push(g.slice(this.chunkSize*y,this.chunkSize*(y+1)));else S=[S[0]],x.push(g);const D=[];for(let y=0;y<S.length;y++){if(P){const M=((C=P.parts)!=null?C:[]).find(T=>T.part_number===y+1);if(M!=null&&M.etag){console.warn(`already uploaded part ${y+1}`);continue}}D.push(()=>{var M;const T=new XMLHttpRequest;if(T.upload&&T.upload.addEventListener("progress",R=>this.onProgress(R),!1),T.addEventListener("load",R=>{P&&this.onPartUploadCompleted(P,T,y),this.uploadNextFile(R)},!1),T.addEventListener("error",R=>this.onError(R),!1),T.addEventListener("abort",R=>this.onAbort(R),!1),T.withCredentials=s,P&&this.onPartUploadStarted(P,T,y),T.open(O,S[y],!0),w){const R=new FormData;if(x[y]&&R.append(this.fileName||"file",x[y]),E)for(const F of Object.keys(E))R.append(F,E[F]);T.send(R)}else x[y]&&((M=x[y])!=null&&M.type&&T.setRequestHeader("Content-Type",x[y].type),T.send(x[y]));return T})}if(!D.length)this.onComplete();else return this.resetUpload(D,A,u,o,P),D}uploadNextFile(g){const{uploadingXhrs:E,uploadingXhrGenerators:S}=this.state;if(E&&S&&E.length<S.length){const O=S[E.length]();this.setState({uploading:O,uploadingXhrs:E.concat([O])});return}this.onComplete(g)}resetUpload(g=null,E=!1,S=null,O=null){let A=null;(g==null?void 0:g.length)>0?A=g[0]():g=null,clearInterval(this.state.percentCompleteInterval),this.setState({uploading:A,uploadingXhrs:A?[A]:null,uploadingXhrGenerators:g,startedAt:new Date().getTime(),percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:E,fileUrl:S,path:O})}startPercentCompleteInterval(){this.setState({uploadedAt:new Date().getTime(),percentCompleteInterval:window.setInterval(()=>this.onPercentCompleteInterval(),l)})}onPercentCompleteInterval(){if(!this.state.uploading)return;const g=this.state.uploadedAt-this.state.startedAt,E=g*(1/this.fudgeFactor-1),S=g+E,O=Date.now()-this.state.startedAt;O<S?this.setEstimatedTimeLeft(O/S):this.state.percentComplete!==null&&this.state.percentComplete<1&&this.setEstimatedTimeLeft(1)}cancelUpload(){if(this.state.uploading)try{this.state.uploading.abort()}catch(g){console.error("Failed to cancel upload",g)}}setEstimatedTimeLeft(g){let E=0,S=new Date().getTime();if(this.state.startedAt&&Date.now()-this.state.startedAt>=5e3&&g&&g<1){const O=Date.now()-this.state.startedAt,u=O/g-O;u>=6e4&&(this.state.estimatedTimeLeft&&this.state.estimatedTimeLeft<u&&this.state.estimatedTimeLeftAt-Date.now()<5e3?(E=this.state.estimatedTimeLeft,S=this.state.estimatedTimeLeftAt):E=u)}return this.state.estimatedTimeLeft!==E&&this.setState({estimatedTimeLeft:E,estimatedTimeLeftAt:S}),E}getEstimatedTimeLeftMs(){return this.state.estimatedTimeLeft}onProgress(g){var E,S;const{existingEtags:O=[],uploadingXhrs:A,uploadingXhrGenerators:u,percentCompleteInterval:o}=this.state;if(!o&&g.lengthComputable){const w=((E=u==null?void 0:u.length)!=null?E:1)+O.length,C=(((S=A==null?void 0:A.length)!=null?S:1)-1+O.length)/w+g.loaded/g.total/w,x=Math.min(C,1);this.setState({percentComplete:x});const D=(u==null?void 0:u.length)||1,M=(((A==null?void 0:A.length)||1)-1)/D+g.loaded/g.total/D;this.setEstimatedTimeLeft(M*this.fudgeFactor),C>=1&&this.startPercentCompleteInterval()}}onComplete(g){return c(this,null,function*(){const E=this.state.uploading&&this.state.uploading.status;if(!E||E<200||E>=400){this.onError();return}const S=this.state.uploading.responseText;let O;try{O=JSON.parse(S)}catch(A){console.error("Failed to parse response:",A)}this.resetUpload(),this.props.onUpload&&this.props.onUpload(O,S)})}onError(g,E){const S=E||(0,a.getNetworkErrorMessageFromXhr)(this.state.uploading);alert(S),this.resetUpload(),this.props.onError&&this.props.onError(new Error(S))}onAbort(g){this.resetUpload(),this.props.onAbort&&this.props.onAbort()}render(g,E){return console.error("should be implemented by subclass"),null}}},45634:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{name:w,children:P}=s,C=O(s,["name","children"]);return(0,t.h)(a.l,S(E({},C),{name:w,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),P)}},12276:(K,f,e)=>{"use strict";var t=e(6400),a=e(45634),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(ActivationEmailIcon,S(E({},u),{name:"ActivationMicIcon"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1.00003C10.3431 1.00003 9 2.34318 9 4.00003V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4.00003C15 2.34318 13.6569 1.00003 12 1.00003Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M19 10V12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12V10","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M12 19V23","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M8 23H16","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));var A=null},47819:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(45634),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.Z,S(E({},u),{name:"ActivationUsersIcon"}),(0,t.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,t.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,t.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},97737:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,t.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}))},1782:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,t.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,t.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{fill:w="#1C110B"}=s,P=O(s,["fill"]);return(0,t.h)(a.l,S(E({},P),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:w}}),(0,t.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},1602:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{fill:w}=s,P=O(s,["fill"]);return(0,t.h)(a.l,S(E({},P),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:w||"white"}}),(0,t.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:w||"white"}))}},26059:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,t.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,t.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,t.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,t.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,t.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,t.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,t.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},40946:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,t.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:u.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,t.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:u.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,t.h)("path",{d:"M16 18.5V8.5",stroke:u.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}))},54525:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,t.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,t.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}))},78041:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,t.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,t.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,t.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},14846:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,t.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}))},36377:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,t.h)("circle",{cx:"3.93749",cy:"5.97916",r:"3.4375"}),(0,t.h)("path",{d:"M8.39583 9.49273C8.39583 11.3912 6.85681 12.9302 4.95833 12.9302C3.05985 12.9302 1.52083 11.3912 1.52083 9.49273C1.52083 7.59425 3.05985 6.05523 4.95833 6.05523C6.85681 6.05523 8.39583 7.59425 8.39583 9.49273Z"}),(0,t.h)("path",{d:"M12.4792 9.49273C12.4792 11.3912 10.9402 12.9302 9.04172 12.9302C7.14324 12.9302 5.60422 11.3912 5.60422 9.49273C5.60422 7.59425 7.14324 6.05523 9.04172 6.05523C10.9402 6.05523 12.4792 7.59425 12.4792 9.49273Z"}),(0,t.h)("circle",{cx:"6.99999",cy:"3.9375",r:"3.4375"}),(0,t.h)("circle",{cx:"10.0625",cy:"5.97916",r:"3.4375"}))},51889:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,t.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,t.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,t.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,t.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,t.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},24491:(K,f,e)=>{"use strict";e.d(f,{x:()=>a});var t=e(6400);function a({className:c}){return(0,t.h)("svg",{className:c,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("g",null,(0,t.h)("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),(0,t.h)("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}var i=null},48963:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{name:"TwitterIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));var A=null},64484:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,t.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,t.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,t.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},53668:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));var A=null},11851:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{color:w="#262626"}=s,P=O(s,["color"]);return(0,t.h)(a.l,S(E({},P),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,t.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:w}),(0,t.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:w,stroke:w}))}},965:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(66298),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));const u=o=>(0,t.h)(i.l,O(S({},o),{name:"LucideArrowUpRight",svgParams:{height:24,width:24}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},15440:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(13808),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));function A(o){return(0,t.h)(i.l,O(S({},o),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))}const u=A},63295:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(7617),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));const u=o=>(0,t.h)(i.l,O(S({},o),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},92604:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(84146),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));const u=o=>(0,t.h)(i.l,O(S({},o),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},12650:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(8618),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));const u=o=>(0,t.h)(i.l,O(S({},o),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},19698:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"LucideMute",svgParams:{height:24,width:24,stroke:u.stroke,strokeWidth:u.strokeWidth}}),(0,t.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(4675),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));const u=o=>(0,t.h)(i.l,O(S({},o),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},11628:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,t.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":u.strokeWidth,fill:u.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},49542:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(31131),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(o,s,w)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,S=(o,s)=>{for(var w in s||(s={}))_.call(s,w)&&E(o,w,s[w]);if(v)for(var w of v(s))g.call(s,w)&&E(o,w,s[w]);return o},O=(o,s)=>p(o,l(s));const u=o=>(0,t.h)(i.l,O(S({},o),{name:"LucideShare2",svgParams:{height:24,width:24}}),(0,t.h)(a.Z,{height:24,stroke:o.stroke,fill:o.fill,strokeWidth:o.strokeWidth}))},83001:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({strokeLinecap:"round",strokeLinejoin:"round"},u),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,t.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}))},73416:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,t.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:u.fill,stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:u.fill,stroke:"none"}))},31517:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:u.stroke,strokeWidth:u.strokeWidth}}),(0,t.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:u.stroke,strokeWidth:u.strokeWidth}}),(0,t.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:u.stroke,strokeWidth:u.strokeWidth}}),(0,t.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(K,f,e)=>{"use strict";e.d(f,{Z:()=>_});var t=e(6400),a=Object.defineProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(g,E,S)=>E in g?a(g,E,{enumerable:!0,configurable:!0,writable:!0,value:S}):g[E]=S,v=(g,E)=>{for(var S in E||(E={}))c.call(E,S)&&l(g,S,E[S]);if(i)for(var S of i(E))p.call(E,S)&&l(g,S,E[S]);return g};function _(g){return(0,t.h)("svg",v({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},g),(0,t.h)("g",{transform:"translate(0, -2)"},(0,t.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,t.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},70073:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{color:w="white"}=s,P=O(s,["color"]);return(0,t.h)(a.l,S(E({},P),{name:"PhoneOutline",svgParams:{height:24,width:24,stroke:w,fill:"none"}}),(0,t.h)("path",{d:"M16.7778 2.3877H8.22222C7.54721 2.3877 7 3.28313 7 4.3877V18.3877C7 19.4923 7.54721 20.3877 8.22222 20.3877H16.7778C17.4528 20.3877 18 19.4923 18 18.3877V4.3877C18 3.28313 17.4528 2.3877 16.7778 2.3877Z"}))}},11762:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,t.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,t.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,t.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,t.h)("g",null,(0,t.h)("g",null,(0,t.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},93830:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,t.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}))},82019:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,t.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},97864:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,t.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}))},48093:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{fill:w="white"}=s,P=O(s,["fill"]);return(0,t.h)(a.l,S(E({},P),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:w}}),(0,t.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,t.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))}},18133:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{fill:w="white"}=s,P=O(s,["fill"]);return(0,t.h)(a.l,S(E({},P),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:w}}),(0,t.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))}},14780:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{name:"PodcastPencraftIcon",svgParams:{height:24,width:24,strokeWidth:1.5}}),h("path",{d:"M3 18V12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3C14.3869 3 16.6761 3.94821 18.364 5.63604C20.0518 7.32387 21 9.61305 21 12V18","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M21 19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H18C17.4696 21 16.9609 20.7893 16.5858 20.4142C16.2107 20.0391 16 19.5304 16 19V16C16 15.4696 16.2107 14.9609 16.5858 14.5858C16.9609 14.2107 17.4696 14 18 14H21V19ZM3 19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H6C6.53043 21 7.03914 20.7893 7.41421 20.4142C7.78929 20.0391 8 19.5304 8 19V16C8 15.4696 7.78929 14.9609 7.41421 14.5858C7.03914 14.2107 6.53043 14 6 14H3V19Z","stroke-linecap":"round","stroke-linejoin":"round"}));var A=null},40353:(K,f,e)=>{"use strict";e.d(f,{Z:()=>o});var t=e(6400),a=e(83322),i=e(34755),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))_.call(w,P)&&E(s,P,w[P]);if(v)for(var P of v(w))g.call(w,P)&&E(s,P,w[P]);return s},O=(s,w)=>p(s,l(w)),A=(s,w)=>{var P={};for(var C in s)_.call(s,C)&&w.indexOf(C)<0&&(P[C]=s[C]);if(s!=null&&v)for(var C of v(s))w.indexOf(C)<0&&g.call(s,C)&&(P[C]=s[C]);return P};function u(s){var w=s,{fill:P="#FF6719"}=w,C=A(w,["fill"]);const x=(0,a.colorLuma)(P)>.6?"black":"white";return(0,t.h)(i.l,O(S({},C),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:P,stroke:"none"}),(0,t.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:x,stroke:"none"}),(0,t.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:x,stroke:"none"}),(0,t.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:x,stroke:"none"}))}const o=u},64234:(K,f,e)=>{"use strict";e.d(f,{A:()=>c});var t=e(6400);const a="#FF6719";var i=e(34755);function c({className:l,type:v,accentColor:_}){return(0,t.h)(i.l,{name:"ReaderBadgeIcon",className:l,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,t.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,t.h)("circle",{cx:"11",cy:"11",r:"9",fill:_||a}),v==="subscribed"?(0,t.h)(t.Fragment,null,(0,t.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,t.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,t.h)(t.Fragment,null,(0,t.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,t.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,t.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,t.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,t.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const p=null},7370:(K,f,e)=>{"use strict";e.d(f,{Z:()=>S});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(O,A,u)=>A in O?i(O,A,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[A]=u,_=(O,A)=>{for(var u in A||(A={}))p.call(A,u)&&v(O,u,A[u]);if(c)for(var u of c(A))l.call(A,u)&&v(O,u,A[u]);return O},g=(O,A)=>{var u={};for(var o in O)p.call(O,o)&&A.indexOf(o)<0&&(u[o]=O[o]);if(O!=null&&c)for(var o of c(O))A.indexOf(o)<0&&l.call(O,o)&&(u[o]=O[o]);return u};function E(O){var A=g(O,[]);return(0,t.h)(a.l,_({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},A),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,t.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const S=E},85362:(K,f,e)=>{"use strict";e.d(f,{Z:()=>S});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(O,A,u)=>A in O?i(O,A,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[A]=u,_=(O,A)=>{for(var u in A||(A={}))p.call(A,u)&&v(O,u,A[u]);if(c)for(var u of c(A))l.call(A,u)&&v(O,u,A[u]);return O},g=(O,A)=>{var u={};for(var o in O)p.call(O,o)&&A.indexOf(o)<0&&(u[o]=O[o]);if(O!=null&&c)for(var o of c(O))A.indexOf(o)<0&&l.call(O,o)&&(u[o]=O[o]);return u};function E(O){var A=g(O,[]);return(0,t.h)(a.l,_({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},A),(0,t.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,t.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,t.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,t.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_24306_47333"},(0,t.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const S=E},65665:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,t.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,t.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,t.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},26523:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(S,O,A)=>O in S?i(S,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):S[O]=A,_=(S,O)=>{for(var A in O||(O={}))p.call(O,A)&&v(S,A,O[A]);if(c)for(var A of c(O))l.call(O,A)&&v(S,A,O[A]);return S};const g=S=>h(SvgIcon,_({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},S),h("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));var E=null},27247:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{color:w="white"}=s,P=O(s,["color"]);return(0,t.h)(a.l,S(E({},P),{name:"RoundedSquareOutline",svgParams:{height:24,width:24,stroke:w,fill:"none"}}),(0,t.h)("path",{d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z"}))}},7775:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,t.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,t.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,t.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_14802_325807"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},36543:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareInstagramIcon",svgParams:{height:1e3,width:1e3}}),(0,t.h)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"1000",height:"1000",viewBox:"0 0 264.5833 264.5833","inkscape:version":"1.0.1 (3bc2e813f5, 2020-09-07)","sodipodi:docname":"Instagram_(2022).svg"},(0,t.h)("defs",null,(0,t.h)("radialGradient",{id:"f",cx:"158.429",cy:"578.088",r:"52.3515","xlink:href":"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -4.03418 4.28018 0 -2332.2273 942.2356)",fx:"158.429",fy:"578.088"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#b",id:"g",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.67441 -1.16203 1.51283 .87801 -814.3657 -47.8354)",cx:"172.6149",cy:"600.6924",fx:"172.6149",fy:"600.6924",r:"65"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#c",id:"h",cx:"144.012",cy:"51.3367",fx:"144.012",fy:"51.3367",r:"67.081",gradientTransform:"matrix(-2.3989 .67549 -.23008 -.81732 464.9957 -26.4035)",gradientUnits:"userSpaceOnUse"}),(0,t.h)("radialGradient",{"inkscape:collect":"always","xlink:href":"#d",id:"e",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-3.10797 .87652 -.6315 -2.23914 1345.6503 1374.1983)",cx:"199.7884",cy:"628.4379",fx:"199.7884",fy:"628.4379",r:"52.3515"}),(0,t.h)("linearGradient",{"inkscape:collect":"always",id:"d"},(0,t.h)("stop",{offset:"0","stop-color":"#ff005f"}),(0,t.h)("stop",{offset:"1","stop-color":"#fc01d8"})),(0,t.h)("linearGradient",{id:"c"},(0,t.h)("stop",{offset:"0","stop-color":"#780cff"}),(0,t.h)("stop",{"stop-color":"#820bff",offset:"1","stop-opacity":"0"})),(0,t.h)("linearGradient",{"inkscape:collect":"always",id:"b"},(0,t.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,t.h)("stop",{offset:"1","stop-color":"#fc0","stop-opacity":"0"})),(0,t.h)("linearGradient",{id:"a"},(0,t.h)("stop",{offset:"0","stop-color":"#fc0"}),(0,t.h)("stop",{offset:".1242","stop-color":"#fc0"}),(0,t.h)("stop",{offset:".5672","stop-color":"#fe4a05"}),(0,t.h)("stop",{offset:".6942","stop-color":"#ff0f3f"}),(0,t.h)("stop",{offset:"1","stop-color":"#fe0657","stop-opacity":"0"})),(0,t.h)("clipPath",{id:"clipCircle"},(0,t.h)("circle",{cx:"132",cy:"132",r:"132",fill:"#FFFFFF",stroke:"#000000"}))),(0,t.h)("g",null),(0,t.h)("g",{"inkscape:groupmode":"layer","clip-path":"url(#clipCircle)"},(0,t.h)("path",{d:"     M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#e)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#f)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#g)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M204.1503 18.1429c-55.2305 0-71.3834.057-74.5232.3175-11.3342.9424-18.387 2.7275-26.0708 6.554-5.9214 2.9413-10.5915 6.3506-15.2005 11.1298-8.3938 8.7157-13.481 19.4383-15.3226 32.1842-.8953 6.1877-1.1558 7.4496-1.2087 39.0558-.0203 10.5354 0 24.4007 0 42.9984 0 55.2008.061 71.3418.3256 74.4764.9157 11.032 2.6453 17.9728 6.3081 25.565 7 14.5329 20.369 25.4428 36.119 29.5137 5.4535 1.4044 11.4767 2.1779 19.2092 2.5442 3.2762.1425 36.6684.2443 70.081.2443 33.4127 0 66.8253-.0407 70.02-.2035 8.9535-.4214 14.1526-1.1195 19.9011-2.6054 15.8517-4.0912 28.9767-14.8383 36.119-29.5748 3.5916-7.409 5.4128-14.6144 6.237-25.0704.179-2.2796.2543-38.6263.2543-74.924 0-36.304-.0814-72.5835-.2605-74.8632-.8343-10.6249-2.6555-17.7692-6.363-25.3207-3.0421-6.1816-6.42-10.798-11.324-15.518-8.752-8.3616-19.4555-13.4502-32.2101-15.2902-6.18-.8936-7.411-1.1582-39.033-1.2131z","inkscape:connector-curvature":" 0",fill:" url(#h)",transform:" translate(-71.8155 -18.1429)"}),(0,t.h)("path",{d:" M132.3452 33.973c-26.7167 0-30.0696.1167-40.5629.5939-10.4727.4792-17.6212 2.136-23.8762 4.567-6.4701 2.5107-11.9586 5.8693-17.4265 11.3352-5.472 5.464-8.8332 10.9483-11.354 17.4116-2.4389 6.2524-4.099 13.3976-4.5703 23.8585-.4693 10.4854-.5923 13.8379-.5923 40.5348 0 26.697.1189 30.0371.5943 40.5225.4817 10.465 2.1397 17.6082 4.5703 23.8585 2.5147 6.4654 5.8758 11.9497 11.3458 17.4136 5.466 5.468 10.9544 8.8349 17.4204 11.3456 6.259 2.4309 13.4097 4.0877 23.8803 4.567 10.4933.477 13.8441.5938 40.5588.5938 26.7188 0 30.0615-.1167 40.5547-.5939 10.4728-.4792 17.6295-2.136 23.8885-4.567 6.4681-2.5106 11.9484-5.8775 17.4143-11.3455 5.472-5.4639 8.8332-10.9482 11.354-17.4115 2.4183-6.2524 4.0784-13.3976 4.5703-23.8585.4713-10.4854.5943-13.8277.5943-40.5246 0-26.697-.123-30.0473-.5943-40.5328-.4919-10.465-2.152-17.6081-4.5703-23.8584-2.5208-6.4654-5.882-11.9498-11.354-17.4137-5.4721-5.468-10.9442-8.8266-17.4204-11.3353-6.2714-2.4309-13.424-4.0877-23.8967-4.5669-10.4933-.4772-13.8339-.5939-40.5588-.5939zm-8.825 17.7147c2.6193-.0041 5.5418 0 8.825 0 26.2659 0 29.379.0942 39.7513.5652 9.5915.4383 14.7971 2.0397 18.2648 3.3852 4.5908 1.7817 7.8638 3.9116 11.3048 7.3521 3.4431 3.4406 5.5745 6.7173 7.3617 11.3046 1.3465 3.461 2.9512 8.6628 3.3877 18.2472.4714 10.3625.5739 13.4754.5739 39.7095 0 26.234-.1025 29.347-.5739 39.7095-.4386 9.5843-2.0412 14.7861-3.3877 18.2471-1.783 4.5874-3.9186 7.8539-7.3617 11.2923-3.443 3.4406-6.712 5.5704-11.3048 7.3521-3.4636 1.3517-8.6733 2.949-18.2648 3.3873-10.3702.471-13.4854.5734-39.7513.5734-26.2679 0-29.381-.1024-39.7513-.5734-9.5914-.4423-14.797-2.0438-18.2668-3.3893-4.5908-1.7817-7.87-3.9116-11.313-7.3521-3.4431-3.4405-5.5745-6.709-7.3617-11.2985-1.3465-3.461-2.9512-8.6628-3.3877-18.2471-.4714-10.3626-.5657-13.4754-.5657-39.7259 0-26.2504.0943-29.347.5657-39.7095.4386-9.5844 2.0412-14.7861 3.3877-18.2512 1.783-4.5874 3.9186-7.8641 7.3617-11.3046 3.443-3.4406 6.7222-5.5704 11.313-7.3562 3.4677-1.3517 8.6754-2.949 18.2668-3.3894 9.075-.4096 12.5919-.5324 30.9264-.553zm61.3363 16.322c-6.5173 0-11.805 5.2776-11.805 11.792 0 6.5125 5.2877 11.7962 11.805 11.7962 6.5172 0 11.8049-5.2837 11.8049-11.7962 0-6.5124-5.2877-11.796-11.805-11.796zm-52.5113 13.7826c-27.8993 0-50.5191 22.6031-50.5191 50.4817 0 27.8786 22.6198 50.4714 50.5191 50.4714s50.511-22.5928 50.511-50.4714c0-27.8786-22.6137-50.4817-50.513-50.4817zm0 17.7147c18.109 0 32.7914 14.6694 32.7914 32.767 0 18.0956-14.6824 32.767-32.7914 32.767-18.111 0-32.7913-14.6714-32.7913-32.767 0-18.0976 14.6803-32.767 32.7913-32.767z","inkscape:connector-curvature":" 0",fill:" #fff"}))))},17835:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,t.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,t.h)("stop",{"stop-color":"#FF6719"}),(0,t.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,t.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,t.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,t.h)("clipPath",{id:"clip0_23936_14598"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,t.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,t.h)("defs",null,(0,t.h)("clipPath",{id:"clip0_14802_325810"},(0,t.h)("rect",{width:"24",height:"24",fill:"white"}))))},16796:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{name:"SimpleCheckmarkIcon",svgParams:{height:100,width:100}}),h("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6-.8-.8-.8-2 0-2.8l36.8-36.8c.8-.8 2-.8 2.8 0s.8 2 0 2.8l-36.8 36.8c-.4.4-.9.6-1.4.6z"}),h("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6l-16.5-16.5c-.8-.8-.8-2 0-2.8s2-.8 2.8 0l16.5 16.5c.8.8.8 2 0 2.8-.4.4-.9.6-1.4.6z"}));var A=null},30298:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(S,O,A)=>O in S?i(S,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):S[O]=A,_=(S,O)=>{for(var A in O||(O={}))p.call(O,A)&&v(S,A,O[A]);if(c)for(var A of c(O))l.call(O,A)&&v(S,A,O[A]);return S};const g=S=>h(SvgIcon,_({name:"SpinnerIcon",svgParams:{height:20,width:20,fill:"none",stroke:"#666666",strokeWidth:1.5}},S),h("path",{d:"M17.5 1.66663V6.66663L12.5 6.66663","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),h("path",{d:"M2.5 10C2.50132 8.55277 2.92133 7.13682 3.70938 5.92295C4.49743 4.70908 5.61985 3.74914 6.94126 3.15891C8.26267 2.56868 9.72662 2.37338 11.1566 2.59655C12.5865 2.81973 13.9213 3.45185 15 4.41667L17.5 6.66667","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),h("path",{d:"M2.5 18.3334L2.5 13.3334H7.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}),h("path",{d:"M17.5 10C17.4987 11.4472 17.0787 12.8632 16.2906 14.0771C15.5026 15.2909 14.3802 16.2509 13.0587 16.8411C11.7373 17.4313 10.2734 17.6266 8.84345 17.4035C7.41352 17.1803 6.07871 16.5482 5 15.5833L2.5 13.3333","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"}));var E=null},33705:(K,f,e)=>{"use strict";e.d(f,{Z:()=>s});var t=e(6400),a=e(89018),i=e.n(a),c=e(34755),p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(w,P,C)=>P in w?p(w,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[P]=C,O=(w,P)=>{for(var C in P||(P={}))g.call(P,C)&&S(w,C,P[C]);if(_)for(var C of _(P))E.call(P,C)&&S(w,C,P[C]);return w},A=(w,P)=>l(w,v(P)),u=(w,P)=>{var C={};for(var x in w)g.call(w,x)&&P.indexOf(x)<0&&(C[x]=w[x]);if(w!=null&&_)for(var x of _(w))P.indexOf(x)<0&&E.call(w,x)&&(C[x]=w[x]);return C};const s=w=>{var P=w,{color:C=a.substack_color}=P,x=u(P,["color"]);return(0,t.h)(c.l,A(O({},x),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:C,stroke:"none"}}),(0,t.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,t.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,t.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,t.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,t.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,t.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{stroke:w,size:P=36}=s,C=O(s,["stroke","size"]);return(0,t.h)(a.l,S(E({},C),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:P,width:P,fill:"none"}}),(0,t.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:w||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:w||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},96733:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),h("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));var A=null},59736:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,t.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,t.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,t.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},70754:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{className:"filled-icon",name:"UnsplashIcon",svgParams:{height:24,width:24,fill:"#1C110B"}}),h("path",{d:"M15.3364 10.9703H21V21H3V10.9703H8.66362V15.9748H15.3158V10.9703H15.3364ZM15.3364 3H8.66362V8.02517H15.3158V3H15.3364Z",strokeWidth:0}));var A=null},84988:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const A=o=>{var s=o,{stroke:w="#666666"}=s,P=O(s,["stroke"]);return h(SvgIcon,S(E({stroke:w},P),{name:"UploadIcon",svgParams:{width:20,height:20,viewBox:"0 0 20 20"}}),h("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),h("path",{d:"M14.1667 6.66667L10 2.5L5.83337 6.66667",strokeWidth:"1.5",strokeLinecap:"round",fill:"none",strokeLinejoin:"round"}),h("path",{d:"M10 2.5V12.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}))};var u=null},51736:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{fill:w="#FF6719"}=s,P=O(s,["fill"]);return(0,t.h)(a.l,S(E({},P),{fill:w,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,t.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:w,stroke:"transparent"}),(0,t.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,t.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,t.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(K,f,e)=>{"use strict";e.d(f,{Z:()=>u});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s)),O=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w};const u=o=>{var s=o,{strokeWidth:w=1.5}=s,P=O(s,["strokeWidth"]);return(0,t.h)(a.l,S(E({},P),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,t.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":w,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":w,"stroke-linecap":"round","stroke-linejoin":"round"}))}},17429:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(S,O,A)=>O in S?i(S,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):S[O]=A,_=(S,O)=>{for(var A in O||(O={}))p.call(O,A)&&v(S,A,O[A]);if(c)for(var A of c(O))l.call(O,A)&&v(S,A,O[A]);return S};const g=S=>h(SvgIcon,_({name:"VideoRecordingIcon",svgParams:{height:24,width:24,strokeWidth:1.5,stroke:"black"}},S),h("path",{d:"M23 7L16 12L23 17V7Z","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z","stroke-linecap":"round","stroke-linejoin":"round"}));var E=null},17590:(K,f,e)=>{"use strict";e.d(f,{Z:()=>A});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const A=u=>(0,t.h)(a.l,S(E({},u),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,t.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,t.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},63861:(K,f,e)=>{"use strict";var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?i(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>c(u,p(o));const O=u=>h(SvgIcon,S(E({},u),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),h("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));var A=null},34755:(K,f,e)=>{"use strict";e.d(f,{l:()=>S});var t=e(6400),a=e(15045),i=e(89867),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(O,A,u)=>A in O?c(O,A,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[A]=u,g=(O,A)=>{for(var u in A||(A={}))l.call(A,u)&&_(O,u,A[u]);if(p)for(var u of p(A))v.call(A,u)&&_(O,u,A[u]);return O},E=(O,A)=>{var u={};for(var o in O)l.call(O,o)&&A.indexOf(o)<0&&(u[o]=O[o]);if(O!=null&&p)for(var o of p(O))A.indexOf(o)<0&&v.call(O,o)&&(u[o]=O[o]);return u};const S=O=>{var A=O,{name:u,svgParams:o,isStatic:s,height:w,fill:P,stroke:C,version:x=4,strokeWidth:D=1.8,strokeLinecap:y,strokeLinejoin:M,alt:T,additionalStaticParams:R={},children:F}=A,N=E(A,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const U=w?(o.width||1)*w/(o.height||1):o.width||1,V=w||o.height||1;return s?(0,t.h)(i.Z,g(g({src:(0,a.imginary)((0,a.pathWithQuery)(`/icon/${u}`,{v:x||4,height:V*2,fill:P,stroke:C,strokeWidth:D*2,strokeLinecap:y,strokeLinejoin:M}),U*2,{format:"png",crop:"scale"}),width:U,height:V,style:{maxWidth:`${U}px`},alt:T||""},R),N)):(0,t.h)("svg",g({role:"img",style:w?{height:`${V}px`,width:`${U}px`}:void 0,width:U,height:V,viewBox:o.viewBox||`0 0 ${o.width} ${o.height}`,fill:P||o.fill||"none",strokeWidth:D||typeof D=="number"?Number(D):typeof o.strokeWidth=="number"?o.strokeWidth:1,stroke:C||o.stroke||"#000",strokeLinecap:y,strokeLinejoin:M,xmlns:"http://www.w3.org/2000/svg"},N),(0,t.h)("g",null,(0,t.h)("title",null,T||""),F))}},11862:(K,f,e)=>{"use strict";var t=e(6400);function a({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}var i=null},91704:(K,f,e)=>{"use strict";e.d(f,{HA:()=>O});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?i(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>c(o,p(s));function O(o){return(0,t.h)("svg",E({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},o),(0,t.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function A(o){return h(SvgIcon,S(E({},o),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),h("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),h("g",{transform:"translate(5 5)"},h("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}var u=null},38199:(K,f,e)=>{"use strict";var t=e(6400);function a({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}var i=null},56790:(K,f,e)=>{"use strict";var t=e(6400);function a({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}var i=null},4212:(K,f,e)=>{"use strict";var t=e(6400),a=e(30396),i=e(54265),c=e(19708),p=e(17429);const l=({editor:v,pub:_,postId:g,setPostId:E})=>{const[S,O]=useState(!1),[A,u]=useState(null),[o,s]=useState(!1),w=P=>{P.preventDefault(),s(!0)};return useEffect(()=>{if(o){const P=v.view.state.selection.node,{mediaUploadId:C}=P.attrs;u(C),O(!0)}},[o]),useEffect(()=>(document.addEventListener("editSelectedVideoEmbed",w),()=>{document.removeEventListener("editSelectedVideoEmbed",w)}),[]),h(Fragment,null,h(TipTapMenuButton,{onClick:()=>O(!0)},h(VideoRecordingIcon,null)),h(VideoEmbedDrawer,{editorDroppedFile:null,mediaUploadId:A,open:S,pub:_,postId:g,onClose:()=>{O(!1),s(!1),u(null)},onSave:({mediaUploadId:P,duration:C})=>{v.chain().focus().insertVideo({mediaUploadId:P,duration:C}).run()},setPostId:E}))}},85103:(K,f,e)=>{"use strict";e.r(f),e.d(f,{LatexComponent:()=>w,TipTapEditLatexModal:()=>s});var t=e(6400),a=e(30396),i=e(24706),c=e(52720),p=e(70109),l=e(94184),v=e.n(l),_=e(23279),g=e.n(_),E=e(47641),S=e(19708),O=e(3258),A=e(39419),u=e(13045);const o={latexWrapper:"frontend-components-Latex-module__latexWrapper--Ns6dy",latexEdit:"frontend-components-Latex-module__latexEdit--o90j_",emptyStateWrapper:"frontend-components-Latex-module__emptyStateWrapper--LAWlU"},s=({isOpen:P,onClose:C,persistentExpression:x,node:D})=>{const[y,M]=(0,a.eJ)(x),[T,R]=(0,a.eJ)(()=>g()(M,1e3));return(0,a.d4)(()=>{M(x)},[x]),(0,t.h)(c.Z,null,(0,t.h)(u.u_,{isOpen:P,onClose:C,"data-test-id":"latex-modal"},(0,t.h)(u.fe,null,(0,t.h)(u.tu,{paddingTop:8,gap:24},(0,t.h)(u.tu,{gap:24},(0,t.h)(u.gq,{justifyContent:"space-between",alignItems:"center"},(0,t.h)(u.xv.Meta,null,"LaTeX Editor")),(0,t.h)(u.gx,{"data-test-id":"latex-input",rows:4,maxLength:1e3,value:y,name:"expression",onChange:F=>{T(F.target.value)}})),y?(0,t.h)(u.tu,{height:150},(0,t.h)(p.Z,{typesettingOptions:{fn:"tex2chtml",options:void 0},text:`${y}`,renderMode:"pre",inline:!1,dynamic:!0})):(0,t.h)(u.tu,null,(0,t.h)(u.tu,{radius:12,paddingX:12,paddingY:20,alignItems:"center"},(0,t.h)(u.xv.B4,{color:"secondary",align:"center"},(0,t.h)("em",null,"Write LaTeX expressions in the above editor and they'll appear here")))))),(0,t.h)(u.mz,{includeDivider:!1,alignment:"default",primaryButton:(0,t.h)(u.zx,{"data-test-id":"latex-save",priority:"primary-theme",onClick:()=>{(0,O.j)(O.FP.LATEX_BLOCK_ADDED,{expression:y}),(0,S.oj)().dispatchEvent(new CustomEvent("close",{detail:{persistentExpression:y,node:D}})),C()}},"Save"),secondaryButton:(0,t.h)(u.zx,{"data-test-id":"latex-cancel",fill:"empty",outline:"none",priority:"secondary",onClick:()=>{(0,S.oj)().dispatchEvent(new CustomEvent("close",{detail:{persistentExpression:x,node:D}})),y!==x&&M(x),C()}},"Cancel")})))},w=({node:P,id:C})=>{const[x,D]=(0,a.eJ)(P.attrs.persistentExpression);return(0,a.d4)(()=>{D(P.attrs.persistentExpression)},[P]),(0,a.d4)(()=>{const y=({detail:M})=>{if(M.node.attrs.id===P.attrs.id){const T=M.persistentExpression;D(T)}};return(0,S.oj)().addEventListener("close",y),()=>{(0,S.oj)().removeEventListener("close",y)}},[]),(0,t.h)(i.T5,{"data-drag-handle":""},(0,t.h)(c.Z,null,(0,t.h)("div",{className:"latex-block",id:C},(0,t.h)(u.tu,{className:v()(o.latexWrapper,P.attrs.persistentExpression||(0,A.isMobileBrowser)()?o.emptyStateWrapper:null),radius:12,"data-attrs":JSON.stringify({persistentExpression:x,id:P.attrs.id}),onClick:()=>{x!==P.attrs.persistentExpression&&D(P.attrs.persistentExpression),(0,S.oj)().dispatchEvent(new CustomEvent("open",{detail:{persistentExpression:P.attrs.persistentExpression,node:P}}))}},(0,t.h)(u.gq,{paddingY:8,paddingX:16,flex:"grow",justifyContent:"center",alignItems:"center"},x||P.attrs.persistentExpression?(0,t.h)(u.tu,{alignItems:"center",justifyContent:"center"},(0,t.h)(p.Z,{typesettingOptions:{fn:"tex2chtml",options:void 0},text:`${x||P.attrs.persistentExpression}`,renderMode:"pre",inline:!1,dynamic:!0})):(0,t.h)(u.tu,{alignSelf:"center"},(0,t.h)(u.xv.Meta,{color:"secondary"},(0,t.h)("em",null,"Edit & enter LaTeX expressions here"))),(0,t.h)(u.tu,null,(0,t.h)("button",{className:o.latexEdit},(0,t.h)(E.Z,{width:20,height:20}))))))))}},49786:(K,f,e)=>{"use strict";e.d(f,{hF:()=>L,_q:()=>V,xt:()=>W,G0:()=>N,RH:()=>U});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(36808),l=e(69427),v=e(85928),_=e.n(v),g=e(20501),E=e(83322),S=e(63270),O=e(3258),A=e(36868),u=e(39419),o=e(84040),s=e(51126),w=e(62246),P=e(43887);const C={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var x=Object.defineProperty,D=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,T=(k,H,G)=>H in k?x(k,H,{enumerable:!0,configurable:!0,writable:!0,value:G}):k[H]=G,R=(k,H)=>{for(var G in H||(H={}))y.call(H,G)&&T(k,G,H[G]);if(D)for(var G of D(H))M.call(H,G)&&T(k,G,H[G]);return k};const F="like_upsell_last_shown_at",N=()=>{const k=p.get(F);if(k){const H=_()(k),G=_()().subtract(30,"days");if(H.isAfter(G))return!1}return!0},U=k=>{p.set(F,_()().format(),R({expires:365*10},!k.custom_domain&&{domain:`.${new URL((0,g.getBaseUrl)()).hostname}`}))},V=({pub:k})=>{var H,G;const q=(0,S.xR)(),[z,ee]=(0,a.eJ)((H=k==null?void 0:k.plans)==null?void 0:H[0]),$=q.getConfigFor("disable_monthly_subscriptions");return(0,t.h)(s.tu,{gap:20},(0,t.h)(s.tu,{gap:4},(0,t.h)(P.xv.H4,{weight:"semibold"},"Support ",k.name),(0,t.h)(P.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",k.name," with a subscription?")),(0,t.h)("form",{className:C.form},(0,t.h)(s.tu,{gap:12},(G=k==null?void 0:k.plans)==null?void 0:G.map(J=>{if(!(J.interval==="month"&&$))return(0,t.h)("label",{className:C.label,key:J.id},(0,t.h)(s.gq,{gap:12,alignItems:"center"},(0,t.h)("input",{name:"plan",type:"radio",value:J.id,onInput:()=>ee(J),checked:z&&z.id===J.id,className:c()({[C.selectedInput]:z&&z.id===J.id},C.input)}),(0,t.h)(s.gq,{gap:8},(0,t.h)(P.xv.B4,{as:"span",weight:"semibold",color:z&&z.id===J.id?"primary":"secondary"},(0,E.getPlanTitle)(J,k.language)),(0,t.h)(P.xv.B4,{as:"span",color:"secondary"},(0,E.planBasePricing)(J)))))}))),(0,t.h)(o.zx,{onClick:()=>{(0,O.j)(O.FP.LIKE_UPSELL_PLAN_SELECTED),(0,u.redirect)((0,g.getSubscribeUrl)(k,{params:R({utm_source:"like-button-upsell"},z&&{selectedPlanId:z.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},W=({pub:k,onClose:H,shareDialogRef:G})=>(0,t.h)(s.tu,{gap:20},(0,t.h)(s.tu,{gap:4},(0,t.h)(P.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,t.h)(P.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,t.h)(o.zx,{onClick:()=>{var q;(0,O.j)(O.FP.LIKE_UPSELL_SHARE_CLICKED),(q=G.current)==null||q.open(),H==null||H()},grow:!0,priority:"primary-theme"},"Share")),L=({user:k,pub:H,post:G})=>{const q=(0,a.sO)(),z=N(),[ee,$]=(0,a.eJ)(z),[J,j]=(0,a.eJ)(z);(0,a.d4)(()=>{(!z||k!=null&&k.is_contributor||k!=null&&k.is_admin)&&(0,u.removeQueryParam)("show_reaction_upsell")},[z,k]),(0,a.d4)(()=>{J&&ee&&((0,O.j)(O.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,A.P)(k,H)?"share":"paid"}),U(H))},[J,ee,H,k]);const Z=()=>{$(!ee),j(!1),(0,u.removeQueryParam)("show_reaction_upsell")};return k&&!k.is_contributor&&!k.is_admin&&J?(0,t.h)(t.Fragment,null,(0,t.h)(w.u_,{isOpen:ee,onClose:Z},(0,t.h)(w.fe,null,(0,A.P)(k,H)?(0,t.h)(W,{pub:H,onClose:Z,shareDialogRef:q}):(0,t.h)(V,{pub:H}))),(0,t.h)(l.ZP,{ref:q,user:k,pub:H,post:G})):null}},65726:(K,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(6400),a=Object.defineProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,l=(S,O,A)=>O in S?a(S,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):S[O]=A,v=(S,O)=>{for(var A in O||(O={}))c.call(O,A)&&l(S,A,O[A]);if(i)for(var A of i(O))p.call(O,A)&&l(S,A,O[A]);return S},_=(S,O)=>{var A={};for(var u in S)c.call(S,u)&&O.indexOf(u)<0&&(A[u]=S[u]);if(S!=null&&i)for(var u of i(S))O.indexOf(u)<0&&p.call(S,u)&&(A[u]=S[u]);return A};const E=S=>{var O=S,{children:A,href:u,onClick:o}=O,s=_(O,["children","href","onClick"]);return(0,t.h)("a",v(v({role:"button",tabIndex:0,href:u!=null?u:"javascript:void(0)"},o&&{onClick:w=>{w.stopPropagation(),o(w)}}),s),A)}},86602:(K,f,e)=>{"use strict";e.r(f),e.d(f,{chatMentionsSearch:()=>T,default:()=>x,mentionsSearch:()=>y});var t=e(6400),a=e(80569),i=e.n(a),c=e(20501),p=e(92643),l=e(44695),v=e(80332);const _={mention:"frontend-components-mention-module__mention--UisMf"};var g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(R,F,N)=>F in R?g(R,F,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[F]=N,s=(R,F)=>{for(var N in F||(F={}))A.call(F,N)&&o(R,N,F[N]);if(O)for(var N of O(F))u.call(F,N)&&o(R,N,F[N]);return R},w=(R,F)=>E(R,S(F)),P=(R,F,N)=>new Promise((U,V)=>{var W=H=>{try{k(N.next(H))}catch(G){V(G)}},L=H=>{try{k(N.throw(H))}catch(G){V(G)}},k=H=>H.done?U(H.value):Promise.resolve(H.value).then(W,L);k((N=N.apply(R,F)).next())});const x=({id:R,type:F,name:N,url:U,photo_url:V,uuid:W,mentionText:L,isStatic:k=!1,isEditorContext:H=!1})=>{if(k)return(0,t.h)("span",{className:_.mention,"data-component-name":"MentionStatic"},(0,t.h)("a",{href:(0,c.getMentionsUrl)(F,R,N,U)},N||"Substack user"));if(F==="user"){const G={id:R,name:N||"Substack user",photo_url:V};return(0,t.h)(p.am,null,(0,t.h)(v.Ct,{subject:G,utmSource:"mention"},(0,t.h)("a",{className:_.mention,href:H?void 0:(0,c.getMentionsUrl)(F,R,N,U),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:N,id:R,type:F,url:U,photo_url:V,uuid:W}),onClick:q=>q.stopPropagation(),"data-component-name":"MentionUser"},L!=null?L:N)))}return F==="pub"?(0,t.h)(l.Sm,{publication_id:R,utmSource:"mention"},(0,t.h)("a",{className:_.mention,href:U,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:N,id:R,type:F,url:H?void 0:(0,c.getMentionsUrl)(F,R,N,U),uuid:W}),onClick:G=>G.stopPropagation(),"data-component-name":"MentionPub"},L!=null?L:N)):(0,t.h)("a",{className:_.mention,target:"_blank",rel:"noopener",href:(0,c.getMentionsUrl)(F,R,N,U),"data-attrs":JSON.stringify({name:N,id:R,type:F,url:U,photo_url:V,uuid:W}),"data-component-name":"Mention"},L!=null?L:N)},D={},y=(R,...F)=>P(void 0,[R,...F],function*(N,{pathname:U="/api/v1/posts/mention"}={}){if(D[N])return D[N];const V=yield i().get(U).query({query:N}),{profiles:W,publications:L}=V.body,k=new Map;return W&&W.length&&k.set("Writers",W.map(H=>w(s({},H),{type:"user"}))),L&&L.length&&k.set("Publications",L==null?void 0:L.map(H=>w(s({},H),{type:"pub",url:(0,c.getPublicationAppLinkUrl)({subdomain:H.subdomain}),photo_url:H.logo_url}))),D[N]=k,k}),M={},T=(R,...F)=>P(void 0,[R,...F],function*(N,{pathname:U="/api/v1/community/mention"}={}){const V=`${U}-${N}`;if(M[V])return M[V];const W=yield i().get(U).query({query:N}),{results:L}=W.body,k=new Map;return L&&k.set("Writers",L.map(H=>w(s({},H),{type:"user",id:H.user_id}))),M[V]=k,k})},85905:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Poll:()=>Oe,StaticPoll:()=>Se});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(71375),l=e(19723),v=e(99869),_=e(47641),g=e(13639),E=e(80569),S=e.n(E),O=e(85928),A=e.n(O),u=e(15045),o=e(83322),s;const w=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.freeSignup:!1,P=(0,t.createContext)(w);P.displayName="FreeSignupContext";function C(){return(0,a.qp)(P)}var x=e(28488),D=e(71720),y=e(67963),M=e(18492),T=e(39419),R=e(92271),F=e(51126),N=e(62246),U=e(43887),V=e(75425),W=e(35291),L=e(3258),k=e(23890),H=e(96789),G=Object.defineProperty,q=Object.defineProperties,z=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,j=(Ze,Fe,Ke)=>Fe in Ze?G(Ze,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):Ze[Fe]=Ke,Z=(Ze,Fe)=>{for(var Ke in Fe||(Fe={}))$.call(Fe,Ke)&&j(Ze,Ke,Fe[Ke]);if(ee)for(var Ke of ee(Fe))J.call(Fe,Ke)&&j(Ze,Ke,Fe[Ke]);return Ze},ne=(Ze,Fe)=>q(Ze,z(Fe));class ie extends H.p{constructor(Fe,Ke){var et,Qe;super(Fe,Ke),this.state.email=(Qe=(et=this.props.user)==null?void 0:et.email)!=null?Qe:null}onOpen(){(0,L.j)(L.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,L.j)(L.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:Fe,post:Ke,user:et,audience:Qe,pollId:$e}=this.props,{email:Te}=this.state,te=Qe==="only_paid"?"paid subscribers":"subscribers";return(0,t.h)("div",null,(0,t.h)("div",{className:"poll-signup-header"},(0,t.h)("div",{className:"poll-signup-title"},`Subscribe to ${Fe.name} to vote on this poll`),(0,t.h)("div",{className:"poll-signup-audience"},"Only ",te," can vote on this poll.")),(0,t.h)(k.ZP,{method:"post",action:(0,u.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:ue=>{(0,L.j)(L.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:$e,post_id:Ke.id}),Fe.plans||Fe.has_recommendations?document.location.href=(0,u.getSubscribeUrl)(this.props.pub,ne(Z(Z({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:Ke&&Ke.id,just_signed_up:!0,requires_confirmation:ue.body.requires_confirmation?"true":""},ue.body.subscription_id&&{subscription_id:ue.body.subscription_id}),ue.body.referral_token&&{referral_token:ue.body.referral_token}),{next:(0,u.getPostUrl)(Fe,Ke)})):document.location.reload()}},(0,t.h)("div",{className:"poll-signup"},(0,t.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:Te,disabled:!!et.email,tabIndex:0,onChange:ue=>{this.setState({email:ue.target.value})}}),(0,t.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,t.h)("div",{id:"error-container"}),(0,t.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!et.email&&(0,t.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,t.h)("a",{className:"poll-signin-link",href:(0,u.getSigninUrl)({for_pub:Fe.subdomain,redirect:(0,u.getPostUrl)(Fe,Ke)})},"Sign in")))}}var oe=e(30105),re=e(9412),ae=Object.defineProperty,se=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,je=(Ze,Fe,Ke)=>Fe in Ze?ae(Ze,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):Ze[Fe]=Ke,Je=(Ze,Fe)=>{for(var Ke in Fe||(Fe={}))Ae.call(Fe,Ke)&&je(Ze,Ke,Fe[Ke]);if(le)for(var Ke of le(Fe))De.call(Fe,Ke)&&je(Ze,Ke,Fe[Ke]);return Ze},Be=(Ze,Fe)=>se(Ze,fe(Fe)),st=(Ze,Fe,Ke)=>new Promise((et,Qe)=>{var $e=ue=>{try{te(Ke.next(ue))}catch(we){Qe(we)}},Te=ue=>{try{te(Ke.throw(ue))}catch(we){Qe(we)}},te=ue=>ue.done?et(ue.value):Promise.resolve(ue.value).then($e,Te);te((Ke=Ke.apply(Ze,Fe)).next())});const ht=2,gt=5,Xe=35,Re=255,Ne=({isExpired:Ze,isPublished:Fe,remainingHours:Ke,language:et})=>{const{iString:Qe,iTemplate:$e}=I18N.i(et);if(Ze)return Qe("POLL CLOSED");if(!Fe)return Qe("NOT PUBLISHED");if(Ke>=168)return"";if(Ke>=48){const Te=Math.floor(Ke/24);return $e`${Te} DAYS REMAINING`}return Ke>=24?$e`1 DAY REMAINING`:Ke>=2?$e`${Ke} HOURS REMAINING`:Ke==1?Qe("1 HOUR REMAINING"):Qe("LESS THAN 1 HOUR REMAINING")},ke=Ze=>Ze>1?`Choice ${Ze+1} (optional)`:`Choice ${Ze+1}`,ot=({question:Ze,expiry:Fe,audience:Ke,options:et})=>{const Qe=et.filter(Boolean);if(Ze.length<1||Ze.length>255)return"The question must be between 1 and 255 characters long.";if(Qe.length<2||Qe.length>5)return"Your poll must have 2 to 5 options.";if(Qe.some($e=>$e.length<1||$e.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(Ke)){if(![1,24,72,168,999999].includes(Fe))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},Dt=({index:Ze,text:Fe,onChange:Ke,onDelete:et,showDeleteButton:Qe,disabled:$e})=>(0,t.h)("div",{className:"poll-option-editor"},(0,t.h)("input",{type:"text",onChange:Te=>{Ke(Ze,Te.currentTarget.value)},value:Fe,disabled:$e,placeholder:ke(Ze),maxLength:Xe}),(0,t.h)("button",{className:c()("poll-remove-option",{"is-hidden":!Qe}),onClick:()=>et(Ze),disabled:$e,tabIndex:Qe?void 0:-1},(0,t.h)(p.Z,null))),ln=({poll:Ze,isOpen:Fe,onClose:Ke,onSave:et,isPublished:Qe,totalVotes:$e,shouldShowAudiencePicker:Te})=>{let te=Ze.options.map(qe=>qe.label);te.length>1?te.length<gt&&te.push(""):te=["",""];const{payments_state:ue}=(0,D.I)()||{},we=Te&&ue==="enabled"?"only_paid":"all_subscribers",[me,Ee]=(0,a.eJ)(Ze.question||""),[he,xe]=(0,a.eJ)(te),[Ve,Pe]=(0,a.eJ)(Ze.expiry||24),[Ie,ze]=(0,a.eJ)(Ze.audience||we),[tt,Le]=(0,a.eJ)(!1),[It,on]=(0,a.eJ)(Ze.votes_hidden||!1),[zt,$t]=(0,a.eJ)(null),Bt=ot({question:me,options:he,expiry:Ve,audience:Ie,votes_hidden:It}),xn=(0,a.I4)(()=>{var qe;Ee(Ze.question||""),xe(((qe=Ze.options)==null?void 0:qe.map(Et=>Et.label))||["",""]),Pe(Ze.expiry||24),ze(Ze.audience||we),on(Ze.votes_hidden||!1),$t(null),Ke()},[Ee,xe,Pe,ze,Ze,Ke]),Hn=(0,a.I4)(({value:qe})=>{["only_paid","all_subscribers"].includes(qe)&&ze(qe)},[ze]),ir=Ie==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",Vn=(0,a.I4)(({value:qe})=>{const Et=Number(qe);[1,24,72,168,999999].includes(Et)&&Pe(Et)},[Pe]),_t=Ve===1?"1 hour":Ve===24?"1 day":Ve===72?"3 days":Ve===168?"1 week":"Forever",ut=(0,a.I4)((qe,Et)=>{const en=[...he];en.splice(qe,1,Et),qe===en.length-1&&en.length<gt&&en.push(""),xe(en)},[he,xe]),Ce=(0,a.I4)(qe=>{if(he.length<=ht||qe>=he.length)return;const Et=[...he];Et.splice(qe,1),Et[Et.length-1].length&&Et.push(""),xe(Et)},[he,xe]),be=Array(Math.max(2,he.length||0)).fill("").map((qe,Et)=>he.length>Et?he[Et]:qe),We=zt||Qe&&`This poll is part of a post that has already been published. If you modify it, ${$e} existing ${$e===1?"vote":"votes"} will be removed.`;return(0,t.h)(N.u_,{className:"poll-editor-modal",isOpen:Fe,onClose:Ke},(0,t.h)("div",{className:"poll-editor"},(0,t.h)("div",{className:"poll-editor-section question-section"},(0,t.h)("input",{className:"poll-question-editor",type:"text",value:me,onChange:qe=>Ee(qe.currentTarget.value),placeholder:"Enter your question...",disabled:tt,maxLength:Re})),(0,t.h)("div",{className:"poll-editor-section options-section"},(0,t.h)("div",{className:"poll-options-editor"},be.map((qe,Et)=>(0,t.h)(Dt,{index:Et,text:qe,onChange:ut,onDelete:Ce,disabled:tt,showDeleteButton:be.length>ht&&(Et<be.length-1||qe.length>0)})))),(0,t.h)("div",{className:"poll-editor-section length-section"},(0,t.h)("div",{className:"poll-section-title"},"Length"),(0,t.h)(re.Z,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 days",value:"72"},{label:"1 week",value:"168"},{label:"Forever",value:"999999"}],isDisabled:tt,value:{label:_t,value:String(Ve)},onChange:Vn})),Te&&ue==="enabled"&&(0,t.h)("div",{className:"poll-editor-section audience-section"},(0,t.h)("div",{className:"poll-section-title"},"Who can vote?"),(0,t.h)(re.Z,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:tt,value:{label:ir,value:Ie},onChange:Hn})),(0,t.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,t.h)(W.p,{checked:It,onChange:()=>on(!It),label:"Hide the total vote count from readers?",name:"votes-hidden"})),(0,t.h)("div",{className:"poll-editor-section action-section"},We&&(0,t.h)("div",{className:"edit-warning"},We),(0,t.h)("div",{className:"action-buttons"},(0,t.h)(R.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:xn,disabled:tt},"Cancel"),(0,t.h)(oe.L,{content:Bt,className:c()("inverse",{disabled:Bt===null})},(0,t.h)(R.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>st(void 0,null,function*(){Le(!0);try{yield et({audience:Ie,question:me,options:he.filter(Boolean),expiry:Ve,votes_hidden:It})}catch(qe){$t("An error occurred while saving this poll.")}Le(!1)}),disabled:Bt!==null||tt},"Save"))))))},ct=({id:Ze,text:Fe,onVote:Ke,showVotes:et,currentVotes:Qe,totalVotes:$e,myVote:Te,canVote:te})=>{const ue=(0,a.I4)(()=>st(void 0,null,function*(){Ze&&(yield Ke(Ze))}),[Ze,Ke]),we=Math.round(100*($e===0?0:Qe/$e));return(0,t.h)("div",{className:c()("poll-option",{"show-votes":et,"hide-votes":!et,"can-vote":te,"my-vote":Te}),onClick:ue},et&&(0,t.h)("div",{className:"poll-vote-background",style:{width:`${we}%`}}),(0,t.h)("div",{className:"poll-option-background"},(0,t.h)("div",{className:"poll-option-text"},Fe,et&&Te&&(0,t.h)(l.Z,{className:"vote-icon"}))),et&&(0,t.h)("div",{className:"poll-percentage-text"},we,"%"))},Oe=({id:Ze,isEditor:Fe,post:Ke,pub:et,isVersionView:Qe})=>{var $e,Te,te;const[ue,we]=(0,a.eJ)(!1),[me,Ee]=(0,a.eJ)(!0),[he,xe]=(0,a.eJ)(null),[Ve,Pe]=(0,a.eJ)(null),[Ie,ze]=(0,a.eJ)(!0),[tt,Le]=(0,a.eJ)(Qe!=null?Qe:!1),{iString:It,language:on}=(0,x.M1)(),zt=(0,V.pm)(),$t={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!Fe){const Lt=(0,u.parseQuery)(window.location.href);if(Lt&&Lt.token&&($t.token=Lt.token),!$t.token&&(($e=window._preloads)!=null&&$e.original_url)){const mt=(0,u.parseQuery)(window._preloads.original_url);mt&&mt.token&&($t.token=mt.token)}}if(typeof window!="undefined"&&!Fe&&Ke.is_draft){const Lt=(0,u.getPostSlug)(window.location.href);Lt&&(0,o.isUUID)(Lt)&&($t.uuid=Lt)}const Bt=(0,y.aF)()||{},xn=Je({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},Bt),{is_subscribed:Hn,is_admin:ir,is_contributor:Vn,is_author:_t}=xn;let{is_free_subscribed:ut}=xn;C()&&(ut=!0);const Ce=Vn||ir||_t,be=A()(),We=he&&he.published_at&&A()(he.published_at).add(he.expiry,"hour"),qe=We&&We.diff(be,"hour"),en=(he==null?void 0:he.audience)==="only_paid"?Hn:ut,In=he&&he.options.some(Lt=>Lt.my_vote),qn=!!(he!=null&&he.is_published),cr=qn&&We&&We.isBefore(be),pr=Fe&&((he==null?void 0:he.post_type)!=="adhoc_email"||!qn),wr=(0,a.sO)(null),Vr=!In&&qn&&!cr&&en,On=(he==null?void 0:he.total_votes)==1?"1 VOTE":`${he==null?void 0:he.total_votes} VOTES`,pt=Ne({isExpired:cr,isPublished:qn,remainingHours:qe,language:on}),hn=(0,a.I4)((...Lt)=>st(void 0,[...Lt],function*({shouldNotSetLoading:mt}={shouldNotSetLoading:!1}){mt||Ee(!0);try{const Mt=yield S()(`/api/v1/poll/${Ze}`).query($t);xe(Mt.body),Pe(null)}catch(Mt){Pe(It("We were unable to load this poll. Please refresh the page."))}Ee(!1)}),[Ze,Ee,xe]);(0,a.d4)(()=>{hn()},[hn]);const Dn=(0,a.I4)(Lt=>st(void 0,null,function*(){try{yield S().put(`/api/v1/poll/${Ze}`).send(Lt)}catch(mt){return mt}return we(!1),Ee(!0),yield hn(),null}),[Ze,Ee,hn]),Gn=(0,a.I4)(Lt=>st(void 0,null,function*(){var mt;if(!en&&qn&&!cr&&!pr){(mt=wr.current)==null||mt.open();return}if(!(pr||!Vr||tt)){Le(!0);try{yield S().post(`/api/v1/poll/${Ze}/vote`).send({poll_option_id:Lt}).query($t),Pe(null)}catch(Mt){Pe(It("We were unable to record your vote. Please refresh the page and try again.")),Le(!1);return}yield hn({shouldNotSetLoading:!0}),Le(!1)}}),[pr,Vr,tt,Le,Ze,hn,en,qn,cr]),Kt=pr?Array(Math.max(2,((Te=he==null?void 0:he.options)==null?void 0:Te.length)||0)).fill("").map((Lt,mt)=>{var Mt;return he&&((Mt=he.options)==null?void 0:Mt.length)>mt?he.options[mt].label:ke(mt)}):(te=he==null?void 0:he.options)==null?void 0:te.map(Lt=>Lt.label);if(Ve!==null&&!he)return(0,t.h)("div",{className:"poll-wrapper poll-web"},(0,t.h)("div",{className:"poll-error"},Ve));const wt=Fe?null:`${(0,u.getPostUrl)(et,Ke)}#poll-${Ze}`;return(0,t.h)(F.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},wt&&(0,t.h)("div",{className:"poll-anchor-target",id:`poll-${Ze}`},(0,t.h)("div",{className:"poll-anchor-copy-button",onClick:Lt=>{location!=null&&location.href&&(Lt.preventDefault(),(0,T.copyToClipboard)(wt),zt.popToast(mt=>(0,t.h)(V.FN,Be(Je({},mt),{text:It("Link copied"),Icon:v.Z}))))}},(0,t.h)("a",{href:wt},(0,t.h)(v.Z,{size:20})))),pr&&he&&(0,t.h)(ln,{poll:he,isOpen:ue,onClose:()=>{we(!1)},isPublished:qn,totalVotes:(he==null?void 0:he.total_votes)||0,onSave:Dn,shouldShowAudiencePicker:(he==null?void 0:he.post_type)!=="adhoc_email"}),!Fe&&he&&(0,t.h)(ie,{ref:wr,noCloseButton:!0,className:"poll-dialog",pub:et,post:Ke,user:Bt,pollId:he.id,audience:he.audience}),me?(0,t.h)(F.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,t.h)(U.xv.Meta,{translated:!0},"Loading...")):(0,t.h)(t.Fragment,null,pr&&(0,t.h)("button",{className:"poll-edit",onClick:()=>{we(!0)},disabled:me},(0,t.h)(_.Z,{height:20})),(0,t.h)(F.tu,{gap:4},(0,t.h)(F.gq,{className:"poll-title",alignItems:"baseline",gap:4},(he==null?void 0:he.audience)==="only_paid"?(0,t.h)(t.Fragment,null,(0,t.h)(g.Z,{size:16}),(0,t.h)(U.xv.Meta,{translated:!0,className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,t.h)(U.xv.Meta,{translated:!0},"POLL")),(0,t.h)(U.xv.H3,{className:"poll-question",color:"pub-primary-text"},(he==null?void 0:he.question)||It("New Poll"))),Ve!==null&&(0,t.h)("div",{className:"poll-error"},Ve),(0,t.h)(F.tu,{gap:12,className:c()("poll-options",{"no-margins":!qn})},Kt.map((Lt,mt)=>{var Mt,Jt,pn;return(0,t.h)(ct,{id:((Mt=he==null?void 0:he.options[mt])==null?void 0:Mt.id)||null,text:Lt,canVote:!In&&qn&&!cr&&(!Fe||(he==null?void 0:he.post_type)==="adhoc_email"),onVote:Gn,showVotes:In||cr||Ce&&Ie,totalVotes:(he==null?void 0:he.total_votes)||0,currentVotes:((Jt=he==null?void 0:he.options[mt])==null?void 0:Jt.votes)||0,myVote:((pn=he==null?void 0:he.options[mt])==null?void 0:pn.my_vote)||!1})})),qn&&(0,t.h)(U.xv.Meta,{className:"poll-status"},(Ce||!he.votes_hidden)&&`${On} \xB7 `,pt,Ce&&!In&&!cr&&(0,t.h)(t.Fragment,null," \xB7 ",(0,t.h)("span",{className:"poll-author-visibility-toggle",title:It("Only the author, contributors, and admins may view results before voting."),onClick:()=>{ze(!Ie)}},It(Ie?"SHOW OPTIONS":"SHOW RESULTS"))))))},Se=({id:Ze,embeddedPolls:Fe})=>{const Ke=Fe.find(Qe=>Qe.id===Ze),{iString:et}=(0,x.M1)();return Ke?(0,t.h)(M.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(M.YF,{width:"100%"},(0,t.h)("tr",null,(0,t.h)("td",{className:"poll-header"},(Ke==null?void 0:Ke.audience)==="only_paid"?et("SUBSCRIBER-ONLY POLL"):et("POLL"))),(0,t.h)("tr",{className:"poll-question",width:"100%"},(0,t.h)("td",null,Ke.question||et("New Poll"))),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(M.YF,{className:"poll-options",width:"100%"},Ke.options.map(({label:Qe,id:$e},Te)=>(0,t.h)("tr",null,(0,t.h)("td",{className:"poll-option",width:"100%"},(0,t.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${$e}_url%%`,width:"100%"},(0,t.h)("div",{className:"poll-vote-contents"},Qe||ke(Te))))))))))))):(0,t.h)("table",{className:"poll-wrapper"},et("Something went wrong."))}},56838:(K,f,e)=>{"use strict";e.d(f,{Cz:()=>Gn,Er:()=>Dn,F6:()=>Kt,L9:()=>Mt,Mp:()=>Jt,Ng:()=>pt,PA:()=>Ie,RY:()=>mt,Su:()=>Pe,TJ:()=>qe,_2:()=>tt,c1:()=>Et,fh:()=>wt,mt:()=>on,pD:()=>pr,sV:()=>$t,vk:()=>be,yT:()=>pn,z5:()=>hn});var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(12297),v=e.n(l),_=e(23493),g=e.n(_),E=e(40423),S=e(80587),O=e(77951),A=e(95951),u=e(65207),o=e(13808),s=e(18794),w=e(8618),P=e(31131),C=e(67358),x=e(80569),D=e.n(x),y=e(965),M=e(55489),T=e(69427),R=e(17087),F=e(82626),N=e(85928),U=e.n(N),V=e(6385),W=e(91613),L=e(15045),k=e(20501),H=e(83322),G=e(2405),q=e(4190),z=e(28488),ee=e(85065),$=e(32076),J=e(63270),j=e(18597),Z=e(18492),ne=e(3258),ie=e(39776),oe=e(8479),re=e(35225),ae=e(36868),se=e(39419),fe=e.n(se),le=e(84040),Ae=e(51126),De=e(76235),je=e(62246),Je=e(43887),Be=e(75425),st=e(592),ht=e(16742),gt=e(25597),Xe=e(19826),Re=e(47819),Ne=e(15440),ke=e(63295),ot=e(12650),Dt=e(43498),ln=e(11628),ct=e(49542),Oe=e(31517),Se=e(11762),Ze=e(49786),Fe=e(50615),Ke=e(80332),et=e(31533),Qe=e(49715),$e=Object.defineProperty,Te=Object.defineProperties,te=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Ee=(Gt,Zt,_n)=>Zt in Gt?$e(Gt,Zt,{enumerable:!0,configurable:!0,writable:!0,value:_n}):Gt[Zt]=_n,he=(Gt,Zt)=>{for(var _n in Zt||(Zt={}))we.call(Zt,_n)&&Ee(Gt,_n,Zt[_n]);if(ue)for(var _n of ue(Zt))me.call(Zt,_n)&&Ee(Gt,_n,Zt[_n]);return Gt},xe=(Gt,Zt)=>Te(Gt,te(Zt)),Ve=(Gt,Zt,_n)=>new Promise((Qn,At)=>{var fn=Wn=>{try{Mn(_n.next(Wn))}catch(rr){At(rr)}},gn=Wn=>{try{Mn(_n.throw(Wn))}catch(rr){At(rr)}},Mn=Wn=>Wn.done?Qn(Wn.value):Promise.resolve(Wn.value).then(fn,gn);Mn((_n=_n.apply(Gt,Zt)).next())});function Pe(Gt,Zt){return Gt==="button"&&Zt==="verbose"?16:Gt==="button"?20:Gt==="tabs"?24:Gt==="compressed"?16:0}const Ie=2,ze=({isFullWidth:Gt,children:Zt})=>Gt?(0,t.h)(Ae.gq,{className:"post-ufi-button-wrapper",gap:8},Zt):Zt;function tt({post:Gt,pub:Zt,user:_n,style:Qn,justified:At,isStatic:fn,hideReactions:gn,hideComments:Mn,hideShare:Wn,hideSavePost:rr,useShareLabel:Zn,allowEdit:ur,editButtonIsLast:Ar,onChange:so,addedPodcastComments:io,hidePinning:Qr,showEmailSent:Eo,allowSendEmail:So,footerHidden:Wt,onCommentsClick:jn,onClipClick:bt,labelStyle:Ut,showPreamble:qt,preambleConfig:Sn={},position:at,hideByDisabling:Pt,showRestackButton:jt,showRestackModal:vn,showClipping:Pn,hideFeedRestackButton:Rn,onToggleMenu:$n}){const ar=(0,j.Tf)(),{showPins:lr,showAudience:sr,showDate:fr,showDatetime:gr,showAuthor:Sr,showPublicationName:Gr,showCrossPostedPublicationName:Oo}=Sn;gn=gn||!Zt.community_enabled||!Gt.slug||Gt.is_draft;const zr=v()(Object.values((Gt==null?void 0:Gt.reactions)||{})),yt=Eo?!!Gt.email_sent_at:null,ft=(0,G.LC)(),vt=ur&&(_n==null?void 0:_n.is_contributor)&&!ft,kt=Le({post:Gt,pub:Zt,user:_n,defaultOpen:jt&&vn&&at!=="post-footer"&&at!=="post-footer-full-width"}),Qt=_n&&(0,t.h)(On,{style:Qn,pub:Zt,post:Gt,user:_n,hidePinning:Qr,emailSent:yt!=null?yt:void 0,allowSendEmail:So,footerHidden:Wt,canBeCrossPosted:jt,onToggleMenu:$n}),Cn=({mediaUpload:Zr,disabled:co})=>{var it;const Ye=((it=Zr==null?void 0:Zr.duration)!=null?it:0)>5,lt=()=>{if(Ye){if(co)return"upgrade in order to watch this video and be able to clip it"}else return"can't clip videos shorter than 5 seconds";return""},Ot=!Ye||co;return Ot||(0,ne.j)(ne.FP.VIDEO_CLIP_BUTTON_SEEN,{post_id:Gt.id}),(0,t.h)(pt,{title:lt(),isDisabled:Ot,style:"button",onClick:tn=>Ye&&bt?bt(tn):null,icon:(0,t.h)(E.Z,{className:"icon"})})},En=!Rn&&Zt.community_enabled&&Gt.slug&&!Gt.is_draft,Kn=jt&&!qt&&(Pt||gn&&Mn&&Wn&&!vt),or=Ut==="counts-or-none"&&zr?"count":Ut==="labels"?"cta":"none",Yn=Ut==="counts-or-none"&&Gt.comment_count?"count":Ut==="labels"?"cta":"none",Er=_n&&Gt.videoUpload&&(0,R.a)(_n,Gt,Gt.videoUpload),eo=at==="post-footer-full-width";return(0,t.h)("div",{className:p()("post-ufi",`style-${Qn}`,{justified:At,themed:ar,"single-full-width-button":Kn})},(0,t.h)(ze,{isFullWidth:eo},qt&&Sn&&(0,t.h)(Lt,{pub:Zt,post:Gt,showPins:lr,showAudience:sr,showDate:fr,showDatetime:gr,showEmailSent:Eo,showAuthor:Sr,showPublicationName:Gr,showCrossPostedPublicationName:Oo}),vt&&!Ar&&Qt,(0,t.h)(ie.SiteConfigGate,{configKey:"enable_episode_clips"},Pn&&(0,t.h)(Cn,{mediaUpload:Gt.videoUpload,disabled:!Er})),(Pt||!gn)&&(0,t.h)(Bt,{post:Gt,pub:Zt,user:_n,labelStyle:Pt&&gn?"none":or,style:Qn,onChange:so,isStatic:fn,isDisabled:Pt&&gn}),(Pt||!Mn)&&(0,t.h)(cr,{post:Gt,pub:Zt,isStatic:fn,labelStyle:Pt&&Mn?"none":Yn,style:Qn,count:Gt.comment_count+(io||0),onClick:jn,isDisabled:Pt&&Mn}),En&&_n&&(0,t.h)(Hn,{pub:Zt,post:Gt,onChange:so,style:Qn,onToggleMenu:$n}),!Wn&&(0,t.h)(M.s,{post:Gt,pub:Zt,user:_n,trigger:{style:Qn,labelStyle:Zn?"cta":"none",isStatic:fn},position:at})),(0,t.h)(ze,{isFullWidth:eo},!rr&&!jt&&_n&&(0,t.h)(In,{post:Gt,labelStyle:Yn,style:Qn,onChange:so}),vt&&Ar&&Qt,jt&&!vt&&at==="post-header"&&(0,t.h)(t.Fragment,null,(0,t.h)(De.v2,{trigger:(0,t.h)(le.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,t.h)(S.Z,{size:20}))},_n&&(0,t.h)(Vr,{onClick:kt.open,post:Gt,pub:Zt,user:_n}),(0,t.h)(qn,{post:Gt,onChange:so}))),jt&&!vt&&eo&&(0,t.h)(t.Fragment,null,!rr&&(0,t.h)(In,{post:Gt,labelStyle:"verbose",style:"button",onChange:so}),_n&&(0,t.h)(wr,{onClick:kt.open,post:Gt,pub:Zt,user:_n,style:"button"}))),kt.modal)}function Le({pub:Gt,user:Zt,post:_n,defaultOpen:Qn=!1}){const[At,fn]=(0,i.eJ)(Qn);return(0,i.d4)(()=>{Qn&&Zt&&(0,ne.j)(ne.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Gt.id,restacked_post_id:_n.id,restacking_user_id:Zt.id,is_from_email:!0})},[Qn,Gt,_n,Zt]),{open:()=>fn(!0),modal:(0,t.h)(Qe.J,{pub:Gt,user:Zt,post:_n,open:At,setOpen:fn})}}function It(){const Zt=typeof window=="undefined",_n=250,[Qn,At]=(0,i.eJ)(Zt?0:window.pageYOffset),[fn,gn]=(0,i.eJ)(!1),Mn=100,Wn=(0,i.Ye)(()=>Date.now()+1e3,[]),rr=(0,i.sO)(0);return(0,i.d4)(()=>{if(Zt)return;const Zn=g()(()=>{const ur=Date.now(),Ar=(ur-rr.current)/1e3,io=(Qn-window.pageYOffset)/Ar;rr.current=ur,!(window.pageYOffset<0)&&(ur<Wn?gn(!1):-io>Mn?gn(!0):io>Mn&&gn(!1),At(window.pageYOffset))},_n);return window.addEventListener("scroll",Zn),()=>window.removeEventListener("scroll",Zn)},[Zt,Qn,At,gn,Wn,rr,!1]),fn}function on({post:Gt,pub:Zt,user:_n,isStatic:Qn,onChange:At,allowEdit:fn,hidePinning:gn,showEmailSent:Mn,allowSendEmail:Wn,hideComments:rr,onCommentsClick:Zn,showRestackButton:ur,showRestackModal:Ar,setFooterShown:so}){const io=It(),Qr=(0,Be.pm)();return(0,i.d4)(()=>{Qr.addOffset(64*(io?1:-1)),so&&so(!io)},[io,so]),(0,t.h)(Ae.hs,{alignItems:"center",padding:8,className:p()("mobile-footer-ufi",{hidden:io})},(0,t.h)(tt,{post:Gt,pub:Zt,user:_n,isStatic:Qn,justified:!0,style:"tabs",onChange:At,allowEdit:fn,editButtonIsLast:!0,hidePinning:gn,showEmailSent:Mn,allowSendEmail:Wn,footerHidden:io,labelStyle:"counts-or-none",hideComments:rr,onCommentsClick:Zn,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:Ar,showRestackButton:ur}))}function zt({post:Gt,pub:Zt,user:_n,surface:Qn,onChange:At,subscribePromptRef:fn}){const gn=!!(Gt!=null&&Gt.reaction),Mn=(0,G.LC)(),Wn=(0,oe.ib)({pathname:Mn?`/api/v1/cross-post/${Gt==null?void 0:Gt.id}/reaction`:`/api/v1/post/${Gt==null?void 0:Gt.id}/reaction`,method:"POST",deps:[Gt==null?void 0:Gt.id]}),rr=(0,re.S)({user:_n,noBase:!1});return{isLiked:gn,toggle:()=>Ve(this,null,function*(){var Zn;if(Wn.isLoading)return"error";gn||!rr()&&_n&&!_n.is_admin&&!_n.is_contributor&&(fn!=null&&fn.current)&&(0,Ze.G0)()&&((0,ne.j)(ne.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:_n!=null&&_n.is_free_subscribed?(0,ae.P)(_n,Zt)?"share":"paid":"free"}),fn.current.open(),(0,Ze.RH)(Zt));const{reaction:ur,reactions:Ar,reactor_names:so}=(0,et.fS)(_n,Gt);Gt.reaction=ur,Gt.reactions=Ar,Gt.reactor_names=so,At==null||At({post:Gt});const io=yield Wn.refetch(ur?{method:"POST",json:{reaction:"\u2764",surface:Qn}}:{method:"DELETE"}),Qr=(Zn=io==null?void 0:io.response)==null?void 0:Zn.status;if(Qr){const{reaction:Eo,reactions:So,reactor_names:Wt}=(0,et.fS)(_n,Gt);Gt.reaction=Eo,Gt.reactions=So,Gt.reactor_names=Wt,At==null||At({post:Gt})}return Qr===401?"unauthorized":Qr?"error":ur?"liked":"unliked"})}}function $t(){const Gt=en();return(_n,Qn,...At)=>Ve(this,[_n,Qn,...At],function*(fn,gn,{tabId:Mn}={}){yield(0,oe.rd)(`/api/v1/post/${fn}/reaction`,gn?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:Mn}}:{method:"DELETE",json:{tabId:Mn}}),Gt(gn)})}function Bt({post:Gt,pub:Zt,user:_n,style:Qn,labelStyle:At,onChange:fn,isStatic:gn,isDisabled:Mn}){const Wn=v()(Object.values((Gt==null?void 0:Gt.reactions)||{})),rr=At==="count"?(0,H.numberToString)(Wn||0):At==="cta"?"Like":null;return(0,t.h)(Ce,{post:Gt,pub:Zt,user:_n,onChange:fn,isStatic:gn,style:Qn},({isLiked:Zn,handleLike:ur})=>(0,t.h)(pt,{style:Qn,state:Zn?"liked":void 0,icon:(0,t.h)(ot.Z,{className:"icon",height:Pe(Qn),strokeWidth:Ie}),onClick:Mn?()=>{}:ur,noLabel:At==="none",isDisabled:Mn},rr))}function xn({style:Gt,onClick:Zt}){return(0,t.h)(pt,{style:Gt,state:void 0,icon:(0,t.h)(O.Z,{className:"icon",height:Pe(Gt),strokeWidth:Ie}),"aria-label":"menu",onClick:Zt})}function Hn({pub:Gt,post:Zt,style:_n,onChange:Qn,onToggleMenu:At}){const{canRestack:fn,isRestacked:gn,restacks:Mn,menuItems:Wn,nuxModal:rr}=(0,ht.K)({pub:Gt,post:Zt,onRestack:Ar=>{Qn==null||Qn({post:xe(he({},Zt),{restacked:Ar,restacks:Mn+(Ar?1:-1)})})}});if(!fn)return null;const Zn=!Gt.community_enabled,ur=(0,t.h)(pt,{style:_n,state:gn?"restacked":void 0,icon:(0,t.h)(Oe.Z,{className:"icon",height:Pe(_n),strokeWidth:Ie}),noLabel:Mn===0,"aria-label":"menu",isDisabled:Zn},Mn.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,t.h)(t.Fragment,null,rr,Zn?ur:(0,t.h)(De.v2,he({trigger:ur},At&&{onOpen:()=>{At({active:!0})},onClose:()=>{At({active:!1})}}),Wn))}function ir({postId:Gt,isOpen:Zt,onClose:_n}){const Qn=(0,J.xR)(),{iString:At}=(0,z.M1)(),[fn,gn]=(0,i.eJ)(),Mn=Qn.getConfigFor("enable_post_summarization")==!0,Wn=(0,i.sO)(!1),rr=(0,i.I4)(()=>{Wn.current=!0,D().post(`/api/v1/posts/${Gt}/summary`).then(Zn=>{var ur;(ur=Zn.body)!=null&&ur.summary&&gn(Zn.body.summary)}).finally(()=>{Wn.current=!1})},[Gt]);return(0,i.d4)(()=>{Zt&&Mn&&!fn&&!Wn.current&&rr()},[Zt,rr,Mn,fn]),Mn?(0,t.h)(je.u_,{isOpen:Zt,onClose:_n,width:750},(0,t.h)(je.xB,{includeClose:!0,title:At("Reader guide"),onClose:_n}),(0,t.h)(Ae.tu,{padding:16,paddingBottom:32},fn?(0,t.h)("div",{dangerouslySetInnerHTML:{__html:fn}}):(0,t.h)(Ae.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,t.h)("div",{className:"embed-loader"})))):null}function Vn({post:Gt,pub:Zt,user:_n,onChange:Qn,showRestackModal:At,canBeCrossPosted:fn,onSummaryOpen:gn}){const Mn="button",rr=(0,J.xR)().getConfigFor("enable_post_summarization")==!0,Zn=Le({pub:Zt,user:_n,post:Gt,defaultOpen:At&&fn}),ur=()=>{Zn.open(),(0,ne.j)(ne.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Zt.id,restacked_post_id:Gt.id,restacking_user_id:_n.id,is_from_email:!1})};return(0,t.h)(t.Fragment,null,(0,t.h)(De.v2,{trigger:(0,t.h)(pt,{style:Mn,icon:(0,t.h)(S.Z,{className:"icon edit-icon",size:Pe(Mn),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},_n&&(0,t.h)(qn,{post:Gt,onChange:Qn,showIcon:!0}),rr&&(0,t.h)(De.sN,{icon:(0,t.h)(A.Z,{height:24,strokeWidth:2}),onClick:gn},"Reader guide"),fn&&(0,t.h)(De.sN,{icon:(0,t.h)(Dt.Z,null),onClick:ur},"Cross post"),_n&&(0,t.h)(De.sN,{icon:(0,t.h)(u.Z,null),href:(0,k.getReaderPostUrl)(Gt.id)},"Substack Reader")),Zn.modal)}function _t(Gt){var Zt;const _n=v()(Object.values(((Zt=Gt.post)==null?void 0:Zt.reactions)||{}));return(0,t.h)(Bt,xe(he({},Gt),{labelStyle:_n>0?"count":"none"}))}const ut=({pub:Gt,user:Zt})=>{const[_n,Qn]=(0,i.eJ)(Zt==null?void 0:Zt.email),[At,fn]=(0,i.eJ)(!1),{iString:gn}=(0,z.M1)();return(0,t.h)(Ae.tu,{gap:20},(0,t.h)(Ae.tu,{gap:4},(0,t.h)(Je.xv.H4,{translated:!0,weight:"semibold"},"Support ",I18N.p(Gt.name)),(0,t.h)(Je.xv.B4,{translated:!0,color:"secondary"},"Since you liked this post, why not subscribe?")),(0,t.h)(Ae.tu,{gap:12},(0,t.h)("input",{disabled:!!(Zt!=null&&Zt.email),value:_n,onChange:Mn=>Qn(Mn.currentTarget.value)}),(0,t.h)(le.zx,{onClick:()=>Ve(void 0,null,function*(){(0,ne.j)(ne.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:_n}),fn(!0);try{const Mn=yield D().post("/api/v1/free").send({email:_n,source:"like-button-upsell"}),{referral_token:Wn}=Mn.body;(0,se.redirect)((0,k.getSubscribeUrl)(Gt,{params:{utm_source:"like-button-upsell",just_signed_up:!0,referral_token:Wn}}),{local_navigation:!1})}catch(Mn){alert((0,se.getNetworkErrorMessage)(Mn))}}),grow:!0,disabled:At,priority:"primary-theme"},gn(At?"Please wait...":"Subscribe"))))};function Ce({post:Gt,pub:Zt,user:_n,onChange:Qn,isStatic:At,children:fn,style:gn}){const Mn=(0,i.sO)(),Wn=(0,i.sO)(),{isLiked:rr,toggle:Zn}=zt({post:Gt,pub:Zt,user:_n,subscribePromptRef:Mn,onChange:Qn}),ur=(0,i.sO)(),[Ar,so]=(0,i.eJ)(!1),io=(0,i.I4)(Qr=>Ve(this,null,function*(){var Eo;(Eo=Qr==null?void 0:Qr.stopPropagation)==null||Eo.call(Qr),(yield Zn())==="unauthorized"&&so(!0)}),[Zn]);return(0,i.d4)(()=>{!(ur!=null&&ur.current)||!Ar||ur.current.open()},[Ar]),(0,t.h)("div",{className:p()("like-button-container","post-ufi-button",`style-${gn}`,rr&&"state-liked")},fn({isLiked:rr,handleLike:io}),!At&&Ar&&(0,t.h)(et.oq,{modalRef:ur,user:_n,pub:Zt,onClose:()=>so(!1),react:Zn}),_n&&!_n.is_admin&&!_n.is_contributor&&(gn==="button"||gn==="tabs")&&(0,t.h)(Xe.Fx,{ref:Mn,className:p()("subscribe-prompt-dropdown",!(_n!=null&&_n.is_free_subscribed)&&"free"),hideMenuTail:!0},_n!=null&&_n.is_free_subscribed?(0,ae.P)(_n,Zt)?(0,t.h)(Ze.xt,{pub:Zt,onClose:()=>{var Qr;return(Qr=Mn.current)==null?void 0:Qr.close()},shareDialogRef:Wn}):(0,t.h)(Ze._q,{pub:Zt}):(0,t.h)(ut,{pub:Zt,user:_n})),!At&&(0,t.h)(T.ZP,{ref:Wn,user:_n,pub:Zt,post:Gt}))}function be({post:Gt,defaultSaved:Zt,isSaved:_n,trackSurface:Qn}){var At;return We({postId:Gt.id,defaultSaved:(At=Zt!=null?Zt:Gt.is_saved)!=null?At:!1,isSaved:_n,trackSurface:Qn})}function We({postId:Gt,defaultSaved:Zt,isSaved:_n,trackSurface:Qn}){const[At,fn]=(0,i.eJ)(Zt),gn=_n!=null?_n:At,{refetch:Mn,isLoading:Wn,error:rr}=(0,oe.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:Gt},deps:[Gt]}),Zn=(0,ee.yH)(),ur=Et();return{isSaved:gn,onSave:()=>(Wn||(Mn({method:gn?"DELETE":"POST"}).then(()=>{Zn.refetch()}),fn(!gn),ur(!gn),(0,ne.j)(ne.FP.POST_SAVED,{post_id:Gt,surface:Qn})),!gn)}}function qe(Gt,Zt,_n){return Ve(this,arguments,function*(Qn,At,{surface:fn}){yield(0,oe.rd)("/api/v1/posts/saved",{method:At?"POST":"DELETE",json:{post_id:Qn}}),(0,ne.j)(ne.FP.POST_SAVED,{post_id:Qn,surface:fn,is_saved:At})})}function Et(){const Gt=(0,Be.pm)(),{iString:Zt}=(0,z.M1)();return _n=>{_n?Gt.popToast(Qn=>(0,t.h)(Be.FN,xe(he({},Qn),{text:Zt("Post saved"),Icon:o.Z,cta:Zt("View"),href:(0,L.getSavedPostsUrl)()}))):Gt.popToast(Qn=>(0,t.h)(Be.FN,xe(he({},Qn),{text:Zt("Post unsaved"),Icon:s.Z})))}}function en(){const Gt=(0,Be.pm)(),{iString:Zt}=(0,z.M1)();return _n=>{_n?Gt.popToast(Qn=>(0,t.h)(Be.FN,xe(he({},Qn),{text:Zt("Post liked"),Icon:w.Z}))):Gt.popToast(Qn=>(0,t.h)(Be.FN,xe(he({},Qn),{text:Zt("Post unliked"),Icon:w.Z})))}}function In({style:Gt,post:Zt,isSaved:_n,labelStyle:Qn,onChange:At}){const{isSaved:fn,onSave:gn}=be({defaultSaved:_n,post:Zt,isSaved:Zt.is_saved}),{iString:Mn}=(0,z.M1)(),Wn=()=>{const rr=gn();At({post:xe(he({},Zt),{is_saved:rr})})};return(0,t.h)(pt,{state:fn?"saved":void 0,style:Gt,icon:(0,t.h)(Ne.Z,{className:"icon",height:Pe(Gt,Qn==="verbose"?"verbose":null),strokeWidth:Ie}),noLabel:Qn==="none",verboseLabel:Qn==="verbose",onClick:Wn},Qn==="cta"||Qn==="verbose"?Mn("Save"):null)}function qn({post:Gt,isSaved:Zt,onChange:_n,showIcon:Qn}){const{onSave:At}=be({defaultSaved:Zt,post:Gt,isSaved:Gt.is_saved}),{iString:fn}=(0,z.M1)(),gn=()=>{const Wn=At();_n({post:xe(he({},Gt),{is_saved:Wn})})},Mn=Gt.is_saved?"var(--color-accent-substack)":void 0;return(0,t.h)(De.sN,{icon:Qn?(0,t.h)(o.Z,{style:{stroke:Mn,fill:Mn}}):void 0,onClick:gn},Gt.is_saved?fn("Unsave"):fn("Save"))}function cr({style:Gt,count:Zt,labelStyle:_n,post:Qn,pub:At,isStatic:fn,onClick:gn,isDisabled:Mn}){const{iString:Wn}=(0,z.M1)();let rr;return Qn!=null&&Qn.comment_url_override?rr=Qn.comment_url_override:fn?rr=`${F.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:At&&(rr=(0,L.getPostUrl)(At,Qn,{comments:!0})),(0,t.h)(pt,{style:Gt,icon:(0,t.h)(ke.Z,{className:"icon",height:Pe(Gt),strokeWidth:Ie}),href:Mn?null:rr,onClick:Mn?()=>{}:Zn=>{gn?gn(Zn):(Zn==null||Zn.preventDefault(),window.location.href=rr)},noLabel:_n==="none",className:"post-ufi-comment-button",isDisabled:Mn},_n==="cta"&&Wn("Comment"),_n==="count"&&(0,H.numberToString)(Zt||0))}function pr({post:Gt,user:Zt,pub:_n,style:Qn,labelStyle:At,isStatic:fn,onChange:gn,position:Mn}){const Wn=(0,i.sO)(),rr=(0,i.I4)(()=>{(0,ne.j)(ne.FP.POST_SHARE_BUTTON_CLICKED,{position:Mn}),Wn.current.open()},[]),{iString:Zn}=(0,z.M1)();let ur;Gt.share_url_override?ur=Gt.share_url_override:fn?Gt?ur=F.Substitutions.SHARE_URL:ur=F.Substitutions.SHARE_PUB_URL:ur="javascript:void(0)";const Ar=At==="none";return(0,t.h)(t.Fragment,null,(0,t.h)(pt,{style:Qn,icon:Ar?(0,t.h)(P.Z,{className:"icon",height:Pe(Qn),strokeWidth:Ie}):null,onClick:rr,href:ur,noLabel:At==="none",className:p()(!Ar&&"no-icon")},At==="cta"&&Zn("Share")),!fn&&(0,t.h)(T.ZP,{ref:Wn,user:Zt,pub:_n,post:Gt,onChange:gn}))}function wr({post:Gt,user:Zt,pub:_n,onClick:Qn,style:At}){const{iString:fn}=(0,z.M1)();return(0,t.h)(t.Fragment,null,(0,t.h)(pt,{style:At,icon:(0,t.h)(Dt.Z,{className:"icon",height:Pe(At,"verbose"),strokeWidth:Ie}),onClick:()=>{(0,ne.j)(ne.FP.RESTACK_POST_CLICKED,{restacked_publication_id:_n.id,restacked_post_id:Gt.id,restacking_user_id:Zt.id,is_from_email:!1}),Qn()},noLabel:!1,verboseLabel:!0,title:fn("Cross-Post")},fn("Cross-post")))}function Vr({post:Gt,user:Zt,pub:_n,onClick:Qn}){const At=()=>{(0,ne.j)(ne.FP.RESTACK_POST_CLICKED,{restacked_publication_id:_n.id,restacked_post_id:Gt.id,restacking_user_id:Zt.id,is_from_email:!1}),Qn()},{iString:fn}=(0,z.M1)();return(0,t.h)(t.Fragment,null,(0,t.h)(De.sN,{onClick:At},fn("Cross-post")))}function On({style:Gt,pub:Zt,post:_n,user:Qn,hidePinning:At,emailSent:fn,allowSendEmail:gn,footerHidden:Mn,showRestackModal:Wn,canBeCrossPosted:rr,onSummaryOpen:Zn,onToggleMenu:ur}){const Ar=(0,i.sO)();Mn&&Ar.current&&Ar.current.close();const so=Le({post:_n,pub:Zt,user:Qn,defaultOpen:Wn&&rr}),io=()=>{so.open(),(0,ne.j)(ne.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Zt.id,restacked_post_id:_n.id,restacking_user_id:Qn.id,is_from_email:!1})};return(0,t.h)("div",{className:p()("edit-button-container","post-ufi-button",`style-${Gt}`)},(0,t.h)(pt,{onClick:()=>Ar.current.open(),style:Gt,icon:(0,t.h)(S.Z,{className:"icon edit-icon",size:Pe(Gt),strokeWidth:2}),noLabel:!0}),(0,t.h)(Fe.y,{ref:Ar,pub:Zt,post:_n,user:Qn,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:At,emailSent:fn,allowSendEmail:gn,handleCrossPost:rr&&io,onSummaryOpen:Zn,onToggleMenu:ur}),so.modal)}const pt=(0,a.forwardRef)(({icon:Gt,children:Zt,state:_n,style:Qn,onClick:At,href:fn,noLabel:gn,verboseLabel:Mn,noBorder:Wn,className:rr,isDisabled:Zn,iconPosition:ur="left",title:Ar},so)=>(0,t.h)("a",{role:"button",className:p()("post-ufi-button",`style-${Qn}`,rr,_n?`state-${_n}`:void 0,Zn?"state-disabled":void 0,Zt&&!gn?"has-label":"no-label",Wn?"no-border":"with-border",Mn?"verbose-label":""),title:Ar,href:fn,onClick:io=>{At&&(io.stopPropagation(),At(io))},ref:so},ur==="left"&&Gt,!gn&&Zt&&(0,t.h)("div",{className:"label"},Zt),ur==="right"&&Gt)),hn=({pub:Gt,post:Zt,showAuthor:_n})=>!!(_n&&Gt.bylines_enabled&&(0,H.getPrintedByline)(Gt,Zt)),Dn=({pub:Gt,post:Zt,showAuthor:_n,showPhoto:Qn,isMobileWidth:At})=>hn({pub:Gt,post:Zt,showAuthor:_n})&&!Gn({pub:Gt,post:Zt,showAuthor:_n})&&!Kt({pub:Gt,post:Zt,showAuthor:_n,showPhoto:Qn})&&!At,Gn=({pub:Gt,post:Zt,showAuthor:_n})=>hn({pub:Gt,post:Zt,showAuthor:_n})&&(0,H.getBylineUsers)(Zt).length>1,Kt=({pub:Gt,post:Zt,showAuthor:_n,showPhoto:Qn})=>{var At;return hn({pub:Gt,post:Zt,showAuthor:_n})&&Qn&&((At=(0,H.getBylineUsers)(Zt)[0])==null?void 0:At.photo_url)&&Gt.byline_images_enabled};function wt({post:Gt,showDatetime:Zt,isStatic:_n,fromPostPage:Qn,showReactions:At,language:fn="en"}){const gn=Gt.reactions?Object.values(Gt.reactions).reduce((Wn,rr)=>Wn+rr,0):0,Mn=Qn&&!_n&&At&&gn>=70&&gn<100;return Zt&&Mn?U()(Gt.post_date).locale(fn).standardDatetimeWithYear():Zt&&!Mn?U()(Gt.post_date).locale(fn).standardDatetime():_n?U()(Gt.post_date).locale(fn).standardDate():Mn?U()(Gt.post_date).locale(fn).standardDate({full:Mn}):U()(Gt.post_date).locale(fn).standardDateOrTime()}function Lt({pub:Gt,post:Zt,showPins:_n,showAudience:Qn,showDate:At,showDatetime:fn,showEmailSent:gn,showAuthor:Mn,showPublicationName:Wn,showCrossPostedPublicationName:rr}){const Zn=(0,j.Tf)(),ur=!!(Mn&&Gt.bylines_enabled&&(0,H.getPrintedByline)(Gt,Zt)),Ar=!1,so=At&&Zt.post_date&&!Zt.is_draft,io=gn?!!Zt.email_sent_at:null,{iString:Qr,iTemplate:Eo,language:So}=(0,z.M1)();return(0,t.h)("div",{className:p()("ufi-preamble",{themed:Zn})},rr&&Zt.restacked_pub_name?(0,t.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},Eo`Published on ${Zt.restacked_pub_name}`):null,gn&&io&&(0,t.h)("div",{className:"email-sent",title:Qr("This post was sent as an email")},(0,t.h)(C.Z,{className:"post-ufi-preamble-icon",size:16})),_n&&Zt.is_section_pinned&&(0,t.h)("div",{className:"pinned"},(0,t.h)(Se.Z,{className:"post-ufi-preamble-icon"})),Zt.type==="adhoc_email"?(0,t.h)("div",{className:"audience-adhoc"},(0,t.h)(Re.Z,{className:"post-ufi-preamble-icon"})):Qn&&(0,V.isPaidAudience)(Zt.audience)&&(0,t.h)("div",{className:"audience-lock"},(0,t.h)(gt.Z,{audience:Zt.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),Dn({pub:Gt,post:Zt,showAuthor:ur,isMobileWidth:Ar})&&(0,t.h)("div",{className:"ufi-preamble-label author"},(0,H.getBylineUsers)(Zt).length>0?(0,H.oxfordComma)((0,H.getBylineUsers)(Zt).map(Wt=>(0,t.h)(t.Fragment,null,(0,t.h)(Ke.Ct,{subject:Wt,utmSource:"byline"},(0,t.h)("a",{href:(0,L.getProfileUrl)(Wt,Gt,{base:!0}),onClick:jn=>jn.stopPropagation()},Wt.name))))):(0,H.getPrintedByline)(Gt,Zt)),Wn&&(0,t.h)("div",{className:"post-publication-name"},Gt.name),so&&(0,t.h)("div",{className:"ufi-preamble-label post-date",title:U()(Zt.post_date).toISOString()},(0,t.h)("time",{dateTime:U()(Zt.post_date).toISOString()},wt({post:Zt,showDatetime:fn,language:So}))))}const mt=({pub:Gt,post:Zt,user:_n,onChange:Qn})=>(0,J.xR)().getConfigFor("like_posts_enabled")&&Gt.community_enabled?(0,t.h)(_t,{style:"button",post:Zt,pub:Gt,user:_n,onChange:Qn}):null,Mt=({pub:Gt,post:Zt,onClick:_n})=>{const Qn=(0,H.showCommentsOnPost)({publication:Gt,post:Zt}),{comment_count:At}=Zt;return Qn?(0,t.h)(cr,{post:Zt,pub:Gt,labelStyle:At>0?"count":"none",style:"button",count:At,onClick:_n}):null};function Jt({post:Gt,pub:Zt,user:_n,onChange:Qn,onCommentsClick:At,showRestackModal:fn=!1,showTranscriptionButton:gn,onTranscriptionClick:Mn,themeVariables:Wn}){const rr=(0,G.LC)(),Zn=(_n==null?void 0:_n.is_contributor)&&!rr,{getExperimentVariant:ur}=(0,q.jc)(),{getSettingFor:Ar}=(0,$.So)(),so=!Gt.is_draft&&(0,W.x)(_n,{enable_restacking:!!Ar("enable_restacking")},Gt,Zt,!1),[io,Qr]=(0,i.eJ)(!1),[Eo,So]=(0,i.eJ)(!1),Wt=ur("instagram_post_sharing"),jn=Wt&&["treatment_new","treatment_default"].includes(Wt);return(0,t.h)(Ae.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,t.h)(Ae.hs,{gap:8},(0,t.h)(mt,{post:Gt,pub:Zt,user:_n,onChange:Qn}),(0,t.h)(Mt,{pub:Zt,post:Gt,onClick:At}),(0,t.h)(Hn,{pub:Zt,post:Gt,onChange:Qn,style:"button"}),gn&&(0,t.h)(xn,{style:"button",onClick:Mn})),(0,t.h)(Ae.hs,{gap:8},(0,t.h)(M.s,{post:Gt,pub:Zt,user:_n,trigger:{style:"button",labelStyle:"cta"},toggleInstagramModal:jn?()=>So(!Eo):void 0,instagramExperimentActive:!!Wn}),Zn?(0,t.h)(On,{style:"button",pub:Zt,post:Gt,user:_n,showRestackModal:fn,canBeCrossPosted:so,onSummaryOpen:()=>Qr(!0)}):(_n||so)&&(0,t.h)(Vn,{post:Gt,pub:Zt,user:_n,onChange:Qn,showRestackModal:fn,canBeCrossPosted:so,onSummaryOpen:()=>Qr(!0)})),(0,t.h)(ir,{postId:Gt.id,isOpen:io,onClose:()=>Qr(!1)}),jn&&(0,t.h)(st.mH,{isOpen:Eo,pub:Zt,post:Gt,themeVariables:Wn,onClose:()=>So(!1),hideEmail:!0}))}function pn({isFooter:Gt,customization:{showAppUpsell:Zt,showShare:_n,showComments:Qn,showReactions:At,showListen:fn,showSave:gn,showRestack:Mn,showCommentRestack:Wn}}){const rr=Gt?"email-ufi-2-bottom":"email-ufi-2-top",Zn=!Gt&&(Mn||fn||gn),ur=Gt,{iString:Ar}=(0,z.M1)();return!Gt&&!_n&&!Qn&&!At&&!fn&&!gn&&Mn?(0,t.h)(Z.YF,{className:"email-ufi-2-empty",width:"100%"},(0,t.h)("tr",{height:1},(0,t.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,t.h)(Z.YF,{className:rr,width:"100%"},Mn&&Gt&&(0,t.h)(t.Fragment,null,(0,t.h)(An,null),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(Z.YF,{width:"100%",className:"email-ufi-2-row"},(0,t.h)("tr",null,(0,t.h)("td",{width:"95%"},_n&&(0,t.h)(Z._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:F.Substitutions.SHARE_URL},(0,t.h)(ln.Z,he({},Fn)),(0,t.h)("span",{className:"email-button-text"},Ar("Share"))))),(0,t.h)(An,null))))),(0,t.h)(An,null),(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(Z.YF,{width:"100%"},(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(Z.zK,{gap:8,style:Zn?void 0:{margin:"0 auto"}},At?ur?(0,t.h)(Z._i,{aClassName:"email-button-outline",href:F.Substitutions.REACTION_URL},(0,t.h)(ot.Z,he({},Fn)),(0,t.h)("span",{className:"email-button-text"},Ar("Like"))):(0,t.h)(Un,{href:F.Substitutions.REACTION_URL},(0,t.h)(ot.Z,he({},Fn))):null,Qn?ur?(0,t.h)(Z._i,{aClassName:"email-button-outline",href:`${F.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,t.h)(ke.Z,he({},Fn)),(0,t.h)("span",{className:"email-button-text"},Ar("Comment"))):(0,t.h)(Un,{href:`${F.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,t.h)(ke.Z,he({},Fn))):null,_n&&Zt&&(ur?(0,t.h)(Z._i,{aClassName:"email-button-outline",href:F.Substitutions.SHARE_URL},(0,t.h)(ct.Z,he({},Fn)),(0,t.h)("span",{className:"email-button-text"},"Share")):(0,t.h)(Un,{href:F.Substitutions.SHARE_URL},(0,t.h)(ct.Z,he({},Fn)))),Wn&&(ur?(0,t.h)(Z._i,{aClassName:"email-button-outline",href:`${F.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,t.h)(Oe.Z,he({},Fn)),(0,t.h)("span",{className:"email-button-text"},Ar("Restack"))):(0,t.h)(Un,{href:`${F.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,t.h)(Oe.Z,he({},Fn)))))),(0,t.h)("td",{align:"right"},(0,t.h)(Z.zK,{gap:8},_n&&!Zt&&!Gt&&(0,t.h)(Z._i,{aClassName:"email-button-outline",href:F.Substitutions.SHARE_URL},(0,t.h)("div",{className:"email-button-spacer"}),(0,t.h)("span",{className:"email-button-text"},Ar("Share"))),Zt&&!Gt&&(0,t.h)(Z._i,{aClassName:"email-button-outline",href:F.Substitutions.POST_APP_LINK_URL},(0,t.h)("div",{className:"email-button-spacer"}),(0,t.h)("span",{className:"email-button-text",style:{marginRight:4}},"READ IN APP"),(0,t.h)(y.Z,xe(he({},Fn),{className:p()("icon","text-icon")}))))))))),(0,t.h)(An,null))}function An(){return(0,t.h)("tr",{height:16},(0,t.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const Fn={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function Un({size:Gt=38,href:Zt,children:_n}){return(0,t.h)(Z.YF,{width:Gt},(0,t.h)("tr",null,(0,t.h)("td",{align:"center"},(0,t.h)("a",{className:"email-icon-button",href:Zt,style:{width:Gt}},_n))))}},90618:(K,f,e)=>{"use strict";e.r(f),e.d(f,{ReferralsTierCard:()=>o,ReferralsTierCardStatic:()=>s});var t=e(6400),a=e(30396),i=e(80569),c=e.n(i),p=e(82626),l=e(18255),v=e(15045),_=e(18492),g=e(51126),E=e(43887),S=e(83001),O=e(81671);const A={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var u=(w,P,C)=>new Promise((x,D)=>{var y=R=>{try{T(C.next(R))}catch(F){D(F)}},M=R=>{try{T(C.throw(R))}catch(F){D(F)}},T=R=>R.done?x(R.value):Promise.resolve(R.value).then(y,M);T((C=C.apply(w,P)).next())});const o=({tierNumber:w,rewardDescription:P,numReferralsRequired:C,pub:x})=>{const[D,y]=(0,a.eJ)([]),M=()=>u(void 0,null,function*(){const{body:N}=yield c().get("/api/v1/reader_referrals/tiers");y(N.tiers)});(0,a.d4)(()=>{M()},[]);const T=D[w-1],R=T?T.reward_type==="custom"?T.reward_description:l.ML[T.reward_type]:P,F=T?T.num_referrals_required:C;return(0,t.h)(g.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,t.h)("div",{className:"tier-stars-container"},Array(w).fill(0).map((N,U)=>(0,t.h)(S.Z,{width:20,height:20,strokeWidth:2,stroke:x.theme_var_background_pop||"#FF6719",fill:x.theme_var_background_pop||"#FF6719",key:U}))),(0,t.h)(g.tu,{gap:4},(0,t.h)(E.xv.H4,null,R),(0,t.h)(E.xv.Meta,null,"Tier ",w," reward - ",F," Referrals")),(0,t.h)(g.gq,{alignItems:"center"},(0,t.h)(O.Z,{pub:x,logo_url:x.logo_url,size:24}),(0,t.h)(E.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(x),decoration:"none",weight:"bold"},x.name)))},s=({tierNumber:w,pub:P})=>(0,t.h)("a",{href:`${p.Substitutions.LEADERBOARD_URL}&utm_source=reward_email`,className:A.referralsTierCard},(0,t.h)(_.i$,{gap:16},(0,t.h)(_.zK,{style:{lineHeight:0},gap:4},Array(w).fill(0).map((C,x)=>(0,t.h)(S.Z,{width:20,height:20,strokeWidth:2,key:x,stroke:P.theme_var_background_pop||"#FF6719",fill:P.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,t.h)(_.i$,{gap:4},(0,t.h)(E.xv.H4,null,p.Substitutions.REWARD_DESCRIPTION),(0,t.h)(E.xv.Meta,null,"Tier ",w," reward - ",p.Substitutions.NUM_REFERRALS_REQUIRED," Referrals")),(0,t.h)(_.zK,{verticalAlign:"middle"},(0,t.h)(O.Z,{isStatic:!0,pub:P,logo_url:P.logo_url,size:24}),(0,t.h)(E.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(P),decoration:"none",weight:"bold"},P.name))))},79786:(K,f,e)=>{"use strict";e.d(f,{e:()=>P});var t=e(6400),a=e(94184),i=e.n(a),c=e(84606),p=e(15045),l=e(20501);const v={img:"frontend-components-responsive_img-module__img--Pgjj2","object-fit-cover":"frontend-components-responsive_img-module__object-fit-cover--l2ul8"};var _=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,u=(C,x,D)=>x in C?_(C,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):C[x]=D,o=(C,x)=>{for(var D in x||(x={}))O.call(x,D)&&u(C,D,x[D]);if(S)for(var D of S(x))A.call(x,D)&&u(C,D,x[D]);return C},s=(C,x)=>g(C,E(x)),w=(C,x)=>{var D={};for(var y in C)O.call(C,y)&&x.indexOf(y)<0&&(D[y]=C[y]);if(C!=null&&S)for(var y of S(C))x.indexOf(y)<0&&A.call(C,y)&&(D[y]=C[y]);return D};function P(C){var x=C,{src:D,maxWidth:y,imageSizingCss:M="100vw",imageProps:T={},alt:R="",className:F,imageRef:N,ignorePicture:U,objectFit:V,radius:W}=x,L=w(x,["src","maxWidth","imageSizingCss","imageProps","alt","className","imageRef","ignorePicture","objectFit","radius"]);const k=z=>{if(T!=null&&T.height){const ee=y/T.height;return{height:Math.floor(z/ee),aspect:null}}return{}},H=p.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(y)?p.WEB_RESPONSIVE_IMAGE_WIDTHS:[...p.WEB_RESPONSIVE_IMAGE_WIDTHS,y];H.sort((z,ee)=>z-ee);const G=H.map(z=>({width:z,src:(0,l.imginary)(D,z,o(o({},T),k(z)))})).filter(z=>z.width<=y),q=H.map(z=>({width:z,src:(0,l.imginary)(D,z,s(o(o({},T),k(z)),{format:"webp"}))})).filter(z=>z.width<=y);return(0,t.h)("picture",{style:U?{display:"contents"}:void 0},q.length>1?(0,t.h)("source",{type:"image/webp",srcset:q.map(z=>`${z.src} ${z.width}w`).join(", "),sizes:M}):(0,t.h)("source",{type:"image/webp",srcset:(0,l.imginary)(D,y,s(o({},T),{format:"webp"}))}),(0,t.h)("img",s(o({className:i()(v.img,F,V&&v[`object-fit-${V}`],(0,c.yK)({radius:W})),src:(0,l.imginary)(D,y,T),sizes:M,alt:R,srcset:G.length>1?G.map(z=>`${z.src} ${z.width}w`).join(", "):void 0},L),{width:y,height:T==null?void 0:T.height,ref:N})))}},30105:(K,f,e)=>{"use strict";e.d(f,{L:()=>c});var t=e(6400),a=e(94184),i=e.n(a);const c=({children:p,title:l="",content:v="",className:_="",showFirst:g=!1,disabled:E=!1})=>E?(0,t.h)(t.Fragment,null,p):(0,t.h)("div",{className:`popover-container ${_}`},(0,t.h)("div",{className:i()("popover typography",{showfirst:g})},(0,t.h)("div",{className:"content"},l&&(0,t.h)("strong",null,l),v&&(0,t.h)("section",null,v)),(0,t.h)("div",{className:"popover-tail"})),p)},9412:(K,f,e)=>{"use strict";e.d(f,{Z:()=>x});var t=e(6400),a=e(94184),i=e.n(a),c=e(55519),p=e(78519),l=e(39419),v=e.n(l),_=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,u=(D,y,M)=>y in D?_(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,o=(D,y)=>{for(var M in y||(y={}))O.call(y,M)&&u(D,M,y[M]);if(S)for(var M of S(y))A.call(y,M)&&u(D,M,y[M]);return D},s=(D,y)=>g(D,E(y)),w=(D,y)=>{var M={};for(var T in D)O.call(D,T)&&y.indexOf(T)<0&&(M[T]=D[T]);if(D!=null&&S)for(var T of S(D))y.indexOf(T)<0&&A.call(D,T)&&(M[T]=D[T]);return M};const P=()=>null,x=D=>{var y=D,{variant:M="default",isSearchable:T=!1,className:R}=y,F=w(y,["variant","isSearchable","className"]),N,U;const{pub:V}=(0,p.CX)();return(0,t.h)(c.ZP,s(o({},F),{isDisabled:F.isDisabled,className:i()("themed-select",R),components:o({IndicatorSeparator:P},F.components),theme:(0,l.getSelectTheme)({primary:((N=V.theme)==null?void 0:N.background_pop_color)||V.theme_var_background_pop||"#1a1a1a",neutral0:M==="light"?"white":(U=V.theme)==null?void 0:U.web_bg_color}),isSearchable:T,styles:o(o({container:W=>s(o({},W),{flex:1}),dropdownIndicator:W=>s(o({},W),{color:"#1a1a1a"})},F.showOnlyIndicator&&{valueContainer:W=>s(o({},W),{width:0,padding:0})}),F.styles)}))}},96347:(K,f,e)=>{"use strict";e.r(f),e.d(f,{VideoEmbedPlayer:()=>O});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(23237),l=e(20501),v=e(66219),_=e(51126),g=e(19826),E=e(87046);const S={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},O=({mediaUploadId:u,post:o,pub:s,isEditor:w=!1})=>{const[P,C]=(0,a.eJ)(null),x=(0,a.sO)(null),D=F=>{var N,U;w&&(F?(N=x.current)==null||N.open():(U=x.current)==null||U.close())},{mediaUpload:y,loading:M,error:T}=(0,v.z)({mediaUploadId:u});u&&!P&&y&&C(y);const R=(0,a.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,t.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,l.getLinkableElementIdForVideo)({mediaUploadId:u}),className:S.videoScrollTarget},M?(0,t.h)("div",{className:S.videoPlaceholder},"Loading video"):T||!P?(0,t.h)("div",{className:S.videoPlaceholder},"Could not load video."):(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:c()(S.videoEmbed,w&&S.canEdit),onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1)},w&&(0,t.h)(A,{onEditVideoEmbed:R,menuRef:x}),(0,t.h)(E.Z,{mediaUpload:P,isStatic:!1,pub:s}))))},A=({onEditVideoEmbed:u,menuRef:o})=>(0,t.h)(_.hs,{justifyContent:"center",alignItems:"center",className:S.editVideoEmbedWrap},(0,t.h)(g.Fx,{ref:o,noList:!0},(0,t.h)(_.tu,{onClick:u,justifyContent:"center",alignItems:"center",className:S.editVideoEmbed},(0,t.h)(p.Z,{height:20}))))},87046:(K,f,e)=>{"use strict";e.d(f,{Z:()=>Ve});var t=e(6400),a=e(94184),i=e.n(a),c=e(54125),p=e.n(c),l=e(15045),v=e(83322),_=e(3258),g=e(58884),E=e(39419),S=e(7922),O=e(93830),A=e(30396),u=e(74691),o=e.n(u),s=e(53716),w=e(75500),P=e(40423),C=e(80569),x=e.n(C),D=e(31163),y=e(13045),M=e(51126);const T={timeline:"frontend-components-VideoClipper-module__timeline--AqiJp",rail:"frontend-components-VideoClipper-module__rail--fLWPd",draggable:"frontend-components-VideoClipper-module__draggable--SB3t2",draggableLeft:"frontend-components-VideoClipper-module__draggableLeft--lqQGg",draggableRight:"frontend-components-VideoClipper-module__draggableRight--QER2V",tooltip:"frontend-components-VideoClipper-module__tooltip--gvLXG",visible:"frontend-components-VideoClipper-module__visible--ikqjx",hidden:"frontend-components-VideoClipper-module__hidden--fbYXn",playback:"frontend-components-VideoClipper-module__playback--QNFuH",nonSelectable:"frontend-components-VideoClipper-module__nonSelectable--Kte9r",tick:"frontend-components-VideoClipper-module__tick--mBMzi",lgTick:"frontend-components-VideoClipper-module__lgTick--IB6PM",smTick:"frontend-components-VideoClipper-module__smTick--Nd6cb",currentTick:"frontend-components-VideoClipper-module__currentTick--A9XKd",selection:"frontend-components-VideoClipper-module__selection--h10e9",handle:"frontend-components-VideoClipper-module__handle--DWOr3",storyboard:"frontend-components-VideoClipper-module__storyboard--jNZby",ticks:"frontend-components-VideoClipper-module__ticks--d18eQ",shadow:"frontend-components-VideoClipper-module__shadow--hwyIG",shadowContainer:"frontend-components-VideoClipper-module__shadowContainer--OtL7e"};var R=Object.defineProperty,F=Object.defineProperties,N=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,L=(Pe,Ie,ze)=>Ie in Pe?R(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Pe[Ie]=ze,k=(Pe,Ie)=>{for(var ze in Ie||(Ie={}))V.call(Ie,ze)&&L(Pe,ze,Ie[ze]);if(U)for(var ze of U(Ie))W.call(Ie,ze)&&L(Pe,ze,Ie[ze]);return Pe},H=(Pe,Ie)=>F(Pe,N(Ie));const G=120,q=({videoElement:Pe,start:Ie,setStart:ze,end:tt,setEnd:Le,onDurationChange:It,storyboard:on,maxDuration:zt,minDuration:$t,maxTimelineDuration:Bt,minTimelineDuration:xn,looping:Hn=!1})=>{const[ir,Vn]=(0,A.eJ)(0),[_t,ut]=(0,A.eJ)(0),[Ce,be]=(0,A.eJ)(0),[We,qe]=(0,A.eJ)(0),Et=(0,A.sO)(0),[en,In]=(0,A.eJ)(!1),qn=On=>{In(On)};(0,A.d4)(()=>{const On=()=>{if(Pe){Vn(Pe.duration);const pt=[G,Pe.duration];Bt&&pt.push(Bt),be(Math.min(...pt)),It&&It(Pe.duration)}};return Pe&&Pe.addEventListener("loadedmetadata",On),Pe!=null&&Pe.duration&&On(),()=>{Pe&&Pe.removeEventListener("loadedmetadata",On)}},[Pe]),(0,A.d4)(()=>{Pe&&(Pe.currentTime=Ie)},[Ie]),(0,A.d4)(()=>{const On=()=>{Pe&&qe(Pe.currentTime)};if(Pe)return Pe.addEventListener("timeupdate",On),()=>{Pe.removeEventListener("timeupdate",On)}},[Pe]),(0,A.d4)(()=>{const On=Math.abs(We-Et.current);if(Et.current=We,On<1){Hn&&Pe&&!en&&(We>tt||We<Ie)&&(Pe.currentTime=Ie);return}if(!en&&(We>Ce||We<_t)){const pt=Ce-_t,hn=Math.min(We,ir-pt);ut(hn),be(hn+pt)}},[We]);const cr=On=>{On.preventDefault();const pt=On.currentTarget.getBoundingClientRect(),hn=(On.clientX-pt.left)/pt.width,Dn=Ce-_t,Gn=(On.deltaY>0?-1:1)*Dn/4,Kt=Dn-Gn,wt=_t+hn*Dn,Lt=wt-hn*Kt,mt=wt+(1-hn)*Kt;Bt&&mt-Lt>Bt||xn&&mt-Lt<xn||(be(Math.min(ir,mt)),ut(Math.max(0,Lt)))},pr=(On,pt)=>{ze(On),Le(pt)},wr=On=>{if($t&&On+$t>=tt){ze(tt-$t);return}if(zt&&On+zt<=tt){ze(tt-zt);return}ze(On)},Vr=On=>{if($t&&On-$t<=Ie){Le(Ie+$t);return}if(zt&&On-zt>=Ie){Le(Ie+zt);return}Le(On)};return(0,t.h)("div",{className:T.timeline,onWheel:cr},ir>0?(0,t.h)(ee,{startTimeline:_t,setStartTimeline:ut,endTimeline:Ce,setEndTimeline:be,startPosition:Ie,setStartPosition:wr,endPosition:tt,setEndPosition:Vr,setPosition:pr,playerPosition:We,duration:ir,onDragging:qn,storyboard:on}):(0,t.h)(M.gq,{alignItems:"center",justifyContent:"center"},(0,t.h)(y.aN,null)))},z=({storyboard:Pe,imageUrl:Ie,x:ze,y:tt,width:Le,height:It,displayWidth:on,displayHeight:zt})=>{const $t=(ze?ze/Pe.tile_width:0)*on,Bt=(tt?tt/Pe.tile_height:0)*zt,xn={width:`${on}px`,height:`${zt}px`,backgroundImage:`url(${Ie})`,backgroundPosition:`-${$t}px -${Bt}px`,backgroundSize:"500%"};return(0,t.h)("div",{style:xn})},ee=({startTimeline:Pe,setStartTimeline:Ie,endTimeline:ze,setEndTimeline:tt,startPosition:Le,setStartPosition:It,endPosition:on,setEndPosition:zt,setPosition:$t,playerPosition:Bt,duration:xn,storyboard:Hn,onDragging:ir})=>{const Vn=(0,A.sO)(null),_t=(0,A.sO)(null),ut=(0,A.sO)(on-Le),Ce=(0,A.sO)(null),[be,We]=(0,A.eJ)(!1),qe=ze-Pe,Et=Le-Pe,en=on-Pe,In=Bt-Pe,qn=(0,A.Ye)(()=>Et/qe*100,[qe,Et]),cr=(0,A.Ye)(()=>en/qe*100,[en,qe]),pr=(0,A.Ye)(()=>In/qe*100,[In,qe]),wr=`linear-gradient(to right, 
    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(${qn}% + 6px), 
    rgba(0,0,0,0) calc(${qn}% + 6px), rgba(0,0,0,0) calc(${cr}% - 6px), 
    rgba(0,0,0,0.5) calc(${cr}% - 6px), rgba(0,0,0,0.5) 100%)`,Vr=(0,A.I4)(wt=>{const Lt=wt/100*qe;It(Math.max(0,Lt+Pe))},[qe,It,Pe]),On=(0,A.I4)(wt=>{const Lt=wt/100*qe;zt(Math.min(xn,Lt+Pe))},[xn,qe,zt,Pe]);(0,A.d4)(()=>{ir(be)},[be]);const pt=wt=>{if(wt.stopPropagation(),wt.preventDefault(),be||!Vn.current)return;_t.current=wt.clientX,ut.current=on-Le;const Lt=Vn.current.getBoundingClientRect().left,mt=wt.clientX-Lt,Mt=Vn.current.getBoundingClientRect().width,Jt=mt/Mt*100;if(!(Jt>=qn&&Jt<=cr)){const An=Pe+Jt/100*qe,Fn=o()(An,0,xn-ut.current),Un=Fn+ut.current;$t(Fn,Un)}},hn=wt=>{if(!Vn.current)return;We(!1),_t.current=wt.clientX,ut.current=on-Le;const Lt=Vn.current.getBoundingClientRect().left,mt=wt.clientX-Lt,Mt=Vn.current.getBoundingClientRect().width,Jt=mt/Mt*100,pn=Jt>=qn&&Jt<=cr;Ce.current=pn,document.addEventListener("mousemove",Gn),document.addEventListener("mouseup",Dn)},Dn=()=>{setTimeout(()=>{We(!1)},0),_t.current=null,Ce.current=null,document.removeEventListener("mousemove",Gn),document.removeEventListener("mouseup",Dn)},Gn=wt=>{if(_t.current===null)return;const Lt=wt.clientX-_t.current;if(Lt>5&&We(!0),!Vn.current)return;const mt=Vn.current.getBoundingClientRect().width,Mt=Lt/mt*qe,Jt=Le+Mt,pn=Jt+ut.current;Ce.current?Jt<0?$t(0,ut.current):pn>xn?$t(xn-ut.current,xn):$t(Jt,pn):Pe-Mt>0&&ze-Mt<=xn&&(Ie(Math.max(0,Pe-Mt)),tt(Math.min(xn,ze-Mt)))},Kt=()=>{var wt,Lt;if(!Hn)return null;const mt=(Lt=(wt=Vn==null?void 0:Vn.current)==null?void 0:wt.getBoundingClientRect().width)!=null?Lt:0;if(mt===0)return null;function Mt(Gt,Zt,_n){const Qn=[],At=Math.floor(Gt/_n)*_n,fn=Math.ceil(Zt/_n)*_n;for(let gn=At;gn<=fn;gn+=_n)Qn.push(gn);return Qn}function Jt(Gt,Zt){return Gt.reduce((_n,Qn)=>{const At=Math.abs(Qn.start-Zt),fn=Math.abs(_n.start-Zt);return At<fn?Qn:_n})}const pn=60*(Hn.tile_width/Hn.tile_height),An=qe/mt*pn,Un=Mt(Pe,ze,An).map(Gt=>({time:Gt,tile:Jt(Hn.tiles,Gt)}));return(0,t.h)(M.gq,{className:T.storyboard},Un.map(({time:Gt,tile:Zt},_n)=>{const Qn=(Gt-Pe)/qe*100;return(0,t.h)("div",{style:{position:"absolute",left:`calc(${Qn}% + 6px)`}},(0,t.h)(z,{storyboard:Hn,key:`${Zt.x}-${Zt.y}-${_n}`,imageUrl:Hn.url,width:Hn.tile_width,height:Hn.tile_height,displayHeight:60,displayWidth:Hn.tile_width/Hn.tile_height*60,x:Zt.x,y:Zt.y}))}))};return(0,t.h)("div",{className:T.rail,ref:Vn,onMouseDown:hn,onClick:pt},Kt(),(0,t.h)("div",{className:T.nonSelectable,style:{background:wr,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,t.h)("div",{className:T.ticks},(0,t.h)(Z,{railDuration:qe,startTimeline:Pe})),(0,t.h)("div",{className:i()(T.ticks,T.nonSelectable)},(0,t.h)("div",{className:T.selection,style:{left:`calc(${qn}% + 6px)`,width:`calc(${cr-qn}% - 12px)`}})),(0,t.h)(ie,{divRef:Vn,startTimeline:Pe,railDuration:ze-Pe,active:!be}),(0,t.h)("div",{className:T.ticks},(0,t.h)(ne,{className:`${T.draggable} ${T.draggableLeft}`,railRef:Vn,label:(0,D.DL)(Le,!0),position:qn,maxPosition:cr,setPosition:Vr,isDragging:be,setIsDragging:We}),(0,t.h)(ne,{className:`${T.draggable} ${T.draggableRight}`,railRef:Vn,label:(0,D.DL)(on,!0),position:cr,minPosition:qn,setPosition:On,isDragging:be,setIsDragging:We}),(0,t.h)(ne,{className:T.playback,railRef:Vn,label:(0,D.DL)(Bt,!0),position:pr,isDragging:be,setIsDragging:We,disabled:!0})))},$=[{id:"lg",interval:60,tickClassName:T.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["lg"]},{id:"md",interval:30,tickClassName:T.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["md"]},{id:"sm",interval:5,tickClassName:T.smTick,displayOnZoomLevels:["md","sm"],displayLabelsOnZoomLevels:["sm"]},{id:"xs",interval:1,tickClassName:T.smTick,displayOnZoomLevels:["sm","xs"],displayLabelsOnZoomLevels:["xs"]}],J=Pe=>Pe>120?"lg":Pe>30?"md":Pe>5?"sm":"xs",j=(Pe,Ie,ze)=>{const tt=Math.floor(Pe/ze)*ze,Le=Math.ceil(Ie/ze)+1;return Array.from({length:Le}).map((It,on)=>({label:(0,D.DL)(tt+ze*on),time:tt+ze*on-Pe}))},Z=({railDuration:Pe,startTimeline:Ie})=>{const ze=J(Pe),tt=$.map(Le=>H(k({},Le),{values:j(Ie,Pe,Le.interval)}));return(0,t.h)(t.Fragment,null,tt.map(Le=>Le.displayOnZoomLevels.includes(ze)&&Le.values.map((It,on)=>(0,t.h)("div",{key:on,className:i()(T.tick,Le.tickClassName,T.nonSelectable),style:{left:`${It.time/Pe*100}%`}},Le.displayLabelsOnZoomLevels.includes(ze)&&(0,t.h)("span",null,It.label)))))},ne=({railRef:Pe,position:Ie,disabled:ze,setPosition:tt,label:Le,maxPosition:It,minPosition:on,className:zt,onDragStart:$t,onDragEnd:Bt,showIcon:xn=!0,isDragging:Hn,setIsDragging:ir})=>{const Vn=(0,A.sO)(null),[_t,ut]=(0,A.eJ)(!1),Ce=qe=>{ze||(ir(!1),qe.stopPropagation(),ut(!0),document.addEventListener("mousemove",We),document.addEventListener("mouseup",be),$t&&$t())},be=()=>{setTimeout(()=>{ir(!1)},0),ut(!1),document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",be),Bt&&Bt()},We=qe=>{if(ir(!0),!Pe.current||!Vn.current)return;const Et=Pe.current.getBoundingClientRect().left,en=Pe.current.getBoundingClientRect().width,In=(qe.clientX-Et)/en*100;tt&&tt(It!==void 0&&on!==void 0?Math.min(It,Math.max(on,In)):It!==void 0?Math.min(It,In):on!==void 0?Math.max(on,In):In)};return(0,t.h)("div",{className:zt,ref:Vn,style:{left:`${Ie}%`},onMouseDown:Ce},xn&&(0,t.h)("div",{className:T.handle}),(0,t.h)("div",{className:`${T.tooltip} ${_t?T.visible:T.hidden} ${T.nonSelectable}`},Le))},ie=({divRef:Pe,startTimeline:Ie,railDuration:ze,active:tt})=>{const[Le,It]=(0,A.eJ)(null),[on,zt]=(0,A.eJ)(!1),$t=Hn=>{if(Pe.current){const ir=Pe.current.getBoundingClientRect(),{left:Vn,width:_t}=ir,Ce=(Hn.clientX-Vn)/_t*100,be=Ie+Ce/100*ze;It({x:Hn.clientX-ir.left,time:be})}},Bt=()=>zt(!0),xn=()=>zt(!1);return(0,A.d4)(()=>(Pe.current&&(Pe.current.addEventListener("mousemove",$t),Pe.current.addEventListener("mouseenter",Bt),Pe.current.addEventListener("mouseleave",xn)),()=>{Pe.current&&(Pe.current.removeEventListener("mousemove",$t),Pe.current.removeEventListener("mouseenter",Bt),Pe.current.removeEventListener("mouseleave",xn))}),[Ie,ze]),tt&&Le&&on?(0,t.h)("div",{className:i()(T.shadowContainer,T.nonSelectable),style:{left:Le.x}},(0,t.h)("div",{className:T.shadow}),(0,t.h)("div",{className:T.tooltip},(0,D.DL)(Le.time,!0))):null};var oe=e(48960);function re(Pe,Ie){(0,A.d4)(()=>{function ze(Le){const It=Le.target;Pe.current&&!Pe.current.contains(It)&&Ie()}function tt(Le){(Le.key==="Escape"||Le.keyCode===27)&&Ie()}return document.addEventListener("mousedown",ze),document.addEventListener("keydown",tt),()=>{document.removeEventListener("mousedown",ze),document.removeEventListener("keydown",tt)}},[Pe,Ie])}const ae=re,se={container:"frontend-components-VideoClipperControls-module__container--Bow1I",videoTrimmerWrapper:"frontend-components-VideoClipperControls-module__videoTrimmerWrapper--qFT6n",videoTrimmerSlider:"frontend-components-VideoClipperControls-module__videoTrimmerSlider--R29Jd",videoTrimmerSliderVisible:"frontend-components-VideoClipperControls-module__videoTrimmerSliderVisible--Ypk4j",durationContainer:"frontend-components-VideoClipperControls-module__durationContainer--zcjI8",captionsAvailable:"frontend-components-VideoClipperControls-module__captionsAvailable--qv0Os",captionsNotAvailable:"frontend-components-VideoClipperControls-module__captionsNotAvailable--V49Zk"};var fe=Object.defineProperty,le=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,De=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Be=(Pe,Ie,ze)=>Ie in Pe?fe(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Pe[Ie]=ze,st=(Pe,Ie)=>{for(var ze in Ie||(Ie={}))je.call(Ie,ze)&&Be(Pe,ze,Ie[ze]);if(De)for(var ze of De(Ie))Je.call(Ie,ze)&&Be(Pe,ze,Ie[ze]);return Pe},ht=(Pe,Ie)=>le(Pe,Ae(Ie)),gt=(Pe,Ie)=>{var ze={};for(var tt in Pe)je.call(Pe,tt)&&Ie.indexOf(tt)<0&&(ze[tt]=Pe[tt]);if(Pe!=null&&De)for(var tt of De(Pe))Ie.indexOf(tt)<0&&Je.call(Pe,tt)&&(ze[tt]=Pe[tt]);return ze},Xe=(Pe,Ie,ze)=>new Promise((tt,Le)=>{var It=$t=>{try{zt(ze.next($t))}catch(Bt){Le(Bt)}},on=$t=>{try{zt(ze.throw($t))}catch(Bt){Le(Bt)}},zt=$t=>$t.done?tt($t.value):Promise.resolve($t.value).then(It,on);zt((ze=ze.apply(Pe,Ie)).next())});const Re=5,Ne=60,ke=600,ot=5,Dt=Pe=>/^[0-9.:]*$/.test(Pe),ln=Pe=>/^(?:(?:[0-9]{1,3}):)?(?:[0-5][0-9]|[0-9]{1,2})(?:\.[0-9]{1,3})?$/.test(Pe);function ct(Pe){const[Ie="",ze=""]=Pe.split("."),tt=Ie.split(":").reverse().map($t=>parseInt($t)),Le=tt[0]||0,It=tt[1]||0;return(tt[2]||0)*3600+It*60+Le+parseInt(ze.padEnd(3,"0"))/1e3}const Oe=Pe=>{const Ie=Pe,{visible:ze,onCancel:tt}=Ie,Le=gt(Ie,["visible","onCancel"]),It=()=>{var on;ze&&(0,_.j)(_.FP.VIDEO_CLIP_CREATE_MODAL_CLOSED,{post_id:(on=Pe.post)==null?void 0:on.id}),tt()};return ae(Pe.containerRef,It),ze?(0,t.h)(y.gq,{className:`${se.videoTrimmerSlider} ${ze?se.videoTrimmerSliderVisible:""}`},(0,t.h)(Se,ht(st({},Le),{onCancel:It}))):null};function Se({videoPlayerRef:Pe,videoUpload:Ie,post:ze,onCancel:tt}){var Le,It;const[on,zt]=(0,A.eJ)(0),[$t,Bt]=(0,A.eJ)(30),[xn,Hn]=(0,A.eJ)((0,D.DL)(on,!0)),[ir,Vn]=(0,A.eJ)((0,D.DL)($t,!0)),[_t,ut]=(0,A.eJ)(!1),[Ce,be]=(0,A.eJ)(),[We,qe]=(0,A.eJ)(),[Et,en]=(0,A.eJ)(),[In,qn]=(0,A.eJ)(),[cr,pr]=(0,A.eJ)(!1),[wr,Vr]=(0,A.eJ)(!0),On=!!((It=(Le=ze==null?void 0:ze.podcastUpload)==null?void 0:Le.transcription)!=null&&It.transcript_url),pt=(0,y.pm)(),hn=ln(xn),Dn=ln(ir);(0,A.d4)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,A.d4)(()=>{const Fn=Un=>Xe(this,null,function*(){const{body:{src:Gt}}=yield x().get(`/api/v1/video/upload/${Un}/storyboard`),Zt=yield x().get(Gt);be(Zt.body)});Ie!=null&&Ie.id&&Fn(Ie.id)},[Ie]),(0,A.d4)(()=>{ct(xn)!==on&&Hn((0,D.DL)(on,!0)),qe(void 0)},[on]),(0,A.d4)(()=>{ct(ir)!==$t&&Vn((0,D.DL)($t,!0)),en(void 0)},[$t]);const Gn=Fn=>{let Un=!1;return Fn<0?(qn("Start time must be prior to end time"),Un=!0):Fn>Ne?(qn("Clip can't be greater than 60 seconds"),Un=!0):Fn<Re?(qn("Clip must be at least 5 seconds"),Un=!0):qn(void 0),Un},Kt=(Fn,Un="start",Gt=!1)=>{const Zt=ln(Fn);if(Gt||(Un==="start"?Hn(Fn):Vn(Fn)),!Zt)return(Un==="start"?qe:en)(`${Un.substring(0,1).toUpperCase()}${Un.substring(1)} time format must be 0:00.0`),!1;const _n=ct(Fn),Qn=Un==="start"?ct(ir)-_n:_n-ct(xn);let At=!1;return Qn<=0?At=!0:(Un==="start"?qe:en)(void 0),At=Gn(Qn)||At,!At&&!Gt&&(Un==="start"?(zt(_n),Bt(ct(ir))):(zt(ct(xn)),Bt(_n))),!At},wt=(Fn,Un=!1)=>Kt(Fn,"start",Un),Lt=(Fn,Un=!1)=>Kt(Fn,"end",Un),mt=(0,A.I4)((Fn,Un)=>{Dt(Un)&&(Fn==="start"?wt(Un):Lt(Un))},[xn,ir]),Mt=()=>Xe(this,null,function*(){var Fn,Un;const Gt={start:on,duration:$t-on,render_transcript_as:_t?"subtitles":void 0,podcast_id:(Fn=ze==null?void 0:ze.podcastUpload)==null?void 0:Fn.id};pr(!0),Pe&&setTimeout(()=>Pe.pause(),100);try{const Zt=yield x().post(`/api/v1/video/assets/${Ie==null?void 0:Ie.id}/clips`).send(Gt);pr(!1),window.history.pushState({},"",(0,l.updateQuery)(window.location.href,{clipId:(Un=Zt.body.mediaUpload)==null?void 0:Un.id,share:!0}));const _n=new Event("urlchange");return setTimeout(()=>{window.dispatchEvent(_n)},300),tt(),Gt}catch(Zt){console.error(Zt),pt.popToast(_n=>(0,t.h)(y.FN,ht(st({},_n),{text:"Error creating clip"}))),pr(!1)}}),Jt=Fn=>{Bt(o()(Fn/4,Re,Ne))},pn=()=>{var Fn;(0,_.j)(_.FP.VIDEO_CLIP_LOOP_BUTTON_CLICKED,{post_id:ze==null?void 0:ze.id,media_upload_id:(Fn=ze==null?void 0:ze.videoUpload)==null?void 0:Fn.id,looping:!wr}),Vr(!wr)};if(!Pe)return null;const An=!!We||!!Et||!!In;return(0,t.h)("div",null,(0,t.h)(y.hs,{className:se.container},(0,t.h)(y.tu,{gap:16,paddingX:4,flex:"grow"},(0,t.h)(y.gq,{className:se.videoTrimmerWrapper},(0,t.h)(q,{videoElement:Pe,start:on,setStart:zt,end:$t,setEnd:Bt,minDuration:Re,maxDuration:Ne,maxTimelineDuration:ke,minTimelineDuration:ot,looping:wr,onDurationChange:Jt,storyboard:Ce})),(0,t.h)(t.Fragment,null,(0,t.h)(y.gq,{justifyContent:"space-between",alignItems:"center",disabled:cr,style:{opacity:cr?.5:1}},(0,t.h)(y.gq,{gap:4,alignItems:"center",onClick:()=>On&&ut(!_t),disabled:!On,className:`${On?se.captionsAvailable:se.captionsNotAvailable}`},(0,t.h)(y.hU,{title:"loop video",priority:wr?"primary-theme":"secondary",onClick:pn},(0,t.h)(s.Z,null)),(0,t.h)(y.hU,{disabled:!On||cr,priority:_t?"primary-theme":"secondary"},(0,t.h)(w.Z,null)),(0,t.h)(y.xv.Button,{color:_t?"primary":"secondary"},"Captions ",_t?"on":"off")),(0,t.h)(y.gq,{gap:8,alignItems:"center",justifyContent:"space-between",className:se.durationContainer},(0,t.h)(P.Z,{color:"gray"}),(0,t.h)(y.xv.Button,{size:16,color:"secondary"},(0,D.DL)($t-on,!0)))),(0,t.h)(oe.i,null),(0,t.h)(y.gq,{gap:8,justifyContent:"space-between"},cr?(0,t.h)(y.gq,{justifyContent:"center",alignItems:"center",marginHeight:8},(0,t.h)(y.gq,{justifyContent:"center",alignItems:"center",gap:8},(0,t.h)(y.aN,null),(0,t.h)(y.xv.Button,{color:"secondary"},"Generating clip..."))):(0,t.h)(y.gq,{gap:8},(0,t.h)(y.oi,{error:!hn,value:xn,onChange:Fn=>mt("start",Fn.currentTarget.value)}),(0,t.h)(y.oi,{error:!Dn,value:ir,onChange:Fn=>mt("end",Fn.currentTarget.value)})),(0,t.h)(y.gq,{gap:8},(0,t.h)(y.zx,{priority:"primary-theme",fill:"empty",onClick:tt},"Cancel"),(0,t.h)(y.zx,{priority:"primary-theme",onClick:Mt,disabled:An||cr},"Create clip"))),(0,t.h)(y.tu,null,We&&(0,t.h)(y.gq,null,(0,t.h)(y.xv.Button,{color:"error"},We)),Et&&(0,t.h)(y.gq,null,(0,t.h)(y.xv.Button,{color:"error"},Et)),In&&(0,t.h)(y.gq,null,(0,t.h)(y.xv.Button,{color:"error"},In)))))))}var Ze=Object.defineProperty,Fe=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,Qe=(Pe,Ie,ze)=>Ie in Pe?Ze(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Pe[Ie]=ze,$e=(Pe,Ie)=>{for(var ze in Ie||(Ie={}))Ke.call(Ie,ze)&&Qe(Pe,ze,Ie[ze]);if(Fe)for(var ze of Fe(Ie))et.call(Ie,ze)&&Qe(Pe,ze,Ie[ze]);return Pe};const Te=5,te="video:playback_location:",ue=4*60,we=60,me=60,Ee=3,he=60,xe={hls:"application/x-mpegURL",mp4:"video/mp4"};class Ve extends t.Component{constructor(Ie,ze){var tt;super(Ie,ze),this.player=null,this.previewHiddingTimeout=null,this.containerRef=(0,t.createRef)(),this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var It;(It=E.globalPlaybackNotifier)==null||It.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:It=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),It&&this.player&&!(0,E.isIOs)()&&(this.player.currentTime=0),(0,E.exitFullscreen)(),(0,E.exitPictureInPicture)()},this.onPreviewClick=()=>{var It,on;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(It=this.player)==null||It.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(on=this.player)==null||on.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3e3)))},this.onContextMenu=It=>{It.preventDefault()},this.onAllSourcesFailed=()=>{var It,on;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(on=(It=this.props).onPlaybackFailed)==null||on.call(It)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=It=>{this!==It&&this.player&&(this.track(_.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=It=>{var on;this.props.noKeyboardShortcuts||It.metaKey||It.altKey||It.ctrlKey||document.activeElement!==document.body||!this.player||((on=E.globalPlaybackNotifier)==null?void 0:on.listenerCount("play"))>1&&this.player.paused||(It.key==="f"?(0,E.isFullscreen)()?(0,E.exitFullscreen)()&&It.preventDefault():((0,E.goFullscreen)(this.player)&&It.preventDefault(),this.player.paused&&this.player.play()):It.key===" "&&!(0,E.isFullscreen)()?(It.preventDefault(),this.player.paused?this.player.play():this.player.pause()):It.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):It.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const Le=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:Le,currentTime:0,waiting:!0,duration:(tt=Ie.mediaUpload.duration)!=null?tt:null,autoPlay:Ie.autoPlay,playing:!1,attemptingToPlay:Ie.autoPlay,previewHidden:Le!==null&&Le>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var Ie;this._initHlsjs(),(Ie=E.globalPlaybackNotifier)==null||Ie.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&p().monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:p().utils.now()}})}componentWillUnmount(){var Ie;this.setPlaybackRestoreLocation(),(Ie=E.globalPlaybackNotifier)==null||Ie.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(Ie,ze){var tt,Le,It;if((this.props.noPreview!==Ie.noPreview||this.props.noControls!==Ie.noControls||this.props.noKeyboardShortcuts!==Ie.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof ze.waiting!="number"){const{useHLSJS:on,browserCanPlayHLS:zt,HLSerrored:$t}=this.state;this.track(_.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:on,browser_can_play_hls:zt,hls_errored:$t})}this.state.playing&&!ze.playing&&!this.state.waiting&&typeof ze.waiting=="number"&&this.track(_.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-ze.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(ze.currentTime)&&Math.floor(this.state.currentTime)%Te===0&&this.track(_.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),is_clip:(tt=this.props.isClip)!=null?tt:!1}),!this.state.playing&&ze.playing&&((Le=this.player)!=null&&Le.ended)&&this.track(_.FP.VIDEO_PLAYBACK_COMPLETED,{is_clip:(It=this.props.isClip)!=null?It:!1})}getPlaybackLocationKey(){return`${te}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>ue){const Ie=(0,g.mM)(this.getPlaybackLocationKey());if((Ie==null?void 0:Ie.currentTime)>we&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-Ie.currentTime>me){const ze=Date.now()-Ie.watchedAt>he?Ee:0,tt=Math.max(0,Ie.currentTime-ze);if(tt)return tt}}return null}setPlaybackRestoreLocation(){var Ie;this.playbackEnabled()&&((Ie=this.player)!=null&&Ie.currentTime)&&(0,g.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(Ie,ze={}){const tt=this.props.mediaUpload.post_id;tt&&(0,_.j)(Ie,Object.assign({post_id:tt,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},ze))}render(Ie,ze){const{height:tt,width:Le}=(0,v.videoPlayerDimensions)(Ie.mediaUpload,{isStatic:Ie.isStatic}),It={paddingBottom:`${Math.min(100,100*tt/Le).toFixed(4)}%`},on=i()("video-player",{"video-player-clip":Ie.clippingMode});return(0,t.h)("div",{ref:this.containerRef,className:i()("video-player-wrapper",Ie.className,{"with-preview":!ze.previewHidden,"is-static":Ie.isStatic,"full-width":Le>=960,"video-player-wrapper-clip":Ie.clippingMode}),onClick:this.onPreviewClick},this.href()?(0,t.h)("a",{className:on,href:this.href(),style:It},this.renderPlayer(this.props,this.state)):(0,t.h)("div",{className:on,style:It},this.renderPlayer(this.props,this.state)),(0,t.h)(Oe,{visible:this.props.clippingMode,videoPlayerRef:this.player,containerRef:this.containerRef,videoUpload:this.props.mediaUpload,post:this.props.post,onCancel:()=>{var zt,$t;return($t=(zt=this.props).onClippingModeCancel)==null?void 0:$t.call(zt)}}))}renderPlayer({mediaUpload:Ie,pub:ze,reaction_token:tt=null,isStatic:Le,noControls:It,noPreview:on},{autoPlay:zt,attemptingToPlay:$t,previewHidden:Bt,useHLSJS:xn,browserCanPlayHLS:Hn,HLSerrored:ir}){const Vn=!on&&!Bt,_t=Le||!this.playbackEnabled(),ut=(0,l.updateQuery)(`/api/v1/video/upload/${Ie.id}/src`,{token:tt,override_publication_id:ze==null?void 0:ze.id});let Ce=[];return Hn?Ce=["hls","mp4"]:xn?Ce=[]:(0,E.isAndroid)()?Ce=["hls","mp4"]:ir?Ce=["mp4"]:Ce=["hls","mp4"],[this.playbackEnabled()&&!Le&&typeof window!="undefined"&&(0,t.h)("video",{ref:be=>this.player=be,controls:!It&&!Vn,controlsList:"nodownload",autoPlay:zt&&this.playbackEnabled(),poster:(0,l.getMediaUploadThumbnailUrlForPlayer)(Ie)},Ce.map((be,We)=>(0,t.h)("source",{src:(0,l.updateQuery)(ut,{type:be}),type:xe[be],onError:We===Ce.length-1?this.onAllSourcesFailed:void 0}))),Vn&&(0,t.h)(t.Fragment,null,_t&&(0,t.h)("img",{className:"video-player-preview","data-testid":Le?"video-player-static-preview-image":"",width:550,src:(0,l.getMediaUploadThumbnailUrlForPlayer)(Ie,{pub:ze,isStatic:Le}),"data-component-name":"VideoPlayer-PreviewImg"}),!Le&&(0,t.h)("div",{className:i()("video-player-button",{"no-text":!this.cta()})},(0,t.h)("a",{className:"primary",href:this.href(),native:!0},(0,t.h)(S.Z,{className:i()({loading:$t&&this.playbackEnabled()})},(0,t.h)(O.Z,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,t.h)("span",null,this.cta())))))]}_initHlsjs(){const Ie=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(Ie){this.setState({browserCanPlayHLS:Ie});return}e.e(631).then(e.t.bind(e,67631,23)).then(ze=>{this._initHlsjsWrapped(ze.default)})}_initHlsjsWrapped(Ie){const ze=this,tt=Ie.isSupported();if(!Ie.isSupported()){this.setState({useHLSJS:tt});return}this.hls!=null&&this.hls.destroy();const Le={},It=new Ie($e({enableWorker:!1},Le));this.player!=null&&It.attachMedia(this.player);const{mediaUpload:on,pub:zt,reaction_token:$t=null}=this.props,Bt=(0,l.updateQuery)(`/api/v1/video/upload/${on.id}/src`,{token:$t,override_publication_id:zt==null?void 0:zt.id,type:"hls"});It.on(Ie.Events.MEDIA_ATTACHED,()=>{It.loadSource(Bt),It.on(Ie.Events.MANIFEST_PARSED,()=>{var xn;this.state.autoPlay&&((xn=this.player)==null||xn.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),It.on(Ie.Events.ERROR,function(xn,Hn){if(Hn.fatal)switch(Hn.type){case Ie.ErrorTypes.NETWORK_ERROR:ze.setState({useHLSJS:!1}),ze.hls.destroy(),It.startLoad();break;case Ie.ErrorTypes.MEDIA_ERROR:It.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=It,this.hlsModule=Ie}}},25877:(K,f,e)=>{"use strict";e.d(f,{CH:()=>N,KG:()=>F,Yq:()=>W});var t=e(6400),a=e(30396),i=e(88812),c=e(83322),p=e(19698),l=e(8479),v=e(39419),_=e.n(v),g=e(13045),E=e(76235),S=e(67963),O=Object.defineProperty,A=Object.defineProperties,u=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(L,k,H)=>k in L?O(L,k,{enumerable:!0,configurable:!0,writable:!0,value:H}):L[k]=H,C=(L,k)=>{for(var H in k||(k={}))s.call(k,H)&&P(L,H,k[H]);if(o)for(var H of o(k))w.call(k,H)&&P(L,H,k[H]);return L},x=(L,k)=>A(L,u(k)),D=(L,k,H)=>new Promise((G,q)=>{var z=J=>{try{$(H.next(J))}catch(j){q(j)}},ee=J=>{try{$(H.throw(J))}catch(j){q(j)}},$=J=>J.done?G(J.value):Promise.resolve(J.value).then(z,ee);$((H=H.apply(L,k)).next())});const y={mutes:[],blocks:[],blocked:[]},M=(0,t.createContext)({result:y,refetch:()=>null});M.displayName="UserBlockContext";function T({user:L,children:k}){var H;const G=useFetch({pathname:"/api/v1/blocks/ids",deps:[L],auto:!!L});return h(M.Provider,{value:{result:(H=G.result)!=null?H:y,refetch:G.refetch}},k)}function R(){return(0,a.qp)(M)}function F(L){const{result:{mutes:k,blocks:H,blocked:G}}=(0,a.qp)(M);return L?k.includes(L)?"muting":H.includes(L)?"blocking":G.includes(L)?"blocked":null:null}function N(L,k){const H=(0,S.aF)(),G=!!(H&&L&&H.id!==L.id),q=R(),z=F(L==null?void 0:L.id),ee=(0,g.pm)(),$=(0,c.guessFirstName)((L==null?void 0:L.name)||""),J=()=>D(this,null,function*(){if(L){try{yield(0,l.rd)(`/api/v1/blocks/${L.id}`,{method:"POST",json:{type:"mute",surface:k}})}catch(oe){ee.popToast(re=>(0,t.h)(g.FN,x(C({},re),{text:(0,v.getNetworkErrorMessage)(oe)})));return}q.refetch(),ee.popToast(oe=>(0,t.h)(g.FN,x(C({},oe),{text:`${L.name||"User"} muted`,Icon:p.Z})))}}),j=()=>D(this,null,function*(){if(L){try{yield(0,l.rd)(`/api/v1/blocks/${L.id}`,{method:"DELETE",query:{surface:k}})}catch(oe){ee.popToast(re=>(0,t.h)(g.FN,x(C({},re),{text:(0,v.getNetworkErrorMessage)(oe)})));return}q.refetch(),ee.popToast(oe=>(0,t.h)(g.FN,x(C({},oe),{text:`${L.name||"User"} unmuted`,Icon:p.Z})))}}),Z=()=>D(this,null,function*(){if(L){try{yield(0,l.rd)(`/api/v1/blocks/${L.id}`,{method:"POST",json:{type:"block",surface:k}})}catch(oe){ee.popToast(re=>(0,t.h)(g.FN,x(C({},re),{text:(0,v.getNetworkErrorMessage)(oe)})));return}q.refetch(),ee.popToast(oe=>(0,t.h)(g.FN,x(C({},oe),{text:`${L.name||"User"} blocked`,Icon:i.Z})))}}),ne=()=>D(this,null,function*(){if(L){try{yield(0,l.rd)(`/api/v1/blocks/${L.id}`,{method:"DELETE",query:{surface:k}})}catch(oe){ee.popToast(re=>(0,t.h)(g.FN,x(C({},re),{text:(0,v.getNetworkErrorMessage)(oe)})));return}q.refetch(),ee.popToast(oe=>(0,t.h)(g.FN,x(C({},oe),{text:`${L.name||"User"} unblocked`,Icon:i.Z})))}}),ie=[];return G&&(z!=="blocking"&&ie.push((0,t.h)(E.sN,{icon:(0,t.h)(p.Z,null),onClick:z==="muting"?j:J},z==="muting"?"Unmute":"Mute")),ie.push((0,t.h)(E.sN,{icon:(0,t.h)(i.Z,null),onClick:z==="blocking"?ne:Z},z==="blocking"?"Unblock":"Block"))),ie}const U=(0,t.createContext)(!1);U.displayName="MuteFreeZone";function V({muteFree:L=!0,children:k}){return h(U.Provider,{value:L},k)}function W(){return(0,a.qp)(U)}},2405:(K,f,e)=>{"use strict";e.d(f,{LC:()=>p,uL:()=>c});var t=e(6400),a=e(30396);const i=(0,t.createContext)(null);i.displayName="CrossPostContext";function c({crossPost:l=null,children:v}){return(0,t.h)(i.Provider,{value:l},v)}function p(){return(0,a.qp)(i)}},29910:(K,f,e)=>{"use strict";e.d(f,{Cq:()=>c,UN:()=>p,_j:()=>i});var t=e(6400),a=e(30396);const i=(0,t.createContext)({isSubstack:!1,customDomain:null});i.displayName="DomainInfoContext";function c(){return(0,a.qp)(i)}function p({value:l,children:v}){const _=(0,a.Ye)(()=>l,Object.values(l));return(0,t.h)(i.Provider,{value:_},v)}},4190:(K,f,e)=>{"use strict";e.d(f,{Vt:()=>y,f9:()=>T,jc:()=>M,kx:()=>D,ng:()=>x,xu:()=>w});var t=e(6400),a=e(98661),i=e(30396),c=e(80569),p=e.n(c),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(R,F,N)=>F in R?l(R,F,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[F]=N,A=(R,F)=>{for(var N in F||(F={}))E.call(F,N)&&O(R,N,F[N]);if(g)for(var N of g(F))S.call(F,N)&&O(R,N,F[N]);return R},u=(R,F)=>v(R,_(F)),o=(R,F,N)=>new Promise((U,V)=>{var W=H=>{try{k(N.next(H))}catch(G){V(G)}},L=H=>{try{k(N.throw(H))}catch(G){V(G)}},k=H=>H.done?U(H.value):Promise.resolve(H.value).then(W,L);k((N=N.apply(R,F)).next())}),s;const w={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},P=typeof window!="undefined"&&window._preloads||w,C=typeof window!="undefined"?(s=window._preloads)==null?void 0:s.siteConfigs:{},x=(R,F)=>{const N=L=>{if(!L||!R)return null;const k=R[L];return k===void 0?null:k},U=L=>{if(!L)return null;const k=N(L);if(k&&typeof k=="string"&&k!=="experiment")return{intendedVariant:k,shouldLog:!1};if(F.variantOverrides&&L in F.variantOverrides)return{intendedVariant:F.variantOverrides[L],shouldLog:!1};const H=F.experimentExposures||{};if(H[L])return{intendedVariant:H[L],shouldLog:!1};const G=F.experimentFeatures||{};return G[L]?{intendedVariant:G[L],shouldLog:!0}:null};return{getExperimentVariant:L=>{const k=U(L);return k?k.intendedVariant:null},exposeExperiment:L=>o(void 0,null,function*(){const{intendedVariant:k,shouldLog:H}=U(L)||{};if(!H)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const G=window._preloads.experimentExposures;G[L]=k;try{yield p().post("/api/v1/experiment_exposure").send({experiment_name:L,variant_name:k})}catch(q){delete G[L]}}return!0})}},D=(0,t.createContext)(x(C,P));D.displayName="ExperimentsContext";function y({siteConfigs:R={},experimentInfo:F,children:N}){const U=F||P,V=(0,i.Ye)(()=>x(R,U),[R,...Object.values(U)]);return(0,t.h)(D.Provider,{value:V},N)}function M(){return(0,i.qp)(D)}const T=R=>{const F=(0,a.forwardRef)((N,U)=>{const V=M();return(0,t.h)(R,u(A(A({},V),N),{ref:U}))});return F.displayName=`withExperimentsContext(${R.displayName||R.name||"Anonymous"})`,F}},58718:(K,f,e)=>{"use strict";e.d(f,{OK:()=>J,Rc:()=>$,oh:()=>q,Sv:()=>z,yr:()=>ee,Xe:()=>k,oJ:()=>H});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(82569),l=e.n(p),v=e(83757),_=e(69518),g=e(60779),E=e(59386),S=e(26686),O=e(84606),A=e(50292),u=e(83322),o=e(8479),s=e(39419),w=e(13045),P=e(76235),C=e(25877),x=e(67963);const D={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var y=Object.defineProperty,M=Object.defineProperties,T=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=(j,Z,ne)=>Z in j?y(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:ne}):j[Z]=ne,V=(j,Z)=>{for(var ne in Z||(Z={}))F.call(Z,ne)&&U(j,ne,Z[ne]);if(R)for(var ne of R(Z))N.call(Z,ne)&&U(j,ne,Z[ne]);return j},W=(j,Z)=>M(j,T(Z)),L=(j,Z,ne)=>new Promise((ie,oe)=>{var re=fe=>{try{se(ne.next(fe))}catch(le){oe(le)}},ae=fe=>{try{se(ne.throw(fe))}catch(le){oe(le)}},se=fe=>fe.done?ie(fe.value):Promise.resolve(fe.value).then(re,ae);se((ne=ne.apply(j,Z)).next())});function k(){return(0,S._)("/api/v1/feed/following")}function H(){const{mutate:j}=(0,v.kY)();return(...Z)=>j("/api/v1/feed/following",...Z)}function G(j){const{data:Z}=k();return(Z!=null?Z:[]).includes(j!=null?j:0)}function q(j,Z){const{isFollowing:ne,toggle:ie}=z(j,Z),oe=(0,x.aF)(),re=(0,C.KG)(j==null?void 0:j.id),ae=!!(oe&&j&&oe.id!==j.id)&&!re,se=(0,u.guessFirstName)((j==null?void 0:j.name)||""),fe=[];return ae&&fe.push((0,t.h)(P.sN,{icon:ne?(0,t.h)(E.m,{stroke:"var(--color-primary)"}):(0,t.h)(g.w,{stroke:"var(--color-primary)"}),onClick:ie},ne?`Unfollow ${se}`:`Follow ${se}`)),fe}function z(j,Z){const ne=(0,x.aF)(),{onboardingModalRef:ie}=(0,A.SJ)(),oe=G(j==null?void 0:j.id),{mutate:re,data:ae}=k(),se=(0,w.pm)(),fe=(0,u.guessFirstName)((j==null?void 0:j.name)||""),le=De=>L(this,null,function*(){if(j){if(!ne&&ie.current){ie.current.open();return}re((je=[])=>De?[...je,j.id]:l()(je,j.id),{revalidate:!1});try{yield(0,o.rd)(`/api/v1/feed/${j.id}/follow`,{method:De?"POST":"DELETE",json:{surface:Z}}),se.popToast(je=>(0,t.h)(w.FN,W(V({},je),{Icon:De?_.$:E.m,text:De?`Followed ${fe}`:`Unfollowed ${fe}`})))}catch(je){se.popToast(Je=>(0,t.h)(w.FN,W(V({},Je),{text:(0,s.getNetworkErrorMessage)(je)})));return}}});return{isFollowing:oe,toggle:()=>le(!oe),isLoaded:!!ae}}function ee(j,Z){const{isFollowing:ne,toggle:ie}=z(j,Z),[oe,re]=(0,a.eJ)(!1);return{isFollowing:ne,buttonProps:{onClick:()=>{ie(),ne||re(!0)},onMouseLeave:()=>re(!1),className:c()(D.followButton,oe&&D.justFollowed)},css:D}}const $=(0,O.E7)({className:D.on,as:"span"}),J=(0,O.E7)({className:D.off,as:"span"})},28488:(K,f,e)=>{"use strict";e.d(f,{M1:()=>s,_7:()=>w,fz:()=>P,wj:()=>o});var t=e(6400),a=e(98661),i=e(30396),c=e(3258),p=e(18349),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(C,x,D)=>x in C?l(C,x,{enumerable:!0,configurable:!0,writable:!0,value:D}):C[x]=D,A=(C,x)=>{for(var D in x||(x={}))E.call(x,D)&&O(C,D,x[D]);if(g)for(var D of g(x))S.call(x,D)&&O(C,D,x[D]);return C},u=(C,x)=>v(C,_(x));const o=(0,t.createContext)({language:"en",preferredLanguage:null,iString:(C,...x)=>C,iContext:(C,x)=>x,iPlural:(C,x,D)=>D>1?x:C,iTemplate:(C,...x)=>(0,p.defaultTemplateTranslate)(C,...x),iCombo:(C,x,D,y,...M)=>x,setPreferredLanguage:C=>{}});o.displayName="I18NContext";function s(){return(0,i.qp)(o)}function w({children:C,language:x="en"}){const[D,y]=(0,a.useState)(null),M=(0,i.Ye)(()=>{const T=D||x;return A({language:x,preferredLanguage:D,setPreferredLanguage:F=>{(0,c.j)(c.FP.PREFERRED_LANGUAGE_SET,{from:x,to:F,surface:"writer-signup"}),y(F)}},p.I18N.i(T))},[x,D]);return(0,t.h)(o.Provider,{value:M},C)}function P(C){const x=(0,a.forwardRef)((D,y)=>{const M=s();return(0,t.h)(C,u(A(A({},M),D),{ref:y}))});return x.displayName=`withI18NContext(${C.displayName||C.name||"Anonymous"})`,x}},85065:(K,f,e)=>{"use strict";e.d(f,{N$:()=>D,lR:()=>M,yH:()=>N});var t=e(6400),a=e(30396),i=e(80569),c=e.n(i),p=e(6742),l=e(35442),v=e(63503),_=e(8479),g=e(39419),E=e.n(g),S=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(V,W,L)=>W in V?S(V,W,{enumerable:!0,configurable:!0,writable:!0,value:L}):V[W]=L,P=(V,W)=>{for(var L in W||(W={}))o.call(W,L)&&w(V,L,W[L]);if(u)for(var L of u(W))s.call(W,L)&&w(V,L,W[L]);return V},C=(V,W)=>O(V,A(W)),x=(V,W,L)=>new Promise((k,H)=>{var G=ee=>{try{z(L.next(ee))}catch($){H($)}},q=ee=>{try{z(L.throw(ee))}catch($){H($)}},z=ee=>ee.done?k(ee.value):Promise.resolve(ee.value).then(G,q);z((L=L.apply(V,W)).next())});function D({defaultState:V,shouldLoad:W=!0,shouldPoll:L=!1,children:k}){return(0,t.h)(T,{defaultState:V==null?void 0:V.activity,shouldLoad:W,shouldPoll:L},(0,t.h)(U,{shouldLoad:W},k))}const y=(0,t.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>x(void 0,null,function*(){return!0}),markAllAsRead:()=>x(void 0,null,function*(){}),hasLoadedOnce:!1});y.displayName="NotificationsContext";function M(){return(0,a.qp)(y)}function T({defaultState:V,shouldLoad:W=!0,shouldPoll:L=!1,children:k}){const H=(0,_.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:W,initialResult:V}),G=!(0,p.th)(),q=()=>x(this,null,function*(){const ee=yield c().post("/api/v1/activity/unread").send({after:new Date().toISOString()});H.setResult(ee.body)});(0,v.Z)(()=>x(this,null,function*(){var ee;if(L&&W&&(0,g.isWindowVisible)()){const $=((ee=H.result)==null?void 0:ee.count)||0,J=yield H.refetch(),j=!(J instanceof Error)&&J.count||0;if($!==j)return!0}}),6e4);const z=H.result!=null?H.result.count:0;return(0,a.d4)(()=>{var ee;try{(ee=navigator.setAppBadge)==null||ee.call(navigator,z)}catch($){console.warn($)}},[z]),(0,t.h)(y.Provider,{value:{lastViewedAt:H.result!=null?H.result.lastViewedAt:null,activityUnreadCount:z,activityUnreadAtMax:H.result!=null?H.result.max:!1,refetch:H.refetch,markAllAsRead:q,hasLoadedOnce:H.hasLoadedOnce}},(0,t.h)(l.Metadata,{badge:G?z:void 0}),k)}const R={count:0,max:!1,refetch:()=>x(void 0,null,function*(){return!0}),markAllAsRead:()=>x(void 0,null,function*(){}),hasLoadedOnce:!1},F=(0,t.createContext)(R);F.displayName="SavedPostsContext";function N(){return(0,a.qp)(F)}function U({shouldLoad:V=!0,children:W}){const L=(0,_.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:V,initialResult:R}),k=()=>L.refetch({method:"PUT"});return(0,t.h)(F.Provider,{value:C(P({},L.result),{refetch:L.refetch,markAllAsRead:k,hasLoadedOnce:L.hasLoadedOnce})},W)}},92643:(K,f,e)=>{"use strict";e.d(f,{Un:()=>E,am:()=>g});var t=e(6400),a=e(30396),i=e(80569),c=e.n(i),p=e(72985),l=e(67963),v=(S,O,A)=>new Promise((u,o)=>{var s=C=>{try{P(A.next(C))}catch(x){o(x)}},w=C=>{try{P(A.throw(C))}catch(x){o(x)}},P=C=>C.done?u(C.value):Promise.resolve(C.value).then(s,w);P((A=A.apply(S,O)).next())});const _=(0,t.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});_.displayName="ProfileContext";function g({value:S,handle:O,children:A}){const[u,o]=(0,a.eJ)({profile:null,loading:!1}),[s,w]=(0,a.eJ)(new Map(S?[[O||S.id,{profile:S,loading:!1}]]:[])),P={viewerProfile:u,setViewerProfile:(0,a.I4)((C,x)=>{o(D=>D.profile===C&&D.loading===x?D:{profile:C,loading:x})},[]),profiles:s,setProfile:(0,a.I4)((C,x,D)=>{w(y=>{var M,T;if(((M=y.get(C))==null?void 0:M.profile)===x&&((T=y.get(C))==null?void 0:T.loading)===D)return y;const R=new Map(y);return R.set(C,{profile:x,loading:D}),R})},[])};return(0,t.h)(_.Provider,{value:P},A)}function E({subjectId:S,subjectName:O,delayLoading:A}){const u=(0,l.aF)(),{viewerProfile:o,setViewerProfile:s,profiles:w,setProfile:P}=(0,a.qp)(_),[C,x]=(0,a.eJ)(null);if(typeof S=="string")if(S.includes("-")){const F=S.split("-");S=F[0],O=F.slice(1).join("-")}else S.startsWith("@")&&(S=S.slice(1));const D=w.get(S),y=(0,a.I4)(F=>v(this,null,function*(){s(o.profile,!0);const N=(0,p.cleanSlug)(F.name,{hashIfEmpty:!0});try{const U=yield c().get(`/api/v1/user/${F.id}-${N}/public_profile/self`).then(V=>V.body);s(U,!1)}catch(U){U instanceof Error&&x(U),s(null,!1)}}),[o,s,x]),M=D==null?void 0:D.profile,T=o.profile,R=(0,a.I4)(F=>v(this,null,function*(){!T&&u&&y(u),P(F,M,!0);try{const N=O&&(0,p.cleanSlug)(O,{hashIfEmpty:!0}),U=yield N?c().get(`/api/v1/user/${F}-${N}/public_profile`).then(V=>V.body):c().get(`/api/v1/user/${F}/public_profile`).then(V=>V.body);P(F,U,!1)}catch(N){N instanceof Error&&x(N),P(F,M,!1)}}),[M,P,O,T,y,u]);return(0,a.d4)(()=>{!A&&!(D!=null&&D.profile)&&!(D!=null&&D.loading)&&!C&&R(S),!A&&!o.loading&&!o.profile&&!C&&u&&y(u)},[A,S,R,D,C,o,y,u]),{loading:!!(D!=null&&D.loading),viewerProfile:o.profile,subjectProfile:D==null?void 0:D.profile,refetch:R,error:C}}},71720:(K,f,e)=>{"use strict";e.d(f,{G:()=>p,I:()=>l});var t=e(6400),a=e(30396),i;const c=typeof window!="undefined"?(i=window._preloads)==null?void 0:i.pub:null,p=(0,t.createContext)(c);p.displayName="PubContext";function l(){return(0,a.qp)(p)}},32076:(K,f,e)=>{"use strict";e.d(f,{Iz:()=>x,So:()=>D,us:()=>C,vz:()=>P});var t=e(6400),a=e(98661),i=e(30396),c=e(8479),p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(y,M,T)=>M in y?p(y,M,{enumerable:!0,configurable:!0,writable:!0,value:T}):y[M]=T,O=(y,M)=>{for(var T in M||(M={}))g.call(M,T)&&S(y,T,M[T]);if(_)for(var T of _(M))E.call(M,T)&&S(y,T,M[T]);return y},A=(y,M)=>l(y,v(M)),u=(y,M,T)=>new Promise((R,F)=>{var N=W=>{try{V(T.next(W))}catch(L){F(L)}},U=W=>{try{V(T.throw(W))}catch(L){F(L)}},V=W=>W.done?R(W.value):Promise.resolve(W.value).then(N,U);V((T=T.apply(y,M)).next())}),o;const s=typeof window!="undefined"?(o=window._preloads)==null?void 0:o.publicationSettings:{},w=y=>({getSettingFor:T=>{if(!T||!y)return null;const R=y[T];return R===void 0?null:R}}),P=(0,t.createContext)(A(O({},w(s)),{changeSetting:()=>Promise.resolve(void 0)}));P.displayName="PublicationSettingsContext";const C=y=>{const M=(0,a.forwardRef)((T,R)=>{const F=D();return(0,t.h)(y,A(O(O({},F),T),{ref:R}))});return M.displayName=`withPubSettingsContext(${y.displayName||y.name||"Anonymous"})`,M};function x({settings:y={},children:M}){const[T,R]=(0,i.eJ)(y),F=U=>u(this,null,function*(){R(O(O({},T),U));try{yield(0,c.rd)("/api/v1/publication_settings",{method:"PUT",json:U})}catch(V){console.error(V)}}),N=(0,i.Ye)(()=>A(O({},w(T)),{changeSetting:F}),[T]);return(0,t.h)(P.Provider,{value:N},M)}function D(){return(0,i.qp)(P)}},63270:(K,f,e)=>{"use strict";e.d(f,{QA:()=>s,Xz:()=>o,vC:()=>w,xR:()=>C,xY:()=>P});var t=e(6400),a=e(98661),i=e(30396),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(x,D,y)=>D in x?c(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,S=(x,D)=>{for(var y in D||(D={}))_.call(D,y)&&E(x,y,D[y]);if(v)for(var y of v(D))g.call(D,y)&&E(x,y,D[y]);return x},O=(x,D)=>p(x,l(D)),A;const u=typeof window!="undefined"?(A=window._preloads)==null?void 0:A.siteConfigs:{},o=x=>({allConfigs:x,getConfigFor:y=>{if(!y||!x)return null;const M=x[y];return M===void 0?null:M}}),s=(0,t.createContext)(o(u));s.displayName="SiteConfigsContext";function w({siteConfigs:x={},children:D}){const y=(0,i.Ye)(()=>o(x),[x]);return(0,t.h)(s.Provider,{value:y},D)}const P=x=>{const D=(0,a.forwardRef)((y,M)=>{const T=C();return(0,t.h)(x,O(S(S({},T),y),{ref:M}))});return D.displayName=`withSiteConfigContext(${x.displayName||x.name||"Anonymous"})`,D};function C(){return(0,i.qp)(s)}},11903:(K,f,e)=>{"use strict";var t=e(30396),a=e(8479),i=e(67963),c=(l,v,_)=>new Promise((g,E)=>{var S=u=>{try{A(_.next(u))}catch(o){E(o)}},O=u=>{try{A(_.throw(u))}catch(o){E(o)}},A=u=>u.done?g(u.value):Promise.resolve(u.value).then(S,O);A((_=_.apply(l,v)).next())});const p=l=>{const v=useUserSettings();useEffect(()=>{const _=()=>c(void 0,null,function*(){try{yield fetchJson("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:l}})}catch(g){}});v!=null&&v.user_id&&v.last_home_tab!==l&&_()},[v,l])}},18597:(K,f,e)=>{"use strict";e.d(f,{Tf:()=>c,ze:()=>p});var t=e(6400),a=e(30396);const i=(0,t.createContext)({hasThemedBackground:!1});i.displayName="ThemeContext";function c(){var l;return!!((l=(0,a.qp)(i))!=null&&l.hasThemedBackground)}function p({value:l,children:v}){const _=(0,a.Ye)(()=>l,Object.values(l));return(0,t.h)(i.Provider,{value:_},v)}},67963:(K,f,e)=>{"use strict";e.d(f,{SE:()=>M,St:()=>C,aF:()=>D,dr:()=>x});var t=e(6400),a=e(30396),i=e(8479),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(R,F,N)=>F in R?c(R,F,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[F]=N,S=(R,F)=>{for(var N in F||(F={}))_.call(F,N)&&E(R,N,F[N]);if(v)for(var N of v(F))g.call(F,N)&&E(R,N,F[N]);return R},O=(R,F)=>p(R,l(F)),A=(R,F,N)=>new Promise((U,V)=>{var W=H=>{try{k(N.next(H))}catch(G){V(G)}},L=H=>{try{k(N.throw(H))}catch(G){V(G)}},k=H=>H.done?U(H.value):Promise.resolve(H.value).then(W,L);k((N=N.apply(R,F)).next())}),u,o,s;const w=typeof window!="undefined"?(u=window._preloads)==null?void 0:u.user:null,P=(s=typeof window!="undefined"&&((o=window._preloads)==null?void 0:o.userSettings))!=null?s:{},C=(0,t.createContext)({user:w,setUser:()=>{},userSettings:P,changeSetting:()=>{}});C.displayName="UserContext";function x({defaultValue:R,userSettings:F,children:N}){const[U,V]=(0,a.eJ)(R||w),[W,L]=(0,a.eJ)(F!=null?F:P),k=(G,q)=>A(this,null,function*(){if(!U)return;const z=W[G];L(O(S({},W),{[G]:q}));const ee=typeof q=="boolean"?q:void 0,$=typeof q=="string"?q:void 0;try{yield(0,i.rd)("/api/v1/user-setting",{method:"PUT",json:{type:G,value_bool:ee,value_datetime:$}})}catch(J){if(J instanceof i.kp)alert(J.getMessage()),L(j=>O(S({},j),{[G]:z}));else throw J}}),H=(0,a.Ye)(()=>({user:U,setUser:V,userSettings:W,changeSetting:k}),[U,W]);return(0,t.h)(C.Provider,{value:H},N)}function D(){return(0,a.qp)(C).user}function y(){return useContext(C).userSettings}function M(){return(0,a.qp)(C)}const T=R=>{const F=N=>{const U=useContext(C);return h(R,S({user:U},N))};return F.displayName=`withUserContext(${R.name||R.displayName||"Anonymous"})`,F}},11870:(K,f,e)=>{"use strict";var t=e(6400),a=e(6378),i=e(15045),c=e(58592),p=e(18165),l=e(87875),v=e(3258),_=e(30396),g=e(12276),E=e(84988),S=e(84040),O=e(51126);const A=({accept:re,onUploadClicked:ae,onFileSelected:se,onRecord:fe})=>{const le=useRef(null);return h(FlexRow,{gap:8},h(FlexBox,{flex:"grow"},h(Button,{grow:!0,fill:"outline",priority:"secondary",onClick:()=>ae(le.current),leftIcon:h(UploadIcon,{height:20}),hiddenInput:h("input",{ref:le,type:"file",accept:re,onChange:Ae=>se(Ae.target.files[0])})},"Upload")),h(FlexBox,{flex:"grow"},AudioRecorderDevice.isSupported()&&h(Button,{grow:!0,fill:"outline",priority:"secondary",onClick:()=>{fe(),track(EVENTS.RECORD_EPISODE_AUDIO_CLICKED)},leftIcon:h(ActivationMicIcon,{height:20})},"Record")))};var u=e(94184),o=e(83322);const s={audioRecorder:"frontend-editor-audio-AudioRecorder-module__audioRecorder--JCbDT",audioRecorderControls:"frontend-editor-audio-AudioRecorder-module__audioRecorderControls--njzbM",audioRecorderDuration:"frontend-editor-audio-AudioRecorder-module__audioRecorderDuration--dwuG7",starting:"frontend-editor-audio-AudioRecorder-module__starting--dVkMn",started:"frontend-editor-audio-AudioRecorder-module__started--vuIOC",stopping:"frontend-editor-audio-AudioRecorder-module__stopping--OVNS9",audioRecorderButton:"frontend-editor-audio-AudioRecorder-module__audioRecorderButton--Q4euh",audioRecorderButtonVolume:"frontend-editor-audio-AudioRecorder-module__audioRecorderButtonVolume--DeJPC",audioRecorderButtonInner:"frontend-editor-audio-AudioRecorder-module__audioRecorderButtonInner--KCLeY"};var w=(re,ae,se)=>new Promise((fe,le)=>{var Ae=Je=>{try{je(se.next(Je))}catch(Be){le(Be)}},De=Je=>{try{je(se.throw(Je))}catch(Be){le(Be)}},je=Je=>Je.done?fe(Je.value):Promise.resolve(Je.value).then(Ae,De);je((se=se.apply(re,ae)).next())});class P extends null{constructor(ae,se){super(ae,se),this.onButtonClick=()=>{this.recorder.state===AudioRecorderDevice.STATE.STOPPED?(track(EVENTS.AUDIO_PRESS_RECORD_CLICKED,{feature:this.props.feature}),this.setState({countDown:3}),setTimeout(()=>this.setState({countDown:2}),700),setTimeout(()=>this.setState({countDown:1}),1400),this.recorder.start({startAt:Date.now()+2100})):(this.recorder.state===AudioRecorderDevice.STATE.STARTING||this.recorder.state===AudioRecorderDevice.STATE.STARTED)&&this.recorder.stop()},this.onCloseClicked=()=>{var fe,le;if(this.recorder.state===AudioRecorderDevice.STATE.STARTED){if(this.recorder.suspend(),!confirm("Your recording will be discarded, are you sure?")){this.recorder.resume();return}this.recorder.stop({dropRecording:!0}),(le=(fe=this.props).onRecorderStopped)==null||le.call(fe)}else this.recorder.state===AudioRecorderDevice.STATE.STARTING?this.recorder.onStarted=()=>this.recorder.stop({dropRecording:!0}):this.recorder.state===AudioRecorderDevice.STATE.STOPPED&&this.recorder.stopMicrophone();this.props.onCancel&&this.props.onCancel()},this.recorder=new AudioRecorderDevice({onStarting:()=>this.onRecorderChanged(),onStarted:()=>this.onRecorderStarted(),onChunk:()=>this.onRecorderChanged(),onStopping:()=>this.onRecorderChanged(),onStopped:fe=>this.onRecorderChanged(fe)}),this.state={countDown:3,recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}}componentDidMount(){return w(this,null,function*(){var ae,se;(yield this.recorder.startMicrophone())||(se=(ae=this.props).onCancel)==null||se.call(ae)})}componentWillUnmount(){this.onCloseClicked()}onRecorderStarted(){var ae,se;(se=(ae=this.props).onRecorderStarted)==null||se.call(ae),this.onRecorderChanged(null)}onRecorderChanged(ae){var se,fe;this.setState({recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}),ae&&((fe=(se=this.props).onComplete)==null||fe.call(se,ae))}render({},{recorderState:ae,recorderDuration:se,recorderVolume:fe,countDown:le}){return h("div",{className:css.audioRecorder},h("div",{className:css.audioRecorderControls},h("div",{className:cn(css.audioRecorderButton,`${ae} tw-bg-white`,{"tw-cursor-default":ae===AudioRecorderDevice.STATE.STARTING,"tw-border-substack-detail":ae!==AudioRecorderDevice.STATE.STARTED,"tw-border-error":ae===AudioRecorderDevice.STATE.STARTED}),onClick:this.onButtonClick},h("div",{className:css.audioRecorderButtonVolume,style:`border-width:${10*fe}px`}),h("div",{className:cn(css.audioRecorderButtonInner,{"tw-rounded-3xl":ae!==AudioRecorderDevice.STATE.STARTED})})),h("div",{className:cn(css.audioRecorderDuration,ae)},ae===AudioRecorderDevice.STATE.STARTING?`${le||3}`:ae===AudioRecorderDevice.STATE.STARTED?secondsToHHMMSS(se||0):"Start recording")),h(IconButton,{size:24,priority:"secondary",fill:"borderless","aria-label":"Cancel",onClick:this.onCloseClicked},h(X,{size:14,"aria-hidden":!0})))}}var C=e(16395),x=e(24980),D=Object.defineProperty,y=Object.defineProperties,M=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,N=(re,ae,se)=>ae in re?D(re,ae,{enumerable:!0,configurable:!0,writable:!0,value:se}):re[ae]=se,U=(re,ae)=>{for(var se in ae||(ae={}))R.call(ae,se)&&N(re,se,ae[se]);if(T)for(var se of T(ae))F.call(ae,se)&&N(re,se,ae[se]);return re},V=(re,ae)=>y(re,M(ae));class W extends null{constructor(ae,se){var fe;super(ae,se),this.state={recording:(fe=this.props.skipToRecordStep)!=null?fe:!1}}trackUploadClicked(){track(EVENTS.UPLOAD_EPISODE_AUDIO_CLICKED)}render({onRecorderStarted:ae,onRecorderStopped:se,feature:fe,mediaUpload:le,transcodeTimeLeft:Ae,removeUpload:De},{preuploading:je,uploading:Je,recording:Be,percentComplete:st}){const ht=(le==null?void 0:le.state)==="uploaded",gt=Be,Xe=!gt&&(Je||je),Re=!gt&&!Xe&&!ht;return h(Fragment,null,Re&&h(AudioDecider,V(U({},this.props),{accept:this.accepts,onUploadClicked:this.onUploadClicked,onFileSelected:this.onFileSelected,onRecord:()=>this.setState({recording:!0})})),gt&&h(AudioRecorder,{feature:fe,onComplete:Ne=>{this.setState({recording:!1}),Ne&&this.uploadToS3(Ne),se==null||se()},onCancel:()=>{this.setState({recording:!1})},onRecorderStarted:ae,onRecorderStopped:se}),Xe&&h(MediaUploadProcess,{percentComplete:st,onCancel:()=>{var Ne,ke;confirm("Are you sure you want to cancel the upload?")&&(this.cancelUpload(),(ke=(Ne=this.props).onUploadCanceled)==null||ke.call(Ne))}}),ht&&h(MediaTranscoder,{timeLeft:Ae,onCancel:De}))}}var L=e(97864);const k={auditionPlayer:"frontend-editor-audio-AuditionPlayer-module__auditionPlayer--tWkbt"},H=({isPlaying:re,togglePlayback:ae})=>h("div",{className:"tw-relative tw-flex tw-h-10 tw-w-10 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-accent tw-transition-transform hover:tw-scale-105",onClick:ae,role:"button"},re?h("div",{className:"tw-flex tw-h-4 tw-w-4 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent ",stroke:"none",height:16})),G=({currentTime:re,isPlaying:ae,progress:se,progressBarRef:fe,progressBarOnMouseDown:le,remainingTime:Ae,togglePlayback:De,onRemove:je})=>h("div",{className:css.auditionPlayer},h(H,{togglePlayback:De,isPlaying:ae}),h(ProgressBar,{currentTime:re,remainingTime:Ae,containerRef:fe,progress:se,onMouseDown:le,theme:ProgressBarTheme.PubAccent}),h(IconButton,{size:24,priority:"secondary",fill:"borderless","aria-label":"Cancel",onClick:je},h(X,{size:14,"aria-hidden":!0})));var q=Object.defineProperty,z=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,Z=(re,ae,se)=>ae in re?q(re,ae,{enumerable:!0,configurable:!0,writable:!0,value:se}):re[ae]=se,ne=(re,ae)=>{for(var se in ae||(ae={}))J.call(ae,se)&&Z(re,se,ae[se]);if($)for(var se of $(ae))j.call(ae,se)&&Z(re,se,ae[se]);return re},ie=(re,ae)=>z(re,ee(ae));class oe extends null{constructor(ae,se){super(ae,se),this.removeAudio=()=>{var fe,le;this.props.legacyPodcastUrl?(le=(fe=this.props).onRemoveLegacyUrl)==null||le.call(fe):this.removeUpload()},this.state={mediaUploadId:ae.mediaUploadId,mediaUpload:ae.mediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1,dismissedAudioErrorModal:!1}}isPodcast(){return[AudioFeature.Podcast,AudioFeature.PodcastPreview].includes(this.props.feature)}render({onDeleteErroredUpload:ae,feature:se,pub:fe,initialFile:le,postId:Ae,setPostId:De,onRecorderStopped:je,onError:Je,onRecorderStarted:Be,onUploadStarted:st,legacyPodcastUrl:ht,onUploadCanceled:gt,skipToRecordStep:Xe},{mediaUpload:Re,timeLeft:Ne,dismissedAudioErrorModal:ke}){const ot=mediaUploadHasProblem(Re);return ht?h(AudioPlayer,{feature:se,pub:fe,src:ht,render:Dt=>h(AuditionPlayer,ie(ne({},Dt),{onRemove:this.removeAudio}))}):h(Fragment,null,(!Re||Re.state!=="transcoded"||ot)&&h(AudioUploader,{feature:se,initialFile:le,mediaType:"audio",postId:Ae,onUpload:Dt=>this.onMediaUpload({mediaUpload:Dt}),setPostId:De,onRecorderStarted:Be,onRecorderStopped:je,onError:Je,mediaUpload:Re,removeUpload:this.removeUpload,onUploadCanceled:gt,onUploadStarted:st,transcodeTimeLeft:Ne,skipToRecordStep:Xe}),(Re==null?void 0:Re.state)==="transcoded"&&h(AudioPlayer,{feature:se,pub:fe,src:Re?updateQuery(`/api/v1/audio/upload/${Re.id}/src`):ht,render:Dt=>h(AuditionPlayer,ie(ne({},Dt),{onRemove:this.removeAudio})),duration:Re==null?void 0:Re.duration,playbackRate:1}),ot&&h(AudioUploadErrorModal,{isOpen:!ke,onDeleteAudio:()=>{ae?ae({skipConfirm:!0}):this.removeAudio()},onDismiss:()=>{this.setState({dismissedAudioErrorModal:!0})}}))}}},16395:(K,f,e)=>{"use strict";var t=e(6400),a=e(84040),i=e(51126),c=e(56288),p=e(43887);const l=({timeLeft:v,onCancel:_})=>h(FlexRow,{alignItems:"center",justifyContent:"space-between",padding:16,radius:6,border:"detail"},h(FlexRow,{alignItems:"center",gap:16},h(FlexColumn,null,h(Loader,{type:"circular"})),h(FlexColumn,null,h(Text.Meta,{color:"secondary"},"Processing media..."),h(Text,{size:12,color:"secondary"},"This could take up to several minutes depending on the format and length of your media."))),h(IconButton,{size:24,priority:"secondary",fill:"borderless","aria-label":"Cancel",onClick:_},h(X,{size:14,"aria-hidden":!0})))},24980:(K,f,e)=>{"use strict";var t=e(6400),a=e(94184),i=e(13045),c=e(84040);const p={mediaUploader:"frontend-editor-audio-MediaUploadProcess-module__mediaUploader--b_MuD",mediaUploaderProgressLabel:"frontend-editor-audio-MediaUploadProcess-module__mediaUploaderProgressLabel--_8bga",mediaUploaderProgressBar:"frontend-editor-audio-MediaUploadProcess-module__mediaUploaderProgressBar--Ajt2x",mediaUploaderProgressBarFilled:"frontend-editor-audio-MediaUploadProcess-module__mediaUploaderProgressBarFilled--oMErm"},l=({percentComplete:v=0,onCancel:_})=>h("div",{className:css.mediaUploader},h("div",{className:cn(css.mediaUploaderProgressBar,"tw-mt-0 tw-h-1 tw-w-full")},h("div",{className:cn(css.mediaUploaderProgressBarFilled,"tw-bg-pub-accent"),style:`width: ${Math.max(5,v*100)}%;`})),h("div",{className:"tw-w-12 tw-text-right tw-text-sm"},h(Text,{color:"secondary"},`${Math.max(1,v*100).toFixed(0)}%`)),h(IconButton,{size:24,priority:"secondary",fill:"borderless","aria-label":"Cancel",onClick:_},h(X,{size:14,"aria-hidden":!0})))},76902:(K,f,e)=>{"use strict";e.d(f,{MM:()=>N,kn:()=>F});var t=e(6400),a=e(34755),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(z,ee,$)=>ee in z?i(z,ee,{enumerable:!0,configurable:!0,writable:!0,value:$}):z[ee]=$,E=(z,ee)=>{for(var $ in ee||(ee={}))v.call(ee,$)&&g(z,$,ee[$]);if(l)for(var $ of l(ee))_.call(ee,$)&&g(z,$,ee[$]);return z},S=(z,ee)=>c(z,p(ee)),O=(z,ee)=>{var $={};for(var J in z)v.call(z,J)&&ee.indexOf(J)<0&&($[J]=z[J]);if(z!=null&&l)for(var J of l(z))ee.indexOf(J)<0&&_.call(z,J)&&($[J]=z[J]);return $};const A=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"UndoIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M7.33334 4L3.33334 8L7.33334 12"}),h("path",{d:"M11.3333 19H15.8182C17.2809 19 18.6837 18.4205 19.718 17.3891C20.7523 16.3576 21.3333 14.9587 21.3333 13.5C21.3333 12.0413 20.7523 10.6424 19.718 9.61091C18.6837 8.57946 17.2809 8 15.8182 8H4.33334"})))},u=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"RedoIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M17.3334 4L21.3334 8L17.3334 12"}),h("path",{d:"M13.3334 19H8.84853C7.38582 19 5.98302 18.4205 4.94873 17.3891C3.91443 16.3576 3.33337 14.9587 3.33337 13.5C3.33337 12.0413 3.91443 10.6424 4.94873 9.61091C5.98302 8.57946 7.38582 8 8.84853 8H20.3334"})))},o=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"PollIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("rect",{width:"24",height:"24",transform:"translate(24) rotate(90)",fill:"none",stroke:"none"}),h("path",{d:"M4 18L14 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M4 12L20 12","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M4 6L10 6","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))},s=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"RedoIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{fill:"none",d:"M6.80005 5.60059H13.2C14.0487 5.60059 14.8627 5.93773 15.4628 6.53784C16.0629 7.13796 16.4 7.95189 16.4 8.80059C16.4 9.64928 16.0629 10.4632 15.4628 11.0633C14.8627 11.6634 14.0487 12.0006 13.2 12.0006H6.80005V5.60059Z","stroke-width":"2"}),h("path",{fill:"none",d:"M6.80005 12H14C14.8487 12 15.6627 12.3371 16.2628 12.9373C16.8629 13.5374 17.2 14.3513 17.2 15.2C17.2 16.0487 16.8629 16.8626 16.2628 17.4627C15.6627 18.0629 14.8487 18.4 14 18.4H6.80005V12Z","stroke-width":"2"})))},w=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"ItalicIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("g",null,h("path",{d:"M17.2671 6.10059H10.0671"}),h("path",{d:"M13.2659 18.8994H6.06592"}),h("path",{d:"M14.0666 6.10059L9.2666 18.9006"}))))},P=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"StrikethroughIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{fill:"none",d:"M14.866 5.60059H9.266C8.88195 5.60038 8.50345 5.69236 8.1623 5.86878C7.82116 6.04519 7.52734 6.30091 7.30552 6.61443C7.0837 6.92796 6.94036 7.29014 6.88755 7.67055C6.83473 8.05096 6.87399 8.43849 7.00201 8.80059"}),h("path",{fill:"none",d:"M13.2667 12C14.1154 12 14.9293 12.3371 15.5294 12.9373C16.1296 13.5374 16.4667 14.3513 16.4667 15.2C16.4667 16.0487 16.1296 16.8626 15.5294 17.4627C14.9293 18.0629 14.1154 18.4 13.2667 18.4H6.8667"}),h("path",{d:"M4.1665 12L19.1665 12"})))},C=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"LinkIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M10.0671 13.3006C10.4107 13.7599 10.849 14.1399 11.3524 14.4149C11.8557 14.6899 12.4123 14.8535 12.9845 14.8944C13.5566 14.9354 14.1308 14.8529 14.6682 14.6524C15.2056 14.4519 15.6936 14.1382 16.0991 13.7326L18.4991 11.3326C19.2278 10.5781 19.6309 9.56774 19.6218 8.51895C19.6127 7.47017 19.192 6.46692 18.4504 5.72528C17.7088 4.98365 16.7055 4.56298 15.6567 4.55386C14.608 4.54475 13.5975 4.94793 12.8431 5.67656L11.4671 7.04456"}),h("path",{d:"M13.2677 11.7008C12.9242 11.2415 12.4859 10.8614 11.9825 10.5864C11.4791 10.3114 10.9225 10.1479 10.3504 10.1069C9.7783 10.0659 9.20407 10.1485 8.66666 10.3489C8.12925 10.5494 7.64125 10.8631 7.23574 11.2688L4.83574 13.6688C4.10711 14.4232 3.70393 15.4336 3.71304 16.4824C3.72216 17.5312 4.14283 18.5344 4.88446 19.276C5.6261 20.0177 6.62935 20.4383 7.67813 20.4475C8.72692 20.4566 9.73733 20.0534 10.4917 19.3248L11.8597 17.9568"})))},x=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"SearchIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M20.9999 21.0004L16.6499 16.6504","stroke-linecap":"round","stroke-linejoin":"round"})))},D=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"FootnoteIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M5.74356 7.80138L1.55483 19.3174"}),h("path",{d:"M5.74212 7.80082L9.92942 19.3177"}),h("path",{d:"M13.0703 7.80493V19.3212"}),h("path",{d:"M8.35986 16.1787H3.12519"}),h("ellipse",{cx:"15.9501",cy:"15.6565",rx:"2.87907",ry:"3.66427"}),h("path",{d:"M21.4465 5L21.4465 10.9463"}),h("path",{d:"M21.4465 5L19.3528 6.23506"})))},y=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"BulletListIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M7.66675 6.5H20.6667"}),h("path",{d:"M7.66675 12.5H20.6667"}),h("path",{d:"M7.66675 18.5H20.6667"}),h("path",{d:"M2.66675 6.5H2.67633"}),h("path",{d:"M2.66675 12.5H2.67633"}),h("path",{d:"M2.66675 18.5H2.67633"})))},M=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"RedoIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M9.66675 6.5H20.6667"}),h("path",{d:"M9.66675 12.5H20.6667"}),h("path",{d:"M9.66675 18.5H20.6667"}),h("path",{d:"M3.66675 6.5H4.66675V10.5"}),h("path",{d:"M3.66675 10.5H5.66675"}),h("path",{d:"M5.66675 18.4999H3.66675C3.66675 17.4999 5.66675 16.4999 5.66675 15.4999C5.66675 14.4999 4.66675 13.9999 3.66675 14.4999"})))},T=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"ImageIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{fill:"none",d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z"}),h("path",{fill:"none",d:"M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z"}),h("path",{fill:"none",d:"M21 15L16 10L5 21"})))},R=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"PullquoteIcon",svgParams:{viewBox:"0 0 25 24",height:24,width:25,fill:"none"}}),h("g",{"clip-path":"url(#clip0_331_14370)"},h("path",{d:"M8.00341 6.27573C8.40352 6.3829 8.64099 6.79413 8.53382 7.19424L7.16081 12.3201C7.37248 12.2739 7.59001 12.2502 7.80936 12.2502C8.56054 12.2502 9.29047 12.5282 9.83633 13.0377C10.3839 13.5488 10.7022 14.2535 10.7022 15.0002C10.7022 15.7469 10.3839 16.4516 9.83633 16.9627C9.29047 17.4722 8.56054 17.7502 7.80936 17.7502C7.05818 17.7502 6.32825 17.4722 5.78239 16.9627C5.23479 16.4516 4.9165 15.7469 4.9165 15.0002C4.9165 14.5694 5.02242 14.1527 5.21717 13.779L7.0849 6.80613C7.19207 6.40603 7.6033 6.16855 8.00341 6.27573Z",fill:"#666666"}),h("path",{d:"M17.2177 6.27573C17.6178 6.3829 17.8553 6.79413 17.7481 7.19424L16.3751 12.3201C16.5868 12.2739 16.8043 12.2502 17.0236 12.2502C17.7748 12.2502 18.5048 12.5282 19.0506 13.0377C19.5982 13.5488 19.9165 14.2535 19.9165 15.0002C19.9165 15.7469 19.5982 16.4516 19.0506 16.9627C18.5048 17.4722 17.7748 17.7502 17.0236 17.7502C16.2725 17.7502 15.5425 17.4722 14.9967 16.9627C14.4491 16.4516 14.1308 15.7469 14.1308 15.0002C14.1308 14.5694 14.2367 14.1527 14.4315 13.779L16.2992 6.80613C16.4064 6.40603 16.8176 6.16855 17.2177 6.27573Z",fill:"#666666"})),h("defs",null,h("clipPath",{id:"clip0_331_14370"},h("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.166504)"}))))},F=({stroke:z,className:ee})=>(0,t.h)(a.l,{className:ee,name:"BlockquoteIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}},(0,t.h)("path",{d:"M5.5 17L5.5 18C5.5 18.5304 5.71071 19.0391 6.08579 19.4142C6.46086 19.7893 6.96957 20 7.5 20L18.5 20C19.0304 20 19.5391 19.7893 19.9142 19.4142C20.2893 19.0391 20.5 18.5304 20.5 18L20.5 7C20.5 6.46957 20.2893 5.96086 19.9142 5.58579C19.5391 5.21071 19.0304 5 18.5 5H17.5M9.67857 10.6667C9.67857 10.2246 9.86671 9.80072 10.2016 9.48816C10.5365 9.1756 10.9907 9 11.4643 9C11.9379 9 12.3921 9.1756 12.727 9.48816C13.0619 9.80072 13.25 10.2246 13.25 10.6667C13.25 11.1087 13.0619 11.5326 12.727 11.8452C12.3921 12.1577 11.9379 12.3333 11.4643 12.3333C10.9907 12.3333 10.5365 12.1577 10.2016 11.8452C9.86671 11.5326 9.67857 11.1087 9.67857 10.6667ZM9.67857 10.6667L11.4643 4M2 10.6667C2 10.2246 2.18814 9.80072 2.52302 9.48816C2.85791 9.1756 3.31211 9 3.78571 9C4.25931 9 4.71352 9.1756 5.0484 9.48816C5.38329 9.80072 5.57143 10.2246 5.57143 10.6667C5.57143 11.1087 5.38329 11.5326 5.0484 11.8452C4.71352 12.1577 4.25931 12.3333 3.78571 12.3333C3.31211 12.3333 2.85791 12.1577 2.52302 11.8452C2.18814 11.5326 2 11.1087 2 10.6667ZM2 10.6667L3.78571 4M4.91667 10.6667C4.91667 11.1269 4.54357 11.5 4.08333 11.5C3.6231 11.5 3.25 11.1269 3.25 10.6667C3.25 10.2064 3.6231 9.83333 4.08333 9.83333C4.54357 9.83333 4.91667 10.2064 4.91667 10.6667ZM12.4167 10.6667C12.4167 11.1269 12.0436 11.5 11.5833 11.5C11.1231 11.5 10.75 11.1269 10.75 10.6667C10.75 10.2064 11.1231 9.83333 11.5833 9.83333C12.0436 9.83333 12.4167 10.2064 12.4167 10.6667ZM4.08333 11.0833C4.08333 11.3135 3.89679 11.5 3.66667 11.5C3.43655 11.5 3.25 11.3135 3.25 11.0833C3.25 10.8532 3.43655 10.6667 3.66667 10.6667C3.89679 10.6667 4.08333 10.8532 4.08333 11.0833ZM11.5833 11.0833C11.5833 11.3135 11.3968 11.5 11.1667 11.5C10.9365 11.5 10.75 11.3135 10.75 11.0833C10.75 10.8532 10.9365 10.6667 11.1667 10.6667C11.3968 10.6667 11.5833 10.8532 11.5833 11.0833Z","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",stroke:z,"stroke-width":"2"})),N=z=>{var ee=z,{stroke:$}=ee,J=O(ee,["stroke"]);return(0,t.h)(a.l,S(E({},J),{name:"CodeBlockIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),(0,t.h)("path",{d:"M5.5 17L5.5 18C5.5 18.5304 5.71071 19.0391 6.08579 19.4142C6.46086 19.7893 6.96957 20 7.5 20L18.5 20C19.0304 20 19.5391 19.7893 19.9142 19.4142C20.2893 19.0391 20.5 18.5304 20.5 18L20.5 7C20.5 6.46957 20.2893 5.96086 19.9142 5.58579C19.5391 5.21071 19.0304 5 18.5 5L17.5 5M9.4 12L13 8L9.4 4M4.6 4L1 8L4.6 12","stroke-linecap":"round","stroke-linejoin":"round",fill:"none",stroke:$,strokeWidth:"2"}))},U=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"DividerIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M3 13H21"})))},V=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"PoetryBlockIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M19 12L12 5L15 2L22 9L19 12Z"}),h("path",{d:"M13 6L5.5 7.5L2 22L16.5 18.5L18 11L13 6Z"}),h("path",{d:"M2 22L9.586 14.414"}),h("path",{d:"M13 13C13 11.8954 12.1046 11 11 11C9.89543 11 9 11.8954 9 13C9 14.1046 9.89543 15 11 15C12.1046 15 13 14.1046 13 13Z"})))},W=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"PaywallIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M12 1V23","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H12",fill:"none"}),h("path",{d:"M6 19H14.5C15.4283 19 16.3185 18.6313 16.9749 17.9749C17.6313 17.3185 18 16.4283 18 15.5C18 14.5717 17.6313 13.6815 16.9749 13.0251C16.3185 12.3687 15.4283 12 14.5 12H12",fill:"none"})))},L=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"ParagraphIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24,fill:"none"}}),h("g",null,h("path",{d:"M17 5L17 19"}),h("path",{d:"M13 5L13 19"}),h("path",{d:"M19 5L9 5"}),h("path",{d:"M9 5C6.79086 5 5 6.79086 5 9C5 11.2091 6.79086 13 9 13H13"})))},k=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"CodeIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24}}),h("g",{"clip-path":"url(#clip0)",fill:"none"},h("path",{d:"M17.6667 16.5L21.6667 12.5L17.6667 8.5","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M5.66675 8.5L1.66675 12.5L5.66675 16.5","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M14.1667 4.5L9.16675 20.5","stroke-linecap":"round","stroke-linejoin":"round"})))},H=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"IndentIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24}}),h("path",{fill:"none",d:"M2.66699 8L6.66699 12L2.66699 16","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M21 12L15 12","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M21 6H10","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M21 18H10","stroke-linecap":"round","stroke-linejoin":"round"}))},G=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"DeindentIcon",svgParams:{viewBox:"0 0 24 24",height:24,width:24}}),h("path",{fill:"none",d:"M6.66699 8L2.66699 12L6.66699 16","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M22 6H11","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M22 12L16 12","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M22 18H11","stroke-linecap":"round","stroke-linejoin":"round"}))},q=z=>{var ee=O(z,[]);return h(SvgIcon,S(E({},ee),{name:"GiftIcon",svgParams:{viewBox:"0 0 16 16",height:16,width:16,fill:"none"}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.18705 2.75774C8.67466 1.87119 9.55545 0.832031 11.0002 0.832031C11.5748 0.832031 12.1259 1.0603 12.5322 1.46663C12.9386 1.87296 13.1668 2.42406 13.1668 2.9987C13.1668 3.41537 13.0468 3.81966 12.8259 4.16536H14.6668C14.943 4.16536 15.1668 4.38922 15.1668 4.66536V7.9987C15.1668 8.27484 14.943 8.4987 14.6668 8.4987H13.8335V14.6654C13.8335 14.9415 13.6096 15.1654 13.3335 15.1654L8.00016 15.1654L2.66683 15.1654C2.39069 15.1654 2.16683 14.9415 2.16683 14.6654V8.4987H1.3335C1.05735 8.4987 0.833496 8.27484 0.833496 7.9987V4.66536C0.833496 4.38922 1.05735 4.16536 1.3335 4.16536H3.17441C2.95352 3.81966 2.8335 3.41537 2.8335 2.9987C2.8335 2.42406 3.06177 1.87296 3.4681 1.46663C3.87443 1.0603 4.42553 0.832031 5.00016 0.832031C6.44488 0.832031 7.32567 1.87119 7.81327 2.75774C7.88155 2.88188 7.94372 3.00567 8.00016 3.12683C8.05661 3.00567 8.11878 2.88188 8.18705 2.75774ZM7.50016 5.16536H5.00016H1.8335V7.4987H2.66683H7.50016V5.16536ZM7.34015 4.16536C7.24789 3.89405 7.11607 3.56514 6.93705 3.23966C6.50799 2.45954 5.88878 1.83203 5.00016 1.83203C4.69074 1.83203 4.394 1.95495 4.1752 2.17374C3.95641 2.39253 3.8335 2.68928 3.8335 2.9987C3.8335 3.30812 3.95641 3.60486 4.1752 3.82366C4.394 4.04245 4.69074 4.16536 5.00016 4.16536H7.34015ZM11.8251 3.82366C11.6063 4.04245 11.3096 4.16536 11.0002 4.16536H8.66018C8.75243 3.89405 8.88425 3.56514 9.06327 3.23966C9.49234 2.45954 10.1115 1.83203 11.0002 1.83203C11.3096 1.83203 11.6063 1.95495 11.8251 2.17374C12.0439 2.39253 12.1668 2.68928 12.1668 2.9987C12.1668 3.30812 12.0439 3.60486 11.8251 3.82366ZM8.50016 7.4987V5.16536H11.0002H14.1668V7.4987H13.3335H8.50016ZM8.50016 14.1654H12.8335V8.4987H8.50016V14.1654ZM7.50016 8.4987V14.1654H3.16683V8.4987H7.50016Z",fill:"#D64325",stroke:"none"}))}},87875:(K,f,e)=>{"use strict";var t=e(6400),a=e(80569),i=e.n(a),c=e(85928),p=e.n(c),l=e(83322),v=e(84297),_=e(63270),g=e(3258),E=e(39419),S=e.n(E),O=Object.defineProperty,A=Object.getOwnPropertySymbols,u=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=Reflect.get,P=(G,q,z)=>q in G?O(G,q,{enumerable:!0,configurable:!0,writable:!0,value:z}):G[q]=z,C=(G,q)=>{for(var z in q||(q={}))o.call(q,z)&&P(G,z,q[z]);if(A)for(var z of A(q))s.call(q,z)&&P(G,z,q[z]);return G},x=(G,q,z)=>w(u(G),z,q),D=(G,q,z)=>new Promise((ee,$)=>{var J=ne=>{try{Z(z.next(ne))}catch(ie){$(ie)}},j=ne=>{try{Z(z.throw(ne))}catch(ie){$(ie)}},Z=ne=>ne.done?ee(ne.value):Promise.resolve(ne.value).then(J,j);Z((z=z.apply(G,q)).next())});const y="audio/mpeg,audio/mp3,audio/m4a,audio/x-m4a,audio/aac,audio/aiff,audio/x-aiff,audio/amr,audio/flac,audio/ogg,audio/wav,audio/x-wav",M="video/*",T=null,R=null,F=null,N=.7,U=.03,V=60,W=5,L=1e3;class k extends null{constructor(q,z){super(q,z),this.updateTranscodingTime=()=>{var ee;this.updateTranscodingTimeout||(this.setState(this.getEstimatedTranscodingTime()),((ee=this.state.mediaUpload)==null?void 0:ee.state)==="uploaded"&&(this.updateTranscodingTimeout=window.setTimeout(()=>{this.updateTranscodingTimeout=null,this.updateTranscodingTime()},L)))},this.onMediaUpload=({mediaUpload:ee})=>{clearTimeout(this.syncMediaUploadTimeout),this.setState({mediaUploadId:ee==null?void 0:ee.id,mediaUpload:ee},()=>{var $,J;this.syncUpload({uploadIdKey:"mediaUploadId",uploadKey:"mediaUpload",uploadTimeoutKey:"syncMediaUploadTimeout",uploadSyncingKey:"syncingMediaUpload",endpoint:`/api/v1/${this.props.mediaType}/upload/{id}`}),(J=($=this.props).onChange)==null||J.call($,{mediaUpload:ee})})},this.onAudioExtractMediaUpload=({mediaUpload:ee})=>{clearTimeout(this.syncAudioExtractMediaUploadTimeout),this.setState({audioExtractMediaUploadId:ee==null?void 0:ee.id,audioExtractMediaUpload:ee},()=>{var $,J;this.syncUpload({uploadIdKey:"audioExtractMediaUploadId",uploadKey:"audioExtractMediaUpload",uploadTimeoutKey:"syncAudioExtractMediaUploadTimeout",uploadSyncingKey:"syncingAudioExtractMediaUpload",endpoint:"/api/v1/audio/upload/{id}"}),(J=($=this.props).onAudioExtractChange)==null||J.call($,{mediaUpload:ee})})},this.onAudioExtractPreviewMediaUpload=({mediaUpload:ee})=>{clearTimeout(this.onAudioExtractPreviewMediaUpload),this.setState({audioExtractPreviewMediaUploadId:ee==null?void 0:ee.id,audioExtractPreviewMediaUpload:ee},()=>{var $,J;this.syncUpload({uploadIdKey:"audioExtractPreviewMediaUploadId",uploadKey:"audioExtractPreviewMediaUpload",uploadTimeoutKey:"syncAudioExtractPreviewMediaUploadTimeout",uploadSyncingKey:"syncingAudioExtractPreviewMediaUpload",endpoint:"/api/v1/audio/upload/{id}"}),(J=($=this.props).onAudioExtractPreviewChange)==null||J.call($,{mediaUpload:ee})})},this.onMediaUploadUpdated=ee=>{var $,J;this.setState({mediaUpload:C(C({},this.state.mediaUpload),ee)}),(J=($=this.props).onChange)==null||J.call($,{mediaUpload:this.state.mediaUpload})},this.removeUpload=({skipConfirm:ee=!1}={})=>{var $;const{mediaUploadId:J,mediaUpload:j}=this.state;J&&(!ee&&!["cancelled","error"].includes(j==null?void 0:j.state)&&!confirm(`This will remove your ${j==null?void 0:j.media_type}. Are you sure?`)||(($=this.optionsDropdown)==null||$.close(),this.clearSyncMediaUploadTimeouts(),this.setState({mediaUploadId:null,mediaUpload:null,audioExtractMediaUploadId:null,audioExtractMediaUpload:null,audioExtractPreviewMediaUploadId:null,audioExtractPreviewMediaUpload:null},()=>{var Z,ne,ie,oe,re,ae;(ne=(Z=this.props).onChange)==null||ne.call(Z,{mediaUpload:null}),(oe=(ie=this.props).onAudioExtractChange)==null||oe.call(ie,{mediaUpload:null}),(ae=(re=this.props).onAudioExtractPreviewChange)==null||ae.call(re,{mediaUpload:null})})))},this.syncUploads=()=>{this.syncUpload({uploadIdKey:"mediaUploadId",uploadKey:"mediaUpload",uploadTimeoutKey:"syncMediaUploadTimeout",uploadSyncingKey:"syncingMediaUpload",endpoint:`/api/v1/${this.props.mediaType}/upload/{id}`}),this.syncUpload({uploadIdKey:"audioExtractMediaUploadId",uploadKey:"audioExtractMediaUpload",uploadTimeoutKey:"syncAudioExtractMediaUploadTimeout",uploadSyncingKey:"syncingAudioExtractMediaUpload",endpoint:"/api/v1/audio/upload/{id}"}),this.syncUpload({uploadIdKey:"audioExtractPreviewMediaUploadId",uploadKey:"audioExtractPreviewMediaUpload",uploadTimeoutKey:"syncAudioExtractPreviewMediaUploadTimeout",uploadSyncingKey:"syncingAudioExtractPreviewMediaUpload",endpoint:"/api/v1/audio/upload/{id}"})},this.getTimeoutDuration=ee=>dayjs(ee).add(F,"milliseconds").isBeforeNow()?R:T,this.clearSyncMediaUploadTimeouts=()=>{this.syncMediaUploadTimeout&&clearTimeout(this.syncMediaUploadTimeout),this.syncAudioExtractMediaUploadTimeout&&clearTimeout(this.syncAudioExtractMediaUploadTimeout),this.syncAudioExtractPreviewMediaUploadTimeout&&clearTimeout(this.syncAudioExtractPreviewMediaUploadTimeout)},this.syncUpload=ee=>D(this,[ee],function*({uploadIdKey:$,uploadKey:J,uploadTimeoutKey:j,uploadSyncingKey:Z,endpoint:ne}){var ie,oe;const re=this.state[$],ae=this.state[J];if(!re){ae&&this.setState({[J]:null});return}if((ae==null?void 0:ae.state)!=="transcoded"&&!this[Z]){this[Z]=!0;try{const se=yield request.get(ne.replace("{id}",re));this.setState({[J]:se.body},()=>{se.body.state!=="uploaded"?this.stopUpdatingTranscodingTime():this.updateTranscodingTime()})}catch(se){alert(getNetworkErrorMessage(se))}(!this.state[J]||((ie=this.state[J])==null?void 0:ie.state)==="uploaded")&&(this[j]=window.setTimeout(()=>this.syncUpload({uploadIdKey:$,uploadKey:J,uploadTimeoutKey:j,uploadSyncingKey:Z,endpoint:ne}),this.getTimeoutDuration((oe=this.state[J])==null?void 0:oe.created_at))),this[Z]=!1}}),this.checkTranscodeStates=ee=>{var $,J,j,Z,ne,ie,oe,re,ae,se,fe,le,Ae,De,je;(($=this.state.mediaUpload)==null?void 0:$.state)==="transcoded"&&((J=ee.mediaUpload)==null?void 0:J.state)!==((j=this.state.mediaUpload)==null?void 0:j.state)&&((ne=(Z=this.props).onChange)==null||ne.call(Z,{mediaUpload:this.state.mediaUpload})),((ie=this.state.audioExtractMediaUpload)==null?void 0:ie.state)==="transcoded"&&((oe=ee.audioExtractMediaUpload)==null?void 0:oe.state)!==((re=this.state.audioExtractMediaUpload)==null?void 0:re.state)&&((se=(ae=this.props).onAudioExtractChange)==null||se.call(ae,{mediaUpload:this.state.audioExtractMediaUpload})),((fe=this.state.audioExtractPreviewMediaUpload)==null?void 0:fe.state)==="transcoded"&&((le=ee.audioExtractPreviewMediaUpload)==null?void 0:le.state)!==((Ae=this.state.audioExtractPreviewMediaUpload)==null?void 0:Ae.state)&&((je=(De=this.props).onAudioExtractPreviewChange)==null||je.call(De,{mediaUpload:this.state.audioExtractPreviewMediaUpload}))},this.checkForNewUploads=ee=>{var $,J,j,Z,ne,ie;(ee.mediaUpload!==this.props.mediaUpload||ee.mediaUploadId!==this.props.mediaUploadId)&&this.setState({mediaUpload:($=this.props.mediaUpload)!=null?$:null,mediaUploadId:(J=this.props.mediaUploadId)!=null?J:null}),(ee.audioExtractMediaUpload!==this.props.audioExtractMediaUpload||ee.audioExtractMediaUploadId!==this.props.audioExtractMediaUploadId)&&this.setState({audioExtractMediaUpload:(j=this.props.audioExtractMediaUpload)!=null?j:null,audioExtractMediaUploadId:(Z=this.props.audioExtractMediaUploadId)!=null?Z:null}),(ee.audioExtractPreviewMediaUpload!==this.props.audioExtractPreviewMediaUpload||ee.audioExtractPreviewMediaUploadId!==this.props.audioExtractPreviewMediaUploadId)&&this.setState({audioExtractPreviewMediaUpload:(ne=this.props.audioExtractPreviewMediaUpload)!=null?ne:null,audioExtractPreviewMediaUploadId:(ie=this.props.audioExtractPreviewMediaUploadId)!=null?ie:null})},this.state={mediaUploadId:q.mediaUploadId,mediaUpload:q.mediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1},this.updateTranscodingTimeout=null,this.syncMediaUploadTimeout=null,this.syncAudioExtractMediaUploadTimeout=null,this.syncAudioExtractPreviewMediaUploadTimeout=null,this.syncingMediaUpload=!1,this.syncingAudioExtractMediaUpload=!1,this.syncingAudioExtractPreviewMediaUpload=!1}componentDidMount(){this.syncUploads()}componentWillUnmount(){this.clearSyncMediaUploadTimeouts(),this.stopUpdatingTranscodingTime()}componentDidUpdate(q,z){this.checkTranscodeStates(z),this.checkForNewUploads(q)}getMediaUploadId(){return this.state.mediaUploadId}stopUpdatingTranscodingTime(){clearTimeout(this.updateTranscodingTimeout),this.updateTranscodingTimeout=null}getEstimatedTranscodingTime(){let q=1,z=0,ee=new Date().getTime();const{mediaUpload:$}=this.state;if(($==null?void 0:$.state)==="uploaded"&&$.uploaded_at&&$.duration&&$.duration>0){const J=this.props.mediaType==="video"?N:U,j=this.props.mediaType==="video"?V:W,Z=Math.max(j,$.duration*J)*1e3,ne=Math.max(0,Date.now()-new Date($.uploaded_at).getTime()),ie=Math.max(0,Z-ne);q=Math.max(0,1-ie/Z),this.state.timeLeft&&this.state.timeLeft<ie&&this.state.estimatedTimeLeftAt-Date.now()<5e3?(z=this.state.timeLeft,ee=this.state.estimatedTimeLeftAt):z=ie}return{estimatedTimeLeftAt:ee,percentComplete:q,timeLeft:z}}render(q,z){return console.error("render must be implemented by child class"),null}}class H extends v.Z{constructor(q,z){if(super(q,z),this.onUploadClicked=ee=>D(this,null,function*(){const $=this.input||ee;((0,E.isIE)()||(0,E.isFirefox)())&&$.click(),this.trackUploadClicked()}),this.uploadToS3=ee=>D(this,null,function*(){var $,J,j,Z,ne,ie,oe,re,ae;if(($=this.state)!=null&&$.preuploading||(J=this.state)!=null&&J.uploading)return;if((Z=(j=this.props).onUploadStarted)==null||Z.call(j),this.setState({preuploading:!0}),ee.size>l.MAX_MEDIA_FILE_SIZE){alert(`${this.props.mediaType.toUpperCase()} file too large. Your file is ${(0,l.formatBytes)(ee.size)}; the maximum is ${(0,l.formatBytes)(l.MAX_MEDIA_FILE_SIZE)}.  Try encoding at a lower bitrate.`),this.setState({preuploading:!1});return}if(!this.props.postId){if(!this.props.setPostId){console.error("missing postId and cannot set postId");return}yield(ie=(ne=this.props).setPostId)==null?void 0:ie.call(ne)}this.setState({durationPromise:(0,E.getVideoBlobDuration)(ee)});let se;try{const De=this.props.mediaType==="video"?"/api/v1/video/upload":"/api/v1/audio/upload";se=yield i().post(De).query({post_id:this.props.postId,filetype:ee.type,fileSize:ee.size,fileName:`${ee==null?void 0:ee.name}`}),(0,g.j)(g.FP.MEDIA_UPLOAD_CREATED,{media_type:this.props.mediaType,file_size:ee.size,file_type:ee.type,post_id:this.props.postId})}catch(De){this.onError({upload_state:"preupload"});return}const{mediaUpload:fe,multipartUploadId:le,multipartUploadUrls:Ae}=se.body;if(!this.context.getConfigFor("enable_video_upload_improvements"))this.setState({preuploading:!1,mediaUpload:fe,multipartUploadId:le}),(0,g.j)(g.FP.MEDIA_UPLOAD_STARTED,{media_upload_id:fe.id,media_type:this.props.mediaType,post_id:this.props.postId}),x(H.prototype,this,"uploadFile").call(this,ee,null,{urls:Ae,method:"PUT",withCredentials:!1,useFormData:!1,mediaUpload:fe});else{const De=((oe=fe==null?void 0:fe.parts)!=null?oe:[]).map(je=>je.etag).filter(Boolean);fe.state==="created"&&De.length===Ae.length?(this.setState({mediaUpload:fe,mediaUploadId:fe.id}),yield this.initTranscode(fe,De)):fe.state==="uploaded"||fe.state==="transcoded"?(this.setState({mediaUpload:null,multipartUploadId:null}),this.resetUpload(),(ae=(re=this.props).onUpload)==null||ae.call(re,fe,"")):(this.setState({preuploading:!1,mediaUpload:fe,multipartUploadId:le,existingEtags:De}),(0,g.j)(g.FP.MEDIA_UPLOAD_STARTED,{media_upload_id:fe.id,media_type:this.props.mediaType,post_id:this.props.postId}),x(H.prototype,this,"uploadFile").call(this,ee,null,{urls:Ae,method:"PUT",withCredentials:!1,useFormData:!1,mediaUpload:fe}))}}),this.onFileSelected=ee=>D(this,null,function*(){var $,J;this.setState({recording:!1}),ee=ee||((J=($=this.input)==null?void 0:$.files)==null?void 0:J[0]),this.input&&(this.input.value=""),ee&&this.uploadToS3(ee)}),this.onComplete=()=>D(this,null,function*(){var ee,$,J;const j=(ee=this.state.uploading)==null?void 0:ee.status;if(!j||j<200||j>=400){this.onError();return}(0,g.j)(g.FP.MEDIA_UPLOAD_COMPLETED,{media_upload_id:this.state.mediaUpload.id,post_id:this.props.postId});const Z=[...($=this.state.existingEtags)!=null?$:[],...(J=this.state.uploadingXhrs)==null?void 0:J.map(ne=>ne.getResponseHeader("Etag")).filter(Boolean)];yield this.initTranscode(this.state.mediaUpload,Z)}),this.initTranscode=(ee,$)=>D(this,null,function*(){var J,j;let Z=null;try{Z=yield this.state.durationPromise}catch(ne){console.error("Failed to fetch video duration:",ne)}try{const ne=yield i().post(`/api/v1/${this.props.mediaType}/upload/${ee.id}/transcode`).send({duration:Z,multipart_upload_id:ee.multipart_upload_id,multipart_upload_etags:$});this.setState({mediaUpload:null,audioExtractMediaUpload:null,multipartUploadId:null}),this.resetUpload(),(j=(J=this.props).onUpload)==null||j.call(J,ne.body,"")}catch(ne){throw alert((0,E.getNetworkErrorMessage)(ne)),this.onError({upload_state:"transcoding"}),ne}}),this.onPartUploadStarted=(ee,$,J)=>D(this,null,function*(){var j;const Z=ee.id,ne=J+1;((j=ee==null?void 0:ee.parts)!=null?j:[]).find(ie=>ie.part_number===ne)||(yield i().post(`/api/v1/video/upload/${Z}/parts`).send({part_number:ne}))}),this.onPartUploadCompleted=(ee,$,J)=>D(this,null,function*(){var j;const Z=ee.id,ne=J+1,ie=(j=$.getResponseHeader("Etag"))!=null?j:"";yield i().put(`/api/v1/video/upload/${Z}/parts/${ne}`).send({etag:ie})}),!["video","audio"].includes(q.mediaType))throw new Error(`unsupported media type: ${q.mediaType}`);this.accepts=q.mediaType==="video"?M:y,this.fudgeFactor=.9,this.chunkSize=l.MAX_MEDIA_UPLOAD_CHUNK_SIZE,q.initialFile&&this.onFileSelected(this.props.initialFile)}componentDidUpdate(q){this.props.initialFile!==q.initialFile&&this.onFileSelected(this.props.initialFile)}trackUploadClicked(){}onError({upload_state:q="uploading",customMessage:z}={}){var ee,$,J;(0,g.j)(g.FP.MEDIA_UPLOAD_FAILED,{upload_state:q,media_upload_id:(ee=this.state.mediaUpload)==null?void 0:ee.id,post_id:this.props.postId}),(J=($=this.props).onUploadCanceled)==null||J.call($),super.onError({upload_state:q},z)}render(q,z){return console.error("render must be implemented by child class"),null}}H.contextType=_.QA},70241:(K,f,e)=>{"use strict";var t=e(6400),a=e(30396),i=e(79752),c=e(45587),p=e(24285),l=e(94184),v=e(24350),_=e(57557),g=e(80569),E=e(71171),S=e(20501),O=e(83322),A=e(39419),u=e(13045),o=e(48960),s=e(14105),w=e(53940),P=e(29354),C=e(28079),x=e(98661),D=e(84040),y=e(62246),M=e(43887);function T({children:ae}){const se="post-it-portal";let fe=document.getElementById(se);return fe===null&&(fe=document.createElement("div"),fe.setAttribute("id",se),fe.setAttribute("style","position: fixed; right: 0px; bottom: 0px; z-index: 1"),document.body.appendChild(fe)),fe?createPortal(ae,fe):null}const R=({isOpen:ae,children:se,className:fe})=>{const le=useRef(null);return useEffect(()=>{ae&&le.current.focus()},[le,ae]),ae&&h(T,null,h("div",{className:cn("tw-absolute tw-bottom-0 tw-right-0 tw-mx-4 tw-mb-4 tw-w-[calc(100vw_-_2rem)] tw-rounded-lg tw-border tw-border-solid tw-border-substack-detail tw-bg-substack-bg tw-shadow-lg sm:tw-right-4 sm:tw-mx-0 sm:tw-w-[400px]",fe),ref:le},se))},F=({title:ae,isOpen:se=!1,onClose:fe,disabled:le,onComplete:Ae,className:De,children:je})=>h(Transition.Root,{show:se,as:Fragment},h(Dialog,{as:"div",className:cn("tw-relative tw-z-50",De),onClose:fe},h("div",{className:"tw-fixed tw-inset-0"}),h("div",{className:"tw-fixed tw-inset-0 tw-overflow-hidden"},h("div",{className:"tw-absolute tw-inset-0 tw-overflow-hidden"},h("div",{className:"tw-pointer-events-none tw-fixed tw-inset-y-0 tw-right-0 tw-flex tw-max-w-full tw-pl-10"},h(Transition.Child,{as:Fragment,enter:"tw-transform tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-translate-x-full",enterTo:"tw-translate-x-0",leave:"tw-transform tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-translate-x-0",leaveTo:"tw-translate-x-full"},h(Dialog.Panel,{className:"tw-pointer-events-auto tw-w-screen tw-max-w-md"},h("div",{className:"tw-flex tw-h-full tw-flex-col tw-overflow-y-scroll tw-bg-white tw-pb-6 tw-shadow-xl"},h("div",{className:"tw-flex tw-min-h-0 tw-flex-1 tw-flex-col tw-overflow-y-scroll tw-py-6"},h("div",{className:"tw-px-4 sm:tw-px-6"},h("div",{className:"tw-flex tw-items-start tw-justify-between"},h(Text.H3,{weight:"bold"},ae),h("div",{className:"tw-ml-3 tw-flex tw-h-7 tw-items-center"},h(IconButton,{size:32,"aria-label":"Close",fill:"empty",onClick:fe},h(X,{className:"tw-h-6 tw-w-6","aria-hidden":"true"}))))),h("div",{className:"tw-relative tw-mt-6 tw-flex-1 tw-px-4 sm:tw-px-6"},je)),h("div",{className:"tw-flex tw-flex-shrink-0 tw-justify-end tw-border tw-border-b-0 tw-border-l-0 tw-border-r-0 tw-border-solid tw-border-substack-detail"},h(ModalFooter,{primaryButton:h(Button,{priority:"primary",fill:"filled",onClick:Ae,disabled:le},"Insert"),secondaryButton:h(Button,{priority:"secondary",fill:"outline",onClick:fe},"Cancel")})))))))))),N=null,U=null,V=null,W={uploadIcon:"frontend-editor-plugins-menu-ImageGalleryModal-module__uploadIcon--pHh_p",bodyContainer:"frontend-editor-plugins-menu-ImageGalleryModal-module__bodyContainer--HwiiK",inputSection:"frontend-editor-plugins-menu-ImageGalleryModal-module__inputSection--oDDx4",fileUpload:"frontend-editor-plugins-menu-ImageGalleryModal-module__fileUpload--_lgRp",inline:"frontend-editor-plugins-menu-ImageGalleryModal-module__inline--e1xhN",images:"frontend-editor-plugins-menu-ImageGalleryModal-module__images--ow_pw",image:"frontend-editor-plugins-menu-ImageGalleryModal-module__image--peG6j",removeImage:"frontend-editor-plugins-menu-ImageGalleryModal-module__removeImage--i8g8h",heicConversion:"frontend-editor-plugins-menu-ImageGalleryModal-module__heicConversion--TJibb",removeIcon:"frontend-editor-plugins-menu-ImageGalleryModal-module__removeIcon--Mgpgl",size1:"frontend-editor-plugins-menu-ImageGalleryModal-module__size1--aPp83",size2:"frontend-editor-plugins-menu-ImageGalleryModal-module__size2--VcC5T",size4:"frontend-editor-plugins-menu-ImageGalleryModal-module__size4--FTPRZ"};var L=Object.defineProperty,k=Object.defineProperties,H=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,ee=(ae,se,fe)=>se in ae?L(ae,se,{enumerable:!0,configurable:!0,writable:!0,value:fe}):ae[se]=fe,$=(ae,se)=>{for(var fe in se||(se={}))q.call(se,fe)&&ee(ae,fe,se[fe]);if(G)for(var fe of G(se))z.call(se,fe)&&ee(ae,fe,se[fe]);return ae},J=(ae,se)=>k(ae,H(se)),j=(ae,se,fe)=>new Promise((le,Ae)=>{var De=Be=>{try{Je(fe.next(Be))}catch(st){Ae(st)}},je=Be=>{try{Je(fe.throw(Be))}catch(st){Ae(st)}},Je=Be=>Be.done?le(Be.value):Promise.resolve(Be.value).then(De,je);Je((fe=fe.apply(ae,se)).next())});const Z=9,ne="image/heic",ie=({image:ae,onRemove:se})=>{const{attributes:fe,listeners:le,setNodeRef:Ae,transform:De,transition:je}=useSortable({id:ae.id});return h(FlexBox,$($({className:css.image,alignItems:"center",justifyContent:"center",ref:Ae,style:{transform:CSS.Transform.toString(De),transition:je}},fe),le),h(FlexBox,{padding:12,justifyContent:"center",alignItems:"center",className:css.removeImage,onClick:se},h(Trash,{size:16,className:css.removeIcon})),h("img",{src:ae.src}))},oe=ae=>{const se=Z-ae;switch(ae){case 0:return"Add up to 9 images";case Z:return"";default:return`Add up to ${se} more ${pluralize(se,"image",{just_word:!0})}`}},re=({isOpen:ae,onClose:se,onInsertGallery:fe,onUpdateGallery:le,editor:Ae,editingCurrentSelection:De})=>{const[je,Je]=useState([]),[Be,st]=useState({}),[ht,gt]=useState(new Set),[Xe,Re]=useState([]),[Ne,ke]=useState([]),[ot,Dt]=useState(""),[ln,ct]=useState(""),[Oe,Se]=useState(!1),[Ze,Fe]=useState(!1),[Ke,et]=useState({}),[Qe,$e]=useState(new Set),Te=useToast(),te=useSensors(useSensor(PointerSensor,{activationConstraint:{delay:100,tolerance:10}}),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates}));useEffect(()=>{if(De){const Pe=Ae.view.state.selection.node,{gallery:Ie}=Pe.attrs,ze=Ie.images.map(tt=>J($({},tt),{id:uuid()}));Je(ze.map(tt=>tt.type===ne?J($({},tt),{src:imginary(tt.src,200)}):tt)),gt(new Set(ze.map(tt=>tt.id))),st(keyBy(ze,"id")),Dt(Ie.caption),ct(Ie.alt)}},[De]);const ue=()=>{Ne.forEach(Pe=>Pe.abort()),Xe.forEach(Pe=>Pe.abort()),Re([]),ke([]),Se(!1),Fe(!1),we()},we=()=>{xe(),se()},me=Pe=>{const{active:Ie,over:ze}=Pe;Ie.id!==ze.id&&Je(tt=>{const Le=tt.findIndex(on=>on.id===Ie.id),It=tt.findIndex(on=>on.id===ze.id);return arrayMove(tt,Le,It)})},Ee=Pe=>j(void 0,null,function*(){if(Pe.length+je.length>Z){Te.popToast(tt=>h(Toast,J($({},tt),{text:"Image gallery is limited to 9 images"})));return}const Ie=[],ze=[];for(const tt of Array.from(Pe)){if(tt.type===ne){ze.push(tt);continue}const Le=yield getDataUrlFromFile(tt);Ie.push({file:tt,src:Le,id:uuid()})}if(ze.length){Fe(!0);const tt=[];for(const on of ze){const zt=yield getDataUrlFromFile(on);tt.push(request.post("/api/v1/image").send({image:zt}))}Re(tt);const It=(yield Promise.all(tt)).map((on,zt)=>({type:on.body.contentType,src:on.body.url,id:uuid(),file:ze[zt]}));$e(new Set(It.map(on=>on.id))),et(keyBy(It,"id")),Ie.push(...It.map(on=>J($({},on),{src:imginary(on.src,200)}))),Fe(!1)}Je(tt=>[...tt,...Ie])}),he=Pe=>{if(je.length<=1)Je([]);else{const Ie=je[Pe];ht.has(Ie.id)&&st(ze=>omit(ze,[Ie.id])),Je(ze=>[...ze.slice(0,Pe),...ze.slice(Pe+1)])}},xe=()=>{ke([]),Je([]),gt(new Set),st({}),$e(new Set),et({}),Dt(""),ct("")},Ve=useCallback(()=>j(void 0,null,function*(){Se(!0);try{const Pe=[];for(const tt of je)if(ht.has(tt.id)){const Le=Be[tt.id],{type:It,src:on}=Le;Pe.push(Promise.resolve({body:{contentType:It,url:on}}))}else if(Qe.has(tt.id)){const Le=Ke[tt.id],{type:It,src:on}=Le;Pe.push(Promise.resolve({body:{contentType:It,url:on}}))}else{const Le=request.post("/api/v1/image").send({image:tt.src});ke(It=>[...It,Le]),Pe.push(Le)}const ze={images:(yield Promise.all(Pe)).map(tt=>({type:tt.body.contentType,src:tt.body.url})),caption:ot,alt:ln};if(je.length===1)ze.staticGalleryImage=ze.images[0];else{ke([]);const tt=request.post("/api/v1/image-gallery").send({gallery:ze});ke([tt]);const{body:Le}=yield tt;ze.staticGalleryImage={type:Le.contentType,src:Le.url}}De?le(ze):fe(ze),Se(!1),we()}catch(Pe){Pe.code!=="ABORTED"&&(Se(!1),Te.popToast(Ie=>h(Toast,J($({},Ie),{text:"Failed to upload gallery images"}))),console.error(Pe))}}),[je,ot,ln]);return h(PostIt,{isOpen:ae},h(PostItHeader,{isModal:!1,as:"h3",title:"Image gallery",description:oe(je.length),includeClose:!0,onClose:we}),h(PostItBody,null,h(FlexColumn,{alignItems:"center",gap:16,className:css.bodyContainer},je.length>0&&!Ze&&h(FlexBox,{className:cn(css.images,css[`size${je.length}`]),wrap:"wrap",gap:4,alignItems:"start",justifyContent:"start"},h(DndContext,{sensors:te,collisionDetection:closestCenter,onDragEnd:me},h(SortableContext,{items:je.map(Pe=>Pe.id),strategy:rectSortingStrategy},je.map((Pe,Ie)=>h(ie,{image:Pe,key:Pe.id,onRemove:()=>he(Ie)}))))),je.length!==Z&&h(FlexRow,{justifyContent:"center",style:{width:"100%"},alignItems:"center"},Ze?h(FlexRow,{alignItems:"center",justifyContent:"center",gap:12,className:css.heicConversion},h(Text,{color:"secondary"},"Converting HEIC images"),h(Loader,{type:"circular"})):h(FilePicker,{multiple:!0,onFileSelected:Ee,dropCTA:"Drop image files here",className:cn(css.fileUpload,!!je.length&&css.inline),addMode:!!je.length})),!!je.length&&h(Fragment,null,h(FlexColumn,{justifyContent:"start",className:css.inputSection,gap:8},h(Text.H4,{weight:"bold"},"Caption"),h(TextInput,{placeholder:"Add gallery caption",value:ot,onChange:Pe=>Dt(Pe.target.value)})),h(FlexColumn,{justifyContent:"start",className:css.inputSection,gap:8},h(Text.H4,{weight:"bold"},"Alt text"),h(TextInput,{placeholder:"Describe images",value:ln,onChange:Pe=>ct(Pe.target.value)}))))),h(Divider,{paddingX:16,paddingY:0}),h(PostItFooter,{primaryButton:h(FlexRow,{alignItems:"center",gap:8},h(Button,{priority:"primary-theme",onClick:Ve,disabled:!je.length||je.length>Z||Oe},De?"Update":"Insert")),secondaryButton:h(FlexRow,{justifyContent:Oe?"space-between":"end",alignItems:"center",flex:"grow"},Oe&&h(FlexRow,{gap:8,alignItems:"center",flex:"grow"},h(Loader,{size:"sm",type:"circular"}),Oe&&h(Text.Meta,null,"Loading")),h(Button,{priority:"secondary",onClick:ue},"Cancel"))}))}},50301:(K,f,e)=>{"use strict";var t=e(6400),a=e(98661),i=e(30396),c=e(23279),p=e.n(c),l=e(23493),v=e.n(l),_=e(80569),g=e.n(_),E=e(7922),S=e(70754),O=e(96789),A=Object.defineProperty,u=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(k,H,G)=>H in k?A(k,H,{enumerable:!0,configurable:!0,writable:!0,value:G}):k[H]=G,x=(k,H)=>{for(var G in H||(H={}))w.call(H,G)&&C(k,G,H[G]);if(s)for(var G of s(H))P.call(H,G)&&C(k,G,H[G]);return k},D=(k,H)=>u(k,o(H)),y=(k,H,G)=>new Promise((q,z)=>{var ee=j=>{try{J(G.next(j))}catch(Z){z(Z)}},$=j=>{try{J(G.throw(j))}catch(Z){z(Z)}},J=j=>j.done?q(j.value):Promise.resolve(j.value).then(ee,$);J((G=G.apply(k,H)).next())});const M=typeof window!="undefined"?e(58751):null,T=4,R=15,F=540,N="random",U=380,V=k=>k&&k.toLowerCase().trim()||N,W=({open:k,onAfterClose:H,onSelectStockImage:G})=>{const[q,z]=useState(""),[ee,$]=useState(null),[J,j]=useState({}),[Z,ne]=useState(!1),[ie,oe]=useState(!1),[re,ae]=useState(null),se=useRef(null),fe=useRef(null),le=useRef(null),Ae=useRef(null),De=useRef(!1),je=re&&re.screen<=F?2:3,Je=re?Math.floor((re.content-T*(je-1))/je):0;useEffect(()=>{const Ne=()=>{const ke=parseInt(window.getComputedStyle(fe.current).getPropertyValue("width"),10),ot=window.innerWidth;ae({content:ke,screen:ot})};return k&&(se.current.open(),window.addEventListener("resize",Ne),setTimeout(()=>{Ne(),fe.current.focus()},50)),()=>{$(null),z(""),window.removeEventListener("resize",Ne)}},[k]);const Be=useCallback(()=>y(void 0,null,function*(){if(!ee||!ee.hasMore||De.current)return;De.current=!0;const Ne=V(q),ke=yield request.get("/api/v1/stock-photos").query({search:Ne,offset:ee.results.length,limit:R}),ot=D(x({},ee),{results:[...ee.results,...ke.body.results],hasMore:ke.body.hasMore});$(ot),j(Dt=>D(x({},Dt),{[Ne]:ot})),De.current=!1}),[ee,q]);useEffect(()=>{const Ne=throttle(ot=>{const{scrollTop:Dt,clientHeight:ln,scrollHeight:ct}=ot.target;Dt>ct-ln-U&&Be()},200,{leading:!1}),ke=le.current;return k&&(ke==null||ke.addEventListener("scroll",Ne)),()=>{ke==null||ke.removeEventListener("scroll",Ne)}},[k,Be]),useEffect(()=>{var Ne;!M||!ee||!Je||(ee.results.length===0||Z||!k?((Ne=Ae.current)==null||Ne.destroy(),Ae.current=null):Ae.current?(Ae.current.reloadItems(),Ae.current.layout()):setTimeout(()=>{Ae.current=new M(".insert-image-modal-images",{itemSelector:".insert-image-modal-item",transitionDuration:0,gutter:T})},50))},[ee,Z,Je,k]);const st=useCallback(Ne=>y(void 0,null,function*(){const ke=V(Ne);if(J[ke]){ne(!1),$(J[ke]),le.current.scrollTop=0;return}try{const ot=yield request.get("/api/v1/stock-photos").query({search:ke,offset:0,limit:R}),Dt={results:ot.body.results,hasMore:ot.body.hasMore,term:Ne};ne(!1),$(Dt),j(ln=>D(x({},ln),{[ke]:Dt})),le.current.scrollTop=0}catch(ot){ne(!0)}}),[J]),ht=useCallback(debounce(st,400),[st]);useEffect(()=>{k&&!ee&&st(N)},[st,k,ee]);const gt=Ne=>y(void 0,null,function*(){z(Ne),yield ht(Ne)}),Xe=Ne=>y(void 0,null,function*(){oe(!0),yield request.post("/api/v1/stock-photos").send({downloadLocation:Ne.links.download_location}),G({url:Ne.urls.regular,width:Ne.width,height:Ne.height,description:Ne.alt_description,userName:Ne.user.name,userHref:Ne.user.links.html}),oe(!1),se.current.close()}),Re=document.querySelector(".editor");return Re?createPortal(h("div",{onMouseDown:Ne=>{Ne.stopPropagation()}},h(PopupModal,{ref:se,closePill:!0,className:"insert-media-modal insert-image-modal force-light-theme",onClose:H},h("h3",{className:"insert-media-modal-header"},"Search images"),h("div",{className:"form new-form"},h("input",{className:"insert-image-modal-search",ref:fe,type:"text","aria-label":"Search",placeholder:"Search...",value:q,onChange:Ne=>{gt(Ne.target.value)}})),h("div",{className:"insert-image-modal-byline"},h(UnsplashIcon,{height:14})," Powered by Unsplash"),h("div",{className:"insert-image-modal-body",ref:le},Z?h("div",{className:"insert-image-modal-empty"},"There was an error searching photos. Please try again later."):ee&&ee.results.length>0?h("div",{className:"insert-image-modal-images"},ee.results.map(Ne=>h("div",{key:Ne.id,className:"insert-image-modal-item"},h("img",{src:Ne.urls.small,alt:Ne.alt_description,width:Je,height:Ne.height/Ne.width*Je}),h("div",{className:"insert-image-modal-item-footer"},h("div",{className:"insert-image-modal-item-text"},h("div",{className:"insert-image-modal-item-title"},Ne.description),h("div",{className:"insert-image-modal-item-name"},Ne.user.name)),h(Button,{className:"btn btn-secondary btn-small btn-translucent-border",disabled:ie,onClick:()=>{Xe(Ne)}},h("span",null,"Insert")))))):ee&&ee.results.length===0?h("div",{className:"insert-image-modal-empty"},"No results for \u201C",ee.term,"\u201D"):null))),Re):null};var L=null},535:(K,f,e)=>{"use strict";var t=e(6400),a=e(30396),i=e(23493),c=e.n(i),p=e(28488),l=e(58592),v=e(3258),_=e(84040),g=e(51126),E=e(43887),S=e(92630),O=e(9736),A=e(11870);const u=c()((s,w)=>{s({mediaUploadId:w==null?void 0:w.id,duration:w==null?void 0:w.duration,mediaUpload:w})},1e3,{trailing:!1}),o=({droppedFile:s,open:w,pub:P,postId:C,onSave:x,onClose:D,setPostId:y})=>{const[M,T]=useState(s!=null?s:null),[R,F]=useState(null),[N,U]=useState(!1),{iString:V}=useI18N();useEffect(()=>{T(s)},[s]);const W=()=>{N&&!confirm("Your audio will be discarded, are you sure?")||(track(EVENTS.AUDIO_MODAL_CANCEL_CLICKED,{has_media_upload:!!R}),L())},L=()=>{F(null),T(null),D()},k=(R==null?void 0:R.state)!=="transcoded";return h(Drawer,{title:V(AudioFeature.Embed),isOpen:w,onClose:W,primaryButton:h(Tooltip,{disabled:!k,text:"Audio needed"},h(Button,{priority:"primary-theme",fill:"filled",onClick:()=>{track(EVENTS.AUDIO_MODAL_INSERT_CLICKED),u(x,R),L()},disabled:k},"Insert")),secondaryButton:h(Button,{priority:"secondary",fill:"outline",onClick:W},"Cancel")},h(Text.B4,{paddingBottom:24},AudioFeatureDescription.Embed),h(FlexColumn,{padding:16,radius:12,border:"detail"},h(Text.H4,{translated:!0,weight:"bold",paddingBottom:16},"Create audio"),h(AudioEditor,{initialFile:M,feature:AudioFeature.Embed,mediaType:"audio",pub:P,postId:C,setPostId:y,onChange:({mediaUpload:H})=>{U(!1),F(H),T(null)},onUploadStarted:()=>{U(!0)},onUploadCanceled:()=>{U(!1)},mediaUpload:R,mediaUploadId:R==null?void 0:R.id,onRemoveLegacyUrl:null})))}},54265:(K,f,e)=>{"use strict";var t=e(6400),a=e(30396),i=e(23493),c=e.n(i),p=e(3258),l=e(66219),v=e(84040),_=e(51126),g=e(43887),E=e(92630),S=e(9736),O=e(66024);const A=c()((o,s)=>{o({mediaUploadId:s==null?void 0:s.id,duration:s==null?void 0:s.duration,mediaUpload:s})},1e3,{trailing:!1}),u=({editorDroppedFile:o,mediaUploadId:s,open:w,pub:P,postId:C,onSave:x,onClose:D,setPostId:y})=>{const[M,T]=useState(o!=null?o:null),[R,F]=useState(null),[N,U]=useState(!1),{mediaUpload:V,loading:W,error:L}=useMediaUpload({mediaUploadId:s});s&&!R&&V&&F(V),useEffect(()=>{T(o)},[o]);const k=()=>{(N||(R==null?void 0:R.state)==="uploaded"||(R==null?void 0:R.state)==="transcoded")&&!confirm("Your video will be discarded, are you sure?")||(track(EVENTS.VIDEO_MODAL_CANCEL_CLICKED,{has_media_upload:!!R}),H())},H=()=>{F(null),T(null),D()},G=(R==null?void 0:R.state)!=="transcoded";return h(Drawer,{title:"Embed video",isOpen:w,onClose:k,primaryButton:h(Tooltip,{disabled:!G,text:"Video needed"},h(Button,{priority:"primary-theme",fill:"filled",onClick:()=>{track(EVENTS.VIDEO_MODAL_INSERT_CLICKED),A(x,R),H()},disabled:G},"Insert")),secondaryButton:h(Button,{priority:"secondary",fill:"outline",onClick:k},"Cancel")},L&&h(Text,{color:"error"},L),W?h("div",null,"Loading..."):h(Fragment,null,h(Text.B4,{paddingBottom:24},"Upload or record a video file embedded into the text."),h(FlexColumn,{padding:16,radius:12,border:"detail"},h(Text.H4,{weight:"bold",paddingBottom:16},"Create video"),h(VideoEditor,{initialFile:M,mediaType:"video",pub:P,videoFeature:"embed",postId:C,setPostId:y,onChange:({mediaUpload:q})=>{U(!1),F(q),T(null)},onUploadStarted:()=>{U(!0)},onUploadCanceled:()=>{U(!1)},mediaUpload:R,mediaUploadId:R==null?void 0:R.id}))))}},19708:(K,f,e)=>{"use strict";e.d(f,{oj:()=>ht});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(80569),l=e(33816),v=e(20501),_=e(83322),g=e(58592),E=e(13509),S=e(45353),O=e(99758),A=e(14780),u=e(17590),o=e(4212),s=e(85103),w=e(30105),P=e(28488),C=e(32076),x=e(3258),D=e(39776),y=e(8479),M=e(39419),T=e(13045),R=e(76902),F=e(70241),N=e(50301),U=e(56129),V=e(535);const W={voiceoverIcon:"frontend-editor-tiptap_menu-module__voiceoverIcon--VMLK0"};var L=Object.defineProperty,k=Object.defineProperties,H=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,ee=(ke,ot,Dt)=>ot in ke?L(ke,ot,{enumerable:!0,configurable:!0,writable:!0,value:Dt}):ke[ot]=Dt,$=(ke,ot)=>{for(var Dt in ot||(ot={}))q.call(ot,Dt)&&ee(ke,Dt,ot[Dt]);if(G)for(var Dt of G(ot))z.call(ot,Dt)&&ee(ke,Dt,ot[Dt]);return ke},J=(ke,ot)=>k(ke,H(ot)),j=(ke,ot,Dt)=>new Promise((ln,ct)=>{var Oe=Fe=>{try{Ze(Dt.next(Fe))}catch(Ke){ct(Ke)}},Se=Fe=>{try{Ze(Dt.throw(Fe))}catch(Ke){ct(Ke)}},Ze=Fe=>Fe.done?ln(Fe.value):Promise.resolve(Fe.value).then(Oe,Se);Ze((Dt=Dt.apply(ke,ot)).next())});const Z=()=>h("div",{className:"tiptap-divider"}),ne=(ke,ot,Dt)=>{(0,x.j)(x.FP.EDITOR_MENU_ICON_CLICKED,{button:Dt}),ot(ke)},ie=({onClick:ke,enable:ot,children:Dt,active:ln,title:ct,trackedName:Oe})=>(0,t.h)("button",{className:c()("tiptap-menu-button",{active:ln,disabled:!ot}),onClick:Se=>ne(Se,ke,Oe||ct),disabled:!ot,title:ct},Dt);ie.defaultProps={enable:!0,active:!1};const oe=({children:ke})=>h("div",{className:"tiptap-menu-button-group"},ke),re=({testId:ke="",children:ot})=>h("div",{className:"tiptap-dropdown tiptap-menu-button","data-testid":ke},ot,h(CaretDownIcon,{height:5,className:"tiptap-dropdown-caret"})),ae=({active:ke,children:ot,onClick:Dt,icon:ln,onMouseEnter:ct,onMouseLeave:Oe,enable:Se,testId:Ze,title:Fe,trackedName:Ke})=>(0,t.h)("div",{"data-testid":Ze,onMouseEnter:ct,onMouseLeave:Oe,onClick:et=>ne(et,Dt,Ke||Fe),className:c()("tiptap-menu-button",{active:ke,disabled:!Se}),title:Fe},ln&&(0,t.h)("div",{className:"tiptap-dropdown-item-icon"},(0,t.h)("span",{style:{fontSize:20,width:24,display:"flex",alignItems:"center",justifyContent:"center"}},ln)),ot);ae.defaultProps={enable:!0,active:!1,icon:null,onMouseEnter:()=>null,onMouseLeave:()=>null,onClick:()=>null};const se=({level:ke})=>{const ot=[18,16,14,13,12,11];return h("span",{style:{fontSize:ot[ke-1]}},"H",ke)},fe=({editor:ke})=>h("div",{className:"tiptap-dropdown-content"},h(ae,{onClick:()=>ke==null?void 0:ke.chain().focus().setParagraph().run(),active:ke==null?void 0:ke.isActive("paragraph"),icon:h(ParagraphIcon,null),title:"Change to paragraph",trackedName:"paragraph"},"Normal Text"),[1,2,3,4,5,6].map(ot=>h(ae,{onClick:()=>ke==null?void 0:ke.chain().focus().toggleHeading({level:ot}).run(),active:ke==null?void 0:ke.isActive("heading",{level:ot}),icon:h(se,{level:ot}),title:`Heading ${ot}`},"Heading ",ot))),le=({editor:ke})=>h(Dropdown,{renderDropdown:()=>h(fe,{editor:ke})},h(re,null,"Style")),Ae=({editor:ke,publication:ot,postId:Dt,get_coupons:ln,insert_coupon:ct,hideSharePostAndComment:Oe=!1,writerReferralCode:Se,customSpecialOfferCommand:Ze=null,customCustomButtonCommand:Fe=null})=>{var Ke;const{result:et}=useFetch({pathname:"/api/v1/meetings/config",initialResult:{meetings:{enabled:!1}},auto:getConfigFor("meetings_v1")&&(ot==null?void 0:ot.payments_state)==="enabled",deps:[]}),{iString:Qe,iTemplate:$e}=useI18N(),{getSettingFor:Te}=usePublicationSettings();return h("div",{className:"tiptap-dropdown-content"},h(ae,{onClick:()=>ke.chain().focus().insertSubscribeButton(ot).run(),title:"Insert subscribe button",trackedName:"button_subscribe",testId:"insert-subscribe-button"},getSubscribeText(ot,{now:!0})),h(ae,{onClick:()=>ke.chain().focus().insertSubscribeButtonWithPreamble(ot).run(),title:Qe("Insert subscribe button with caption"),trackedName:"button_subscribe_with_preamble"},Qe("Subscribe with caption")),h(ae,{onClick:Fe||(()=>ke.chain().focus().insertCustomButton({scrollParent:"editor",parentClass:"more-dropdown",TextField,openPrompt,publication:ot}).run()),title:Qe("Insert custom button"),trackedName:"button_custom"},Qe("Custom button")),getConfigFor("meetings_v1")&&(ot==null?void 0:ot.payments_state)==="enabled"&&((Ke=et==null?void 0:et.meetings)==null?void 0:Ke.enabled)&&h(ae,{onClick:()=>{var te;return ke.chain().focus().insertMeeting({publication:ot,meetingsConfig:et==null?void 0:et.meetings,usePublicationName:(te=getConfigFor("meetings_embed_publication_name"))!=null?te:!1}).run()},title:Qe("Book meeting"),trackedName:"button_book_meeting"},Qe("Book meeting")),!Oe&&h(ae,{onClick:()=>ke.chain().focus().insertSharePostButton(ot).run(),title:Qe("Insert share post button"),trackedName:"button_share_post"},Qe("Share this post")),!Oe&&h(ae,{onClick:()=>ke.chain().focus().insertCaptionedShareButton(ot).run(),title:Qe("Insert share button with caption"),trackedName:"button_share_with_preamble"},Qe("Share post with caption")),h(ae,{onClick:()=>ke.chain().focus().insertSharePubButton(ot).run(),title:Qe("Insert share publication button"),trackedName:"button_share_publication"},$e`Share ${ot==null?void 0:ot.name}`),h(ae,{testId:"get-app-btn",onClick:()=>ke.chain().focus().insertInstallSubstackAppEmbed(ot).run(),title:Qe("Get the app"),trackedName:"install_substack_app"},Qe("Get the app")),!Oe&&h(ae,{onClick:()=>ke.chain().focus().insertCommentsButton(ot).run(),title:Qe("Insert link to comments"),trackedName:"button_insert_comment"},Qe("Leave a comment")),Te("reader_referrals_enabled")&&h(ae,{onClick:()=>ke.chain().focus().insertReferralButton(ot).run(),title:Qe("Insert referral button"),trackedName:"button_referral"},Qe("Refer a friend")),Se&&h(ae,{onClick:()=>ke.chain().focus().insertCaptionedWriterReferralButton({writerReferralCode:Se,publication:ot,postId:Dt}).run(),title:Qe("Insert start a Substack button"),trackedName:"button_writer_referral"},Qe("Writer referral")),h(ae,{onClick:()=>ke.chain().focus().insertGiftButton(ot).run(),title:getSubscriptionSentenceWithCustomWords(ot,()=>$e`Insert gift subscription button`,te=>`Insert gift ${te.subscription} button`),trackedName:"button_gift"},getSubscriptionSentenceWithCustomWords(ot,()=>$e`Give a gift subscription`,te=>`Give a gift ${te.subscription}`)),h(ae,{onClick:()=>{const te=(ot==null?void 0:ot.parent_publication)||ot;ke.chain().focus().insertGroupSubscriptionButton({publication:te}).run()},title:getSubscriptionSentenceWithCustomWords(ot,()=>$e`Insert group subscription button`,te=>`Insert group ${te.subscription} button`),trackedName:"button_group_subscription"},getSubscriptionSentenceWithCustomWords(ot,()=>$e`Get a group subscription`,te=>`Get a group ${te.subscription}`)),h(ae,{onClick:Ze||(()=>{const te=(ot==null?void 0:ot.parent_publication)||ot;return ke.chain().focus().insertSpecialOfferButton({couponPub:te,scrollParent:"editor",parentClass:"more-dropdown",get_coupons:ln,insert_coupon:ct,SelectField,openPrompt,closePrompt,getNetworkErrorMessage}).run()}),title:Qe("Insert special offer button"),trackedName:"button_special_offer"},Qe("Special offer")),h(ae,{onClick:()=>ke.chain().focus().insertDonateButton(ot).run(),title:Qe("Insert donate button"),trackedName:"button_donate"},Qe("Donate a subscription")),!!(ot!=null&&ot.threads_v2_enabled)&&h(ae,{testId:"visit-thread-btn",onClick:()=>ke.chain().focus().insertVisitThreadButton(ot).run(),title:Qe("Join the subscriber chat"),trackedName:"button_visit_thread"},Qe("Join the subscriber chat")))},De=({editor:ke,setPostPaidForPaywall:ot,setPostId:Dt,isAdhocEmail:ln,pub:ct,customInsertRuleCommand:Oe=void 0,canAddPaywall:Se=!0,isEditorV2:Ze=!1})=>{const[Fe,Ke]=useState(!1);return h("div",{className:"tiptap-dropdown-content"},h(ae,{onClick:Oe||(()=>ke.chain().focus().setHorizontalRule().run()),icon:h(DividerIcon,null),title:"Insert divider",trackedName:"horizontal_rule"},"Divider"),h(ae,{enable:ke==null?void 0:ke.can().insertFootnote(),onClick:()=>{ke.chain().focus().insertFootnote().run()},icon:h(FootnoteIcon,null),title:"Insert footnote",trackedName:"footnote"},"Footnote"),h(ae,{enable:ke==null?void 0:ke.can().toggleNode("preformatted_text_block","paragraph"),onClick:()=>ke.chain().focus().toggleNode("preformatted_text_block","paragraph").run(),icon:h(PoetryBlockIcon,null),title:"Insert poetry block",trackedName:"preformatted_text_block"},"Poetry block"),h(gt,{editor:ke}),h(ae,{enable:Se&&(ke==null?void 0:ke.can().addPaywall(ot))&&!ln,onClick:()=>ke.chain().focus().addPaywall(ot).run(),icon:h(PaywallIcon,null),title:"Insert paywall",testId:"add-paywall-button",trackedName:"paywall"},"Paywall"),h(ae,{enable:ke==null?void 0:ke.can().toggleCodeBlock(),onClick:()=>{ke.chain().focus().toggleCodeBlock().run()},icon:h(CodeBlockIcon,null),title:"Insert code block",trackedName:"code_block"},"Code block"),h(ae,{onClick:()=>j(void 0,null,function*(){const et=yield Dt();if(!et)return;const Qe=yield request.post("/api/v1/poll").send({post_id:et});ke.chain().focus().insertPoll({id:Qe.body.id}).run()}),icon:h(PollIcon,null),title:"Insert poll",trackedName:"poll"},"Poll"),!Ze&&h(SiteConfigGate,{configKey:"editor_v2"},h(ae,{onClick:()=>j(void 0,null,function*(){const et=yield Dt();if(!et){console.error("could not set postId, cannot convert to new editor post");return}if(confirm("This will open the post in the new editor. You can always come back to the old editor if you need to.")){try{Ke(!0),yield(()=>new Promise(Qe=>setTimeout(Qe,3e3)))(),yield convertPostToEditor2({postId:et})}catch(Qe){alert("Failed to open this post in the new editor. Please refresh the page and try again. If the problem persists, please contact support."),console.error("Failed to convert document to v2",Qe),Ke(!0);return}finally{Ke(!1)}window.location.href=`${getCollabPostUrl({pub:ct,postId:et,params:{v1_conversion:Date.now()}})}`}}),icon:h(HeartHandshake,null),title:"Use new editor",trackedName:"convert_to_collaborative"},"Convert to new editor")),h(Modal,{isOpen:Fe},h(FlexColumn,{justifyContent:"center",alignItems:"center",paddingY:40,paddingX:16,gap:24},h(Loader,null),h(Text.B2,{font:"meta",textAlign:"center"},"Transferring draft to editor v2. This should only take a few seconds."))))},je=({editor:ke,publication:ot,get_coupons:Dt,insert_coupon:ln,hideSharePostAndComment:ct=!1,writerReferralCode:Oe,postId:Se,customSpecialOfferCommand:Ze=null,customCustomButtonCommand:Fe=null})=>h(Dropdown,{className:"button-dropdown","data-testid":"button-picker-menu",renderDropdown:()=>h(Ae,{editor:ke,publication:ot,get_coupons:Dt,insert_coupon:ln,hideSharePostAndComment:ct,writerReferralCode:Oe,postId:Se,customSpecialOfferCommand:Ze,customCustomButtonCommand:Fe})},h(re,{testId:"button-picker"},"Buttons")),Je=({editor:ke,setPostPaidForPaywall:ot,setPostId:Dt,isAdhocEmail:ln,pub:ct,customInsertRuleCommand:Oe=void 0,canAddPaywall:Se=!0,isEditorV2:Ze=!1})=>h(Dropdown,{className:"more-dropdown",renderDropdown:()=>h(De,{isAdhocEmail:ln,editor:ke,pub:ct,setPostPaidForPaywall:ot,setPostId:Dt,customInsertRuleCommand:Oe,canAddPaywall:Se,isEditorV2:Ze})},h(re,{testId:"more-submenu"},"More")),Be=({editor:ke,insertImageFile:ot,publication:Dt,postId:ln,setPostId:ct})=>{const[Oe,Se]=useState(!1),[Ze,Fe]=useState(!1),[Ke,et]=useState(!1),[Qe,$e]=useState(!1),Te=te=>{te.preventDefault(),$e(!0),Fe(!0)};return useEffect(()=>(document.addEventListener("editSelectedImageGallery",Te),()=>{document.removeEventListener("editSelectedImageGallery",Te)}),[]),h(Fragment,null,h(Dropdown,{renderDropdown:()=>h("div",{className:"tiptap-dropdown-content"},h(ae,{onClick:()=>ke.chain().focus().insertImage(ot).run(),icon:h(ImagePlus,null),title:"Add image",trackedName:"image_upload"},"Add image"),h(ae,{onClick:()=>Fe(!0),icon:h(LayoutGrid,null),title:"Add Gallery",trackedName:"image_gallery"},"Add gallery"),h(ae,{onClick:()=>{Se(!0)},icon:h(SearchIcon,null),title:"Stock photo",trackedName:"image_unsplash"},"Stock photo"),h(ae,{onClick:()=>{et(!0)},icon:h(Wand,null),title:"Generate",trackedName:"image_generate"},"Generate"))},h(ie,{onClick:()=>null,title:"Insert image"},h(ImageIcon,null))),h(InsertImageModal,{open:Oe,onAfterClose:()=>{Se(!1)},onSelectStockImage:te=>{ke.chain().focus().insertUnsplashImage(te).run()}}),h(InsertImageGalleryModal,{pub:Dt,editor:ke,editingCurrentSelection:Qe,isOpen:Ze,onInsertGallery:te=>{ke.chain().focus().insertImageGallery({gallery:te}).run()},onUpdateGallery:te=>{ke.chain().focus().updateImageGallery({gallery:te}).run()},onClose:()=>{$e(!1),Fe(!1)}}),h(ChooseGeneratedImageModal,{open:Ke,onAfterClose:()=>et(!1),onImageSelected:null,insertionPointSelector:".editor",onUrlSelected:te=>j(void 0,[te],function*({url:ue,prompt:we}){const me=yield request.post("/api/v1/image").send({image:ue});ke.chain().focus().insertImageFromUrl({url:me.body.url,caption:we}).run(),et(!1)})}))},st=({editor:ke})=>h(Fragment,null,h(Dropdown,{renderDropdown:()=>h("div",{className:"tiptap-dropdown-content"},h(ae,{enable:ke==null?void 0:ke.can().toggleBlockquote(),onClick:()=>ke==null?void 0:ke.chain().focus().toggleBlockquote().run(),active:ke==null?void 0:ke.isActive("blockquote"),title:ke!=null&&ke.isActive("blockquote")?"Unquote":"Quote",icon:h(BlockquoteIcon,{className:"tiptap-blockquote"}),trackedName:"blockquote"},"Block quote"),h(ae,{enable:ke==null?void 0:ke.can().togglePullquote(),onClick:()=>{ke==null||ke.chain().focus().togglePullquote().run()},active:ke==null?void 0:ke.isActive("pullquote"),title:ke!=null&&ke.isActive("pullquote")?"Unquote":"Quote",icon:h(PullquoteIcon,{className:"tiptap-pullquote"}),trackedName:"pullquote"},"Pull quote"))},h(ie,{onClick:()=>null,title:"Insert quote"},h(BlockquoteIcon,{className:"tiptap-blockquote"})))),ht=()=>{if(window)return window.LatexModalEvent||(window.LatexModalEvent=new EventTarget),window.LatexModalEvent},gt=({editor:ke})=>{var ot;const[Dt,ln]=useState(!1),[ct,Oe]=useState(null);return useEffect(()=>{const Se=({detail:Ze})=>{Oe(Ze.node),ln(!0)};return ht().addEventListener("open",Se),()=>{ht().removeEventListener("open",Se)}},[Dt,ct]),useEffect(()=>{const Se=({detail:Ze})=>{Ze.node.attrs=J($({},Ze.node.attrs),{persistentExpression:Ze.persistentExpression}),Ze.node.attrs.dirty=!0,Oe(Ze.node)};return ht().addEventListener("close",Se),()=>{ht().removeEventListener("close",Se)}},[Dt,ct]),h(Fragment,null,h(ae,{enable:ke==null?void 0:ke.can().insertLatex({expression:""}),onClick:()=>ke.chain().focus().insertLatex({expression:""}).run(),icon:h(Sigma,null),title:"Insert LaTeX block",trackedName:"latex_block"},"LaTeX block (Beta)"),h(TipTapEditLatexModal,{isOpen:Dt,onClose:()=>{ln(!1)},node:ct,persistentExpression:((ot=ct==null?void 0:ct.attrs)==null?void 0:ot.persistentExpression)||""}))},Xe=({editor:ke,publication:ot,postId:Dt,setPostId:ln,voiceoverEnabled:ct,audioEmbedsEnabled:Oe,showAudioEduTooltip:Se,showingDrawerName:Ze,setShowDrawer:Fe})=>{const{iString:Ke}=useI18N();return h(Fragment,null,h(SimplePopover,{disabled:!Se,className:"bottom inverse",content:"Add a voiceover or embed audio files",showFirst:Se},h(Dropdown,{renderDropdown:()=>h("div",{className:"tiptap-dropdown-content"},ct&&h(ae,{onClick:()=>{Fe("voiceover")},title:Ke(AudioFeatureDescription.Voiceover),trackedName:"voiceover",icon:h(VoiceoverIcon,{height:22,className:css.voiceoverIcon})},Ke("Voiceover")),Oe&&h(ae,{title:Ke(AudioFeatureDescription.Embed),trackedName:"audio_embed",onClick:()=>{Fe("audioEmbed")},icon:h(PlayCircle,null)},Ke("Audio embed")))},h(ie,{onClick:()=>null,title:"Insert audio"},h(PodcastPencraftIcon,null)))),h(AudioEmbedDrawer,{open:Ze==="audioEmbed",pub:ot,postId:Dt,onClose:()=>Fe(null),onSave:({mediaUploadId:et,duration:Qe})=>{ke.chain().focus().insertAudio({mediaUploadId:et,duration:Qe}).run()},setPostId:ln}))},Re=({editor:ke,publication:ot,postId:Dt,isAdhocEmail:ln,insertImageFile:ct,get_coupons:Oe,insert_coupon:Se,setPostPaidForPaywall:Ze,voiceoverEnabled:Fe,audioEmbedsEnabled:Ke,showAudioEduTooltip:et,setPostId:Qe,hideSharePostAndComment:$e=!1,showingDrawerName:Te,setShowDrawer:te,disabled:ue=!1,writerReferralCode:we})=>{if(!ke)return;const me=getModKeyLabel(),Ee=(ke==null?void 0:ke.isActive("orderedList"))||(ke==null?void 0:ke.isActive("bulletList"));return h("div",{className:classnames("tiptap-menu",{disabled:ue})},h("div",{className:"tiptap-menu-content"},h(oe,null,h(ie,{onClick:()=>ke.chain().focus().undo().run(),enable:ke.can().undo(),title:`Undo ${me}Z`,trackedName:"undo"},h(UndoIcon,null)),h(ie,{onClick:()=>ke.chain().focus().redo().run(),enable:ke.can().redo(),title:`Redo ${me}\u21E7Z`,trackedName:"redo"},h(RedoIcon,null))),h(Z,null),h(oe,null,h(le,{editor:ke})),h(Z,null),h(oe,null,h(ie,{onClick:()=>ke.chain().focus().toggleBold().run(),enable:ke.can().toggleBold(),active:ke.isActive("bold"),title:`Bold ${me}B`,trackedName:"toggle_bold"},h(BoldIcon,null)),h(ie,{onClick:()=>ke.chain().focus().toggleItalic().run(),enable:ke.can().toggleItalic(),active:ke.isActive("italic"),title:`Italic ${me}I`,trackedName:"toggle_italic"},h(ItalicIcon,null)),h(ie,{onClick:()=>ke.chain().focus().toggleStrike().run(),enable:ke.can().toggleStrike(),active:ke.isActive("strike"),title:`Strikethrough ${me}\u21E7X`,trackedName:"toggle_strikethrough"},h(StrikethroughIcon,null)),h(ie,{onClick:()=>ke.chain().focus().toggleCode().run(),enable:ke.can().toggleCode(),active:ke.isActive("code"),title:"Code",trackedName:"toggle_code_mark"},h(CodeIcon,null))),h(Z,null),h(oe,null,h(ie,{onClick:()=>ke.chain().addLink().run(),title:`Link ${me}K`,trackedName:"link"},h(LinkIcon,null)),h(Be,{editor:ke,insertImageFile:ct,publication:ot,postId:Dt,setPostId:Qe}),!ln&&(Fe||Ke)&&h(Xe,{editor:ke,publication:ot,postId:Dt,setPostId:Qe,voiceoverEnabled:Fe,audioEmbedsEnabled:Ke,showAudioEduTooltip:et,showingDrawerName:Te,setShowDrawer:te}),!ln&&h(InsertVideoButton,{editor:ke,pub:ot,postId:Dt!=null?Dt:null,setPostId:Qe}),h(st,{editor:ke})),h(Z,null),h(oe,null,h(ie,{enable:ke==null?void 0:ke.can().toggleBulletList(),onClick:()=>ke.chain().focus().toggleBulletList().run(),active:ke==null?void 0:ke.isActive("bulletList"),title:"Bulleted list",trackedName:"bullet_list"},h(BulletListIcon,null)),h(ie,{enable:ke==null?void 0:ke.can().toggleOrderedList(),onClick:()=>ke.chain().focus().toggleOrderedList().run(),active:ke==null?void 0:ke.isActive("orderedList"),title:"Numbered list",trackedName:"ordered_list"},h(OrderedListIcon,null)),Ee&&h(Fragment,null,h(Z,null),h(ie,{enable:ke==null?void 0:ke.can().sinkListItem("listItem"),onClick:()=>ke.chain().focus().sinkListItem("listItem").run(),title:"Indent",trackedName:"indent_list"},h(IndentIcon,null)),h(ie,{enable:ke==null?void 0:ke.can().liftListItem("listItem"),onClick:()=>ke.chain().focus().liftListItem("listItem").run(),title:"Unindent",trackedName:"deindent_list"},h(DeindentIcon,null)))),h(Z,null),h(oe,null,h(je,{editor:ke,publication:ot,get_coupons:Oe,insert_coupon:Se,hideSharePostAndComment:$e,writerReferralCode:we,postId:Dt})),h(Z,null),h(oe,null,h(Je,{isAdhocEmail:ln,editor:ke,setPostPaidForPaywall:Ze,setPostId:Qe,pub:ot}))))},Ne=ke=>{try{return Re(ke)}catch(ot){return window.Sentry&&window.Sentry.captureException(ot),h(Fragment,null)}}},66024:(K,f,e)=>{"use strict";var t=e(6400),a=e(98661),i=e(94184),c=e(80569),p=e(39776),l=e(83322),v=e(7922),_=e(26059),g=e(96789),E=e(87046),S=e(3258),O=e(39419),A=e(86730),u=e(51126),o=e(43887);const s={cross:"frontend-pencraft-Alert-module__cross--TTLdJ"},w=({title:Qe,description:$e,onDismiss:Te,learnMoreUrl:te})=>h(FlexRow,{bg:"secondary",padding:16,gap:16,radius:6},h(Text,{color:"secondary"},h(Info,{size:20})),h(FlexColumn,{flex:"grow"},h(Text,{font:"text",size:14,lineHeight:20,weight:"semibold",color:"secondary",paddingBottom:4},Qe),h(Text.B4,{color:"secondary"},$e," ",te&&h("a",{href:te},"Learn more"))),h(Text,{color:"secondary"},h(Cross,{className:css.cross,size:20,onClick:Te})));var P=e(84040),C=e(76235),x=e(12908),D=e(16395),y=e(24980),M=e(87875),T=e(15045),R=e(93830),F=e(48093),N=e(16796),U=e(30298),V=e(84988),W=e(4605),L=e(13045);const k={videoEditorEmbed:"frontend-editor-video_editor-module__videoEditorEmbed--U0rDT",videoUploaderEmbed:"frontend-editor-video_editor-module__videoUploaderEmbed--aZuZC",videoUploaderProgressEmbed:"frontend-editor-video_editor-module__videoUploaderProgressEmbed--N24yk",videoUploaderProgressHero:"frontend-editor-video_editor-module__videoUploaderProgressHero--Vv7qK",videoPortal:"frontend-editor-video_editor-module__videoPortal--BQnsr",contextMenu:"frontend-editor-video_editor-module__contextMenu--LK3TN",uploadThumbnailButton:"frontend-editor-video_editor-module__uploadThumbnailButton--VpEUM",updatingThumbnailLoader:"frontend-editor-video_editor-module__updatingThumbnailLoader--ECNqa",resumingVideoUploadAlert:"frontend-editor-video_editor-module__resumingVideoUploadAlert--i5byZ"};var H=Object.defineProperty,G=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,ee=(Qe,$e,Te)=>$e in Qe?H(Qe,$e,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Qe[$e]=Te,$=(Qe,$e)=>{for(var Te in $e||($e={}))q.call($e,Te)&&ee(Qe,Te,$e[Te]);if(G)for(var Te of G($e))z.call($e,Te)&&ee(Qe,Te,$e[Te]);return Qe},J=(Qe,$e)=>{var Te={};for(var te in Qe)q.call(Qe,te)&&$e.indexOf(te)<0&&(Te[te]=Qe[te]);if(Qe!=null&&G)for(var te of G(Qe))$e.indexOf(te)<0&&z.call(Qe,te)&&(Te[te]=Qe[te]);return Te},j=(Qe,$e,Te)=>new Promise((te,ue)=>{var we=he=>{try{Ee(Te.next(he))}catch(xe){ue(xe)}},me=he=>{try{Ee(Te.throw(he))}catch(xe){ue(xe)}},Ee=he=>he.done?te(he.value):Promise.resolve(he.value).then(we,me);Ee((Te=Te.apply(Qe,$e)).next())});function Z(Qe,$e={}){var Te=$e,{timeout:te=5e3}=Te,ue=J(Te,["timeout"]);toast(Qe,$({timeout:te},ue),document.querySelector(".bottom-bar"))}class ne extends null{constructor($e,Te){super($e,Te),this.title="",this.step=null,this.timeTrackInteractive=!0,this.showPlayButton=!0,this.showUploadButton=!0,this.showCaptionsButton=!1,this.onDeactivate=()=>{},this.onTime=te=>{},this.onCancel=()=>{},this.onConfirm=()=>j(this,null,function*(){return null}),this.onCanPlay=()=>{var te;(te=this.props.videoPlayer)!=null&&te.player&&this.props.videoPlayer.player.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA&&this.setState({loadingFrame:!1})},this.onPlay=()=>{var te,ue;this.setState({isPlaying:!((ue=(te=this.props.videoPlayer)==null?void 0:te.player)!=null&&ue.paused)})},this.onPause=()=>{var te,ue;this.setState({isPlaying:!((ue=(te=this.props.videoPlayer)==null?void 0:te.player)!=null&&ue.paused)})},this.onTimeUpdate=()=>{var te;if(!((te=this.props.videoPlayer)!=null&&te.player)){console.error("onTimeUpdate called, videoPlayer is not set");return}const ue=this.props.videoPlayer.player.currentTime;this.setState({time:ue}),this.onTime(ue)},this.togglePlayback=()=>{var te;if(!((te=this.props.videoPlayer)!=null&&te.player)){console.error("togglePlayback, videoPlayer is not set");return}this.state.isPlaying?this.props.videoPlayer.player.pause():this.props.videoPlayer.player.play()},this.toggleCaptions=()=>{},this.setTime=te=>{var ue;this.setState({time:te}),this.onTime(te),(ue=this.props.videoPlayer)!=null&&ue.player&&(this.props.videoPlayer.player.currentTime=te,this.props.videoPlayer.player.readyState<HTMLMediaElement.HAVE_CURRENT_DATA&&this.setState({loadingFrame:!0}))},this.confirmClicked=()=>j(this,null,function*(){var te,ue,we,me,Ee,he;if(!(this.state.disabled||this.state.isUploading)){this.setState({disabled:!0});try{const xe=yield this.onConfirm();xe?(ue=(te=this.props).onUpdate)==null||ue.call(te,xe):(me=(we=this.props).onCancel)==null||me.call(we,xe),(he=(Ee=this.props).onComplete)==null||he.call(Ee)}catch(xe){console.error(xe),alert(getNetworkErrorMessage(xe))}this.setState({disabled:!1})}}),this.cancelClicked=()=>{var te,ue,we,me;this.setState({customThumbnail:null}),this.onCancel(),(ue=(te=this.props).onCancel)==null||ue.call(te),(me=(we=this.props).onComplete)==null||me.call(we)},this.renderTimeTrack=({mediaUpload:te},{time:ue})=>{var we;return h("input",{type:"range",disabled:!this.timeTrackInteractive,min:0,max:te.duration,step:(we=this.step)!=null?we:void 0,value:(ue||0).toString(),onInput:me=>this.setTime(Number(me.target.value))})},this.state={loadingFrame:!1,isPlaying:!1,time:null,disabled:!1,isUploading:!1}}onActivate(){}componentDidUpdate($e){var Te;$e.active!==this.props.active&&(this.props.active?((Te=this.props.videoPlayer)==null||Te.onVideoReachEnd({resetTime:!1}),this.bindPlayerListener(),this.onActivate()):(this.onDeactivate(),this.unbindPlayerListener()))}componentWillUnmount(){this.props.active&&this.onDeactivate(),this.unbindPlayerListener()}bindPlayerListener(){var $e,Te,te,ue,we,me,Ee,he,xe,Ve;this.setState({isPlaying:!((Te=($e=this.props.videoPlayer)==null?void 0:$e.player)!=null&&Te.paused)}),(ue=(te=this.props.videoPlayer)==null?void 0:te.player)==null||ue.addEventListener("canplay",this.onCanPlay),(me=(we=this.props.videoPlayer)==null?void 0:we.player)==null||me.addEventListener("play",this.onPlay),(he=(Ee=this.props.videoPlayer)==null?void 0:Ee.player)==null||he.addEventListener("pause",this.onPause),(Ve=(xe=this.props.videoPlayer)==null?void 0:xe.player)==null||Ve.addEventListener("timeupdate",this.onTimeUpdate)}unbindPlayerListener(){var $e,Te,te,ue,we,me,Ee,he;(Te=($e=this.props.videoPlayer)==null?void 0:$e.player)==null||Te.removeEventListener("canplay",this.onCanPlay),(ue=(te=this.props.videoPlayer)==null?void 0:te.player)==null||ue.removeEventListener("play",this.onPlay),(me=(we=this.props.videoPlayer)==null?void 0:we.player)==null||me.removeEventListener("pause",this.onPause),(he=(Ee=this.props.videoPlayer)==null?void 0:Ee.player)==null||he.removeEventListener("timeupdate",this.onTimeUpdate)}render($e,Te){const te=createRef(),ue=me=>j(this,null,function*(){var Ee,he;if(!((he=(Ee=te==null?void 0:te.current)==null?void 0:Ee.files)!=null&&he.length))return;const xe=te.current.files[0],Ve=URL.createObjectURL(xe);this.setState({isUploading:!0,customThumbnail:Ve}),yield this.onUpload(xe),this.setState({isUploading:!1})}),we=()=>{var me;(me=te.current)!=null&&me.value&&(te.current.value=null),this.cancelClicked()};return h("div",{className:cn("video-editor-controls-wrap",{active:$e.active}),style:{background:Te.customThumbnail?`url('${Te.customThumbnail}') center / contain black no-repeat`:"initial"}},Te.updatingThumbnail?h("div",{className:css.updatingThumbnailLoader},h(Loader,{type:"circular"})):h("div",{className:"video-editor-controls"},h(FlexBox,{flex:"grow",gap:16},h(FlexRow,{gap:16},this.showPlayButton&&h("button",{disabled:Te.disabled,className:cn("video-editor-controls-button","play-pause",{paused:!Te.isPlaying}),onClick:this.togglePlayback},Te.isPlaying?h(PodcastEmbedPauseIcon,null):h(PlayIcon,null)),this.showCaptionsButton&&h("button",{disabled:Te.disabled,className:cn("video-editor-controls-button",{primary:Te.showCaptions}),onClick:this.toggleCaptions},h(Subtitles,null)),this.showUploadButton&&h("button",{disabled:Te.disabled||Te.isUploading,className:cn("video-editor-controls-button","play-pause",css.uploadThumbnailButton)},h(UploadIcon,null),h("input",{type:"file",accept:"image/*",className:"video-thumbnail-input",disabled:Te.disabled,onChange:ue,ref:te}))),h("div",{className:cn("video-editor-controls-time",{loading:Te.loadingFrame,interactive:!Te.customThumbnail&&this.timeTrackInteractive})},this.renderTimeTrack(this.props,this.state)),h(FlexRow,{gap:16},h("button",{disabled:Te.disabled,className:"video-editor-controls-button cancel",onClick:we},h(CloseIcon,null)),h("button",{disabled:Te.disabled||Te.isUploading,className:"video-editor-controls-button primary",onClick:this.confirmClicked},Te.isUploading?h(SpinnerIcon,null):h(SimpleCheckmarkIcon,null))),h("div",{className:"video-editor-controls-title"},this.title))))}}var ie=Object.defineProperty,oe=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,se=(Qe,$e,Te)=>$e in Qe?ie(Qe,$e,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Qe[$e]=Te,fe=(Qe,$e)=>{for(var Te in $e||($e={}))re.call($e,Te)&&se(Qe,Te,$e[Te]);if(oe)for(var Te of oe($e))ae.call($e,Te)&&se(Qe,Te,$e[Te]);return Qe},le=(Qe,$e,Te)=>new Promise((te,ue)=>{var we=he=>{try{Ee(Te.next(he))}catch(xe){ue(xe)}},me=he=>{try{Ee(Te.throw(he))}catch(xe){ue(xe)}},Ee=he=>he.done?te(he.value):Promise.resolve(he.value).then(we,me);Ee((Te=Te.apply(Qe,$e)).next())});class Ae extends null{constructor(){super(...arguments),this.title="Upload thumbnail or choose from timeline",this.step=5,this.onActivate=()=>{this.setTime(this.thumbnailIdToTime(this.props.mediaUpload.thumbnail_id))},this.onDeactivate=()=>{var $e,Te;(Te=($e=this.props.videoPlayer)==null?void 0:$e.player)==null||Te.load()},this.onConfirm=()=>le(this,null,function*(){let $e=0;if(!this.state.customThumbnail&&($e=this.timeToThumbnailId(this.state.time),$e===this.props.mediaUpload.thumbnail_id))return null;const Te={thumbnail_id:$e,custom_thumbnail:!!this.state.customThumbnail};return preloadImage(getMediaUploadThumbnailUrlForPlayer(fe(fe({},this.props.mediaUpload),Te))),this.setState({updatingThumbnail:!0}),yield request.put(`/api/v1/video/upload/${this.props.mediaUpload.id}/thumbnail_id`).send(Te),this.setState({customThumbnail:null,updatingThumbnail:!1}),bottomBarToast(h(Fragment,null,"Thumbnail updated")),Te}),this.onUpload=$e=>le(this,null,function*(){var Te,te;try{const we=(yield request.post(`/api/v1/video/upload/${this.props.mediaUpload.id}/thumbnail_upload_url`).query({fileType:$e.type,fileSize:$e.size})).body.thumbnail_upload_url;yield request.put(we).set("content-type",$e.type).send($e)}catch(ue){console.error(ue),alert(getNetworkErrorMessage(ue));return}this.setTime(0),this.props.mediaUpload.thumbnail_id===0&&(preloadImage(getMediaUploadThumbnailUrlForPlayer(this.props.mediaUpload)),this.setState({customThumbnail:null}),bottomBarToast(h(Fragment,null,"Thumbnail updated")),(te=(Te=this.props).onComplete)==null||te.call(Te))}),this.onCancel=()=>{this.setTime(this.thumbnailIdToTime(this.props.mediaUpload.thumbnail_id))}}thumbnailIdToTime($e){return $e?($e-1)*5:0}timeToThumbnailId($e){return Math.floor($e/5+1)||1}}var De=(Qe,$e,Te)=>new Promise((te,ue)=>{var we=he=>{try{Ee(Te.next(he))}catch(xe){ue(xe)}},me=he=>{try{Ee(Te.throw(he))}catch(xe){ue(xe)}},Ee=he=>he.done?te(he.value):Promise.resolve(he.value).then(we,me);Ee((Te=Te.apply(Qe,$e)).next())});class je extends null{constructor(){super(...arguments),this.timeTrackInteractive=!1,this.setterTime=null,this.onDeactivate=()=>{typeof window!="undefined"&&(document.body.removeEventListener("mousemove",this.onMouseMove,!1),document.body.removeEventListener("mouseup",this.onMouseUp,!1),document.body.removeEventListener("touchmove",this.onTouchMove,!1),document.body.removeEventListener("touchend",this.onTouchEnd,!1),document.body.removeEventListener("touchcancel",this.onTouchEnd,!1),this.setterTime&&this.setterTime.removeEventListener("touchstart",this.onTouchStart))},this.onTime=$e=>{var Te;if(!((Te=this.props.videoPlayer)!=null&&Te.player)){console.error("onTime called, videoPlayer is not set");return}const{start:te,duration:ue}=this.state;$e<te?this.props.videoPlayer.player.currentTime=te:$e>te+ue&&(this.props.videoPlayer.player.paused||this.props.videoPlayer.player.pause(),this.props.videoPlayer.player.currentTime=te)},this.onMouseDown=$e=>{this.setPreview($e.clientX,{setSelectionAnchor:!0})},this.onMouseMove=$e=>{this.setPreview($e.clientX)},this.onMouseUp=$e=>{this.setState({selectionAnchor:null})},this.onTouchStart=$e=>{$e.touches&&$e.touches.length>0&&(this.setState({touching:!0}),this.setPreview($e.touches[0].pageX,{setSelectionAnchor:!0}))},this.onTouchMove=$e=>{this.state.touching&&($e.preventDefault(),$e.touches&&$e.touches.length>0&&this.setPreview($e.touches[0].pageX))},this.onTouchEnd=()=>{this.setState({touching:!1})},this.onConfirm=()=>De(this,null,function*(){return null}),this.setPreview=($e,{setSelectionAnchor:Te=!1}={})=>{var te,ue;if(!this.state.selectionAnchor&&!Te||typeof window=="undefined"||!document.body||!((te=this.setterTime)!=null&&te.getBoundingClientRect))return;const we=document.body.getBoundingClientRect(),me=this.setterTime.getBoundingClientRect(),Ee=me.left-we.left,he=me.right,xe=(Math.max(Ee,Math.min(he,$e))-Ee)/(he-Ee),Ve=this.props.mediaUpload.duration*xe,Pe=Te?Math.abs(this.state.start-Ve)<Math.abs(this.state.start+this.state.duration-Ve)?"start":"duration":this.state.selectionAnchor;let Ie=this.state.start,ze=this.state.duration;const tt=Ie+ze;Pe==="start"?(Ie=Ve,Ie<tt?ze=tt-Ie:ze=0):(Ve<Ie&&(Ie=Ve),ze=Ve-Ie),this.setState({start:Ie,duration:ze,selectionAnchor:Pe});const{time:Le}=this.state;if(!((ue=this.props.videoPlayer)!=null&&ue.player)){console.error("setPreview called, but videoPlayer is not set");return}this.props.videoPlayer.player.paused?this.setTime(Ve):(Le<Ie||Le>Ie+ze)&&(this.props.videoPlayer.player.pause(),this.setTime(Ve))},this.renderTimeTrack=({mediaUpload:$e},Te)=>{const te=Te.start/$e.duration,ue=Te.duration/$e.duration,we=Math.min(Math.max(Te.time,Te.start),Te.start+Te.duration)/$e.duration;return h("div",{ref:me=>this.setterTime=me,className:cn("video-preview-setter-time",{active:!!Te.selectionAnchor}),onMouseDown:this.onMouseDown},h("div",{className:"video-preview-setter-time-cursor",style:{left:`${(100*we).toFixed(3)}%`}}),h("div",{className:"video-preview-setter-time-thumbs",style:{left:`${(100*te).toFixed(3)}%`,width:`${(100*ue).toFixed(3)}%`}}))}}onActivate(){typeof window!="undefined"&&(document.body.addEventListener("mousemove",this.onMouseMove,!1),document.body.addEventListener("mouseup",this.onMouseUp,!1),document.body.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.onTouchEnd,!1),document.body.addEventListener("touchcancel",this.onTouchEnd,!1),this.setterTime&&this.setterTime.addEventListener("touchstart",this.onTouchStart,{passive:!0}))}}var Je=(Qe,$e,Te)=>new Promise((te,ue)=>{var we=he=>{try{Ee(Te.next(he))}catch(xe){ue(xe)}},me=he=>{try{Ee(Te.throw(he))}catch(xe){ue(xe)}},Ee=he=>he.done?te(he.value):Promise.resolve(he.value).then(we,me);Ee((Te=Te.apply(Qe,$e)).next())});class Be extends null{constructor(){super(...arguments),this.title="Edit free version",this.timeTrackInteractive=!1,this.previewSetterTime=null,this.onActivate=()=>{var $e;super.onActivate();const{mediaUpload:Te}=this.props;this.setState({start:($e=Te.preview_start)!=null?$e:0,duration:Te.preview_duration||Math.max(Te.duration/3,1),touching:!1})},this.onConfirm=()=>Je(this,null,function*(){var $e,Te,te;const{mediaUpload:ue}=this.props,{start:we,duration:me}=this.state;if(!!ue.preview_duration==!!me&&Math.floor(ue.preview_start*1e3)===Math.floor(we*1e3)&&Math.floor(ue.preview_duration*1e3)===Math.floor(me*1e3))return null;if(me>0){const Ee={preview_start:we,preview_duration:me};(Te=($e=this.props).onUpdate)==null||Te.call($e),bottomBarToast(h(Fragment,null,"Processing"));let he;try{he=yield request.put(`/api/v1/video/upload/${ue.id}/preview`).send(Ee)}catch(xe){return console.error(xe),bottomBarToast(h(Fragment,null,"Error updating free preview. Please try again.")),null}return this.props.onAudioExtractPreviewMediaUpload({mediaUpload:(te=he==null?void 0:he.body)==null?void 0:te.audioExtractPreviewMediaUpload}),bottomBarToast(h(Fragment,null,"Free preview updated")),Ee}return yield request.delete(`/api/v1/video/upload/${ue.id}/preview`),bottomBarToast(h(Fragment,null,"Free preview removed")),{preview_start:null,preview_duration:null}})}}var st=Object.defineProperty,ht=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,ke=(Qe,$e,Te)=>$e in Qe?st(Qe,$e,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Qe[$e]=Te,ot=(Qe,$e)=>{for(var Te in $e||($e={}))Re.call($e,Te)&&ke(Qe,Te,$e[Te]);if(Xe)for(var Te of Xe($e))Ne.call($e,Te)&&ke(Qe,Te,$e[Te]);return Qe},Dt=(Qe,$e)=>ht(Qe,gt($e)),ln=(Qe,$e,Te)=>new Promise((te,ue)=>{var we=he=>{try{Ee(Te.next(he))}catch(xe){ue(xe)}},me=he=>{try{Ee(Te.throw(he))}catch(xe){ue(xe)}},Ee=he=>he.done?te(he.value):Promise.resolve(he.value).then(we,me);Ee((Te=Te.apply(Qe,$e)).next())});function ct({children:Qe,className:$e}){const Te=useRef(null);if(!Te.current){const te=document.getElementById("video-portal");if(te)Te.current=te;else{const ue=document.createElement("div");ue.setAttribute("id","video-portal"),ue.className=$e||"",document.body.appendChild(ue),Te.current=ue}}return createPortal(Qe,Te.current)}const Oe=100;class Se extends null{constructor($e,Te){var te,ue;super($e,Te),this.videoPlayer=null,this.loadVideoFrame=we=>ln(this,null,function*(){var me,Ee;if(!((me=this.videoPlayer)!=null&&me.player)){console.error("loadVideoFrame called, but videoPlayer not set");return}if(this.videoPlayer.player.readyState<2){let he;const xe=new Promise(Ve=>he=Ve);this.videoPlayer.player.addEventListener("canplay",he),this.videoPlayer.player.load(),yield Promise.race([xe,new Promise(Ve=>setTimeout(Ve,1e3))]),(Ee=this.videoPlayer)==null||Ee.player.removeEventListener("canplay",he)}this.videoPlayer&&(this.videoPlayer.player.currentTime=we),yield new Promise(he=>setTimeout(he,100))}),this.activateThumbnailSetter=()=>ln(this,null,function*(){var we,me;if((we=this.optionsDropdown)==null||we.close(),!this.state.settingThumbnail){if(!this.state.mediaUpload){console.error("activateThumbnailSetter, mediaUpload is not set ");return}(me=this.videoPlayer)!=null&&me.player&&(yield this.loadVideoFrame((this.state.mediaUpload.thumbnail_id-1)*5),this.setState({settingThumbnail:!0,settingPreview:!1}))}}),this.runTranscription=()=>ln(this,null,function*(){request.post(`/api/v1/drafts/${this.props.postId}/transcribe`).send({restart:!0}).then(()=>{console.log("spawned transcription")})}),this.activatePreviewSetter=()=>ln(this,null,function*(){var we,me;if((we=this.optionsDropdown)==null||we.close(),!this.state.settingPreview&&(me=this.videoPlayer)!=null&&me.player){if(!this.state.mediaUpload){console.error("activatePreviewSetter, mediaUpload is not set");return}yield this.loadVideoFrame(this.state.mediaUpload.preview_start||0),this.setState({settingPreview:!0,settingThumbnail:!1})}}),this.removeFreePreview=()=>ln(this,null,function*(){var we;if(!confirm("Remove free preview. Are you sure?"))return;if(!this.state.mediaUpload){console.error("removeFreePreview called, mediaUpload not set");return}const me=ot({},this.state.audioExtractPreviewMediaUpload),{preview_start:Ee,preview_duration:he}=this.state.mediaUpload;(we=this.optionsDropdown)==null||we.close(),this.setState({settingPreview:!1}),this.onMediaUploadUpdated({preview_start:null,preview_duration:null}),this.onAudioExtractPreviewMediaUpload({mediaUpload:null});try{yield request.delete(`/api/v1/video/upload/${this.state.mediaUpload.id}/preview`),bottomBarToast(h(Fragment,null,"Free preview removed"))}catch(xe){this.onMediaUploadUpdated({preview_start:Ee,preview_duration:he}),this.onAudioExtractMediaUpload({mediaUpload:this.state.audioExtractMediaUpload}),this.onAudioExtractPreviewMediaUpload({mediaUpload:me}),alert(getNetworkErrorMessage(xe))}}),this.state={settingThumbnail:!1,settingPreview:!1,mediaUpload:(te=this.props.mediaUpload)!=null?te:null,mediaUploadId:(ue=this.props.mediaUploadId)!=null?ue:null,audioExtractMediaUploadId:$e.audioExtractMediaUploadId,audioExtractMediaUpload:$e.audioExtractMediaUpload||null,estimatedTimeLeftAt:null,timeLeft:0,percentComplete:1,file:this.props.initialFile}}componentDidUpdate($e,Te){var te,ue,we;((te=this.state.mediaUpload)==null?void 0:te.state)==="transcoded"&&((ue=Te.mediaUpload)==null?void 0:ue.state)!==((we=this.state.mediaUpload)==null?void 0:we.state)&&this.activateThumbnailSetter(),this.props.initialFile!==$e.initialFile&&this.setState({file:this.props.initialFile}),super.componentDidUpdate($e,Te)}render({pub:$e,postId:Te,setPostId:te,onUploadStarted:ue,onUploadCanceled:we,videoFeature:me,mediaUpload:Ee,onOpenDrawer:he},{mediaUpload:xe,timeLeft:Ve,settingThumbnail:Pe,settingPreview:Ie,file:ze}){var tt,Le;const It=xe!=null?xe:Ee,on=Pe||Ie;return h("div",{className:cn("video-editor",{[css.videoEditorEmbed]:["embed","podcast","podcastDrawer"].includes(me)})},(It==null?void 0:It.state)==="transcoded"?me==="podcastDrawer"?h(List,{padding:16,border:"detail",radius:6,marginTop:16},h(LargeListItem,{icon:h(Video,null),title:"Uploaded video",subtitle:It.primary_file_size?numberToHumanFileSize(parseInt(It.primary_file_size)):"",action:h(Menu,{layerOptions:{placement:"bottom-end"},trigger:h(IconButton,{size:32,priority:"secondary",fill:"empty",rounded:!1},h(MoreVertical,null))},h(MenuItem,{hiddenInput:h("input",{ref:zt=>this.input=zt,type:"file",accept:acceptableVideoTypes,onChange:zt=>{this.removeUpload({skipConfirm:!0});const $t=zt.target,Bt=$t.files?$t.files[0]:null;this.setState({file:Bt})}})},"Replace"),h(MenuItem,{priority:"destructive",onClick:()=>this.removeUpload()},"Delete"))})):h("div",{className:"video-editor-player"},h(VideoPlayer,{ref:zt=>this.videoPlayer=zt,mediaUpload:It,pub:$e,noPreview:on,noControls:on,noKeyboardShortcuts:on}),h(ThumbnailSetter,{videoPlayer:(tt=this.videoPlayer)!=null?tt:void 0,mediaUpload:It,active:Pe,onUpdate:this.onMediaUploadUpdated,onComplete:()=>this.setState({settingThumbnail:!1})}),h(VideoPreviewSetter,{videoPlayer:(Le=this.videoPlayer)!=null?Le:void 0,mediaUpload:It,active:Ie,onUpdate:this.onMediaUploadUpdated,onComplete:()=>this.setState({settingPreview:!1}),audioExtractMediaUpload:this.state.audioExtractMediaUpload,audioExtractPreviewMediaUpload:this.state.audioExtractPreviewMediaUpload,onAudioExtractPreviewMediaUpload:this.onAudioExtractPreviewMediaUpload}),h(Menu,{layerOptions:{placement:"bottom-end"},trigger:h(IconButton,{size:24,priority:"secondary",className:css.contextMenu,fill:"filled"},h(MoreHorizontal,{size:20}))},me==="podcast"&&h(MenuItem,{onClick:()=>{he==null||he({mediaType:"video"})}},"Edit details"),h(MenuItem,{onClick:()=>{this.activateThumbnailSetter()}},"Choose thumbnail"),h(SiteConfigGate,{configKey:"allow_video_transcription",value:!0},h(MenuItem,{onClick:this.runTranscription},"Transcribe")),["hero","podcast"].includes(me)&&isPaidPub($e)&&h(MenuItem,{onClick:this.activatePreviewSetter},"Edit free version"),["hero","podcast"].includes(me)&&isPaidPub($e)&&It.preview_duration&&It.preview_duration>0&&h(MenuItem,{onClick:this.removeFreePreview},"Remove free version"),["hero","podcast"].includes(me)&&h(MenuItem,{priority:"destructive",onClick:()=>this.removeUpload()},"Remove video"))):["cancelled","error"].includes(It==null?void 0:It.state)?h("div",{className:cn("video-uploader",{[css.videoUploaderEmbed]:["embed","podcast","podcastDrawer"].includes(me)})},h("div",{className:cn("video-uploader-progress",{[css.videoUploaderProgressEmbed]:["embed","podcast"].includes(me)})},h("div",{className:"video-uploader-progress-label error"},"Video upload failed"),h("div",{className:"video-uploader-progress-status"},h(Button,{className:"video-editor-player-close",onClick:()=>this.removeUpload()},h(CloseIcon,null)),h("div",{className:"video-uploader-progress-bar"},h("div",{className:"video-uploader-progress-bar-filled error"}))))):(It==null?void 0:It.state)==="uploaded"?me==="hero"?h(Ze,{msLeft:Ve,onCancel:()=>this.removeUpload()}):h(MediaTranscoder,{timeLeft:Ve,onCancel:()=>this.removeUpload()}):It!=null&&It.id?h("div",{className:cn("video-uploader",{[css.videoUploaderEmbed]:["embed","podcast","podcastDrawer"].includes(me)})},h("div",{className:"video-uploader-progress"},h("div",{className:"video-uploader-progress-label"},"Loading\u2026"))):h(Ke,{initialFile:ze,videoFeature:me,mediaType:"video",postId:Te,onUpload:zt=>{this.onMediaUpload({mediaUpload:zt.mediaUpload}),this.onAudioExtractMediaUpload({mediaUpload:zt.audioExtractMediaUpload})},setPostId:te,onUploadStarted:ue,onUploadCanceled:we}))}}const Ze=({msLeft:Qe,onCancel:$e})=>h("div",{className:"video-uploader"},h("div",{className:"video-uploader-progress"},h("div",{className:"video-uploader-progress-label"},"Video uploaded. Processing\u2026"," ",Qe?`${secondsToLargestUnit(Math.max(Qe/1e3,60),{long:!0,secondsCutoff:30})} remaining`:""),h("div",{className:"video-uploader-progress-status"},h(Button,{className:"video-editor-player-close",onClick:()=>$e()},h(CloseIcon,null)),h("div",{className:"video-uploader-progress-bar"},h("div",{className:"video-uploader-progress-bar-filled transcoding",style:"width: 100%;"}))))),Fe=({onCancel:Qe,percentComplete:$e,msLeft:Te})=>h("div",{className:"video-uploader-progress"},h("div",{className:"video-uploader-progress-label"},"Uploading video\u2026",Te?`${secondsToLargestUnit(Te/1e3,{long:!0,secondsCutoff:30})} remaining`:""),h("div",{className:"video-uploader-progress-status"},h(Button,{className:"video-editor-player-close",onClick:()=>{Qe()}},h(CloseIcon,null)),h("div",{className:"video-uploader-progress-bar"},h("div",{className:"video-uploader-progress-bar-filled",style:`width: ${$e*100}%;`}))));class Ke extends null{constructor($e,Te){super($e,Te),this.videoRecorderModal=null,this.state=Dt(ot({},this.state),{hideVideoInfoPanel:!1})}trackUploadClicked(){track(EVENTS.UPLOAD_VIDEO_CLICKED)}render($e,Te){const{hideVideoInfoPanel:te}=Te,ue=this.getEstimatedTimeLeftMs();return h("div",{className:cn("video-uploader",$e.className,{"with-buttons":!Te.uploading,[css.videoUploaderEmbed]:["embed","podcast","podcastDrawer"].includes($e.videoFeature)})},this.state.existingEtags.length>0&&!te&&Te.uploading&&h("div",{className:css.resumingVideoUploadAlert},h(Alert,{title:"Resuming video upload",description:"Looks like you were uploading this video before. We saved your progress, so we'll resume where we left off.",onDismiss:()=>{this.setState({hideVideoInfoPanel:!0})}})),Te.uploading?$e.videoFeature==="hero"?h(Fe,{msLeft:ue!=null?ue:0,percentComplete:Te.percentComplete,onCancel:()=>{var we,me;confirm("Are you sure you want to cancel the upload?")&&(this.cancelUpload(),(me=(we=this.props).onUploadCanceled)==null||me.call(we))}}):h(MediaUploadProcess,{percentComplete:Te.percentComplete,onCancel:()=>{var we,me;confirm("Are you sure you want to cancel the upload?")&&(this.cancelUpload(),(me=(we=this.props).onUploadCanceled)==null||me.call(we))}}):h(Fragment,null,$e.videoFeature==="hero"?h(PencraftButton,{className:"with-icon video-uploader-button",onClick:this.onUploadClicked,priority:"primary-theme",leftIcon:VideoRecorder.isSupported()?h(Upload,{size:20}):h(Video,null),hiddenInput:h("input",{ref:we=>this.input=we,type:"file",accept:this.props.accepts||this.accepts,onChange:()=>this.onFileSelected()})},"Upload video",VideoRecorder.isSupported()?" file":""):h(PencraftButton,{grow:!0,fill:"outline",priority:"secondary",onClick:()=>this.onUploadClicked,leftIcon:h(Upload,{size:20}),hiddenInput:h("input",{ref:we=>this.input=we,type:"file",accept:this.props.accepts||this.accepts,onChange:()=>this.onFileSelected()})},"Upload"),VideoRecorder.isSupported()&&h(Fragment,null,$e.videoFeature==="hero"?h(PencraftButton,{className:`${$e.videoFeature==="hero"?"primary with-icon video-recorder-PencraftButton":""}`,priority:"primary-theme",leftIcon:h(Video,null),onClick:()=>{var we;return(we=this.videoRecorderModal)==null?void 0:we.open()}},"Record video"):h(PencraftButton,{grow:!0,fill:"outline",priority:"secondary",onClick:()=>{var we;(we=this.videoRecorderModal)==null||we.open(),track(EVENTS.RECORD_EPISODE_AUDIO_CLICKED)},leftIcon:h(Video,null)},"Record"),h(ct,{className:css.videoPortal},h(et,{ref:we=>this.videoRecorderModal=we,onVideoRecorded:we=>this.uploadToS3(we),videoFeature:$e.videoFeature,onRecorderStarted:$e.onRecorderStarted,onRecorderStopped:$e.onRecorderStopped})))),h("div",{style:{position:"absolute",top:"-6px",right:"0",width:"5px",height:"5px",color:"gray",fontSize:"12px"}},"\xB7"))}}class et extends null{constructor($e,Te){super($e,Te),this.startCapturePromise=null,this.videoElement=null,this.recorderUpdateInterval=null,this.onVideoElementLoadedMetadata=()=>{if(!this.videoElement){console.error("onVideoElementLoadedMetadata called, videoElement not set");return}this.videoElement.volume=0,this.videoElement.play(),this.setState({videoLoading:!1})},this.onRecorderStarting=()=>{var te,ue;track(EVENTS.VIDEO_RECORDER_STARTING),this.onRecorderUpdated(),(ue=(te=this.props).onRecorderStarting)==null||ue.call(te)},this.onRecorderStarted=()=>{var te,ue;track(EVENTS.VIDEO_RECORDER_STARTED),this.onRecorderUpdated(),this.recorderUpdateInterval=window.setInterval(()=>this.onRecorderUpdated(),Oe),(ue=(te=this.props).onRecorderStarted)==null||ue.call(te)},this.onRecorderStopping=()=>{var te,ue;track(EVENTS.VIDEO_RECORDER_STOPPING),this.recorderUpdateInterval&&clearInterval(this.recorderUpdateInterval),this.onRecorderUpdated(),(ue=(te=this.props).onRecorderStopping)==null||ue.call(te)},this.onRecorderStopped=te=>{var ue,we,me,Ee;track(EVENTS.VIDEO_RECORDER_STOPPED),this.onRecorderUpdated(),(we=(ue=this.props).onRecorderStopped)==null||we.call(ue,te),te&&(track(EVENTS.VIDEO_RECORDED,{videoType:te.type,videoSize:te.size}),(Ee=(me=this.props).onVideoRecorded)==null||Ee.call(me,te))},this.onRecorderUpdated=()=>{this.setState({recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume})},this.state.videoLoading=!0,this.recorder=new VideoRecorder({aspectRatio:1.7777777777777777,onStarting:this.onRecorderStarting,onStarted:this.onRecorderStarted,onStopping:this.onRecorderStopping,onStopped:this.onRecorderStopped}),this.onRecorderUpdated()}getClassName(){return"video-recorder-modal"}componentWillUnmount(){super.componentWillUnmount(),this.recorder.stopCapture(),this.close()}onBeforeOpen(){this.startCapturePromise||(this.startCapturePromise=this.recorder.startCapture())}onOpen(){return ln(this,null,function*(){track(EVENTS.VIDEO_RECORDER_SHOWN);const $e=this.startCapturePromise;if(this.startCapturePromise=null,!(yield $e)){this.close();return}if(this.recorder.stream instanceof Promise){console.error("onOpen called before stream was ready");return}this.videoElement&&"srcObject"in this.videoElement?this.videoElement.srcObject=this.recorder.stream:this.videoElement.src=URL.createObjectURL(this.recorder.stream)})}onBeforeClose(){if(this.videoElement&&(this.videoElement.pause(),this.videoElement.srcObject=null,this.videoElement.src=null),this.recorder.state===VideoRecorder.STATE.STARTED&&["embed","podcast"].includes(this.props.videoFeature))this.onButtonClick();else if(this.recorder.state!==VideoRecorder.STATE.STARTED)if(this.recorder.state===VideoRecorder.STATE.STARTING){const $e=this.recorder;$e.onStarted=()=>$e.stop({dropRecording:!0})}else this.recorder.stopCapture()}onClose(){track(EVENTS.VIDEO_RECORDER_HIDDEN),this.setState({videoLoading:!0})}onButtonClick(){this.recorder.state===VideoRecorder.STATE.STOPPED?(this.setState({countDown:3}),setTimeout(()=>this.setState({countDown:2}),700),setTimeout(()=>this.setState({countDown:1}),1400),this.recorder.start({startAt:Date.now()+2100})):this.recorder.state===VideoRecorder.STATE.STARTED&&this.recorder.stop({stopCapture:!1})}renderChildren({children:$e},{videoLoading:Te,recorderState:te,recorderDuration:ue,recorderVolume:we,countDown:me}){return h("div",{className:"video-recorder-modal-wrap"},h("video",{ref:Ee=>this.videoElement=Ee,className:"video-recorder-preview",onLoadedMetadata:this.onVideoElementLoadedMetadata}),h("div",{className:`video-recorder-duration ${te}`},te===VideoRecorder.STATE.STOPPED?Te?"Loading\u2026":"Press to record":te===VideoRecorder.STATE.STARTING?`${me||3}`:secondsToHHMMSS(ue||0)),h("div",{className:`video-recorder-button ${te}`,onClick:()=>this.onButtonClick()},h("div",{className:"video-recorder-button-volume",style:`border-width:${20*we}px`}),h("div",{className:"video-recorder-button-inner"})))}}},46505:(K,f,e)=>{"use strict";e.d(f,{E:()=>c});var t=e(6400),a=e(32076),i=e(63270);const c=(0,t.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function p({isAmp:l,isFreeSubscribed:v,isFreemail:_,siteConfigValues:g,children:E,isPledged:S,publicationSettings:O}){return h(c.Provider,{value:{isStatic:!0,isAmp:l,isFreeSubscribed:v!==!1,isFreemail:_,siteConfigValues:g,isPledged:S}},h(SiteConfigsProvider,{siteConfigs:g},h(PublicationSettingsProvider,{settings:O},E)))}},18492:(K,f,e)=>{"use strict";e.d(f,{NS:()=>Qe,_i:()=>Fe,zK:()=>we,i$:()=>ue,YF:()=>he,Bj:()=>Ke,b9:()=>et});var t=e(6400),a=e(94184),i=e.n(a),c=e(39693),p=e(32542),l=e(14531),v=e(6378),_=e(15045),g=e(83322),E=e(45809),S=e(89867),O=e(19696),A=e(68262),u=e(30396),o=e(46505),s=e(82626),w=e(28488),P=e(43887);const C={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var x=Object.defineProperty,D=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,T=(Pe,Ie,ze)=>Ie in Pe?x(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Pe[Ie]=ze,R=(Pe,Ie)=>{for(var ze in Ie||(Ie={}))y.call(Ie,ze)&&T(Pe,ze,Ie[ze]);if(D)for(var ze of D(Ie))M.call(Ie,ze)&&T(Pe,ze,Ie[ze]);return Pe},F=(Pe,Ie)=>{var ze={};for(var tt in Pe)y.call(Pe,tt)&&Ie.indexOf(tt)<0&&(ze[tt]=Pe[tt]);if(Pe!=null&&D)for(var tt of D(Pe))Ie.indexOf(tt)<0&&M.call(Pe,tt)&&(ze[tt]=Pe[tt]);return ze};function N({pub:Pe,upsell:Ie,unsubscribe_url:ze,unsubscribeOverrideText:tt,hasApp:Le,hideStartWriting:It}){return h(U,{upsell:Ie,hasApp:Le,hideStartWriting:It},h(L,{pub:Pe,unsubscribe_url:ze,unsubscribeOverrideText:tt}))}function U({upsell:Pe,children:Ie,hasApp:ze,hideStartWriting:tt}){const Le=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!ze&&Pe&&h(Fragment,null,h("div",{className:css.footerSection},Pe),h("div",{className:css.divider})),Ie&&h("div",{style:{paddingBottom:24}},Ie),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!Pe&&!ze&&h(k,null),!tt&&h("a",{href:Substitutions.START_WRITING_URL},h(H,{alt:"Start writing",src:Le,pixelRatio:3,width:135,height:40}))))}function V({primary:Pe,secondary:Ie,replaceAppButtonsWithCTA:ze}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},Pe),h(Text.B4,{color:"secondary",style:{marginBottom:16}},Ie),!ze&&h("div",null,h(G,{utm_source:"substack",utm_campaign:"app-marketing"}),h(q,{utm_source:"substack",utm_campaign:"app-marketing"})),ze&&h("div",null,h(ThemedEmailButtonMod,{href:ze.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},ze.text)))}function W({children:Pe}){return h("div",{className:classnames("footer")},Pe)}function L({pub:Pe,unsubscribe_url:Ie,unsubscribeOverrideText:ze}){const{iString:tt}=useI18N(),Le=joinLines(Pe.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,Pe.copyright),Le&&Le.split(`
`).reduce((It,on)=>(It.push(h("br",null),on),It),[]),Ie!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:Ie||Substitutions.UNSUBSCRIBE_URL},h("span",null,ze||tt("Unsubscribe"))))])}function k(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(H,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function H(Pe){var Ie=Pe,{src:ze,pixelRatio:tt,width:Le}=Ie,It=F(Ie,["src","pixelRatio","width"]);let on;const{isAmp:zt}=useContext(EmailRenderingContext);if(typeof URL=="undefined")on=null;else{let $t;try{$t=new URL(ze)}catch(xn){$t=new URL(getSubstackUrl()+ze)}const Bt=Array(tt).fill(0).map((xn,Hn)=>{if(Hn===0)return imginary(ze,Le);const ir=new URL($t),[Vn,_t]=ir.pathname.split("."),ut=Hn+1;return ir.pathname=`${Vn}@${ut}x.${_t}`,imginary(ir.toString(),Le*ut)});zt?ze=Bt[Bt.length-1]:(ze=Bt[1]||Bt[0],on=Bt.map((xn,Hn)=>Hn===0?xn:`${xn} ${Hn+1}x`).join(", "))}return h(Img,R({src:ze,srcset:on,width:Le},It))}function G({utm_campaign:Pe,utm_source:Ie}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:Pe,utm_source:Ie})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function q({utm_campaign:Pe,utm_source:Ie}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:Pe,utm_source:Ie})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const z=({text:Pe="Tweet",href:Ie})=>h("a",{className:css.twitter,href:Ie},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},Pe));var ee=Object.defineProperty,$=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,Z=(Pe,Ie,ze)=>Ie in Pe?ee(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Pe[Ie]=ze,ne=(Pe,Ie)=>{for(var ze in Ie||(Ie={}))J.call(Ie,ze)&&Z(Pe,ze,Ie[ze]);if($)for(var ze of $(Ie))j.call(Ie,ze)&&Z(Pe,ze,Ie[ze]);return Pe},ie=(Pe,Ie)=>{var ze={};for(var tt in Pe)J.call(Pe,tt)&&Ie.indexOf(tt)<0&&(ze[tt]=Pe[tt]);if(Pe!=null&&$)for(var tt of $(Pe))Ie.indexOf(tt)<0&&j.call(Pe,tt)&&(ze[tt]=Pe[tt]);return ze};const oe="550",re=Pe=>{var Ie=Pe,{children:ze,className:tt}=Ie,Le=ie(Ie,["children","className"]);return h("table",ne({role:"presentation",className:tt,width:"auto"},Le),ze)},ae=({children:Pe,className:Ie,width:ze=oe})=>(0,t.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,t.h)("tr",null,(0,t.h)("td",null),(0,t.h)("td",{className:"content",width:ze}),(0,t.h)("td",null)),(0,t.h)("tr",null,(0,t.h)("td",null),(0,t.h)("td",{align:"left",className:Ie?`content ${Ie}`:"content",width:ze},(0,t.h)("div",null,Pe)),(0,t.h)("td",null))),se=({text:Pe})=>(0,t.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},Pe," ","\xA0\u200C".repeat(200)),fe=({children:Pe,className:Ie,description:ze,title:tt="Email from Substack"})=>h("html",null,h("head",null,h("title",null,tt),h("meta",{charset:"utf-8"})),h("body",{className:Ie},ze&&h(se,{text:ze}),Pe)),le=({title:Pe,description:Ie,children:ze,bodyClassName:tt="email-body",className:Le="",emailWidth:It=""})=>{const{isAmp:on}=(0,u.qp)(o.E);return(0,t.h)("html",ne({},{amp4email:on?!0:void 0,"data-css-strict":on?!0:void 0}),(0,t.h)("head",null,(0,t.h)("meta",{charset:"utf-8"}),!on&&(0,t.h)("title",null,Pe),on&&(0,t.h)(t.Fragment,null,(0,t.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,t.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,t.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,t.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,t.h)("body",{className:tt},Ie&&(0,t.h)(se,{text:Ie}),(0,t.h)(ae,ne({className:Le},It&&{width:It}),ze)))},Ae=({title:Pe,description:Ie,children:ze,className:tt,width:Le})=>h("html",null,h("head",null,h("title",null,Pe),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},Ie&&h(se,{text:Ie}),h(ae,{className:tt,width:Le},ze))),De=()=>{const Pe=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},Pe)},je=({delta:Pe,className:Ie,withPercent:ze})=>{const tt=Pe<0?"negative":Pe>0?"positive":"neutral";return tt==="neutral"?h("span",{className:`${Ie} neutral`},"\u2013"):h("span",{className:`${Ie} ${tt}`},tt==="positive"?`+${numberToString(Pe)}${ze?"%":""}`:`${numberToString(Pe)}${ze?"%":""}`)},Je={EmailDocument:le},Be={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var st=Object.defineProperty,ht=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Re=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,ke=(Pe,Ie,ze)=>Ie in Pe?st(Pe,Ie,{enumerable:!0,configurable:!0,writable:!0,value:ze}):Pe[Ie]=ze,ot=(Pe,Ie)=>{for(var ze in Ie||(Ie={}))Re.call(Ie,ze)&&ke(Pe,ze,Ie[ze]);if(Xe)for(var ze of Xe(Ie))Ne.call(Ie,ze)&&ke(Pe,ze,Ie[ze]);return Pe},Dt=(Pe,Ie)=>ht(Pe,gt(Ie)),ln=(Pe,Ie)=>{var ze={};for(var tt in Pe)Re.call(Pe,tt)&&Ie.indexOf(tt)<0&&(ze[tt]=Pe[tt]);if(Pe!=null&&Xe)for(var tt of Xe(Pe))Ie.indexOf(tt)<0&&Ne.call(Pe,tt)&&(ze[tt]=Pe[tt]);return ze};function ct(Pe){return h(Oe,Dt(ot({},Pe),{unsubscribe_url:"%%unsubscribe_url%%"}))}function Oe({pub:Pe=wwwPub,description:Ie,noPromo:ze,children:tt,noLogo:Le,noFooter:It,unsubscribe_url:on,hasApp:zt}){const $t=(Pe.id===0||!!getLogo(Pe))&&!Le;return h(Ee,{description:Ie},h(ue,{gap:16},compact([$t&&h(PubIcon,{pub:Pe.is_www?Dt(ot({},Pe),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):Pe,size:40}),tt,It?null:ze?h(Ze,{pub:Pe,unsubscribe_url:on}):h(Se,{pub:Pe,unsubscribe_url:on,hasApp:zt}),h(SignatureFoldBreaker,null)])))}function Se(Pe){var Ie=Pe,{pub:ze,unsubscribe_url:tt}=Ie,Le=ln(Ie,["pub","unsubscribe_url"]);return ze?h(EmailFooter,ot({pub:ze,unsubscribe_url:tt==null?!1:tt},Le)):null}function Ze({pub:Pe,unsubscribe_url:Ie}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:Pe,unsubscribe_url:Ie==null?!1:Ie}))}function Fe({children:Pe,href:Ie,testId:ze,tableClassName:tt,tdClassName:Le,aClassName:It,alt:on,download:zt,target:$t,style:Bt}){return(0,t.h)(he,{className:tt,style:Bt},(0,t.h)("tr",null,(0,t.h)("td",{className:Le,align:"center"},Ie?(0,t.h)("a",{href:Ie,className:i()(It),"data-test-id":ze,alt:on,download:zt,target:$t},Pe):(0,t.h)("span",{className:It,"data-test-id":ze},Pe))))}function Ke(Pe={children:"",noUnderline:!1}){return(0,t.h)(Fe,Dt(ot({},Pe),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function et(Pe){var Ie=Pe,{fullWidth:ze,priority:tt="primary",aClassName:Le}=Ie,It=ln(Ie,["fullWidth","priority","aClassName"]);return(0,t.h)(Fe,Dt(ot({},It),{tableClassName:ze?Be.fullWidth:void 0,aClassName:i()(ze&&Be.fullWidth,Be.emailButtonA,Le),tdClassName:i()(ze&&Be.fullWidth,Be.emailButtonTd,Be[`priority_${tt}`])}))}function Qe({src:Pe,size:Ie,framed:ze}){return(0,t.h)(S.Z,{className:i()(l.A.avatar,Be.avatar,ze&&Be.framed),src:(0,_.imginary)(Pe),style:{width:Ie,height:Ie,minWidth:Ie,minHeight:Ie,objectFit:"cover",margin:0,display:"inline"},width:Ie,height:Ie})}function $e({src:Pe,size:Ie}){return h(Img,{className:css.icon,src:imginary(Pe),style:{width:Ie,height:Ie,minWidth:Ie,minHeight:Ie,objectFit:"cover",margin:0},width:Ie,height:Ie})}const Te=(0,O.L)("email-text-button","a"),te=(0,O.L)("email-text-b4 email-text-secondary","div");function ue({children:Pe,gap:Ie=0,style:ze}){const tt=(0,t.toChildArray)(Pe),Le=[];for(const on of tt.slice(0,-1))Le.push((0,t.h)("tr",null,(0,t.h)("td",null,on))),Ie>0&&Le.push((0,t.h)("tr",{height:Ie},(0,t.h)("td",null)));const It=tt[tt.length-1];return It&&Le.push((0,t.h)("tr",null,(0,t.h)("td",null,It))),(0,t.h)(he,{style:ze},Le)}function we({children:Pe,gap:Ie=0,style:ze,verticalAlign:tt="middle",growLastChild:Le}){const It=(0,t.toChildArray)(Pe),on=[];for(const $t of It.slice(0,-1))on.push((0,t.h)("td",{style:{verticalAlign:tt}},$t)),Ie>0&&on.push((0,t.h)("td",{width:Ie,style:`min-width: ${Ie}px`}));const zt=It[It.length-1];if(zt){const $t={verticalAlign:tt};Le&&($t.width="100%"),on.push((0,t.h)("td",{style:$t},zt))}return(0,t.h)(he,{style:ze},(0,t.h)("tr",null,on))}function me({users:Pe,post:Ie,pub:ze,user:tt}){return h(FormattedArray,{array:Pe,limit:3,formatter:Le=>h("a",{href:getReaderProfileUrl(Le)},anonymousName(Le,Ie,ze,tt))})}function Ee({children:Pe,description:Ie}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:Ie},h(he,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},Pe),h("td",{style:{color:"transparent"}},"\xA0"))))}function he(Pe){var Ie=Pe,{children:ze}=Ie,tt=ln(Ie,["children"]);return(0,t.h)("table",ot({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},tt),ze)}function xe(Pe){var Ie=Pe,{src:ze}=Ie,tt=ln(Ie,["src"]);return h(Img,ot({src:getSubstackUrl()+ze},tt))}function Ve(){return h("div",{className:css.emailSeparator})}},9869:(K,f,e)=>{"use strict";e.d(f,{K:()=>C});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(84040),l=e(51126),v=e(44396),_=e(92630),g=e(25666);function E({text:x,icon:D,hotkeys:y}){const M=(0,v.XA)(),{layerProps:T,triggerProps:R,transitionProps:F,renderLayer:N,shouldShow:U}=(0,g.l)();return{triggerProps:M||!x?null:R,layer:U&&N((0,t.h)(_._,{transitionProps:F,tooltipProps:T,text:x,icon:D,hotkeys:y}))}}var S=e(28967),O=Object.defineProperty,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(x,D,y)=>D in x?O(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,w=(x,D)=>{for(var y in D||(D={}))u.call(D,y)&&s(x,y,D[y]);if(A)for(var y of A(D))o.call(D,y)&&s(x,y,D[y]);return x},P=(x,D)=>{var y={};for(var M in x)u.call(x,M)&&D.indexOf(M)<0&&(y[M]=x[M]);if(x!=null&&A)for(var M of A(x))D.indexOf(M)<0&&o.call(x,M)&&(y[M]=x[M]);return y};const C=(0,a.forwardRef)((x,D)=>{var y=x,{className:M,active:T,disabled:R,permalink:F,tooltip:N}=y,U=P(y,["className","active","disabled","permalink","tooltip"]);const V=E({text:N});return(0,t.h)(l.hs,w({flex:"grow",justifyContent:F?"center":"start",alignItems:"center"},V.triggerProps),V.layer,(0,t.h)(p.kG,w({className:c()(S.Z.actionButton,M,T&&S.Z.active,R&&S.Z.disabled,F&&S.Z.permalink),resetCss:!0,ref:D,disabled:R},U)))})},63771:(K,f,e)=>{"use strict";e.d(f,{A4:()=>fe,Bq:()=>re,_x:()=>ae,g4:()=>oe,ij:()=>le,s9:()=>ie,uD:()=>se,ve:()=>Ae});var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(31131),v=e(20501),_=e(83322),g=e(31517),E=e(26240),S=e(29820),O=e(56838),A=e(67963),u=e(69371),o=e(55687),s=e(3258),w=e(39419),P=e.n(w),C=e(51126),x=e(76235),D=e(43887),y=e(41474),M=e(91870),T=e(50292),R=e(10174),F=e(33812),N=e(16742),U=e(44396),V=e(9869),W=e(11132),L=e(28967),k=Object.defineProperty,H=Object.defineProperties,G=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,$=(Be,st,ht)=>st in Be?k(Be,st,{enumerable:!0,configurable:!0,writable:!0,value:ht}):Be[st]=ht,J=(Be,st)=>{for(var ht in st||(st={}))z.call(st,ht)&&$(Be,ht,st[ht]);if(q)for(var ht of q(st))ee.call(st,ht)&&$(Be,ht,st[ht]);return Be},j=(Be,st)=>H(Be,G(st)),Z=(Be,st)=>{var ht={};for(var gt in Be)z.call(Be,gt)&&st.indexOf(gt)<0&&(ht[gt]=Be[gt]);if(Be!=null&&q)for(var gt of q(Be))st.indexOf(gt)<0&&ee.call(Be,gt)&&(ht[gt]=Be[gt]);return ht},ne=(Be,st,ht)=>new Promise((gt,Xe)=>{var Re=ot=>{try{ke(ht.next(ot))}catch(Dt){Xe(Dt)}},Ne=ot=>{try{ke(ht.throw(ot))}catch(Dt){Xe(Dt)}},ke=ot=>ot.done?gt(ot.value):Promise.resolve(ot.value).then(Re,Ne);ke((ht=ht.apply(Be,st)).next())});function ie({item:Be,pub:st,post:ht,onLike:gt,permalink:Xe}){var Re;const Ne=(0,u.rI)(),ke=(0,W.F)(),ot=(0,R.i3)(),Dt=(0,A.aF)(),{requireLogin:ln}=(0,T.SJ)(),ct=je(ht.id,{tabId:ke}),Oe=Je(ht),Se=!!ht.reaction,Ze=!st.community_enabled,Fe=!(0,_.commentsEnabledForPost)({publication:st,post:ht}),Ke=(Re=ht.child_comment_count)!=null?Re:0,et=(0,R.oC)(Be),Qe=Te=>ne(this,null,function*(){if(Te.preventDefault(),!Dt){ln==null||ln();return}const te=!ht.reaction;(yield ct(ht.id,te))&&(gt==null||gt(te),Be&&(0,y.rw)(Be,Ne,"like",{tabId:ke}))}),$e=Te=>{if(Te.preventDefault(),!Dt){ln==null||ln();return}ot.open({feedItem:Be,parentPubId:ht.publication_id,parentPostId:ht.id,tabId:ke}),Be&&(0,y.rw)(Be,Ne,"comment",{tabId:ke})};return(0,t.h)(re,null,(0,t.h)(ae,{className:p()(L.Z.like,L.Z.likeButton,Oe===0&&L.Z.shrink),active:Se,disabled:Ze,onClick:Qe,permalink:Xe},(0,t.h)(se,{isLiked:Se}),!Xe&&(0,t.h)(D.xv.Digit,{className:p()(L.Z.digit,Oe===0&&L.Z.hidden)},(0,o.u)(Math.max(Oe,1)))),(0,t.h)(oe,{count:Ke,permalink:Xe,replyRequirement:et,onClick:$e,disabled:Fe}),(0,t.h)(fe,{disabled:Ze,pub:st,post:ht,permalink:Xe}),(0,t.h)(Ae,{publication:st,post:ht,item:Be,twitterText:(0,_.resolveTwitterShareText)({pub:st,post:ht}),permalink:Xe}))}function oe({count:Be,permalink:st,replyRequirement:ht,onClick:gt,disabled:Xe}){return(0,t.h)(V.K,{className:p()(L.Z.reply,Be===0&&L.Z.shrink),disabled:Xe,onClick:gt,permalink:st,tooltip:ht==="paid_subscriber"?"Only paid subscribers can reply.":ht==="free_subscriber"?"Only subscribers can reply.":void 0},ht?(0,t.h)(S.Z,{strokeWidth:st?2:2.5}):(0,t.h)(E.Z,{strokeWidth:st?2:2.5}),!st&&(0,t.h)(D.xv.Digit,{className:p()(L.Z.digit,Be===0&&L.Z.hidden)},(0,o.u)(Math.max(Be,1))))}function re(Be){const st=(0,U.XA)();return(0,t.h)(C.hs,J({flex:"grow",justifyContent:st?"space-between":"start",className:L.Z.actionRow},Be))}function ae(Be){var st=Be,{className:ht,onClick:gt}=st,Xe=Z(st,["className","onClick"]);const[Re,Ne]=(0,i.eJ)(!1),ke=ot=>{Ne(!0),gt==null||gt(ot)};return(0,t.h)(V.K,j(J({},Xe),{onClick:ke,className:p()(ht,Xe.permalink&&L.Z.permalink,Re&&L.Z.clickedOnce)}))}function se({isLiked:Be}){return(0,t.h)("div",{className:p()(L.Z.heartWrapper,Be&&L.Z.isLiked)},(0,t.h)("svg",{className:L.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,t.h)("div",{className:L.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((ht,gt)=>(0,t.h)("div",{className:L.Z.spark,style:`--i: ${gt+1};`}))))}function fe({pub:Be,post:st,comment:ht,rootComment:gt,onOpen:Xe,permalink:Re,disabled:Ne}){const ke=(0,W.F)(),{canRestack:ot,isRestacked:Dt,restacks:ln,menuItems:ct,nuxModal:Oe}=(0,N.K)({pub:Be,post:st,comment:ht,tabId:ke});return ot?(0,t.h)(t.Fragment,null,Oe,(0,t.h)(x.v2,{trigger:(0,t.h)(le,{restacks:ln,"aria-label":"menu",active:Dt,disabled:Ne,permalink:Re}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>Xe==null?void 0:Xe(Dt)},ct)):null}const le=(0,a.forwardRef)((Be,st)=>{var ht=Be,{permalink:gt,restacks:Xe}=ht,Re=Z(ht,["permalink","restacks"]);return(0,t.h)(V.K,J({className:p()(L.Z.restack,Xe===0&&L.Z.shrink),"aria-label":"restack-menu",permalink:gt,ref:st},Re),(0,t.h)(g.Z,{strokeWidth:gt?2:2.5}),!gt&&(0,t.h)(D.xv.Digit,{className:p()(L.Z.digit,Xe===0&&L.Z.hidden)},(0,o.u)(Math.max(Xe,1))))});function Ae({publication:Be,post:st,comment:ht,item:gt,twitterText:Xe,permalink:Re}){const Ne=(0,u.rI)(),ke=(0,W.F)(),ot=(0,A.aF)(),Dt=ot?ot.id.toString(36):void 0,ln=ht?(0,v.getFeedCommentUrl)(ht,{urlParams:{utm_source:"notes-share-action",r:Dt}}):st?(0,v.getFeedShortPostUrl)(Be,st,{urlParams:{utm_source:"notes-share-action",r:Dt}}):null,ct=(0,F.wg)({url:ln,twitterText:Xe,onLinkClicked:Se=>{(0,s.j)(s.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:Se,shared_post_id:st==null?void 0:st.id,shared_comment_id:ht==null?void 0:ht.id})},comment:ht}),Oe=()=>{gt&&(0,y.rw)(gt,Ne,"share",{tabId:ke})};return(0,t.h)(x.v2,{trigger:(0,t.h)(De,{permalink:Re}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:Oe},ct)}const De=(0,a.forwardRef)(({onClick:Be,permalink:st},ht)=>(0,t.h)(V.K,{"aria-label":"share",onClick:Be,permalink:st,className:L.Z.share,ref:ht},(0,t.h)(l.Z,{strokeWidth:st?2:2.5})));function je(Be,{tabId:st}={}){const ht=(0,M.I0)(),gt=(0,O.sV)();return(Xe,Re)=>ne(this,null,function*(){ht({type:"post_like",payload:{postId:Xe,isLiked:Re}});try{return yield gt(Xe,Re,{tabId:st}),!0}catch(Ne){return ht({type:"post_like",payload:{postId:Xe,isLiked:!Re}}),alert((0,w.getNetworkErrorMessage)(Ne)),!1}})}function Je(Be){var st;return(st=Be.reactions["\u2764"])!=null?st:0}},65024:(K,f,e)=>{"use strict";e.d(f,{y:()=>j,k:()=>fe});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(27484),l=e.n(p),v=e(65445),_=(le=>(le.Removed="removed",le.Unavailable="unavailable",le.BlockedYou="blocked-you",le.YouBlocked="you-blocked",le.YouMuted="you-muted",le))(_||{});function g(le){return le.type==="missing"}var E=e(20501),S=e(85344),O=e(79786),A=e(84040),u=e(51126),o=e(43887),s=e(10186),w=e(41474),P=e(73413),C=e(44396),x=e(224),D=e(66337),y=e(2564),M=e(6385),T=e(80332),R=e(16527),F=e(70762),N=e(62017),U=e(28967);const V="notes_quote_attachment";function W({attachment:le,readOnly:Ae,onClick:De}){const je=(0,C.XA)(),{postSelection:Je,post:Be,publication:st,author:ht}=le,gt=ht!=null?ht:(0,M.getPostAuthor)(st,Be),Xe=(0,F._)({publication:st,subscriptionSource:V,publicationName:st.name}),Re=(0,t.h)(s.qE,{size:36,user:gt});return(0,t.h)(u.tu,{className:U.Z.quote,as:Ae?"div":"a",border:"detail",radius:12,onClick:Ne=>{De&&De(),!je&&P.L&&!Ae&&(0,R.Q)(Ne,(0,E.getPostUrl)(st,Be,{noBase:!je,feedViewer:!je,urlParams:{selection:Je.id}}))},href:Ae?void 0:(0,E.getPostUrl)(st,Be,{feedViewer:!1,urlParams:{selection:Je.id}})},(0,t.h)(u.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,t.h)(o.xv,{font:"serif",className:c()(U.Z.quoteText,je&&U.Z.mobile)},"\u201C",L(Je.text),"\u201D")),(0,t.h)(u.hs,{className:U.Z.quoteBottom,alignItems:"center",paddingX:je?12:16,paddingY:je?8:12,gap:12},(0,t.h)(u.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},Ae?Re:(0,t.h)(T.Ct,{subject:gt,dontStopPropagation:!0,utmSource:"feed"},Re),(0,t.h)(u.tu,{minWidth:0,flex:"grow"},(0,t.h)(o.xv.B4,{weight:"medium",ellipsis:!0},Ae?gt.name:(0,t.h)(N.Zg,{user:gt,ellipsis:!0,utm_source:V})),(0,t.h)(u.hs,{gap:6,minWidth:0},(0,t.h)(o.xv.B4,{color:"secondary",ellipsis:!0},Be.title),Xe.showCta&&(0,t.h)(t.Fragment,null,(0,t.h)(o.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,t.h)(o.xv.B4,{color:Xe.isSubscribed?"secondary":"substack"},(0,t.h)(N.hh,{href:"javascript:void",onClick:Ae?void 0:Xe.isSubscribed?Xe.unsubscribe:Xe.subscribe},Xe.isSubscribed?"Subscribed":"Subscribe")))))),(0,t.h)(y.Z,{size:24,color:"var(--color-secondary)"})))}function L(le){return le.replace(/[]/g,"\u2018").replace(/[]/g,"\u2019").replace(/["]/g,"'")}var k=e(11132),H=e(4070),G=Object.defineProperty,q=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,$=(le,Ae,De)=>Ae in le?G(le,Ae,{enumerable:!0,configurable:!0,writable:!0,value:De}):le[Ae]=De,J=(le,Ae)=>{for(var De in Ae||(Ae={}))z.call(Ae,De)&&$(le,De,Ae[De]);if(q)for(var De of q(Ae))ee.call(Ae,De)&&$(le,De,Ae[De]);return le};function j({attachments:le,readOnly:Ae,isRestack:De,onAttachmentClick:je,utm_content:Je}){if(le.length===0)return null;const Be=le.filter(ht=>ht.type==="image"),st=le.filter(ht=>ht.type!=="image");return(0,t.h)(t.Fragment,null,Be.length>0&&(0,t.h)(S.q,{readOnly:Ae,isRestack:De,assets:Be.map(ht=>({src:ht.imageUrl,explicit:ht.explicit}))}),st.map(ht=>(0,t.h)(Z,{attachment:ht,readOnly:Ae,isRestack:De,onAttachmentClick:je,utm_content:Je})))}function Z({attachment:le,readOnly:Ae,isRestack:De,onAttachmentClick:je,utm_content:Je}){var Be;return g(le)?(0,t.h)(ie,{attachment:le,readOnly:Ae,isRestack:De,onAttachmentClick:je,utm_content:Je}):le.type==="image"?(0,t.h)(S.q,{readOnly:Ae,isRestack:De,assets:[le.imageUrl],onClick:je}):le.type==="link"?(0,t.h)(ae,J({readOnly:Ae,onClick:je},le.linkMetadata)):le.type==="comment"?(0,t.h)(oe,{readOnly:Ae,publication:(Be=le.publication)!=null?Be:void 0,post:le.post,comment:le.comment,onAttachmentClick:je,utm_content:Je}):le.type==="post"?le.postSelection?(0,t.h)(W,{readOnly:Ae,attachment:le,onClick:je}):(0,t.h)(D.I,{readOnly:Ae,publication:le.publication,post:le.post,onClick:je}):le.type==="publication"?(0,t.h)(re,{readOnly:Ae,publication:le.publication,onClick:je}):(0,t.h)(ne,{attachment:le})}function ne({attachment:le}){return(0,t.h)(u.hs,null)}function ie({attachment:le,readOnly:Ae,isRestack:De,onAttachmentClick:je,utm_content:Je}){const Be=(0,k.F)(),st=[_.YouBlocked,_.YouMuted].includes(le.reason)&&!!le.hidden_attachment,[ht,gt]=(0,a.eJ)(!1);return ht&&le.hidden_attachment?(0,t.h)(Z,{attachment:le.hidden_attachment,readOnly:Ae,isRestack:De,onAttachmentClick:je,utm_content:Je}):(0,t.h)(u.hs,{bg:"elevated",border:"detail",justifyContent:st?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,t.h)(o.xv.B4,{color:"secondary",align:"center"},le.reason===_.YouBlocked?"This note is from someone you blocked.":le.reason===_.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),st&&(0,t.h)(A.kG,{resetCss:!0,onClick:()=>{var Xe;(0,w.Kr)(le.id,le.reason,{noteId:(Xe=le.hidden_attachment)==null?void 0:Xe.id}),gt(!0)}},(0,t.h)(o.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function oe({comment:le,publication:Ae,readOnly:De,onAttachmentClick:je,utm_content:Je}){var Be,st,ht;const{truncatedBodyJson:gt}=(0,H.Z)(le,{characterTruncationLimit:280,characterTruncationThreshold:280});return(0,t.h)(u.tu,{className:U.Z.post,as:De?"div":"a",bg:"elevated",border:"detail",radius:12,href:De?void 0:(0,E.getFeedCommentUrl)(le),onClick:()=>je==null?void 0:je({commentId:le.id}),padding:12,gap:8},(0,t.h)(u.hs,{gap:8,alignItems:"center"},(0,t.h)("a",{href:(0,E.getReaderProfileUrl)(le.user,{noBase:P.L,utm_content:"substack-feed-item",utm_source:Je!=null?Je:void 0})},(0,t.h)(s.qE,{size:20,user:le.user})),(0,t.h)(u.hs,{alignItems:"center",gap:8},(0,t.h)(o.xv.B4,{weight:"medium"},De?le.user.name:(0,t.h)(N.xG,{user:le.user,utm_source:"substack-feed-item",utm_content:Je},le.user.name)),(0,t.h)(se,{comment:le}))),le.body&&(0,t.h)(o.xv.B4,{className:U.Z.feedCommentBodyInner},le.hidden?Ae&&(0,t.h)("i",null,"This comment is only visible to paid subscribers of"," ",Ae.name):gt&&(0,t.h)(x.x,{content:gt})),((st=(Be=le.attachments)==null?void 0:Be.length)!=null?st:0)>0&&(0,t.h)(j,{isRestack:!0,attachments:(ht=le.attachments)!=null?ht:[],onAttachmentClick:je,utm_content:Je}))}function re({publication:le,readOnly:Ae,onClick:De}){var je;return(0,t.h)(ae,{image:(je=le.logo_url)!=null?je:void 0,title:le.name,description:le.hero_text,url:le.base_url,onClick:De,host:le.base_url.replace(/^https?:\/\//,""),readOnly:Ae})}function ae({image:le,title:Ae,description:De,url:je,host:Je,readOnly:Be,onClick:st}){const ht=(0,C.XA)();return(0,t.h)(u.hs,{className:U.Z.post,padding:12,gap:12,as:Be?"div":"a",bg:"elevated",border:"detail",radius:12,href:Be?void 0:je,onClick:st,rel:"nofollow noopener ugc",target:"_blank"},(0,t.h)(u.tu,{gap:2,flex:"grow",minWidth:0},(0,t.h)(o.xv.Meta,{color:"secondary",ellipsis:!0},Je),ht?(0,t.h)(o.xv.B4,{clamp:1},Ae):(0,t.h)(o.xv.B3,{clamp:2,weight:"medium"},Ae),De&&(0,t.h)(o.xv.B4,{as:"p",color:"secondary",clamp:ht?1:2},De)),le&&(0,t.h)(O.e,{className:c()(U.Z.linkImage,ht&&U.Z.mobile),src:le,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}),!le&&(0,t.h)(u.hs,{alignItems:"center",justifyContent:"center",radius:12,className:c()(U.Z.linkImage,U.Z.linkImagePlaceholder,ht&&U.Z.mobile)},(0,t.h)(v.Z,null)))}function se({post:le,comment:Ae}){return(0,t.h)(o.xv.B4,{color:"secondary"},l()((Ae==null?void 0:Ae.date)||(le==null?void 0:le.post_date)).fromNowShort())}function fe(le){var Ae;switch(le.type){case"post":return le.postSelection?(0,E.getPostUrl)(le.publication,le.post,{urlParams:{selection:le.postSelection.id}}):le.post.canonical_url;case"comment":return(0,E.getFeedCommentUrl)(le.comment);case"publication":return le.publication.base_url;case"link":return(Ae=le.linkMetadata.url)!=null?Ae:null;default:return null}}},224:(K,f,e)=>{"use strict";e.d(f,{x:()=>o});var t=e(6400),a=e(36487),i=e(80332),c=e(44695),p=e(2731);function l({id:w,label:P,type:C,url:x}){return(0,t.h)("span",{className:"node-substack_mention"},C==="pub"?(0,t.h)(_,{id:w,url:x,label:P}):(0,t.h)(v,{id:w,label:P}))}function v({id:w,label:P}){return(0,t.h)(i.Ct,{inline:!0,subject:{id:w,name:P}},(0,t.h)("a",{className:"substack-mention",href:(0,p.getProfileUrlById)(w,P)},"@",P))}function _({id:w,url:P,label:C}){return(0,t.h)(c.Sm,{publication_id:w,inline:!0},(0,t.h)("a",{className:"substack-mention",href:P},"@",C))}var g=Object.defineProperty,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,A=(w,P,C)=>P in w?g(w,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[P]=C,u=(w,P)=>{for(var C in P||(P={}))S.call(P,C)&&A(w,C,P[C]);if(E)for(var C of E(P))O.call(P,C)&&A(w,C,P[C]);return w};function o({content:w}){return(0,t.h)(s,{content:w})}function s({content:w}){var P,C,x,D,y;if(w.type==="text"){const T=(x=(C=(P=w.marks)==null?void 0:P.find(N=>N.type==="link"))==null?void 0:C.attrs)==null?void 0:x.href,R=T?(0,a.u)(T):w.text;let F=(0,t.h)(t.Fragment,null,R);if(w.marks)for(const N of w.marks)N.type==="link"?F=(0,t.h)("a",u({className:"note-link"},N.attrs),F):N.type==="bold"?F=(0,t.h)("strong",null,F):N.type==="italic"?F=(0,t.h)("em",null,F):N.type==="strike"?F=(0,t.h)("s",null,F):N.type==="code"&&(F=(0,t.h)("code",null,F));return F}const M=(D=w.content)==null?void 0:D.filter(T=>!!T).map(T=>(0,t.h)(s,{content:T}));if(w.type==="substack_mention"){const{id:T,label:R,mentionType:F,url:N}=(y=w.attrs)!=null?y:{};return T&&R?(0,t.h)(l,{id:T,label:R,type:F,url:N}):null}return w.type==="doc"?(0,t.h)("div",{className:"ProseMirror FeedProseMirror"},M):w.type==="paragraph"?(0,t.h)("p",null,M):w.type==="blockquote"?(0,t.h)("blockquote",null,M):w.type==="codeBlock"?(0,t.h)("pre",null,(0,t.h)("code",null,M)):w.type==="orderedList"?(0,t.h)("ol",null,M):w.type==="bulletList"?(0,t.h)("ul",null,M):w.type==="listItem"?(0,t.h)("li",null,M):null}},29417:(K,f,e)=>{"use strict";e.r(f),e.d(f,{CommentEmbed:()=>M,CommentView:()=>T});var t=e(6400),a=e(30396),i=e(31131),c=e(81470),p=e(20501),l=e(12650),v=e(31517),_=e(26240),g=e(96098),E=e(65024),S=e(224),O=e(50670),A=e(4070),u=e(8479),o=e(6742),s=e(51126),w=e(43887),P=e(95297),C=e(41474),x=e(33510),D=e(55687);const y={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function M({commentId:N}){const{isLoading:U,error:V,result:W}=(0,u.ib)({pathname:`/api/v1/reader/comment/${N}`,auto:!0,deps:[N]});return V instanceof u.kp?V.getMessage():!W||U?(0,t.h)(F,null):(0,t.h)(T,{feedItem:W.item})}function T({feedItem:N}){var U,V,W,L,k;const{comment:H,parentComments:G}=N,{truncatedBodyJson:q}=(0,A.Z)(H),z=G[G.length-1],ee=(U=H.attachments)==null?void 0:U.find(j=>j.type!=="image"),$=(V=H.attachments)==null?void 0:V.filter(j=>j.type==="image"),J=(0,a.sO)(null);return(0,o.UM)(J,()=>(0,C.zi)(N,c.U.PostEmbed),{threshold:.2}),(0,t.h)(s.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:y.container},(0,t.h)(g.h,null,(0,t.h)(s.hs,{as:"a",target:"_blank",href:(0,p.getFeedCommentUrl)(H),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:y.note,ref:J},(0,t.h)(s.hs,{flex:"auto"},(0,t.h)(O.Zb,{user:H})),(0,t.h)(s.tu,{minWidth:0,gap:8,flex:"grow"},(0,t.h)(s.tu,{minWidth:0,flex:"grow"},(0,t.h)(O.KF,null,(0,t.h)(w.Zx,{weight:"semibold"},H.name),(0,t.h)(P.o,{tier:H.user_bestseller_tier}),(0,t.h)(O.Ku,{timestamp:H.date})),z&&(0,t.h)(w.xv.Detail,null,"Replying to ",z.name),(0,t.h)(s.tu,{gap:12,flex:"grow"},(0,t.h)(O.sP,null,q&&(0,t.h)(S.x,{content:q})),(0,t.h)(E.y,{attachments:ee?[ee]:$||[],readOnly:!0,onAttachmentClick:({commentId:j}={})=>(0,C.rw)(N,c.U.PostEmbed,"attachment",{extraEventProps:{commentId:j}}),utm_content:N.entity_key}))),(0,t.h)(s.hs,{justifyContent:"space-between",alignItems:"center"},(0,t.h)(R,{icon:(0,t.h)(l.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(W=H.reaction_count)!=null?W:0}),(0,t.h)(R,{icon:(0,t.h)(_.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(L=H.children_count)!=null?L:0}),(0,t.h)(R,{icon:(0,t.h)(v.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(k=H.restacks)!=null?k:0}),(0,t.h)(R,{icon:(0,t.h)(i.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function R({icon:N,count:U}){return(0,t.h)(s.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},N,(0,t.h)(w.xv.Digit,{color:"secondary"},U>0&&(0,D.u)(U)))}function F(){return(0,t.h)(g.h,null,(0,t.h)(s.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,t.h)(s.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:y.note},(0,t.h)(x.Vm,{type:"circle",size:48}),(0,t.h)(s.tu,{gap:12,flex:"grow"},(0,t.h)(x.Vm,{height:16,width:`${Math.random()*80+20}%`}),(0,t.h)(x.Vm,{height:16,width:`${Math.random()*80+20}%`}),(0,t.h)(x.Vm,{height:16,width:`${Math.random()*80+20}%`}),(0,t.h)(x.Vm,{height:16,width:`${Math.random()*80+20}%`})))))}},51731:(K,f,e)=>{"use strict";e.d(f,{WS:()=>ae,bN:()=>Ae});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(6385),l=e(81470),v=e(70444),_=e(20501),g=e(83322),E=e(80332),S=e(58718),O=e(63270),A=e(67963),u=e(65024),o=e(69371),s=e(55687),w=e(62017),P=e(50670),C=e(4070),x=e(8479),D=e(39419),y=e.n(D),M=e(51126),T=e(43887),R=e(41474),F=e(91870),N=e(73413),U=e(50292),V=e(10174),W=e(44695),L=e(70762),k=e(63771),H=e(224),G=e(29800),q=e(75309),z=e(8796),ee=e(11132),$=e(28967),J=Object.defineProperty,j=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,ie=(Be,st,ht)=>st in Be?J(Be,st,{enumerable:!0,configurable:!0,writable:!0,value:ht}):Be[st]=ht,oe=(Be,st)=>{for(var ht in st||(st={}))Z.call(st,ht)&&ie(Be,ht,st[ht]);if(j)for(var ht of j(st))ne.call(st,ht)&&ie(Be,ht,st[ht]);return Be},re=(Be,st,ht)=>new Promise((gt,Xe)=>{var Re=ot=>{try{ke(ht.next(ot))}catch(Dt){Xe(Dt)}},Ne=ot=>{try{ke(ht.throw(ot))}catch(Dt){Xe(Dt)}},ke=ot=>ot.done?gt(ot.value):Promise.resolve(ot.value).then(Re,Ne);ke((ht=ht.apply(Be,st)).next())});function ae({comment:Be,item:st,isParent:ht,showReplyingTo:gt,showContext:Xe,utm_content:Re,parentCommentUserId:Ne}){var ke,ot,Dt,ln,ct,Oe,Se;const Ze=(0,A.aF)(),{getConfigFor:Fe}=(0,O.xR)(),Ke=!!Fe("hidden_replies_ui_enabled"),et=(0,o.rI)(),Qe=(0,ee.F)(),$e=()=>(0,R.rw)(st,et,"profile",{tabId:Qe}),Te=!Be.ancestor_path,te=st.publication&&st.post&&(0,p.getPostAuthor)(st.publication,st.post);let ue=null;if(!Te){const Ee=(ke=Be.ancestor_path)==null?void 0:ke.split(".").pop(),he=Ee&&Number(Ee);ue=(Dt=(ot=st.parentComments)==null?void 0:ot.find(xe=>(xe==null?void 0:xe.id)===he))!=null?Dt:null}const we=Ee=>{if(!Ee.defaultPrevented){(0,R.rw)(st,et,"item",{tabId:Qe});const he=(0,_.getFeedCommentUrl)(Be,{noBase:!Be.hidden&&N.L});(0,D.redirect)(Be.hidden&&st.publication?(0,_.getSubscribeUrl)(st.publication,{addBase:!0,params:{next:he}}):he,{event:Ee,newTab:!!Be.hidden,local_navigation:!Be.hidden})}},me=(0,p.getCommentAuthor)(Be);return(0,t.h)(P.oM,{showGutter:ht,hasContext:Xe,onClick:we},(0,t.h)(z.n,{userId:me==null?void 0:me.id,comment:Be},(Xe||!ht&&["comment_top","comment_restack"].includes(st.context.type))&&(0,t.h)(G.L,{context:st.context,onClick:()=>(0,R.rw)(st,et,"context",{tabId:Qe}),utm_content:Re}),(0,t.h)(M.hs,{gap:12},(0,t.h)(P.Fb,{user:me,onClick:$e,utm_content:Re,desaturate:Ke&&((ln=st.comment)==null?void 0:ln.hide_reply)}),(0,t.h)(M.tu,{gap:8,flex:"grow",minWidth:0},(0,t.h)(M.tu,{gap:12},(0,t.h)(M.tu,null,(0,t.h)(M.tu,null,(0,t.h)(q.Ev,{user:me,post:(ct=st.post)!=null?ct:void 0,comment:Be,onClick:$e,utm_content:Re,publication:(Oe=st.publication)!=null?Oe:void 0,item:st,parentCommentUserId:Ne}),gt&&(Te&&te||!Te&&ue)?(0,t.h)(T.xv.Detail,null,"Replying to"," ",(0,t.h)(E.Ct,{subject:Te?te:ue?{id:ue.user_id,user_id:ue.user_id,name:ue.name,photo_url:ue.photo_url}:te,dontStopPropagation:!0,utmSource:"feed"},(0,t.h)(w.hh,{href:Te?(0,_.getFeedShortPostUrl)(st.publication,st.post,{noBase:N.L}):(0,_.getFeedCommentUrl)(ue,{noBase:N.L})},(Se=Te?te:ue)==null?void 0:Se.name))):Ze&&Ze.id!==Be.user_id&&(0,t.h)(se,{comment:Be})),Be.body&&(0,t.h)(Ae,{comment:Be,publication:st.publication})),Be.attachments&&(0,t.h)(u.y,{attachments:Be.attachments,onAttachmentClick:({commentId:Ee}={})=>{(0,R.rw)(st,l.U.PostEmbed,"attachment",{extraEventProps:{tabId:Qe,commentId:Ee}})},utm_content:Re})),!Be.hidden&&(0,t.h)(Je,{item:st,comment:Be})))))}function se({comment:Be}){var st;const ht=(0,p.getCommentAuthor)(Be),gt=(0,L._)({user:ht,publicationName:(st=ht.primary_publication)==null?void 0:st.name,subscriptionSource:"substack-feed-item",sourceNoteId:(0,v.It)(Be.id)});return!ht.primary_publication||!gt.showCta?null:(0,t.h)(M.hs,{gap:4},(0,t.h)(t.Fragment,null,(0,t.h)(T.xv.Detail,{ellipsis:!0},(0,t.h)(le,{publication:ht.primary_publication})),(0,t.h)(T.xv.Detail,{color:"secondary"},"\u2219")),(0,t.h)(T.xv.Detail,{color:gt.isSubscribed?"secondary":"substack"},(0,t.h)(w.hh,{onClick:gt.isSubscribed?gt.unsubscribe:gt.subscribe},gt.isSubscribed?"Subscribed":"Subscribe")))}function fe({comment:Be}){const{isFollowing:st,toggle:ht}=useFeedFollowState(getCommentAuthor(Be));return h(Text.Detail,{color:st?"secondary":"substack"},h(TextLink,{onClick:ht},st?"Following":"Follow"))}function le({publication:Be}){return(0,t.h)(t.Fragment,null,(0,t.h)(W.Sm,{publication_id:Be.id,utmSource:"feed",inline:!0},(0,t.h)(w.hh,{href:(0,_.getBaseUrl)(Be),target:"_blank"},Be.name)))}function Ae({comment:Be,publication:st,large:ht}){const{bodyJson:gt,truncatedBodyJson:Xe,isTruncated:Re}=(0,C.Z)(Be),[Ne,ke]=(0,a.eJ)(ht||!Re),ot=ln=>{ln.preventDefault(),ke(!0)},Dt=Ne?gt:Xe;return(0,t.h)(M.tu,{className:$.Z.feedCommentBody},(0,t.h)(P.sP,{large:ht},Be.hidden?(0,t.h)(De,{pub:st}):Dt&&(0,t.h)(H.x,{key:Ne,content:Dt})),!Ne&&(0,t.h)(je,{onClick:ot,large:ht}))}function De({pub:Be}){return(0,t.h)(t.Fragment,null,(0,t.h)("i",null,"This comment is only visible to paid subscribers of ",Be==null?void 0:Be.name),(0,t.h)("br",null),(0,t.h)("b",null,"Subscribe to view \u2192"))}function je(Be){return(0,t.h)(M.hs,{className:$.Z.seeMore},(0,t.h)(M.hs,{className:$.Z.seeMoreFade}),Be.large?(0,t.h)(T.xv.B2,{color:"accent-blue",className:$.Z.seeMoreText},(0,t.h)(w.hh,oe({},Be),"See more...")):(0,t.h)(T.xv.B3,{color:"accent-blue",className:$.Z.seeMoreText},(0,t.h)(w.hh,oe({},Be),"See more...")))}function Je({item:Be,comment:st,permalink:ht}){var gt,Xe,Re;const Ne=(0,o.rI)(),ke=(0,ee.F)(),ot=(0,F.I0)(),Dt=(0,V.i3)(),ln=(0,A.aF)(),{requireLogin:ct}=(0,U.SJ)(),{publication:Oe,post:Se}=Be,Ze=!!(Se&&Oe&&!(0,g.commentsEnabledForPost)({publication:Oe,post:Se})),Fe=!!(Se&&Oe&&!(0,g.restacksEnabledForPost)({publication:Oe,post:Se})),Ke=st.reaction_count||0,et=(0,x.ib)({pathname:`/api/v1/comment/${st.id}/reaction`,method:"POST"}),Qe=!!st.reaction,$e=()=>{ct==null||ct()},Te=(gt=Be.parentComments[0])!=null?gt:st,te=(0,V.oC)(Be),ue=me=>{var Ee,he;if(me.preventDefault(),!ln){$e();return}Dt.open({feedItem:Be,parentPubId:(Ee=st.publication_id)!=null?Ee:void 0,parentPostId:(he=st.post_id)!=null?he:void 0,parentCommentId:st.id,tabId:ke}),(0,R.rw)(Be,Ne,"comment",{tabId:ke,extraEventProps:{reply_requirement:te,reply_locked:!!te}})},we=me=>re(this,null,function*(){if(me.preventDefault(),!ln){$e();return}const Ee=!Qe;ot({type:"comment_like",payload:{commentId:st.id,isLiked:Ee}});try{yield et.refetch({method:Ee?"POST":"DELETE",json:{publication_id:(Oe==null?void 0:Oe.id)||null,reaction:"\u2764",tabId:ke}})}catch(he){ot({type:"comment_like",payload:{commentId:st.id,isLiked:!Ee}}),alert((0,D.getNetworkErrorMessage)(he));return}(0,R.rw)(Be,Ne,"like",{tabId:ke})});return(0,t.h)(k.Bq,null,(0,t.h)(k._x,{className:c()($.Z.like,$.Z.likeButton,Ke===0&&$.Z.shrink),active:Qe,disabled:!1,onClick:we,permalink:ht},(0,t.h)(k.uD,{isLiked:Qe}),!ht&&(0,t.h)(T.xv.Digit,{className:c()($.Z.digit,Ke===0&&$.Z.hidden)},(0,s.u)(Math.max(Ke,1)))),(0,t.h)(k.g4,{count:(Xe=st.children_count)!=null?Xe:0,disabled:Ze,onClick:ue,permalink:ht,replyRequirement:te}),ln?(0,t.h)(k.A4,{pub:Oe!=null?Oe:void 0,post:Se!=null?Se:void 0,comment:st,rootComment:Te,disabled:Fe,permalink:ht,onOpen:me=>(0,R.rw)(Be,Ne,"restack",{tabId:ke,extraEventProps:{isRestacked:me}})}):(0,t.h)(k.ij,{permalink:ht,restacks:(Re=st.restacks)!=null?Re:0,disabled:Fe,onClick:$e}),(0,t.h)(k.ve,{publication:Oe!=null?Oe:void 0,post:Se!=null?Se:void 0,comment:st,item:Be,permalink:ht}))}},60779:(K,f,e)=>{"use strict";e.d(f,{w:()=>a});var t=e(6400);function a({size:i=20,stroke:c="var(--color-light-secondary)"}){return(0,t.h)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:c,xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(K,f,e)=>{"use strict";e.d(f,{$:()=>O});var t=e(6400),a=Object.defineProperty,i=Object.defineProperties,c=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?a(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A},E=(A,u)=>i(A,c(u)),S=(A,u)=>{var o={};for(var s in A)l.call(A,s)&&u.indexOf(s)<0&&(o[s]=A[s]);if(A!=null&&p)for(var s of p(A))u.indexOf(s)<0&&v.call(A,s)&&(o[s]=A[s]);return o};function O(A){var u=A,{size:o=20,stroke:s="var(--color-light-secondary)"}=u,w=S(u,["size","stroke"]);return(0,t.h)("svg",E(g({},w),{width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,t.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},40527:(K,f,e)=>{"use strict";e.d(f,{Bm:()=>te,O3:()=>z.O3});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(9528),l=e(657),v=e(6385),_=e(81470),g=e(70444),E=e(20501),S=e(63270),O=e(67963),A=e(51731),u=e(69371),o=e(29800),s=e(75309),w=e(8796),P=e(66337),C=e(11132),x=e(62017),D=e(50670),y=e(66141),M=e(16527),T=e(6742),R=e(39419),F=e(84040),N=e(51126),U=e(43887),V=e(41474),W=e(71012),L=e(73413),k=e(33510),H=e(44396),G=e(63771),q=e(79786),z=e(84035);function ee({item:ze}){const tt=(0,H.XA)(),Le=(0,V.Gv)(ze,{isModuleItem:!0}),It=(0,u.rI)();return(0,t.h)(z.hr,{item:ze,onFirstVisible:()=>(0,V.qG)("seen",ze,It,{extraEventProps:{clicked_element:"row"}})},(0,t.h)(U.xv.H2,null,ze.title),(0,t.h)(z.Mr,{cursor:"pointer",onClick:on=>{Le("collection"),(0,M.Q)(on,(0,E.getReaderCollectionUrl)(ze.id,{noBase:!0}))}},(0,t.h)(q.e,{src:ze.image_url,maxWidth:560,imageProps:{height:tt?194:260,smartCrop:!0},objectFit:"cover"}),(0,t.h)(N.tu,{padding:20,gap:16},(0,t.h)(N.tu,{gap:6},(0,t.h)(U.xv.H3,null,ze.card_title),(0,t.h)(U.xv.B4,{color:"secondary"},ze.card_subtitle),(0,t.h)(F.zx,{fill:"empty"},ze.button_title)))))}var $=e(25380),J=e(32224),j=e(84606),Z=e(68262),ne=e(72307),ie=e(15045),oe=e(85700),re=e(37603),ae=e(80587),se=e(8479),fe=e(76235),le=e(4263),Ae=e(38497),De=e(36250),je=e(67394);const Je={postDiscoveryRow:"frontend-feed-Item-module__postDiscoveryRow--UvkYs",postDiscoveryRowIndex:"frontend-feed-Item-module__postDiscoveryRowIndex--bNKN6",postDiscoveryRowImage:"frontend-feed-Item-module__postDiscoveryRowImage--wt6qv"};var Be=Object.defineProperty,st=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,Xe=(ze,tt,Le)=>tt in ze?Be(ze,tt,{enumerable:!0,configurable:!0,writable:!0,value:Le}):ze[tt]=Le,Re=(ze,tt)=>{for(var Le in tt||(tt={}))ht.call(tt,Le)&&Xe(ze,Le,tt[Le]);if(st)for(var Le of st(tt))gt.call(tt,Le)&&Xe(ze,Le,tt[Le]);return ze},Ne=(ze,tt,Le)=>new Promise((It,on)=>{var zt=xn=>{try{Bt(Le.next(xn))}catch(Hn){on(Hn)}},$t=xn=>{try{Bt(Le.throw(xn))}catch(Hn){on(Hn)}},Bt=xn=>xn.done?It(xn.value):Promise.resolve(xn.value).then(zt,$t);Bt((Le=Le.apply(ze,tt)).next())});function ke({item:ze}){const tt=(0,S.xR)().getConfigFor("enable_user_interest"),[Le,It]=(0,a.eJ)(!1),on=()=>{It(!0)};return(0,t.h)(z.hr,{item:ze},(0,t.h)(N.gq,{justifyContent:"space-between"},(0,t.h)(z.RM,{title:ze.title,url:ze.expansionUrl,subtitle:ze.subtitle}),tt&&(0,t.h)(ct,null,(0,t.h)(fe.sN,{icon:(0,t.h)(oe.Z,null),onClick:on},"Manage interests"))),(0,t.h)(N.tu,{radius:"medium",bg:"elevated",border:"detail",shadow:"lg",overflow:"hidden"},ze.posts.map((zt,$t)=>(0,t.h)(ot,{item:ze,row:zt,index:$t}))),(0,t.h)(je.a,{isOpen:Le,onClose:()=>It(!1)}))}function ot({item:ze,row:tt,index:Le}){const It=(0,S.xR)().getConfigFor("enable_user_interest"),on=(0,V.Gv)(ze,{isModuleItem:!0,props:{index:Le}}),zt=(0,a.sO)(null),$t=(0,u.rI)();(0,T.UM)(zt,()=>(0,V.qG)("seen",ze,$t,{extraEventProps:{index:Le,clicked_element:"row"}}),{threshold:.2});const Bt=Dt({publication:tt.publication});return Bt.notInterested?(0,t.h)(ln,{onUndo:Bt.handleUndo}):(0,t.h)(N.gq,{as:"a",className:Je.postDiscoveryRow,onClick:()=>{on("post")},href:(0,De.getPostUrl)(tt.publication,tt.post,{noBase:!0,feedViewer:!0}),gap:12,ref:zt},(0,t.h)(N.tu,{className:Je.postDiscoveryRowIndex,alignItems:"center",justifyContent:"center"},(0,t.h)(U.xv.Meta,{color:"primary",size:12},Le+1)),tt.post.cover_image?(0,t.h)(N.tu,{justifyContent:"center"},(0,t.h)(le.Ny,{className:Je.postDiscoveryRowImage,size:56,square:!0,post:tt.post})):null,(0,t.h)(N.tu,{flex:"grow"},(0,t.h)(U.xv.Meta,{ellipsis:!0},tt.publication.name),(0,t.h)(U.xv.B4,{lineHeight:20,weight:"bold",clamp:2},tt.post.title),(0,t.h)(U.xv.Meta,{ellipsis:!0},(0,le.JP)(tt.post))),It&&Bt.menu)}function Dt({publication:ze}){const tt=(0,Ae.N4)(),[Le,It]=(0,a.eJ)(!1),on=()=>Ne(this,null,function*(){if(tt.isConfirming)return;(yield tt.confirm())&&(It(!0),(0,se.rd)("/api/v1/reader/interest",{method:"POST",json:{type:"publication",publication_id:ze.id,sentiment:"negative"}}))});return{handleUndo:()=>{It(!1),(0,se.rd)("/api/v1/reader/interest",{method:"DELETE",json:{type:"publication",publication_id:ze.id}})},notInterested:Le,menu:(0,t.h)(t.Fragment,null,(0,t.h)(ct,null,(0,t.h)(fe.sN,{icon:(0,t.h)(re.Z,null),onClick:on},"Not interested in publication")),(0,t.h)(Ae.sm,{modal:tt,title:"Not interested?",body:`We\u2019ll no longer suggest ${ze.name}`}))}}function ln({onUndo:ze}){return(0,t.h)(N.tu,{padding:16,textAlign:"center",fontSize:12,color:"secondary"},(0,t.h)(j.xu,null,"We\u2019ll no longer suggest this publication."),(0,t.h)(j.xu,null,(0,t.h)(F.kG,{resetCss:!0,style:{textDecoration:"underline"},onClick:tt=>{tt.preventDefault(),ze()}},"Undo")))}function ct(ze){return(0,t.h)(fe.v2,Re({trigger:(0,t.h)(F.hU,{"aria-label":"more",size:32},(0,t.h)(ae.Z,{strokeWidth:2.5,size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,stopPropagation:!0},ze))}function Oe({item:ze}){const{publication:tt}=ze,Le=tt.logo_url,It={utm_source:"substack",utm_content:"feed_featured_publication"},on=(0,H.XA)(),{isSubscribed:zt}=(0,ne.Y0)(tt.id),$t=(0,V.Gv)(ze,{isModuleItem:!0}),Bt=(0,u.rI)(),xn=(0,S.xR)().getConfigFor("enable_user_interest"),Hn=Dt({publication:tt});return(0,t.h)(z.hr,{item:ze,onFirstVisible:()=>(0,V.qG)("seen",ze,Bt)},(0,t.h)(N.hs,{alignItems:"center",justifyContent:"space-between"},(0,t.h)(U.xv.H2,null,ze.title),xn&&Hn.menu),(0,t.h)(z.Mr,{cursor:Hn.notInterested?void 0:"pointer",onClick:Hn.notInterested?void 0:ir=>{ir.defaultPrevented||($t("publication"),(0,M.Q)(ir,(0,ie.getPubUrl)(tt,{params:It}),{newTab:!0,native:!0}))}},(0,t.h)(z.EB,{imageUrl:Le,width:350},(0,t.h)(z.up,{justifyContent:"center",alignItems:"center",paddingY:32},(0,t.h)(Z.F,{pub:ze.publication,size:on?72:128,imgClassName:(0,j.yK)({shadow:"md"})}))),(0,t.h)(N.tu,{padding:20,gap:20,textAlign:"center"},(0,t.h)(N.tu,{gap:6},(0,t.h)(U.xv.H3,null,ze.publication.name),(0,t.h)(U.xv.B4,null,ze.card_subtitle),(0,t.h)(U.xv.Meta,{ellipsis:!0},"by ",ze.publication.author_name)),zt?(0,t.h)(F.zx,{priority:"secondary",leftIcon:(0,t.h)($.Z,null),fill:"empty"},"Subscribed"):(0,t.h)(F.zx,{leftIcon:(0,t.h)(J.Z,null),fill:"empty",onClick:()=>{$t("subscribe")},href:(0,E.getSubscribeUrl)(ze.publication,{addBase:!0,params:It}),newTab:!0},"Subscribe")),Hn.notInterested&&(0,t.h)(N.hs,{justifyContent:"center",alignItems:"center",bg:"elevated",style:{position:"absolute",inset:0}},(0,t.h)(ln,{onUndo:Hn.handleUndo}))))}var Se=e(55886),Ze=e(49037);const Fe=250;function Ke({item:ze}){const tt=(0,H.XA)(),Le=(0,u.rI)(),It=(0,a.sO)(null),on=(0,k.eK)(It,{inset:16,pageSizeAdjust:Fe});return(0,t.h)(z.hr,{item:ze,onFirstVisible:()=>(0,V.qG)("seen",ze,Le)},(0,t.h)(z.RM,{title:ze.title,url:ze.expansionUrl,subtitle:ze.subtitle}),(0,t.h)(N.hs,{position:"relative",flex:"auto",overflow:"hidden",pullX:16},!tt&&(0,t.h)(l.b4,{direction:"left",isVisible:on.state.showLeft,onClick:on.handleArrowClick(-1)}),(0,t.h)(l.De,{scrollRef:It,style:{height:330}},(0,t.h)(N.hs,{gap:8,paddingX:16},ze.posts.map(({post:zt,publication:$t})=>(0,t.h)(et,{key:zt.id,item:ze,post:zt,publication:$t})))),!tt&&(0,t.h)(l.b4,{direction:"right",isVisible:on.state.showRight,onClick:on.handleArrowClick(1)})))}function et({item:ze,post:tt,publication:Le}){const It=Fe,on=tt.publishedBylines[0],zt=(0,V.Gv)(ze,{isModuleItem:!0});return(0,t.h)(N.tu,{as:"a",href:(0,De.getPostUrl)(Le,tt,{noBase:!0,feedViewer:!0}),onClick:$t=>{$t.defaultPrevented||zt("post")},radius:"medium",bg:"elevated",shadow:"md",overflow:"hidden",style:{width:It}},tt.cover_image?(0,t.h)(Se.t,{src:tt.cover_image,width:It,height:160}):(0,t.h)(N.hs,{style:{height:160}}),(0,t.h)(N.tu,{padding:16,flex:"grow",justifyContent:"space-between"},(0,t.h)(N.tu,{gap:2},(0,t.h)(N.hs,{gap:8,alignItems:"center"},(0,t.h)(Z.F,{pub:Le,size:20}),(0,t.h)(U.xv.Detail,{ellipsis:!0,transform:"uppercase",weight:"semibold"},Le.name)),(0,t.h)(U.xv,{weight:"semibold",size:14,clamp:2},tt.title),on&&(0,t.h)(U.xv,{color:"secondary",size:12,ellipsis:!0},"By ",on.name)),(0,t.h)(Ze.zX,{post:tt,publication:Le,onSave:()=>zt(tt.is_saved?"unsave":"save"),onViewPublication:()=>zt("publication"),onCopy:()=>zt("copy link")})))}const Qe={table:"frontend-feed-RankingSignalsTable-module__table--HAGt0"};function $e({signals:ze}){return(0,t.h)("table",{className:Qe.table},(0,t.h)("tr",null,(0,t.h)("td",{colSpan:2},(0,t.h)(U.xv.Meta,null,"\u2193\u2193 Signals for the item below \u2193\u2193"))),ze.map(({key:tt,value:Le})=>{const It=typeof Le!="boolean"?Le:Le?"true":"false";return(0,t.h)("tr",null,(0,t.h)("td",null,(0,t.h)(U.xv.Meta,null,tt)),(0,t.h)("td",null,(0,t.h)(U.xv.Meta,{color:"primary"},It)))}))}var Te=e(28967);function te({item:ze,showSignals:tt}){const Le=ue[ze.type];return Le?(0,t.h)(Le,{item:ze,showSignals:tt}):null}const ue={post:we,comment:Ee,userSuggestions:xe,twitterConnect:Ve,facebookConnect:Pe,inviteFriends:Ie,postLeaderboard:ke,featuredPublication:Oe,featuredCollection:ee,recommendedPosts:Ke};function we({item:ze,showSignals:tt}){var Le,It,on;const zt=(0,u.rI)(),$t=(0,a.qp)(C.q);return(0,t.h)(z.rF,{item:ze},tt&&((It=(Le=ze.signals)==null?void 0:Le.length)!=null?It:0)>0&&(0,t.h)($e,{signals:(on=ze.signals)!=null?on:[]}),(0,t.h)(me,{item:ze,context:(0,t.h)(o.L,{context:ze.context,onClick:()=>(0,V.rw)(ze,zt,"context",{tabId:$t}),utm_content:ze.entity_key})}))}function me({item:ze,showGutter:tt,context:Le}){const{publication:It,post:on}=ze,zt=It&&on?(0,v.getPostAuthor)(It,on):void 0,$t=(0,u.rI)(),Bt=(0,a.qp)(C.q),xn=()=>(0,V.rw)(ze,$t,"profile",{tabId:Bt});return!It||!on||!zt?null:(0,t.h)(D.oM,{onClick:Hn=>{(0,V.rw)(ze,$t,"item",{tabId:Bt}),(0,R.redirect)((0,E.getFeedShortPostUrl)(It,on,{noBase:L.L}),{event:Hn})},showGutter:tt,hasContext:!!Le},(0,t.h)(w.n,{userId:zt==null?void 0:zt.id},Le,(0,t.h)(N.hs,{gap:12},(0,t.h)(D.Fb,{user:zt,onClick:xn,utm_content:ze.entity_key}),(0,t.h)(N.tu,{gap:8,flex:"grow",minWidth:0},(0,t.h)(N.tu,{gap:8},(0,t.h)(s.Ev,{user:zt,post:on,onClick:xn,utm_content:ze.entity_key,publication:It,item:ze}),(0,t.h)(P.I,{publication:It,post:on})),(0,t.h)(G.s9,{item:ze,pub:It,post:on})))))}function Ee({item:ze,showSignals:tt}){var Le,It,on,zt,$t,Bt,xn;const{publication:Hn,post:ir,comment:Vn,parentComments:_t}=ze,ut=Hn||ir||!_t||_t.length===1?void 0:_t[0],Ce=(Le=_t&&_t[_t.length-1])!=null?Le:null,be=Hn&&ir&&(0,v.getPostAuthor)(Hn,ir),We=ze.context.type!=="comment_restack",qe=ze.context.type==="note_reply"&&We&&Vn.user_id!==((on=be==null?void 0:be.id)!=null?on:(It=_t==null?void 0:_t[0])==null?void 0:It.user_id),Et=(0,u.rI)(),en=(0,a.qp)(C.q),In=ze.context.type==="comment_restack"?`user/${(zt=ze.context.users[0])==null?void 0:zt.id}`:ze.entity_key;return(0,t.h)(z.rF,{item:ze},tt&&((Bt=($t=ze.signals)==null?void 0:$t.length)!=null?Bt:0)>0&&(0,t.h)($e,{signals:(xn=ze.signals)!=null?xn:[]}),(0,t.h)(N.tu,{gap:8},We&&(0,t.h)(t.Fragment,null,be?(0,t.h)(t.Fragment,null,(0,t.h)(me,{item:ze,showGutter:!0,context:qe?(0,t.h)(o.L,{context:ze.context,onClick:()=>(0,V.rw)(ze,Et,"context",{tabId:en}),utm_content:In}):void 0}),(_t==null?void 0:_t.length)>1&&Ce&&(0,t.h)(he,{url:(0,E.getFeedCommentUrl)(Ce,{noBase:L.L}),showGutter:!0})):ut?(0,t.h)(t.Fragment,null,(0,t.h)(A.WS,{isParent:!0,comment:ut,item:ze,showContext:qe,utm_content:In}),(_t==null?void 0:_t.length)>2&&Ce&&(0,t.h)(he,{url:(0,E.getFeedCommentUrl)(Ce,{noBase:L.L}),showGutter:!0})):null,Ce&&(0,t.h)(A.WS,{showReplyingTo:(_t==null?void 0:_t.length)>2,isParent:!0,comment:Ce,item:ze,showContext:qe&&!(be||ut),utm_content:In})),(0,t.h)(A.WS,{comment:Vn,item:ze,showReplyingTo:!We,utm_content:In})))}function he({url:ze,showGutter:tt}){return(0,t.h)(D.oM,{onClick:Le=>(0,R.redirect)(ze,{event:Le}),showGutter:tt,hasAvatar:!1},(0,t.h)(N.gq,null,(0,t.h)(N.tu,{alignItems:"center",justifyContent:"center",className:Te.Z.seeMoreThread},(0,t.h)(N.tu,{className:c()(Te.Z.seeMoreThreadSegment,Te.Z.top)}),(0,t.h)(p.Z,{size:16,stroke:"var(--color-detail)"}),(0,t.h)(N.tu,{className:Te.Z.seeMoreThreadSegment,flex:"grow"})),(0,t.h)(N.tu,{className:Te.Z.seeMoreReplies,flex:"grow",minWidth:0},(0,t.h)(U.xv.B4,{color:"accent-blue"},(0,t.h)(x.hh,{href:ze},"See more replies")))))}function xe({item:ze}){const tt=(0,H.XA)(),Le=(0,a.sO)(null),{state:It,handleArrowClick:on}=(0,k.eK)(Le),zt=(0,O.SE)();(0,T.UM)(Le,()=>{zt.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2});const $t=zt.user&&!zt.user.has_linked_facebook;return(0,t.h)(z.rF,{item:ze},(0,t.h)(N.tu,{paddingY:16,gap:8},(0,t.h)(N.hs,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:16,desktop:0}},(0,t.h)(U.xv.H4,null,(0,t.h)(x.hh,{onClick:Bt=>(0,M.Q)(Bt,(0,g.kM)())},"Suggestions")),(0,t.h)(F.zx,{size:"small",priority:"secondary",fill:"empty",onClick:Bt=>(0,M.Q)(Bt,(0,g.kM)())},"See all")),(0,t.h)(N.hs,{className:Te.Z.peopleYouMayKnowContainer,alignItems:"center",flex:"grow"},!tt&&It.showLeft&&(0,t.h)(l.b4,{direction:"left",onClick:on(-1)}),(0,t.h)(N.hs,{ref:Le,className:Te.Z.peopleYouMayKnow,alignItems:"center",gap:8,paddingX:{desktop:0,mobile:16}},$t&&(0,t.h)(W.dg,null),ze.userSuggestions.map(Bt=>(0,t.h)(W.E$,{feedUserSuggestion:Bt,surface:_.U.Feed}))),!tt&&It.showRight&&(0,t.h)(l.b4,{direction:"right",onClick:on(1)}))))}function Ve({item:ze}){const{getConfigFor:tt}=(0,S.xR)();return tt("twitter_connect_flows_enabled")?(0,t.h)(z.rF,{item:ze},(0,t.h)(N.hs,{paddingY:20},(0,t.h)(W.rS,null))):null}function Pe({item:ze}){return(0,t.h)(z.rF,{item:ze},(0,t.h)(N.hs,{paddingY:20},(0,t.h)(W.KL,null)))}function Ie({item:ze}){const[tt]=(0,y.Z)(W.au);return tt?null:(0,t.h)(z.rF,{item:ze},(0,t.h)(N.hs,{paddingY:20,paddingX:20},(0,t.h)(W.Zx,{utmSource:"feed_item"})))}},29800:(K,f,e)=>{"use strict";e.d(f,{L:()=>w});var t=e(6400),a=e(30396),i=e(83322),c=e(43615),p=e(62017),l=e(51126),v=e(43887);function _({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function g({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function E({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function S({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function O({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function A({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function u({size:U,className:V}){return(0,t.h)("svg",{className:V,width:U,height:U,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var o=e(44396),s=e(28967);function w({context:U,onClick:V,utm_content:W}){const L=P[U.type];return L?(0,t.h)(l.hs,{className:s.Z.contextRow},(0,t.h)(v.xv.Meta,{className:s.Z.contextText},(0,t.h)(L,{context:U,onClick:V,utm_content:W}))):null}const P={post_like:C,post_comment:D,post_restack:x,comment:D,note_reply:D,note_recommend:T,comment_restack:y,comment_top:M};function C({context:U,onClick:V,utm_content:W}){return(0,t.h)(N,{context:U,type:"like",label:"Likes",verb:"liked",onClick:V,utm_content:W})}function x({context:U,onClick:V,utm_content:W}){return(0,t.h)(N,{context:U,type:"restack",label:"Restacks",verb:"restacked",onClick:V,utm_content:W})}function D({context:U,onClick:V,utm_content:W}){return(0,t.h)(N,{context:U,type:"comment",label:"Replies",verb:"replied",onClick:V,utm_content:W})}function y({context:U,onClick:V,utm_content:W}){return(0,t.h)(N,{context:U,type:"restack",label:"Restacks",verb:"restacked",onClick:V,utm_content:W})}function M({}){return(0,t.h)(F,{type:"trending"},"Top comment")}function T({context:U,onClick:V,utm_content:W}){return(0,t.h)(N,{context:U,type:"recommend",label:"Recommendations",verb:"recommends",onClick:V,utm_content:W})}const R={like:E,comment:_,recommend:u,featured:g,trending:S,leaderboard:O,restack:A};function F({type:U,children:V}){const W=R[U];return(0,t.h)(l.gq,{alignItems:"center",gap:8},(0,t.h)(W,{className:s.Z.contextIcon,size:14}),(0,t.h)("div",null,V))}function N({context:U,type:V,label:W,verb:L,fallbackUser:k,utm_content:H,onClick:G}){var q;const z="notes_context",ee=(0,o.XA)(),[$,J]=(0,a.eJ)(!1),j=(q=U.users[0])!=null?q:k;if(!j)return null;let Z,ne=U.users.length-1;return U.users.length===2?(Z=U.users[1],ne=0):!ee&&U.users.length>2&&(Z=U.users[1],ne=U.users.length-2),(0,t.h)(F,{type:V},(0,t.h)(p.Zg,{user:j,onClick:G,utm_source:z,utm_content:H,color:"secondary",useYou:!0}),Z&&(0,t.h)(t.Fragment,null,ne>0?", ":" and ",(0,t.h)(p.Zg,{user:U.users[1],onClick:G,utm_source:z,utm_content:H,color:"secondary",useYou:!0})),ne>0&&(0,t.h)(t.Fragment,null," and ",(0,t.h)(p.hh,{onClick:()=>{G(),J(!0)}},(0,i.pluralize)(ne,"other"))),` ${L}`,(0,t.h)(c.FF,{isOpen:$,modalLabel:W,faces:U.users,totalCount:U.users.length,onClose:()=>J(!1),utmSource:null}))}},75309:(K,f,e)=>{"use strict";e.d(f,{Ev:()=>Je,vk:()=>Xe});var t=e(6400),a=e(30396),i=e(27484),c=e.n(i),p=e(25380),l=e(67747),v=e(66440),_=e(23237),g=e(5149),E=e(80587),S=e(18794),O=e(13808),A=e(6385),u=e(20501),o=e(83322),s=e(56838),w=e(25877),P=e(58718),C=e(63270),x=e(67963),D=e(69371),y=e(62017),M=e(50670),T=e(8479),R=e(39419),F=e.n(R),N=e(702),U=e(11059),V=e(84040),W=e(51126),L=e(76235),k=e(43887),H=e(75425),G=e(95297),q=e(41474),z=e(91870),ee=e(73413),$=e(10174),J=e(9869),j=e(11132),Z=e(28967),ne=Object.defineProperty,ie=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,fe=(Re,Ne,ke)=>Ne in Re?ne(Re,Ne,{enumerable:!0,configurable:!0,writable:!0,value:ke}):Re[Ne]=ke,le=(Re,Ne)=>{for(var ke in Ne||(Ne={}))ae.call(Ne,ke)&&fe(Re,ke,Ne[ke]);if(re)for(var ke of re(Ne))se.call(Ne,ke)&&fe(Re,ke,Ne[ke]);return Re},Ae=(Re,Ne)=>ie(Re,oe(Ne)),De=(Re,Ne)=>{var ke={};for(var ot in Re)ae.call(Re,ot)&&Ne.indexOf(ot)<0&&(ke[ot]=Re[ot]);if(Re!=null&&re)for(var ot of re(Re))Ne.indexOf(ot)<0&&se.call(Re,ot)&&(ke[ot]=Re[ot]);return ke},je=(Re,Ne,ke)=>new Promise((ot,Dt)=>{var ln=Se=>{try{Oe(ke.next(Se))}catch(Ze){Dt(Ze)}},ct=Se=>{try{Oe(ke.throw(Se))}catch(Ze){Dt(Ze)}},Oe=Se=>Se.done?ot(Se.value):Promise.resolve(Se.value).then(ln,ct);Oe((ke=ke.apply(Re,Ne)).next())});function Je({user:Re,post:Ne,comment:ke,onClick:ot,utm_content:Dt,publication:ln,item:ct,parentCommentUserId:Oe}){const Se=(0,H.pm)(),Ze=(0,x.aF)(),Fe=(0,z.I0)(),Ke=(ke==null?void 0:ke.date)||(Ne==null?void 0:Ne.post_date),{refetch:et}=(0,T.ib)({pathname:`/api/v1/reader/reply/${ke==null?void 0:ke.id}/unhide`,method:"POST"}),{getConfigFor:Qe}=(0,C.xR)(),Te=!!Qe("hidden_replies_ui_enabled")&&(ke==null?void 0:ke.hide_reply),te=(Ze==null?void 0:Ze.id)&&(Ze==null?void 0:Ze.id)===Oe;return(0,t.h)(M.KF,null,(0,t.h)(W.hs,{gap:8,alignItems:"center",flex:"grow"},(0,t.h)(k.Zx,{weight:"medium"},(0,t.h)(y.xG,{user:Re,onClick:ot,utm_source:"substack-feed-item",utm_content:Dt,color:Te?"secondary":void 0},Re.name)),(0,t.h)(G.s,{className:Z.Z.userBadge,tier:Re.bestseller_tier,userId:Re.id,tooltipOnHover:!0,size:"sm"}),Ke&&(0,t.h)(st,{timestamp:Ke,comment:ke})),(0,t.h)(W.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},Te&&te&&(0,t.h)(V.kG,{onClick:()=>je(this,null,function*(){var ue;Fe({type:"reply_unhidden",payload:{comment_id:(ue=ke==null?void 0:ke.id)!=null?ue:0}}),yield et(),Se.popToast(we=>(0,t.h)(H.FN,Ae(le({},we),{text:"Reply unhidden",Icon:p.Z})))}),className:Z.Z.unhideButton},(0,t.h)(W.gq,{alignItems:"center",gap:4},(0,t.h)(l.Z,{size:20}),"Unhide")),(0,t.h)(ht,{publication:ln!=null?ln:void 0,post:Ne!=null?Ne:void 0,comment:ke,item:ct})))}const Be=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function st({timestamp:Re,comment:Ne,post:ke,publication:ot}){return(0,t.h)(y.hh,{href:Ne?(0,u.getFeedCommentUrl)(Ne,{noBase:ee.L}):ke?(0,u.getFeedShortPostUrl)(ot,ke):void 0,title:Be.format(c()(Re).toDate()),ellipsis:!1,color:"secondary"},(0,t.h)(M.Ku,{timestamp:Re}))}function ht({publication:Re,post:Ne,comment:ke,item:ot,permalink:Dt}){var ln,ct,Oe;const Se=(0,H.pm)(),Ze=(0,D.rI)(),Fe=(0,j.F)(),Ke=(0,z.I0)(),et=(0,z.kc)(),[Qe,$e]=(0,a.eJ)(!1),[Te,te]=(0,a.eJ)(!1),ue=(0,x.aF)(),we=(ct=(ln=ke==null?void 0:ke.ancestor_path)==null?void 0:ln.split(".").filter(Boolean).map(Number).map(Le=>et.comments.get(Le)))!=null?ct:[],me=ke?(0,A.getCommentAuthor)(ke):Re&&Ne?(0,A.getPostAuthor)(Re,Ne):{id:0,name:"void"},Ee=(0,w.CH)(me,Ze),he=(0,P.oh)(me,Ze),xe=(0,T.ib)({pathname:`/api/v1/comment/${(Oe=ke==null?void 0:ke.id)!=null?Oe:0}`,method:"DELETE",json:{publication_id:Re==null?void 0:Re.id}}),Ve=()=>je(this,null,function*(){if(!ke||(te(!1),xe.isLoading))return;const Le=yield xe.refetch();if(Le instanceof Error){alert((0,R.getNetworkErrorMessage)(Le));return}Se.popToast(It=>(0,t.h)(H.FN,Ae(le({},It),{text:"Note deleted",Icon:v.Z}))),Ke({type:"comment_delete",payload:{publication:Re,post:Ne,comment:ke}})}),Pe=(0,$.i3)(),Ie=()=>je(this,null,function*(){ke&&Pe.open({editComment:ke,tabId:Fe})}),ze=()=>{ot&&(0,q.rw)(ot,Ze,"menu",{tabId:Fe})},tt=[!ke&&Ne&&(0,t.h)(gt,{post:Ne}),...he,(0,o.canEditComment)(ue,ke)&&(0,t.h)(L.sN,{icon:(0,t.h)(_.Z,null),onClick:Ie},"Edit"),...Ee,(0,o.canReportComment)(ue,ke)&&(0,t.h)(L.sN,{icon:(0,t.h)(g.Z,null),priority:"destructive",onClick:()=>$e(!0)},"Report"),(0,o.canDeleteComment)(ue,ke,{pub:Re,post:Ne,parentComments:we})&&(0,t.h)(L.sN,{icon:(0,t.h)(v.Z,null),priority:"destructive",onClick:()=>te(!0)},"Delete")].filter(Boolean);return tt.length===0?null:(0,t.h)(t.Fragment,null,(0,t.h)(L.v2,{trigger:(0,t.h)(J.K,{"aria-label":"share",permalink:Dt,className:Z.Z.more},(0,t.h)(E.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:ze},tt),Qe&&(0,t.h)(N.Z,{className:Z.Z.reportModal,pub:Re,comment:ke,onClose:()=>$e(!1),onReportSuccess:()=>{}}),(0,t.h)(U.a,{isOpen:Te,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,t.h)(V.zx,{priority:"destructive",onClick:Ve},"Delete"),secondaryButton:(0,t.h)(V.zx,{priority:"secondary",onClick:()=>te(!1)},"Cancel"),onClose:()=>te(!1)}))}function gt(Re){var Ne=Re,{post:ke}=Ne,ot=De(Ne,["post"]);const Dt=Xe(ke);return(0,t.h)(L.sN,le({icon:ke.is_saved?(0,t.h)(S.Z,null):(0,t.h)(O.Z,null),onClick:Dt},ot),ke.is_saved?"Unsave":"Save")}function Xe(Re){const Ne=(0,z.I0)(),ke=(0,s.c1)();return()=>{const Dt=Re.id,ln=!Re.is_saved;(0,s.TJ)(Dt,ln,{surface:"reader"}),ke(ln),Ne({type:"post_save",payload:{postId:Dt,isSaved:ln}})}}},8796:(K,f,e)=>{"use strict";e.d(f,{n:()=>_});var t=e(6400),a=e(30396),i=e(25877),c=e(62017),p=e(51126),l=e(43887),v=e(28967);function _({userId:g,comment:E,children:S}){const O=(0,i.KG)(g),A=(0,i.Yq)(),[u,o]=(0,a.eJ)(A);(0,a.d4)(()=>{O&&!A&&o(!1)},[O]);const s=E?E.type==="feed"&&!E.ancestor_path?"note":"reply":"post";return O&&!u?(0,t.h)(p.gq,{radius:12,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>o(!0),gap:12,className:v.Z.mutedItem},(0,t.h)(p.hs,{flex:"grow",minWidth:0},(0,t.h)(l.xv.B4,{color:"secondary"},"This ",s," is from someone",O==="muting"?" you hid":O==="blocking"?" you blocked":" who has you blocked",".")),O!=="blocked"&&(0,t.h)(l.xv.B4,{color:"secondary",weight:"semibold"},(0,t.h)(c.hh,{onClick:()=>o(!0)},"Show ",s))):(0,t.h)(t.Fragment,null,S)}},73115:(K,f,e)=>{"use strict";e.d(f,{sZ:()=>k});var t=e(6400),a=e(99869),i=e(71212),c=e(67358),p=e(84040),l=e(51126),v=e(62246),_=e(43887),g=e(20501),E=e(15045),S=e(70444),O=e(68227),A=e(17835),u=e(66839),o=e(3258),s=e(39419),w=e.n(s),P=e(13045),C=e(55886),x=e(7980),D=Object.defineProperty,y=Object.defineProperties,M=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,N=(ee,$,J)=>$ in ee?D(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:J}):ee[$]=J,U=(ee,$)=>{for(var J in $||($={}))R.call($,J)&&N(ee,J,$[J]);if(T)for(var J of T($))F.call($,J)&&N(ee,J,$[J]);return ee},V=(ee,$)=>y(ee,M($));function W({comment:ee,isOpen:$,onClose:J}){return h(Modal,{isOpen:$,onClose:J},h(L,{comment:ee,onClose:J}))}function L({comment:ee,onClose:$}){const J=getFeedCommentUrl(ee,{urlParams:{utm_source:"substack",utm_content:"note-share-modal"}});return h(FlexColumn,{gap:20,paddingBottom:16},h(ModalHeader,{includeClose:!0,onClose:$}),h(FlexBox,{justifyContent:"center"},h(CloudImage,{src:getNoteCommentPreviewUrl(ee.id),size:340})),h(Text.Meta,{align:"center"},"Share via"),h(k,{shareSource:"note-share-modal",shareUrl:J,shareText:"",shareEventType:"note",comment:ee,itemKey:ee.item_entity_key}))}function k({shareUrl:ee,shareText:$,shareEventType:J,itemKey:j,shareSource:Z,comment:ne,onShare:ie}){const oe=(0,P.pm)(),re=(je,Je)=>{(0,o.j)(o.FP.SHARE_LINK_CLICKED,{name:je,type:J,item_entity_key:j,source:Z});const Be=Je();Be&&(Be.startsWith("http")?window.open(Be,"_blank"):document.location.href=Be),ie==null||ie()},ae=()=>{re("copy",()=>{(0,s.copyToClipboard)(ee)}),oe.popToast(je=>(0,t.h)(P.FN,V(U({},je),{text:"Link copied",Icon:a.Z})))},se=()=>{re("twitter",()=>(0,E.pathWithQuery)("https://twitter.com/share",{url:ee,text:$}))},fe=()=>{re("facebook",()=>(0,E.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:ee}))},le=()=>{re("linkedin",()=>(0,E.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:ee}))},Ae=()=>{re("email",()=>(0,E.pathWithQuery)("mailto:",{subject:$,body:ee}))},De=()=>{oe.popToast(je=>(0,t.h)(P.FN,V(U({},je),{text:"Downloading image...",Icon:i.Z})))};return(0,t.h)(l.tu,{flex:"grow",justifyContent:"center"},(0,t.h)(l.hs,{gap:8},(0,t.h)(H,null,(0,t.h)(q,{onClick:se},(0,t.h)(u.Z,{height:48})),(0,t.h)(G,null,"Twitter")),(0,t.h)(H,null,(0,t.h)(q,{onClick:fe},(0,t.h)(O.Z,{height:48})),(0,t.h)(G,null,"Facebook")),(0,t.h)(H,null,(0,t.h)(q,{onClick:le},(0,t.h)(A.Z,{height:48})),(0,t.h)(G,null,"LinkedIn")),(0,t.h)(H,null,(0,t.h)(z,{onClick:ae},(0,t.h)(a.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,t.h)(G,null,"Copy Link")),ne?(0,t.h)(H,null,(0,t.h)(z,{onClick:De,href:(0,g.getNoteCommentPreviewUrl)(ne.id),target:"_blank",download:!0},(0,t.h)(i.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,t.h)(G,null,"Save image")):(0,t.h)(H,null,(0,t.h)(z,{onClick:Ae},(0,t.h)(c.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,t.h)(G,null,"Email"))))}function H(ee){return(0,t.h)(l.tu,U({gap:8,alignItems:"center",flex:"grow"},ee))}function G(ee){return(0,t.h)(_.xv.Detail,U({align:"center",color:"primary"},ee))}function q(ee){return(0,t.h)(p.kG,U({resetCss:!0,className:x.Z.shareImageButton},ee))}function z(ee){return(0,t.h)(p.hU,U({size:48,rounded:!0,fill:"borderless"},ee))}},83097:(K,f,e)=>{"use strict";e.d(f,{q:()=>$});var t=e(6400),a=e(30396),i=e(8618),c=e(8479),p=e(35616),l=e(85928),v=e.n(l),_=e(15045),g=e(70444),E=e(31517),S=e(26240),O=e(95847),A=e(4190),u=e(63270),o=e(67963);function s(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var w=e(55463),P=e(11533),C=e(84040),x=e(86605),D=e(51126),y=e(62246),M=e(43887),T=e(55886),R=e(91870),F=e(10174),N=e(51731),U=e(73115),V=e(50670),W=e(7980),L=(Z,ne,ie)=>new Promise((oe,re)=>{var ae=le=>{try{fe(ie.next(le))}catch(Ae){re(Ae)}},se=le=>{try{fe(ie.throw(le))}catch(Ae){re(Ae)}},fe=le=>le.done?oe(le.value):Promise.resolve(le.value).then(ae,se);fe((ie=ie.apply(Z,ne)).next())});function k(){const Z=useUserContext(),ne=new URL(document.location.toString());return useMemo(()=>Z.user&&!Z.userSettings.feed_web_nux_seen_at||ne.searchParams.get("action")==="nux",[])?h(H,null):null}function H(){const Z=useUserContext(),ne=useSiteConfigs(),[ie,oe]=useState(!0),[re,ae]=useState(1),[se,fe]=useState(null);useEffect(()=>{Z.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const le=()=>{oe(!1)},Ae=()=>{var De,je;let Je=re+1;Je===2&&(De=Z.user)!=null&&De.name&&(Je+=1),Je===3&&(!ne.getConfigFor("twitter_connect_flows_enabled")||(je=Z.user)!=null&&je.has_linked_twitter)&&(Je+=1),ae(Je)};return h(Modal,{isOpen:ie,onClose:le,width:440,overflow:"hidden"},re===1?h(G,{onClose:le,onNext:Ae}):re===2?h(q,{onClose:le,onNext:Ae}):re===3?h(z,{onClose:le,onNext:Ae,onSkip:()=>ae(re+2)}):re===4?h(ee,{onPublish:De=>{fe(De),Ae()},onClose:le}):re===5&&se?h($,{onClose:le,comment:se}):null)}function G({onClose:Z,onNext:ne}){const ie=useUnifiedHome();return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:Z,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(CloudImage,{src:`/img/reader/${ie?"nux-web-unified":"nux-web@3x"}.png`,width:440,height:304})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},ie?"Introducing: A new home for readers":"Introducing: Notes"),h(Text.B3,{align:"center",color:"secondary"},ie?"Now you can dive into your favorite reads, then explore notes and discussions across Substack. Your inbox is easily accessible via the left-hand sidebar. ":"Notes is a new space to share what you\u2019re reading and keep up with your favorite writers on Substack. ",h("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener"},"Learn more"))),h(j,null,h(Button,{priority:"primary",onClick:ne},ie?"Start reading":"Get started")))}function q({onClose:Z,onNext:ne}){const ie=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:Z}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:ie.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:oe=>{ie.setUser(oe.body),ne()}}))}function z({onClose:Z,onNext:ne,onSkip:ie}){return useEffect(()=>{const oe=re=>{var ae;re.origin===document.location.origin&&((ae=re.data)==null?void 0:ae.type)==="twitter-success"&&ne()};return window.addEventListener("message",oe),()=>{window.removeEventListener("message",oe)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:Z}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(j,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:ie,priority:"secondary",fill:"empty"},"Skip")))}function ee({onClose:Z,onPublish:ne}){const ie=useUser(),oe=useComposerModal(),{create:re,isLoading:ae}=useCreateShortPost(),se=useDispatch(),[fe,le]=useRouter(),{exposeExperiment:Ae,getExperimentVariant:De}=useExperiments(),je=useUnifiedHome();if(useResource(()=>Promise.all([e.e(492),e.e(563)]).then(e.bind(e,84563)),[]),!ie)return null;Ae("feed_nux_empty_message");const Je=De("feed_nux_empty_message")==="treatment",Be=je?"Hello, Substack! What\u2019s going on?":"Hello, Notes! What\u2019s going on?",st=()=>L(this,null,function*(){if(!ae){if(Je)Z(),oe.open({initialText:""});else{const{textToJsonCore:gt}=yield Promise.all([e.e(492),e.e(563)]).then(e.bind(e,84563)),Xe=yield re({bodyJson:gt(Be)});if(Xe instanceof Error)return;ne(Xe),se({type:"new_comment",payload:{comment:Xe}})}document.location.pathname!==FEED_PATH&&le(FEED_PATH)}}),ht=()=>{Z(),oe.open({initialText:Be})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:Z}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:ie}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},ie.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},Be)),h(FlexBox,{style:{gap:34}},h(J,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(J,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(J,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:st,disabled:ae},Je?"Say hello":"Send now"),!Je&&h(Button,{onClick:ht,priority:"secondary",fill:"empty",disabled:ae},"Edit note")))}function $({onClose:Z,comment:ne}){const ie=(0,p.N)(),oe=(0,o.aF)();if(!oe)return null;const re=(0,g.Sg)(ne,{urlParams:{utm_source:"substack",utm_content:"first-note-modal"}}),ae=ie?`I just wrote my first note on Substack
`:`I just started using Notes on Substack
`;return(0,t.h)(t.Fragment,null,(0,t.h)(y.xB,{includeClose:!0,onClose:Z}),(0,t.h)(D.tu,{padding:16},(0,t.h)(D.tu,{alignItems:"center",gap:4,padding:16},(0,t.h)(M.xv.H2,{weight:"semibold"},"Share your first note"),(0,t.h)(M.xv.B3,{align:"center",color:"secondary"},ie?"Invite your friends and followers to check out your notes on Substack":"Invite your friends and followers to join you on Notes")),(0,t.h)(D.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,t.h)(D.tu,{paddingTop:8,paddingBottom:16},(0,t.h)(D.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,t.h)(D.hs,{gap:12},(0,t.h)(V.Zb,{user:oe}),(0,t.h)(D.tu,{flex:"grow",minWidth:0},oe&&(0,t.h)(M.xv.B3,{weight:"semibold",ellipsis:!0},oe.name),(0,t.h)(M.xv.B4,{color:"secondary"},v()().fromNowShort()))),(0,t.h)(D.tu,{paddingY:16,borderBottom:"detail"},(0,t.h)(M.xv,{font:"text",size:18},(0,t.h)(N.bN,{comment:ne,publication:null}))),(0,t.h)(D.hs,{style:{gap:34}},(0,t.h)(J,null,(0,t.h)(i.Z,{stroke:"var(--color-secondary)",size:20}),(0,t.h)(M.xv.Button,{color:"secondary"},"Like")),(0,t.h)(J,null,(0,t.h)(S.Z,{stroke:"var(--color-secondary)",width:20}),(0,t.h)(M.xv.Button,{color:"secondary"},"Reply")),(0,t.h)(J,null,(0,t.h)(E.Z,{stroke:"var(--color-secondary)",width:20}),(0,t.h)(M.xv.Button,{color:"secondary"},"Restack"))))),(0,t.h)(M.xv.Meta,{align:"center"},"Share via"),(0,t.h)(U.sZ,{shareSource:"first-note-modal",shareUrl:re,shareText:ae,shareEventType:"note",itemKey:ne.item_entity_key}))))}function J({children:Z}){return(0,t.h)(D.hs,{alignItems:"center",gap:8,paddingTop:16},Z)}function j({children:Z}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},Z)}},56411:(K,f,e)=>{"use strict";e.d(f,{n:()=>_});var t=e(6400),a=e(40527),i=e(50670),c=e(51126),p=e(33510),l=e(44396);const v={lotsOfNotes:"frontend-feed-Placeholders-module__lotsOfNotes--Gf9e6"};function _(){return(0,t.h)(c.tu,{className:v.lotsOfNotes},Array(8).fill(0).map(()=>(0,t.h)(g,null)))}function g(){const E=(0,l.XA)();return(0,t.h)(a.O3,null,(0,t.h)(i.oM,null,(0,t.h)(c.hs,{gap:12},(0,t.h)(p.Vm,{type:"circle",size:E?36:40}),(0,t.h)(c.tu,{gap:12,flex:"grow"},(0,t.h)(p.Vm,{height:20,width:100}),Array(3).fill(0).map(()=>(0,t.h)(p.Vm,{height:20,width:`${30+Math.random()*70}%`}))))))}},66337:(K,f,e)=>{"use strict";e.d(f,{I:()=>s});var t=e(6400),a=e(94184),i=e.n(a),c=e(15045),p=e(20501),l=e(79786),v=e(63270),_=e(16527),g=e(51126),E=e(43887),S=e(73413),O=e(33510),A=e(68262),u=e(44396),o=e(28967);function s({post:w,publication:P,readOnly:C,onClick:x}){const D=(0,u.XA)(),y=(0,v.xR)().getConfigFor("enable_unified_home_web"),M=w.cover_image;return(0,t.h)(g.tu,{as:C?"div":"a",className:o.Z.post,bg:"elevated",border:"detail",radius:12,onClick:T=>{x&&x(),!C&&S.L&&(!D||y)&&(0,_.Q)(T,(0,p.getPostUrl)(P,w,{noBase:!0,feedViewer:!0}))},href:C?void 0:(0,p.getPostUrl)(P,w,{feedViewer:!1}),minWidth:0},M&&(0,t.h)(l.e,{className:i()(o.Z.postImage,D&&o.Z.mobile),imageProps:{smartCrop:!0,aspect:D?"3:2":"2:1"},src:M,maxWidth:1e3}),(0,t.h)(g.tu,{gap:4,padding:12,borderTop:M?"detail":"transparent"},(0,t.h)(g.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,t.h)(A.F,{pub:P,size:20}),(0,t.h)(E.xv.Meta,{ellipsis:!0},C?P.name:(0,t.h)(O.zr,{href:(0,c.getPubUrl)(P)},P.name))),(0,t.h)(E.xv.B3,{clamp:D?1:2,color:"primary",weight:"medium"},w.title),(0,t.h)(E.xv.B4,{clamp:2,color:"secondary"},w.description)))}},11132:(K,f,e)=>{"use strict";e.d(f,{F:()=>c,q:()=>i});var t=e(98661),a=e(30396);const i=(0,t.createContext)(void 0);function c(){return(0,a.qp)(i)}},67394:(K,f,e)=>{"use strict";e.d(f,{a:()=>C});var t=e(6400),a=e(8479),i=e(26686),c=e(51126),p=e(62246),l=e(80043),v=e(43887),_=e(33510),g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(D,y,M)=>y in D?g(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,s=(D,y)=>{for(var M in y||(y={}))A.call(y,M)&&o(D,M,y[M]);if(O)for(var M of O(y))u.call(y,M)&&o(D,M,y[M]);return D},w=(D,y)=>E(D,S(y)),P=(D,y,M)=>new Promise((T,R)=>{var F=V=>{try{U(M.next(V))}catch(W){R(W)}},N=V=>{try{U(M.throw(V))}catch(W){R(W)}},U=V=>V.done?T(V.value):Promise.resolve(V.value).then(F,N);U((M=M.apply(D,y)).next())});function C({isOpen:D,onClose:y}){return(0,t.h)(p.u_,{isOpen:D,onClose:y},(0,t.h)(x,null))}function x(){const{data:D,isLoading:y,error:M,mutate:T}=(0,i._)("/api/v1/reader/interests/tags"),R=F=>P(this,null,function*(){var N,U;const V=(D!=null?D:[]).find(({tag:L})=>L.id===F),W=((N=V==null?void 0:V.interest)==null?void 0:N.sentiment)!=="negative";if(T((L=[])=>W?L.map(k=>k.tag.id===F?w(s({},k),{interest:w(s({},k.interest),{id:null,tag_id:F,sentiment:"negative"})}):k):L.map(k=>k.tag.id===F?w(s({},k),{interest:null}):k),{revalidate:!1}),W)yield(0,a.rd)("/api/v1/reader/interest",{method:"POST",json:{type:"leaderboard",tag_id:F,sentiment:"negative"}});else{const L=(U=V==null?void 0:V.interest)==null?void 0:U.id;L&&(yield(0,a.rd)(`/api/v1/reader/interest/${L}`,{method:"DELETE"}))}T()});return(0,t.h)(c.tu,{bg:"secondary",gap:16,padding:16},(0,t.h)(c.tu,{gap:4},(0,t.h)(v.xv.H3,null,"Manage interests"),(0,t.h)(v.xv.B3,{color:"secondary"},"Selects topics to personalize your experience and get occasional recommendations in feed.")),(0,t.h)(c.tu,{bg:"primary",border:"detail",radius:"medium",gap:20,padding:12,overflowY:"auto",style:{maxHeight:392}},y?Array(10).fill(null).map(()=>(0,t.h)(_.Vm,{height:20})):M?"Error":D?D.map(({tag:F,interest:N})=>(0,t.h)(c.hs,{key:F.id,gap:12},F.emoji&&(0,t.h)(v.xv.B4,{size:24},F.emoji),(0,t.h)(v.xv.B4,{flex:"grow",weight:"bold",ellipsis:!0},F.canonical_name),(0,t.h)(l.r,{checked:(N==null?void 0:N.sentiment)!=="negative",onChange:()=>R(F.id)}))):null))}},62017:(K,f,e)=>{"use strict";e.d(f,{xG:()=>y,Zg:()=>D,hh:()=>M});var t=e(6400),a=e(94184),i=e.n(a),c=e(2731),p=e(80332),l=e(67963),v=e(43887),_=e(73413),g=e(18130);const E={link:"frontend-feed-TextLink-module__link--VuuIc"};var S=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(T,R,F)=>R in T?S(T,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[R]=F,P=(T,R)=>{for(var F in R||(R={}))o.call(R,F)&&w(T,F,R[F]);if(u)for(var F of u(R))s.call(R,F)&&w(T,F,R[F]);return T},C=(T,R)=>O(T,A(R)),x=(T,R)=>{var F={};for(var N in T)o.call(T,N)&&R.indexOf(N)<0&&(F[N]=T[N]);if(T!=null&&u)for(var N of u(T))R.indexOf(N)<0&&s.call(T,N)&&(F[N]=T[N]);return F};function D(T){var R=T,{user:F,utm_source:N,utm_content:U,ellipsis:V,useYou:W,onClick:L}=R,k=x(R,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const H=(0,l.aF)(),G=(F==null?void 0:F.id)||(F==null?void 0:F.user_id)||0,q=W&&(H==null?void 0:H.id)===G?"You":F.name;return(0,t.h)(y,P({user:F,utm_source:N,utm_content:U,ellipsis:V,onClick:L},k),q)}function y(T){var R=T,{user:F,utm_source:N,utm_content:U,children:V,onClick:W}=R,L=x(R,["user","utm_source","utm_content","children","onClick"]);const k=C(P({},F),{id:F.author_id||F.user_id||F.id,name:F.user_profile_name||F.author_name||F.name,handle:(F==null?void 0:F.handle)||(F==null?void 0:F.author_handle)});return(0,t.h)(p.Ct,{subject:k,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,t.h)(M,P({href:(0,c.getReaderProfileUrl)(F,{noBase:_.L,utm_content:U,utm_source:N}),onClick:W},L),V))}function M(T){var R=T,{weight:F,color:N,decoration:U="hover-underline",ellipsis:V,className:W}=R,L=x(R,["weight","color","decoration","ellipsis","className"]);return(0,t.h)(v.Zx,{ellipsis:V,weight:F,color:N,decoration:U},(0,t.h)(g.r,C(P({},L),{className:i()(W,E.link)})))}},59386:(K,f,e)=>{"use strict";e.d(f,{m:()=>O});var t=e(6400),a=Object.defineProperty,i=Object.defineProperties,c=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?a(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A},E=(A,u)=>i(A,c(u)),S=(A,u)=>{var o={};for(var s in A)l.call(A,s)&&u.indexOf(s)<0&&(o[s]=A[s]);if(A!=null&&p)for(var s of p(A))u.indexOf(s)<0&&v.call(A,s)&&(o[s]=A[s]);return o};function O(A){var u=A,{size:o=20,stroke:s="var(--color-light-secondary)"}=u,w=S(u,["size","stroke"]);return(0,t.h)("svg",E(g({},w),{width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:s,xmlns:"http://www.w3.org/2000/svg"}),(0,t.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(K,f,e)=>{"use strict";e.d(f,{Fb:()=>V,KF:()=>F,Ku:()=>R,Zb:()=>N,oM:()=>y,sP:()=>U});var t=e(6400),a=e(94184),i=e.n(a),c=e(85928),p=e.n(c),l=e(20501),v=e(80332),_=e(51126),g=e(43887),E=e(10186),S=e(73413),O=e(18130),A=e(44396),u=e(28967),o=Object.defineProperty,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(W,L,k)=>L in W?o(W,L,{enumerable:!0,configurable:!0,writable:!0,value:k}):W[L]=k,x=(W,L)=>{for(var k in L||(L={}))w.call(L,k)&&C(W,k,L[k]);if(s)for(var k of s(L))P.call(L,k)&&C(W,k,L[k]);return W},D=(W,L)=>{var k={};for(var H in W)w.call(W,H)&&L.indexOf(H)<0&&(k[H]=W[H]);if(W!=null&&s)for(var H of s(W))L.indexOf(H)<0&&P.call(W,H)&&(k[H]=W[H]);return k};function y(W){var L=W,{showGutter:k=!1,hasAvatar:H=!0,hasContext:G=!1,onClick:q}=L,z=D(L,["showGutter","hasAvatar","hasContext","onClick"]);const ee=q?$=>{const{target:J}=$;J instanceof Element&&J.closest("button, a")||$.defaultPrevented||q($)}:void 0;return(0,t.h)(_.tu,x({className:i()(u.Z.feedUnit,k?u.Z.showThreadGutter:void 0,G?u.Z.hasContext:void 0,q&&u.Z.hasAction,H?u.Z.hasAvatar:void 0),gap:4,onClick:ee},z))}const M=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),T=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function R({timestamp:W}){const L=p()(),k=p()(W),H=L.diff(k,"day"),G=L.diff(k,"year");let q;return G>=1?q=T.format(k.toDate()):H>7?q=M.format(k.toDate()):q=k.fromNowShort(),(0,t.h)(g.Zx,{color:"secondary"},W&&q)}function F({children:W}){return(0,t.h)(g.xv.B3,null,(0,t.h)(_.hs,{flex:"grow",minWidth:0},(0,t.h)(_.hs,{gap:8,alignItems:"center",flex:"grow"},W)))}function N({user:W,className:L}){const k=(0,A.XA)();return(0,t.h)(E.qE,{size:k?36:40,user:W,className:L})}function U({large:W,children:L}){return W?(0,t.h)(g.xv.B2,{className:u.Z.feedCommentBodyInner,color:"primary"},L):(0,t.h)(g.xv.B3,{className:u.Z.feedCommentBodyInner,color:"primary"},L)}function V({user:W,onClick:L,utm_content:k,desaturate:H}){const G=(0,O.c)({href:(0,l.getReaderProfileUrl)(W,{noBase:S.L}),onClick:L,campaign:{content:k}});return(0,t.h)(_.hs,x({as:"a",flex:"auto",alignSelf:"start"},G),(0,t.h)(v.Ct,{subject:W,dontStopPropagation:!0,utmSource:"feed"},(0,t.h)(N,{user:W,className:H?u.Z.desaturate:void 0})))}},69371:(K,f,e)=>{"use strict";e.d(f,{$U:()=>g,rI:()=>O});var t=e(6400),a=e(98661),i=e(30396),c=e(81470),p=e(9686),l=e(91870),v=e(50292),_=e(10174);function g({state:A,dispatch:u,surface:o,children:s}){const{onboardingModalRef:w}=(0,v.SJ)(),P=(0,i.Ye)(()=>({dispatch:u}),[]);return(0,t.h)(E.Provider,{value:o},(0,t.h)(l.RR.Provider,{value:P},(0,t.h)(l.ev.Provider,{value:A},(0,t.h)(_.Au,null,s,A.isSigningIn&&(0,t.h)(p.I,{onCancel:()=>u({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{u({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var C;u({type:"sign_in",payload:{isSigningIn:!1}}),(C=w.current)==null||C.open()},noExit:A.signInNoExit})))))}const E=(0,a.createContext)(c.U.Feed);function S({surface:A,children:u}){return h(E.Provider,{value:A},u)}function O(){return(0,i.qp)(E)}},84035:(K,f,e)=>{"use strict";e.d(f,{EB:()=>L,up:()=>k,Mr:()=>W,hr:()=>V,rF:()=>N,O3:()=>U,RM:()=>H});var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(6742),v=e(84606),_=e(51126),g=e(43887),E=e(41474),S=e(20501),O=e(69371),A=e(11132),u=e(62017);const o={blurBg:"frontend-feed-item-common-module__blurBg--lfwvL",blurFg:"frontend-feed-item-common-module__blurFg--L3vJu"};var s=e(28967),w=Object.defineProperty,P=Object.defineProperties,C=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,M=(G,q,z)=>q in G?w(G,q,{enumerable:!0,configurable:!0,writable:!0,value:z}):G[q]=z,T=(G,q)=>{for(var z in q||(q={}))D.call(q,z)&&M(G,z,q[z]);if(x)for(var z of x(q))y.call(q,z)&&M(G,z,q[z]);return G},R=(G,q)=>P(G,C(q)),F=(G,q)=>{var z={};for(var ee in G)D.call(G,ee)&&q.indexOf(ee)<0&&(z[ee]=G[ee]);if(G!=null&&x)for(var ee of x(G))q.indexOf(ee)<0&&y.call(G,ee)&&(z[ee]=G[ee]);return z};function N({item:G,children:q,onFirstVisible:z}){const ee=(0,i.sO)(null),$=(0,O.rI)(),J=(0,i.qp)(A.q);return(0,l.UM)(ee,()=>{(0,E.zi)(G,$,{tabId:J}),z&&z()},{threshold:.2}),(0,t.h)(U,{ref:ee},q)}const U=(0,a.forwardRef)((G,q)=>(0,t.h)(_.tu,R(T({},G),{className:s.Z.feedItem,gap:4,ref:q})));function V({item:G,children:q,onFirstVisible:z}){return(0,t.h)(N,{item:G,onFirstVisible:z},(0,t.h)(_.tu,{className:s.Z.feedPad,paddingY:32,gap:16},q))}const W=(0,v.E7)({position:"relative",display:"flex",direction:"column",radius:"medium",bg:"elevated",border:"detail",shadow:"md",overflow:"hidden"});function L(G){var q=G,{className:z,children:ee,imageUrl:$,width:J,height:j}=q,Z=F(q,["className","children","imageUrl","width","height"]);const ne=$&&(0,S.imginary)($,J,{height:j,gravity:"auto",format:"jpg"});return(0,t.h)(_.hs,R(T({},Z),{className:p()(o.blurBg,z),style:ne?{backgroundImage:`url('${ne}')`}:void 0}),ee)}const k=(0,v.E7)({className:o.blurFg,display:"flex",flex:"grow"});function H({title:G,url:q,subtitle:z}){return(0,t.h)(_.tu,{gap:4},(0,t.h)(g.xv.H2,null,q?(0,t.h)(u.hh,{href:q},G):G),z&&(0,t.h)(g.xv.B4,{color:"secondary"},z))}},55463:(K,f,e)=>{"use strict";e.d(f,{a:()=>i});var t=e(8479),a=(c,p,l)=>new Promise((v,_)=>{var g=O=>{try{S(l.next(O))}catch(A){_(A)}},E=O=>{try{S(l.throw(O))}catch(A){_(A)}},S=O=>O.done?v(O.value):Promise.resolve(O.value).then(g,E);S((l=l.apply(c,p)).next())});function i({editComment:c}={}){const p=(0,t.ib)({pathname:c?`/api/v1/feed/comment/${c.id}`:"/api/v1/comment/feed"});return{create:l=>a(this,[l],function*({bodyJson:v,parentPostId:_,parentPubId:g,parent_id:E,attachmentIds:S,tabId:O,replyMinimumRole:A}){return yield p.refetch({pathname:c?`/api/v1/feed/comment/${c.id}`:_?`/api/v1/post/${_}/comment`:"/api/v1/comment/feed",method:c?"PATCH":"POST",json:{bodyJson:v,parent_id:E,publication_id:g,attachmentIds:S,tabId:O,replyMinimumRole:A}})}),error:p.error,isLoading:p.isLoading}}},77883:(K,f,e)=>{"use strict";e.d(f,{G:()=>x});var t=e(6400),a=e(71375),i=e(25380),c=e(58718),p=e(67963),l=e(8479),v=e(75425),_=e(72307),g=e(3258),E=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(D,y,M)=>y in D?E(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,w=(D,y)=>{for(var M in y||(y={}))u.call(y,M)&&s(D,M,y[M]);if(A)for(var M of A(y))o.call(y,M)&&s(D,M,y[M]);return D},P=(D,y)=>S(D,O(y)),C=(D,y,M)=>new Promise((T,R)=>{var F=V=>{try{U(M.next(V))}catch(W){R(W)}},N=V=>{try{U(M.throw(V))}catch(W){R(W)}},U=V=>V.done?T(V.value):Promise.resolve(V.value).then(F,N);U((M=M.apply(D,y)).next())});function x({publication:D,profileId:y,onSuccess:M=()=>{},source:T}){const R=(0,p.aF)(),F=(0,_.Th)(),N=(0,c.oJ)(),{popToast:U}=(0,v.pm)(),{isLoading:V,refetch:W}=(0,l.ib)({pathname:"/api/v1/reader/signup/pub",method:"POST",json:{publication_id:D.id,email:R==null?void 0:R.email,visibility:"public",source:T}});return{isLoading:V,subscribe:()=>C(this,null,function*(){R||U(L=>(0,t.h)(v.FN,P(w({},L),{text:"Something went wrong. Please try again.",Icon:a.Z})));try{yield W(),U(L=>(0,t.h)(v.FN,P(w({},L),{text:`Subscribed to ${D.name}`,Icon:i.Z}))),M(),F.refetch(),y&&N((L=[])=>L.includes(y)?L:[y,...L],{revalidate:!1}),(0,g.j)(g.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:T,publication_id:D.id})}catch(L){console.error(L),U(k=>(0,t.h)(v.FN,P(w({},k),{text:"There was an issue subscribing to this profile.",Icon:a.Z})))}})}}},15748:(K,f,e)=>{"use strict";e.d(f,{g:()=>o});var t=e(6400),a=e(99869),i=e(75425),c=e(39419),p=e.n(c),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(s,w,P)=>w in s?l(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,A=(s,w)=>{for(var P in w||(w={}))E.call(w,P)&&O(s,P,w[P]);if(g)for(var P of g(w))S.call(w,P)&&O(s,P,w[P]);return s},u=(s,w)=>v(s,_(w));function o(){const s=(0,i.pm)();return w=>{(0,c.copyToClipboard)(w),s.popToast(P=>(0,t.h)(i.FN,u(A({},P),{text:"Link copied",Icon:a.Z})))}}},39776:(K,f,e)=>{"use strict";e.r(f),e.d(f,{SiteConfigGate:()=>p,default:()=>c,getConfigFor:()=>i});var t=e(6400),a=e(63270);function i(l){var v;if(!l||typeof window=="undefined"||!((v=window._preloads)!=null&&v.siteConfigs))return null;const _=window._preloads.siteConfigs[l];return _===void 0?null:_}const c=i;function p({configKey:l,children:v,value:_=!0}){return(0,a.xR)().getConfigFor(l)==_?(0,t.h)(t.Fragment,null,v):null}},35225:(K,f,e)=>{"use strict";e.d(f,{S:()=>x});var t=e(6400),a=e(8618),i=e(85928),c=e.n(i),p=e(61782),l=e(15045),v=e(13833),_=e(75425),g=e(3258),E=e(58884),S=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(D,y,M)=>y in D?S(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,P=(D,y)=>{for(var M in y||(y={}))o.call(y,M)&&w(D,M,y[M]);if(u)for(var M of u(y))s.call(y,M)&&w(D,M,y[M]);return D},C=(D,y)=>O(D,A(y));function x({user:D,noBase:y}){const M=(0,_.pm)(),T=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const R="has_seen_like_nux",F=(0,E.mM)(R),N=p.L;return F&&D&&!D.has_seen_like_nux?(T(),!1):!D||!D.profile_set_up_at||D.subscription_visibility==="private"||!D.activity_likes_enabled||F||D.has_seen_like_nux||c()((D==null?void 0:D.profile_set_up_at)||0).unix()>N?!1:((0,g.j)(g.FP.LIKE_NUX_SHOWN),(0,E.ex)(R,!0),T(),M.popToast(U=>(0,t.h)(_.Us,C(P({},U),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,t.h)(t.Fragment,null,(0,t.h)(_.lL,{href:(0,l.getReaderProfileUrl)(D,{utm_source:"like_toast",noBase:y})},(0,t.h)(v.Av,null,"OK")),(0,t.h)(_.lL,{href:(0,l.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,t.h)(v.Av,{color:"secondary"},"Settings"))),Icon:a.Z}))),!0)}}},49619:(K,f,e)=>{"use strict";e.d(f,{t:()=>p,z:()=>c});var t=e(6400),a=e(68842),i=e(83322);const c=l=>l.podcast_url&&l.podcast_duration>0?"podcast":l.videoUpload&&l.videoUpload.duration&&l.videoUpload.duration>0?"video":l.type==="thread"?"thread":"newsletter",p=function(l,{currency:v,totalAmount:_,discount:g,quantity:E=1,trial_end_override:S,noTrial:O=!1,recurring:A=!0,isGroupSubscription:u=!1,isUnlimitedGroupSubscription:o=!1,language:s="en"}={}){var w;const{iString:P,iPlural:C}=I18N.i(s);v||(v=l.currency);let x;if(_!==void 0)x=_;else{let U=(0,a.planAmount)(l,v);U===void 0&&(v=l.currency,U=(w=l.amount)!=null?w:0),x=U*E}const D=(0,i.centsToPriceString)(x,v);let y;if(g&&!g.loading&&!g.error&&(g.percent_off||g.amount_off)){let U;g.percent_off?U=Math.round(x*(1-(g.percent_off_precise||g.percent_off)/100)):g.amount_off&&(U=Math.max(0,x-g.amount_off)),y=(0,i.centsToPriceString)(U,v)}const M=y||D;let T;l.is_bitcoin?(l.interval==="month"&&(T=C("%2/1 month","%2/%1 months",l.interval_count,M)),l.interval==="week"&&(T=C("%2/1 week","%2/%1 weeks",l.interval_count,M)),l.interval==="day"&&(T=C("%2/1 day","%2/%1 days",l.interval_count,M)),l.interval==="year"&&(T=C("%2/1 year","%2/%1 years",l.interval_count,M))):l&&A&&!u&&!o?(l.interval==="month"&&(T=C("%2 per month","%2 per %1 months",l.interval_count,M)),l.interval==="week"&&(T=C("%2 per week","%2 per %1 weeks",l.interval_count,M)),l.interval==="day"&&(T=C("%2 per day","%2 per %1 days",l.interval_count,M)),l.interval==="year"&&(T=C("%2 per year","%2 per %1 years",l.interval_count,M))):l&&!A&&!u&&!o?(l.interval==="month"&&(T=C("%2 for one month","%2 for %1 months",l.interval_count,M)),l.interval==="week"&&(T=C("%2 for one week","%2 for %1 weeks",l.interval_count,M)),l.interval==="day"&&(T=C("%2 for one day","%2 for %1 days",l.interval_count,M)),l.interval==="year"&&(T=C("%2 for one year","%2 for %1 years",l.interval_count,M))):l&&A&&u&&!o?(l.interval==="month"&&(T=C("%2 for one month per person","%2 for %1 months per person",l.interval_count,M)),l.interval==="week"&&(T=C("%2 for one week per person","%2 for %1 weeks per person",l.interval_count,M)),l.interval==="day"&&(T=C("%2 for one day per person","%2 for %1 days per person",l.interval_count,M)),l.interval==="year"&&(T=C("%2 for one year per person","%2 for %1 years per person",l.interval_count,M))):l&&A&&u&&o&&(l.interval==="month"&&(T=C("%2 for one month for unlimited seats","%2 for %1 months for unlimited seats",l.interval_count,M)),l.interval==="week"&&(T=C("%2 for one week for unlimited seats","%2 for %1 weeks for unlimited seats",l.interval_count,M)),l.interval==="day"&&(T=C("%2 for one day for unlimited seats","%2 for %1 days for unlimited seats",l.interval_count,M)),l.interval==="year"&&(T=C("%2 for one year for unlimited seats","%2 for %1 years for unlimited seats",l.interval_count,M)));let R;const F=Math.max(0,l.trial_period_days||0,g&&g.trial_period_days||0,S?Math.ceil((S-Date.now()/1e3)/60/60/24):0);!O&&F>0&&(R=C("%1 day free trial","%1 day free trial",F));let N;if(g&&y&&A&&g.duration!=="forever"){const U=g.duration==="once"?1:g.duration_in_months/(l.interval==="year"?12:1)*l.interval_count;l.interval==="month"&&(N=C("for first month","for first %1 months",U)),l.interval==="week"&&(N=C("for first week","for first %1 weeks",U)),l.interval==="day"&&(N=C("for first day","for first %1 days",U)),l.interval==="year"&&(N=C("for first year","for first %1 years",U))}return g&&g.loading?(0,t.h)(t.Fragment,null,T," ",(0,t.h)("span",{className:"discount-price"}," (",P("coupon loading"),")")):g&&g.error?(0,t.h)(t.Fragment,null,T," ",(0,t.h)("span",{className:"discount-price error"}," (",P("coupon invalid or expired"),")")):y?(0,t.h)(t.Fragment,null,(0,t.h)("span",{className:"crossed-out"},D)," ",(0,t.h)("span",{className:"discount-price"},T," ",N?`(${N}) `:"",R)):(0,t.h)(t.Fragment,null,T," ",R)}},54853:(K,f,e)=>{"use strict";e.r(f),e.d(f,{MeetingEmbed:()=>O,MeetingEmbedStatic:()=>S});var t=e(6400),a=e(79774),i=e(28488),c=e(18492),p=e(39419),l=e(84040),v=e(51126),_=e(43887),g=e(96450);const E={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},S=({avatarUrl:A,name:u,url:o})=>{const{iString:s}=(0,i.M1)();return(0,t.h)(c.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,t.h)(c.zK,{gap:12},(0,t.h)(c.NS,{src:A,size:40}),(0,t.h)(c.i$,null,(0,t.h)(_.xv.H4,{translated:!0,size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(u)),(0,t.h)(_.xv.B4,{translated:!0,color:"pub-secondary-text"},"Schedule a meeting"))),(0,t.h)(c.Bj,{tableClassName:E.emailButton,href:o},s("Book meeting")))},O=({avatarUrl:A,name:u,url:o})=>{const{iString:s}=(0,i.M1)();return(0,t.h)(v.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:E.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,t.h)(v.gq,{className:E.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,t.h)(g.q,{className:E.avatar,imageUrl:A,size:"lg",badge:(0,t.h)("div",{className:E.badge},(0,t.h)(a.Z,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,t.h)("div",null,(0,t.h)(_.xv.H4,{translated:!0,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",I18N.p(u)),(0,t.h)(_.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,t.h)(l.zx,{className:E.cta,priority:"primary-theme",onClick:()=>{(0,p.redirect)(o,{newTab:!0})}},s("Book meeting")))}},11059:(K,f,e)=>{"use strict";e.d(f,{a:()=>_});var t=e(6400),a=e(30396),i=e(84606),c=e(84040),p=e(34394),l=e(62246),v=e(43887);const _=({isOpen:g=!1,title:E,body:S,onClose:O,customPrimaryButton:A,secondaryButton:u,confirmationString:o})=>{const s=(0,a.sO)(null),[w,P]=(0,a.eJ)(!!o);return(0,a.d4)(()=>{g&&o&&P(!0)},[g,o]),(0,t.h)(l.u_,{isOpen:g,onClose:O,initialFocus:s},E&&(0,t.h)(l.xB,{title:E,includeClose:!1}),(0,t.h)(l.fe,null,(0,t.h)(v.xv.B3,null,S),o&&(0,t.h)(i.xu,{paddingTop:16},(0,t.h)(p.o,{onChange:C=>{P(!0),o.toLowerCase()===C.target.value.toLowerCase()&&P(!1)}}))),(0,t.h)(l.mz,{primaryButton:A?(0,t.cloneElement)(A,{ref:s,disabled:w}):(0,t.h)(c.zx,{ref:s,onClick:O,priority:"primary",disabled:w},"OK"),secondaryButton:u}))}},83787:(K,f,e)=>{"use strict";e.d(f,{H:()=>c});var t=e(6400),a=e(30396);const i=150,c=({children:p,expanded:l,renderWhenCollapsed:v,onEnter:_,flex:g})=>{const E=(0,a.sO)(null),[S,O]=(0,a.eJ)(l?"expanded":"collapsed"),[A,u]=(0,a.eJ)(null);return(0,a.d4)(()=>{l&&S==="collapsed"&&O("startExpanding"),S==="startExpanding"&&E.current&&(u(E.current.offsetHeight),O("expanding"),setTimeout(()=>{O("expanded"),_&&_()},i)),!l&&S==="expanded"&&E.current&&(u(E.current.offsetHeight),O("startCollapsing")),S==="startCollapsing"&&(O("collapsing"),setTimeout(()=>{O("collapsed")},i))},[l,S]),(0,t.h)("div",{style:{height:S==="collapsed"||S==="startExpanding"||S==="collapsing"?0:S==="expanding"||S==="startCollapsing"?A:null,transition:`height ${i}ms ease-in-out`,overflow:S==="expanded"?"visible":"hidden",display:g?"flex":"block",flexDirection:"column"}},(0,t.h)("div",{ref:E,style:{paddingTop:.05,paddingBottom:.05,display:g?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(S!=="collapsed"||v)&&p))}},84606:(K,f,e)=>{"use strict";e.d(f,{E7:()=>y,xu:()=>x,yK:()=>D});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(14293),l=e.n(p),v=e(19206),_=e(28614),g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(T,R,F)=>R in T?g(T,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[R]=F,s=(T,R)=>{for(var F in R||(R={}))A.call(R,F)&&o(T,F,R[F]);if(O)for(var F of O(R))u.call(R,F)&&o(T,F,R[F]);return T},w=(T,R)=>E(T,S(R)),P=(T,R)=>{var F={};for(var N in T)A.call(T,N)&&R.indexOf(N)<0&&(F[N]=T[N]);if(T!=null&&O)for(var N of O(T))R.indexOf(N)<0&&u.call(T,N)&&(F[N]=T[N]);return F};function C(T){var R,F;return l()(T)?[null,null]:typeof T=="object"?[(R=T.desktop)!=null?R:null,(F=T.mobile)!=null?F:null]:[T,null]}const x=(0,a.forwardRef)(function(R,F){var N=R,{display:U,as:V,className:W,direction:L,flex:k,inline:H,wrap:G,gap:q,padding:z,paddingX:ee,paddingY:$,paddingTop:J,paddingBottom:j,paddingLeft:Z,paddingRight:ne,justifyContent:ie,alignItems:oe,alignSelf:re,minWidth:ae,minHeight:se,style:fe,border:le,borderTop:Ae,borderBottom:De,borderLeft:je,borderRight:Je,borderY:Be,radius:st,divider:ht,shadow:gt,bg:Xe,overflow:Re,overflowY:Ne,overflowX:ke,scrollBar:ot,sizing:Dt,ellipsis:ln,pullX:ct,textAlign:Oe,fontSize:Se,fontWeight:Ze,color:Fe,decoration:Ke,font:et,fontStyle:Qe,isParagraph:$e,lineHeight:Te,textTransform:te,nowrap:ue,clamp:we,position:me,inset:Ee,cursor:he}=N,xe=P(N,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","divider","shadow","bg","overflow","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position","inset","cursor"]);const Ve=V!=null?V:"div";return(0,t.h)(Ve,s({ref:F,className:c()(D({display:U,direction:L,flex:k,inline:H,wrap:G,gap:q,padding:z,paddingX:ee,paddingY:$,paddingTop:J,paddingBottom:j,paddingLeft:Z,paddingRight:ne,justifyContent:ie,alignItems:oe,alignSelf:re,minWidth:ae,minHeight:se,border:le,borderTop:Ae,borderBottom:De,borderLeft:je,borderRight:Je,borderY:Be,radius:st,divider:ht,shadow:gt,bg:Xe,overflow:Re,overflowY:Ne,overflowX:ke,scrollBar:ot,sizing:Dt,ellipsis:ln,pullX:ct,textAlign:Oe,fontSize:Se,fontWeight:Ze,color:Fe,decoration:Ke,font:et,fontStyle:Qe,isParagraph:$e,lineHeight:Te,textTransform:te,nowrap:ue,clamp:we,position:me,inset:Ee,cursor:he}),W),style:fe},xe))});function D({display:T,direction:R,flex:F,inline:N,wrap:U,gap:V,padding:W,paddingX:L,paddingY:k,paddingTop:H,paddingBottom:G,paddingLeft:q,paddingRight:z,justifyContent:ee,alignItems:$,alignSelf:J,minWidth:j,minHeight:Z,border:ne,borderTop:ie,borderBottom:oe,borderLeft:re,borderRight:ae,borderY:se,radius:fe,divider:le,shadow:Ae,bg:De,overflow:je,overflowY:Je,overflowX:Be,scrollBar:st,sizing:ht,ellipsis:gt,pullX:Xe,textAlign:Re,fontSize:Ne,fontWeight:ke,color:ot,decoration:Dt,font:ln,fontStyle:ct,isParagraph:Oe,lineHeight:Se,textTransform:Ze,nowrap:Fe,clamp:Ke,position:et,inset:Qe,cursor:$e}){const[Te,te]=C(V),[ue,we]=C(W),[me,Ee]=C(L),[he,xe]=C(k),[Ve,Pe]=C(H),[Ie,ze]=C(G),[tt,Le]=C(q),[It,on]=C(z),[zt,$t]=C(R),[Bt,xn]=C(U),[Hn,ir]=C(ee),[Vn,_t]=C($),[ut,Ce]=C(T);return c()("pencraft",{[v.Z.flexGrow]:F==="grow",[v.Z.flexFill]:F==="fill",[v.Z.flexAuto]:F==="auto"},v.Z.reset,T!=null&&v.Z[`display-${ut}`],N&&v.Z["display-inline-flex"],zt!=null&&v.Z[`flex-direction-${zt}`],Bt!=null&&v.Z[`flex-wrap-${Bt}`],Hn!=null&&v.Z[`flex-justify-${Hn}`],Vn!=null&&v.Z[`flex-align-${Vn}`],J!=null&&v.Z[`flex-align-self-${J}`],Te!=null&&v.Z[`flex-gap-${Te}`],ue!=null&&v.Z[`padding-${ue}`],me!=null&&v.Z[`padding-x-${me}`],he!=null&&v.Z[`padding-y-${he}`],Ve!=null&&v.Z[`padding-top-${Ve}`],Ie!=null&&v.Z[`padding-bottom-${Ie}`],tt!=null&&v.Z[`padding-left-${tt}`],It!=null&&v.Z[`padding-right-${It}`],$t!=null&&v.Z[`flex-direction-mobile-${$t}`],xn!=null&&v.Z[`flex-wrap-mobile-${xn}`],ir!=null&&v.Z[`flex-justify-mobile-${ir}`],te!=null&&v.Z[`flex-gap-mobile-${te}`],_t!=null&&v.Z[`flex-align-mobile-${_t}`],we!=null&&v.Z[`padding-mobile-${we}`],Ee!=null&&v.Z[`padding-x-mobile-${Ee}`],xe!=null&&v.Z[`padding-y-mobile-${xe}`],Pe!=null&&v.Z[`padding-top-mobile-${Pe}`],ze!=null&&v.Z[`padding-bottom-mobile-${ze}`],Le!=null&&v.Z[`padding-left-mobile-${Le}`],on!=null&&v.Z[`padding-right-mobile-${on}`],Ce!=null&&v.Z[`display-mobile-${Ce}`],j!=null&&v.Z[`min-width-${j}`],Z!=null&&v.Z[`min-height-${Z}`],ne&&v.Z[`border-${ne}`],ie&&v.Z[`border-top-${ie}`],oe&&v.Z[`border-bottom-${oe}`],re&&v.Z[`border-left-${re}`],ae&&v.Z[`border-right-${ae}`],se&&v.Z[`border-y-${se}`],fe!=null&&v.Z[`border-radius-${M(fe)}`],le!=null&&v.Z[`divider-${le}`],Ae&&v.Z[`shadow-${Ae}`],De!=null&&v.Z[`bg-${De}`],je&&v.Z[`overflow-${je}`],Je&&v.Z[`overflowY-${Je}`],Be&&v.Z[`overflowX-${Be}`],st&&v.Z[`scrollBar-${st}`],ht&&v.Z[`sizing-${ht}`],gt&&v.Z.ellipsis,Xe&&v.Z[`pullX-${Xe}`],et&&v.Z[`position-${et}`],Qe!=null&&v.Z[`inset-${Qe}`],$e&&v.Z[`cursor-${$e}`],Re&&_.Z[`align-${Re}`],Ne&&_.Z[`size-${Ne}`],Se&&_.Z[`line-height-${Se}`],ke&&_.Z[`weight-${ke}`],ln&&_.Z[`font-${ln}`],ct&&_.Z[`font-style-${ct}`],ot&&_.Z[`color-${ot}`],Ze&&_.Z[`transform-${Ze}`],Fe&&_.Z.nowrap,Ke&&`${_.Z.clamp} ${_.Z[`clamp-${Ke}`]}`,Dt&&_.Z[`decoration-${Dt}`],Oe&&_.Z.paragraph)}function y(T){var R=T,{className:F,displayName:N}=R,U=P(R,["className","displayName"]);const V=(0,a.forwardRef)((W,L)=>{var k=W,{className:H}=k,G=P(k,["className"]);return(0,t.h)(x,w(s(s({},U),G),{ref:L,className:c()(F,H)}))});return V.displayName=N,V}function M(T){return T===6?"small":T===12?"medium":T===24?"large":T}},84040:(K,f,e)=>{"use strict";e.d(f,{hU:()=>M,kG:()=>D,zx:()=>y});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(39419),l=e.n(p),v=e(5668),_=e(43887),g=e(19206),E=e(4924),S=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(R,F,N)=>F in R?S(R,F,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[F]=N,P=(R,F)=>{for(var N in F||(F={}))o.call(F,N)&&w(R,N,F[N]);if(u)for(var N of u(F))s.call(F,N)&&w(R,N,F[N]);return R},C=(R,F)=>O(R,A(F)),x=(R,F)=>{var N={};for(var U in R)o.call(R,U)&&F.indexOf(U)<0&&(N[U]=R[U]);if(R!=null&&u)for(var U of u(R))F.indexOf(U)<0&&s.call(R,U)&&(N[U]=R[U]);return N};const D=(0,a.forwardRef)((R,F)=>{var N=R,{onClick:U,href:V,localNavigation:W,newTab:L,className:k,resetCss:H}=N,G=x(N,["onClick","href","localNavigation","newTab","className","resetCss"]);const q=V?z=>{U&&(U.call(z.target,z),z.defaultPrevented)||(0,p.redirect)(V,{event:z,local_navigation:W,newTab:L})}:U;return(0,t.h)("button",C(P({tabIndex:0,type:"button"},G),{className:c()("pencraft",k,H&&E.Z.buttonBase),ref:F,onClick:q,"data-href":V}))});D.displayName="UnstyledButton";const y=(0,a.forwardRef)(function(F,N){var U=F,{className:V,priority:W="primary",size:L="medium",fill:k="filled",outline:H,rounded:G,disabled:q,grow:z,leftIcon:ee,rightIcon:$,allCaps:J,children:j,hiddenInput:Z,justifyContent:ne="center"}=U,ie=x(U,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,t.h)(D,P({className:c()(V,E.Z.buttonBase,E.Z.button,E.Z[`priority_${W}`],E.Z[`size_${L}`],E.Z[`fill_${k}`],H&&E.Z.outline_none,G&&E.Z.rounded,z&&E.Z.grow,ee!=null&&E.Z.hasLeftIcon,$!=null&&E.Z.hasRightIcon,ne&&g.Z[`flex-justify-${ne}`]),disabled:q,ref:N},ie),ee,J?(0,t.h)(_.xv.Meta,null,j):j,$,Z&&(0,t.h)(v.U,null,Z))}),M=(0,a.forwardRef)((R,F)=>{var N=R,{className:U,size:V=40,priority:W="secondary",color:L,fill:k="empty",rounded:H=!0,inverted:G,grow:q,shadow:z}=N,ee=x(N,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,t.h)(D,P({ref:F,className:c()(U,E.Z.iconButton,V!=null&&E.Z[`size_${V}`],W&&E.Z[`priority_${W}`],L&&E.Z[`color_${L}`],k&&E.Z[`fill_${k}`],G&&E.Z.inverted,q&&E.Z.grow,H&&E.Z.rounded,z&&E.Z[`shadow_${z}`])},ee))}),T=R=>{var F=R,{href:N,download:U,className:V,priority:W="primary",size:L="medium",fill:k="filled",outline:H,rounded:G,grow:q}=F,z=x(F,["href","download","className","priority","size","fill","outline","rounded","grow"]);return h("a",P({href:N,download:U,className:classnames(V,css.buttonBase,css.button,css[`priority_${W}`],css[`size_${L}`],css[`fill_${k}`],H&&css.outline_none,G&&css.rounded,q&&css.grow)},z))}},91041:(K,f,e)=>{"use strict";e.d(f,{h:()=>C,a:()=>x});var t=e(6400),a=e(94184),i=e.n(a),c=e(49336),p=e(84040),l=e(51126),v=e(76235);const _={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(D,y,M)=>y in D?g(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,s=(D,y)=>{for(var M in y||(y={}))A.call(y,M)&&o(D,M,y[M]);if(O)for(var M of O(y))u.call(y,M)&&o(D,M,y[M]);return D},w=(D,y)=>E(D,S(y)),P=(D,y)=>{var M={};for(var T in D)A.call(D,T)&&y.indexOf(T)<0&&(M[T]=D[T]);if(D!=null&&O)for(var T of O(D))y.indexOf(T)<0&&u.call(D,T)&&(M[T]=D[T]);return M};const C=D=>{var y=D,{attached:M,gap:T=8}=y,R=P(y,["attached","gap"]);return(0,t.h)(l.gq,s({gap:M?0:T,className:i()({[_.attached]:M})},R))},x=D=>{var y=D,{children:M,menuItems:T,fill:R="filled",priority:F="primary",size:N="medium",rounded:U=!1,additionalMenuProps:V={}}=y,W=P(y,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,t.h)(C,{attached:!0},(0,t.h)(p.zx,w(s({},W),{priority:F,size:N,rounded:U,fill:R==="borderless"?"filled":R,outline:R==="borderless"?"none":void 0}),M),(0,t.h)(v.v2,w(s({},V),{trigger:(0,t.h)(p.hU,w(s({className:i()({[_.borderless]:R==="borderless"})},W),{priority:F,fill:R,rounded:U,size:N==="small"?32:40}),(0,t.h)(c.Z,{size:N==="small"?12:20}))}),T))}},15187:(K,f,e)=>{"use strict";e.d(f,{Tz:()=>x});var t=e(6400),a=e(94184),i=e.n(a),c=e(85928);const p={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(T,R,F)=>R in T?l(T,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[R]=F,A=(T,R)=>{for(var F in R||(R={}))E.call(R,F)&&O(T,F,R[F]);if(g)for(var F of g(R))S.call(R,F)&&O(T,F,R[F]);return T},u=(T,R)=>v(T,_(R)),o=(T,R)=>{var F={};for(var N in T)E.call(T,N)&&R.indexOf(N)<0&&(F[N]=T[N]);if(T!=null&&g)for(var N of g(T))R.indexOf(N)<0&&S.call(T,N)&&(F[N]=T[N]);return F};const s="YYYY-MM-DD",w="YYYY-MM-DDThh:mm";function P(T){var R=T,{className:F,min:N,max:U,value:V,onChange:W,disabled:L}=R,k=o(R,["className","min","max","value","onChange","disabled"]);return h("input",u(A({},k),{type:"date",className:cn(css.datePicker,F),value:V?dayjs(V).format(s):"",min:N?dayjs(N).format(s):"",max:U?dayjs(U).format(s):"",onChange:W,disabled:L}))}function C(T){var R=T,{className:F,min:N,max:U,value:V,onChange:W,disabled:L}=R,k=o(R,["className","min","max","value","onChange","disabled"]);return h("input",u(A({},k),{type:"datetime-local",className:cn(css.datePicker,F),value:V?dayjs(V).format(w):void 0,min:N?dayjs(N).format(w):void 0,max:U?dayjs(U).format(w):void 0,onChange:W,disabled:L}))}function x(T){var R=T,{className:F,min:N,max:U,value:V,onChange:W,disabled:L}=R,k=o(R,["className","min","max","value","onChange","disabled"]);return(0,t.h)("input",u(A({},k),{type:"datetime-local",className:i()(p.datePicker,F),value:y(V),min:y(N),max:y(U),onChange:W,disabled:L}))}function D(T){var R=T,{className:F,min:N,max:U,value:V,onChange:W,disabled:L}=R,k=o(R,["className","min","max","value","onChange","disabled"]);return h("input",u(A({},k),{type:"month",className:cn(css.datePicker,F),value:y(V),min:y(N),max:y(U),onChange:W,disabled:L}))}function y(T){return T instanceof Date?`${T.getFullYear()}-${M(T.getMonth()+1)}-${M(T.getDate())}T${M(T.getHours())}:${M(T.getMinutes())}`:T}function M(T){const R=String(T);return R.length<2?`0${R}`:R}},48960:(K,f,e)=>{"use strict";e.d(f,{i:()=>A});var t=e(6400),a=e(94184),i=e.n(a),c=e(51126);const p={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(u,o,s)=>o in u?l(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,S=(u,o)=>{for(var s in o||(o={}))_.call(o,s)&&E(u,s,o[s]);if(v)for(var s of v(o))g.call(o,s)&&E(u,s,o[s]);return u},O=(u,o)=>{var s={};for(var w in u)_.call(u,w)&&o.indexOf(w)<0&&(s[w]=u[w]);if(u!=null&&v)for(var w of v(u))o.indexOf(w)<0&&g.call(u,w)&&(s[w]=u[w]);return s};const A=u=>{var o=u,{className:s,weight:w=1,priority:P="detail"}=o,C=O(o,["className","weight","priority"]);return(0,t.h)(c.hs,S({className:i()(p.divider,s,p[`priority_${P}`],w&&p[`weight-${w}`]),flex:"grow"},C),(0,t.h)("hr",null))}},14105:(K,f,e)=>{"use strict";e.d(f,{G:()=>S});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(32224),l=e(96999),v=e(76193),_=e(43887),g=e(1396),E=(O,A,u)=>new Promise((o,s)=>{var w=x=>{try{C(u.next(x))}catch(D){s(D)}},P=x=>{try{C(u.throw(x))}catch(D){s(D)}},C=x=>x.done?o(x.value):Promise.resolve(x.value).then(w,P);C((u=u.apply(O,A)).next())});const S=({onFileSelected:O,dropCTA:A="Drop file here",pickCTA:u=(0,t.h)("a",{className:g.Z.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:o,loading:s,className:w,multiple:P=!1,addMode:C=!1,onDrop:x,onPick:D,info:y})=>{const[M,T]=(0,a.eJ)(!1),R=(0,a.sO)(),F=V=>{V.preventDefault(),T(!0)},N=V=>{V.preventDefault(),T(!1)},U=V=>E(void 0,null,function*(){var W,L,k,H;V.preventDefault(),T(!1);let G,q;if(((L=(W=V.dataTransfer)==null?void 0:W.items)==null?void 0:L.length)>0){const z=Array.from(V.dataTransfer.items);for(const ee of z)if(ee.kind!=="file"){alert("Please only drag files!");return}G=V.dataTransfer.items[0].getAsFile(),q=z.map(ee=>ee.getAsFile())}else if(((H=(k=V.dataTransfer)==null?void 0:k.files)==null?void 0:H.length)>0)G=V.dataTransfer.files[0],q=V.dataTransfer.files;else{alert("Something went wrong!");return}P?yield O(q):yield O(G),x==null||x(P?q:G)});return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:c()(g.Z.dragArea,w,{[g.Z.dragActive]:M,"test-drag-active":M}),onDragEnter:F,onDragOver:F,onDragLeave:N,onDrop:U,onClick:()=>R.current.click(),"aria-label":"File Picker"},C?(0,t.h)(p.Z,{size:20,className:g.Z.icon}):(0,t.h)(l.Z,{size:32,className:g.Z.icon}),!v.isMobile&&(0,t.h)("p",{className:g.Z.text},s?"Loading...":M?"Release to upload":C?"Add another image":(0,t.h)(t.Fragment,null,A," or ")),s?null:u,y?(0,t.h)(_.xv.Detail,{paddingTop:32,paddingX:32},y):null),(0,t.h)("input",{className:c()(g.Z.file,"file-picker-input"),ref:R,type:"file",name:"file",accept:o,multiple:P,onInput:V=>E(void 0,null,function*(){const W=V.target.files;W&&W[0]&&(P?yield O(W):yield O(W[0]),D==null||D(P?W:W[0]))})}))}},51126:(K,f,e)=>{"use strict";e.d(f,{gq:()=>u,hs:()=>A,tu:()=>o});var t=e(6400),a=e(98661),i=e(84606),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))_.call(w,P)&&E(s,P,w[P]);if(v)for(var P of v(w))g.call(w,P)&&E(s,P,w[P]);return s},O=(s,w)=>p(s,l(w));const A=(0,a.forwardRef)(function(w,P){return(0,t.h)(i.xu,O(S({},w),{display:w.display||"flex",ref:P}))}),u=A,o=(0,a.forwardRef)(function(w,P){return(0,t.h)(i.xu,O(S({},w),{display:w.display||"flex",direction:"column",ref:P}))})},94016:(K,f,e)=>{"use strict";e.d(f,{z:()=>x,o:()=>D});var t=e(6400),a=e(30396),i=e(5285),c=e(94184),p=e.n(c),l=e(62372);const v={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var _=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,u=(y,M,T)=>M in y?_(y,M,{enumerable:!0,configurable:!0,writable:!0,value:T}):y[M]=T,o=(y,M)=>{for(var T in M||(M={}))O.call(M,T)&&u(y,T,M[T]);if(S)for(var T of S(M))A.call(M,T)&&u(y,T,M[T]);return y},s=(y,M)=>g(y,E(M)),w=(y,M)=>{var T={};for(var R in y)O.call(y,R)&&M.indexOf(R)<0&&(T[R]=y[R]);if(y!=null&&S)for(var R of S(y))M.indexOf(R)<0&&A.call(y,R)&&(T[R]=y[R]);return T};const P=500,C=250,x=y=>{var M=y,{className:T="",children:R,layerClassName:F,dontStopPropagation:N}=M,U=w(M,["className","children","layerClassName","dontStopPropagation"]);const V=D(o({className:F},U));return(0,t.h)("div",s(o(o({className:T},V.triggerProps),V.hoverProps),{onClick:W=>{N||W.stopPropagation()}}),R,V.layer)};function D(y){var M=y,{disabled:T,onFetch:R,onOpen:F,content:N,className:U,layerOptions:V,hideOnScroll:W=!1}=M,L=w(M,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[k,H,G]=(0,l.XI)({delayEnter:P,delayLeave:C,hideOnScroll:W}),q=(0,a.sO)(!1);(0,a.d4)(()=>{k&&(!q.current&&R&&(q.current=!0,R()),F&&F())},[k,R,F]);const[z,ee]=(0,a.eJ)(!1),{triggerProps:$,layerProps:J,renderLayer:j,layerSide:Z}=(0,l.sJ)(o({isOpen:T?!1:k,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},V));return{triggerProps:$,hoverProps:H,layer:(k||z)&&!T&&j((0,t.h)(i.u,{appear:!0,show:k&&!L.loading,beforeEnter:()=>ee(!0),afterLeave:()=>ee(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",o(o({onClick:()=>{G()},className:p()(U,v.hoverCardBase)},J),H),N)))}}},56288:(K,f,e)=>{"use strict";e.d(f,{a:()=>O});var t=e(6400),a=e(94184),i=e.n(a);const c={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var p=Object.defineProperty,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?p(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>{var s={};for(var w in u)v.call(u,w)&&o.indexOf(w)<0&&(s[w]=u[w]);if(u!=null&&l)for(var w of l(u))o.indexOf(w)<0&&_.call(u,w)&&(s[w]=u[w]);return s};const O=u=>{var o=u,{type:s="circular"}=o,w=S(o,["type"]);if(s==="circular")return(0,t.h)(A,E({},w));throw new Error("not implemented")},A=({className:u,size:o="md",dataTestId:s})=>(0,t.h)("div",{"data-testid":s,className:i()(c.circularLoader,c[`size_${o}`],u)})},76235:(K,f,e)=>{"use strict";e.d(f,{v2:()=>z,sN:()=>ee});var t=e(6400),a=e(98661),i=e(30396),c=e(5285),p=e(94184),l=e.n(p),v=e(44396),_=e(71375),g=e(84040),E=e(51126),S=e(5668),O=e(43887);const A={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",items:"frontend-pencraft-ActionSheet-module__items--ByTuz",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc",relative:"frontend-pencraft-ActionSheet-module__relative--WOknO"};var u=Object.defineProperty,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(j,Z,ne)=>Z in j?u(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:ne}):j[Z]=ne,C=(j,Z)=>{for(var ne in Z||(Z={}))s.call(Z,ne)&&P(j,ne,Z[ne]);if(o)for(var ne of o(Z))w.call(Z,ne)&&P(j,ne,Z[ne]);return j},x=(j,Z)=>{var ne={};for(var ie in j)s.call(j,ie)&&Z.indexOf(ie)<0&&(ne[ie]=j[ie]);if(j!=null&&o)for(var ie of o(j))Z.indexOf(ie)<0&&w.call(j,ie)&&(ne[ie]=j[ie]);return ne};const D=(0,a.forwardRef)(({title:j,subtitle:Z,onClose:ne,children:ie,className:oe},re)=>(0,t.h)(E.tu,{className:A.root,onClick:ne},(0,t.h)(c.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,t.h)(E.tu,{className:l()(A.sheet,oe),ref:re,onClick:ae=>{ae.stopPropagation()}},(0,t.h)(E.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,t.h)(E.tu,null,(0,t.h)(O.xv.B3,{weight:"semibold"},j),(0,t.h)(O.xv.B4,{color:"secondary"},Z)),(0,t.h)(g.hU,{fill:"empty",onClick:()=>{ne()},priority:"secondary"},(0,t.h)(_.Z,null))),(0,t.h)(E.tu,{paddingTop:8,overflowY:"auto",className:A.items},ie)))));function y(j){var Z=j,{children:ne,onClick:ie,closeMenu:oe,icon:re,className:ae,priority:se="primary",disabled:fe,hiddenInput:le}=Z,Ae=x(Z,["children","onClick","closeMenu","icon","className","priority","disabled","hiddenInput"]);const De=Ae.href?"a":g.kG;return(0,t.h)(De,C({className:l()(A.item,A[se],ae,{[A.disabled]:!!fe,[A.relative]:!!le}),resetCss:!0,onClick:je=>{ie==null||ie(je),oe==null||oe()}},Ae),re&&(0,t.cloneElement)(re,{size:20,stroke:"var(--color-primary)"}),re&&" ",(0,t.h)(O.xv.B4,{color:se==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},ne),le&&(0,t.h)(S.U,null,le))}var M=e(89581);const T={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",relative:"frontend-pencraft-Menu-module__relative--tBxDI",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var R=Object.defineProperty,F=Object.defineProperties,N=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,L=(j,Z,ne)=>Z in j?R(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:ne}):j[Z]=ne,k=(j,Z)=>{for(var ne in Z||(Z={}))V.call(Z,ne)&&L(j,ne,Z[ne]);if(U)for(var ne of U(Z))W.call(Z,ne)&&L(j,ne,Z[ne]);return j},H=(j,Z)=>F(j,N(Z)),G=(j,Z)=>{var ne={};for(var ie in j)V.call(j,ie)&&Z.indexOf(ie)<0&&(ne[ie]=j[ie]);if(j!=null&&U)for(var ie of U(j))Z.indexOf(ie)<0&&W.call(j,ie)&&(ne[ie]=j[ie]);return ne};function q(j){return typeof j.type=="string"||j.type.$$typeof===Symbol.for("react.forward_ref")}const z=(0,a.forwardRef)((j,Z)=>{var ne=j,{trigger:ie,children:oe,ariaLabel:re="View more",hideOnScroll:ae,layerOptions:se,layerClassName:fe,onOpen:le,onClose:Ae,useMobileBottomSheet:De=!1,mobileBottomSheetTitle:je,mobileBottomSheetSubtitle:Je,stopPropagation:Be=!1,maxHeight:st=295,padding:ht=8,disableMenu:gt=!1}=ne,Xe=G(ne,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);q(ie)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const Re=(0,v.XA)(),{triggerProps:Ne,layerProps:ke,renderLayer:ot,isOpen:Dt,setOpen:ln}=(0,M.x)({layerOptions:k({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},se),hideOnScroll:ae&&!(De&&Re),onClose:Ae}),[ct,Oe]=(0,i.eJ)(!1),Se=()=>{ln(!1),Ae&&Ae()},Ze=(0,t.toChildArray)(oe).map(Fe=>(0,t.cloneElement)(Fe,{useMobileBottomSheet:De,closeMenu:Se}));return(0,t.h)(t.Fragment,null,(0,t.cloneElement)(ie,H(k({},Ne),{ariaLabel:re,onClick:Fe=>{Fe.preventDefault(),Be&&Fe.stopPropagation(),gt||ln(!Dt),!Dt&&le&&le(),Dt&&Ae&&Ae()}})),(Dt||ct)&&ot(De&&Re?(0,t.h)(c.u,{appear:!0,show:Dt,beforeEnter:()=>Oe(!0),afterLeave:()=>Oe(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",k(k({},ke),Xe),(0,t.h)(D,{title:je,subtitle:Je,onClose:Se,ref:Z,className:fe},Ze))):(0,t.h)(c.u,{appear:!0,unmount:!1,show:Dt,beforeEnter:()=>Oe(!0),afterLeave:()=>Oe(!1),className:"tw-duration-fast"},(0,t.h)("div",k(k({},ke),Xe),(0,t.h)(c.u,{appear:!0,unmount:!1,show:Dt,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,t.h)($,k({className:fe,ref:Z,padding:ht},!ae&&{style:{maxHeight:st,overflowY:"auto"}}),Ze))))))}),ee=j=>{var Z=j,{useMobileBottomSheet:ne}=Z,ie=G(Z,["useMobileBottomSheet"]);const oe=(0,v.XA)();return ne&&oe?(0,t.h)(y,k({},ie)):(0,t.h)(J,k({},ie))},$=(0,a.forwardRef)((j,Z)=>{var ne=j,{className:ie}=ne,oe=G(ne,["className"]);return(0,t.h)(E.tu,k({className:l()(T.menu,"elevated",ie),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:Z},oe))}),J=j=>{var Z=j,{children:ne,onClick:ie,closeMenu:oe,icon:re,rightIcon:ae,suffix:se,priority:fe="primary",className:le,disabled:Ae,href:De,download:je,hiddenInput:Je}=Z,Be=G(Z,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download","hiddenInput"]);const st=De?"a":g.kG;return(0,t.h)(st,k({className:l()(T.menuItem,T[fe],le,{[T.disabled]:!!Ae,[T.relative]:!!Je}),resetCss:!0,onClick:ht=>{Ae||(ie&&ie(ht),oe&&oe())},href:Ae?"javascript:void(0)":De,download:je},Be),re&&(0,t.cloneElement)(re,{size:24,className:l()(T.icon,re.props.className)}),(0,t.h)(O.xv.B4,{color:fe==="destructive"?"accent-red":"primary",className:T.text,weight:"semibold",align:"left"},ne),se,ae&&(0,t.h)(t.Fragment,null,(0,t.h)(E.hs,{style:{flexGrow:1}}),ae&&(0,t.cloneElement)(ae,{size:24,className:l()(T.icon,ae.props.className)})),Je&&(0,t.h)(S.U,null,Je))}},53940:(K,f,e)=>{"use strict";e.d(f,{u:()=>D,f:()=>C});var t=e(6400),a=e(98661),i=e(5285),c=e(13599),p=e(94184),l=e.n(p),v=e(50308),_=e.n(v),g=e(44396),E=e(84606),S=e(21958);const O={renderOverReactLaagPortal:"frontend-pencraft-Modal-Modal-module__renderOverReactLaagPortal--TqD1u",container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",bottom:"frontend-pencraft-Modal-Modal-module__bottom--YPMpX",hide:"frontend-pencraft-Modal-Modal-module__hide--a29WN",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"};var A=Object.defineProperty,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(y,M,T)=>M in y?A(y,M,{enumerable:!0,configurable:!0,writable:!0,value:T}):y[M]=T,P=(y,M)=>{for(var T in M||(M={}))o.call(M,T)&&w(y,T,M[T]);if(u)for(var T of u(M))s.call(M,T)&&w(y,T,M[T]);return y};const C=(0,S.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),x=({children:y})=>(0,t.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},y),D=({isOpen:y,onClose:M=()=>{},children:T,includeBackdrop:R=!0,position:F="default",opacity:N="medium",testId:U="modal",className:V,onEscape:W,fullscreenMobile:L,overflow:k,width:H=440,disableCloseOnBackdropClick:G=!1,initialFocus:q,renderOverReactLaagPortal:z=!1})=>{const ee=(0,g.XA)(),$=J=>{const{code:j}=J;W&&j==="Escape"&&W(J)};return(0,t.h)(i.u,{show:y,as:a.Fragment},(0,t.h)(c.V,{onMouseDown:J=>J.stopPropagation(),onMouseUp:J=>J.stopPropagation(),onClick:J=>J.stopPropagation(),"data-testid":U,as:"div",className:l()(z&&O.renderOverReactLaagPortal,"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto"),onClose:G?_():M,onKeyDown:W?$:void 0,initialFocus:q},(0,t.h)(x,null,R&&(0,t.h)(i.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,t.h)("div",{className:N==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,t.h)(i.u.Child,{as:a.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,t.h)(c.V.Panel,{className:l()(V,(0,E.yK)({display:"flex"}),O.container,O[F],L?O.fullscreenMobile:O.dynamicMobile),style:P({width:ee||F==="full"?void 0:H,overflow:k},ee&&L&&typeof window!="undefined"&&window.innerHeight&&{height:`${window.innerHeight}px`})},T)))))}},29354:(K,f,e)=>{"use strict";e.d(f,{m:()=>E});var t=e(6400),a=e(94184),i=e.n(a),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?c(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A};const E=A=>A.alignment==="center"?(0,t.h)(O,g({},A)):(0,t.h)(S,g({},A)),S=({primaryButton:A,secondaryButton:u,destructiveButton:o,includeDivider:s,className:w})=>(0,t.h)("div",{className:i()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":s},w)},o&&(0,t.cloneElement)(o,{className:i()("tw-mr-auto",o.props.className)}),u,A),O=({includeDivider:A,primaryButton:u,secondaryButton:o,className:s})=>(0,t.h)("div",{className:i()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":A},s)},u,o)},28079:(K,f,e)=>{"use strict";e.d(f,{r:()=>g,x:()=>_});var t=e(6400),a=e(13599),i=e(94184),c=e.n(i),p=e(26059),l=e(33705),v=e(21958);const _=({isModal:E=!0,onClose:S,includeClose:O=!1,bottomBorder:A,title:u,description:o,as:s="h2",usePubThemeForTitle:w=!1,className:P,pagination:C})=>(0,t.h)("div",{className:c()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",P,{"tw-px-4":!C,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":A})},!u&&!C&&(0,t.h)(l.Z,{alt:"Substack icon",height:24}),C&&(0,t.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},C[0]," OF ",C[1]),O&&(0,t.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:S,"aria-label":"close"},(0,t.h)(p.Z,null)),u&&E&&(0,t.h)(a.V.Title,{as:s,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${w?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},u),o&&E&&(0,t.h)(a.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},o),u&&!E&&(0,t.h)(g,{className:"tw-col-start-1 tw-row-start-1"},u)&&(0,t.createElement)(s,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${w?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},u),o&&!E&&(0,t.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},o)&&(0,t.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},o)),g=(0,v.L)("tw-my-0 tw-font-title","h2")},92106:(K,f,e)=>{"use strict";var t=e(6400),a=e(94184),i=e(51126),c=e(43887);const p={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(u,o,s)=>o in u?l(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,S=(u,o)=>{for(var s in o||(o={}))_.call(o,s)&&E(u,s,o[s]);if(v)for(var s of v(o))g.call(o,s)&&E(u,s,o[s]);return u},O=(u,o)=>{var s={};for(var w in u)_.call(u,w)&&o.indexOf(w)<0&&(s[w]=u[w]);if(u!=null&&v)for(var w of v(u))o.indexOf(w)<0&&g.call(u,w)&&(s[w]=u[w]);return s};const A=u=>{var o=u,{icon:s,text:w,textColor:P="secondary",bgColor:C="secondary",paddingX:x=24,paddingY:D=24,border:y,className:M,onClick:T}=o,R=O(o,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,S({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:x,paddingY:D,radius:12,border:y,className:cn(M,css.placeholder,css[`bg_${C}`],css[`text_${P}`],{[css.clickable]:!!T}),onClick:T},R),h(FlexColumn,{gap:8,alignItems:"center"},s,h(Text.B4,{color:P,className:css.text,weight:"bold"},w)))}},68713:(K,f,e)=>{"use strict";e.d(f,{J:()=>w});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(62372),l=e(84804),v=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,A=(x,D,y)=>D in x?v(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,u=(x,D)=>{for(var y in D||(D={}))S.call(D,y)&&A(x,y,D[y]);if(E)for(var y of E(D))O.call(D,y)&&A(x,y,D[y]);return x},o=(x,D)=>_(x,g(D)),s=(x,D)=>{var y={};for(var M in x)S.call(x,M)&&D.indexOf(M)<0&&(y[M]=x[M]);if(x!=null&&E)for(var M of E(x))D.indexOf(M)<0&&O.call(x,M)&&(y[M]=x[M]);return y};const w=x=>{var D=x,{className:y="",children:M,layerClassName:T,hideOnScroll:R=!1,onClose:F}=D,N=s(D,["className","children","layerClassName","hideOnScroll","onClose"]);const[U,V]=(0,a.eJ)(!1),W=C(u({open:U,onClose:()=>{V(!1),F==null||F()},hideOnScroll:R,className:T},N));return P({hideOnScroll:R,setOpen:V,open:U}),(0,t.h)("div",o(u({className:y},W.triggerProps),{onClick:L=>{V(!U),L.stopPropagation()}}),typeof M=="function"?M({isOpen:U}):M,W.layer)};function P({hideOnScroll:x,setOpen:D,open:y}){const M=(0,a.I4)(T=>{requestAnimationFrame(()=>{var R;const N=(R=T.target.classList)==null?void 0:R.contains("popoverLayerForScrollDetection");y&&x&&!N&&D(!1)})},[x,D,y]);(0,a.d4)(()=>{if(x)return window.addEventListener("scroll",M,!0),()=>{window.removeEventListener("scroll",M,!0)}},[M,x])}function C({open:x,onClose:D,disabled:y,possiblePlacements:M=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:T,snap:R=!1,onOpen:F,content:N,className:U,layerOptions:V,closeOnOutsideClick:W=!0}){const L=(0,a.sO)(!1);(0,a.d4)(()=>{x&&!L.current&&F&&(L.current=!0,F())},[x,F]);const{triggerProps:k,layerProps:H,renderLayer:G}=(0,p.sJ)(u(u(u({isOpen:y?!1:x,overflowContainer:!1,auto:!0,snap:R,possiblePlacements:M,placement:T,containerOffset:10,triggerOffset:8},W&&{onOutsideClick:()=>D()}),T&&{placement:T}),V));return{triggerProps:k,layer:x&&G((0,t.h)("div",u({className:c()("popoverLayerForScrollDetection",l.Z.popoverBase,U)},H),typeof N=="function"?N({closePopover:D}):N))}}},80043:(K,f,e)=>{"use strict";e.d(f,{r:()=>re});var t=e(6400),a=e(98661),i=e(12351),c=e(19946),p=e(61363),l=e(64103),v=e(16723),_=e(23784),g=e(73781);let E=(0,a.createContext)(null);function S(){let se=(0,a.useContext)(E);if(se===null){let fe=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(fe,S),fe}return se}function O(){let[se,fe]=(0,a.useState)([]);return[se.length>0?se.join(" "):void 0,(0,a.useMemo)(()=>function(le){let Ae=(0,g.z)(je=>(fe(Je=>[...Je,je]),()=>fe(Je=>{let Be=Je.slice(),st=Be.indexOf(je);return st!==-1&&Be.splice(st,1),Be}))),De=(0,a.useMemo)(()=>({register:Ae,slot:le.slot,name:le.name,props:le.props}),[Ae,le.slot,le.name,le.props]);return a.default.createElement(E.Provider,{value:De},le.children)},[fe])]}let A="label";function u(se,fe){let le=(0,c.M)(),ht=se,{id:Ae=`headlessui-label-${le}`,passive:De=!1}=ht,je=ai(ht,["id","passive"]),Je=S(),Be=(0,_.T)(fe);(0,v.e)(()=>Je.register(Ae),[Ae,Je.register]);let st=No(yr({ref:Be},Je.props),{id:Ae});return De&&("onClick"in st&&(delete st.htmlFor,delete st.onClick),"onClick"in je&&delete je.onClick),(0,i.sY)({ourProps:st,theirProps:je,slot:Je.slot||{},defaultTag:A,name:Je.name||"Label"})}let o=(0,i.yV)(u),s=Object.assign(o,{});var w=e(39516);function P(se){var fe;if(se.type)return se.type;let le=(fe=se.as)!=null?fe:"button";if(typeof le=="string"&&le.toLowerCase()==="button")return"button"}function C(se,fe){let[le,Ae]=(0,a.useState)(()=>P(se));return(0,v.e)(()=>{Ae(P(se))},[se.type,se.as]),(0,v.e)(()=>{le||fe.current&&fe.current instanceof HTMLButtonElement&&!fe.current.hasAttribute("type")&&Ae("button")},[le,fe]),le}var x=e(46045);function D(se={},fe=null,le=[]){for(let[Ae,De]of Object.entries(se))M(le,y(fe,Ae),De);return le}function y(se,fe){return se?se+"["+fe+"]":fe}function M(se,fe,le){if(Array.isArray(le))for(let[Ae,De]of le.entries())M(se,y(fe,Ae.toString()),De);else le instanceof Date?se.push([fe,le.toISOString()]):typeof le=="boolean"?se.push([fe,le?"1":"0"]):typeof le=="string"?se.push([fe,le]):typeof le=="number"?se.push([fe,`${le}`]):le==null?se.push([fe,""]):D(le,fe,se)}function T(se){var fe;let le=(fe=se==null?void 0:se.form)!=null?fe:se.closest("form");if(le){for(let Ae of le.elements)if(Ae.tagName==="INPUT"&&Ae.type==="submit"||Ae.tagName==="BUTTON"&&Ae.type==="submit"||Ae.nodeName==="INPUT"&&Ae.type==="image"){Ae.click();return}}}function R(se,fe,le){let[Ae,De]=(0,a.useState)(le),je=se!==void 0,Je=(0,a.useRef)(je),Be=(0,a.useRef)(!1),st=(0,a.useRef)(!1);return je&&!Je.current&&!Be.current?(Be.current=!0,Je.current=je,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!je&&Je.current&&!st.current&&(st.current=!0,Je.current=je,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[je?se:Ae,(0,g.z)(ht=>(je||De(ht),fe==null?void 0:fe(ht)))]}var F=e(94192);let N=(0,a.createContext)(null);N.displayName="GroupContext";let U=a.Fragment;function V(se){var fe;let[le,Ae]=(0,a.useState)(null),[De,je]=O(),[Je,Be]=(0,w.f)(),st=(0,a.useMemo)(()=>({switch:le,setSwitch:Ae,labelledby:De,describedby:Je}),[le,Ae,De,Je]),ht={},gt=se;return a.default.createElement(Be,{name:"Switch.Description"},a.default.createElement(je,{name:"Switch.Label",props:{htmlFor:(fe=st.switch)==null?void 0:fe.id,onClick(Xe){le&&(Xe.currentTarget.tagName==="LABEL"&&Xe.preventDefault(),le.click(),le.focus({preventScroll:!0}))}}},a.default.createElement(N.Provider,{value:st},(0,i.sY)({ourProps:ht,theirProps:gt,defaultTag:U,name:"Switch.Group"}))))}let W="button";function L(se,fe){let le=(0,c.M)(),Ke=se,{id:Ae=`headlessui-switch-${le}`,checked:De,defaultChecked:je=!1,onChange:Je,name:Be,value:st,form:ht}=Ke,gt=ai(Ke,["id","checked","defaultChecked","onChange","name","value","form"]),Xe=(0,a.useContext)(N),Re=(0,a.useRef)(null),Ne=(0,_.T)(Re,fe,Xe===null?null:Xe.setSwitch),[ke,ot]=R(De,Je,je),Dt=(0,g.z)(()=>ot==null?void 0:ot(!ke)),ln=(0,g.z)(et=>{if((0,l.P)(et.currentTarget))return et.preventDefault();et.preventDefault(),Dt()}),ct=(0,g.z)(et=>{et.key===p.R.Space?(et.preventDefault(),Dt()):et.key===p.R.Enter&&T(et.currentTarget)}),Oe=(0,g.z)(et=>et.preventDefault()),Se=(0,a.useMemo)(()=>({checked:ke}),[ke]),Ze={id:Ae,ref:Ne,role:"switch",type:C(se,Re),tabIndex:0,"aria-checked":ke,"aria-labelledby":Xe==null?void 0:Xe.labelledby,"aria-describedby":Xe==null?void 0:Xe.describedby,onClick:ln,onKeyUp:ct,onKeyPress:Oe},Fe=(0,F.G)();return(0,a.useEffect)(()=>{var et;let Qe=(et=Re.current)==null?void 0:et.closest("form");Qe&&je!==void 0&&Fe.addEventListener(Qe,"reset",()=>{ot(je)})},[Re,ot]),a.default.createElement(a.default.Fragment,null,Be!=null&&ke&&a.default.createElement(x._,yr({features:x.A.Hidden},(0,i.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:ht,checked:ke,name:Be,value:st}))),(0,i.sY)({ourProps:Ze,theirProps:gt,slot:Se,defaultTag:W,name:"Switch"}))}let k=(0,i.yV)(L),H=V,G=Object.assign(k,{Group:H,Label:s,Description:w.d});var q=e(94184),z=e.n(q),ee=e(30058),$=Object.defineProperty,J=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,ne=(se,fe,le)=>fe in se?$(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:le}):se[fe]=le,ie=(se,fe)=>{for(var le in fe||(fe={}))j.call(fe,le)&&ne(se,le,fe[le]);if(J)for(var le of J(fe))Z.call(fe,le)&&ne(se,le,fe[le]);return se},oe=(se,fe)=>{var le={};for(var Ae in se)j.call(se,Ae)&&fe.indexOf(Ae)<0&&(le[Ae]=se[Ae]);if(se!=null&&J)for(var Ae of J(se))fe.indexOf(Ae)<0&&Z.call(se,Ae)&&(le[Ae]=se[Ae]);return le};const re=se=>{var fe=se,{color:le="default",accessibilityLabel:Ae="Toggle setting",classNames:De,checked:je,small:Je=!1,preflightClassName:Be}=fe,st=oe(fe,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const ht=le==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return(0,t.h)(ee.e,{className:Be},(0,t.h)(G,ie({className:z()(je?ht:"tw-bg-neutral-400",Je?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",De),checked:je},st),(0,t.h)("span",{className:"tw-sr-only"},Ae),(0,t.h)("span",{"aria-hidden":"true",className:z()(je?`${Je?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",Je?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))},ae=null},43887:(K,f,e)=>{"use strict";e.d(f,{Zx:()=>D,xv:()=>x,hh:()=>oe});var t=e(6400),a=e(94184),i=e.n(a),c=e(28488);const p=re=>{const ae=document.createElement("ROOT");return ae.innerHTML=re,ae},l=(re,ae,se)=>{let fe="";const le=De=>Array.isArray(De)&&De.length===2&&De[1]===null;return(Array.isArray(re)&&!le(re)?re:[re]).forEach(De=>{if(!De)fe+="";else if(De.type){const je=ae.length+1;ae.push(De),fe+=`<C${je}>${l(De.props.children||[],ae,se)}</C${je}>`}else if(le(De)){const je=De[0];fe+=`%${se.length+1}`,se.push(je)}else fe+=De}),fe},v=(re,ae)=>{const se=p(re),fe=le=>{const Ae=[];return le.forEach(De=>{var je,Je;if((je=De.nodeName)!=null&&je.startsWith("C")){const Be=Number(De.nodeName.replace("C",""))-1,st=ae[Be];if(!st)return;const ht=(Je=De.childNodes)!=null&&Je.length?fe(De.childNodes):[],gt=(0,t.cloneElement)(st,st.props,ht);Ae.push(gt)}else{const Be=De.data||"";Ae.push(Be)}}),Ae};return fe(se.childNodes||[])};var _=e(84606),g=e(28614),E=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(re,ae,se)=>ae in re?E(re,ae,{enumerable:!0,configurable:!0,writable:!0,value:se}):re[ae]=se,w=(re,ae)=>{for(var se in ae||(ae={}))u.call(ae,se)&&s(re,se,ae[se]);if(A)for(var se of A(ae))o.call(ae,se)&&s(re,se,ae[se]);return re},P=(re,ae)=>S(re,O(ae)),C=(re,ae)=>{var se={};for(var fe in re)u.call(re,fe)&&ae.indexOf(fe)<0&&(se[fe]=re[fe]);if(re!=null&&A)for(var fe of A(re))ae.indexOf(fe)<0&&o.call(re,fe)&&(se[fe]=re[fe]);return se};const x=re=>{var ae=re,{className:se,align:fe,size:le,weight:Ae,transform:De}=ae,je=C(ae,["className","align","size","weight","transform"]);je=P(w({},je),{textAlign:fe!=null?fe:je.textAlign,textTransform:De!=null?De:je.textTransform,fontSize:le!=null?le:je.fontSize,fontWeight:Ae!=null?Ae:je.fontWeight});const{iString:Je,language:Be}=(0,c.M1)();let st=je.children;if(je.translated&&Be!=="en"){const ht=[],gt=[],Xe=l(je.children,ht,gt),Re=Je(Xe,...gt);if(Re&&Re!==Xe)try{st=v(Re,ht)}catch(Ne){console.log(`Could not translate ${Xe}`,Ne)}}return(0,t.h)(_.xu,P(w({className:i()(g.Z.reset,se)},je),{children:st}))},D=re=>(0,t.h)(x,w({as:"span"},re)),y=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:i()(g.Z.header1,fe)},le),se)},M=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:i()(g.Z.header2,fe)},le),se)},T=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:i()(g.Z.header3,fe)},le),se)},R=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:i()(g.Z.header4,fe)},le),se)},F=(0,_.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:g.Z.body1}),N=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:i()(g.Z.body2,fe)},le),se)},U=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:i()(g.Z.body3,fe)},le),se)},V=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:i()(g.Z.body4,fe)},le),se)},W=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:i()(g.Z.meta,fe)},le),se)},L=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:i()(g.Z.digit,fe)},le),se)},k=re=>(0,t.h)(x,w({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},re)),H=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:i()(fe)},le),se)},G=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({font:"text",color:"primary",className:i()(g.Z.marketingBody,fe)},le),se)},q=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h1",color:"primary",weight:"normal",className:i()(g.Z.marketingHeading1xl,fe)},le),se)},z=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h1",color:"primary",weight:"normal",className:i()(g.Z.marketingHeading1,fe)},le),se)},ee=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h3",color:"primary",weight:"medium",className:i()(g.Z.marketingHeading2,fe)},le),se)},$=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h3",color:"primary",weight:"medium",className:i()(g.Z.marketingHeading3,fe)},le),se)},J=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h4",color:"primary",weight:"medium",className:i()(g.Z.marketingHeading4,fe)},le),se)},j=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h5",color:"primary",weight:"normal",className:i()(g.Z.marketingHeading5,fe)},le),se)},Z=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h4",color:"primary",weight:"normal",align:"center",className:i()(g.Z.marketingQuote,fe)},le),se)},ne=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h4",color:"primary",weight:"normal",size:28,className:i()(g.Z.marketingSubtitle,fe)},le),se)},ie=re=>{var ae=re,{children:se,className:fe}=ae,le=C(ae,["children","className"]);return(0,t.h)(x,w({as:"h1",color:"primary",weight:"normal",className:i()(g.Z.stat,fe)},le),se)},oe=(0,_.E7)({as:"a",decoration:"hover-underline"});x.H1=y,x.H2=M,x.H3=T,x.H4=R,x.B1=F,x.B2=N,x.B3=U,x.B4=V,x.Detail=H,x.MarketingBody=G,x.MarketingHeading1xl=q,x.MarketingHeading1=z,x.MarketingHeading2=ee,x.MarketingHeading3=$,x.MarketingHeading4=J,x.MarketingHeading5=j,x.MarketingQuote=Z,x.MarketingSubtitle=ne,x.Meta=W,x.Stat=ie,x.Digit=L,x.Button=k},75425:(K,f,e)=>{"use strict";e.d(f,{FN:()=>D,Us:()=>y,VW:()=>k,dd:()=>H,lL:()=>M,pm:()=>G});var t=e(6400),a=e(98661),i=e(30396),c=e(5285),p=e(94184),l=e.n(p),v=e(71375),_=e(13833),g=e(21958),E=e(92271),S=e(51126),O=Object.defineProperty,A=Object.defineProperties,u=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,P=(q,z,ee)=>z in q?O(q,z,{enumerable:!0,configurable:!0,writable:!0,value:ee}):q[z]=ee,C=(q,z)=>{for(var ee in z||(z={}))s.call(z,ee)&&P(q,ee,z[ee]);if(o)for(var ee of o(z))w.call(z,ee)&&P(q,ee,z[ee]);return q},x=(q,z)=>A(q,u(z));function D({text:q,cta:z,onAccept:ee,href:$,onClose:J,Icon:j,className:Z}){return(0,t.h)(R,{className:l()("tw-items-center",Z)},(0,t.h)(S.gq,{className:"tw-flex-1",gap:12},j&&(0,t.h)(V,{Icon:j}),(0,t.h)(F,null,q)),(0,t.h)(S.gq,{className:"tw-flex-none",gap:12},z&&(typeof z=="string"?($||ee)&&(0,t.h)(E.z,{look:"flex",onClick:ne=>{J==null||J(),ee==null||ee(ne)},href:$},(0,t.h)(_.Av,{className:"tw-text-dark-secondary"},z)):z),(0,t.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,t.h)(U,{onClick:J})))}function y({title:q,body:z,buttons:ee,onClose:$,Icon:J}){return(0,t.h)(R,{className:"tw-max-w-md"},J&&(0,t.h)(V,{Icon:J}),(0,t.h)(S.tu,{className:"tw-flex-0-5",gap:8},(0,t.h)(S.tu,{className:"tw-flex-0-5",gap:4},(0,t.h)(F,null,q),(0,t.h)(N,null,z)),ee&&(0,t.h)(S.gq,{gap:24},ee)),(0,t.h)(U,{onClick:$}))}function M(q){return(0,t.h)(E.z,C({look:"flex",className:"tw-h-9 tw-items-center"},q))}function T(q){return h("div",{className:W},h(D,C({},q)))}const R=(0,g.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),F=(0,g.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",_.Hj),N=(0,g.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",_.Hj);function U({onClick:q}){return(0,t.h)(E.z,{look:"flex",onClick:q},(0,t.h)(v.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function V({Icon:q}){return(0,t.h)(q,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const W="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",L=(0,t.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function k({children:q}){const[z,ee]=(0,i.eJ)(null),[$,J]=(0,i.eJ)("hidden"),[j,Z]=(0,i.eJ)(0),ne=(0,i.sO)(null),ie=()=>{J("hidden")},oe=(ae,{ttl:se=5e3}={})=>{ee({element:ae({onClose:ie}),ttl:se}),J("visible"),ne.current!=null&&clearTimeout(ne.current),ne.current=se===null?null:setTimeout(ie,se)},re=ae=>{Z(Math.min(j+ae,0))};return(0,t.h)(L.Provider,{value:{popToast:oe,addOffset:re}},q,(0,t.h)("div",{className:W,style:{transform:`translateY(${j}px)`}},(0,t.h)(c.u,{appear:!0,show:!!z&&$==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>ne.current!=null&&clearTimeout(ne.current),onMouseLeave:()=>{ne.current!=null&&clearTimeout(ne.current),z&&(ne.current=z.ttl===null?null:setTimeout(ie,z.ttl))}},z==null?void 0:z.element)))}const H=q=>{const z=(0,a.forwardRef)((ee,$)=>{const J=G();return(0,t.h)(q,x(C(C({},J),ee),{ref:$}))});return z.displayName=`withToastContext(${q.name||q.displayName||"Anonymous"})`,z};function G(){return(0,i.qp)(L)}},92630:(K,f,e)=>{"use strict";e.d(f,{u:()=>P,_:()=>C});var t=e(6400),a=e(51126),i=e(25666),c=e(43887);const p={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB",shortcutKeys:"frontend-pencraft-Tooltip-module__shortcutKeys--olyP3",shortcutKey:"frontend-pencraft-Tooltip-module__shortcutKey--gTb7r"};var l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(y,M,T)=>M in y?l(y,M,{enumerable:!0,configurable:!0,writable:!0,value:T}):y[M]=T,A=(y,M)=>{for(var T in M||(M={}))E.call(M,T)&&O(y,T,M[T]);if(g)for(var T of g(M))S.call(M,T)&&O(y,T,M[T]);return y},u=(y,M)=>v(y,_(M)),o=(y,M)=>{var T={};for(var R in y)E.call(y,R)&&M.indexOf(R)<0&&(T[R]=y[R]);if(y!=null&&g)for(var R of g(y))M.indexOf(R)<0&&S.call(y,R)&&(T[R]=y[R]);return T};const s=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],w=["left-start","left-center","left-end","right-start","right-center","right-end"],P=y=>{var M=y,{children:T,text:R,as:F="span",icon:N,hotkeys:U,preferPlacement:V="top-center",disabled:W,dangerouslySetTooltipZIndex:L,hoverOptions:k={}}=M,H=o(M,["children","text","as","icon","hotkeys","preferPlacement","disabled","dangerouslySetTooltipZIndex","hoverOptions"]);const{layerProps:G,triggerProps:q,transitionProps:z,renderLayer:ee,shouldShow:$}=(0,i.l)({layerOptions:{placement:V,possiblePlacements:w.includes(V)?w:s},hoverOptions:k}),J=G,{style:j}=J,Z=o(J,["style"]);return W?(0,t.h)(t.Fragment,null,T):(0,t.h)(t.Fragment,null,(0,t.h)(F,A(A({},q),H),T),$&&ee((0,t.h)(C,{transitionProps:z,tooltipProps:u(A({},Z),{style:u(A({},j),{maxWidth:350,zIndex:L||Number.MAX_SAFE_INTEGER})}),icon:N,text:R,hotkeys:U})))};function C({transitionProps:y,tooltipProps:M,icon:T,text:R,hotkeys:F}){const N=!!(F!=null&&F.length)&&(0,t.h)(x,null,F.map((U,V)=>(0,t.h)(D,{key:V},U)));return(0,t.h)("div",A({},M),(0,t.h)(i.x,A({},y),(0,t.h)("div",{className:p.tooltip},(0,t.h)(a.gq,{alignItems:"center",gap:8,className:p.tooltipContent},T&&(0,t.h)(t.Fragment,null,(0,t.cloneElement)(T,{size:20})," "),R,N))))}function x({children:y}){return(0,t.h)(c.xv,{as:"div",className:p.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},y)}function D({children:y}){return(0,t.h)(a.hs,{className:p.shortcutKey,alignItems:"center",justifyContent:"center"},(0,t.h)(c.xv.Meta,null,y))}},86605:(K,f,e)=>{"use strict";e.d(f,{P:()=>E});var t=e(6400),a=e(71375),i=e(84040),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(S,O,A)=>O in S?c(S,O,{enumerable:!0,configurable:!0,writable:!0,value:A}):S[O]=A,g=(S,O)=>{for(var A in O||(O={}))l.call(O,A)&&_(S,A,O[A]);if(p)for(var A of p(O))v.call(O,A)&&_(S,A,O[A]);return S};function E(S){return(0,t.h)(i.hU,g({rounded:!0},S),(0,t.h)(a.Z,null))}},13833:(K,f,e)=>{"use strict";e.d(f,{xv:()=>P,Hj:()=>w,Av:()=>x,gx:()=>C});var t=e(6400),a=e(94184),i=e.n(a),c=e(19696);const p={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(D,y,M)=>y in D?l(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,A=(D,y)=>{for(var M in y||(y={}))E.call(y,M)&&O(D,M,y[M]);if(g)for(var M of g(y))S.call(y,M)&&O(D,M,y[M]);return D},u=(D,y)=>v(D,_(y)),o=(D,y)=>{var M={};for(var T in D)E.call(D,T)&&y.indexOf(T)<0&&(M[T]=D[T]);if(D!=null&&g)for(var T of g(D))y.indexOf(T)<0&&S.call(D,T)&&(M[T]=D[T]);return M};const s=(0,c.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),w=(0,c.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function P(D){var y=D,{className:M,color:T,as:R="span"}=y,F=o(y,["className","color","as"]);return(0,t.h)(R,u(A({},F),{className:i()(M,T&&p[`color-${T}`])}))}const C="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",x=(0,c.L)(C,P)},92271:(K,f,e)=>{"use strict";e.d(f,{z:()=>A});var t=e(6400),a=e(94184),i=e.n(a),c=e(84040),p=e(13833),l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(P,C,x)=>C in P?l(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,S=(P,C)=>{for(var x in C||(C={}))_.call(C,x)&&E(P,x,C[x]);if(v)for(var x of v(C))g.call(C,x)&&E(P,x,C[x]);return P},O=(P,C)=>{var x={};for(var D in P)_.call(P,D)&&C.indexOf(D)<0&&(x[D]=P[D]);if(P!=null&&v)for(var D of v(P))C.indexOf(D)<0&&g.call(P,D)&&(x[D]=P[D]);return x};function A(P){var C=P,{className:x,variant:D,look:y="button",fill:M="outline",fixedHeight:T=!0,size:R="medium",leftIcon:F,rightIcon:N,noPadding:U=!1,forwardedRef:V,children:W}=C,L=O(C,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,t.h)(c.kG,S({className:i()(x,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!w.includes(y)&&"tw-bg-transparent",o.includes(y)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${p.gx}`,s.includes(y)&&!U&&"tw-px-5",T||y=="round"?R==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",y==="button"&&"tw-rounded",y==="round"&&["tw-rounded-full tw-px-4",F&&"tw-pl-[10px]",N&&"tw-pr-[10px]"],y==="circle"&&["tw-justify-center tw-rounded-full",R==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],y==="text"&&`tw-inline ${u}`,y==="reset"&&`tw-inline-block ${u}`,y==="flex"&&`tw-flex ${u}`,D==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(y)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:D==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(y)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:D==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",w.includes(y)?M==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:D==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:D==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",w.includes(y)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:D==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(y)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:D==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",w.includes(y)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:V},L),F,W,N)}const u="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",o=["button","borderless","circle","round"],s=["button","borderless"],w=["button","circle","round"]},53570:(K,f,e)=>{"use strict";e.d(f,{X:()=>s});var t=e(6400),a=e(94184),i=e.n(a),c=e(25380);const p={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(w,P,C)=>P in w?l(w,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[P]=C,A=(w,P)=>{for(var C in P||(P={}))E.call(P,C)&&O(w,C,P[C]);if(g)for(var C of g(P))S.call(P,C)&&O(w,C,P[C]);return w},u=(w,P)=>v(w,_(P)),o=(w,P)=>{var C={};for(var x in w)E.call(w,x)&&P.indexOf(x)<0&&(C[x]=w[x]);if(w!=null&&g)for(var x of g(w))P.indexOf(x)<0&&S.call(w,x)&&(C[x]=w[x]);return C};const s=w=>{var P=w,{name:C,size:x="medium",checked:D,disabled:y=!1,error:M=!1,onChange:T,as:R="label",withTheme:F=!1}=P,N=o(P,["name","size","checked","disabled","error","onChange","as","withTheme"]);const U=R;return(0,t.h)(U,{className:i()("pencraft",p.container,p[x],y?p.disabled:p.enabled,D?F?p.checkedWithTheme:p.checked:p.unchecked,M?p.error:"")},D&&(0,t.h)(c.Z,{size:x==="small"?16:24}),(0,t.h)("input",u(A({},N),{className:"pencraft",type:"checkbox",name:C,"data-testid":C,checked:D,disabled:y,onChange:V=>{var W,L;!y&&T(!D,u(A({},V.target),{name:(L=(W=V.target)==null?void 0:W.name)!=null?L:""}))}})))}},72657:(K,f,e)=>{"use strict";e.d(f,{D:()=>i});var t=e(6400),a=e(13045);const i=({errors:c})=>c?(0,t.h)(t.Fragment,null,c.map(p=>(0,t.h)(a.xv.B4,{color:"error",key:p},p))):null},69045:(K,f,e)=>{"use strict";e.d(f,{g:()=>x});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(67963),l=e(39419);const v={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"};var _=Object.defineProperty,g=(D,y,M)=>y in D?_(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,E=(D,y,M)=>(g(D,typeof y!="symbol"?y+"":y,M),M);const S=300,O=8,A=100;class u extends t.Component{constructor(y,M){super(y,M),this.cardRef=(0,t.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,t.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},A)}setIsShown(y){this.setState({isOpen:y,attachCard:y})}onClick(y){y.stopPropagation()}render({content:y,preferPositionLeft:M,className:T,children:R},{attachCard:F,isOpen:N}){var U,V,W;let L={},k=!1;if(F&&((U=this.wrapperRef)!=null&&U.current)){const{top:H,left:G}=this.wrapperRef.current.getBoundingClientRect(),{height:q,width:z}=(W=(V=this.cardRef.current)==null?void 0:V.getBoundingClientRect())!=null?W:{};k=M&&G-z>0,k?L={top:H-O-q,left:G-z-O,"max-width":S}:L={top:H-O-q,"max-width":S,left:G}}return(0,t.h)("div",{className:c()(v.portalWrapper,T),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:H=>this.onClick(H),ref:this.wrapperRef},typeof R=="function"?R({}):R,F&&(0,a.createPortal)((0,t.h)("div",{className:c()(v.contentWrapper,{[v.contentWrapperShown]:N,"animate-opacity":!(0,l.isSafari)(),"position-left":k}),ref:this.cardRef,style:L,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},y),document.body))}}E(u,"defaultProps",{delay:A}),E(u,"contextType",p.St);const o=u,s={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},w=({content:D})=>(0,t.h)(o,{content:D},(0,t.h)("div",{className:s.learnMoreChip},"?"));var P=e(13045),C=e(72657);const x=(0,a.forwardRef)(({action:D,children:y,className:M,errors:T,helpText:R,details:F,label:N,paddingBottom:U,paddingTop:V,wrapWithLabel:W},L)=>(0,t.h)(P.tu,{ref:L,alignItems:"stretch",className:M,gap:8,paddingBottom:U,paddingTop:V},(0,t.h)(P.tu,{alignItems:"stretch",gap:8,as:W?"label":"div"},N&&(0,t.h)(P.gq,{gap:8,alignItems:"center"},(0,t.h)(P.xv.B4,{weight:"semibold",as:W?"div":"label",color:"primary"},N),R&&(0,t.h)(w,{content:R}),D&&(0,t.h)(P.gq,{flex:"grow",justifyContent:"end"},D)),(0,t.h)("div",{className:c()({"has-error":T})},y)),F&&!Array.isArray(F)&&(0,t.h)(P.xv.Detail,null,F),F&&Array.isArray(F)&&F.length>0&&(0,t.h)(P.tu,{gap:4},F.map(k=>(0,t.h)(P.xv.Detail,null,k))),(0,t.h)(C.D,{errors:T})))},92958:(K,f,e)=>{"use strict";e.d(f,{Y:()=>o});var t=e(6400),a=e(94184),i=e.n(a);const c={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP","radio--accent":"frontend-pencraft-form-Radio-module__radio--accent--GPQc_"};var p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(s,w,P)=>w in s?p(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w)=>{for(var P in w||(w={}))g.call(w,P)&&S(s,P,w[P]);if(_)for(var P of _(w))E.call(w,P)&&S(s,P,w[P]);return s},A=(s,w)=>l(s,v(w)),u=(s,w)=>{var P={};for(var C in s)g.call(s,C)&&w.indexOf(C)<0&&(P[C]=s[C]);if(s!=null&&_)for(var C of _(s))w.indexOf(C)<0&&E.call(s,C)&&(P[C]=s[C]);return P};const o=s=>{var w=s,{color:P}=w,C=u(w,["color"]);return(0,t.h)("div",{className:i()(c.container)},(0,t.h)("input",A(O({},C),{type:"radio"})),(0,t.h)("span",{className:i()(c.radio,{[c["radio--accent"]]:P==="accent"})}))}},2019:(K,f,e)=>{"use strict";e.d(f,{g:()=>A});var t=e(6400),a=e(30396),i=e(51126),c=e(43887),p=e(69045),l=e(92958),v=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(u,o,s)=>o in u?v(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,O=(u,o)=>{for(var s in o||(o={}))g.call(o,s)&&S(u,s,o[s]);if(_)for(var s of _(o))E.call(o,s)&&S(u,s,o[s]);return u};const A=({horizontal:u,label:o,labelProps:s,name:w,options:P,paddingBottom:C,paddingTop:x,size:D="medium",value:y,variant:M,onChange:T})=>{const R=(0,a.I4)(N=>{T(N.target.value)},[T]);let F;return M==="boxed"?F=(0,t.h)(i.tu,{gap:8},P.map(({value:N,label:U,disabled:V,track:W,testid:L})=>{const k=N===y;return(0,t.h)(i.gq,{alignItems:"center",as:"label",border:k?"accent-themed":"detail-themed",gap:8,padding:16,radius:6},(0,t.h)(l.Y,{checked:k,color:"accent","data-testid":L,"data-track-input":W,disabled:V,name:w,value:N,onClick:R}),(0,t.h)(c.xv.B4,{as:"span",weight:k?"semibold":"normal"},U))})):F=(0,t.h)(i.gq,{gap:D==="medium"?8:16,direction:u?"row":"column"},P.map(({value:N,label:U,disabled:V,track:W,testid:L})=>(0,t.h)(i.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,t.h)(l.Y,{checked:N===y,"data-testid":L,"data-track-input":W,disabled:V,name:w,value:N,onClick:R}),D==="medium"?(0,t.h)(c.xv.B4,O({as:"span"},s),U):(0,t.h)(c.xv.B3,O({},s),U)))),(0,t.h)(p.g,{label:o,paddingBottom:C,paddingTop:x},F)}},34394:(K,f,e)=>{"use strict";e.d(f,{o:()=>s});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(51220),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(w,P,C)=>P in w?l(w,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[P]=C,A=(w,P)=>{for(var C in P||(P={}))E.call(P,C)&&O(w,C,P[C]);if(g)for(var C of g(P))S.call(P,C)&&O(w,C,P[C]);return w},u=(w,P)=>v(w,_(P)),o=(w,P)=>{var C={};for(var x in w)E.call(w,x)&&P.indexOf(x)<0&&(C[x]=w[x]);if(w!=null&&g)for(var x of g(w))P.indexOf(x)<0&&S.call(w,x)&&(C[x]=w[x]);return C};const s=(0,a.forwardRef)((w,P)=>{var C=w,{className:x,error:D=!1,type:y="text",width:M,background:T,font:R}=C,F=o(C,["className","error","type","width","background","font"]);return(0,t.h)("input",u(A({},F),{className:c()(x,p.Z.input,{[p.Z.error]:D},R&&p.Z[`font-${R}`]),style:{width:M,background:T},type:y,ref:P}))})},27885:(K,f,e)=>{"use strict";e.d(f,{g:()=>s});var t=e(6400),a=e(98661),i=e(94184),c=e.n(i),p=e(51220),l=Object.defineProperty,v=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(w,P,C)=>P in w?l(w,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):w[P]=C,A=(w,P)=>{for(var C in P||(P={}))E.call(P,C)&&O(w,C,P[C]);if(g)for(var C of g(P))S.call(P,C)&&O(w,C,P[C]);return w},u=(w,P)=>v(w,_(P)),o=(w,P)=>{var C={};for(var x in w)E.call(w,x)&&P.indexOf(x)<0&&(C[x]=w[x]);if(w!=null&&g)for(var x of g(w))P.indexOf(x)<0&&S.call(w,x)&&(C[x]=w[x]);return C};const s=(0,a.forwardRef)((w,P)=>{var C=w,{className:x,error:D=!1,font:y}=C,M=o(C,["className","error","font"]);return(0,t.h)("textarea",u(A({ref:P,className:c()(x,p.Z.input,p.Z.textarea,{[p.Z.error]:D},y&&p.Z[`font-${y}`])},M),{type:"text"}))})},5668:(K,f,e)=>{"use strict";e.d(f,{U:()=>i});var t=e(6400);const a={hiddenInput:"frontend-pencraft-internal-HiddenInputWrapper-module__hiddenInput--wQ_AN"},i=({children:c})=>(0,t.h)("div",{className:a.hiddenInput},c)},89581:(K,f,e)=>{"use strict";e.d(f,{x:()=>u});var t=e(30396),a=e(62372);let i=0;function c(o="",s=[]){return(0,t.Ye)(()=>(i++,i=i>Number.MAX_SAFE_INTEGER?1:i,`${o}${i}`),s)}var p=Object.defineProperty,l=Object.defineProperties,v=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(o,s,w)=>s in o?p(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,O=(o,s)=>{for(var w in s||(s={}))g.call(s,w)&&S(o,w,s[w]);if(_)for(var w of _(s))E.call(s,w)&&S(o,w,s[w]);return o},A=(o,s)=>l(o,v(s));const u=({layerOptions:o,hideOnScroll:s,onClose:w}={})=>{const[P,C]=(0,t.eJ)(!1),{triggerProps:x,layerProps:D,renderLayer:y}=(0,a.sJ)(O({isOpen:P,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>{w&&w(),C(!1)}},o)),M=c("trigger"),T=c("dialog");return(0,t.d4)(()=>{if(s){const R=()=>{requestAnimationFrame(()=>{open&&s&&C(!1)})};return window.addEventListener("scroll",R,!0),()=>{window.removeEventListener("scroll",R,!0)}}},[s]),{triggerProps:A(O({},x),{id:M,"aria-expanded":P,"aria-haspopup":"dialog","aria-controls":T}),layerProps:A(O({},D),{id:T,role:"dialog",tabIndex:0,"aria-labeledby":M}),renderLayer:y,isOpen:P,setOpen:C}}},25666:(K,f,e)=>{"use strict";e.d(f,{l:()=>S,x:()=>O});var t=e(6400),a=e(30396),i=e(5285),c=e(62372),p=Object.defineProperty,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(A,u,o)=>u in A?p(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,E=(A,u)=>{for(var o in u||(u={}))v.call(u,o)&&g(A,o,u[o]);if(l)for(var o of l(u))_.call(u,o)&&g(A,o,u[o]);return A};function S({hoverOptions:A,layerOptions:u}={}){const[o,s]=(0,a.eJ)(!1),[w,P]=(0,c.XI)(E({delayEnter:1e3,delayLeave:500},A)),{triggerProps:C,layerProps:x,renderLayer:D}=(0,c.sJ)(E({isOpen:w,auto:!0,triggerOffset:8},u));return{layerProps:x,triggerProps:E(E({},C),P),transitionProps:{show:w,beforeEnter:()=>s(!0),afterLeave:()=>s(!1)},renderLayer:D,shouldShow:w||o}}function O(A){return(0,t.h)(i.u,E({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},A))}},30058:(K,f,e)=>{"use strict";e.d(f,{e:()=>c});var t=e(6400),a=e(94184),i=e.n(a);const c=({className:p,children:l,displayContents:v})=>(0,t.h)("div",{className:i()("tailwind-preflight",p),style:v?{display:"contents"}:{}},l)},96450:(K,f,e)=>{"use strict";e.d(f,{q:()=>E});var t=e(6400),a=e(94184),i=e.n(a),c=e(79786),p=e(30058),l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(S,O)=>{var A={};for(var u in S)v.call(S,u)&&O.indexOf(u)<0&&(A[u]=S[u]);if(S!=null&&l)for(var u of l(S))O.indexOf(u)<0&&_.call(S,u)&&(A[u]=S[u]);return A};const E=S=>{var O=S,{size:A="md",shape:u="circle",badgePosition:o="top-right",badge:s,imageUrl:w,onClick:P,className:C,border:x}=O,D=g(O,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);const y=i()("tw-inline-block","tw-object-cover",u==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":A==="sm","tw-h-8 tw-w-8":A==="md","tw-h-10 tw-w-10":A==="lg","tw-h-[64px] tw-w-[64px]":A==="xl","tw-h-[88px] tw-w-[88px]":A==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":x},P?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null);return(0,t.h)(p.e,{className:C},(0,t.h)("div",{onClick:P,className:i()("tw-relative","tw-inline-block")},w?(0,t.h)(c.e,{className:y,src:w,maxWidth:88,loading:"lazy"}):(0,t.h)("img",{className:y,src:void 0}),s!=null?(0,t.h)("span",{className:i()("tw-absolute",{"tw-top-0 tw-right-0":o==="top-right","tw-top-0 tw-left-0":o==="top-left","tw-bottom-0 tw-right-0":o==="bottom-right","tw-bottom-0 tw-left-0":o==="bottom-left"})},s):null))}},9736:(K,f,e)=>{"use strict";var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e(84040),l=e(62246),v=e(43887);const _={drawer:"frontend-pencraft-unstable-Drawer-module__drawer--fsmyI"};function g({children:S}){const O="drawer-portal";let A=document.getElementById(O);return A===null&&(A=document.createElement("div"),A.setAttribute("id",O),document.body.appendChild(A)),A?createPortal(S,A):null}const E=({title:S,isOpen:O=!1,onClose:A,className:u,primaryButton:o,secondaryButton:s,children:w})=>{const P=useRef(null);return useEffect(()=>{O&&P.current.focus()},[P,O]),h(g,null,h("div",{ref:P},h(Transition.Root,{show:O,as:Fragment},h(Transition.Child,{as:Fragment,enter:"tw-transform tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-translate-x-full",enterTo:"tw-translate-x-0",leave:"tw-transform tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-translate-x-0",leaveTo:"tw-translate-x-full"},h("div",{className:cn("tw-fixed tw-top-0 tw-bottom-0 tw-right-0 tw-z-50 tw-max-w-[400px] tw-border tw-border-solid tw-border-substack-detail tw-bg-substack-bg tw-shadow-lg",css.drawer,u)},h("div",{className:"drawer-scroll tw-flex tw-h-full tw-flex-col tw-overflow-y-scroll tw-bg-white tw-pb-6 tw-shadow-xl"},h("div",{className:"tw-flex tw-min-h-0 tw-flex-1 tw-flex-col tw-overflow-y-scroll tw-py-6"},h("div",{className:"tw-px-4 sm:tw-px-6"},h("div",{className:"tw-flex tw-items-start tw-justify-between"},h(Text.H3,{weight:"bold"},S),A&&h("div",{className:"tw-ml-3 tw-flex tw-h-7 tw-items-center"},h(IconButton,{size:32,"aria-label":"Close",fill:"empty",onClick:A},h(X,{className:"tw-h-6 tw-w-6","aria-hidden":"true"}))))),h("div",{className:"tw-relative tw-mt-6 tw-flex-1 tw-px-4 sm:tw-px-6"},w)),h("div",{className:"tw-flex tw-flex-shrink-0 tw-justify-end tw-border tw-border-b-0 tw-border-l-0 tw-border-r-0 tw-border-solid tw-border-substack-detail"},h(ModalFooter,{primaryButton:o,secondaryButton:s}))))))))}},12908:(K,f,e)=>{"use strict";var t=e(6400),a=e(15045),i=e(84040),c=e(48960),p=e(51126),l=e(43887);const v={tableData:"frontend-pencraft-unstable-List-module__tableData--kzWLV",tableRow:"frontend-pencraft-unstable-List-module__tableRow--Fyph3",rowLogo:"frontend-pencraft-unstable-List-module__rowLogo--fIict",rowInfo:"frontend-pencraft-unstable-List-module__rowInfo--5A0s1",rowLink:"frontend-pencraft-unstable-List-module__rowLink--nGmEv",podcastDescription:"frontend-pencraft-unstable-List-module__podcastDescription--ifZbh",rowHeader:"frontend-pencraft-unstable-List-module__rowHeader--IsJtB",rowText:"frontend-pencraft-unstable-List-module__rowText--NQxbO",editButton:"frontend-pencraft-unstable-List-module__editButton--cWhuz"};var _=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(P,C,x)=>C in P?_(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,A=(P,C)=>{for(var x in C||(C={}))E.call(C,x)&&O(P,x,C[x]);if(g)for(var x of g(C))S.call(C,x)&&O(P,x,C[x]);return P},u=(P,C)=>{var x={};for(var D in P)E.call(P,D)&&C.indexOf(D)<0&&(x[D]=P[D]);if(P!=null&&g)for(var D of g(P))C.indexOf(D)<0&&S.call(P,D)&&(x[D]=P[D]);return x};const o=P=>{var C=P,{children:x,addItem:D}=C,y=u(C,["children","addItem"]);const M=toChildArray(x);return h(FlexColumn,A({gap:16,flex:"fill"},y),M.map((T,R)=>h(Fragment,null,T,R<M.length-1||D?h(Divider,{pullX:8}):null)),D)},s=({imgSrc:P,icon:C,href:x,title:D,subtitle:y,action:M})=>h(FlexRow,{alignItems:"center",gap:16},P?h("img",{className:css.rowLogo,src:imginary(P,144),alt:`${D} logo`}):C?h(FlexBox,{justifyContent:"center",alignItems:"center",className:css.rowLogo,bg:"secondary",radius:6},C):null,h(FlexRow,{alignItems:"center",flex:"grow",gap:12},h(FlexColumn,{className:css.rowInfo,justifyContent:"center"},h(Text.B4,{weight:"bold",className:css.rowTitle},h("a",{className:css.rowLink,href:x,native:!0},D)),h(FlexRow,{gap:8,alignItems:"center"},h(Text.B4,null,y))),M)),w=({label:P,priority:C="primary",href:x,onClick:D})=>h(FlexRow,{justifyContent:"start"},h(Button,{priority:C,leftIcon:h(Plus,null),fill:"empty",href:x,onClick:D},P))},96427:(K,f,e)=>{"use strict";e.d(f,{P:()=>C});var t=e(6400),a=e(94184),i=e.n(a),c=e(99758),p=e(84040),l=e(51126),v=e(76235),_=e(43887);const g={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"};var E=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(D,y,M)=>y in D?E(D,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):D[y]=M,w=(D,y)=>{for(var M in y||(y={}))u.call(y,M)&&s(D,M,y[M]);if(A)for(var M of A(y))o.call(y,M)&&s(D,M,y[M]);return D},P=(D,y)=>S(D,O(y));const C=({children:D,className:y,name:M,value:T,onChange:R,disabled:F=!1})=>{var N;const U=D.find(V=>V.props.value===T);return U||console.error("Select: value not found in children. value:",T,"options:",D.map(V=>V.props.value)),(0,t.h)(l.gq,{className:i()(g.select,y),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,t.h)(_.xv,{className:i()(g.selectedOption,{[g.disabled]:F}),font:"text",size:14,color:F?"secondary":"primary"},(N=U==null?void 0:U.props.children)!=null?N:""),(0,t.h)(c.Z,null),(0,t.h)("select",{name:M,value:T,onChange:V=>{var W;R(V.target.value,P(w({},V.target),{name:(W=V.target.name)!=null?W:""}))},disabled:F},D))};function x({value:D,options:y,onChange:M,fill:T,disabled:R,className:F,priority:N}){var U,V;return h(Menu,{className:F,trigger:h(Button,{priority:N!=null?N:"secondary",fill:T,disabled:R,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(V=(U=y.find(W=>W.value===D))==null?void 0:U.label)!=null?V:"Select")},y.map(W=>h(MenuItem,{onClick:()=>M(W.value)},W.label)))}},95297:(K,f,e)=>{"use strict";e.d(f,{s:()=>N,o:()=>U});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(62372),l=e(51736),v=e(47052),_=e(3258),g=e(51126),E=e(43887),S=e(92630);const O={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var A=Object.defineProperty,u=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(V,W,L)=>W in V?A(V,W,{enumerable:!0,configurable:!0,writable:!0,value:L}):V[W]=L,x=(V,W)=>{for(var L in W||(W={}))w.call(W,L)&&C(V,L,W[L]);if(s)for(var L of s(W))P.call(W,L)&&C(V,L,W[L]);return V},D=(V,W)=>u(V,o(W));const y=100,M={sm:16,md:20,lg:24},T={100:v.Z,1e3:l.Z,1e4:l.Z},R={1e4:{fill:"var(--color-accent-purple)"}},F={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},N=({className:V,isStatic:W=!1,inline:L=!1,size:k="lg",tier:H,tooltipOnHover:G=!1,userId:q})=>{const[z,ee]=(0,p.XI)({delayEnter:y,delayLeave:y,hideOnScroll:!0}),$=z&&!G,{triggerProps:J,layerProps:j,renderLayer:Z}=(0,p.sJ)({isOpen:$,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),ne=j.style;(0,a.d4)(()=>{z&&(0,_.j)(_.FP.BESTSELLER_INFO_SHOWN,{tier:H,form:G?"tooltip":"popover",hovered_user_id:q})},[z,H,G,q]);const ie=M[k];if(!H)return null;const oe=T[H.toString()],re=R[H.toString()],ae=c()(V,L?O.inlineContainer:O.container);return W&&H?(0,t.h)("div",{className:ae},(0,t.h)(oe,D(x({},re),{height:ie}))):(0,t.h)("div",D(x(x({},ee),J),{className:ae}),(0,t.h)(S.u,{text:`${F[H.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!G},(0,t.h)(oe,D(x({},re),{height:ie}))),$&&Z((0,t.h)("div",D(x(x({},j),ee),{style:ne,className:O.popover}),(0,t.h)(g.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,t.h)(oe,D(x({},re),{height:40})),(0,t.h)(g.tu,{alignItems:"center",gap:4},(0,t.h)(E.xv.H3,null,"Bestseller"),(0,t.h)(E.xv.B4,{align:"center"},F[H.toString()]," of paid subscribers"))))))},U=({tier:V})=>{if(!V)return null;const W=T[V.toString()],L=R[V.toString()];return(0,t.h)(W,D(x({},L),{height:M.sm}))}},7610:(K,f,e)=>{"use strict";e.d(f,{L:()=>O});var t=e(48583),a=e(11621),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(A,u,o)=>u in A?i(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,E=(A,u)=>{for(var o in u||(u={}))v.call(u,o)&&g(A,o,u[o]);if(l)for(var o of l(u))_.call(u,o)&&g(A,o,u[o]);return A},S=(A,u)=>c(A,p(u));const O=()=>{const A=(0,t.b9)(a.vU);return(u,o,s="WARN")=>{const w=o?S(E({},u),{message:o}):u;A({error:w,level:s})}}},46051:(K,f,e)=>{"use strict";e.d(f,{I:()=>c});var t=e(30396),a=e(7610),i=(p,l,v)=>new Promise((_,g)=>{var E=A=>{try{O(v.next(A))}catch(u){g(u)}},S=A=>{try{O(v.throw(A))}catch(u){g(u)}},O=A=>A.done?_(A.value):Promise.resolve(A.value).then(E,S);O((v=v.apply(p,l)).next())});function c(p,l){const v=(0,a.L)(),_=(...g)=>i(this,null,function*(){try{return yield p(...g)}catch(E){E instanceof Error?v(E):(console.error("useSafeCallback caught unspecified error",E),v(new Error(JSON.stringify(E))))}});return(0,t.I4)(_,l)}},592:(K,f,e)=>{"use strict";e.d(f,{mH:()=>w});var t=e(6400),a=e(98661),i=e(30396),c=e(67963),p=e(3258),l=e(91004),v=e(4605),_=e(8479),g=e(13045),E=e(62246),S=e(99574),O=(P,C,x)=>new Promise((D,y)=>{var M=F=>{try{R(x.next(F))}catch(N){y(N)}},T=F=>{try{R(x.throw(F))}catch(N){y(N)}},R=F=>F.done?D(F.value):Promise.resolve(F.value).then(M,T);R((x=x.apply(P,C)).next())});const A=({isOpen:P,onClose:C,pub:x,post:D,hideEmail:y,hideAssetTitle:M,smallAssetPadding:T,mediaCarousel:R,source:F})=>((0,i.d4)(()=>{P&&(0,p.j)(p.FP.INSTAGRAM_SHARE_MODAL_SEEN,{source:F||(y?"post":"share center")})},[P,y,F]),(0,t.h)(E.u_,{isOpen:P,onClose:C,fullscreenMobile:!0},(0,t.h)(E.xB,{title:"Share to Instagram",onClose:C,includeClose:!0}),(0,t.h)(u,{pub:x,post:D,hideEmail:y,hideAssetTitle:M,smallAssetPadding:T,mediaCarousel:R,source:F}))),u=({pub:P,post:C,hideEmail:x,hideAssetTitle:D,smallAssetPadding:y,mediaCarousel:M,source:T})=>{const R=(0,c.aF)(),F=({step:U,title:V,subtitle:W,children:L})=>(0,t.h)(g.gq,{gap:16},(0,t.h)(g.xv.H4,null,U),(0,t.h)(g.tu,{style:{width:"90%"},gap:12},(0,t.h)(g.tu,{gap:4},(0,t.h)(g.xv.H4,null,V),(0,t.h)(g.xv.B4,{color:"secondary"},W)),L)),N=()=>{const[U,V]=(0,i.eJ)(!1);return(0,t.h)(g.tu,{bg:"secondary",radius:12,border:"detail"},(0,t.h)(g.tu,{gap:24,padding:y?8:20},(0,t.h)(g.gq,{gap:12,alignItems:"center"},!D&&(0,t.h)(g.xv.B4,{weight:"bold"},"Shareable images"),!x&&(0,t.h)(g.zx,{size:"small",disabled:U,priority:"secondary",style:{marginLeft:"auto",marginRight:0},onClick:()=>O(void 0,null,function*(){(0,p.j)(p.FP.SHARE_CENTER_MEDIA_ASSETS_EMAILED,{post_id:C.id}),V(!0);try{(yield(0,_.rd)(`/api/v1/press_kit/${C.id}/email`)).success&&(0,v.ZP)("Emails sent successfully.")}catch(W){(0,p.j)(p.FP.SHARE_CENTER_MEDIA_ASSETS_EMAILED_FAILED,{post_id:C.id}),(0,v.ZP)("Error sending emails. Please try again.")}finally{V(!1)}})},"Email me assets")),M))};return(0,t.h)(E.fe,null,(0,t.h)(g.tu,{gap:24},(0,t.h)(F,{step:1,title:"Download an image",subtitle:"Substack automatically creates assets from any post to share on Instagram."},(0,t.h)(N,null)),(0,t.h)(F,{step:2,title:"Copy a link to the post",subtitle:"Add a link to your Instagram story or bio."},(0,t.h)(g.zx,{priority:"secondary",onClick:()=>{(0,l.Ui)({shareUrl:(0,l.O1)(null,{pub:P,post:C,user:R}),pub:P,post:C,utm_campaign:T||(x?"post-instagram-share-modal":"post-share-center")})}},"Copy Link")),(0,t.h)(F,{step:3,title:"Share on Instagram",subtitle:"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"})))},o=(0,a.memo)(A,(P,C)=>P.post.id===C.post.id&&P.isOpen===C.isOpen),s=({isOpen:P,onClose:C,pub:x,post:D,themeVariables:y,hideEmail:M})=>{const T=(0,S.E)(x,D,y,!0,{source:M?"instagram-modal-reader-share":"instagram-modal-share-center"});return(0,t.h)(o,{isOpen:P,pub:x,post:D,onClose:C,mediaCarousel:(0,t.h)(S.H,{inline:!0},T),hideEmail:M})},w=(0,a.memo)(s,(P,C)=>P.post.id===C.post.id&&P.isOpen===C.isOpen)},99574:(K,f,e)=>{"use strict";e.d(f,{H:()=>y,E:()=>T});var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(56743),v=e(2564),_=e(71278),g=e(13045),E=e(83322),S=e(76193);const O={mediaCarousel:"frontend-publish-share_center-MediaAssetCarousel-module__mediaCarousel--yatYn",pressKitImageContainer:"frontend-publish-share_center-MediaAssetCarousel-module__pressKitImageContainer--qcOIf",scrollContainer:"frontend-publish-share_center-MediaAssetCarousel-module__scrollContainer--YjAQV",carouselParent:"frontend-publish-share_center-MediaAssetCarousel-module__carouselParent--mJlqW",carouselArrow:"frontend-publish-share_center-MediaAssetCarousel-module__carouselArrow--NOyGP",bg:"frontend-publish-share_center-MediaAssetCarousel-module__bg--lN6p2",fade:"frontend-publish-share_center-MediaAssetCarousel-module__fade--LwBBa",visible:"frontend-publish-share_center-MediaAssetCarousel-module__visible--nkiL7",left:"frontend-publish-share_center-MediaAssetCarousel-module__left--Gpyzo",bgSecondary:"frontend-publish-share_center-MediaAssetCarousel-module__bgSecondary--YZnYt",right:"frontend-publish-share_center-MediaAssetCarousel-module__right--VIM7J",containerArrows:"frontend-publish-share_center-MediaAssetCarousel-module__containerArrows--fQe5X"};var A=Object.defineProperty,u=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(N,U,V)=>U in N?A(N,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):N[U]=V,x=(N,U)=>{for(var V in U||(U={}))w.call(U,V)&&C(N,V,U[V]);if(s)for(var V of s(U))P.call(U,V)&&C(N,V,U[V]);return N},D=(N,U)=>u(N,o(U));const y=({inline:N,hideArrowsMobile:U,children:V})=>{const W=U&&(0,E.isTouchDevice)(),L=(0,i.sO)(null),{state:k,handleArrowClick:H}=F(L),G=N?"secondary":void 0;return(0,t.h)(g.hs,{className:O.scrollContainer,bg:G,alignItems:"center",flex:"grow"},(0,t.h)(g.gq,{className:O.carouselParent,bg:G},!W&&k.showLeft&&(0,t.h)(g.hs,{bg:N?void 0:"secondary",className:p()(O.fade,O.visible,O.left,O.containerArrows)},(0,t.h)("div",{className:G==="secondary"?O.bgSecondary:O.bg}),(0,t.h)(g.hU,{className:O.carouselArrow,rounded:!0,size:36,onClick:H(-1),fill:N?"filled":"empty"},(0,t.h)(l.Z,null))),(0,t.h)(g.hs,{ref:L,bg:G,gap:N?8:16,justifyContent:"space-between",className:O.mediaCarousel,padding:4},V),!W&&k.showRight&&(0,t.h)(g.hs,{bg:N?void 0:"secondary",className:p()(O.fade,O.visible,O.right,O.containerArrows)},(0,t.h)("div",{className:G==="secondary"?O.bgSecondary:O.bg}),(0,t.h)(g.hU,{className:O.carouselArrow,rounded:!0,size:36,onClick:H(1),fill:N?"filled":"empty"},(0,t.h)(v.Z,null)))))},M=(0,a.memo)(({pub:N,post:U,bgColor:V,textColor:W,bgImage:L,aspectRatio:k,text:H,inline:G,source:q})=>{const z={square:"1:1",stories:"9:16",instagram:"4:5"};return(0,t.h)(g.tu,{gap:G?4:12,className:O.pressKitImageContainer},(0,t.h)(_.Z,{pub:N,post:U,style:{bgColor:V,textColor:W,aspectRatio:k,bgImage:L},text:H,sharePage:!0,source:q,inline:G}),(0,t.h)(g.xv.Meta,null,k.toUpperCase()," ",z[k]))}),T=(N,U,V,W=!1,{source:L}={})=>(0,i.Ye)(()=>V?R(N,U,V).map((H,G)=>(0,t.h)(M,{key:G,pub:N,post:U,bgColor:H.bgColor,textColor:H.textColor,aspectRatio:H.aspectRatio,bgImage:H.bgImage,text:H.text,inline:W,source:L})):[],[N,U,V,W,L]),R=(N,U,V)=>{const W=V.web_bg_color||V.cover_bg_color,L=[],k=[];(U.cover_image||N.cover_photo_url)&&k.push({bgImage:!0,textColor:"#ffffff",text:"Image"}),W.toLowerCase()!=="#ffffff"&&k.push({bgColor:"#ffffff",textColor:"#404040",text:"Black and White"}),k.push({bgColor:W,textColor:V.print_on_web_bg_color||V.cover_print_primary||"#1a1a1a",bgImage:!1,text:"Background Color"}),V.background_pop&&k.push({bgColor:V.background_pop,textColor:V.print_on_pop,text:"Accent Color"});const H=["square","instagram","stories"];if(k.length===1)for(const G of H)L.push(D(x({},k[0]),{aspectRatio:G}));else if(k.length===2)for(let G=0;G<6;G++){const q=G%2,z=H[Math.floor(G/2)%3];L.push(D(x({},k[q]),{aspectRatio:z}))}else k.length===3?(L.push(D(x({},k[0]),{aspectRatio:"square"})),L.push(D(x({},k[1]),{aspectRatio:"instagram"})),L.push(D(x({},k[2]),{aspectRatio:"stories"})),L.push(D(x({},k[1]),{aspectRatio:"square"})),L.push(D(x({},k[2]),{aspectRatio:"instagram"})),L.push(D(x({},k[0]),{aspectRatio:"stories"})),L.push(D(x({},k[2]),{aspectRatio:"square"})),L.push(D(x({},k[0]),{aspectRatio:"instagram"})),L.push(D(x({},k[1]),{aspectRatio:"stories"}))):k.length===4&&(L.push(D(x({},k[0]),{aspectRatio:"square"})),L.push(D(x({},k[1]),{aspectRatio:"instagram"})),L.push(D(x({},k[2]),{aspectRatio:"stories"})),L.push(D(x({},k[1]),{aspectRatio:"square"})),L.push(D(x({},k[2]),{aspectRatio:"instagram"})),L.push(D(x({},k[3]),{aspectRatio:"stories"})),L.push(D(x({},k[2]),{aspectRatio:"square"})),L.push(D(x({},k[3]),{aspectRatio:"instagram"})),L.push(D(x({},k[0]),{aspectRatio:"stories"})),L.push(D(x({},k[3]),{aspectRatio:"square"})),L.push(D(x({},k[0]),{aspectRatio:"instagram"})),L.push(D(x({},k[1]),{aspectRatio:"stories"})));return L},F=(N,{initialState:U}={})=>{const[V,W]=(0,i.eJ)(U||{showLeft:!1,showRight:!0});return(0,i.d4)(()=>{const{current:k}=N;if(k){const H=()=>{W(G=>{let q=G;!q.showLeft&&k.scrollLeft>0?q=D(x({},G),{showLeft:!0}):q.showLeft&&k.scrollLeft<=0&&(q=D(x({},G),{showLeft:!1}));const z=k.scrollWidth-k.offsetWidth-4;return!q.showRight&&k.scrollLeft<z?q=D(x({},G),{showRight:!0}):q.showRight&&k.scrollLeft>=z&&(q=D(x({},G),{showRight:!1})),q})};return k.addEventListener("scroll",H),setTimeout(()=>{H()},1e3),()=>{k.removeEventListener("scroll",H)}}},[N]),{state:V,handleArrowClick:k=>()=>{const{current:H}=N;H&&H.scrollBy({left:k*Math.min((0,S.isMobile)()?H.offsetWidth-70:H.offsetWidth-150,H.scrollWidth-H.offsetWidth),behavior:"smooth"})}}}},9686:(K,f,e)=>{"use strict";e.d(f,{I:()=>u});var t=e(6400),a=e(30396),i=e(86804),c=e(46209);function p(){const D=(0,a.sO)();return(0,a.d4)(()=>{var y;(y=D.current)==null||y.focus()},[]),D}var l=e(63503),v=e(8479),_=e(39419),g=e(5131),E=e(19696),S=e(34518),O=e(33510),A=(D,y,M)=>new Promise((T,R)=>{var F=V=>{try{U(M.next(V))}catch(W){R(W)}},N=V=>{try{U(M.throw(V))}catch(W){R(W)}},U=V=>V.done?T(V.value):Promise.resolve(V.value).then(F,N);U((M=M.apply(D,y)).next())});function u({onCancel:D,onSuccess:y,onSignup:M,noCloseButton:T,noExit:R}){const[F,N]=(0,a.eJ)("email"),[U,V]=(0,a.eJ)(""),W=()=>{N("mfa")};return(0,t.h)(S.Yy,{className:"",isPopup:!0,onClose:D,noCloseButton:T,noExit:R},(0,t.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,t.h)(c.Z,{className:"reader-nav-logo modal-header-icon"}),(0,t.h)(O.y,null,"Sign in to Substack"),F==="email"?(0,t.h)(s,{onUsePassword:L=>{V(L),N("password")},onSuccess:L=>{V(L),N("poll")}}):F==="poll"?(0,t.h)(w,{email:U,onSuccess:y,onChangeMode:N}):F==="mfa"?(0,t.h)(P,{onSuccess:y}):(0,t.h)(o,{email:U,onMfa:W,onSuccess:y})),M&&(0,t.h)(O.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,t.h)("span",null,"First time here?"," ",(0,t.h)(g.zx,{variant:"primary",look:"text",onClick:M},"Create an account"))))}function o({email:D,onSuccess:y,onMfa:M}){const T=(0,v.ib)({pathname:"/api/v1/login",method:"post"}),R=(0,a.sO)(),F=U=>A(this,null,function*(){if(U.preventDefault(),T.isLoading)return;const V=x(U.currentTarget);R.current&&(V.captcha_response=R.current.getResponse());const W=yield T.refetch({json:V});W instanceof Error||(W.mfa_required?M():y())}),N=p();return(0,t.h)(t.Fragment,null,T.error instanceof v.kp&&T.error.response.status===401&&(0,t.h)(i.Z,{ref:R}),(0,t.h)(C,{onSubmit:F,disabled:T.isLoading},(0,t.h)(O.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:D}),(0,t.h)(O.II,{type:"password",name:"password",placeholder:"Your password",ref:N}),T.error&&(0,t.h)(O.Xq,null,(0,_.getNetworkErrorMessage)(T.error)),(0,t.h)(g.zx,{type:"submit",variant:"primary"},T.isLoading?"Signing in...":"Sign in")))}function s({onUsePassword:D,onSuccess:y}){const M=(0,v.ib)({pathname:"/api/v1/email-login",method:"POST"}),T=F=>{if(F.preventDefault(),M.isLoading)return;const N=F.currentTarget.email.value;M.refetch({json:{email:N,redirect:location.pathname}}).then(U=>{U instanceof v.kp||y(N)})},R=p();return(0,t.h)(C,{onSubmit:T,disabled:M.isLoading},(0,t.h)(O.II,{type:"email",name:"email",placeholder:"Your email",ref:R}),(0,t.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,t.h)(g.zx,{type:"submit",variant:"primary"},M.isLoading?"Signing in...":"Sign in with email"),(0,t.h)(g.zx,{variant:"secondary",look:"borderless",onClick:()=>{var F;return D((F=R.current)==null?void 0:F.value)}},"or sign in with password")))}function w({email:D,onSuccess:y,onChangeMode:M}){return(0,l.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(T=>A(this,null,function*(){(yield T.json()).loggedIn&&y()}))},5e3),(0,t.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,t.h)("b",null,"Check your email"),(0,t.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,t.h)("b",null,D)," ","with a link that you can use to sign in."),(0,t.h)("div",null,"You can also"," ",(0,t.h)(g.zx,{look:"text",onClick:()=>M("email")},(0,t.h)("b",null,"try again"))," ","or"," ",(0,t.h)(g.zx,{look:"text",onClick:()=>M("password")},(0,t.h)("b",null,"sign in using your password")),"."))}function P({onSuccess:D}){const y=(0,v.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),M=T=>{T.preventDefault(),!y.isLoading&&y.refetch({json:x(T.currentTarget)}).then(R=>{R instanceof v.kp||D()})};return(0,t.h)(C,{onSubmit:M,disabled:y.isLoading},(0,t.h)(O.II,{type:"password",name:"code",placeholder:"Your MFA code"}),y.error&&(0,t.h)(O.Xq,null,(0,_.getNetworkErrorMessage)(y.error)),(0,t.h)(g.zx,{type:"submit",variant:"primary"},y.isLoading?"Signing in...":"Sign in"))}const C=(0,E.L)("tw-flex tw-flex-col tw-gap-3","form");function x(D){return Object.fromEntries(Array.from(D.elements).filter(y=>y instanceof HTMLInputElement||y instanceof HTMLTextAreaElement).map(y=>[y.name,y.value]))}},10186:(K,f,e)=>{"use strict";e.d(f,{qE:()=>T,BG:()=>F,YY:()=>N});var t=e(6400),a=e(94184),i=e.n(a),c=e(40353),p=e(7370),l=e(85362),v=e(80332),_=e(13045),g=e(15045),E=e(51126),S=e(33510),O=e(68262);const A={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var u=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,x=(U,V,W)=>V in U?u(U,V,{enumerable:!0,configurable:!0,writable:!0,value:W}):U[V]=W,D=(U,V)=>{for(var W in V||(V={}))P.call(V,W)&&x(U,W,V[W]);if(w)for(var W of w(V))C.call(V,W)&&x(U,W,V[W]);return U},y=(U,V)=>o(U,s(V)),M=(U,V)=>{var W={};for(var L in U)P.call(U,L)&&V.indexOf(L)<0&&(W[L]=U[L]);if(U!=null&&w)for(var L of w(U))V.indexOf(L)<0&&C.call(U,L)&&(W[L]=U[L]);return W};function T({user:U,size:V,className:W}){const L=(0,g.getUserPhotoUrl)(U);return(0,t.h)(S.t5,{className:i()(A.avatar,W),src:L,size:V})}function R({user:U,size:V,className:W,badge:L,badgeShape:k="square",showProfileHovercard:H}){return(0,g.getUserPhotoUrl)(U)?(0,t.h)(E.gq,{className:A.avatarContainer},(0,t.h)(v.Ct,{subject:D({id:0,name:""},U),dontStopPropagation:!1,disabled:!H},(0,t.h)(T,{user:U,size:V,className:W})),L&&(0,t.h)("div",{className:i()(A.badge,k&&A[k])},L)):null}function F(U){var V=U,{pub:W}=V,L=M(V,["pub"]);return(0,t.h)(R,y(D({},L),{badge:W&&(0,t.h)(O.F,{pub:W,size:16})}))}function N(U){var V=U,{subscriptionType:W}=V,L=M(V,["subscriptionType"]);let k=null,H;return W==="author"?(k=(0,t.h)(c.Z,{height:16,className:A.subscriptionBadge}),H="Author"):W==="founding"?(k=(0,t.h)(p.Z,{height:16,className:A.subscriptionBadge}),H="Founding member"):W==="paid"&&(k=(0,t.h)(l.Z,{height:16,className:A.subscriptionBadge}),H="Paid subscriber"),k=k&&H?(0,t.h)(_.u,{text:H},k):null,(0,t.h)(R,y(D({},L),{badge:k,badgeShape:"circle"}))}},5131:(K,f,e)=>{"use strict";e.d(f,{zx:()=>A});var t=e(6400),a=e(94184),i=e.n(a),c=e(7922),p=e(19696),l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(s,w,P)=>w in s?l(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))_.call(w,P)&&E(s,P,w[P]);if(v)for(var P of v(w))g.call(w,P)&&E(s,P,w[P]);return s},O=(s,w)=>{var P={};for(var C in s)_.call(s,C)&&w.indexOf(C)<0&&(P[C]=s[C]);if(s!=null&&v)for(var C of v(s))w.indexOf(C)<0&&g.call(s,C)&&(P[C]=s[C]);return P};function A(s){var w=s,{className:P,variant:C,rounded:x,look:D="button",fixedHeight:y=!0,size:M="medium",hasLeftIcon:T,hasRightIcon:R,forwardedRef:F}=w,N=O(w,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,t.h)(c.k,S({className:i()("reader2-button",P,`reader2-button-${D}`,y&&"fixedHeight",C&&(["text","borderless"].includes(D)?`reader2-button-text-${C}`:`reader2-button-${C}`),(x||D==="circle")&&"reader2-button-rounded",`reader2-button-${M}`,T&&"hasLeftIcon",R&&"hasRightIcon"),ref:F},N))}function u(s){var w=s,{isActive:P=!1,isSmall:C=!1,icon:x,children:D}=w,y=O(w,["isActive","isSmall","icon","children"]);return h("button",S({className:classnames("reader2-button-reset reader2-tab",P&&"active",C&&"small",x?"hasIcon":null)},y),x,D)}const o=(0,p.L)("reader2-button-row")},657:(K,f,e)=>{"use strict";e.d(f,{b4:()=>y,De:()=>M,eK:()=>D});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(2564),l=e(56743),v=e(51126),_=e(5131);const g={scrollBox:"frontend-reader2-Carousel-module__scrollBox--HIlKF"};var E=e(28967),S=Object.defineProperty,O=Object.defineProperties,A=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,w=(T,R,F)=>R in T?S(T,R,{enumerable:!0,configurable:!0,writable:!0,value:F}):T[R]=F,P=(T,R)=>{for(var F in R||(R={}))o.call(R,F)&&w(T,F,R[F]);if(u)for(var F of u(R))s.call(R,F)&&w(T,F,R[F]);return T},C=(T,R)=>O(T,A(R)),x=(T,R)=>{var F={};for(var N in T)o.call(T,N)&&R.indexOf(N)<0&&(F[N]=T[N]);if(T!=null&&u)for(var N of u(T))R.indexOf(N)<0&&s.call(T,N)&&(F[N]=T[N]);return F};const D=(T,{inset:R=0,pageSizeAdjust:F=0,initialState:N}={})=>{const[U,V]=(0,a.eJ)(N||{showLeft:!1,showRight:!1});return(0,a.d4)(()=>{const{current:L}=T;if(L){const k=()=>{V(H=>{let G=H;!G.showLeft&&L.scrollLeft>R?G=C(P({},H),{showLeft:!0}):G.showLeft&&L.scrollLeft<=R&&(G=C(P({},H),{showLeft:!1}));const q=L.scrollWidth-L.offsetWidth-4-R;return!G.showRight&&L.scrollLeft<q?G=C(P({},H),{showRight:!0}):G.showRight&&L.scrollLeft>=q&&(G=C(P({},H),{showRight:!1})),G})};return L.addEventListener("scroll",k),setTimeout(()=>{k()},1e3),()=>{L.removeEventListener("scroll",k)}}},[]),{state:U,handleArrowClick:L=>()=>{const{current:k}=T;k&&k.scrollBy({left:L*(k.offsetWidth-F),behavior:"smooth"})}}};function y({direction:T,isVisible:R=!0,onClick:F}){return(0,t.h)("div",{className:c()("reader2-carousel-fade",R&&"visible",T,E.Z.peopleYouMayKnowArrows)},(0,t.h)("div",{className:"bg"}),(0,t.h)(_.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:F},T==="right"?(0,t.h)(p.Z,null):(0,t.h)(l.Z,null)))}function M(T){var R=T,{className:F,scrollRef:N}=R,U=x(R,["className","scrollRef"]);return(0,t.h)(v.hs,C(P({},U),{className:c()(g.scrollBox,F),ref:N,overflowX:"auto",scrollBar:"hidden",minWidth:0,onTouchStart:V=>{const{pageX:W}=V;W!==void 0&&(W>10&&W<window.innerWidth-10||V.preventDefault())}}))}},57588:(K,f,e)=>{"use strict";e.d(f,{useDispatch:()=>Gn});var t=e(6400),a=e(30396),i=e(28599),c=e.n(i),p=e(94184),l=e.n(p),v=e(10928),_=e.n(v),g=e(44908),E=e.n(g),S=e(45578),O=e.n(S),A=e(73955),u=e.n(A),o=e(71171),s=e.n(o),w=e(68642),P=e(63270),C=e(85928),x=e.n(C),D=e(21125),y=e(91733),M=e(15045),T=e(20501),R=e(2181),F=e(11903),N=e(67963),U=e(95582),V=e(3258),W=e(8479),L=e(11533),k=e(39419),H=e.n(k),G=e(84040),q=e(51126),z=e(76235),ee=e(62246),$=e(68713),J=e(80043),j=e(43887),Z=e(10186),ne=e(15569),ie=e(67120),oe=e(50292),re=e(33510),ae=e(68262),se=e(47585),fe=e(72307),le=e(43992),Ae=Object.defineProperty,De=Object.defineProperties,je=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,ht=(Wt,jn,bt)=>jn in Wt?Ae(Wt,jn,{enumerable:!0,configurable:!0,writable:!0,value:bt}):Wt[jn]=bt,gt=(Wt,jn)=>{for(var bt in jn||(jn={}))Be.call(jn,bt)&&ht(Wt,bt,jn[bt]);if(Je)for(var bt of Je(jn))st.call(jn,bt)&&ht(Wt,bt,jn[bt]);return Wt},Xe=(Wt,jn)=>De(Wt,je(jn)),Re=(Wt,jn)=>{var bt={};for(var Ut in Wt)Be.call(Wt,Ut)&&jn.indexOf(Ut)<0&&(bt[Ut]=Wt[Ut]);if(Wt!=null&&Je)for(var Ut of Je(Wt))jn.indexOf(Ut)<0&&st.call(Wt,Ut)&&(bt[Ut]=Wt[Ut]);return bt},Ne=(Wt,jn,bt)=>new Promise((Ut,qt)=>{var Sn=jt=>{try{Pt(bt.next(jt))}catch(vn){qt(vn)}},at=jt=>{try{Pt(bt.throw(jt))}catch(vn){qt(vn)}},Pt=jt=>jt.done?Ut(jt.value):Promise.resolve(jt.value).then(Sn,at);Pt((bt=bt.apply(Wt,jn)).next())});const ke=30,ot=2,Dt=5,ln=5,ct=6,Oe=1;function Se({}){var Wt,jn,bt;useNavContextAndTitle("Chat",{shouldShowGetAppPill:!1});const{user:Ut,userSettings:qt,changeSetting:Sn}=useUserContext(),at=qt.newest_seen_chat_item_published_at;useStickyTab("chat");const[Pt,jt]=useRouter(),[vn,Pn,Rn,$n]=(Wt=Pt.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?Wt:[],ar=Number(Pn),lr=new URL(Pt.url,"https://monograph.dev"),sr=(jn=lr.searchParams)==null?void 0:jn.get("targetReplyId"),fr=!!((bt=lr.searchParams)!=null&&bt.get("showTarget")),gr=useSubscriptionsContext(),Sr=it=>{var Ye;const{publicationUserMap:lt}=(Ye=gr.result)!=null?Ye:{publicationUserMap:new Map},Ot=lt.get(it);return!!(Ot&&["contributor","admin"].includes(Ot.role))},[Gr,Oo]=useThunkReducer(qe,{user:Ut,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});useEffect(()=>{let it;const Ye=()=>{if(!document.hidden){const lt=So({changeSetting:Sn,storedNewestSeenChatItemPublishedAt:at});Oo(cr({maybeUpdateNewestSeenChatSetting:lt}))}it=setTimeout(Ye,ke*1e3+An(ot))};return Ye(),()=>{it&&clearTimeout(it)}},[Oo,at,Sn]);const zr=Gr.inbox.isLoading,yt=useMemo(()=>{const it=[];for(const Ye of Gr.inbox.threads){if(!Ye.communityPostId&&Sr(Ye.publication.id)){it.push(Xe(gt({},Ye),{communityPost:null,user:Ut}));continue}const lt=Ye.communityPostId&&Gr.communityPosts.get(Ye.communityPostId);lt&&!lt.isNew&&it.push(gt(gt({},Ye),lt))}return it},[Gr.inbox.threads,Gr.communityPosts,Ut]),ft=it=>{var Ye,lt,Ot;return[it.publication.name,...it.publication.contributors.map(tn=>tn.name),(Ye=it.user)==null?void 0:Ye.name,(Ot=(lt=it.communityPost)==null?void 0:lt.body)==null?void 0:Ot.substring(0,80)].filter(Boolean)},{setQuery:vt,filteredItems:kt}=useSearch({items:yt,getKeys:ft}),[Qt,Cn]=useState(new Map),En=new Map((yt||[]).map(it=>Qt.has(it.publication.id)?[it.publication.id,Qt.get(it.publication.id)]:it.lastViewedAt?[it.publication.id,dayjs(it.lastViewedAt)]:null).filter(Boolean));useEffect(()=>{typeof ar!="number"||isNaN(ar)||(fetch(`/api/v1/community/publications/${ar}/seen`,{method:"POST"}).then(()=>{}),Cn(Qt.set(ar,dayjs())))},[ar]),useEffect(()=>{zr||track(EVENTS.THREADS_INBOX_SCREEN_VIEWED,{unread_count:yt.filter(it=>Te(it,En)).length,thread_count:yt.length})},[zr]);const Kn=(it,Ye,lt,Ot)=>{jt(pathWithQuery(`/chat${it!=null?`/${it}`:""}${Ye!=null?`/post/${Ye}`:""}${lt!=null?`/reply/${lt}`:""}`,{targetReplyId:Ot}))},or=it=>{Kn(it)},Yn=it=>{Kn(ar,it)},Er=(it,Ye=null)=>{Kn(ar,Rn,it,Ye)},eo=useMemo(()=>({dispatch:Oo}),[]),Zr=useRef(null);Zr.current!==ar&&(Zr.current=null);const co=!!Zr.current;return useEffect(()=>{if(!zr&&yt.length&&!ar){const it=yt[0].publication.id;Zr.current=it,Kn(it)}},[zr]),h(Dn.Provider,{value:eo},h(FlexRow,{className:css.columnsContainer,flex:"grow"},setMetaData({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:imginary("/img/reader/chat-page-thumb.jpg")}),h(FlexColumn,{overflowY:"auto",borderRight:"detail",width:350},h(FlexColumn,{flex:"auto",padding:20,borderBottom:"detail"},zr?h(Placeholder,{height:42,width:"100%",type:"circle"}):h(SearchBox,{setQuery:vt,placeholder:"Search chats..."})),zr?h(Fe,null):kt.length>0?h(PageStack2,{gap:0},kt.map(it=>(it.communityPost&&it.user||Sr(it.publication.id))&&h(et,{key:it.publication.id,item:it,onSelect:or,isSelected:ar===it.publication.id,isUnread:Te(it,En)}))):yt.length>0?h(FlexColumn,{paddingTop:8},h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"fill",padding:32},h(TextZero,{title:"No chats found",body:"Please try again with a different search term."}))):h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),$n!=null?h(Ee,{key:"replies",postId:Rn,pubId:ar,parentCommentId:$n,state:Gr,onBack:()=>Er(null,$n),navigateToChat:()=>Yn(null),targetReplyId:sr,showTarget:fr,isAutoSelected:co}):Rn!=null?h(Ee,{key:"comments",postId:Rn,pubId:ar,state:Gr,onBack:()=>Yn(null),onSelect:Er,navigateToChat:()=>Yn(null),targetReplyId:sr,showTarget:fr,isAutoSelected:co}):ar?h(te,{key:ar,pubId:ar,state:Gr,onSelect:Yn,isAutoSelected:co}):zr?h(Ze,null):h(ChatZero,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function Ze(){return h(FlexColumn,null,h(FlexBox,{paddingX:24},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"bar",width:300,height:20}),h(Placeholder,{type:"circle",size:40}))),h(Ie,{direction:"column-reverse"},h(be,{numberToLoad:2})),h(FlexBox,{justifyContent:"center",alignItems:"center",borderTop:"detail",className:css.footer},h(Placeholder,{type:"bar",height:48,width:360,className:css.roundedFooterPlaceholder})))}function Fe(){return h(PageStack2,null,Array(8).fill(0).map(()=>h(Ke,null)))}function Ke(){return h(FlexBox,{gap:16,padding:20},h(Placeholder,{type:"circle",size:56}),h(FlexColumn,{gap:8,flex:"grow"},h(Placeholder,{type:"bar",maxWidth:100}),h(Placeholder,{type:"bar",maxWidth:300}),h(Placeholder,{type:"bar",maxWidth:200})))}function et({item:Wt,onSelect:jn,isSelected:bt,isUnread:Ut}){return h(FlexRow,{onClick:()=>jn(Wt.publication.id),className:classnames(css.chatPublication,{[css.selected]:bt}),alignItems:"start",gap:16,padding:20},Wt.user&&h(AvatarWithPub,{user:Wt.user,size:56,pub:Wt.publication}),h(FlexColumn,{gap:4,flex:"grow",minWidth:0},h(FlexBox,{justifyContent:"space-between",alignItems:"center",gap:8},h(Text.Meta,{className:css.sidebarPubName,ellipsis:!0},Wt.publication.name),Wt.communityPost&&h(Text.Meta,{ellipsis:!0},dayjs(Wt.communityPost.created_at).fromNowShort()),Ut&&h(UnreadDot,null)),h(Text,{clamp:2,size:14,isParagraph:!0,className:css.sidebarChatText},Wt.user&&h(Text.B4,{as:"span",color:"primary",weight:"semibold"},Wt.user.name,":"," "),Wt.communityPost&&h(Text.B4,{as:"span",color:"secondary"},h(Qe,{post:Wt.communityPost})))))}function Qe({post:Wt}){var jn;const{isPaid:bt,isFounding:Ut,isAuthor:qt}=useSubscriptionStatus(Wt.publication_id);return Wt.reported_by_user?h("em",null,"You flagged this thread."):!(Ut||qt)&&Wt.audience==="only_founding"?h("em",null,"started a thread for founding subscribers."):!(bt||Ut||qt)&&Wt.audience==="only_paid"?h("em",null,"started a thread for paid subscribers."):Wt.link_url?h($e,{linkMetadata:Wt.link_metadata}):Wt.media_assets&&((jn=Wt.media_assets)==null?void 0:jn.length)>0?h(Fragment,null,h("em",null,`shared ${Wt.media_assets.length} ${Wt.media_assets.length>1?"photos":"photo"}.`),Wt.body&&` ${Wt.body}`):h(Fragment,null,Wt.body)}function $e({linkMetadata:Wt}){return h(Fragment,null,h("em",null,"shared a link."),Wt&&` "${Wt.title}"`)}function Te(Wt,jn){if(!Wt.communityPost)return!1;const bt=jn.get(Wt.publication.id);return bt?dayjs(Wt.communityPost.created_at).isAfter(bt):!0}function te({pubId:Wt,onSelect:jn,state:bt,isAutoSelected:Ut}){var qt,Sn,at,Pt,jt,vn;const{changeSetting:Pn,userSettings:Rn}=useUserContext(),$n=Rn.newest_seen_chat_item_published_at,ar=Gn(),lr=(qt=bt.chats.get(Wt))!=null?qt:Et,sr=bt.inbox.isLoading&&bt.inbox.threads.length===0,fr=(Sn=lr.publication)==null?void 0:Sn.threads_v2_settings,gr=!!((at=lr.publication)!=null&&at.threads_v2_enabled),Sr=useRef(null),Gr=useRef(0),{getConfigFor:Oo}=useSiteConfigs(),zr=!!Oo("chat_founding_tier");useEffect(()=>{lr.publication&&track(EVENTS.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:lr.publication.id,isAutoSelected:Ut})},[Wt,!!lr.publication]),useLayoutEffect(()=>{var Ln;const nt=Sr.current;nt&&(nt.scrollTop=(Ln=lr.scrollPosition)!=null?Ln:0);const Ge=()=>{ar({type:"posts-save_scroll_position",payload:{publication_id:Wt,scrollPosition:Gr.current}})},St=()=>{var nn;Gr.current=(nn=nt==null?void 0:nt.scrollTop)!=null?nn:0};return nt==null||nt.addEventListener("scroll",St,{passive:!0}),()=>{nt==null||nt.removeEventListener("scroll",St),Ge()}},[Wt,!!Sr.current]),useEffect(()=>{let Ln;const nt=()=>{if(!document.hidden){const Ge=So({changeSetting:Pn,storedNewestSeenChatItemPublishedAt:$n});ar(pr(Wt,!0,{maybeUpdateNewestSeenChatSetting:Ge}))}Ln=setTimeout(nt,Dt*1e3)};return ar({type:"posts-request_initial",payload:{publication_id:Wt}}).then(nt),()=>{Ln&&clearTimeout(Ln)}},[Wt,ar,$n,Pn]);const yt=useFetch({pathname:`/api/v1/community/publications/${Wt}/posts`,method:"POST",deps:[Wt]}),ft=()=>{setTimeout(()=>{var Ln;(Ln=Sr.current)==null||Ln.scrollTo({top:0})},0)},{isPaid:vt,isAuthor:kt,isFreeSubscribed:Qt,isFounding:Cn}=useSubscriptionStatus(Wt),En=(fr==null?void 0:fr.create_thread_minimum_role)===CreateThreadRole.FOUNDING,Kn=(fr==null?void 0:fr.create_thread_minimum_role)===CreateThreadRole.PAID,or=(fr==null?void 0:fr.create_thread_minimum_role)===CreateThreadRole.FREE,Yn=kt||En&&Cn||Kn&&(vt||Cn)||or&&(Qt||vt||Cn),Er=Ln=>Ne(this,[Ln],function*({value:nt,mediaAssets:Ge,sendAsEmail:St,audience:nn,linkUrl:Nn}){const hr=uniqueId();ar({type:"posts-new",payload:{publication_id:Wt,body:nt,media_assets:Ge,link_url:Nn,type:Ge?"media":Nn?"link":"text",audience:nn!=null?nn:"all_subscribers",id:hr}}),ft();const jr=yield yt.refetch({json:{body:nt,media_urls:Ge==null?void 0:Ge.map(Xr=>Xr.url),audience:nn!=null?nn:"all_subscribers",type:Ge?"media":"text",send_email:!!St,link_url:Nn}});jr instanceof Error?alert("We failed to post your thread. Please try again later."):(ar({type:"posts-commit",payload:{publication_id:Wt,id:hr,chatItem:jr}}),Pn("newest_seen_chat_item_published_at",jr.communityPost.created_at))}),eo=()=>{ar(wr(Wt))},Zr=!1,co=Ln=>{if(Zr||!lr.hasMore||lr.isLoadingMore)return;const{currentTarget:nt}=Ln;nt.scrollTop<nt.offsetHeight-nt.scrollHeight+100&&eo()},Ye=(lr.posts.length===0||lr.posts.every(Ln=>{const nt=bt.communityPosts.get(Ln);return!nt||wt(nt)&&nt.communityPost.status!=="published"}))&&!lr.isLoadingMore&&!lr.hasMore,lt=kt&&Ye,Ot=lr.posts.map(Ln=>bt.communityPosts.get(Ln)).filter(Ln=>Ln!==void 0&&Ln.communityPost.status==="published");let tn;const an=[];let bn=[];for(const Ln of Ot){const nt=dayjs(Ln.communityPost.created_at);tn&&!nt.isSame(tn,"day")&&(an.push({day:tn,group:bn}),bn=[]),bn.push(Ln),tn=nt}tn&&bn.length>0&&an.push({group:bn,day:tn});const yn=lr.error;return yn?h(gn,{pubErr:yn}):!gr&&!sr?kt?h(At,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},lr.publication&&h(Wn,{onClick:()=>{lr.publication&&(window.location.href=`${getPublishSettingsUrl(lr.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):h(At,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):sr?h(Ze,null):h(Ve,null,lr.publication&&h(me,{pub:lr.publication}),lt?h(At,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):Ye?h(At,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):h(Ie,{direction:"column-reverse",onScroll:co,forwardRef:Sr},an.map(({day:Ln,group:nt})=>h(Gt,{key:Ln.toISOString(),day:Ln,items:nt,onSelect:jn,isPaid:vt||Cn||kt,isFounding:Cn||kt})),lr.isLoadingMore?h(be,{numberToLoad:2}):lr.hasMore&&h(ut,{onClick:eo})),Yn?h(It,{publicationId:Wt,placeholder:"Start a new thread",maxImagesToUpload:ct,disabled:yt.isLoading,onSubmit:Er,publishOptionsEnabled:kt,visibilityOptions:{hasPaid:!!((Pt=lr.publication)!=null&&Pt.plans),hasFounding:zr&&!!((vn=(jt=lr.publication)==null?void 0:jt.plans)!=null&&vn.find(Ln=>{var nt;return(nt=Ln.metadata)==null?void 0:nt.founding}))}}):h(FlexBox,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:classnames(css.footer,css.disabled)},h(FlexRow,{gap:8,alignItems:"center"},h(MessageSquare,{size:16,className:css.messageSquareIcon}),h(Text.B4,{color:"secondary"},"Click any thread to reply"))))}function ue({item:Wt,onSelect:jn,isPaid:bt,isFounding:Ut}){const{communityPost:qt}=Wt,Sn=!bt&&qt.audience==="only_paid"||!Ut&&qt.audience==="only_founding",at=()=>jn(qt.id),Pt=jt=>{jt.defaultPrevented||at()};return h(FlexColumn,{onClick:Pt,className:classnames(!Sn&&css.communityViewContainer)},Sn?h(Mn,{user:Wt.user,commenters:qt.recent_commenters,count:qt.comment_count,audience:qt.audience}):h(CommunityPostView,{communityPost:qt,author:Wt.user,onReply:at}))}function we({pub:Wt,children:jn,className:bt}){return h(FlexBox,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:getPubUrl(Wt,{signedIn:!0}),className:bt},jn)}function me({pub:Wt}){return h(FlexBox,{paddingX:24,key:Wt.id},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(we,{pub:Wt,className:css.headerPubLink},h(PubIcon,{className:css.headerPubIcon,pub:Wt,size:40})),h(we,{pub:Wt,className:css.headerPubLink},h(Text.H4,null,Wt.name)),h(FlexBox,{justifyContent:"center",alignItems:"center"},h(ChatAvatar,{user:{id:Wt.author_id,name:Wt.author_name,photo_url:Wt.author_photo_url},size:40}))))}function Ee({postId:Wt,pubId:jn,parentCommentId:bt,onBack:Ut,isAutoSelected:qt,onSelect:Sn,state:at,navigateToChat:Pt,targetReplyId:jt,showTarget:vn}){var Pn,Rn,$n,ar,lr,sr,fr,gr,Sr,Gr,Oo;const zr=bt?(Pn=at.replies.get(bt))!=null?Pn:On:(Rn=at.comments.get(Wt))!=null?Rn:On,yt=at.communityPosts.get(Wt),ft=bt&&at.communityComments.get(bt),vt=at.inbox.isLoading&&at.inbox.threads.length===0,kt=at.chats.get(jn),Qt=at.inbox,Cn=(lr=(ar=($n=kt==null?void 0:kt.publication)==null?void 0:$n.threads_v2_settings)==null?void 0:ar.photo_replies_enabled)!=null?lr:!1,[En,Kn]=useState(null),or=`${bt?`replies-${bt}`:`comments-${Wt}`}-${zr.comments.length}${En?`-${En.comment.id}`:""}`,{isAuthor:Yn,isFounding:Er,isPaid:eo,isFreeSubscribed:Zr}=useSubscriptionStatus(jn),co={quoteReply:En,cancelQuoteReply:()=>Kn(null)},it=Br=>{var Dr;const bo=(Dr=at.communityComments.get(Br.id))==null?void 0:Dr.user;bo?Kn({comment:Br,user:bo}):alert("Could not create a quote reply for this comment. Please try again.")};useEffect(()=>{bt?ft&&Lt(ft)&&track(EVENTS.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:jn,community_post_id:Wt,community_comment_id:bt,isAutoSelected:qt}):yt&&wt(yt)&&track(EVENTS.THREAD_PERMALINK_VIEWED,{publication_id:jn,community_post_id:Wt,type:yt.communityPost.type,audience:yt.communityPost.audience,isAutoSelected:qt})},[bt,Wt,jn,!!yt,!!ft]);const Ye=useUser(),lt=useRef(),Ot=useRef(),tn=Gn(),[an,bn]=useState(null),[yn,Ln]=bt?["replies",{parentCommentId:bt}]:["comments",{postId:Wt}],nt=!zr.before.isLoading&&!zr.after.isLoading&&zr.comments.length===0,Ge=bt!=null?`/api/v1/community/comments/${bt}/comments`:`/api/v1/community/posts/${Wt}/comments`,St=bt!=null?bt:Wt,nn=(Br,Dr)=>Ne(this,null,function*(){tn({type:`${yn}-request_initial`,payload:Xe(gt({},Ln),{order:Br})});const bo=Br==="desc"?"before":"after";try{const Po=yield fetchJson(Ge,{query:{order:Br,targetReplyId:Dr!=null?Dr:void 0}});tn({type:`${yn}-load_edge`,payload:Xe(gt({},Ln),{edge:bo,result:Po})})}catch(Po){return console.warn(Po),tn({type:`${yn}-error`,payload:Xe(gt({},Ln),{edge:bo,error:Po})}),Br==="desc"&&Nn(),Po}return Dr?(setTimeout(()=>{const uo=document.getElementById(`comment-${Dr}`);uo&&(vn?uo.scrollIntoView({behavior:"smooth",block:"center"}):uo.scrollIntoView({behavior:"auto",block:"center"}))},vn?250:50),null):(Br==="desc"&&Nn(),null)}),Nn=()=>{setTimeout(()=>{var Br;(Br=lt.current)==null||Br.scrollTo({top:1e7})},0)},hr={before:!1,after:!1},jr=(Br,Dr)=>{if(!(hr[Br]||zr[Br].isLoading))return hr[Br]=!0,Xr(Br,Dr)},Xr=(Br,Dr)=>Ne(this,null,function*(){var bo,Po,uo,lo;tn({type:`${yn}-request_edge`,payload:Xe(gt({},Ln),{edge:Br})});const go=last(zr.comments),_o=zr.comments[0],oo=Br==="before"?{order:"desc",before:go&&((bo=at.communityComments.get(go))==null?void 0:bo.comment.created_at)}:{order:"asc",after:_o&&((Po=at.communityComments.get(_o))==null?void 0:Po.comment.created_at)};try{const wo=yield fetchJson(Ge,Xe(gt({},Dr),{query:oo})),{current:To}=lt,de=(lo=(uo=Ot.current)==null?void 0:uo.offsetHeight)!=null?lo:0;tn({type:`${yn}-load_edge`,payload:Xe(gt({},Ln),{edge:Br,result:wo})}),setTimeout(()=>{var pe,ve;if(zr.order==="desc"&&To){const{scrollTop:Me}=To;To.scrollTo({top:Me+(((ve=(pe=Ot.current)==null?void 0:pe.offsetHeight)!=null?ve:0)-de)})}},0)}catch(wo){console.warn(wo),tn({type:`${yn}-error`,payload:Xe(gt({},Ln),{edge:Br,error:wo})})}}),no=Br=>{zr[Br].hasMore&&jr(Br)},Mo=Br=>{const{currentTarget:Dr}=Br,{scrollTop:bo,offsetHeight:Po,scrollHeight:uo}=Dr;uo>Po&&(bo<100?no("before"):bo>Po-uo-100&&no("after"))};useEffect(()=>{nn("asc",jt).then(Br=>{Br&&bn(Br)})},[St,jt]);const ko=useRef(Xr);ko.current=Xr,useEffect(()=>{if(!nt&&zr.order==="desc"){let Br=new AbortController;const Dr=()=>{setTimeout(()=>Ne(this,null,function*(){Br.signal.aborted||(Br=new AbortController,yield ko.current("after",{signal:Br.signal}),Dr())}),ln*1e3)};return Dr(),()=>{Br.abort()}}},[St,nt,zr.order]);const Bo=useFetch({pathname:`/api/v1/community/posts/${Wt}/comments`,method:"POST",deps:[St]}),Wo=(Br,Dr,bo)=>Ne(this,null,function*(){const Po="We failed to upload your media. Please try again later.",uo=Br[0],{contentType:lo}=uo,go=yield Fn(Dr,bo,lo);if(go instanceof Error){alert(Po);return}const{url:_o}=go;(yield Un(uo,_o))instanceof Error&&alert(Po)}),Jo=Br=>Ne(this,[Br],function*({value:Dr,mediaAssets:bo,mentions:Po}){const uo=Dr!=null?Dr:"",lo=uuid();zr.order==="asc"&&nn("desc");let go=null;bo&&(go=bo.map(To=>({id:uuid(),url:To.url,content_type:To.contentType,type:"image",file:To.file})));const _o={is_founding:!!Er,membership_state:eo?"subscribed":"free_signup",role:Yn?"admin":null};tn({type:`${yn}-new`,payload:Xe(gt({},Ln),{id:lo,body:uo,postId:Wt,mediaUploads:go,quoteReply:En,mentions:Po,pubRoles:_o})});const oo=En==null?void 0:En.comment.id;En&&Kn(null),Nn(),bo&&(yield Wo(bo,lo,jn));const wo=yield Bo.refetch({json:{id:lo,body:uo,parent_id:bt,quote_id:oo,mentions:Po}});if(!(wo instanceof Error))tn({type:`${yn}-commit`,payload:Xe(gt({},Ln),{id:lo,reply:wo})});else if(wo instanceof FetchError){const To=wo.body.status==="PUBLICATION_BAN";alert(To?`You are not allowed to post to this chat. ${wo.body.error}`:"We failed to post your comment. Please try again later.")}}),Ho=an&&((sr=an.body)==null?void 0:sr.status)==="PUBLICATION_NOT_FOUND";if(useEffect(()=>{!kt&&!Qt.isLoading&&!Ho&&Pt()},[Qt.isLoading]),Ho)return h(At,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!kt&&!vt)return h(At,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},h(Wn,{onClick:Pt},"Back to chat"));if(kt&&kt.error)return h(gn,{pubErr:kt.error});if(an&&((fr=an.body)==null?void 0:fr.status)==="POST_NOT_FOUND")return h(At,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},h(Wn,{onClick:Pt},"Back to chat"));if(jt&&an&&((gr=an.body)==null?void 0:gr.status)==="COMMENT_NOT_FOUND")return h(At,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},h(Wn,{onClick:Ut},"Go back"));if(an&&((Sr=an.body)==null?void 0:Sr.status)==="COMMENT_NOT_FOUND")return h(At,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},h(Wn,{onClick:Ut},"Go back"));if(yt&&yt.isNew||ft&&ft.isNew)return h(At,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},h(Wn,{onClick:Ut},"Go back"));if(yt&&yt.communityPost.publication_id!==jn)return h(At,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},h(Wn,{onClick:Pt},"Back to chat"));if(ft&&ft.comment.post_id!==Wt)return h(At,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},h(Wn,{onClick:Pt},"Back to chat"));const mn=an&&((Gr=an.body)==null?void 0:Gr.status)==="PAID_SUBSCRIPTION_REQUIRED",tr=an&&((Oo=an.body)==null?void 0:Oo.status)==="FOUNDING_MEMBERSHIP_REQUIRED",dr=mn||tr,Pr=yt&&wt(yt)&&!yt.communityPost.is_locked,Or=Yn||!dr&&Pr&&(bt?ft&&Lt(ft)&&!ft.comment.is_locked:!0),Ur=Br=>Dr=>{if(!Br)return;Dr.preventDefault();const bo=Br.comment.id;zr.comments.find(uo=>uo===bo)&&setTimeout(()=>{const uo=document.getElementById(`comment-${bo}`);uo&&uo.scrollIntoView({behavior:"smooth",block:"start"})},100)},Hr=Bo.isLoading||vt;return h(Pe,null,(kt==null?void 0:kt.publication)&&h(me,{pub:kt.publication}),h(xe,{onClick:Ut}),h(FlexColumn,{style:{position:"relative"},flex:"grow"},h(Ie,{onScroll:Mo,forwardRef:lt,fullWidth:!0},vt?h(be,{showReplyBubble:!1}):dr?h(Mn,{user:ft?ft.user:yt?yt.user:null,showReply:!1,analyticsParams:{publication_id:jn,community_post_id:Wt},audience:mn?"only_paid":tr?"only_founding":void 0}):ft||yt?h(FlexColumn,{className:css.communityViewContainer},ft&&!ft.isNew?h(CommunityCommentView,{key:ft.comment.id,communityComment:ft.comment,isBanned:ft.is_banned,pubRole:ft.pub_roles,chatPublicationId:jn,author:ft.user,quoteReply:ft.quote,onDelete:Ut,hideReply:!0}):yt&&!yt.isNew&&h(CommunityPostView,{key:yt.communityPost.id,communityPost:yt.communityPost,author:yt.user,onDelete:Ut,hideReply:!0})):h(be,{showReplyBubble:!1}),h(he,null),vt?h(be,{numberToLoad:2}):mn?h(ChatZero,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(kt==null?void 0:kt.publication)&&h(ur,{pub:kt.publication,utm_source:"web-chat-paywall"})):tr?h(ChatZero,{title:"Only founding members can read comments",body:"Upgrade to a founding membership to access the chat"},(kt==null?void 0:kt.publication)&&h(ur,{pub:kt.publication,utm_source:"web-chat-paywall"})):nt?h(ChatZero,{title:"No replies yet",body:"Be the first to add a reply below"}):h(Fragment,null,zr.before.error&&h(fn,null),zr.before.isLoading?h(be,null):zr.before.hasMore&&h(ut,{onClick:()=>jr("before")}),h(FlexColumn,{ref:Ot,gap:24},zr.comments.slice().reverse().map(Br=>{const Dr=at.communityComments.get(Br);if(Dr&&Dr.comment.status==="published"){const bo=!Dr.isNew&&Sn?()=>Sn(Dr.comment.id):void 0,Po=uo=>{uo.defaultPrevented||bo==null||bo()};return h(FlexColumn,{alignItems:"start",onClick:Po,className:css.communityViewContainer},h(CommunityCommentView,{key:Dr.comment.id,communityComment:Dr.comment,isBanned:Dr.is_banned,chatPublicationId:jn,quoteReply:Dr.quote,pubRole:Dr.pub_roles,onQuoteReplyClick:Ur(Dr.quote),onNewQuote:it,author:Dr.isNew?Ye:Dr.user,onReply:bo,isTargeted:vn&&jt===Dr.comment.id}))}})),zr.after.error&&h(fn,null),zr.after.isLoading&&zr.order==="asc"?h(be,null):zr.after.hasMore&&h(ut,{onClick:()=>jr("after")}))),zr.order==="asc"&&zr.after.hasMore&&h(Button,{className:css.latestButton,onClick:()=>nn("desc"),rounded:!0},"Latest")),Or&&(Hr?h(Ce,null):h(zt,{stateChangeKey:or,placeholder:"Add a reply...",maxImagesToUpload:Oe,photosEnabled:Cn,onSubmit:Jo,quoteHandler:co,mentionsContext:{publication_id:jn,community_post_id:Wt,community_comment_id:bt}})))}function he(){return h(FlexBox,{borderTop:"detail",alignSelf:"stretch"})}function xe({onClick:Wt}){return h(FlexBox,{paddingX:24,paddingTop:16},h(IconButton,{size:40,onClick:Wt,fill:"outline",priority:"secondary"},h(ArrowLeft,{size:20})))}function Ve(Wt){return h(FlexColumn,gt({},Wt))}function Pe(Wt){return h(FlexColumn,gt({},Wt))}function Ie({children:Wt,direction:jn="column",onScroll:bt,forwardRef:Ut,fullWidth:qt}){return h(FlexBox,{className:css.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:jn,onScroll:bt,ref:Ut,alignItems:qt?"stretch":"start"},h(FlexBox,{className:css.pubChatFull,gap:24,direction:jn},Wt))}function ze(){const[Wt,jn]=useState([]);return{files:Wt,clearFiles:()=>{jn([])},addFiles:Sn=>{jn(at=>[...at,...Sn])},removeFile:Sn=>{jn(at=>at.filter(Pt=>Pt!==Sn))}}}function tt(Wt){return Promise.all(Wt.map(jn=>Ne(this,null,function*(){return{file:jn,imageData:yield getImageDataFromFileInput({files:[jn]})}}))).then(jn=>jn.map(bt=>{var Ut;return{contentType:bt==null?void 0:bt.file.type,url:(Ut=bt==null?void 0:bt.imageData)==null?void 0:Ut.url,bytes:bt==null?void 0:bt.file.size,file:bt==null?void 0:bt.file}}))}function Le(Wt,jn){const bt=useUser(),[Ut,qt]=useState(!1),Sn={value:Ut,flip:()=>qt(or=>!or)},[at,Pt]=useState("all_subscribers"),jt={value:at,set:Pt},[vn,Pn]=useState(""),[Rn,$n]=useState(),[ar,lr]=useState(null),sr=useRef(null),{files:fr,clearFiles:gr,addFiles:Sr,removeFile:Gr}=ze(),Oo=`You can only upload ${Wt} ${Wt>1?"images":"image"} at a time.`,zr=vn.trim()!==""||fr.length>0||ar!==null,[yt,ft]=useState(!1),vt={isSubmitting:yt,clearSubmission:()=>ft(!1)},kt=or=>Ne(this,null,function*(){or==null||or.preventDefault();const Yn=vn.trim(),Er=fr.slice(),eo=Rn?gt({},Rn):void 0,Zr=ar;if(zr){Pn(""),gr(),$n(void 0),ft(!0),lr(null);let co;if(Er.length>0)try{co=yield tt(Er)}catch(it){console.error("error getting media urls",it)}jn({value:Yn,sendAsEmail:Ut,audience:at,mediaAssets:co,mentions:eo,linkUrl:Zr})}}),Qt=(or,Yn=!0)=>{zr&&Yn&&or.key==="Enter"&&!or.shiftKey&&!or.altKey&&kt(or)},Cn=useRef(null),En=()=>{var or;fr.length>=Wt?alert(Oo):(or=Cn.current)==null||or.click()},Kn=or=>{or.stopPropagation(),or.preventDefault();const Yn=[...or.target.files];Yn.length+fr.length>Wt?alert(`${Oo} Please try again.`):Sr(Yn),Cn!=null&&Cn.current&&(Cn.current.value="")};return useEffect(()=>(sr.current&&clearTimeout(sr.current),sr.current=setTimeout(()=>{const or=parseValidLinks(vn);lr(Yn=>or.length>0?or[0].href:Yn)},500),()=>{sr.current&&clearTimeout(sr.current)}),[vn,lr]),{user:bt,canSubmit:zr,files:fr,linkUrl:ar,setLinkUrl:lr,handleSubmit:kt,inputFile:Cn,removeFile:Gr,onChangeFile:Kn,onImageButtonClick:En,textValue:vn,setTextValue:Pn,setMentionMap:$n,handleKeyDown:Qt,sendAsEmailHandler:Sn,postAudienceHandler:jt,submissionTracker:vt}}function It({publicationId:Wt,placeholder:jn,maxImagesToUpload:bt,publishOptionsEnabled:Ut,visibilityOptions:qt,disabled:Sn,onSubmit:at}){const[Pt,jt]=useState(!1),vn=()=>jt(!1);return useEffect(()=>{Pt&&track(EVENTS.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:Wt})},[Pt]),h(Fragment,null,h(FlexBox,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:css.footer},h(Button,{className:css.newThreadButton,priority:"primary",fill:"filled",onClick:()=>jt(!0),disabled:Pt||Sn,rounded:!0},jn)),h(Modal,{isOpen:Pt,onClose:vn,fullscreenMobile:!0},h(on,{maxImagesToUpload:bt,publishOptionsEnabled:Ut,visibilityOptions:qt,onSubmit:at,handleCloseModal:vn})))}function on({maxImagesToUpload:Wt,publishOptionsEnabled:jn,visibilityOptions:bt,onSubmit:Ut,handleCloseModal:qt}){const{user:Sn,files:at,handleSubmit:Pt,inputFile:jt,removeFile:vn,onChangeFile:Pn,onImageButtonClick:Rn,textValue:$n,setTextValue:ar,handleKeyDown:lr,sendAsEmailHandler:sr,postAudienceHandler:fr,canSubmit:gr,linkUrl:Sr,setLinkUrl:Gr}=Le(Wt,Ut),Oo=useCallback((zr,yt)=>{ar(zr)},[ar]);return h(FlexColumn,{className:css.modalColumn},h(FlexRow,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},h(FlexBox,{alignItems:"center",gap:8},h(Text.H3,null,"New Thread")),h(IconButton,{size:40,"aria-label":"Close",onClick:qt},h(X,{size:20,"aria-hidden":"true"}))),h(FlexColumn,{gap:16,padding:16,flex:"grow"},h(FlexBox,{gap:12,className:classnames(css.inputBox,css.modalContext),flex:"grow",paddingRight:8},h(Avatar,{size:48,user:Sn}),h(FlexBox,{flex:"grow"},h(LazyChatTextEditor,{defaultValue:$n,placeholder:"Write something...",onChange:Oo,onReturn:Pt,className:css.modalChatEditor}))),at.length>0&&h(Hn,{files:at,deleteFile:vn}),Sr&&h(xn,{linkUrl:Sr,deleteLink:()=>Gr(null)})),jn&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8},h(Mail,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Also send as email")),h(Switch,{checked:sr.value,onChange:sr.flip,color:"default"})),jn&&bt.hasPaid&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(Popover,{content:({closePopover:zr})=>h(Bt,{visibilityOptions:bt,currentVisibility:fr.value,onPick:yt=>{fr.set(yt),zr()}}),preferPlacement:"top-start"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8,className:css.currentVisibilityBox},fr.value==="all_subscribers"?h(Fragment,null,h(Unlock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Visible to ",h("b",null,"all subscribers"))):fr.value==="only_paid"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"paid subscribers"))):fr.value==="only_founding"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"founding members"))):null))),h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h("input",{type:"file",accept:"image/*",id:"file",ref:jt,style:{display:"none"},onChange:Pn,"aria-label":"Add image",multiple:!0}),h($t,{onClick:Rn,fontWeight:"medium",size:24,color:"primary-text"}),h(Button,{className:css.submitButton,priority:"primary",disabled:!gr,onClick:zr=>{Pt(zr),qt()}},"Post")))}function zt({stateChangeKey:Wt,onSubmit:jn,placeholder:bt,maxImagesToUpload:Ut,photosEnabled:qt,quoteHandler:Sn,mentionsContext:at}){const{user:Pt,files:jt,handleSubmit:vn,inputFile:Pn,removeFile:Rn,onChangeFile:$n,onImageButtonClick:ar,textValue:lr,setTextValue:sr,setMentionMap:fr,canSubmit:gr,submissionTracker:Sr}=Le(Ut,jn),Gr=useCallback((Oo,zr)=>{sr(Oo),fr(zr.size===0?void 0:Object.fromEntries(zr))},[sr,fr]);return h(FlexColumn,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:vn,borderTop:"detail",alignSelf:"stretch"},jt.length>0&&h(Hn,{files:jt,deleteFile:Rn,paddingLeft:56}),Sn.quoteReply&&h(ir,{quoteReply:Sn.quoteReply,cancelQuoteReply:Sn.cancelQuoteReply}),h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Avatar,{user:Pt,size:40}),h(FlexBox,null,h("input",{type:"file",accept:"image/*",id:"file",ref:Pn,style:{display:"none"},"aria-label":"Add image",onChange:$n,multiple:!0})),h(FlexBox,{className:css.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:24,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},h(LazyChatTextEditor,{defaultValue:lr,placeholder:bt,onChange:Gr,onReturn:vn,mentionsContext:at,submitOnEnter:!0,focusKey:Wt,submissionTracker:Sr})),qt&&!Sn.quoteReply&&h($t,{onClick:ar,fill:"outline"}),gr&&h(IconButton,{priority:"primary",fill:"filled",size:40,type:"submit"},h(ArrowUp,{size:20}))))}function $t({onClick:Wt,fontWeight:jn="normal",size:bt=20,containerSize:Ut=40,fill:qt="empty",color:Sn}){return h(IconButton,{size:Ut,onClick:Wt,color:Sn,fill:qt},h(Image,{size:bt,fontWeight:jn,className:css.addImage}))}function Bt({visibilityOptions:Wt,currentVisibility:jn,onPick:bt}){return h(FlexColumn,{gap:4},h(FlexRow,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},h(Text.B3,{className:css.visibilityDropdownText},"Choose who can see this:")),h(DropdownMenuItem,{onClick:()=>bt("all_subscribers"),icon:h(Unlock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"All subscribers",jn==="all_subscribers"&&h(Check,{size:20}))),Wt.hasPaid&&h(DropdownMenuItem,{onClick:()=>bt("only_paid"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",jn==="only_paid"&&h(Check,{size:20}))),Wt.hasFounding&&h(DropdownMenuItem,{onClick:()=>bt("only_founding"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Founding members",jn==="only_paid"&&h(Check,{size:20}))))}function xn({linkUrl:Wt,deleteLink:jn}){return h(FlexRow,{className:css.composerLinkPreview,alignSelf:"start"},h(LinkBubble,{linkUrl:Wt}),h(Vn,{onDelete:jn,className:css.deleteFile}))}function Hn(Wt){var jn=Wt,{files:bt,deleteFile:Ut}=jn,qt=Re(jn,["files","deleteFile"]);return h(FlexBox,Xe(gt({},qt),{gap:8,wrap:"wrap"}),bt.map(Sn=>h(_t,{key:Sn.name,file:Sn,deleteFile:Ut})))}function ir({quoteReply:Wt,cancelQuoteReply:jn}){var bt;return h(FlexBox,{paddingLeft:56,className:css.quoteReplyComposer},h(QuoteBox,{authorName:(bt=Wt.user.name)!=null?bt:"Substack user",communityEntity:Wt.comment}),h(Vn,{onDelete:jn,className:css.deleteQuote,iconSize:16,xSize:14}))}function Vn({onDelete:Wt,className:jn,iconSize:bt=32,xSize:Ut=20}){return h(IconButton,{className:jn,size:bt,priority:"media",onClick:Wt},h(X,{size:Ut}))}function _t({file:Wt,deleteFile:jn}){return h(FlexRow,{className:css.imageBox},h("img",{className:css.image,src:URL.createObjectURL(Wt),alt:Wt.name}),h(Vn,{onDelete:()=>jn(Wt),className:css.deleteFile}))}function ut({onClick:Wt}){return h(FlexBox,{justifyContent:"center",padding:8},h(Button,{fill:"empty",onClick:Wt},"Load more"))}function Ce(){return h(FlexColumn,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{className:css.loadingComposer,height:40,type:"bar"})))}function be({numberToLoad:Wt=1,showReplyBubble:jn=!0}){return h(FlexColumn,{gap:32},Array(Wt).fill(0).map(()=>h(We,{showReplyBubble:jn})))}function We({showReplyBubble:Wt=!0}){return h(FlexRow,{gap:12,flex:"grow",alignItems:"start"},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:4,flex:"grow"},h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),Wt&&h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:50})))}function qe(Wt,jn){return jn.type.startsWith("inbox-")?en(Wt,jn):jn.type.startsWith("posts-")?In(Wt,jn):jn.type.startsWith("replies-")||jn.type.startsWith("comments-")?pt(Wt,jn):Wt}const Et={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function en(Wt,jn){switch(jn.type){case"inbox-new_items":{const{threads:bt}=jn.payload;return Xe(gt({},Wt),{inbox:Xe(gt({},Wt.inbox),{isLoading:!1,threads:bt.map(Ut=>{var qt=Ut,{communityPost:Sn,user:at}=qt,Pt=Re(qt,["communityPost","user"]),jt;return Xe(gt({},Pt),{communityPostId:(jt=Sn==null?void 0:Sn.id)!=null?jt:null})})}),communityPosts:new Map([...Wt.communityPosts,...bt.map(Ut=>Ut&&Ut.communityPost&&Ut.user?[Ut.communityPost.id,{user:Ut.user,communityPost:Ut.communityPost,isNew:!1}]:null).filter(Ut=>Ut!==null)]),chats:new Map([...Wt.chats,...bt.map(Ut=>{var qt;if(Ut&&Ut.publication){const Sn=(qt=Wt.chats.get(Ut.publication.id))!=null?qt:Et;return[Ut.publication.id,Xe(gt({},Sn),{publication:Ut.publication})]}return null}).filter(Ut=>Ut!==null)])})}default:return Wt}}function In(Wt,jn){var bt,Ut,qt,Sn,at,Pt;const{publication_id:jt}=jn.payload,vn=(bt=Wt.chats.get(jt))!=null?bt:Et;switch(jn.type){case"posts-request_initial":return Xe(gt({},Wt),{chats:Kt(Wt.chats,jt,Xe(gt({},vn),{isLoadingMore:!0}))});case"posts-request_more":return Xe(gt({},Wt),{chats:Kt(Wt.chats,jt,Xe(gt({},vn),{isLoadingMore:!0}))});case"posts-load_more":{const{result:Pn,direction:Rn}=jn.payload,$n=Pn.threads.find(Sr=>Sr.communityPost.status!=="deleted"),lr=Ar({getPubChatItemFromId:Sr=>Sr===($n==null?void 0:$n.communityPost.id)?$n:Wt.communityPosts.get(Sr)}),sr=new Map([...Pn.threads.map(Sr=>[Sr.communityPost.id,Sr])]),gr=so({getPubChatItemFromId:Sr=>sr.has(Sr)?sr.get(Sr):Wt.communityPosts.get(Sr)});return Xe(gt({},Wt),{communityPosts:Eo(Wt.communityPosts,sr,Sr=>new Date(Sr.communityPost.updated_at)),chats:Kt(Wt.chats,jt,Xe(gt({},vn),{isLoadingMore:!1,hasMore:Pn.more,posts:uniq([...vn.posts,...Pn.threads.map(Sr=>Sr.communityPost.id)]).sort(gr)})),inbox:Rn==="after"?Wt.inbox:Xe(gt({},Wt.inbox),{threads:[...Wt.inbox.threads.map(Sr=>{var Gr;return Sr.publication.id===jt?Xe(gt({},Sr),{communityPostId:(Gr=$n==null?void 0:$n.communityPost.id)!=null?Gr:Sr.communityPostId,lastViewedAt:null}):Sr})].sort(lr)})})}case"posts-error":return Xe(gt({},Wt),{chats:Kt(Wt.chats,jt,Xe(gt({},vn),{isLoadingMore:!1,error:jn.payload}))});case"posts-new":{const Pn=new Date().toISOString(),Rn={communityPost:Xe(gt({},jn.payload),{status:"published",created_at:Pn,updated_at:Pn,is_locked:!1,user_id:(qt=(Ut=Wt.user)==null?void 0:Ut.id)!=null?qt:0}),isNew:!0};return Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Rn.communityPost.id,Rn),chats:Kt(Wt.chats,jt,Xe(gt({},vn),{posts:[Rn.communityPost.id,...vn.posts]}))})}case"posts-commit":{const{id:Pn,chatItem:Rn,publication_id:$n}=jn.payload,ar=new Map(Wt.communityPosts);ar.delete(Pn),ar.set(Rn.communityPost.id,Rn);const lr=Wt.inbox.threads.slice(),sr=lr.findIndex(fr=>fr.publication.id===$n);if(sr!==-1){let fr=lr[sr];fr=Xe(gt({},fr),{communityPostId:Rn.communityPost.id}),lr.splice(sr,1),lr.unshift(fr)}return Xe(gt({},Wt),{inbox:Xe(gt({},Wt.inbox),{threads:lr}),communityPosts:ar,chats:Kt(Wt.chats,$n,Xe(gt({},vn),{posts:vn.posts.map(fr=>fr===Pn?Rn.communityPost.id:fr)}))})}case"posts-new_reaction":{const{id:Pn,reaction:Rn}=jn.payload,$n=Wt.communityPosts.get(Pn);return!$n||!wt($n)||!((Sn=$n.communityPost)!=null&&Sn.reactions)?(console.warn("chat item does not exist"),Wt):$n.communityPost.reaction===Rn?(console.warn("already set this reaction",Rn),Wt):Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},$n),{communityPost:pn($n.communityPost,Rn,!0)}))})}case"posts-remove_reaction":{const{id:Pn,reaction:Rn}=jn.payload,$n=Wt.communityPosts.get(Pn);return!$n||!wt($n)||!((at=$n.communityPost)!=null&&at.reactions)?(console.warn("chat item does not exist"),Wt):Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},$n),{communityPost:pn($n.communityPost,Rn,!1)}))})}case"posts-delete_post":{const{id:Pn,publication_id:Rn}=jn.payload,$n=Wt.communityPosts.get(Pn);if(!$n)return console.warn("chat item does not exist"),Wt;const ar=new Map(Wt.communityComments),lr=Wt.comments.get(Pn);lr&&lr.comments.forEach(Sr=>{rr(Sr,ar);const Gr=Wt.replies.get(Sr);Gr&&Gr.comments.forEach(Oo=>{rr(Oo,ar)})});const sr=(Pt=Wt.chats.get(Rn))==null?void 0:Pt.posts.find(Sr=>{var Gr;if(Sr===Pn)return!1;const Oo=Wt.communityPosts.get(Sr);return((Gr=Oo==null?void 0:Oo.communityPost)==null?void 0:Gr.status)!=="deleted"}),gr=Ar({getPubChatItemFromId:Sr=>Wt.communityPosts.get(Sr)});return Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},$n),{communityPost:Xe(gt({},$n.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:ar,inbox:Xe(gt({},Wt.inbox),{threads:[...Wt.inbox.threads.map(Sr=>Sr.publication.id===Rn?Xe(gt({},Sr),{communityPostId:sr!=null?sr:null}):Sr)].sort(gr)})})}case"posts-flag_post":{const{id:Pn}=jn.payload,Rn=Wt.communityPosts.get(Pn);return!Rn||!wt(Rn)?(console.warn("chat item does not exist"),Wt):Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},Rn),{communityPost:Xe(gt({},Rn.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:Pn,isLocked:Rn}=jn.payload,$n=Wt.communityPosts.get(Pn);return!$n||!wt($n)?(console.warn("chat item does not exist"),Wt):Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},$n),{communityPost:Xe(gt({},$n.communityPost),{is_locked:Rn})}))})}case"posts-link_metadata":{const{id:Pn,link_metadata:Rn}=jn.payload,$n=Wt.communityPosts.get(Pn);return $n?Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},$n),{communityPost:Xe(gt({},$n.communityPost),{link_metadata:Rn})}))}):(console.warn("chat item does not exist"),Wt)}case"posts-save_scroll_position":{const{publication_id:Pn,scrollPosition:Rn}=jn.payload;return Xe(gt({},Wt),{chats:Kt(Wt.chats,Pn,Xe(gt({},vn),{scrollPosition:Rn}))})}case"posts-update_post":{const{id:Pn,post:Rn}=jn.payload,$n=Wt.communityPosts.get(Pn);return!$n||!wt($n)?(console.warn("post does not exist"),Wt):Xe(gt({},Wt),{communityPosts:Kt(Wt.communityPosts,Pn,Xe(gt({},$n),{communityPost:gt(gt({},$n.communityPost),Rn)}))})}default:throw new Error("Invalid action type")}}function qn(Wt,jn){var bt;return(bt=Wt.chats.get(jn))!=null?bt:Et}const cr=({maybeUpdateNewestSeenChatSetting:Wt})=>(jn,bt)=>Ne(void 0,null,function*(){var Ut,qt,Sn;try{const at=yield fetchJson("/api/v1/community/posts",{method:"GET"});jn({type:"inbox-new_items",payload:{threads:at==null?void 0:at.threads}});const Pt=(Sn=(qt=(Ut=at==null?void 0:at.threads)==null?void 0:Ut[0])==null?void 0:qt.communityPost)==null?void 0:Sn.created_at;Wt&&Pt&&Wt(Pt)}catch(at){console.warn("error",at)}}),pr=(Wt,jn=!1,{maybeUpdateNewestSeenChatSetting:bt}={})=>(Ut,qt)=>Ne(void 0,null,function*(){var Sn;const at=qn(qt(),Wt),Pt=at.posts[at.posts.length-1],jt=qt().communityPosts.get(Pt);try{const vn=yield fetchJson(`/api/v1/community/publications/${Wt}/posts`,{query:{before:jt&&!jn?jt.communityPost.created_at:void 0}});if(Array.isArray(vn)&&vn.length===0){const Rn=new Error("FLAGGED_AS_SPAM");Ut({type:"posts-error",payload:{publication_id:Wt,error:Rn}});return}Ut({type:"posts-load_more",payload:{publication_id:Wt,result:vn,direction:jn?"before":"after"}});const Pn=vn==null?void 0:vn.threads.find(Rn=>Rn.communityPost.status!=="deleted");jn&&bt&&bt((Sn=Pn==null?void 0:Pn.communityPost)==null?void 0:Sn.created_at)}catch(vn){console.warn("error",vn),Ut({type:"posts-error",payload:{publication_id:Wt,error:vn}})}}),wr=Wt=>(jn,bt)=>Ne(void 0,null,function*(){const Ut=qn(bt(),Wt);if(!(!Ut.hasMore||Ut.isLoadingMore))return yield jn({type:"posts-request_more",payload:{publication_id:Wt}}),jn(pr(Wt))}),Vr={isLoading:!1,hasMore:!1,error:null},On={before:Vr,after:Xe(gt({},Vr),{isLoading:!0}),order:"asc",comments:[]};function pt(Wt,jn){var bt,Ut,qt,Sn,at,Pt,jt;let vn=null,Pn=null;Jt(jn)?Pn=jn.payload.parentCommentId:"postId"in jn.payload&&(vn=jn.payload.postId);const Rn=sr=>Pn?{replies:sr}:{comments:sr};let $n;Pn?$n=(bt=Wt.replies.get(Pn))!=null?bt:On:vn&&($n=(Ut=Wt.comments.get(vn))!=null?Ut:On);const ar=Pn?Wt.replies:Wt.comments,lr=Pn!=null?Pn:vn;switch(jn.type){case"replies-request_initial":case"comments-request_initial":{const{order:sr}=jn.payload,fr=Xe(gt({},Vr),{isLoading:!0,hasMore:!1});return gt(gt({},Wt),Rn(Kt(ar,lr,Xe(gt({},$n),{before:sr==="desc"?fr:Vr,after:sr==="asc"?fr:Vr,order:sr}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:sr}=jn.payload;return gt(gt({},Wt),Rn(Kt(ar,lr,Xe(gt({},$n),{[sr]:Xe(gt({},$n[sr]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:sr,result:{post:fr,parent:gr,replies:Sr,more:Gr}}=jn.payload,Oo=Sr.map(kt=>kt.comment.id),zr=new Map([...Sr.map(kt=>[kt.comment.id,kt])]),yt=Eo(Wt.communityComments,zr,kt=>new Date(kt.comment.updated_at));gr&&yt.set(gr.comment.id,gr);const vt=io({getCommunityCommentFromId:kt=>yt.get(kt)});return gt(Xe(gt({},Wt),{communityPosts:fr?Kt(Wt.communityPosts,fr.communityPost.id,fr):Wt.communityPosts,communityComments:yt}),Rn(Kt(ar,lr,Xe(gt({},$n),{comments:uniq([...$n.comments,...Oo]).sort(vt),[sr]:{isLoading:!1,hasMore:Gr,error:null},order:sr==="after"&&!Gr?"desc":$n.order}))))}case"replies-new":case"comments-new":{const sr={comment:Xe(gt({},hn()),{id:jn.payload.id,body:jn.payload.body,raw_body:jn.payload.mentions?jn.payload.body:void 0,post_id:jn.payload.postId,parent_id:Pn,media_uploads:(qt=jn.payload.mediaUploads)!=null?qt:null,user_id:(at=(Sn=Wt.user)==null?void 0:Sn.id)!=null?at:0,quote_id:jn.payload.quoteReply?jn.payload.quoteReply.comment.id:null,mentions:jn.payload.mentions}),isNew:!0,is_banned:!1,quote:jn.payload.quoteReply,user:Wt.user,pub_roles:jn.payload.pubRoles},fr=gt(Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr.comment.id,sr)}),Rn(Kt(ar,lr,Xe(gt({},$n),{comments:[sr.comment.id,...$n.comments]}))));if(Pn){const Sr=Wt.communityComments.get(Pn);if(Sr&&Lt(Sr)){const Gr=Zn(Sr.comment,Wt.user,jn.payload.postId);fr.communityComments.set(Pn,Xe(gt({},Sr),{comment:Gr}))}}const gr=Wt.communityPosts.get(jn.payload.postId);if(gr&&wt(gr)){const Sr=Zn(gr.communityPost,Wt.user,jn.payload.postId);fr.communityPosts=Kt(Wt.communityPosts,jn.payload.postId,Xe(gt({},gr),{communityPost:Sr}))}return fr}case"replies-commit":case"comments-commit":{const{id:sr,reply:fr}=jn.payload,gr=new Map(Wt.communityComments);return gr.delete(sr),gr.set(fr.comment.id,fr),gt(Xe(gt({},Wt),{communityComments:gr}),Rn(Kt(ar,lr,Xe(gt({},$n),{comments:$n.comments.map(Sr=>Sr===sr?fr.comment.id:Sr)}))))}case"replies-error":case"comments-error":{const{edge:sr,error:fr}=jn.payload;return gt(gt({},Wt),Rn(Kt(ar,lr,Xe(gt({},$n),{[sr]:Xe(gt({},$n[sr]),{error:fr})}))))}case"comments-new_reaction":{const{id:sr,reaction:fr}=jn.payload,gr=Wt.communityComments.get(sr);return!gr||!Lt(gr)||!((Pt=gr.comment)!=null&&Pt.reactions)?(console.warn("comment does not exist"),Wt):gr.comment.reaction===fr?(console.warn("reaction already set"),Wt):Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},gr),{comment:pn(gr.comment,fr,!0)}))})}case"comments-remove_reaction":{const{id:sr,reaction:fr}=jn.payload,gr=Wt.communityComments.get(sr);return!gr||!Lt(gr)||!((jt=gr.comment)!=null&&jt.reactions)?(console.warn("comment does not exist"),Wt):Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},gr),{comment:pn(gr.comment,fr,!1)}))})}case"comments-delete_comment":{const{id:sr}=jn.payload,fr=Wt.communityComments.get(sr);return fr?Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},fr),{comment:Xe(gt({},fr.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),Wt)}case"comments-update_comment":{const{id:sr,comment:fr}=jn.payload,gr=Wt.communityComments.get(sr);return!gr||!Lt(gr)?(console.warn("comment does not exist"),Wt):Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},gr),{comment:gt(gt({},gr.comment),fr)}))})}case"comments-flag_comment":{const{id:sr}=jn.payload,fr=Wt.communityComments.get(sr);return!fr||!Lt(fr)?(console.warn("comment does not exist"),Wt):Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},fr),{comment:Xe(gt({},fr.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:sr,ban:fr}=jn.payload,gr=Wt.communityComments.get(sr);return!gr||!Lt(gr)?(console.warn("comment does not exist"),Wt):Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},gr),{is_banned:fr}))})}case"comments-lock_replies":{const{id:sr,isLocked:fr}=jn.payload,gr=Wt.communityComments.get(sr);return!gr||!Lt(gr)?(console.warn("comment does not exist"),Wt):gr.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),Wt):Xe(gt({},Wt),{communityComments:Kt(Wt.communityComments,sr,Xe(gt({},gr),{comment:Xe(gt({},gr.comment),{is_locked:fr})}))})}default:throw new Error("Invalid type")}}function hn(){const Wt=new Date().toISOString();return{id:"",created_at:Wt,updated_at:Wt,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const Dn=(0,t.createContext)({dispatch:()=>Promise.resolve()});function Gn(){var Wt;return(Wt=(0,a.qp)(Dn))==null?void 0:Wt.dispatch}function Kt(Wt,jn,bt){const Ut=new Map(Wt);return Ut.set(jn,bt),Ut}function wt(Wt){return Wt.isNew!==!0}function Lt(Wt){return Wt.isNew!==!0}function mt(Wt){return"communityPost"in Wt}function Mt(Wt){return"comment"in Wt}function Jt(Wt){return"parentCommentId"in Wt.payload}function pn(Wt,jn,bt){var Ut,qt;const Sn=Wt.reaction,at=gt({},Wt.reactions);return at[jn]=((Ut=at[jn])!=null?Ut:0)+(bt?1:-1),bt&&Sn&&(at[Sn]=((qt=at[Sn])!=null?qt:0)-1),Xe(gt({},Wt),{reactions:at,reaction:bt?jn:null})}function An(Wt){return Math.floor(Math.random()*Wt*1e3)}function Fn(Wt,jn,bt){return Ne(this,null,function*(){try{return yield fetchJson("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:jn,comment_id:Wt,content_type:bt}})}catch(Ut){return Ut}})}function Un(Wt,jn){return Ne(this,null,function*(){try{return yield fetch(jn,{method:"PUT",headers:{"Content-Type":Wt.contentType},body:Wt.file})}catch(bt){return bt}})}function Gt({day:Wt,items:jn,onSelect:bt,isPaid:Ut,isFounding:qt}){const Sn=useUser();return h(Fragment,null,jn.map(at=>h(ue,{key:at.communityPost.id,item:at.isNew?Xe(gt({},at),{user:Sn}):at,onSelect:bt,isPaid:Ut,isFounding:qt})),h(Qn,{day:Wt}))}const Zt=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),_n=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function Qn({day:Wt}){const jn=dayjs();return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:16},h(Text.B3,{weight:"medium",size:14,color:"secondary"},Wt.isSame(jn,"day")?"Today":Wt.isSame(jn.subtract(1,"day"),"day")?"Yesterday":Wt.isSame(jn,"year")?Zt.format(Wt.toDate()):_n.format(Wt.toDate())))}function At({title:Wt,body:jn,children:bt}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:Wt,body:jn,children:bt}))}function fn(){return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:12},h(Text.B3,{color:"error"},"Error loading chats"))}function gn({pubErr:Wt}){if(Wt.error instanceof FetchError){const jn=Wt.error.body.status==="CHAT_NOT_ENABLED",bt=Wt.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",Ut=Wt.error.body.status==="PUBLICATION_NOT_FOUND";if(jn)return h(At,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(bt)return h(At,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},Wt.error.body.publication&&h(ur,{pub:Wt.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(Ut)return h(At,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return Wt.error instanceof Error&&Wt.error.message==="FLAGGED_AS_SPAM"?h(At,{title:"We could not find this publication.",body:"Please select another publication and try again."}):h(At,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function Mn({user:Wt,showReply:jn=!0,analyticsParams:bt,commenters:Ut,count:qt,audience:Sn}){return h(FlexBox,null,h(FlexColumn,{className:css.paywall},h(CommunityPostPaywall,{author:Wt,showReply:jn,analyticsParams:bt,commenters:Ut,count:qt,audience:Sn})))}function Wn({onClick:Wt,children:jn}){return h(Button,{priority:"secondary",onClick:Wt},jn)}function rr(Wt,jn){const bt=jn.get(Wt);return!bt||bt.comment.status==="deleted"?!1:(jn.set(Wt,Xe(gt({},bt),{comment:Xe(gt({},bt.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function Zn(Wt,jn,bt){var Ut,qt;let Sn;return jn&&jn.photo_url&&(Sn=[{id:jn.id,name:jn.name,photo_url:jn.photo_url,post_id:bt}],Wt.recent_commenters&&(Sn=uniqBy([...Sn,...Wt.recent_commenters],at=>at.id))),"reply_count"in Wt?Xe(gt({},Wt),{recent_commenters:Sn,reply_count:1+((Ut=Wt.reply_count)!=null?Ut:0)}):"comment_count"in Wt?Xe(gt({},Wt),{recent_commenters:Sn,comment_count:1+((qt=Wt.comment_count)!=null?qt:0)}):Wt}function ur({pub:Wt,utm_source:jn,isSubscribeWall:bt}){useEffect(()=>{bt&&track(EVENTS.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:Wt.id})},[]);const Ut=()=>{const qt=getSubscribeUrl(Wt,{addBase:!0,params:{next:document.location.href,utm_source:jn}});window.open(qt,"_blank")||(window.location.href=qt)};return h(Button,{priority:"primary",onClick:Ut},`Subscribe to ${Wt.name}`)}function Ar({getPubChatItemFromId:Wt}){return(jn,bt)=>{const Ut=jn.communityPostId?Wt(jn.communityPostId):null,qt=bt.communityPostId?Wt(bt.communityPostId):null;return Qr(Ut,qt,"post")}}function so({getPubChatItemFromId:Wt}){return(jn,bt)=>{const Ut=Wt(jn),qt=Wt(bt);return Qr(Ut,qt,"post")}}function io({getCommunityCommentFromId:Wt}){return(jn,bt)=>{const Ut=Wt(jn),qt=Wt(bt);return Qr(Ut,qt,"comment")}}function Qr(Wt,jn,bt="post"){const Ut=!Wt,qt=!jn;if(Ut&&qt)return 0;if(Ut&&!qt)return 1;if(!Ut&&qt)return-1;const Sn=bt==="post"?Wt&&mt(Wt)&&Wt.communityPost.created_at:Wt&&Mt(Wt)&&Wt.comment.created_at,at=new Date(Sn||0),Pt=bt==="post"?jn&&mt(jn)&&jn.communityPost.created_at:jn&&Mt(jn)&&jn.comment.created_at;return new Date(Pt||0).getTime()-at.getTime()}function Eo(Wt,jn,bt){const Ut=new Map(jn);for(const[qt,Sn]of Wt){const at=Ut.get(qt);if(!at){Ut.set(qt,Sn);continue}bt(Sn)>bt(at)&&Ut.set(qt,gt(gt({},at),Sn))}return Ut}function So({changeSetting:Wt,storedNewestSeenChatItemPublishedAt:jn}){return bt=>{bt&&new Date(bt)>new Date(jn!=null?jn:0)&&Wt("newest_seen_chat_item_published_at",bt)}}},15569:(K,f,e)=>{"use strict";var t=e(6400),a=e(51126),i=e(43887);function c({title:l,body:v,children:_}){return h(FlexColumn,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},h(MessageCircle,{stroke:"var(--color-secondary)"}),h(p,{title:l,body:v},_))}function p({title:l,body:v,children:_}){return h(FlexColumn,{gap:8,alignItems:"center"},h(Text.B4,{weight:"semibold",color:"secondary",align:"center"},l),h(Text.B4,{color:"secondary",align:"center"},v),_)}},55886:(K,f,e)=>{"use strict";e.d(f,{t:()=>O});var t=e(6400),a=e(84606),i=e(20501),c=e(79786),p=Object.defineProperty,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(u,o,s)=>o in u?p(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,E=(u,o)=>{for(var s in o||(o={}))v.call(o,s)&&g(u,s,o[s]);if(l)for(var s of l(o))_.call(o,s)&&g(u,s,o[s]);return u},S=(u,o)=>{var s={};for(var w in u)v.call(u,w)&&o.indexOf(w)<0&&(s[w]=u[w]);if(u!=null&&l)for(var w of l(u))o.indexOf(w)<0&&_.call(u,w)&&(s[w]=u[w]);return s};function O(u){var o=u,{className:s,src:w,noStyle:P=!1,loading:C,onError:x}=o,D=S(o,["className","src","noStyle","loading","onError"]);let y,M;return"size"in D?(y=D.size,M=D.size):(y=D.width,M=D.height),(0,t.h)(c.e,{src:w,maxWidth:y*2,className:s,imageProps:{height:M*2,crop:"fill",gravity:"auto"},style:P?void 0:{width:y,height:M},loading:C,onError:x})}function A(u){var o=u,{className:s,src:w,noStyle:P=!1,loading:C,onError:x}=o,D=S(o,["className","src","noStyle","loading","onError"]);let y,M;return"size"in D?(y=D.size,M=D.size):(y=D.width,M=D.height),h(Box,E({as:"img",src:imginary(w)},D))}},15822:(K,f,e)=>{"use strict";e.d(f,{S:()=>A});var t=e(6400),a=e(94184),i=e.n(a),c=e(51126);const p={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var l=Object.defineProperty,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(u,o,s)=>o in u?l(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,S=(u,o)=>{for(var s in o||(o={}))_.call(o,s)&&E(u,s,o[s]);if(v)for(var s of v(o))g.call(o,s)&&E(u,s,o[s]);return u},O=(u,o)=>{var s={};for(var w in u)_.call(u,w)&&o.indexOf(w)<0&&(s[w]=u[w]);if(u!=null&&v)for(var w of v(u))o.indexOf(w)<0&&g.call(u,w)&&(s[w]=u[w]);return s};function A(u){var o=u,{className:s}=o,w=O(o,["className"]);return(0,t.h)(c.hs,S({justifyContent:"center",alignItems:"center",className:i()(p.container,s)},w),(0,t.h)("div",{className:p.drunkSpinner}))}},54520:(K,f,e)=>{"use strict";e.d(f,{SV:()=>E});var t=e(6400),a=e(30396),i=e(20042),c=e(79786),p=e(8479),l=e(11533),v=e(51126),_=e(43887);function g(){const{result:O}=(0,p.Wf)(()=>Promise.all([e.e(301),e.e(486)]).then(e.bind(e,71486)).then(A=>A.Sentry),[],{auto:!0});return(0,a.cO)(A=>{console.error(A),O&&O.captureException(A)})}function E({children:O}){const[A,u]=g(),o=(0,a.sO)((0,i.getCurrentUrl)());return(0,l.j)(s=>{A&&o.current!==s&&u(),o.current=s},[]),A?(0,t.h)(S,null):O}function S(){return(0,t.h)(v.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,t.h)(c.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,t.h)(v.tu,{gap:8},(0,t.h)(_.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,t.h)(_.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},71012:(K,f,e)=>{"use strict";e.d(f,{KL:()=>se,rS:()=>ae,au:()=>G,E$:()=>Z,dg:()=>oe,Zx:()=>fe});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(98913),l=e(52066);function v(le){var Ae;return le.source==="twitter"?"From Twitter":le.source==="facebook"?"From Facebook":le.source==="contacts_email"||le.source==="contacts_phone"?"From your contacts":le.publication?`Writes ${le.publication.name}`:(Ae=le.user.bio)!=null?Ae:""}var _=e(81470),g=e(15045),E=e(70444),S=e(20501),O=e(71765),A=e(91704),u=e(80332),o=e(58718),s=e(63270),w=e(67963),P=e(62017),C=e(3258),x=e(66141),D=e(16527),y=e(8479),M=e(6742),T=e(39419),R=e(13045),F=e(86605),N=e(48960),U=e(10186),V=e(41474),W=e(68493),L=e(33510),k=e(35616);const H={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--xfbDV",personYouMayKnowText:"frontend-reader2-FeedSidebar-module__personYouMayKnowText--Z2xnA",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--NDSjT",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--qUPdh",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--z1fjJ",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--3xYv4",fbConnect:"frontend-reader2-FeedSidebar-module__fbConnect--Omv4o",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--R4y26",close:"frontend-reader2-FeedSidebar-module__close--XScse",badge:"frontend-reader2-FeedSidebar-module__badge--S42Dn",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--ElLpK"},G="inviteFriendsNuxDismissed",q="facebookPymkNuxDismissed",z="sidebarInviteFriendsNuxDismissed",ee="sidebarFacebookNuxDismissed",$=60*60*24*7;function J(){const le=useSiteConfigs(),{user:Ae}=useUserContext(),[De]=useDismissed(z),[je=De]=useDismissed(ee,$),Je=le.getConfigFor("twitter_connect_flows_enabled")&&Ae&&!Ae.has_linked_twitter,Be=!je&&Ae&&!Ae.has_linked_facebook,st=Ae&&!De&&!Be;return h(Sidebar,null,h(SidebarBody,{gap:0},st&&h(Fragment,null,h(fe,{utmSource:"feed_sidebar"}),h(Divider,{paddingX:8,paddingY:8})),Je&&h(Fragment,null,h(ae,null),h(Divider,{paddingX:8,paddingY:8})),Be&&h(Fragment,null,h(se,null),h(Divider,{paddingX:8,paddingY:8})),h(j,null)))}function j(){var le,Ae;const De=useFetch({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0});return!De.isLoading&&!((le=De.result)!=null&&le.suggestions.length)?null:h(FlexColumn,{gap:8},h(SidebarHeader,null,h(Text.H4,null,h(TextLink,{onClick:je=>routeClick(je,getFeedPeopleYouMayKnowUrl())},"Suggestions")),h(Button,{size:"small",priority:"secondary",fill:"empty",onClick:je=>routeClick(je,getFeedPeopleYouMayKnowUrl())},"See all")),h(FlexColumn,{gap:8},De.isLoading?times(8,()=>h(ie,null)):(Ae=De.result)==null?void 0:Ae.suggestions.map(je=>h(Z,{feedUserSuggestion:je,surface:FeedSurface.FeedSidebar,hoverCardPlacement:"left-center"}))),h(Divider,{paddingX:8,paddingY:8}))}function Z({feedUserSuggestion:le,surface:Ae,hoverCardPlacement:De}){const je=(0,a.sO)(null),Je=(0,o.Sv)(le.user,Ae),Be=Je.isFollowing?"Following":"Follow",st=Je.isFollowing?"secondary":"primary",ht=v(le),gt=Ae===_.U.Feed?"pymk_notes_feed_item":Ae===_.U.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";(0,M.UM)(je,()=>{(0,V.MJ)(le,Ae)});const[Xe,Re]=(0,a.eJ)(!1),Ne=Dt=>{Xe||(Re(!0),(0,V.CD)(le,Ae,Dt))},ke=Dt=>{Ne("user-suggestion"),Dt.defaultPrevented||(0,T.redirect)((0,S.getReaderProfileUrl)(le.user,{utm_source:gt}),{event:Dt})},ot=Dt=>{Dt.preventDefault(),Ne("user-suggestion-cta"),Je.toggle()};return Ae===_.U.Feed?(0,t.h)(R.tu,{ref:je,className:c()(H.personYouMayKnow,H.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,radius:12,onClick:ke},(0,t.h)(U.BG,{user:le.user,pub:le.publication,size:64}),(0,t.h)(R.tu,{minWidth:0,flex:"grow",alignSelf:"stretch"},(0,t.h)(R.xv.B4,{as:"a",decoration:"hover-underline",align:"center",target:"_blank",rel:"noopener",weight:"bold",href:(0,S.getReaderProfileUrl)(le.user),ellipsis:!0},le.user.name),(0,t.h)(R.xv.B4,{align:"center",color:"secondary",ellipsis:!0},ht)),(0,t.h)(R.zx,{size:"small",priority:st,fill:"outline",onClick:ot,grow:!0},(0,t.h)(R.gq,null,(0,t.h)(R.gq,{alignItems:"center",gap:4},Be)))):(0,t.h)(ne,{user:le.user,source:gt,publication:le.publication,label:ht,hoverCardPlacement:De,onClick:ke,cta:(0,t.h)(R.zx,{size:"small",priority:st,fill:Ae===_.U.Suggestions?"outline":"empty",onClick:ot},(0,t.h)(R.gq,null,(0,t.h)(R.gq,{alignItems:"center",gap:4},Be))),boxRef:je})}function ne({user:le,publication:Ae,label:De,hoverCardPlacement:je,onClick:Je,cta:Be,source:st,boxRef:ht}){const gt=(0,w.aF)(),Xe=le&&le.id===(gt==null?void 0:gt.id);return(0,t.h)(R.hs,{ref:ht,className:H.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12,onClick:Je,radius:12},(0,t.h)(R.hs,{gap:12,minWidth:0},(0,t.h)(U.BG,{user:le,pub:Ae,size:40,showProfileHovercard:!0}),(0,t.h)(R.tu,{minWidth:0,justifyContent:"center",alignItems:"start"},(0,t.h)(u.Ct,{subject:le,placement:je,utmSource:st},(0,t.h)(R.xv.B4,{as:"a",className:H.personYouMayKnowText,decoration:"hover-underline",target:"_blank",rel:"noopener",weight:"bold",href:(0,S.getReaderProfileUrl)(le),ellipsis:!0},le.name)),(0,t.h)(R.xv.B4,{color:"secondary",ellipsis:!0,className:H.personYouMayKnowText,as:Ae?"a":void 0,decoration:Ae?"hover-underline":void 0,target:"_blank",rel:"noopener",onClick:Re=>{Re.stopPropagation()},href:Ae?(0,g.getPubUrl)(Ae):void 0},De))),!Xe&&Be)}function ie(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",padding:8,gap:12},h(Placeholder,{type:"circle",className:css.personYouMayKnowImage}),h(FlexColumn,{style:{width:"100%"},gap:8},h(Placeholder,{type:"bar",width:"80%",height:16}),h(Placeholder,{type:"bar",width:"40%",height:16})))}function oe(){const[le,Ae]=(0,x.Z)(q,$);return le?null:(0,t.h)(R.tu,{className:c()(H.personYouMayKnow,H.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,style:{position:"relative"},radius:12},(0,t.h)(F.P,{className:H.close,onClick:Ae}),(0,t.h)(O.Z,{fill:"var(--color-accent-facebook)",stroke:"none",height:64,width:64}),(0,t.h)(R.tu,{alignItems:"center",minWidth:0,flex:"grow"},(0,t.h)(R.xv.B4,{align:"center",weight:"bold",ellipsis:!0},"Connect Facebook"),(0,t.h)(R.xv.B4,{align:"center",color:"secondary",ellipsis:!0},"Find your friends")),(0,t.h)(R.zx,{size:"small",priority:"primary",fill:"filled",href:(0,S.getConnectFacebookUrl)({type:"reader2",redirect:(0,g.getFeedUrl)()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,grow:!0,onClick:()=>(0,C.j)(C.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function re(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12},h(FlexBox,{gap:12,minWidth:0},h(FacebookIconCircle,{height:40}),h(FlexColumn,{minWidth:0},h(Text.B4,{weight:"semibold"},"Connect Facebook"),h(Text.B4,{color:"secondary"},"Find your friends on Substack"))),h(Button,{priority:"primary",fill:"filled",href:getConnectFacebookUrl({type:"reader2",redirect:getFeedUrl()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,onClick:()=>track(EVENTS.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function ae(){return(0,t.h)(R.tu,{alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,t.h)(l.Z,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),(0,t.h)(R.tu,{alignItems:"center",gap:6},(0,t.h)(R.xv.H4,null,"Find people you know"),(0,t.h)(R.xv.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),(0,t.h)(R.zx,{priority:"primary",href:(0,g.getConnectTwitterUrl)({type:"reader2",redirect:E.Ds}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function se(){const[,le]=(0,x.Z)(ee),Ae=()=>{le()};return(0,t.h)(R.tu,{position:"relative",alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,t.h)(F.P,{className:H.close,onClick:Ae}),(0,t.h)(O.Z,{width:40,height:40}),(0,t.h)(R.tu,{alignItems:"center",gap:6},(0,t.h)(R.xv.H4,null,"Find your friends"),(0,t.h)(R.xv.B4,{align:"center",color:"secondary"},"Connect Facebook to see what your friends are reading.")),(0,t.h)(R.zx,{priority:"primary",href:(0,S.getConnectFacebookUrl)({type:"reader2",redirect:(0,g.getFeedUrl)()}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-facebook)"},rounded:!0,onClick:()=>(0,C.j)(C.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"sidebar"})},"Connect Facebook"))}function fe({utmSource:le}){const[Ae,De]=(0,a.eJ)(!1),[je,Je]=(0,a.eJ)(!1),{user:Be,changeSetting:st}=(0,w.SE)(),[,ht]=(0,x.Z)(G),[,gt]=(0,x.Z)(z),Xe=(0,k.N)();if(!Be)return null;const Re=()=>{st("invite_friends_nux_dismissed_at",new Date().toISOString()),ht()},Ne=()=>{Re(),gt()},ke=()=>{De(!1),je&&Re()},ot=()=>{De(!0),(0,C.j)(C.FP.INVITE_FRIENDS_MODAL_SHOWN,{source:le})};return(0,t.h)(t.Fragment,null,(0,t.h)(R.tu,null,(0,t.h)(R.tu,{alignItems:"center",gap:12,padding:32,className:H.shareProfile},(0,t.h)(F.P,{className:H.close,onClick:Ne}),(0,t.h)(R.tu,{className:H.avatarContainer},(0,t.h)(U.qE,{user:Be,size:48}),(0,t.h)(R.hs,{className:H.badge,padding:4},(0,t.h)(A.HA,{className:H.badgeIcon,size:12}))),(0,t.h)(R.tu,{alignItems:"center",gap:6},(0,t.h)(R.xv.H4,null,"Invite your friends"),(0,t.h)(R.xv.B4,{align:"center",color:"secondary"},Xe?"Share your profile to help your friends find you on Substack.":"Share your profile to help your friends find you on Notes.")),(0,t.h)(R.zx,{priority:"primary",onClick:ot,rounded:!0},"Invite friends"))),(0,t.h)(W.N,{isOpen:Ae,utmSource:le,onClose:ke,setShared:()=>Je(!0)}))}},68493:(K,f,e)=>{"use strict";e.d(f,{N:()=>_});var t=e(6400),a=e(20501),i=e(67963),c=e(73115),p=e(13045),l=e(10186);const v={card:"frontend-reader2-InviteFriendModal-module__card--Y_M2a",cardTop:"frontend-reader2-InviteFriendModal-module__cardTop--U1mKN",cardBottom:"frontend-reader2-InviteFriendModal-module__cardBottom--k08tv",cardAvatar:"frontend-reader2-InviteFriendModal-module__cardAvatar--XnNz6",cardOverlay:"frontend-reader2-InviteFriendModal-module__cardOverlay--d17EK",cardUrl:"frontend-reader2-InviteFriendModal-module__cardUrl--CRORb",fakeButton:"frontend-reader2-InviteFriendModal-module__fakeButton--sjhoe"},_=({isOpen:g,utmSource:E,onClose:S,setShared:O})=>{const{user:A}=(0,i.SE)();if(!A)return(0,t.h)(t.Fragment,null);const u=(0,a.getReaderProfileUrl)(A,{utm_source:E}),o=`/img/profile_cards/card-bg-${Math.ceil(A!=null&&A.id?A.id%9+1:Math.random()*8)}.png`;return(0,t.h)(p.u_,{isOpen:g,onClose:S,width:480,overflow:"hidden"},(0,t.h)(p.xB,{includeClose:!0,onClose:S}),(0,t.h)(p.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},(0,t.h)(p.tu,{alignItems:"center",gap:8},(0,t.h)(p.xv.H2,{weight:"semibold"},"Invite your friends"),(0,t.h)(p.xv.B3,{align:"center",color:"secondary"},"Share your profile to help your friends and followers find you on Substack.")),(0,t.h)(p.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:v.card},(0,t.h)(p.tu,{flex:"grow",className:v.cardTop},(0,t.h)("img",{className:v.cardOverlay,src:(0,a.imginary)(o,800)})),(0,t.h)(p.tu,{flex:"grow",alignSelf:"stretch",className:v.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},(0,t.h)(p.hs,{justifyContent:"space-between",alignItems:"end"},(0,t.h)(l.qE,{user:A,size:112,className:v.cardAvatar}),(0,t.h)(p.zx,{priority:"secondary",rounded:!0,className:v.fakeButton},"Subscribe")),(0,t.h)(p.tu,{flex:"grow",gap:8},(0,t.h)(p.xv.H2,null,A.name),(0,t.h)(p.xv.Meta,{className:v.cardUrl,size:12,color:"substack"},u.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")),A.bio&&(0,t.h)(p.xv.B4,{color:"secondary"},A.bio)))),(0,t.h)(p.xv.Meta,{align:"center"},"Share via"),(0,t.h)(c.sZ,{shareUrl:u,shareEventType:"profile",shareText:"Subscribe to me on Substack",itemKey:A.id,onShare:()=>{O&&O()}})))}},67120:(K,f,e)=>{"use strict";var t=e(6400),a=e(11688),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(A,u,o)=>u in A?i(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,E=(A,u)=>{for(var o in u||(u={}))v.call(u,o)&&g(A,o,u[o]);if(l)for(var o of l(u))_.call(u,o)&&g(A,o,u[o]);return A},S=(A,u)=>c(A,p(u));function O(A){return h(LazyComponent,S(E({},A),{module:"./ChatTextEditor",resolve:u=>u.ChatTextEditor,onRequest:()=>Promise.all([e.e(492),e.e(902),e.e(156)]).then(e.bind(e,35156))}))}},11688:(K,f,e)=>{"use strict";e.d(f,{Oe:()=>o,cr:()=>u});var t=e(6400),a=e(8479),i=Object.defineProperty,c=Object.defineProperties,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(x,D,y)=>D in x?i(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,E=(x,D)=>{for(var y in D||(D={}))v.call(D,y)&&g(x,y,D[y]);if(l)for(var y of l(D))_.call(D,y)&&g(x,y,D[y]);return x},S=(x,D)=>c(x,p(D)),O=(x,D)=>{var y={};for(var M in x)v.call(x,M)&&D.indexOf(M)<0&&(y[M]=x[M]);if(x!=null&&l)for(var M of l(x))D.indexOf(M)<0&&_.call(x,M)&&(y[M]=x[M]);return y},A=(x,D,y)=>new Promise((M,T)=>{var R=U=>{try{N(y.next(U))}catch(V){T(V)}},F=U=>{try{N(y.throw(U))}catch(V){T(V)}},N=U=>U.done?M(U.value):Promise.resolve(U.value).then(R,F);N((y=y.apply(x,D)).next())});function u(x){return(0,t.h)(s,S(E({},x),{key:x.module}))}function o({module:x,onRequest:D,fetchImmediately:y=!0}){const M=P.has(x),T=(0,a.Wf)(()=>C(x,D),[],{auto:y&&!M,initialResult:M?P.get(x):null});return T.error&&console.error(T.error),{error:T.error,isLoading:T.isLoading,result:T.result,fetch:T.refetch}}function s(x){var D=x,{onRequest:y,resolve:M,module:T,whileLoading:R}=D,F=O(D,["onRequest","resolve","module","whileLoading"]);const{error:N,isLoading:U,result:V}=o({module:T,onRequest:y});return(0,t.h)(t.Fragment,null,N?"Error":U||!V?R!=null?R:null:(0,t.h)(M(V),F))}function w(x){return h(u,S(E({},x),{resolve:D=>D.default}))}const P=new Map;function C(x,D){return A(this,null,function*(){let y=P.get(x);return y||(y=yield D(),P.set(x,y)),y})}},18130:(K,f,e)=>{"use strict";e.d(f,{c:()=>o,r:()=>u});var t=e(6400),a=e(98661),i=e(92298),c=Object.defineProperty,p=Object.defineProperties,l=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(s,w,P)=>w in s?c(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w)=>{for(var P in w||(w={}))_.call(w,P)&&E(s,P,w[P]);if(v)for(var P of v(w))g.call(w,P)&&E(s,P,w[P]);return s},O=(s,w)=>p(s,l(w)),A=(s,w)=>{var P={};for(var C in s)_.call(s,C)&&w.indexOf(C)<0&&(P[C]=s[C]);if(s!=null&&v)for(var C of v(s))w.indexOf(C)<0&&g.call(s,C)&&(P[C]=s[C]);return P};const u=(0,a.forwardRef)((s,w)=>{var P=s,{href:C,onClick:x,campaign:D}=P,y=A(P,["href","onClick","campaign"]);const M=o({href:C,onClick:x,campaign:D});return(0,t.h)("a",S(O(S({},y),{ref:w}),M))});function o({onClick:s,href:w,campaign:P}){if(w){let x;try{x=new URL(w)}catch(D){try{x=new URL(`${document.location.origin}${w}`)}catch(y){}}if(x){if(x.origin===document.location.origin&&!P){const D=new URLSearchParams,y={};for(const[M,T]of x.searchParams)M.startsWith("utm_")?M==="utm_campaign"?y.name=T:y[M.replace(/^utm_/,"")]=T:D.append(M,T);P=y,w=`${x.pathname}${D}`}else if(x.origin!==document.location.origin&&P){for(const[D,y]of Object.entries(P)){const M=D==="name"?"campaign":D;x.searchParams.set(`utm_${M}`,y)}w=x.toString()}}}return{href:w,onClick:x=>{s==null||s(x),!x.defaultPrevented&&!x.ctrlKey&&!x.shiftKey&&!x.metaKey&&w&&(0,i.j)(S({},P))}}}},42332:(K,f,e)=>{"use strict";e.d(f,{aw:()=>R,u:()=>F});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(74285),l=e(21958),v=e(5131),_=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,u=(N,U,V)=>U in N?_(N,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):N[U]=V,o=(N,U)=>{for(var V in U||(U={}))O.call(U,V)&&u(N,V,U[V]);if(S)for(var V of S(U))A.call(U,V)&&u(N,V,U[V]);return N},s=(N,U)=>g(N,E(U)),w=(N,U)=>{var V={};for(var W in N)O.call(N,W)&&U.indexOf(W)<0&&(V[W]=N[W]);if(N!=null&&S)for(var W of S(N))U.indexOf(W)<0&&A.call(N,W)&&(V[W]=N[W]);return V};function P({hideOnScroll:N}={}){const[U,V]=useState(!1),W=useRef();return useEffect(()=>{if(U){const L=()=>{V(!1)},k=H=>{H.key==="Escape"&&V(!1)};return window.addEventListener("click",L),window.addEventListener("keydown",k),N&&window.addEventListener("scroll",L,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",k),window.removeEventListener("scroll",L,{capture:!0})}}},[U]),{ref:W,isOn:U,setIsOn:V,toggle:()=>{V(!U)}}}const C={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function x({tetherRef:N,fixTo:U=C,isFixed:V,offset:W={x:0,y:0},children:L,className:k}){const H=(0,a.sO)();return(0,a.bt)(()=>{const G=N.current,q=H.current;if(!G||!q)return;const z=G.getBoundingClientRect(),ee=q.getBoundingClientRect(),$=o(o({},C),U);let J=$.anchorY==="center"?z.top+z.height/2:z[$.anchorY];$.tetherY==="bottom"&&(J=window.innerHeight-J),$.tetherY==="center"&&(J-=ee.height/2);const j=$.tetherY==="bottom"?"bottom":"top";let Z=$.anchorX==="center"?z.left+z.width/2:z[$.anchorX];$.tetherX==="right"&&(Z=window.innerWidth-Z),$.tetherX==="center"&&(Z-=ee.width/2);const ne=$.tetherX==="right"?"right":"left";j==="top"&&J+ee.height>window.innerHeight?(J=z.top-ee.height,W.y&&(J-=W.y)):W.y&&(J+=W.y),W.x&&(Z+=W.x),V||(J+=window.scrollY,Z+=window.scrollX),Object.assign(q.style,{minWidth:`${z.width}px`,[j]:`${J}px`,[ne]:`${Z}px`})},[]),(0,t.h)(p.h,null,(0,t.h)("div",{className:c()("dropdown3",k),ref:H,style:{position:V?"fixed":"absolute"}},L))}const D=(0,l.L)("reader2-menu reader2-font-base");function y(N){var U=N,{priority:V}=U,W=w(U,["priority"]);const L=classnames("reader2-menu-item","reader2-text-button",V,W.className);return W.href?h("a",s(o({},W),{className:L})):h("div",s(o({},W),{className:L}))}function M({options:N,value:U,onChange:V,fixedHeight:W=!1}){var L;const k=P({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:k.toggle,forwardedRef:k.ref,fixedHeight:W},(L=N.find(H=>H.value===U))==null?void 0:L.label,h(ChevronDown,{size:16}),k.isOn&&h(x,{tetherRef:k.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(D,null,N.map(H=>h(y,{key:H.value,onClick:()=>V(H.value),className:classnames("reader2-split-menu-item selectable",U===H.value&&"isSelected")},H.label,U===H.value&&h(Check,{className:"feather-icon"}))))))}function T(N){var U=N,{defaultValue:V,onChange:W}=U,L=w(U,["defaultValue","onChange"]);const[k,H]=useState(V);return h(M,s(o({},L),{value:k,onChange:G=>{H(G),W(G)}}))}function R({onHover:N}={}){const[U,V]=(0,a.eJ)(!1),W=(0,a.sO)(),L=(0,a.sO)(),k=(0,a.sO)(),H=q=>{q.pointerType==="mouse"&&(clearTimeout(k.current),V(!0),N&&N())},G=q=>{q.pointerType==="mouse"&&(k.current=setTimeout(()=>{V(!1)},200))};return(0,a.d4)(()=>{const q=W.current;if(q)return q.addEventListener("pointerenter",H),q.addEventListener("pointerleave",G),()=>{q.removeEventListener("pointerenter",H),q.removeEventListener("pointerleave",G)}},[]),(0,a.d4)(()=>{const q=L.current,z=W.current;if(U&&z){const ee=()=>{V(!1)};return window.addEventListener("scroll",ee,{capture:!0,passive:!0}),q&&(q.addEventListener("pointerenter",H),q.addEventListener("pointerleave",G)),()=>{window.removeEventListener("scroll",ee,{capture:!0}),q&&(q.removeEventListener("pointerenter",H),q.removeEventListener("pointerleave",G))}}},[U]),{ref:W,tooltipRef:L,isHovering:U}}function F({tetherRef:N,children:U}){return(0,t.h)(x,{tetherRef:N,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,t.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},U,(0,t.h)("div",{className:"reader2-tooltip-arrow"},(0,t.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,t.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(K,f,e)=>{"use strict";e.d(f,{Yy:()=>S});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(26059),l=e(74285),v=e(39419),_=e.n(v),g=e(5131),E=e(19696);function S({children:o,className:s,onClose:w,hasClosePill:P,isPopup:C,noExit:x,noExitOnClick:D,noFullscreen:y,noCloseButton:M,testID:T}){const R=(0,a.sO)(),F=N=>{!x&&!D&&C&&(y||window.innerWidth>540)&&(N.stopPropagation(),N.preventDefault(),w())};return(0,t.h)(l.h,null,(0,t.h)("div",{className:c()("modal simple-modal wide typography","in",s,{"has-close-pill":P,popup:C}),"data-testid":T,role:"dialog"},(0,t.h)("div",{className:"modal-table"},(0,t.h)("div",{className:"modal-row"},(0,t.h)("div",{className:c()("modal-cell modal-content reader2-modal",{"no-fullscreen":y})},(0,t.h)("div",{className:"modal-clickspace",onClick:F}),(0,t.h)("div",{className:"container",ref:R},!x&&(!M||(0,v.isMobileBrowser)())&&(0,t.h)(g.zx,{className:c()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":P}),onClick:()=>w()},(0,t.h)(p.Z,null)),o))))))}function O({children:o,onCancel:s}){return h(S,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:s},h(A,null,o))}const A=(0,E.L)("simple-modal-pad reader2-confirm-modal"),u=(0,E.L)("buttons")},10174:(K,f,e)=>{"use strict";e.d(f,{Au:()=>Z,i3:()=>ne,oC:()=>oe,sA:()=>ee});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(13639),l=e(35616),v=e(82622),_=e(20501),g=e(95847),E=e(67963),S=e(83097),O=e(62952),A=e(8479),u=e(84040),o=e(51126),s=e(62246),w=e(43887),P=e(10186),C=e(91870),x=e(11688),D=e(50292),y=e(44396),M=e(70762),T=e(7980),R=Object.defineProperty,F=Object.defineProperties,N=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,L=(se,fe,le)=>fe in se?R(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:le}):se[fe]=le,k=(se,fe)=>{for(var le in fe||(fe={}))V.call(fe,le)&&L(se,le,fe[le]);if(U)for(var le of U(fe))W.call(fe,le)&&L(se,le,fe[le]);return se},H=(se,fe)=>F(se,N(fe)),G=(se,fe)=>{var le={};for(var Ae in se)V.call(se,Ae)&&fe.indexOf(Ae)<0&&(le[Ae]=se[Ae]);if(se!=null&&U)for(var Ae of U(se))fe.indexOf(Ae)<0&&W.call(se,Ae)&&(le[Ae]=se[Ae]);return le},q=(se,fe,le)=>new Promise((Ae,De)=>{var je=st=>{try{Be(le.next(st))}catch(ht){De(ht)}},Je=st=>{try{Be(le.throw(st))}catch(ht){De(ht)}},Be=st=>st.done?Ae(st.value):Promise.resolve(st.value).then(je,Je);Be((le=le.apply(se,fe)).next())});function z(se){var fe=se,{isOpen:le}=fe,Ae=G(fe,["isOpen"]);return(0,t.h)(s.u_,{className:T.Z.composerModal,isOpen:le,onClose:Ae.onClose,fullscreenMobile:!0},(0,t.h)(x.cr,H(k({},Ae),{module:"../feed/NoteComposer",resolve:De=>De.NoteComposer,onRequest:()=>Promise.all([e.e(492),e.e(902),e.e(994)]).then(e.bind(e,95994)),whileLoading:(0,t.h)("div",{style:{height:410}})})))}function ee({disabled:se,parentPubId:fe,parentPostId:le,parentCommentId:Ae,placeholder:De,tabId:je}){const Je=ne(),Be=(0,E.aF)(),st=(0,y.XA)(),{requireLogin:ht}=(0,D.SJ)(),gt=()=>{se||(Be?Je.open({parentPubId:fe,parentPostId:le,parentCommentId:Ae,tabId:je}):ht==null||ht())},Xe=(0,O.h)({onAddFiles:Re=>{Je.open({parentPubId:fe,parentPostId:le,parentCommentId:Ae,initialFiles:Re,tabId:je})}});return(0,t.h)(o.tu,k({},Xe.props),(0,t.h)(o.gq,{gap:12,alignItems:"center",className:c()(T.Z.inlineComposer,{[T.Z.disabled]:se})},Be?(0,t.h)(o.hs,{as:"a",flex:"auto",href:(0,_.getReaderProfileUrl)(Be,{noBase:!0})},(0,t.h)(P.qE,{size:st?36:40,user:Be})):(0,t.h)(o.hs,{flex:"auto"},(0,t.h)(P.qE,{size:st?36:40})),(0,t.h)(u.kG,{className:c()(T.Z.inlineComposerButton,{[T.Z.mobile]:st,[T.Z.disabled]:se,[T.Z.isDropping]:Xe.isDragging}),onClick:gt,disabled:se,resetCss:!0},(0,t.h)(w.xv.B3,{size:st?14:16,align:"left",color:"secondary"},De||"What's on your mind?")),!st&&(0,t.h)(u.zx,{disabled:!0,rounded:!0},"Post")))}function $(){const se=ne(),fe=useUser(),le=()=>{se.open({})};return fe?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:le,shadow:"medium"},h(Plus,{size:24})):null}const J={isOpen:!1,firstComment:void 0},j=(0,t.createContext)({state:J,open:()=>q(void 0,null,function*(){throw new Error("Not implemented")})});function Z({children:se}){var fe,le,Ae;const De=(0,E.aF)(),je=!(De!=null&&De.name),Je=(0,C.I0)(),[Be,st]=(0,a.eJ)(J),{feedItem:ht}=Be,gt=oe(ht),Xe=(ht==null?void 0:ht.type)==="comment"?(le=(fe=ht.parentComments)==null?void 0:fe[0])!=null?le:ht.comment:null;(0,a.d4)(()=>{De&&Promise.all([e.e(492),e.e(902),e.e(994)]).then(e.bind(e,95994))},[De]);const Re=(0,a.Ye)(()=>({state:Be,open:ot=>new Promise((Dt,ln)=>{st(H(k(k({},J),ot),{isOpen:!0,resolve:Dt,reject:ln}))})}),[Be]),Ne=()=>{var ot,Dt;(Dt=(ot=document.activeElement)==null?void 0:ot.blur)==null||Dt.call(ot),st(H(k({},Be),{isOpen:!1}))},ke=!1;return(0,t.h)(j.Provider,{value:Re},se,je?(0,t.h)(ie,{isOpen:Be.isOpen,onClose:Ne,onSuccess:()=>st(H(k({},Be),{isOpen:!0}))}):ke?(0,t.h)(s.u_,{isOpen:Be.isOpen,onClose:Ne,width:316},(0,t.h)(ae,{onClose:Ne})):gt?(0,t.h)(s.u_,{isOpen:Be.isOpen,onClose:Ne,width:316},(0,t.h)(re,{onClose:Ne,requirement:gt,writerId:(Ae=Xe==null?void 0:Xe.user_id)!=null?Ae:0})):(0,t.h)(z,H(k({},Be),{isOpen:Be.isOpen,onClose:Ne,onSuccess:ot=>{var Dt,ln;ot.isFirstFeedCommentByUser?st(H(k({},Be),{firstComment:ot})):Ne(),Je({type:Be.editComment?"edit_comment":"new_comment",payload:{comment:ot}}),(Dt=Be.onCompose)==null||Dt.call(Be,ot),(ln=Be.resolve)==null||ln.call(Be,ot)},onError:Be.reject})),(0,t.h)(s.u_,{isOpen:Be.isOpen&&!!Be.firstComment},Be.firstComment&&(0,t.h)(S.q,{onClose:Ne,comment:Be.firstComment})))}function ne(){return(0,a.qp)(j)}function ie({isOpen:se,onClose:fe,onSuccess:le}){const Ae=(0,E.SE)();return(0,t.h)(s.u_,{isOpen:se,onClose:fe,fullscreenMobile:!0},(0,t.h)(s.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:fe}),(0,t.h)(g._0,{className:T.Z.setupProfileModalContent,pageTitle:"",user:Ae.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:De=>{Ae.setUser(De.body),le()}}))}function oe(se){var fe,le;const Ae=(0,E.aF)(),De=se==null?void 0:se.post,je=(se==null?void 0:se.type)=="comment"?(le=(fe=se.parentComments)==null?void 0:fe[0])!=null?le:se.comment:null,{user_id:Je}=je!=null?je:{};let{reply_minimum_role:Be}=je!=null?je:{};const st=(0,M.K)(Je!=null?Je:0);if(Be==null&&(De==null?void 0:De.write_comment_permissions)==="only_paid"&&(Be="paid_subscriber"),!Je||!Be||se!=null&&se.canReply||je&&Ae&&(0,v._N)(je,Ae.id))return null;if(Be){if(Be==="free_subscriber"&&(!st||!["free_subscription","subscribed"].includes(st)))return"free_subscriber";if(Be==="paid_subscriber"&&st!=="subscribed")return"paid_subscriber"}return null}function re({requirement:se,writerId:fe,onClose:le}){var Ae;const De=(0,E.aF)(),{error:je,result:Je}=(0,A.ib)({pathname:`/api/v1/user/${fe}/primary-publication`,deps:[fe],auto:!0});return(0,t.h)(o.tu,{padding:16},(0,t.h)(o.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,t.h)(p.Z,{size:32,color:"var(--color-primary)"})),(0,t.h)(o.tu,{gap:20},(0,t.h)(o.tu,{gap:8,alignItems:"center"},(0,t.h)(w.xv.H3,{align:"center"},se==="free_subscriber"?"Subscribers only":"Paid subscribers only"),Je&&(0,t.h)(w.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",se==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(Ae=Je.name)!=null?Ae:"this publication",".")),(0,t.h)(o.tu,{gap:8},Je&&(0,t.h)(u.zx,{priority:"primary",rounded:!0,href:(0,_.getSubscribeUrl)(Je,{user:De,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,t.h)(u.zx,{priority:"secondary",rounded:!0,onClick:le},"Cancel"))))}function ae({onClose:se}){const fe=(0,l.N)();return(0,t.h)(o.tu,{padding:16},(0,t.h)(o.tu,{gap:20},(0,t.h)(o.tu,{gap:8,alignItems:"center"},(0,t.h)(w.xv.H3,{align:"center"},"Confirm your email address"),(0,t.h)(w.xv.B3,{color:"secondary",align:"center"},fe?"Please confirm your email address before posting a note.":"Please confirm your email address before using Notes.")),(0,t.h)(o.tu,{gap:8},(0,t.h)(u.zx,{priority:"primary",rounded:!0,onClick:se},"Ok"),(0,t.h)(u.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(K,f,e)=>{"use strict";e.d(f,{t5:()=>D.t,Sv:()=>x.S,Xq:()=>Fe,EU:()=>te,II:()=>se,Uj:()=>q,y:()=>ke,zr:()=>ue,mE:()=>Re,pe:()=>st,Vm:()=>$,Hj:()=>Ze,_Y:()=>ee,mb:()=>De,eK:()=>s.eK});var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(1852),v=e(84606),_=e(20501),g=e(16527),E=e(39419),S=e(84040),O=e(51126),A=e(43887),u=e(44396),o=e(5131),s=e(657),w=e(19696),P=e(54520);const C={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3"};var x=e(15822),D=e(55886),y=Object.defineProperty,M=Object.defineProperties,T=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=(we,me,Ee)=>me in we?y(we,me,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):we[me]=Ee,V=(we,me)=>{for(var Ee in me||(me={}))F.call(me,Ee)&&U(we,Ee,me[Ee]);if(R)for(var Ee of R(me))N.call(me,Ee)&&U(we,Ee,me[Ee]);return we},W=(we,me)=>M(we,T(me)),L=(we,me)=>{var Ee={};for(var he in we)F.call(we,he)&&me.indexOf(he)<0&&(Ee[he]=we[he]);if(we!=null&&R)for(var he of R(we))me.indexOf(he)<0&&N.call(we,he)&&(Ee[he]=we[he]);return Ee};function k({children:we}){const me=useMobile();return h(ht,null,me?h(Text.H2,null,we):h(Text.H1,null,we))}function H({className:we,children:me,title:Ee,hasTitle:he}){return h("div",{className:classnames("reader2-page-section",(Ee||he)&&"withTitle",we)},Ee&&h(G,null,Ee),me)}function G({children:we,className:me,actions:Ee}){return h("div",{className:classnames("reader2-section-title",me)},h("span",{className:"reader2-text-h3 reader2-section-title"},we),Ee&&h("div",{className:"reader2-header-actions"},Ee))}const q=(0,a.forwardRef)((we,me)=>{var Ee=we,{isPadded:he=!0,className:xe,linkClassName:Ve}=Ee,Pe=L(Ee,["isPadded","className","linkClassName"]);return(0,t.h)("div",{ref:me,className:p()(C.linkRow,he&&C.isPadded,xe)},(0,t.h)(z,W(V({},Pe),{className:Ve})))});function z(we){var me=we,{children:Ee,className:he,href:xe,newTab:Ve,onClick:Pe,noAnchor:Ie,native:ze,utmCampaign:tt,utmSource:Le,isSelected:It}=me,on=L(me,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const zt=typeof location!="undefined"?location.pathname:"",$t=!Ie&&xe!=null?"a":"div",Bt=xe&&(0,_.pathWithQuery)(xe,{utm_source:Le||zt,utm_medium:"reader2",utm_campaign:tt}),xn=Hn=>{Pe&&Pe(Hn),!Hn.defaultPrevented&&Ie&&Bt&&(0,g.Q)(Hn,Bt,{native:ze,newTab:Ve})};return(0,t.h)(O.hs,V({as:$t,className:p()(C.linkRowA,he,(Bt||Pe)&&It==null&&C.isClickable,It&&C.isSelected,It!=null&&C.isSelectable),"data-selected":It,href:Bt,target:Ve?"_blank":void 0,onClick:xn},on),Ee)}function ee({icon:we,title:me,text:Ee,action:he,className:xe}){return(0,t.h)(O.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:p()(C.zero,xe)},we,(0,t.h)(O.tu,{gap:4},(0,t.h)(A.xv.B4,{weight:"medium",color:"secondary"},me),(0,t.h)(A.xv.B4,{color:"secondary"},Ee)),he)}function $(we){var me=we,{className:Ee,style:he,type:xe,width:Ve,height:Pe,size:Ie,maxWidth:ze,elevated:tt,radius:Le=6}=me,It=L(me,["className","style","type","width","height","size","maxWidth","elevated","radius"]);Ie!=null&&(Ve=Ie,Pe=Ie);const on=xe==="bar";return(0,t.h)(v.xu,W(V({},It),{className:p()(C.placeholder,Ee,tt&&C.elevated,on&&C.bar,xe==="circle"&&C.circle),radius:Le,style:W(V({},he),{width:Ve,height:Pe,maxWidth:ze})}))}function J(we){var me=we,{className:Ee,variant:he,size:xe,serif:Ve,isConstrained:Pe,maxLines:Ie=3}=me,ze=L(me,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",V({className:classnames("reader2-paragraph",he&&`reader2-${he}`,xe&&`reader2-font-${xe}`,Ve&&"reader2-font-serif",Pe&&`reader2-clamp-lines reader2-${Ie}-lines`,Ee)},ze))}function j({className:we,children:me}){return h("div",{className:classnames("reader-nav-center",we)},h("div",{className:"reader2-page reader2-font-base"},me))}function Z({className:we,scrollRef:me,children:Ee}){return h(ae,{ref:me},h(j,{className:we},Ee))}function ne(we){var me=we,{scrollRef:Ee}=me,he=L(me,["scrollRef"]);return h(ae,{ref:Ee},h(FlexBox,W(V({},he),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function ie(we){return useMediaQuery({minWidth:1100})?h(FlexColumn,V({className:"reader2-inbox-sidebar",paddingTop:20},we)):null}function oe(we){return h(FlexBox,V({alignItems:"center",justifyContent:"space-between",paddingX:8},we))}function re(we){return h(FlexColumn,V({gap:8},we))}const ae=(0,a.forwardRef)((we,me)=>(0,t.h)(P.SV,null,(0,t.h)("div",V({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:me},we)))),se=(0,a.forwardRef)((we,me)=>{var Ee=we,{className:he,hasError:xe}=Ee,Ve=L(Ee,["className","hasError"]);return(0,t.h)("input",W(V({className:p()(C.input,xe&&C.error,he)},Ve),{ref:me}))});function fe(we){var me=we,{className:Ee,hasError:he,textareaRef:xe}=me,Ve=L(me,["className","hasError","textareaRef"]);return h("textarea",V({ref:xe,className:classnames(css.input,css.textarea,he&&css.error,Ee)},Ve))}function le({error:we}){return h(Fe,null,getNetworkErrorMessage(we))}const Ae=({header:we,icon:me,title:Ee,text:he,action:xe})=>h(H,{title:we},h(De,{icon:me,title:Ee,text:he,action:xe}));function De(we){return(0,t.h)(O.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,t.h)(ee,V({},we)))}function je({tabs:we,value:me,onChange:Ee}){const he=useRef(),xe=useMobile(),{state:Ve,handleArrowClick:Pe}=useScrollArrows(he);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:css.tabContainer},h(FlexRow,{className:"reader2-tab-bar-parent"},!xe&&h("div",{className:classnames("reader2-carousel-fade left",Ve.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:Pe(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:he},h(Je,{tabs:we,value:me,onChange:Ee})),!xe&&h("div",{className:classnames("reader2-carousel-fade right",Ve.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:Pe(1)},h(ChevronRight,{size:20})))))}function Je({tabs:we,value:me,onChange:Ee}){return h(FlexRow,{gap:8},we.map(he=>h(PillButton,{key:he.value,isActive:me===he.value,onClick:()=>Ee(he.value),icon:he.icon},he.label)))}function Be({children:we}){const me=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:me},we)}function st(we){var me=we,{gap:Ee=16}=me,he=L(me,["gap"]);return(0,t.h)(O.tu,W(V({},he),{className:p()(C.pageStack,C[`gap_${Ee}`])}))}const ht=(0,w.L)("reader2-page-top"),gt=(0,w.L)(C.pageTopFixed),Xe=(0,w.L)("reader2-page-body"),Re=(0,w.L)(C.pageStack),Ne=(0,w.L)("reader2-page-center"),ke=(0,w.L)("reader2-modal-title-text"),ot=(0,w.L)("reader2-column"),Dt=(0,w.L)("reader2-text-h3"),ln=(0,w.L)("reader2-text-h3 reader2-section-title"),ct=(0,w.L)("reader2-text-h4"),Oe=(0,w.L)("reader2-item-title"),Se=(0,w.L)("reader2-item-meta"),Ze=(0,w.L)("reader2-text-b4"),Fe=(0,w.L)("reader2-form-error"),Ke=(0,w.L)("reader2-subtitle"),et=(0,w.L)("reader2-separator","hr"),Qe=(0,w.L)("reader2-page-section withTitle"),$e=(0,w.L)("reader2-row reader2-split-row"),Te=(0,w.L)("reader2-emphasis-box"),te=(0,w.L)(p()(C.hoverLink,"pencraft"),"a");function ue(we){return(0,t.h)(te,V({target:"_blank"},we))}},4263:(K,f,e)=>{"use strict";e.d(f,{JP:()=>Ne,Ny:()=>ot});var t=e(6400),a=e(98661),i=e(30396),c=e(94184),p=e.n(c),l=e(42395),v=e.n(l),_=e(15045),g=e(7922),E=e(45809),S=e(24491),O=e(11862),A=e(38199),u=e(56790),o=e(26523),s=e(56838),w=e(67963),P=e(3258),C=e(15748),x=e(6742),D=e(39419),y=e.n(D),M=e(49619),T=e(51126),R=e(43887),F=e(95297),N=e(33510),U=e(68262),V=e(40172),W=e(47585),L=e(44396),k=e(72307),H=Object.defineProperty,G=Object.defineProperties,q=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,J=(te,ue,we)=>ue in te?H(te,ue,{enumerable:!0,configurable:!0,writable:!0,value:we}):te[ue]=we,j=(te,ue)=>{for(var we in ue||(ue={}))ee.call(ue,we)&&J(te,we,ue[we]);if(z)for(var we of z(ue))$.call(ue,we)&&J(te,we,ue[we]);return te},Z=(te,ue)=>G(te,q(ue)),ne=(te,ue)=>{var we={};for(var me in te)ee.call(te,me)&&ue.indexOf(me)<0&&(we[me]=te[me]);if(te!=null&&z)for(var me of z(te))ue.indexOf(me)<0&&$.call(te,me)&&(we[me]=te[me]);return we};function ie(te){var ue=te,{post:we,pub:me}=ue,Ee=ne(ue,["post","pub"]);const he=!!useUser(),{subscription:xe}=usePubSubscription(me.id);return h(re,Z(j({},Ee),{post:we,postId:we.id,title:we.title,description:decodeHtmlEntitiesFast(we.description),bylines:we.publishedBylines,consumptionTime:Ne(we),coverImage:we.cover_image,type:getPostType(we),Icon:Dt(getPostType(we)),canonicalUrl:getPostUrl(me,we,{signedIn:he}),timestamp:we.post_date,pub:me,audienceBadge:["only_paid","founding"].includes(we.audience)?(xe==null?void 0:xe.membership_state)==="free_signup"&&we.should_send_free_preview?"preview":"paid":void 0}))}var oe=null;function re(te){var ue=te,{post:we,title:me,description:Ee,bylines:he,consumptionTime:xe,coverImage:Ve,type:Pe,Icon:Ie,audienceBadge:ze,showBestsellerBadge:tt,highlights:Le,excerpt:It}=ue,on=ne(ue,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return h(se,Z(j({},on),{highlights:Le}),h(st,{post:we,bylines:he,consumptionTime:xe,Icon:Ie,audienceBadge:ze,showBestsellerBadge:tt,highlights:Le,excerpt:It}))}function ae({post:te,pub:ue,context:we,isViewed:me,isSaved:Ee,isSelected:he,onClick:xe,onMouseEnter:Ve,onVisible:Pe,position:Ie}){const ze=!!useUser(),tt=te.cover_image;return h(se,{postId:te.id,canonicalUrl:getPostUrl(ue,te,{signedIn:ze,urlParams:{pos:Ie}}),timestamp:te.post_date,pub:ue,isViewed:me,isSelected:he,defaultSaved:Ee,onClick:xe,onMouseEnter:Ve,onVisible:Pe},h(Be,{post:te,metaText:we,image:tt&&h(ot,{post:te})}))}function se({children:te,pub:ue,publisherName:we,logoUrl:me,timestamp:Ee,isViewed:he,isArchived:xe,isSelected:Ve,isLiked:Pe,isSaved:Ie,onLike:ze,onClick:tt,canonicalUrl:Le,postId:It,defaultSaved:on,onSave:zt,onArchive:$t,onMouseEnter:Bt,onVisible:xn,utmSource:Hn,highlights:ir}){const Vn=useUser(),[_t,ut]=useUnreadBadge(!he),Ce=isMobileBrowser(),be=useRef();return useFirstVisible(be,()=>xn&&xn(),{threshold:.2}),h(De,{ref:be,href:Le,onClick:We=>{ut(),tt&&tt(We)},className:"reader2-post-container",utmSource:Hn,isSelected:Ve,onMouseMove:()=>{Bt==null||Bt(It)}},h(je,{pub:ue,publisherName:we,logoUrl:me,highlights:ir},h(FlexRow,{className:classnames("reader2-post-info tw-items-center tw-gap-3",Vn&&"hasUser")},h(Je,{className:"inbox-item-timestamp",value:Ee}),h(fe,{isMobile:Ce,postId:It,defaultSaved:on,isSaved:Ie,onSave:zt,user:Vn,isArchived:xe,onArchive:$t,isLiked:Pe,onLike:ze,canonicalUrl:Le,communityEnabled:ue==null?void 0:ue.community_enabled}),_t)),te)}function fe({isMobile:te,postId:ue,defaultSaved:we,isLiked:me,onLike:Ee,isSaved:he,onSave:xe,user:Ve,isArchived:Pe,onArchive:Ie,canonicalUrl:ze,communityEnabled:tt}){const{isSaved:Le,onSave:It}=useSavePostById({postId:ue,defaultSaved:we}),on=xn=>{xn.stopPropagation(),xn.preventDefault()},zt=()=>{xe?xe(ue,!Le):It()},$t=()=>{Ie==null||Ie()},Bt=useLinkCopyToast();return te?null:h(FlexBox,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:on},Ee&&tt&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>Ee(ue)},h(Oe,{isActive:me})),h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{Bt(ze)}},h(Qe,null)),Ve&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:zt},h(Fe,{isActive:he!=null?he:Le})),Ie&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:$t},h(et,null)))}function le({post:te,highlights:ue}){return h(st,{post:te,bylines:te.publishedBylines,consumptionTime:Ne(te),Icon:Dt(getPostType(te)),highlights:ue})}function Ae({post:te,pub:ue}){const we=!!useUser();return h(De,{href:getPostUrl(ue,te,{signedIn:we})},h(je,{pub:ue},h(Je,{value:te.post_date})),h(le,{post:te}))}const De=(0,a.forwardRef)((te,ue)=>(0,t.h)(N.Uj,j({ref:ue,linkClassName:p()("reader2-inbox-post",te.isSelected==null&&"hover-action-menu"),native:!0,isPadded:!1,newTab:!0},te)));function je({pub:te,logoUrl:ue,publisherName:we,children:me,highlights:Ee={}}){return h("div",{className:"reader2-post-head reader2-text-meta"},(te||ue)&&h(PubIcon,{className:"pub-logo",pub:te,logoUrl:ue,publicationName:we,size:20}),h("div",{className:"pub-name"},we||te&&h(NewTabHoverLink,{href:te.base_url,onClick:he=>he.stopPropagation()},highlightText(te.name,Ee["publication.name"]))),me)}function Je({value:te,className:ue}){return h("div",{className:classnames("timestamp",ue)},formatPostDate(te))}function Be({post:te,image:ue,metaText:we,highlights:me={},excerpt:Ee}){return h("div",{className:"reader2-post-body",onClick:()=>{const he=(window==null?void 0:window.location)&&new URL(window.location.href);he&&track(EVENTS.POST_SEARCH_RESULT_CLICKED,{post_id:te.id,query:decodeURIComponent(he.pathname.replace(/\/search\//g,""))})}},h(FlexColumn,{minWidth:0,gap:8},h("div",{className:"reader2-post-title reader2-clamp-lines"},highlightText(te.title,me.title||me["posts.title"],"extrabold")),te.description&&h(Paragraph,{variant:"secondary",isConstrained:!Ee},Ee?h(Text,{as:"span",fontStyle:"italic"},"\u201C...",highlightText(Ee,me.body_text,"extrabold"),"\u201D"):highlightText(decodeHtmlEntitiesFast(te.description),me.subtitle||me["posts.subtitle"],"extrabold")),we),ue)}function st({bylines:te,consumptionTime:ue,Icon:we,audienceBadge:me,showBestsellerBadge:Ee,post:he,highlights:xe,excerpt:Ve}){return h(Be,{post:he,metaText:h(ht,{bylines:te,consumptionTime:ue,Icon:we,audienceBadge:me,showBestsellerBadge:Ee,highlights:xe}),image:he.cover_image&&h(ot,{post:he}),highlights:xe,excerpt:Ve})}function ht({bylines:te,consumptionTime:ue,Icon:we,audienceBadge:me,showBestsellerBadge:Ee,highlights:he={}}){return h(ItemMeta,null,me&&h(Fragment,null,h("span",{className:"meta-audience-badge"},me),h(Xe,null)),te.length>0?h(Fragment,null,h(FormattedArray,{array:te,limit:3,formatter:xe=>Ee?h(gt,{name:xe.name||"",tier:xe.bestseller_tier,userId:xe.id}):highlightText(xe.name||"",he["publication.author_name"])}),ue&&h(Xe,null)):null,we&&h(Fragment,null,h(we,{className:"meta-icon tw-align-text-top"})," "),ue)}const gt=({name:te,tier:ue,userId:we})=>ue?h(FlexRow,{inline:!0,gap:4,alignItems:"center"},te," ",h(UserBadge,{userId:we,tier:ue,size:"sm"})):h(Fragment,null,te),Xe=()=>h("span",{className:"meta-bullet"},"\u2219");function Re(te){var ue,we;return(ue=te==null?void 0:te.duration_metadata)!=null&&ue.audio_duration?"podcast":te.video_id&&((we=te==null?void 0:te.duration_metadata)!=null&&we.video_duration)?"video":"newsletter"}function Ne(te){const{comment_count:ue,podcast_duration:we,wordcount:me,videoUpload:Ee}=te;let he,xe;const Ve=(0,M.z)(te);if(Ve==="podcast")he=we/60,xe="listen";else if(Ve==="video")he=Ee.duration/60,xe="watch";else{if(Ve==="thread")return ue>0?`${ue.toLocaleString()} replies`:"Thread";if(me!=null&&me>0)he=me/220,xe="read";else return null}return`${Math.max(Math.round(he),1).toLocaleString()} min ${xe}`}function ke(te){var ue;let we,me;const Ee=Re(te);if(Ee==="podcast")we=te.duration_metadata.audio_duration/60,me="listen";else if(Ee==="video")we=te.duration_metadata.video_duration/60,me="watch";else if((((ue=te==null?void 0:te.duration_metadata)==null?void 0:ue.word_count)||0)>0)we=te.duration_metadata.word_count/220,me="read";else return null;return`${Math.max(Math.ceil(we),1).toLocaleString()} min ${me}`}function ot({post:te,size:ue=132,square:we,className:me}){const Ee=te.cover_image,he=(0,M.z)(te),xe=ue,Ve=he==="podcast"||we?ue:200,[Pe,Ie]=(0,i.eJ)(null);return Pe?null:(0,t.h)("div",{className:p()("reader2-post-picture-container",me)},(0,t.h)(N.t5,{className:p()("reader2-post-picture",he),src:Ee,width:Ve,height:xe,loading:"lazy",noStyle:!we,onError:ze=>Ie(ze)}),(he==="podcast"||he==="video")&&(0,t.h)("div",{className:"reader2-picture-overlay"},(0,t.h)(S.x,{className:"picture-play"})))}function Dt(te){return te==="podcast"?AudioIcon:te==="video"?VideoIcon:te==="thread"?ThreadIcon:null}const ln=20;function ct(te){return h(UnstyledButton,j({className:"reader2-post-action-button"},te))}function Oe({isActive:te}){return h(Heart,{className:classnames("reader2-post-action-heart",te&&"isActive"),size:ln})}function Se({isActive:te}){return h(Comment,{size:ln})}function Ze({isActive:te}){return h(Flag,{size:ln})}function Fe({isActive:te}){return h(Bookmark,{className:classnames("reader2-post-action-bookmark",te&&"isActive"),size:ln})}function Ke({text:te}){return h(LinkRow,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},h(RoundedInformationIcon,{className:"reader2-info-card-icon"}),h(Text,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},te))}function et(){return h(Archive,{size:ln,className:"inbox-item-action-icon reader2-post-action-archive"})}function Qe(){return h(Link,{size:ln,className:"inbox-item-action-icon reader2-post-action-copy"})}function $e(){return h(Fragment,null,Array(6).fill(0).map(()=>h(Te,null)))}function Te(){const te=useMobile();return h(LinkRow,{isPadded:!1},h(FlexColumn,{flex:"grow",gap:12,padding:te?8:12},h(FlexBox,{gap:12,alignItems:"center"},h(Placeholder,{size:24,style:{borderRadius:6}}),h(Placeholder,{type:"bar",maxWidth:120,className:"tw-grow"}),h(Placeholder,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),h("div",{className:"reader2-post-body"},h(FlexColumn,{minWidth:0,gap:4},h(Placeholder,{type:"bar",width:"70%"}),h(Placeholder,{type:"bar",width:"80%"}),h(Placeholder,{type:"bar",width:"50%"})),h(Placeholder,{width:te?64:160,height:te?64:120,style:{borderRadius:6}}))))}},33812:(K,f,e)=>{"use strict";e.d(f,{wg:()=>Ce});var t=e(6400),a=e(30396),i=e(94184),c=e(3312),p=e(28175),l=e(99869),v=e(71212),_=e(80569),g=e(77883),E=e(95582),S=e(35616),O=e(2731),A=e(82771),u=e(81470),o=e(15045),s=e(70444),w=e(20501),P=e(83322),C=e(78041),x=e(48963),D=e(53668),y=e(68227),M=e(66839),T=e(96733),R=e(59736),F=e(81243),N=e(63861),U=e(69427),V=e(25877),W=e(4190),L=e(58718),k=e(92643),H=e(67963),G=e(69371),q=e(69518),z=e(60779),ee=e(40527),$=e(56411),J=e(59386),j=e(3258),Z=e(8479),ne=e(11533),ie=e(39419),oe=e(84040),re=e(51126),ae=e(76235),se=e(43887),fe=e(75425),le=e(92630),Ae=e(95297),De=e(10186),je=e(91870),Je=e(68493),Be=e(11688),st=e(50292),ht=e(33510),gt=e(4263),Xe=e(7922),Re=e(96789),Ne=e(13045);const ke={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--CTUTF",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--eMrhr"};var ot=(wt,Lt,mt)=>new Promise((Mt,Jt)=>{var pn=Un=>{try{Fn(mt.next(Un))}catch(Gt){Jt(Gt)}},An=Un=>{try{Fn(mt.throw(Un))}catch(Gt){Jt(Gt)}},Fn=Un=>Un.done?Mt(Un.value):Promise.resolve(Un.value).then(pn,An);Fn((mt=mt.apply(wt,Lt)).next())});function Dt({userId:wt,surface:Lt,onClose:mt,onReportSuccess:Mt}){const Jt=useRef(),pn=()=>{var Qn;return(Qn=Jt==null?void 0:Jt.current)==null?void 0:Qn.close()};useEffect(()=>{var Qn;(Qn=Jt==null?void 0:Jt.current)==null||Qn.open()},[!!Jt.current]);const An=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[Fn,Un]=useState(null),[Gt,Zt]=useState(!1),_n=Qn=>ot(this,null,function*(){if(!Qn){alert("Please enter a reason!");return}Zt(!0);try{yield request.post(`/api/v1/user/${wt}/report`).send({userId:wt,reason:Qn,surface:Lt}),pn(),Mt(),Zt(!1),Qn==="violation"&&(location.href=getHcProfileViolationFormUrl(wt))}catch(At){Zt(!1),alert(getNetworkErrorMessage(At))}});return h(PopupModal,{ref:Jt,onClose:mt},h(FlexColumn,{padding:24,gap:8},h(Text.H3,null,"Report profile"),h(Text.Detail,null,"Why are you reporting this profile?"),h(EmphasisBox,null,h(FlexColumn,{gap:4},An.map(({value:Qn,label:At})=>h("label",{className:css.reasonRow},h(Text,{className:css.reasonLabel},At),h("input",{type:"radio",name:"reason",value:Qn,onInput:()=>Un(Qn)}))))),h(FlexRow,null,h(Text.Detail,null,"Substack ",h("a",{href:"/content"},"Content Guidelines"))),h(FlexRow,{style:{flexDirection:"row-reverse"}},h(Button,{className:"primary",onClick:()=>_n(Fn),disabled:Fn===null||Gt},h("span",null,Gt?"Loading...":Fn==="violation"?"Proceed":"Submit")),h(Button,{className:"secondary",onClick:pn},h("span",null,"Cancel")))))}var ln=e(68262),ct=e(79167),Oe=e(20533),Se=e(38497),Ze=e(4948),Fe=e(44396),Ke=e(70762);const et={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--uQnv7",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--D8_VN",profileRow:"frontend-reader2-ProfilePage-module__profileRow--eeceW",profileImage:"frontend-reader2-ProfilePage-module__profileImage--UGMJ2",stat:"frontend-reader2-ProfilePage-module__stat--rf1FK",avatar:"frontend-reader2-ProfilePage-module__avatar--fwwNi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--mkhra",page:"frontend-reader2-ProfilePage-module__page--m0EUw",grid:"frontend-reader2-ProfilePage-module__grid--yXlQ6",pubMain:"frontend-reader2-ProfilePage-module__pubMain--uGuNF",pub:"frontend-reader2-ProfilePage-module__pub--JVugC"};var Qe=Object.defineProperty,$e=Object.defineProperties,Te=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,me=(wt,Lt,mt)=>Lt in wt?Qe(wt,Lt,{enumerable:!0,configurable:!0,writable:!0,value:mt}):wt[Lt]=mt,Ee=(wt,Lt)=>{for(var mt in Lt||(Lt={}))ue.call(Lt,mt)&&me(wt,mt,Lt[mt]);if(te)for(var mt of te(Lt))we.call(Lt,mt)&&me(wt,mt,Lt[mt]);return wt},he=(wt,Lt)=>$e(wt,Te(Lt)),xe=(wt,Lt)=>{var mt={};for(var Mt in wt)ue.call(wt,Mt)&&Lt.indexOf(Mt)<0&&(mt[Mt]=wt[Mt]);if(wt!=null&&te)for(var Mt of te(wt))Lt.indexOf(Mt)<0&&we.call(wt,Mt)&&(mt[Mt]=wt[Mt]);return mt},Ve=(wt,Lt,mt)=>new Promise((Mt,Jt)=>{var pn=Un=>{try{Fn(mt.next(Un))}catch(Gt){Jt(Gt)}},An=Un=>{try{Fn(mt.throw(Un))}catch(Gt){Jt(Gt)}},Fn=Un=>Un.done?Mt(Un.value):Promise.resolve(Un.value).then(pn,An);Fn((mt=mt.apply(wt,Lt)).next())});const Pe=(0,o.getProfileSetupUrl)({utm_source:"substack"}),Ie="profile-page-feed";function ze({id:wt,subpath:Lt,initialData:{profileSubscribeOnTransit:mt=!1}}){var Mt;const Jt=useUser(),pn=useRef(null),An=useMobile(),Fn=useToast();let Un,Gt;wt.includes("-")?(Un=Le(wt),Gt=It(wt)):Un=wt;const{subjectProfile:Zt,error:_n}=useProfile({subjectId:Un,subjectName:Gt}),Qn=useUserBlockStatus(Zt==null?void 0:Zt.id),At=Qn==="blocked"||Qn==="blocking",fn=!!(Zt!=null&&Zt.profile_set_up_at),gn=Zt&&Zt.id===(Jt==null?void 0:Jt.id),Mn=(Zt==null?void 0:Zt.subscriptions)||[],Wn=(Zt==null?void 0:Zt.primaryPublication)&&((Mt=Zt.publicationUsers.find(Qr=>{var Eo;return Qr.publication_id===((Eo=Zt==null?void 0:Zt.primaryPublication)==null?void 0:Eo.id)}))==null?void 0:Mt.publication),rr=!!(Wn&&(Zt!=null&&Zt.isSubscribed)),Zn=useFeedFollowState(Zt,"profile"),ur=(Zt==null?void 0:Zt.max_pub_tier)===2;useEffect(()=>{var Qr;(Qr=new URL(document.location.href).searchParams)!=null&&Qr.has("invite")?redirect("/app",{local_navigation:!1}):Zt&&(track(EVENTS.PROFILE_VISITED,{profile_user_id:Zt.id,is_set_up:fn,is_self:gn,has_name:!!Zt.name,has_photo:!!Zt.photo_url,has_bio:!!Zt.bio,has_twitter:!!Zt.twitterAccount,reads_count:Mn.length,writes_count:Zt.publicationUsers.length,subscribe_cta_publication_id:!rr&&(Wn==null?void 0:Wn.id)}),mt&&(removeQueryParam("subscribed"),Fn.popToast(Eo=>h(Toast,he(Ee({},Eo),{text:`Subscribed to ${(Wn==null?void 0:Wn.name)||Zt.name||"user"}`,Icon:Check})))))},[wt]),useEffect(()=>{var Qr;(Qr=new URL(document.location.href).searchParams)!=null&&Qr.has("follow")&&Zt&&Zn.isLoaded&&(removeQueryParam("follow"),!gn&&!Zn.isFollowing&&Zn.toggle())},[wt,Zt,Zn.isLoaded]);const[{url:Ar}]=useRouter(),io=Gn(Ar)?Ie:"profile-page";return _n?h(Page,{className:css.page},setMetaData({title:"Profile not found"}),h(FlexBox,{paddingY:64,flex:"grow"},h(ZeroBox,{icon:h(AlertCircle,null),title:"Profile not found",text:"We couldn't load this profile.",action:h(Button,{priority:"secondary",href:getDiscoverSearchUrl()},"Search")}))):Zt?h(FlexColumn,{style:{maxWidth:640},flex:"grow",minWidth:0},setMetaData({title:`${Zt.name||"<no name>"} | Substack`,description:Zt&&Zt.bio,image:Zt&&Zt.photo_url&&imginary(Zt.photo_url),seoProps:{noindex:!(ur&&(Zt.photo_url||Zt.bio||fn))}}),h(ShareDialog,{ref:pn,medium:"profile-page",user:Jt,profile:Zt,onClick:Qr=>Qr.preventDefault()}),h(Vr,{profile:Zt}),h(FlexColumn,null,h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},h(Vn,{profile:Zt,primaryPublication:Wn,yourProfile:!!gn,user:Jt,showCTAs:!At,subscribeButton:!gn&&Wn&&!At&&h(pt,{user:Jt,profile:Zt,primaryPublication:Wn,subscriptionSource:io})}),Zt.publicationUsers.length>0&&!At&&h(en,{isMobile:An,profile:Zt,primaryPublication:Wn,subscriptionSource:io}),Qn==="blocked"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`${Zt.name||"They"} blocked you`,text:`You are blocked from subscribing to ${Zt.name||"them"} and their publications`})),Qn==="blocking"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`You blocked ${Zt.name||"them"}`,text:"You can manage your blocks in your account settings.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Account settings")}))),!At&&!!Zt.name&&h($t,{subscriptions:Mn,profile:Zt,subpath:Lt})),!fn&&gn&&h(PageCenter,null,h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(ProfileIcon,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Set up profile")})))):h(tt,null)}const tt=()=>{const wt=useMobile();return h(FlexColumn,{style:{maxWidth:600},flex:"grow"},h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Placeholder,{type:"circle",size:wt?96:112}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",height:40,width:100}))),h(Placeholder,{type:"bar",height:32,width:120}),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Placeholder,{type:"bar",height:20,width:"70%"}),h(Placeholder,{type:"bar",height:20,width:"80%"}),h(Placeholder,{type:"bar",height:20,width:"30%"}))))};function Le(wt){const Lt=wt.split("-");return Lt.length?parseInt(Lt[0]):-1}function It(wt){const Lt=wt.split("-");return Lt.length?Lt.slice(1).join("-"):""}function on({profile:wt}){var Lt;useEffect(()=>{track(EVENTS.FEED_PROFILE_SCREEN_VIEWED)},[]);const mt=useUnifiedHome(),[Mt,Jt]=useThunkReducer(reduceFeed,defaultFeedState),{canFetchMore:pn,lastPage:An,fetchMore:Fn,hasLoadedOnce:Un}=useInfiniteFetch({pathname:`/api/v1/reader/feed/profile/${wt.id}`,query:Ee({},parseQuery(document.location.href)),getPageInit:({lastPage:fn,init:gn})=>{var Mn;const Wn=(Mn=fn==null?void 0:fn.result)==null?void 0:Mn.nextCursor;return Wn&&(gn.query=he(Ee({},gn.query),{cursor:Wn})),gn},auto:!0,deps:[wt.id],pages:Mt.pages,dispatch:Jt}),Gt=pn&&!!((Lt=An==null?void 0:An.result)!=null&&Lt.nextCursor),{bodyRef:Zt}=useInfiniteScroll(Fn,[An],{shouldCheck:Gt,threshold:640}),_n=Mt.pages.map(fn=>{var gn;return((gn=fn.result)==null?void 0:gn.items)||[]}).flat(),Qn=useUser(),At=wt&&wt.id===(Qn==null?void 0:Qn.id);return useEffect(()=>{var fn;((fn=An==null?void 0:An.result)==null?void 0:fn.items.length)==0&&Gt&&Fn()},[An]),h(FeedProvider,{surface:FeedSurface.Profile,dispatch:Jt,state:Mt},h(FlexColumn,{ref:Zt},h(MuteFreeZoneContextProvider,null,_n.map(fn=>h(FeedItem,{item:he(Ee({},fn),{publication:fn.publication?Mt.publications.get(fn.publication.id):fn.publication,post:fn.post?Mt.posts.get(fn.post.id):fn.post,comment:fn.comment?Mt.comments.get(fn.comment.id):fn.comment,parentComments:fn.parentComments?fn.parentComments.map(gn=>gn&&Mt.comments.get(gn.id)||null):fn.parentComments})}))),An!=null&&An.isLoading||!Un?h(LotsOfNotes,null):_n.length===0?h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${At?"You haven\u2019t":`${wt.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${At?"you":"they"} do, you\u2019ll see them here.`,action:h(Button,{priority:"secondary",href:getFeedUrl()},mt?"Explore more notes":"Visit Notes")})):null))}const zt=new Set(["posts","notes","reads"]);function $t({subscriptions:wt,profile:Lt,subpath:mt}){const[Mt,Jt]=useRouter(),pn=mt&&mt.slice(1),An=zt.has(pn)?pn:Lt.hasPosts?"posts":Lt.hasActivity?"notes":"reads",Fn=Un=>{Jt(`${getReaderProfileUrl(Lt,{noBase:!0})}/${Un}`,!0)};return h(FlexColumn,{flex:"fill",paddingX:{desktop:20,mobile:0}},h(Tabs,null,h(Tab,{value:"posts",currentValue:An,onClick:Fn},"Posts"),h(Tab,{value:"notes",currentValue:An,onClick:Fn},"Notes"),h(Tab,{value:"reads",currentValue:An,onClick:Fn},"Reads",wt.length>0&&` (${wt.length})`)),h(FlexColumn,{flex:"fill",paddingBottom:20},An==="notes"&&h(on,{profile:Lt}),An==="posts"&&h(Hn,{profile:Lt,userId:Lt.id}),An==="reads"&&h(In,{subscriptions:wt,profile:Lt})))}function Bt(wt){var Lt=xe(wt,[]);return h("div",Ee({className:css.grid},Lt))}function xn({profile:wt}){const Lt=useUser(),mt=wt&&wt.id===(Lt==null?void 0:Lt.id);return h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${mt?"You haven\u2019t":`${wt.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function Hn({profile:wt,userId:Lt}){const[Mt,Jt]=useState(0),[pn,An]=useState([]),{result:Fn,isLoading:Un}=useFetch({pathname:"/api/v1/profile/posts",query:{profile_user_id:Lt,offset:Mt,limit:12+1},auto:!0,deps:[Lt,Mt]});useLayoutEffect(()=>{Fn&&An(Mt===0?[Fn]:[...pn,Fn])},[Fn]);const Gt=useMemo(()=>({posts:pn.map(gn=>gn.posts.slice(0,12)).flat(),publicationMap:new Map(pn.map(gn=>gn.publications).flat().map(gn=>[gn.id,gn]))}),[pn]),Zt=pn[pn.length-1],_n=Zt&&Zt.posts.length>12,{bodyRef:Qn}=useInfiniteScroll(()=>{Jt(Mt+12)},[Gt,Un],{shouldCheck:_n&&!Un}),{posts:At,publicationMap:fn}=Gt;return h(FlexColumn,null,h(PageStack,{ref:Qn},Fn?At.length>0?At.map((gn,Mn)=>{const Wn=fn.get(gn.publication_id);if(Wn)return h(PostWithActions,{key:gn.id,post:gn,pub:Wn,isViewed:!0,isLiked:!!gn.reaction,isSaved:gn.is_saved,onClick:()=>track(EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:gn.id,tab:"new",rank_in_feed:Mn,source:"profile"}),utmSource:"profile"})}):h(xn,{profile:wt}):h(LotsOfPlaceholders,null),Un&&h(DrunkSpinner,null)))}function ir({url:wt,type:Lt,label:mt,verified:Mt,value:Jt}){var pn,An,Fn,Un;Jt=Jt.replace(/^@/,"");const Gt={twitter:{icon:h(TwitterIcon,{className:css.fillIcon,height:14}),label:"Twitter",verifiedIcon:h(Verified,{className:cn(css.fillIcon,css.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:h(FacebookIcon,{className:css.fillIcon,height:14}),label:"Facebook"},instagram:{icon:h(InstagramIcon,{className:css.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:h(LinkedinIcon,{className:css.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:h(YoutubeIcon,{className:css.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:h(TikTokIcon,{className:css.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:h(BookOpen,{className:css.fillIcon,height:16}),label:"Books",showUsername:!0}};return h(Button,{size:"small",allCaps:!0,newTab:!0,href:wt.startsWith("http")?wt:`http://${wt}`,rounded:!0,onClick:()=>{track(EVENTS.USER_LINK_CLICKED,{type:Lt,url:wt,label:mt})},outline:"none",priority:"secondary",leftIcon:((pn=Gt[Lt])==null?void 0:pn.icon)||h(Link,{size:14}),rightIcon:Mt&&((An=Gt[Lt])==null?void 0:An.verifiedIcon),className:Mt&&css.verified},(Fn=Gt[Lt])!=null&&Fn.showUsername?Jt:((Un=Gt[Lt])==null?void 0:Un.label)||mt)}function Vn({profile:wt,primaryPublication:Lt,yourProfile:mt,user:Mt,showCTAs:Jt,subscribeButton:pn}){const An=(wt==null?void 0:wt.name)||"<no name>",Fn=useMobile(),Un=Fn?Text.H2:Text.H1;return h(FlexColumn,{gap:20},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Kt,{profile:wt}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(be,{profile:wt,primaryPublication:Lt,yourProfile:mt,user:Mt,showCTAs:Jt}),pn)),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Un,null,An,h("span",{style:{whiteSpace:"nowrap",verticalAlign:Fn?"middle":void 0}},"\xA0",h(UserBadge,{tier:wt.bestseller_tier,userId:wt.id,inline:!0}))),h(_t,{profile:wt,yourProfile:mt}),wt.bio&&h(Et,{profile:wt})),wt.userLinks.length!==0&&h(FlexRow,{gap:12,wrap:"wrap",justifyContent:"start"},wt.userLinks.sort((Gt,Zt)=>Gt.type!==Zt.type?(Gt.type||"website")>(Zt.type||"website")?1:-1:Number(Gt.id)>Number(Zt.id)?1:-1).map(Gt=>h(ir,Ee({},Gt)))))}function _t({profile:wt,yourProfile:Lt}){const mt=useMobile(),Mt=useToast(),Jt=wt.handle||Lt,pn=()=>{copyToClipboard(getReaderProfileUrl(wt)),Mt.popToast(An=>h(Toast,he(Ee({},An),{text:"Link copied",Icon:Link})))};return h(FlexBox,{gap:8},Jt&&[wt.handle?h(Text.Meta,{as:"a",onClick:pn,style:{cursor:"pointer"},decoration:"hover-underline"},h(Tooltip,{text:"Copy link",disabled:mt},`@${wt.handle}`)):Lt&&h(Text.Meta,{color:"substack"},h(TextLink,{href:getEditProfileUrl({params:{utm_source:"handle-notification",[HANDLE_EDIT_MODAL_QUERY_PARAM]:!0}})},"New: Claim your handle")),h(Text.Meta,null," \xB7 ")],h(ut,{profile:wt}))}function ut({profile:wt}){return h(Text.Meta,{as:"a",href:getProfileConnectionsUrl(wt,null,{noBase:!0}),decoration:"hover-underline"},wt.subscriberCountString)}const Ce=({url:wt,twitterText:Lt,onLinkClicked:mt,comment:Mt})=>{const Jt=(0,fe.pm)(),pn=()=>{(0,ie.copyToClipboard)(wt),Jt.popToast(Gt=>(0,t.h)(fe.FN,he(Ee({},Gt),{text:"Link copied",Icon:l.Z}))),mt==null||mt("copy")},An=()=>{window.open((0,w.pathWithQuery)("https://twitter.com/share",{url:wt,text:Lt||""}),"_blank"),mt==null||mt("twitter")},Fn=()=>{window.open((0,w.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:wt}),"_blank"),mt==null||mt("facebook")},Un=()=>{Jt.popToast(Gt=>(0,t.h)(fe.FN,he(Ee({},Gt),{text:"Downloading image...",Icon:v.Z}))),mt==null||mt("download")};return[(0,t.h)(ae.sN,{icon:(0,t.h)(l.Z,null),onClick:pn},"Copy link"),Mt?(0,t.h)(ae.sN,{icon:(0,t.h)(v.Z,null),onClick:Un,href:(0,s.IY)(Mt.id),target:"_blank",download:!0},"Save as image"):(0,t.h)(t.Fragment,null),(0,t.h)(ae.sN,{icon:(0,t.h)(M.Z,null),onClick:An},"Share to Twitter"),(0,t.h)(ae.sN,{icon:(0,t.h)(y.Z,null),onClick:Fn},"Share to Facebook")]},be=({profile:wt,primaryPublication:Lt,yourProfile:mt,user:Mt,showCTAs:Jt})=>{const pn=useMobile();useNavContextAndTitle("",{backAction:!0});const An=useUserBlockMenuItems(wt,"profile"),[Fn,Un]=useState(!1),[Gt,Zt]=useState(!1);return h(FlexBox,{gap:8,direction:"row"},h(InviteFriendModal,{isOpen:Gt,utmSource:"profile-page",onClose:()=>Zt(!1)}),!mt&&h(Fragment,null,h(Menu,{trigger:h(IconButton,{fill:"outline"},h(MoreHorizontal,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Options"},An,h(MenuItem,{icon:h(Flag,null),priority:"destructive",onClick:()=>Un(!0)},"Report"),(Mt==null?void 0:Mt.is_global_admin)&&h(MenuItem,{icon:h(ExternalLink,null),priority:"destructive",onClick:()=>window.location.href=getUserUndergroundUrl(wt.id)},"Open in Underground")),Jt&&(Lt?h(We,{profile:wt}):h(qe,{profile:wt})),Fn&&h(ProfileReportModal,{userId:wt.id,surface:"profile",onClose:()=>Un(!1),onReportSuccess:()=>{}})),Jt&&h(Fragment,null,mt&&h(Fragment,null,h(IconButton,{fill:"outline",href:getEditProfileUrl()},h(Edit2,{size:20})),!(Mt!=null&&Mt.has_publication)&&!pn&&h(Button,{priority:"secondary",fill:"outline",href:getStartPublishingUrl(),localNavigation:!1,rounded:!0},"Create your Substack"),wt.profile_set_up_at?h(Button,{onClick:()=>Zt(!0),rounded:!0},"Invite friends"):h(Button,{href:Pe,localNavigation:!1,rounded:!0},"Set up profile"))))};function We({profile:wt}){const{isFollowing:Lt,buttonProps:mt,css:Mt}=useFollowButtonState(wt,"profile");return h(IconButton,Ee({fill:"outline"},mt),Lt?h(Fragment,null,h(FollowedIcon,{className:Mt.off}),h(UnfollowIcon,{className:Mt.on})):h(FollowIcon,null))}function qe({profile:wt}){const{isFollowing:Lt,buttonProps:mt}=useFollowButtonState(wt,"profile");return h(Button,Ee({priority:Lt?"secondary":"primary",fill:"outline",rounded:!0},mt),Lt?h(Fragment,null,h(FollowingLabel,null,"Following"),h(UnfollowLabel,null,"Unfollow")):wt.followsViewer?"Follow back":"Follow")}const Et=({profile:wt})=>h(Text.B4,null,h(Linkify,{options:{attributes:{rel:"nofollow ugc"}}},wt.bio)),en=({profile:wt,primaryPublication:Lt,isMobile:mt})=>{const Mt=useUser(),Jt=!!Mt,pn=wt.publicationUsers.filter(Un=>Un.publication.id!==(Lt==null?void 0:Lt.id)),An=wt&&wt.id===(Mt==null?void 0:Mt.id),Fn=!An&&Lt&&(Mt==null?void 0:Mt.primary_publication)&&(wt==null?void 0:wt.isSubscribed);return h(FlexColumn,{gap:16},Lt&&h(FlexColumn,{className:css.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:12,as:"a",href:getPubUrl(Lt,{signedIn:Jt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>trackPublicationVisit(Lt,"profile")},h(PublicationContainer,null,h(FlexBox,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},h(PubIcon,{pub:Lt,size:mt?56:64}),h(FlexColumn,{flex:"grow",minWidth:0,gap:4},h(Text.H4,{ellipsis:!0},Lt.name),h(PublicationAuthorText,{author:Lt.author,pub:Lt})),!mt&&Fn&&h(On,{user:Mt,recommendedPublication:Lt,userPublication:Mt==null?void 0:Mt.primary_publication})),Lt.hero_text&&h(PublicationAbout,null,Lt.hero_text),mt&&Fn&&h(On,{user:Mt,recommendedPublication:Lt,userPublication:Mt==null?void 0:Mt.primary_publication}),!An&&(Mt==null?void 0:Mt.is_author)&&(Mt==null?void 0:Mt.primary_publication)&&h(On,{recommendedPublication:Lt,userPublication:Mt==null?void 0:Mt.primary_publication}))),wt.publicationUsers.length>1&&h(Bt,null,pn.map(Un=>h(pr,{key:Un.id,pub:Un.publication,subtitleType:"writer",signedIn:Jt}))))};function In({subscriptions:wt,profile:Lt}){const mt=useUser(),Mt=Lt.id===(mt==null?void 0:mt.id);return wt.length===0?h(FlexBox,{paddingY:64,flex:"grow"},Mt?Lt.hasHiddenPublicationUsers?h(Zero,{icon:h(HideIcon,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:h(Button,{priority:"secondary",href:getEditProfileUrl()},"Edit profile")}):h(Zero,{icon:h(BookOpen,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:h(Button,{priority:"secondary",href:getDiscoverCategoryUrl()},"Get started")}):h(Zero,{icon:h(Library,null),title:`${Lt.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):h(FlexColumn,{flex:"fill",gap:{desktop:8,mobile:0},padding:8},wt.map(Jt=>h(qn,{key:Jt.id,subscription:Jt})))}function qn({subscription:wt}){const{getExperimentVariant:Lt,exposeExperiment:mt}=useExperiments(),Mt=wt.is_founding?"founder":wt.membership_state==="subscribed"?"subscribed":null,{publication:Jt}=wt,{author:pn}=Jt,An=useSubscriptionController({publication:Jt,subscriptionSource:"profile-subscriptions"});return h(FlexRow,{as:"a",href:getPubUrl(Jt),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:css.readsRow,minWidth:0,flex:"grow"},h(PubIcon,{pub:Jt,size:40,badgeType:Mt}),h(FlexColumn,{flex:"grow",minWidth:0,size:14},h(Text.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:getPubUrl(Jt)},Jt.name),pn&&h(Text.B4,{ellipsis:!0,color:"secondary"},"by ",pn.name)),An.isSubscribed?h(cr,{onUnsubscribe:An.unsubscribe,publication:Jt,button:h(Button,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")}):h(Button,{fill:"outline",priority:"primary",size:"small",onClick:An.subscribe},h(FlexRow,{alignItems:"center",gap:8},h(PlusIcon,{size:20}),"Subscribe")))}function cr({onUnsubscribe:wt,publication:Lt,button:mt}){const Mt=useConfirm(),Jt=()=>Ve(this,null,function*(){Mt.isConfirming||(yield Mt.confirm())&&wt()});return h(Fragment,null,h(ConfirmModal,{modal:Mt,title:`Unsubscribe from ${Lt.name}?`,body:"You can resubscribe at any time.",cancelLabel:"Cancel",confirmLabel:"Unsubscribe"}),h(Menu,{trigger:mt},h(MenuItem,{icon:h(Settings,null),target:"_blank",href:getPubAccountSettingsUrl(Lt,{addBase:!0})},"Manage subscription"),h(MenuItem,{icon:h(X,null),onClick:Jt,priority:"destructive"},"Unsubscribe")))}const pr=({pub:wt,subtitleType:Lt})=>{const mt=!!useUser(),Mt=["subscribed","founder"].includes(Lt)?Lt:null;return h(Fragment,null,h("a",{className:css.pub,href:getPubUrl(wt,{signedIn:mt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>trackPublicationVisit(wt,"profile")},h(FlexBox,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},h(PublicationCard,{pub:wt,subtitle:wr[Lt],badgeType:Mt,surface:"profile"}))))},wr={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},Vr=({profile:wt})=>h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jsesc(getProfileStructuredData(wt),{json:!0,isScriptContext:!0})}}),On=({recommendedPublication:wt,userPublication:Lt})=>{const[mt,Mt]=useState(!1),[Jt,pn]=useState(!1),An=useMobile(),{popToast:Fn}=useToast(),{result:Un,hasLoadedOnce:Gt}=useFetch({pathname:`/api/v1/recommendations/from/${Lt.id}/to/${wt.id}`,auto:!0,deps:[Lt.id,wt.id]});useEffect(()=>{const _n=!!(Un!=null&&Un.recommended_publication_id);pn(_n),Jt!==_n&&pn(_n)},[Gt,Un]);const Zt=_n=>Ve(void 0,null,function*(){Mt(!0);try{_n.preventDefault(),Jt?(yield request.delete("/api/v1/recommendations").send({recommended_publication_id:wt.id,recommending_publication_id:Lt.id,source:"profile"}),Fn(Qn=>h(Toast,he(Ee({},Qn),{text:"Recommendation removed"})))):(yield request.put("/api/v1/recommendations").send({recommended_publication_id:wt.id,recommending_publication_id:Lt.id,source:"profile",suggested:!1}),Fn(Qn=>h(Toast,he(Ee({},Qn),{text:`Recommended ${wt.name}`})))),pn(!Jt)}catch(Qn){Fn(At=>h(Toast,he(Ee({},At),{text:"Something went wrong. Please try again.",Icon:X})))}Mt(!1)});return Jt?h(Button,{priority:"secondary",fill:"outline",onClick:Zt,disabled:mt,rounded:!An},"Recommended"):h(Button,{priority:"primary",fill:"outline",onClick:Zt,disabled:mt||!Gt,rounded:!An},"Recommend")},pt=({user:wt,profile:Lt,primaryPublication:mt,subscriptionSource:Mt})=>{const Jt=useOnboardingHandler("profile"),[pn,An]=useState(Lt.isSubscribed),Fn=useSubscriptionController({publication:mt,subscriptionSource:"profile"}),{isLoading:Un,subscribe:Gt}=useOneClickSubscribe({publication:mt,profileId:Lt.id,source:Mt,onSuccess:()=>{An(!0)}});return pn?h(cr,{publication:mt,onUnsubscribe:()=>{Fn.unsubscribe(),An(!1)},button:h(Button,{priority:"secondary",rounded:!0},"Subscribed")}):Mt===Ie&&wt?h(Button,{priority:"primary",onClick:Zt=>{Zt.preventDefault(),Gt()},disabled:Un,rounded:!0},h(FlexRow,{alignItems:"center",gap:8},h(PlusIcon,{size:20}),"Subscribe")):h(Button,{priority:"primary",href:getSubscribeUrl(mt,{user:wt,addBase:!0,params:{next:document.location.href,utm_source:Mt,utm_medium:"web",utm_campaign:"profile_page",just_signed_up:!0}}),onClick:Jt(mt,Lt),rounded:!0},h(FlexRow,{alignItems:"center",gap:8},h(PlusIcon,{size:20}),"Subscribe"))},hn=({profile:wt,includeTopPadding:Lt})=>{const mt=wt.publicationUsers.filter(pn=>pn.public).length,Mt=wt.primaryPublication&&`Writes ${wt.primaryPublication.name}
${mt>1?` and ${pluralize(mt-1,"other publication")}`:""}`,Jt=wt!=null&&wt.handle?Mt?`@${wt.handle} \u2022 ${Mt}`:`@${wt.handle}`:Mt;return h(FlexColumn,{paddingTop:Lt?16:void 0,paddingBottom:16},h(FlexRow,{gap:12,alignItems:wt.bio?"start":"center",className:css.profileRow,padding:8,radius:12,onClick:()=>{window.location.href=getReaderProfileUrl(wt)}},h(Avatar,{user:wt,size:48}),h(FlexColumn,null,h(Text.H4,null,wt.name||"<unset>"),Jt&&h(Text.B4,{color:"secondary"},Jt),h(Text.B4,{paddingTop:4},wt.bio))))},Dn=null;function Gn(wt){var Lt;const mt=(Lt=new URL(wt,"https://monograph.dev").searchParams)==null?void 0:Lt.get("utm_source");return mt&&Dn.includes(mt)}function Kt({profile:wt}){const[Lt,mt]=useState(!1),Mt=getUserPhotoUrl(wt),Jt=useMobile();return h(FlexBox,{style:{cursor:"pointer"},onClick:()=>mt(!0),className:css.avatar},h(Avatar,{size:Jt?96:112,user:wt}),h(LazyComponent,{module:"../components/ImageViewerModal",resolve:pn=>pn.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:Lt,modalContent:[{src:Mt,attrs:{src:Mt}}],onClose:()=>{mt(!1)},step:0,includeDownloadButton:!1}))}},68262:(K,f,e)=>{"use strict";e.d(f,{F:()=>g});var t=e(6400),a=e(94184),i=e.n(a),c=e(51126),p=e(6378),l=e(64234),v=e(55886);const _={custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function g({pub:E,logoUrl:S,publicationName:O,size:A=196,title:u,className:o,imgClassName:s,badgeType:w,belowTheFold:P}){var C;return E&&!S&&(S=(0,p.getLogo)(E)),E&&!O&&(O=E.name||E.subdomain),(0,t.h)(c.hs,{className:o,position:"relative",title:u,style:{width:A,height:A}},S?(0,t.h)(v.t,{className:i()(_.custom,s),src:S,size:A,alt:O,loading:P?"lazy":void 0}):(0,t.h)("span",{className:i()(_.placeholder,s),style:{width:A,height:A,backgroundColor:E&&(((C=E==null?void 0:E.theme)==null?void 0:C.background_pop_color)||(E==null?void 0:E.theme_var_background_pop)||null),color:null}},O==null?void 0:O[0]),w&&(0,t.h)(l.A,{className:"reader2-pub-badge",type:w,accentColor:E&&E.theme_var_background_pop}))}},79167:(K,f,e)=>{"use strict";e.d(f,{i:()=>z});var t=e(6400),a=e(94184),i=e(15045),c=e(67963),p=e(3258),l=e(84606),v=e(51126),_=e(43887),g=e(50292),E=e(5131),S=e(33510),O=e(4263),A=e(68262),u=e(40172),o=e(72307);const s={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--K7AwJ"};var w=Object.defineProperty,P=Object.defineProperties,C=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,M=(ee,$,J)=>$ in ee?w(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:J}):ee[$]=J,T=(ee,$)=>{for(var J in $||($={}))D.call($,J)&&M(ee,J,$[J]);if(x)for(var J of x($))y.call($,J)&&M(ee,J,$[J]);return ee},R=(ee,$)=>P(ee,C($)),F=(ee,$)=>{var J={};for(var j in ee)D.call(ee,j)&&$.indexOf(j)<0&&(J[j]=ee[j]);if(ee!=null&&x)for(var j of x(ee))$.indexOf(j)<0&&y.call(ee,j)&&(J[j]=ee[j]);return J};function N(ee){var $=ee,{pub:J,subscribeButtonStyle:j,className:Z,onClick:ne}=$,ie=F($,["pub","subscribeButtonStyle","className","onClick"]);const oe=!!useUser();return h(LinkRow,{linkClassName:classnames("reader2-pub-link",Z),href:getPubUrl(J,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:oe}),newTab:j!=null,onClick:ne},h(U,R(T({},ie),{pub:J,subscribeButtonStyle:j})))}function U({pub:ee,author:$,subscribeButtonStyle:J,surface:j,highlights:Z={},highlightedPost:ne}){var ie;const oe=($==null?void 0:$.name)||ee.author_name||((ie=ee.author)==null?void 0:ie.name)||ee.name,re=!!useUser();return h(V,null,h(L,{className:"head",pub:ee,subtitle:h("span",null,"By ",highlightText(oe,Z.author_name)),subscribeButtonStyle:J,surface:j,highlights:Z}),(ee.editorial_bio||ee.hero_text)&&h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},ee.editorial_bio||highlightText(ee.hero_text,Z.hero_text)),ne&&h("a",{target:"_blank",rel:"noopener",href:getPostUrl(ee,ne,{signedIn:re})},h(Box,{border:"detail",padding:12,radius:6,shadow:"md"},h(PostBody,{highlights:Z,post:ne}))),ee.rankingDetail&&h(Text.Meta,null,ee.rankingDetailFreeSubscriberCount))}function V(ee){return h(FlexBox,T({className:"reader2-pub-link",gap:12},ee))}function W({children:ee}){return h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},ee)}function L({pub:ee,subtitle:$,subscribeButtonStyle:J=null,isSubscribed:j,className:Z,badgeType:ne,surface:ie,highlights:oe={}}){const re=useUser();return h(FlexBox,{gap:12,flex:"grow",minWidth:0,className:Z},h(PubIcon,{className:"logo",pub:ee,size:40,badgeType:ne}),h(FlexColumn,{minWidth:0,flex:"grow"},h(Text.B4,{weight:"semibold",ellipsis:!0},highlightText(ee.name,oe.name,"extrabold")),h(Text.B4,{color:"secondary",ellipsis:!0},$)),j?h(FlexBox,{className:css.checkmarkWrapper,alignItems:"center",justifyContent:"center"},h(Check,{size:16,stroke:"var(--color-tertiary)"})):J&&h(k,{pub:ee,user:re,buttonStyle:J,surface:ie}))}function k({pub:ee,user:$,buttonStyle:J,surface:j}){const Z=useSubscriptionsContext(),ne=z(j)(ee);return h(Button,{variant:"primary",look:J==="big"?"round":"circle",size:"small",hasLeftIcon:J==="big",newTab:!0,href:getSubscribeUrl(ee,{addBase:!0,user:$,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:ie=>{if(ie.stopPropagation(),$){const oe="visibilitychange",re=()=>{document.visibilityState==="visible"&&(Z.refetch(),document.removeEventListener(oe,re))};document.addEventListener(oe,re)}ne(ie)}},J==="big"?h(Fragment,null,h("div",{className:"reader2-button-icon-circle"},h(Plus,{size:12,strokeWidth:3})),"Subscribe"):h(Fragment,null,h(Plus,{size:20})))}function H(ee){var $;return ee.author_name||(($=ee.author)==null?void 0:$.name)}function G({pub:ee,author:$}){const J=($==null?void 0:$.name)||H(ee);return h(Text.B4,null,"By ",J)}function q({className:ee}){return h(LinkRow,{linkClassName:classnames("reader2-pub-link",ee)},h("div",{className:"reader2-publication-card"},h(Placeholder,{size:48}),h("div",{className:"meta",style:{gap:8}},h(Placeholder,{type:"bar",width:120}),h(Placeholder,{type:"bar",width:80}))),h("div",{className:"body"},h(Placeholder,{type:"bar",width:"90%"}),h(Placeholder,{type:"bar",width:"100%"}),h(Placeholder,{type:"bar",width:"80%"})))}function z(ee){const $=(0,c.aF)(),{onboardingModalRef:J}=(0,g.SJ)();return(j,Z)=>ne=>{var ie,oe;if(!$){if(!J.current)return;ne.preventDefault(),Z?(ie=J.current)==null||ie.openForPub(j,Z):(oe=J.current)==null||oe.openToPubSignup(j);return}(0,p.x6)(j,ee)}}},44695:(K,f,e)=>{"use strict";e.d(f,{GF:()=>q,Sm:()=>U,Sz:()=>G});var t=e(6400),a=e(94184),i=e.n(a),c=e(25380),p=e(15045),l=e(83322),v=e(67963),_=e(3258),g=e(8479),E=e(84040),S=e(48960),O=e(51126),A=e(94016),u=e(43887),o=e(95297),s=e(10186),w=e(33510),P=e(68262),C=e(79167),x=e(27797),D=Object.defineProperty,y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,R=(z,ee,$)=>ee in z?D(z,ee,{enumerable:!0,configurable:!0,writable:!0,value:$}):z[ee]=$,F=(z,ee)=>{for(var $ in ee||(ee={}))M.call(ee,$)&&R(z,$,ee[$]);if(y)for(var $ of y(ee))T.call(ee,$)&&R(z,$,ee[$]);return z},N=(z,ee)=>{var $={};for(var J in z)M.call(z,J)&&ee.indexOf(J)<0&&($[J]=z[J]);if(z!=null&&y)for(var J of y(z))ee.indexOf(J)<0&&T.call(z,J)&&($[J]=z[J]);return $};const U=z=>{var ee=z,{publication_id:$,inline:J,utmSource:j}=ee,Z=N(ee,["publication_id","inline","utmSource"]);const{result:ne,refetch:ie}=(0,g.ib)({pathname:`/api/v1/publication/public/${$}`,auto:!1,deps:[$]}),oe=(0,v.aF)();return(0,t.h)(A.z,F({className:i()(x.Z.publicationHoverCardTarget,J&&x.Z.inline),content:ne?(0,t.h)(V,{result:ne,utmSource:j}):(0,t.h)(H,null),onFetch:ie,layerClassName:x.Z.publicationHoverCard},Z))};function V({result:z,utmSource:ee}){const{pub:$}=z,J=(0,v.aF)();(0,_.j)(_.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:$.id});let j=$.contributors,Z=null;j&&j.length>3&&(Z=`See all (${(0,l.numberToString)(j.length)})`,j=j.slice(0,3));const ne=`${$.base_url}?utm_source=${ee}`;return(0,t.h)(O.tu,{gap:16,padding:8},(0,t.h)(O.gq,null,(0,t.h)("a",{href:ne},(0,t.h)(P.F,{pub:z.pub,size:56}))),(0,t.h)(O.tu,{gap:6},(0,t.h)(G,{title:z.pub.name,handle:void 0,blurb:z.pub.hero_text,url:z.pub.base_url}),$.rankingDetail&&$.rankingDetailFreeSubscriberCount&&(0,t.h)(u.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},$.rankingDetailFreeSubscriberCount.toUpperCase())),(0,t.h)(O.tu,null,(0,t.h)(W,{isContr:z.isContributor,isSubs:z.isSubscribed,pub:z.pub,user:J,dashboardUrl:z.pub.base_url,utmSource:ee})),(0,t.h)(S.i,null),(0,t.h)(O.tu,null,(0,t.h)(L,{contributors:j,seeAllLabel:Z,redirLink:z.pub.base_url,utmSource:ee})))}function W({isContr:z,isSubs:ee,pub:$,user:J,dashboardUrl:j,utmSource:Z}){const ne=(0,C.i)("profile");return(0,t.h)(O.tu,null,z?(0,t.h)(t.Fragment,null,(0,t.h)(E.zx,{priority:"secondary",fill:"outline",href:`${j}/publish`},"Dashboard")):ee?(0,t.h)(E.zx,{priority:"secondary",fill:"outline",href:(0,p.getSubscribeUrl)($,{user:J,addBase:!0,utm_source:Z||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,t.h)(c.Z,null)},"Subscribed"):(0,t.h)(E.zx,{priority:"primary",href:(0,p.getSubscribeUrl)($,{user:J,addBase:!0,utm_source:Z|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:ne($)},"Subscribe"))}function L({contributors:z,seeAllLabel:ee,redirLink:$,utmSource:J}){return(0,t.h)(O.tu,null,(0,t.h)(q,{sectionTitle:"Written by",seeAllLabel:ee,link:`${$}/about?sort=people`}),(0,t.h)(O.tu,null,z.map(j=>(0,t.h)(k,{profile:j,utmSource:J}))))}function k({profile:z,utmSource:ee}){return(0,t.h)("a",{href:(0,p.getProfileUrlById)(z.user_id,z.name,{searchParams:{utm_source:ee}}),className:x.Z.hoverCardAvatar},(0,t.h)(s.qE,{user:z,size:32}),(0,t.h)(u.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},z.name))}function H(){return(0,t.h)(O.tu,{padding:8,gap:8},(0,t.h)(w.Vm,{size:56,style:{borderRadius:4}}),(0,t.h)(w.Vm,{type:"bar",width:"100%",height:20}),(0,t.h)(w.Vm,{type:"bar",width:"20%",height:20}),(0,t.h)(w.Vm,{type:"bar",width:"60%",height:20}))}function G({title:z,handle:ee,blurb:$,url:J,themed:j,bestsellerTier:Z,userId:ne}){return(0,t.h)(t.Fragment,null,(0,t.h)("a",{style:{textDecoration:"none"},href:J},(0,t.h)(u.xv.H3,{color:j?"pub-primary-text":"primary",className:x.Z.hoverCardTitle},z,!!Z&&!!ne&&(0,t.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,t.h)(o.s,{inline:!0,tier:Z,userId:ne,tooltipOnHover:!0,size:"md"})))),ee&&(0,t.h)(u.xv.Meta,null,`@${ee}`),$&&(0,t.h)(u.xv.B3,{color:j?"pub-secondary-text":"secondary",clamp:4},$))}function q({sectionTitle:z,seeAllLabel:ee,link:$}){return(0,t.h)(O.gq,{justifyContent:"space-between"},(0,t.h)(u.xv.Meta,{color:"secondary"},z),ee&&(0,t.h)("a",{className:x.Z.hoverCardSeeAll,href:$},(0,t.h)(u.xv.B4,{color:"accent-blue"},ee)))}},49037:(K,f,e)=>{"use strict";e.d(f,{zX:()=>j});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(13808),l=e(80587),v=e(99869),_=e(66298),g=e(18794),E=e(84035),S=e(75309),O=e(8479),A=e(26686),u=e(51126),o=e(76235),s=e(43887),w=e(4263),P=e(15045),C=e(36250),x=e(15748),D=e(84040),y=e(657),M=e(91870),T=e(33510),R=e(68262),F=e(44396);const N={scroll:"frontend-reader2-ReadingQueue-module__scroll--jzxim",cardWrapper:"frontend-reader2-ReadingQueue-module__cardWrapper--EaIxd",archived:"frontend-reader2-ReadingQueue-module__archived--P5qDo",link:"frontend-reader2-ReadingQueue-module__link--TLDdV",card:"frontend-reader2-ReadingQueue-module__card--nMUF1",cardBg:"frontend-reader2-ReadingQueue-module__cardBg--KZJ8x",cardText:"frontend-reader2-ReadingQueue-module__cardText--v05LD",iconButton:"frontend-reader2-ReadingQueue-module__iconButton--VxmEf",isSaved:"frontend-reader2-ReadingQueue-module__isSaved--FTHQH",pubIcon:"frontend-reader2-ReadingQueue-module__pubIcon--waq6Z"};var U=Object.defineProperty,V=Object.defineProperties,W=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,G=(se,fe,le)=>fe in se?U(se,fe,{enumerable:!0,configurable:!0,writable:!0,value:le}):se[fe]=le,q=(se,fe)=>{for(var le in fe||(fe={}))k.call(fe,le)&&G(se,le,fe[le]);if(L)for(var le of L(fe))H.call(fe,le)&&G(se,le,fe[le]);return se},z=(se,fe)=>V(se,W(fe)),ee=(se,fe,le)=>new Promise((Ae,De)=>{var je=st=>{try{Be(le.next(st))}catch(ht){De(ht)}},Je=st=>{try{Be(le.throw(st))}catch(ht){De(ht)}},Be=st=>st.done?Ae(st.value):Promise.resolve(st.value).then(je,Je);Be((le=le.apply(se,fe)).next())});function $(){const se=useMobile(),fe=useRef(null),le=useScrollArrows(fe,{inset:16,pageSizeAdjust:300}),Ae=useDispatch(),{posts:De,publications:je,inboxItems:Je}=useFeedState(),{data:Be,isLoading:st,error:ht,mutate:gt}=useSwrFetch("/api/v1/inbox/top",{massage:Ne=>ee(this,null,function*(){return Ae({type:"inbox_load",payload:Ne}),Ne})},{focusThrottleInterval:6e4}),Xe=useMemo(()=>{var Ne;return mapDefined((Ne=Be==null?void 0:Be.inboxItems)!=null?Ne:[],({uuid:ke})=>{const ot=Je.get(ke);if(ot){const Dt=De.get(ot.post_id),ln=Dt&&je.get(Dt.publication_id);if(Dt&&ln)return z(q({},ot),{post:Dt,publication:ln})}})},[Be,De,je,Je]),Re=Ne=>{Ae(ae(Ne))};return h(FlexBox,{position:"relative",flex:"auto",overflow:"hidden"},!se&&h(ArrowButton,{direction:"left",isVisible:le.state.showLeft,onClick:le.handleArrowClick(-1)}),h(ScrollBox,{className:css.scroll,scrollRef:fe,style:{height:"var(--card-height)"}},st?h(FlexBox,{paddingX:16,gap:8},Array(10).fill(null).map(()=>h(Z,null))):h(FlexBox,{paddingX:12},Xe.map(Ne=>h(J,{key:Ne.uuid,inboxItem:Ne,onArchive:Re})))),!se&&h(ArrowButton,{direction:"right",isVisible:le.state.showRight,onClick:le.handleArrowClick(1)}))}function J({inboxItem:se,onArchive:fe}){var le,Ae,De,je;const{post:Je,publication:Be}=se,{bgImage:st,palette:ht}=re({post:Je,publication:Be}),gt=(Ae=ne((le=ht==null?void 0:ht.Vibrant)==null?void 0:le.rgb,.66))!=null?Ae:"var(--color-bg-tertiary)",Xe=(je=ne((De=ht==null?void 0:ht.DarkVibrant)==null?void 0:De.rgb,.66))!=null?je:"var(--color-bg-tertiary)",{publishedBylines:Re}=Je,Ne=useSavePost(Je);return h(FlexBox,{className:classnames(css.cardWrapper,se.archived_at&&css.archived),sizing:"border-box",flex:"auto"},h("a",{className:css.link,href:getPostUrl(Be,Je,{noBase:!0,feedViewer:!0})},h(BlurBg,{className:css.card,overflow:"hidden",radius:"medium",cursor:"pointer",imageUrl:st,height:400,width:300},h(FlexBox,{className:css.cardBg,direction:"column",paddingTop:20,justifyContent:"space-between",flex:"grow",minWidth:0,style:{background:`linear-gradient(180deg, ${gt}, ${Xe})`}},h(FlexBox,{justifyContent:"center"},h(PubIcon,{pub:Be,size:140,imgClassName:css.pubIcon})),h(FlexColumn,{gap:12,className:css.cardText,padding:16},h(FlexColumn,{gap:2},h(Text,{color:"primary",weight:"semibold",size:14,clamp:2},Je.title),Re.length>0&&h(Text,{color:"secondary",size:12,ellipsis:!0},"By"," ",oe(mapDefined(Re,ke=>ke.name)))),h(j,{post:Je,publication:Be,onSave:Ne},h(MenuItem,{icon:h(ArchiveIcon,null),onClick:()=>fe(se.uuid)},"Archive")))))))}function j({post:se,publication:fe,onSave:le,onCopy:Ae,onViewPublication:De,children:je}){const Je=(0,x.g)(),Be=(0,S.vk)(se);return(0,t.h)(u.hs,{justifyContent:"space-between",alignItems:"center"},(0,t.h)(s.xv,{color:"primary",weight:"semibold",size:11},(0,w.JP)(se)),(0,t.h)(u.hs,{gap:8},(0,t.h)(D.hU,{className:c()(N.iconButton,se.is_saved&&N.isSaved),size:24,onClick:st=>{st.preventDefault(),st.stopPropagation(),Be(),le()}},(0,t.h)(p.Z,{size:12})),(0,t.h)(o.v2,{trigger:(0,t.h)(D.hU,{className:N.iconButton,"aria-label":"more",size:24},(0,t.h)(l.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,stopPropagation:!0},(0,t.h)(o.sN,{icon:(0,t.h)(v.Z,null),onClick:()=>{Je((0,C.getPostUrl)(fe,se,{urlParams:{utm_source:"substack",utm_content:"feed:recommended:copy_link"}})),Ae==null||Ae()}},"Copy link"),(0,t.h)(o.sN,{icon:(0,t.h)(_.Z,null),href:(0,P.getPubUrl)(fe,{params:{utm_source:"substack",utm_content:"feed:recommended:view_publication"}}),target:"_blank",onClick:De},"View publication"),(0,t.h)(o.sN,{icon:se.is_saved?(0,t.h)(g.Z,null):(0,t.h)(p.Z,null),onClick:()=>{Be(),le()}},se.is_saved?"Unsave":"Save"),je)))}function Z(){return h(Placeholder,{width:"var(--card-width)",radius:12})}function ne(se,fe){return se&&`rgba(${se.join(",")},${fe})`}const ie="ListFormat"in Intl&&new Intl.ListFormat("en",{style:"short",type:"conjunction"});function oe(se){return ie?ie.format(se):se.join(", ")}function re({post:se,publication:fe}){var le;if(fe.logo_url){const De=fe.logo_url,je=fe.logoPalette;return{bgImage:De,palette:je}}const Ae=se.publishedBylines[0];return Ae!=null&&Ae.photo_url?{bgImage:Ae.photo_url,palette:(le=Ae.photo_palette)!=null?le:null}:{bgImage:null,palette:null}}const ae=se=>fe=>{fe({type:"inbox_item_archive",payload:{uuid:se}}),fetchJson("/api/v1/inbox/archive",{method:"POST",json:{uuid:se}}).catch(le=>{console.error(le.getMessage())})}},40172:(K,f,e)=>{"use strict";var t=e(6400),a=e(43887);const i=(p,l,v)=>{if(!p)return"";if(!l)return p;l.sort((O,A)=>A.length-O.length);const _=new RegExp(c(l.join("|")),"ig"),g=p.split(_),E=[...p.matchAll(_)];return g.map((O,A)=>h(Fragment,null,O,A!==g.length-1&&h(Text,{as:"span",weight:v||"bold",fontStyle:"italic"},E[A]," ")))},c=p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},20533:(K,f,e)=>{"use strict";var t=e(6400),a=e(94184),i=e(84040),c=e(51126),p=e(43887);const l={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju",tabText:"frontend-reader2-TabBar-module__tabText--Sb2W6"};var v=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,S=(s,w,P)=>w in s?v(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,O=(s,w)=>{for(var P in w||(w={}))g.call(w,P)&&S(s,P,w[P]);if(_)for(var P of _(w))E.call(w,P)&&S(s,P,w[P]);return s},A=(s,w)=>{var P={};for(var C in s)g.call(s,C)&&w.indexOf(C)<0&&(P[C]=s[C]);if(s!=null&&_)for(var C of _(s))w.indexOf(C)<0&&E.call(s,C)&&(P[C]=s[C]);return P};function u(s){var w=s,{value:P,currentValue:C,children:x,onClick:D}=w,y=A(w,["value","currentValue","children","onClick"]);const M=P===C;return h(UnstyledButton,O({className:classnames(css.tab,M&&css.isActive),resetCss:!0,onClick:()=>D(P)},y),h(Text,{size:14,lineHeight:20,weight:"medium",className:classnames(css.tabText,M&&css.isActive)},x))}function o(s){return h(FlexBox,O({className:css.tabs,style:{height:40}},s))}},47585:(K,f,e)=>{"use strict";e.d(f,{Eb:()=>E,in:()=>S,r8:()=>_});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(21958),l=e(42332);const v={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function _(O,A=(0,t.h)(g,null)){const[u,o]=(0,a.eJ)(O);return[u&&A,()=>{o(!1)}]}function g(){return(0,t.h)(E,null)}function E({className:O}){const{isHovering:A,ref:u}=(0,l.aw)();return(0,t.h)(t.Fragment,null,(0,t.h)(S,{className:c()(O,"reader2-unread-dot"),ref:u}),A&&(0,t.h)(l.u,{tetherRef:u},"New since your last visit"))}const S=(0,p.L)(v.unreadDot)},16742:(K,f,e)=>{"use strict";e.d(f,{K:()=>G,y:()=>q});var t=e(6400),a=e(30396),i=e(81108),c=e(74655),p=e(35616),l=e(36250),v=e(70444),_=e(20501),g=e(31517),E=e(1706),S=e(28488),O=e(67963),A=e(8479),u=e(39419),o=e.n(u),s=e(84040),w=e(51126),P=e(76235),C=e(62246),x=e(43887),D=e(75425),y=e(91870),M=e(10174),T=Object.defineProperty,R=Object.defineProperties,F=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,W=($,J,j)=>J in $?T($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,L=($,J)=>{for(var j in J||(J={}))U.call(J,j)&&W($,j,J[j]);if(N)for(var j of N(J))V.call(J,j)&&W($,j,J[j]);return $},k=($,J)=>R($,F(J)),H=($,J,j)=>new Promise((Z,ne)=>{var ie=ae=>{try{re(j.next(ae))}catch(se){ne(se)}},oe=ae=>{try{re(j.throw(ae))}catch(se){ne(se)}},re=ae=>ae.done?Z(ae.value):Promise.resolve(ae.value).then(ie,oe);re((j=j.apply($,J)).next())});function G({pub:$,post:J,comment:j,feedItem:Z,onRestack:ne,tabId:ie}){var oe,re;const ae=(0,O.aF)(),se=(0,D.pm)(),fe=!!ae,le=!!((oe=j||J)!=null&&oe.restacked),Ae=((re=j||J)==null?void 0:re.restacks)||0,De=(0,y.I0)(),je=(0,M.i3)(),Je=(0,A.ib)({pathname:"/api/v1/restack/feed"}),{iString:Be}=(0,S.M1)(),{nuxModal:st,showRestackNux:ht}=q(j&&!j.post_id?"note":j?"comment":"post"),gt=()=>H(this,null,function*(){const Ne=yield Je.refetch({method:"POST",json:{postId:j?null:J==null?void 0:J.id,commentId:(j==null?void 0:j.id)||null,tabId:ie}});if(Ne instanceof Error){alert((0,u.getNetworkErrorMessage)(Ne));return}se.popToast(ke=>(0,t.h)(D.FN,k(L({},ke),{text:Ne.comment?Be("Note restacked"):Be("Post restacked"),Icon:g.Z,cta:Be("View"),href:(0,v.E2)()}))),Ne.comment?De({type:"comment_restack",payload:{commentId:Ne.comment.id,isRestacked:!0}}):De({type:"post_restack",payload:{postId:Ne.post.id,isRestacked:!0}}),ht(),ne==null||ne(!0)}),Xe=()=>H(this,null,function*(){const Ne=yield Je.refetch({method:"DELETE",json:{postId:j?null:J==null?void 0:J.id,commentId:(j==null?void 0:j.id)||null,tabId:ie}});if(Ne instanceof Error){alert((0,u.getNetworkErrorMessage)(Ne));return}se.popToast(ke=>(0,t.h)(D.FN,k(L({},ke),{text:Be("Restack undone"),Icon:i.Z}))),j?De({type:"comment_restack",payload:{commentId:j.id,isRestacked:!1}}):J&&De({type:"post_restack",payload:{postId:J.id,isRestacked:!1}}),ne==null||ne(!1)}),Re=Ne=>H(this,null,function*(){Ne.preventDefault();try{yield je.open({feedItem:Z,restackUrl:j?(0,l.getCommentUrl)(J,j,$):(0,_.getPostUrl)($,J),tabId:ie}),ht()}catch(ke){}});return{canRestack:fe,isRestacked:le,restacks:Ae,nuxModal:st,menuItems:[le?(0,t.h)(P.sN,{icon:(0,t.h)(i.Z,null),onClick:Xe},Be("Undo restack")):(0,t.h)(P.sN,{icon:(0,t.h)(g.Z,null),onClick:gt},Be("Restack")),(0,t.h)(P.sN,{icon:(0,t.h)(E.Z,null),onClick:Re},Be("Restack with a note"))]}}function q($){const J=z({entityType:$}),j=(0,A.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),Z=()=>H(this,null,function*(){var ne;const ie=(ne=j.result)!=null?ne:yield j.refetch();!(ie instanceof Error)&&(ie==null?void 0:ie.hasRestacked)===!1&&(J.open(),j.setResult({hasRestacked:!0}))});return{nuxModal:J.element,showRestackNux:Z}}function z({entityType:$}){const[J,j]=(0,a.eJ)(!1),Z=()=>{j(!1)};return{open:()=>{j(!0)},element:(0,t.h)(C.u_,{isOpen:J,onClose:Z},(0,t.h)(ee,{onClose:Z,entityType:$}))}}function ee({onClose:$,entityType:J}){const{iString:j}=(0,S.M1)(),Z=(0,p.N)();return(0,t.h)(w.tu,{paddingX:16},(0,t.h)(w.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,t.h)(c.Z,{size:40,stroke:"var(--color-primary)"})),(0,t.h)(w.tu,{gap:12},(0,t.h)(x.xv.H3,{align:"center"},J==="comment"&&j("You restacked a comment"),J==="note"&&j("You restacked a note"),J==="post"&&j("You restacked a post")),(0,t.h)(x.xv.B3,{color:"secondary",align:"center"},J==="comment"&&j("Restack comments that inspire you to share them with more people."),J==="note"&&j("Restack notes that inspire you to share them with more people."),J==="post"&&j("Restack posts that inspire you to share them with more people.")," ",j("Subscribers can see your restacks in the Notes tab and on your profile."))),(0,t.h)(w.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,t.h)(s.zx,{rounded:!0,href:(0,v.E2)()},j("View now")),(0,t.h)(s.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:$},j("OK"))))}},38497:(K,f,e)=>{"use strict";e.d(f,{N4:()=>v,sm:()=>_});var t=e(6400),a=e(30396),i=e(84040),c=e(51126),p=e(62246),l=e(43887);function v(){const[E,S]=(0,a.eJ)(null);return{confirm:()=>new Promise((u,o)=>{E&&o(new Error("Already confirming.")),S({resolve:u,reject:o})}),isConfirming:!!E,handleConfirm:()=>{S(null),E==null||E.resolve(!0)},handleCancel:()=>{S(null),E==null||E.resolve(!1)}}}function _({title:E,body:S,cancelLabel:O="Cancel",confirmLabel:A="Confirm",modal:u}){return(0,t.h)(p.u_,{onClose:u.handleCancel,isOpen:u.isConfirming},(0,t.h)(c.tu,{padding:24,gap:24},(0,t.h)(c.tu,{gap:12},(0,t.h)(l.xv.H3,null,E),(0,t.h)(l.xv.B3,null,S)),(0,t.h)(c.hs,{justifyContent:"end",gap:12},(0,t.h)(i.zx,{priority:"secondary",onClick:u.handleCancel},O),(0,t.h)(i.zx,{priority:"destructive",onClick:u.handleConfirm},A))))}function g(E){const[S,O]=useState(null);return{confirm:()=>new Promise((o,s)=>{S&&s(new Error("Already confirming.")),O({resolve:o,reject:s})}),isConfirming:!!S,element:S?E({onConfirm:()=>{O(null),S==null||S.resolve(!0)},onCancel:()=>{O(null),S==null||S.resolve(!1)}}):null}}},70762:(K,f,e)=>{"use strict";e.d(f,{K:()=>D,_:()=>x});var t=e(6400),a=e(30396),i=e(58718),c=e(86418),p=e(20501),l=e(67963),v=e(8479),_=e(75425),g=e(72307),E=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(V,W,L)=>W in V?E(V,W,{enumerable:!0,configurable:!0,writable:!0,value:L}):V[W]=L,w=(V,W)=>{for(var L in W||(W={}))u.call(W,L)&&s(V,L,W[L]);if(A)for(var L of A(W))o.call(W,L)&&s(V,L,W[L]);return V},P=(V,W)=>S(V,O(W)),C=(V,W,L)=>new Promise((k,H)=>{var G=ee=>{try{z(L.next(ee))}catch($){H($)}},q=ee=>{try{z(L.throw(ee))}catch($){H($)}},z=ee=>ee.done?k(ee.value):Promise.resolve(ee.value).then(G,q);z((L=L.apply(V,W)).next())});function x({publicationId:V,publication:W,publicationName:L,user:k,allowSecondaryPublications:H=!0,subscriptionSource:G,sourceNoteId:q}){var z,ee,$;V=($=(z=W==null?void 0:W.id)!=null?z:V)!=null?$:(ee=k==null?void 0:k.primary_publication)==null?void 0:ee.id;const J=(0,l.aF)(),j=(0,_.pm)(),Z=(0,i.oJ)(),ne=(0,g.Th)(),[ie,oe]=(0,a.eJ)(!1),re=M(J,V,ne)||y(J,k,ne,{allowSecondaryPublications:H}),[ae,se]=(0,a.eJ)(null),fe=!!V,le=ne.isLoading||!!ae||!fe,Ae=Je=>C(this,null,function*(){var Be;if(Je&&(Je.preventDefault(),Je.stopPropagation()),le||re||!fe)return;se("subscribing");const st=V?yield R(V,G,{publication:W,user:J,sourceNoteId:q}):k?yield N(J,k,G):{didAction:!1,errorMessage:"No subscription target"},ht=`Subscribed to ${V?(Be=L!=null?L:W==null?void 0:W.name)!=null?Be:"publication":k?k.name:"profile"}`;if(st.didAction){if(oe(!0),j.popToast(gt=>(0,t.h)(_.FN,P(w({},gt),{text:ht}))),J)try{yield ne.refetch()}catch(gt){console.error("Failed to reload subscriptions:",gt)}k&&Z((gt=[])=>gt.includes(k.id)?gt:[k.id,...gt],{revalidate:!1})}else st.errorMessage&&j.popToast(gt=>{var Xe;return(0,t.h)(_.FN,P(w({},gt),{text:(Xe=st.errorMessage)!=null?Xe:""}))});se(null)}),De=Je=>C(this,null,function*(){var Be;if(Je&&(Je.preventDefault(),Je.stopPropagation()),le||!re||!fe)return;se("unsubscribing");const st=V?yield F(V,G):k?yield U(J,k,G):{didAction:!1,errorMessage:"No subscription target"},ht=`Unsubscribed from ${V?(Be=L!=null?L:W==null?void 0:W.name)!=null?Be:"publication":k?k.name:"profile"}`;if(st.didAction){if(oe(!1),j.popToast(gt=>(0,t.h)(_.FN,P(w({},gt),{text:ht}))),J)try{yield ne.refetch()}catch(gt){console.error("Failed to reload subscriptions:",gt)}}else st.errorMessage&&j.popToast(gt=>{var Xe;return(0,t.h)(_.FN,P(w({},gt),{text:(Xe=st.errorMessage)!=null?Xe:""}))});se(null)}),je=re&&!ae||ae==="subscribing";return{showCta:fe&&(!J||ne.hasLoadedOnce)&&!(J&&J.id===(k==null?void 0:k.id))&&(!re||ie||ae==="unsubscribing"),isSubscribed:je,hasPublication:!!V,subscribe:Ae,unsubscribe:De,toggle:je?De:Ae}}function D(V){var W;const L=(0,g.Th)(),k=(0,l.aF)();if((k==null?void 0:k.id)===V)return"subscribed";const{result:H}=L;if(!H)return null;const{subscriptions:G,publicationUsers:q}=H;for(const ee of q)if(["admin","contributor"].includes(ee.role)&&T(V,ee.publication_id,L))return"subscribed";let z=null;for(const ee of G)T(V,ee.publication_id,L)&&(z=(W=(0,c.P)(ee.membership_state,z)?ee.membership_state:z)!=null?W:null);return z}function y(V,W,L,{allowSecondaryPublications:k}={}){if(!V||!W||!L.hasLoadedOnce||!L.result)return!1;const{presubscriptions:H,subscriptions:G,publicationUsers:q}=L.result;if(H.includes(W.id))return!0;if(k){for(const z of G)if(z.membership_state!=="unsubscribed"&&T(W.id,z.publication_id,L))return!0;for(const z of q)if(["admin","contributor"].includes(z.role)&&T(W.id,z.publication_id,L))return!0}return!1}function M(V,W,L){if(!V||!W||!L.hasLoadedOnce||!L.result)return!1;const k=L.result.subscriptionMap.get(W);if(k&&k.membership_state!=="unsubscribed")return!0;const H=L.result.publicationUserMap.get(W);return!!(H&&["admin","contributor"].includes(H.role))}function T(V,W,L){if(L.isLoading||!L.result)return!1;const k=L.result.publicationMap.get(W);if(k){if(k.author_id===V)return!0;for(const H of k.contributors)if(H.user_id===V)return!0}return!1}function R(V,W){return C(this,arguments,function*(L,k,{publication:H,user:G,sourceNoteId:q}={}){let z=!1,ee;if(G)try{(yield(0,v.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:L,email:G.email,source:k,noWelcomeEmail:!0,sourceNoteId:q}})).requires_confirmation?ee="Check your email to confirm subscription":z=!0}catch($){console.error($),ee="Failed to subscribe"}else if(!G){if(!H)try{H=yield(0,v.rd)(`/api/v1/reader/publication/${L}`)}catch($){console.error($)}if(H){const $=(0,p.getSubscribeUrl)(H,{addBase:!0,user:G!=null?G:void 0});window.open($,"_blank")}}return{didAction:z,errorMessage:ee}})}function F(V,W){return C(this,null,function*(){let L=!1,k;try{yield(0,v.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:V,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:W}}),L=!0}catch(H){console.error(H),k="Failed to unsubscribe"}return{didAction:L,errorMessage:k}})}function N(V,W,L){return C(this,null,function*(){let k=!1,H;try{yield(0,v.rd)((0,p.getPresubscribeUrl)(W),{method:"POST",json:{source:L}}),k=!0}catch(G){console.error(G),H="Failed to subscribe"}return{didAction:k,errorMessage:H}})}function U(V,W,L){return C(this,null,function*(){let k=!1,H;try{yield(0,v.rd)((0,p.getPresubscribeUrl)(W),{method:"DELETE",json:{source:L}}),k=!0}catch(G){console.error(G),H="Failed to unsubscribe"}return{didAction:k,errorMessage:H}})}},22138:(K,f,e)=>{"use strict";e.r(f),e.d(f,{ARRMilestoneMediaAsset:()=>S,ARRMilestones:()=>c,SubscriberMilestones:()=>p,SubscribersMilestoneMediaAsset:()=>O});var t=e(6400),a=e(20501),i=e(83322),c=(u=>(u.ARR10K="arr10k",u.ARR1K="arr1k",u))(c||{}),p=(u=>(u.List1K="list1k",u.List100="list100",u))(p||{});const l="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",v="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap",_=24,g=({width:u,height:o,otherCss:s})=>`
  @import url('${l}');
  @import url('${v}');
  body { 
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 14px;
    line-height: 20px;
    font-weight: 700;
    color: rgba(51, 51, 51, 1);
    margin: 0;
  }
  .container {
    width: ${u-_*2}px;
    height: ${o-_*2}px;
    padding: ${_}px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: absolute;
    top: 0;
    overflow: hidden;
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .copy {
    width: 300px;
  }
  h1 {
    font-weight: 800; 
    font-size: 30px;
    line-height: 36px;
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    color: rgba(51, 51, 51, 1);
  }
  p {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-weight: 400;
  }
  .content {
    width: ${u-_*2};
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .footer {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
  }
  .pub-url {
    font-family: 'Inter', 'Noto Color Emoji', sans-serif; 
    font-size: 9px;
    font-weight: 590;
    line-height: 11px;
    letter-spacing: 0.2px;
    text-align: left;
    opacity: 0.5;
    text-transform: uppercase;
  }
  ${s}
    `,E=({css:u})=>(0,t.h)("head",null,(0,t.h)("style",null,u.replace(/\n|\r/g,""))),S=({milestone:u,height:o,width:s,pub:w})=>{const P=(0,i.getByLine)(w);let C,x,D;switch(u){case"arr1k":C="1,000",x=`${(0,a.getBaseUrl)()}/img/milestone_assets/pencil-uprising.png`,D=`
  .content {
    margin-top: ${o===s?"6px":"126px"};
  }
  .container {
    background-image: url(${(0,a.getBaseUrl)()}/img/milestone_assets/arr-1k-${o===s?"square":"stories"}-bg.png);
  }
  h1 {
    width: 278px;
  }
  p {
    width: 278px;
  }
  img {
    width: 149px;
  }
`;break;case"arr10k":C="10,000",x=o===s&&`${(0,a.getBaseUrl)()}/img/milestone_assets/friends.png`,D=`
  .content {
    margin-top: ${o===s?"-6px":"301px"};
  }
  .container {
    background-image: url(${(0,a.getBaseUrl)()}/img/milestone_assets/arr-10k-${o===s?"square":"stories"}-bg.png);
  }
  h1 {
    width: 297px;
  }
  ${o===s?`p {
    width: 278px;
  }`:""}
  img {
    width: 180px;
  }
`;break}const y=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-top: ${o===s?"16px":"0"};
    margin-bottom: 0;
  }
  p {
    ${o===s?`font-size: 18px;
    line-height: 24px;
    letter-spacing: -0.45px;`:`font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;`}
    margin-top: ${o===s?"16px":"24px"};
    margin-bottom: 0;
  }
  ${o===s?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${D}
  `,M=g({width:s,height:o,otherCss:y}),T=(0,a.getBaseUrl)(w).split("/").slice(-1)[0];return(0,t.h)("html",null,(0,t.h)(E,{css:M}),(0,t.h)("body",null,(0,t.h)("div",{className:"container"},(0,t.h)("div",{className:"content"},x?(0,t.h)("img",{src:x}):null,(0,t.h)("div",{className:"copy"},(0,t.h)("h1",null,"You made your first $",C),(0,t.h)("p",null,s===o?"":"Thanks to direct support from readers, ",w.name,P?` by ${P}`:""," has made its first $",C," in annual subscription revenue."))),(0,t.h)("div",{className:"footer"},(0,t.h)("span",{className:"pub-url"},T),(0,t.h)(A,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))},O=({milestone:u,height:o,width:s,pub:w})=>{const P=(0,i.getByLine)(w);let C,x,D,y;switch(u){case"list100":C="100",x="hundred",y=`
  .copy {
    margin-top: ${o===s?"151px":"298px"};
  }
  h1 {
    margin-top: 0;
  }
  .container {
    background-image: url(${(0,a.getBaseUrl)()}/img/milestone_assets/subs-100-${o===s?"square":"stories"}-bg.png);
  }
`;break;case"list1k":C="1,000",x="thousand",D=`${(0,a.getBaseUrl)()}/img/milestone_assets/chairs.png`,y=`
  .content {
    margin-top: ${o===s?"38px":"151px"};
  }
  .container {
    background-image: url(${(0,a.getBaseUrl)()}/img/milestone_assets/subs-1k-${o===s?"square":"stories"}-bg.png);
  }
  h1 {
    margin-top: ${o===s?"16px":"24px"};
  }
  img {
    width: ${o===s?"128px":"165px"};
  }
`;break}const M=`
  .container {
    background-size: cover;
  }
  h1 {
    margin-bottom: 0;
  }
  p {
    margin-top: ${o===s?"16px":"24px"};
    margin-bottom: 0;
    font-size: 20px;
    line-height: 30px;
    letter-spacing: 0.38px;
  }
  ${o===s?"":`.footer {
        margin-bottom: 75px;
    }`}
  ${y}
  `,T=g({width:s,height:o,otherCss:M}),R=(0,a.getBaseUrl)(w).split("/").slice(-1)[0];return(0,t.h)("html",null,(0,t.h)(E,{css:T}),(0,t.h)("body",null,(0,t.h)("div",{className:"container"},(0,t.h)("div",{className:"content"},D?(0,t.h)("img",{className:"chairs",src:D}):null,(0,t.h)("div",{className:"copy"},(0,t.h)("h1",null,C," subscribers"),(0,t.h)("p",null,"You did it. ",w.name,P?` by ${P}`:""," has reached its first ",x," subscribers."))),(0,t.h)("div",{className:"footer"},(0,t.h)("span",{className:"pub-url"},R),(0,t.h)(A,{color:"rgba(51, 51, 51, 1)",width:12.8,height:16})))))},A=({color:u,width:o,height:s})=>(0,t.h)("svg",{version:"1.1",width:o,height:s,viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,t.h)("g",{xmlns:"http://www.w3.org/2000/svg",opacity:"0.5"},(0,t.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"m 0 0 h 21 v 2.5781 h -21 v -2.5781 z m 0 5.1562 h 21 v 2.5782 h -21 v -2.5782 z m 0 5.1563 v 13.6875 l 10.5 -7.25 l 10.5 7.25 v -13.6875 h -21 z",fill:u})))},18165:(K,f,e)=>{"use strict";e.d(f,{Z:()=>k});var t=e(6400),a=e(94184),i=e.n(a),c=e(6378),p=e(15045),l=e(83322),v=e(3258),_=e(58884),g=e(39419),E=e.n(g),S=e(7922),O=e(97737),A=e(14846),u=e(48093),o=e(18133),s=e(33705),w=Object.defineProperty,P=Object.defineProperties,C=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,M=(H,G,q)=>G in H?w(H,G,{enumerable:!0,configurable:!0,writable:!0,value:q}):H[G]=q,T=(H,G)=>{for(var q in G||(G={}))D.call(G,q)&&M(H,q,G[q]);if(x)for(var q of x(G))y.call(G,q)&&M(H,q,G[q]);return H},R=(H,G)=>P(H,C(G)),F=(H,G,q)=>(M(H,typeof G!="symbol"?G+"":G,q),q),N=(H,G,q)=>new Promise((z,ee)=>{var $=Z=>{try{j(q.next(Z))}catch(ne){ee(ne)}},J=Z=>{try{j(q.throw(Z))}catch(ne){ee(ne)}},j=Z=>Z.done?z(Z.value):Promise.resolve(Z.value).then($,J);j((q=q.apply(H,G)).next())});const U="AudioPlayer.playbackRate",V=5,W={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class L extends t.Component{constructor(G){super(G)}shouldComponentUpdate(G){return this.props.currentPlaybackRate!==G.currentPlaybackRate||this.props.setPlaybackRate!==G.setPlaybackRate}render(){const{currentPlaybackRate:G,setPlaybackRate:q}=this.props;return(0,t.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:z=>q(Number(z.target.value))},(0,t.h)("option",{value:"1",selected:G===1},"1x"),(0,t.h)("option",{value:"1.25",selected:G===1.25},"1.25x"),(0,t.h)("option",{value:"1.5",selected:G===1.5},"1.5x"),(0,t.h)("option",{value:"1.75",selected:G===1.75},"1.75x"),(0,t.h)("option",{value:"2",selected:G===2},"2x"))}}class k extends t.Component{constructor(G,q){super(G,q),F(this,"setPlaybackRate",z=>{this.state.playbackRate!==z&&(this.player&&(this.player.playbackRate=z),this.setState({playbackRate:z}),(0,_.ex)(U,z))}),F(this,"maybeAppendIframeVisitId",z=>{var ee;const $=(ee=(0,v.A)())==null?void 0:ee.id;return $&&(z=(0,p.updateQuery)(z,{src_iid:$})),z}),F(this,"openEpisodePage",()=>{let z=this.props.post.canonical_url;z=this.maybeAppendIframeVisitId(z),z=(0,p.updateQuery)(z,W),window.open(z,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:G.playbackRate||(0,_.mM)(U,1),currentTime:0,waiting:!0,duration:G.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var G,q;(G=g.globalPlaybackNotifier)==null||G.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((q=this.player)==null?void 0:q.duration)&&this.props.onGetDuration(this.player.duration),(0,g.preloadImage)((0,p.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var G;(G=g.globalPlaybackNotifier)==null||G.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(G,q){!this.state.playing&&typeof this.state.waiting=="number"&&typeof q.waiting!="number"&&this.track(v.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!q.playing&&!this.state.waiting&&typeof q.waiting=="number"&&this.track(v.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-q.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(q.currentTime)&&Math.floor(this.state.currentTime)%V===0&&this.track(v.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&q.playing&&this.player&&this.player.ended&&this.track(v.FP.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var G;(G=g.globalPlaybackNotifier)==null||G.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(G){this.onDragStart(G.clientX)}onMouseMove(G){this.onDragMove(G.clientX)}onTouchStart(G){G.touches&&G.touches.length>0&&this.onDragStart(G.touches[0].pageX)}onTouchMove(G){typeof this.state.dragTime=="number"&&G.preventDefault(),G.touches&&G.touches.length>0&&this.onDragMove(G.touches[0].pageX)}onDragStart(G){typeof this.state.dragTime!="number"&&this.setDragTime(G)}onDragMove(G){typeof this.state.dragTime=="number"&&this.setDragTime(G)}onDragEnd(){this.clearDragTime()}onUnload(G){this.state.playing&&(G.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(G){this!==G&&this.player&&(this.track(v.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return N(this,null,function*(){if(this.player)if(this.player.paused){this.track(v.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(G){if(G.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw G}}else this.track(v.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const G=Math.max(0,this.state.currentTime-15);this.track(v.FP.SEEKED_AUDIO,{new_time:G,source:"skip"}),this.player.currentTime=G}}skipForward(){if(this.player){const G=Math.min(this.state.duration,this.state.currentTime+30);this.track(v.FP.SEEKED_AUDIO,{new_time:G,source:"skip"}),this.player.currentTime=G}}setDragTime(G){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const q=document.body.getBoundingClientRect(),z=this.progressBar.getBoundingClientRect(),ee=z.left-q.left,$=z.right;let j=(Math.max(ee,Math.min($,G))-ee)/($-ee)*this.state.duration;this.isDragTimeCloseToCurrentTime(j)&&(j=this.state.currentTime),this.setState({dragTime:j})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const G=this.state.dragTime;this.track(v.FP.SEEKED_AUDIO,{new_time:G,source:"slider"}),this.isDragTimeCloseToCurrentTime(G)?this.setState({dragTime:null}):(this.setState({currentTime:G,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=G))}isDragTimeCloseToCurrentTime(G){if(typeof this.state.currentTime!="number")return!1;let q;return this.state.duration<10?q=0:this.state.duration<30?q=3:q=5,Math.abs(this.state.currentTime-G)<q}track(G,q={}){const z=this.props.metricsPost;z&&(0,v.j)(G,Object.assign({post_id:z.id,publication_id:z.publication_id,is_podcast_free_preview:(0,c.podcastPostIsFreePreview)(z),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},q))}render({src:G,autoPlay:q,pub:z,post:ee,isFancy:$,showCTAs:J,metricsPost:j,addToPodcastLink:Z,isPaywalled:ne,render:ie}){if(ie){const{dragTime:oe,duration:re,currentTime:ae,playbackRate:se}=this.state;return(0,t.h)(t.Fragment,null,ie({isPaywalled:ne,progress:re?(typeof oe=="number"?oe:ae)/re:0,currentTime:re?(0,l.secondsToHHMMSS)(ae):"--:--",remainingTime:re?`-${(0,l.secondsToHHMMSS)(re-Math.min(ae,re))}`:"--:--",isPlaying:this.state.playing,playbackRate:se,progressBarOnMouseDown:fe=>{this.onMouseDown(fe)},progressBarRef:fe=>{this.progressBar=fe},setPlaybackRate:fe=>{this.setPlaybackRate(fe)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),G&&!ne&&(0,t.h)("audio",{ref:fe=>{this.player=fe},src:G,autoPlay:q},"Audio playback is not supported on your browser. Please upgrade."))}return $?this.renderFancy({src:G,autoPlay:q,pub:z,post:ee,metricsPost:j,showCTAs:J}):this.renderOriginal({src:G,autoPlay:q,pub:z,metricsPost:j,addToPodcastLink:Z})}renderFancy({src:G,autoPlay:q,pub:z,post:ee,showCTAs:$}){const J=(0,g.getPodcastEpisodeImageUrl)(z,ee);return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"audio-player-wrapper-fancy"},(0,t.h)("div",{className:"audio-player"},(0,t.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,t.h)(s.Z,{color:"#F8F8F8"})),(0,t.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},J&&(0,t.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,p.imginary)(J,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,t.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},ee.title),(0,t.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},ee.subtitle),G&&(0,t.h)("audio",{"data-testid":"audio-element",ref:j=>this.player=j,src:G,autoPlay:q},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),$&&(0,t.h)("div",{className:"btn-group"},(0,t.h)(S.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),(0,t.h)(S.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,p.getSubscribeUrl)(z,R(T({},W),{simple:!0,next:(0,p.getPostUrl)(z,ee)}))),newTab:!0},(0,l.getSubscribeText)(z))))))}renderOriginal({src:G,autoPlay:q,pub:z,addToPodcastLink:ee}){return(0,t.h)("div",{className:"audio-player-wrapper"},(0,t.h)("div",{className:"audio-player"},G&&(0,t.h)("audio",{ref:$=>this.player=$,src:G,autoPlay:q},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),ee&&!z.hide_podcast_feed_link&&(0,t.h)("div",{className:"audio-player-add-to-podcast-link",href:ee},(0,t.h)("a",{href:ee,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:G,href:q},{playing:z,waiting:ee,playbackRate:$}){return(0,t.h)("div",{className:"audio-player-buttons"},(0,t.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,t.h)(O.Z,{className:"skip-icon"})),(0,t.h)("button",{className:i()("audio-player-play",{pause:"playing",waiting:ee}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},z?(0,t.h)(u.Z,{className:"playback-icon pause",fill:"#1C110B"}):(0,t.h)(o.Z,{className:"playback-icon play",fill:"#1C110B"})),(0,t.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,t.h)(A.Z,{className:"skip-icon"})))}renderButtons({src:G,href:q,isStatic:z},{playing:ee,waiting:$,playbackRate:J}){return(0,t.h)("div",{className:"audio-player-buttons"},(0,t.h)("table",{className:"custom"},(0,t.h)("tr",null,(0,t.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,t.h)("td",{className:"audio-player-backward"},(0,t.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:q||"javascript:void(0)",onClick:()=>this.skipBack()},(0,t.h)(O.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:z}))),(0,t.h)("td",{className:`audio-player-play ${ee?"pause":""} ${$?"waiting":""}`},(0,t.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:q||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,t.h)("img",{src:(0,p.imginary)(ee?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,t.h)("td",{className:"audio-player-forward"},(0,t.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:q||"javascript:void(0)",onClick:()=>this.skipForward()},(0,t.h)(A.Z,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:z}))),(0,t.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),G&&(0,t.h)(L,{currentPlaybackRate:J,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:G,currentTime:q,dragTime:z}){return(0,t.h)("div",{className:"audio-player-progress"},(0,t.h)("table",{className:"custom"},(0,t.h)("tr",null,(0,t.h)("td",{className:"audio-player-progress-past"},G?(0,l.secondsToHHMMSS)(q):"--:--"),(0,t.h)("td",{ref:ee=>this.progressBar=ee,className:"audio-player-progress-bar",onMouseDown:ee=>this.onMouseDown(ee)},(0,t.h)("div",{className:"audio-player-progress-bar-track"}),(0,t.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${G?100*(typeof z=="number"?z:q)/G:0}%`}),(0,t.h)("div",{className:"audio-player-progress-bar-current",style:`left:${G?100*q/G:0}%`}),(0,t.h)("div",{className:"audio-player-progress-bar-button",style:`left:${G?100*(typeof z=="number"?z:q)/G:0}%`}),typeof z=="number"&&(0,t.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${G?100*z/G:0}%`},(0,l.secondsToHHMMSS)(z))),(0,t.h)("td",{className:"audio-player-progress-left"},G?`-${(0,l.secondsToHHMMSS)(G-Math.min(q,G))}`:"--:--"))))}renderProgressFancy({},{duration:G,currentTime:q,dragTime:z,lastDragClearedAt:ee}){const $=typeof z=="number",J=ee?performance.now()-ee<50:!1;return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"audio-player-progress"},(0,t.h)("div",{ref:j=>this.progressBar=j,className:"audio-player-progress-bar",onMouseDown:j=>this.onMouseDown(j)},(0,t.h)("div",{className:"audio-player-progress-bar-track"}),(0,t.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${G?100*($?z:q)/G:0}%`}}),(0,t.h)("div",{className:i()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":$,"audio-player-progress-bar-current-disable-animations":J}),style:`left:${G?100*q/G:0}%`}),$&&(0,t.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${G?100*z/G:0}%`}),$&&(0,t.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${G?100*z/G:0}%`},(0,l.secondsToHHMMSS)(z)))),(0,t.h)("div",{className:"audio-player-time-wrapper"},(0,t.h)("div",{className:"audio-player-progress-past"},G?(0,l.secondsToHHMMSS)(q):"--:--"),(0,t.h)("div",{className:"audio-player-progress-left"},G?`-${(0,l.secondsToHHMMSS)(G-Math.min(q,G))}`:"--:--")))}}},81671:(K,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(6400),a=e(94184),i=e.n(a),c=e(15045),p=e(83322),l=e(79786);function v({href:E,linkify:S,children:O,openInNewTab:A}){return S?A?(0,t.h)("a",{href:E,target:"_blank"},O):(0,t.h)("a",{href:E,native:!0},O):O}const g=({pub:E,href:S="",logo_url:O,showHover:A=!1,byline:u=null,proof:o=null,size:s=196,linkify:w=!0,title:P=null,className:C="",noMargin:x=!1,openInNewTab:D=!1,isStatic:y=!1,belowTheFold:M=!1})=>{var T;return(0,t.h)("div",{className:i()("pub-icon",!x&&"pub-icon-margin",C),title:P},A&&(0,t.h)("div",{className:"logo-hover"},(0,t.h)("div",{className:"logo-hover-title"},(0,t.h)("a",{href:S||E.base_url,native:!0},(E.name||E.subdomain)+(u?` by ${u}`:""))),(0,t.h)("div",{className:"logo-hover-proof"},o),(0,t.h)("div",{className:"logo-hover-description"},E.hero_text)),(0,t.h)(v,{href:S||E.base_url,linkify:w,openInNewTab:D},O?y?(0,t.h)("img",{src:(0,c.imginary)(O,s*2,{height:s*2,crop:"fill"}),width:s,height:s,className:"custom",alt:E.name}):(0,t.h)(l.e,{className:"custom",alt:E.name,imageProps:{height:s*2,crop:"fill"},maxWidth:s*2,src:O,width:s,height:s,loading:M?"lazy":null}):(0,t.h)("span",{className:"placeholder",style:E.theme_var_background_pop?`border-color:${(0,p.colorLightness)(E.theme_var_background_pop,.7)} ${E.theme_var_background_pop} ${E.theme_var_background_pop} ${(0,p.colorLightness)(E.theme_var_background_pop,.7)}`:""},(T=E.name||E.subdomain)==null?void 0:T[0])))}},86804:(K,f,e)=>{"use strict";e.d(f,{Z:()=>p});var t=e(6400),a=(g,E,S)=>new Promise((O,A)=>{var u=w=>{try{s(S.next(w))}catch(P){A(P)}},o=w=>{try{s(S.throw(w))}catch(P){A(P)}},s=w=>w.done?O(w.value):Promise.resolve(w.value).then(u,o);s((S=S.apply(g,E)).next())});const i="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let c=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=v);class p extends t.Component{componentDidMount(){return a(this,null,function*(){yield _(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:E}){return(0,t.h)("div",{className:E})}}function l(){const g=document.getElementsByTagName("script")[0],E=document.createElement("script");E.type="text/javascript",E.async=!0,E.defer=!0,E.src=i,g.parentNode.insertBefore(E,g)}function v(){if(c){const g=c;c=!0;for(const E of g)E()}}function _(){return new Promise(g=>{c===!0?g():c===!1?(c=[g],l()):c.push(g)})}},19826:(K,f,e)=>{"use strict";e.d(f,{EJ:()=>_.E,Fx:()=>o,ZP:()=>u});var t=e(6400),a=e(94184),i=e.n(a),c=e(39419),p=e.n(c),l=e(7922),v=e(26059),_=e(22939),g=Object.defineProperty,E=(s,w,P)=>w in s?g(s,w,{enumerable:!0,configurable:!0,writable:!0,value:P}):s[w]=P,S=(s,w,P)=>(E(s,typeof w!="symbol"?w+"":w,P),P);const O="active",A=.7;class u extends t.Component{constructor(w,P){if(super(w,P),S(this,"onDocumentMouseUp",C=>{!(0,c.isRootOrChild)(C.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),S(this,"onDocumentKeyDown",C=>{C.key==="Escape"&&this.state.active&&this.close()}),S(this,"onWindowResize",()=>{this.placeDropdown()}),S(this,"placeDropdown",()=>{var C,x;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const D=this.base.getBoundingClientRect(),y=D.width/(this.state.active?1:A),M=D.right+(y-D.width)/2,T=D.left-(y-D.width)/2,R=typeof window!="undefined"&&window.innerWidth;if(y>=R)return;const F=typeof window!="undefined"&&window.getComputedStyle(this.base),N=!isNaN(parseFloat(F.left))&&parseFloat(F.left),U=!isNaN(parseFloat(F.right))&&parseFloat(F.right),V=(C=this.state.originalLeft)!=null?C:F.left,W=(x=this.state.originalRight)!=null?x:F.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:V}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:W}),T<0?typeof this.state.left=="number"?this.setState({left:this.state.left-T,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+T}):typeof U=="number"?this.setState({left:null,right:U+T}):this.setState({left:(N||0)-T,right:null}):M>=R&&(typeof this.state.left=="number"?this.setState({left:this.state.left-M+R,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+M-R}):typeof N=="number"?this.setState({left:N-M+R,right:null}):this.setState({left:null,right:(U||0)+M-R}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const C=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:C.matches};const x=D=>{this.setState({isMobileWidth:D.matches})};C.addEventListener?C.addEventListener("change",x):C.addListener&&C.addListener(x)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:w=null}={}){this.blockToggle||(0,c.stateTransaction)(this,P=>{w===null&&(w=!P.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[w?"add":"remove"]("modal-in"),this.setState({active:w},()=>{this.props.onToggle&&this.props.onToggle({active:w})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:w,attachOnActive:P,noDrawerCloseButton:C},{active:x}){const D=(0,t.toChildArray)(this.props.children),y={},M={};typeof this.state.left=="number"?(y.left=`${this.state.left}px`,y.right="unset",M.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(y.left="unset",y.right=`${this.state.right}px`,M.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const T=this.useDrawerStyle();return(0,t.h)(t.Fragment,null,T&&(0,t.h)("div",{className:i()("dropdown-drawer-backdrop",{[O]:x}),onclick:()=>this.drawerBackdropClicked()}),(!P||x||T)&&(0,t.h)("ul",{className:i()("dropdown-menu",this.props.className,{[O]:x,"no-rect":this.props.noRectWhenClosed,drawer:T,tooltip:!T,"no-place":!!this.props.noPlace}),style:y},!w&&!this.useDrawerStyle()&&(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"dropdown-menu-tail",style:M}),(0,t.h)("div",{className:"dropdown-menu-tail-shadow",style:M})),(0,t.h)("div",{className:i()("dropdown-menu-wrapper",this.props.wrapperClassName)},T&&!C&&(0,t.h)(l.k,{className:"drawer-close-button",onClick:()=>this.close()},(0,t.h)(v.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?D:D.map(R=>(0,t.h)("li",null,R)))))}}class o extends t.Component{constructor(w){super(w),S(this,"onDocumentMouseUp",P=>{!(0,c.isRootOrChild)(P.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),S(this,"onDocumentKeyDown",P=>{P.key==="Escape"&&this.close()}),S(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:w=null}={}){this.blockToggle||(0,c.stateTransaction)(this,P=>{w===null&&(w=!P.active),this.setState({active:w},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const w=(0,t.toChildArray)(this.props.children);return this.props.noList?(0,t.h)("div",{className:i()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},(0,t.h)("div",{className:"dropdown-menu-wrapper"},w)):(0,t.h)("ul",{className:i()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,t.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,t.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,t.h)("div",{className:"dropdown-menu-wrapper"},w.map(P=>(0,t.h)("li",null,P))))}}},23890:(K,f,e)=>{"use strict";e.d(f,{GP:()=>x,UD:()=>P,ZP:()=>T,ew:()=>M,lQ:()=>s});var t=e(6400),a=e(94184),i=e.n(a),c=e(80569),p=e.n(c),l=e(83322),v=e(3258),_=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(R,F,N)=>F in R?_(R,F,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[F]=N,A=(R,F)=>{for(var N in F||(F={}))E.call(F,N)&&O(R,N,F[N]);if(g)for(var N of g(F))S.call(F,N)&&O(R,N,F[N]);return R},u=(R,F)=>{var N={};for(var U in R)E.call(R,U)&&F.indexOf(U)<0&&(N[U]=R[U]);if(R!=null&&g)for(var U of g(R))F.indexOf(U)<0&&S.call(R,U)&&(N[U]=R[U]);return N},o=(R,F,N)=>new Promise((U,V)=>{var W=H=>{try{k(N.next(H))}catch(G){V(G)}},L=H=>{try{k(N.throw(H))}catch(G){V(G)}},k=H=>H.done?U(H.value):Promise.resolve(H.value).then(W,L);k((N=N.apply(R,F)).next())});function s(R,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const N={};return F&&F.stripe_user_id?l.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(F.stripe_country)&&(N.stripeAccount=F.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(R,N)}function w(R,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(F!=null&&F.stripe_user_id))return null;const N={stripeAccount:F.stripe_user_id};return window.Stripe(R,N)}function P(R){return R.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}function C(R,F,{email:N,name:U,country:V,themeVariables:{color_theme_accent:W,color_theme_bg_contrast_2:L,print_on_pop:k,print_on_web_bg_color:H,print_secondary_on_web_bg_color:G}={}}={}){const q={theme:"flat",variables:{colorBackground:L||void 0,colorPrimary:W||void 0,colorPrimaryText:k||void 0,colorText:H||void 0,colorTextPlaceholder:G||void 0,colorTextSecondary:G||void 0}},z=R.elements({clientSecret:F,appearance:q,locale:window._preloads&&window._preloads.language||"auto"});return{elements:z,paymentElement:z.create("payment",{layout:{type:"tabs",defaultCollapsed:!1},defaultValues:{billingDetails:{email:N,name:U,address:{country:V}}},terms:{card:"never"}})}}class x extends t.Component{componentDidMount(){this.props.element&&this.props.element.mount(this.elementContainer)}componentDidUpdate(F){this.props.element&&!F.element&&this.props.element.mount(this.elementContainer)}componentWillUnmount(){if(this.props.element)try{this.props.element.unmount(this.elementContainer)}catch(F){}}render({className:F,element:N,isPaymentElement:U}){if(!(!N&&!U))return(0,t.h)("div",{className:i()("fancy-stripe",F,{"payment-element":U})},(0,t.h)("div",{ref:V=>this.elementContainer=V}))}}class D extends t.Component{constructor(F,N){if(super(F,N),F.stripe&&F.pub.stripe_country){(0,v.j)(v.FP.APPLE_PAY_SETUP_STARTED);try{const U=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),V=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:U});this.state={paymentRequest:U,stripeButton:V}}catch(U){console.error(U),(0,v.j)(v.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return o(this,null,function*(){let F=!1;if(this.state.paymentRequest){try{const N=yield this.state.paymentRequest.canMakePayment();N&&N.applePay&&(F=!0)}catch(N){console.error(N)}(0,v.j)(v.FP.APPLE_PAY_SETUP_FINISHED,{success:F})}yield this.setState({canMount:F}),F?(this.button||(yield new Promise(N=>setTimeout(N,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",N=>this.onTokenReceived(N)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(F){let N=!1;for(const U of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(F[U]!==this.props[U]||U==="coupon"&&F[U]&&F[U].loading&&(!this.props[U]||!this.props[U].loading)){N=!0;break}N&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(F){}}onTokenReceived(F){return o(this,null,function*(){(0,v.j)(v.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:F.payerEmail,name:F.payerName,stripe_token:F.token}),F.complete("success"),(0,v.j)(v.FP.APPLE_PAY_SUCCEEDED)}catch(N){console.error("Apple Pay submission failed:",F,N),F.complete("fail"),(0,v.j)(v.FP.APPLE_PAY_FAILED,{reason:N.message})}})}getPaymentTotal(){var F;const{pub:N,plan:U,quantity:V,coupon:W,notRecurring:L,variableAmount:k}=this.props;let H=0,G=Math.max(0,U.trial_period_days||0,W&&!W.error&&!W.loading&&W.trial_period_days||0,N.trial_end_override&&Math.ceil((N.trial_end_override-Date.now()/1e3)/60/60/24));L&&(G=0);const z=(((F=U.metadata)==null?void 0:F.founding)&&k||U.amount)*(V||1);let ee=z;W&&!W.error&&!W.loading&&(W.percent_off?ee=Math.round(ee*(1-(W.percent_off_precise||W.percent_off)/100)):W.amount_off&&(ee=Math.max(0,ee-W.amount_off)),ee<=0&&(ee=z,W.duration==="once"?U.interval==="year"?H+=12*U.interval_count:H+=U.interval_count:W.duration==="repeating"&&(H+=W.duration_in_months)));let $;return L?$="one-time":($=`${this.props.plan.interval}ly`,this.props.quantity>1&&($+=" per person"),H?(G>15&&(H+=parseInt(G/30)),$+=` with ${H}-month trial`):G&&($+=` with ${G}-day trial`)),{label:$,amount:ee}}render({children:F,className:N,error:U},{canMount:V}){if(!(typeof V!="undefined"&&!V&&typeof window!="undefined"))return(0,t.h)("div",{className:"apple-pay-parent-container"},V?(0,t.h)("div",{className:`apple-pay-element ${N||""}`,ref:W=>this.button=W}):(0,t.h)("p",{className:`apple-pay-loader ${N||""}`},"Loading\u2026"),U&&(0,t.h)("div",{className:"error"},U),F)}}class y extends t.Component{render(F,N){var U=F,{children:V,ref:W}=U,L=u(U,["children","ref"]);return(0,t.h)("div",{className:"fancy-input"},(0,t.h)("input",A({ref:k=>this._input=k},L)),V)}blur(){this._input&&this._input.blur()}}class M extends Error{constructor(F){super(F),this.response={body:{error:this.message}}}}class T extends t.Component{constructor(F,N){super(F,N),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=s(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this.props.useStripePaymentElement?this.state.loading=!0:this._stripeCardOrPaymentElement=P(this._stripe),this._connectedStripe=w(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const F=[];if(this.base){const N=Array.from(this.base.getElementsByTagName("*"));for(const U of N)["INPUT","TEXTAREA","SELECT"].includes(U.nodeName)&&U.getAttribute("name")&&U.id!=="g-recaptcha-response"&&F.push(U)}return F}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const F of this.getInputs())F.blur&&F.blur(),F.type==="checkbox"?F.checked=!1:F.type==="select"?F.selectedIndex=-1:F.type==="radio"?F.checked=!1:F.target?F.target.value="":F.value=""}handleStripeChange({error:F}){F?this.setState({_stripeError:F.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.addEventListener("change",F=>this.handleStripeChange(F))}componentDidUpdate(F){const{country:N,email:U,name:V,stripeClientSecret:W,themeVariables:L,useStripePaymentElement:k}=this.props;k&&W!==F.stripeClientSecret&&(W?({elements:this._stripeElements,paymentElement:this._stripeCardOrPaymentElement}=C(this._connectedStripe,W,{email:U,name:V,country:N,themeVariables:L}),this.setState({loading:!1})):F.stripeClientSecret&&(this.setState({loading:!0}),this._stripeCardOrPaymentElement.destroy(),this._stripeCardOrPaymentElement=null))}componentWillUnmount(){this._stripeCardOrPaymentElement&&this._stripeCardOrPaymentElement.destroy()}onInputBlur(F){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&F.target&&F.target.value&&!F.target._blurTracked&&((0,v.j)(`${this.props.analyticsName} Input Filled`,{name:F.target.name}),F.target._blurTracked=!0)}onPaymentRequestAttempt(F){return o(this,null,function*(){const N=yield this.handleSubmitAsync(null,F);if(N)throw N})}handleSubmit(F){F&&F.preventDefault(),this.handleSubmitAsync(F).catch(N=>{console.error(N)})}handleSubmitAsync(F){return o(this,arguments,function*(N,U={}){var V,W;if(N&&N.preventDefault(),this.props.analyticsName&&(0,v.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const L=this.props.method?this.props.method:"post";let k=null;if(this.stripeElement&&!U.stripe_token&&!this.props.useStripePaymentElement){const{token:z,error:ee}=this._stripe?yield this._stripe.createToken(this._stripeCardOrPaymentElement):{error:{message:""}};if(z)k=z;else{this.setState({loading:!1,_stripeError:ee&&ee.message}),this.props.analyticsName&&(console.log("error",ee),(0,v.j)(`${this.props.analyticsName} Missing Payment`,{type:ee&&ee.type,code:ee&&ee.code,decline_code:ee&&ee.decline_code,reason:ee&&ee.message}));return}}let H={};for(const z of this.getInputs())z.blur&&z.blur(),z.type=="checkbox"?H[z.name]=!!z.checked:z.type=="radio"?z.checked&&(H[z.name]=z.value):z.type==="select"?H[z.name]=z.options[z.selectedIndex].value:H[z.name]=z.value;if(Object.keys(U).forEach(z=>{!H[z]&&U[z]&&(H[z]=U[z])}),k&&(H.stripe_token=k),this.props.prepareData)try{const z=yield this.props.prepareData(H,N);z&&(H=z)}catch(z){throw this.setState({loading:!1}),z}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let G,q;try{if(this.props.performSubmit)this.props.useStripePaymentElement?G=yield this.props.performSubmit(H,{confirmSetup:z=>this._connectedStripe.confirmSetup({elements:this._stripeElements,redirect:"if_required",confirmParams:z})}):G=yield this.props.performSubmit(H);else if(this.props.action){const z=p()[L](this.props.action);this.props.method&&this.props.method==="get"?G=yield z.query(H):G=yield z.send(H)}else this.props.onSubmit&&this.props.onSubmit(H)}catch(z){q=z}if((V=G==null?void 0:G.body)!=null&&V.confirmPaymentUrl&&G.body.clientSecret&&this._connectedStripe){(0,v.j)(v.FP.PAYMENT_CONFIRMATION_STARTED);const z=yield this._connectedStripe.confirmCardPayment(G.body.clientSecret);if(z.error){(0,v.j)(v.FP.PAYMENT_CONFIRMATION_FAILED,{error:(W=z.error)==null?void 0:W.message});const ee={error:z.error.message||"Failed to confirm payment"};q={response:{body:ee,text:JSON.stringify(ee)}}}else(0,v.j)(v.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!q)this.props.onSuccess&&this.props.onSuccess(G,H);else if(this.processErrors(q.response),this.props.onError&&this.props.onError(q),!q.response)throw q;return q})}processErrors(F){const N={},U=[];if(F&&F.body&&F.body.errors){const V=this.getInputs();F.body.errors.forEach(W=>{this.props.noInlineErrors!==!0&&W.param&&V.filter(L=>L.getAttribute("name")===W.param).length>0?N[W.param]?(console.log("Discarding repeated error"),console.log(W)):N[W.param]=W:U.push(W)})}else F&&F.body&&typeof F.body.error=="string"?U.push({msg:F.body.error}):U.push({msg:"Something went wrong"});this.setState({_paramErrors:N,_otherErrors:U}),this.props.analyticsName&&(0,v.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(N),otherErrors:JSON.stringify(U)})}render(F,N){const U=F.autoLock&&N.loading||F.loading;let V=!1,W=!1;const L=k=>{const H=[];return(0,t.toChildArray)(k).forEach(G=>{if(!G)return null;if((G.type===y||G.type==="input"||G.type==="textarea"||G.type==="select")&&G.props&&G.props.name){const q=G.props.name;if(H.push((0,t.cloneElement)(G,{disabled:U||G.props.disabled,onChange:z=>{var ee,$;const J=((ee=G.props)==null?void 0:ee.onChange)||(($=G.props)==null?void 0:$.onInput);J&&J(z),this.props.onChange&&this.props.onChange(z)},onInput:z=>{G.props&&G.props.onInput&&G.props.onInput(z),this.props.onInput&&this.props.onInput(z)},onBlur:z=>{this.onInputBlur(z),G.props&&G.props.onBlur&&G.props.onBlur(z)}})),N._paramErrors[q]&&!U){const z=N._paramErrors[q];z.msgHTML?H.push((0,t.h)("div",{className:"error",name:q,dangerouslySetInnerHTML:{__html:z.msgHTML}})):H.push((0,t.h)("div",{className:"error",name:q},z.msg||"Invalid"))}}else if(G.props&&G.props.type==="submit")H.push((0,t.cloneElement)(G,{disabled:U||G.props.disabled,onClick:q=>{G.props&&G.props.onClick&&G.props.onClick(q)!==!1&&this.handleSubmit(q)}}));else if(G.props&&G.props.id==="error-container"){if(N._otherErrors&&!U){const q=N._otherErrors.map(z=>z.msgHTML?(0,t.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:z.msgHTML}}):(0,t.h)("div",{className:"error other-error"},z.msg)).concat(G.props&&G.props.children?(0,t.toChildArray)(G.props.children):[]);H.push((0,t.cloneElement)(G,{},q))}}else if(G.type===x){if(V)throw new Error("Can only handle one stripe element");V=!0,H.push((0,t.cloneElement)(G,{ref:q=>{G.props&&G.props.ref&&G.props.ref(q),this.stripeElement=q},element:this._stripeCardOrPaymentElement,isPaymentElement:this.props.useStripePaymentElement})),(N._stripeError||!this._stripeCardOrPaymentElement)&&!U&&typeof window!="undefined"&&H.push((0,t.h)("div",{className:i()("error",F.stripeErrorClassName),role:"alert"},N._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(G.type===D){if(W)throw new Error("Can only handle one stripe payment request button");W=!0,H.push((0,t.cloneElement)(G,{ref:q=>{G.props&&G.props.ref&&G.props.ref(q),this.stripePaymentRequestButton=q},stripe:this._stripe,onSuccess:q=>(G.props&&G.props.onSuccess&&G.props.onSuccess(q),this.onPaymentRequestAttempt(q))}))}else G.props&&G.props.children?H.push((0,t.cloneElement)(G,{},L(G.props.children))):H.push(G)}),H};return(0,t.h)("form",A({className:`form ${F.className||""}`,action:F.noJsAction||F.action,method:F.method&&["get","post"].includes(F.method.toLowerCase())&&F.method.toLowerCase()||"post",autoComplete:F.autoComplete,onSubmit:k=>this.handleSubmit(k),noValidate:!0},F.enctype&&{enctype:F.enctype}),L(F.children))}}},41406:(K,f,e)=>{"use strict";e.d(f,{Z:()=>ie});var t=e(6400),a=e(94184),i=e.n(a),c=e(7922),p=e(23890),l=e(28488),v=e(1824),_=e(3258),g=e(72496),E=e(39419),S=e(30396),O=e(5285),A=e(92271),u=e(51126),o=e(43887);const s={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},w=({emailSuggestions:oe,currentEmail:re,onAccept:ae,onReject:se})=>{const fe=(0,E.isMobileBrowser)(),[le,Ae]=(0,S.eJ)(!1),[De,je]=(0,S.eJ)(null),Je=(0,S.sO)(null),Be=Xe=>{Ae(!1),(0,_.j)(_.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:re,email_suggested:Xe}),se&&se()},st=oe&&re&&oe[re]&&oe[re]!=re.trim(),ht=Xe=>{Ae(!1),(0,_.j)(_.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:re,email_suggested:Xe}),ae(Xe)};(0,S.d4)(()=>{if(st){const Xe=oe[re];(0,_.j)(_.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:re,email_suggested:Xe}),je(Xe),Ae(!0)}else Ae(!1)},[st,oe,re]);const{iString:gt}=(0,l.M1)();return(0,t.h)("div",{className:s.animationWrapper},(0,t.h)(O.u,{show:le,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:Je},(0,t.h)(u.hs,{className:s.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,t.h)(u.tu,{className:s.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,t.h)(o.xv,{translated:!0,size:16,font:"display",className:s.secondaryText},"Did you mean"," ",(0,t.h)(o.xv,{as:"span",weight:"semibold",className:s.primaryText},I18N.p(De||"")),"?"),(0,t.h)(u.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:s.buttonWrapper},(0,t.h)(A.z,{onClick:()=>ht(De),className:s.buttonFill,variant:"themed-primary"},gt(fe?"Yes":"Yes, Subscribe with correction")),(0,t.h)(A.z,{className:s.buttonFill,variant:"secondary",onClick:()=>Be(De)},gt("No")))))))};var P=e(23279),C=e.n(P),x=e(80569),D=e.n(x),y=e(83868),M=e.n(y),T=(oe,re,ae)=>new Promise((se,fe)=>{var le=je=>{try{De(ae.next(je))}catch(Je){fe(Je)}},Ae=je=>{try{De(ae.throw(je))}catch(Je){fe(Je)}},De=je=>je.done?se(je.value):Promise.resolve(je.value).then(le,Ae);De((ae=ae.apply(oe,re)).next())});const R=(oe,re)=>T(void 0,null,function*(){const ae=yield D().get("/api/v1/check-email").query({email:oe});re([oe,ae.body])}),F=C()((oe,re)=>T(void 0,null,function*(){yield R(oe,re)}),200),N=oe=>T(void 0,null,function*(){return M()(oe)?new Promise((re,ae)=>{F(oe,re)}):[]});var U=e(13045),V=e(15045),W=e(83322);const L={container:"frontend-components-free_email_form-module__container--OfBh4",form:"frontend-components-free_email_form-module__form--LDIzl",sideBySideWrap:"frontend-components-free_email_form-module__sideBySideWrap--yhsgv",emailInput:"frontend-components-free_email_form-module__emailInput--BLQGf",emailInputOnAccentBackground:"frontend-components-free_email_form-module__emailInputOnAccentBackground--WwaMR",emailInputExpectTruncation:"frontend-components-free_email_form-module__emailInputExpectTruncation--feM6p",emailInputWrapper:"frontend-components-free_email_form-module__emailInputWrapper--BXNrb",emailInputWrapperExpectTruncation:"frontend-components-free_email_form-module__emailInputWrapperExpectTruncation--PrvaL",button:"frontend-components-free_email_form-module__button--WcLG9",buttonOnAccentBackground:"frontend-components-free_email_form-module__buttonOnAccentBackground--pxtYI",disabled:"frontend-components-free_email_form-module__disabled--tI4ri",links:"frontend-components-free_email_form-module__links--G_QlQ"};var k=Object.defineProperty,H=Object.defineProperties,G=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,$=(oe,re,ae)=>re in oe?k(oe,re,{enumerable:!0,configurable:!0,writable:!0,value:ae}):oe[re]=ae,J=(oe,re)=>{for(var ae in re||(re={}))z.call(re,ae)&&$(oe,ae,re[ae]);if(q)for(var ae of q(re))ee.call(re,ae)&&$(oe,ae,re[ae]);return oe},j=(oe,re)=>H(oe,G(re)),Z=(oe,re,ae)=>($(oe,typeof re!="symbol"?re+"":re,ae),ae),ne=(oe,re,ae)=>new Promise((se,fe)=>{var le=je=>{try{De(ae.next(je))}catch(Je){fe(Je)}},Ae=je=>{try{De(ae.throw(je))}catch(Je){fe(Je)}},De=je=>je.done?se(je.value):Promise.resolve(je.value).then(le,Ae);De((ae=ae.apply(oe,re)).next())});class ie extends t.Component{constructor(re){super(re),Z(this,"handleEmailChange",()=>{const ae=this.emailInput.value;ae&&(this.setState({currentEmail:ae}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(ae))&&N(ae).then(se=>{const[fe,le]=se;this.setState({emailSuggestions:j(J({},this.state.emailSuggestions),{[fe]:le})})}))}),Z(this,"_onSuccess",ae=>ne(this,null,function*(){const{iTemplate:se}=this.context;ae.body.prompt_to_login||_.IU(),ae.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(ae):alert(se`Confirmation required: we sent an email to ${ae.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==ae.body.email&&(0,v.a)({freeSignupEmail:ae.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(ae))})),Z(this,"onSuccess",ae=>ne(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,V.getQueryItem)("referralCode")?window.campaign.identify({email:ae.body.email},()=>this._onSuccess(ae)):yield this._onSuccess(ae)})),Z(this,"onAcceptSuggestion",ae=>{this.emailInput.value=ae,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return ne(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(re){this.setState({loading:re,requires_confirmation:!1})}onError(re){re.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(re)}render({autoFocus:re,children:ae,className:se,disabled:fe,expectTruncation:le,loginRedirect:Ae,next:De,onAccentBackground:je,pub:Je,referralCode:Be,showLogin:st,showTerms:ht,source:gt,submitButtonText:Xe,useSubscribeLink:Re,user:Ne,utm_campaign:ke,onMaybeLater:ot,onPrepareData:Dt},{loading:ln,requires_confirmation:ct}){var Oe,Se,Ze,Fe,Ke,et;const Qe=gt==="treatment_bold_fade",$e=((Ze=(Se=(Oe=(0,V.getQueryItem)("referring_pub_ids"))==null?void 0:Oe.split)==null?void 0:Se.call(Oe,","))==null?void 0:Ze[0])||void 0,Te=((et=(Ke=(Fe=(0,V.getQueryItem)("referring_pub_ids"))==null?void 0:Fe.split)==null?void 0:Ke.call(Fe,","))==null?void 0:et.slice(1))||void 0,te=this.getPrefilledEmail(),{iString:ue,iTemplate:we}=this.context;return(0,t.h)("div",{className:L.container},(0,t.h)(p.ZP,{ref:me=>this.form=me,className:i()(se,L.form),noInlineErrors:!0,action:(0,V.pathWithQuery)("/api/v1/free"),noJsAction:(0,V.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:me=>{ct&&(me.resend_confirmation=!0),Dt&&Dt(me)},onChangeLoadingState:this.onLoadingState.bind(this),onError:me=>this.onError(me),onSuccess:me=>this.onSuccess(me),typoFound:me=>this.setState({emailSuggestion:me}),disableSubmit:Re},(0,t.h)("input",{type:"hidden",name:"first_url",value:g.xY}),(0,t.h)("input",{type:"hidden",name:"first_referrer",value:g.ip}),(0,t.h)("input",{type:"hidden",name:"current_url",value:g.UE}),(0,t.h)("input",{type:"hidden",name:"current_referrer",value:g.xU}),(0,t.h)("input",{type:"hidden",name:"referral_code",value:Be}),(0,t.h)("input",{type:"hidden",name:"source",value:gt}),(0,t.h)("input",{type:"hidden",name:"referring_pub_id",value:$e}),(0,t.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:Te}),(0,t.h)("div",{className:L.sideBySideWrap},!!te&&(0,E.inputPrefillHack)(),(0,t.h)("div",{className:i()(L.emailInputWrapper,{[L.emailInputWrapperExpectTruncation]:le})},(0,t.h)("input",{className:i()("pencraft",L.emailInput,{[L.emailInputOnAccentBackground]:je,[L.emailInputExpectTruncation]:le}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:me=>this.emailInput=me,type:"email",name:Qe?"email-pop":"email",readOnly:!!(this.getSavedEmail()||ln||fe),disabled:!!(ln||fe),autoFocus:re&&!(this.getPrefilledEmail()||fe)&&!(0,E.isMobileBrowser)(),placeholder:ue("Type your email...")})),(0,t.h)(c.Z,{className:i()("rightButton primary subscribe-btn",L.button,{pop:Qe,[L.buttonOnAccentBackground]:je}),type:"submit",disabled:!!(ln||fe),onClick:me=>{Re&&(location.href=(0,V.getSubscribeUrl)(Je,{addBase:!0,user:Ne,utm_source:"substack",utm_medium:"web",utm_campaign:ke,next:De}))}},(0,t.h)("span",{className:`button-text ${Qe?"pop":""}`},Xe||(0,W.getSubscribeText)(Je)))),ct?(0,t.h)("div",null,(0,t.h)(U.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,t.h)("br",null),(0,t.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,t.h)("div",{id:"error-container"}),st||ht||ae?(0,t.h)("div",{className:i()("subtle-help-text below-input",L.links)},st&&(this.getSavedEmail()?(0,t.h)("a",{className:"login-button",href:(0,V.getSignoutUrl)({for_pub:Je.subdomain}),native:!0},ue("Not you?")):(0,t.h)("a",{className:"login-button",href:(0,V.getSigninUrl)({for_pub:Je.subdomain,redirect:Ae}),native:!0},ue("Login"))),ht&&[(0,t.h)("a",{className:"legal",href:(0,V.getPrivacyUrl)(Je),target:"_blank",native:!0},ue("Privacy")),(0,t.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},ue("Terms")),(0,t.h)("a",{className:"legal",href:`${(0,V.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},ue("Information collection notice"))],ae):null),(0,t.h)(w,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}Z(ie,"contextType",l.wj)},89867:(K,f,e)=>{"use strict";e.d(f,{Z:()=>O});var t=e(6400),a=e(30396),i=e(46505),c=Object.defineProperty,p=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(A,u,o)=>u in A?c(A,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):A[u]=o,g=(A,u)=>{for(var o in u||(u={}))l.call(u,o)&&_(A,o,u[o]);if(p)for(var o of p(u))v.call(u,o)&&_(A,o,u[o]);return A},E=(A,u)=>{var o={};for(var s in A)l.call(A,s)&&u.indexOf(s)<0&&(o[s]=A[s]);if(A!=null&&p)for(var s of p(A))u.indexOf(s)<0&&v.call(A,s)&&(o[s]=A[s]);return o};const O=A=>{const u=A,{ampProps:o}=u,s=E(u,["ampProps"]);return(0,a.qp)(i.E).isAmp?(0,t.h)("amp-img",g(g({},o),s)):(0,t.h)("img",g({},s))}},96789:(K,f,e)=>{"use strict";e.d(f,{Z:()=>s,p:()=>w});var t=e(6400),a=e(94184),i=e.n(a),c=e(71375),p=e(39419),l=e.n(p),v=e(84040),_=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(P,C,x)=>C in P?_(P,C,{enumerable:!0,configurable:!0,writable:!0,value:x}):P[C]=x,A=(P,C)=>{for(var x in C||(C={}))E.call(C,x)&&O(P,x,C[x]);if(g)for(var x of g(C))S.call(C,x)&&O(P,x,C[x]);return P},u=(P,C,x)=>(O(P,typeof C!="symbol"?C+"":C,x),x),o=(P,C,x)=>new Promise((D,y)=>{var M=F=>{try{R(x.next(F))}catch(N){y(N)}},T=F=>{try{R(x.throw(F))}catch(N){y(N)}},R=F=>F.done?D(F.value):Promise.resolve(F.value).then(M,T);R((x=x.apply(P,C)).next())});class s extends t.Component{constructor(C,x){super(C,x),u(this,"onDocumentKeyDown",D=>{D.key==="Escape"&&!this.props.noExit&&!(0,p.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(C){C&&(this._callback=C);const x=document.getElementsByTagName("html")[0];(0,p.hasClass)(x,"modal-in")||(0,p.addClass)(x,"modal-in"),this.setState({display:!0,open:!0})}open(C){return o(this,null,function*(){C&&(this._callback=C);const x=document.getElementsByTagName("html")[0];(0,p.hasClass)(x,"modal-in")||(0,p.addClass)(x,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(D=>{this.setState({display:!0},()=>{this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),D()})},50)})})})}close(C){return o(this,null,function*(){this.isOpen()&&this.onBeforeClose(C)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(C)===!1||((0,p.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(x=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(C),this.props.onClose&&this.props.onClose(C),this._callback&&this._callback(C),x()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(C){var x,D;C.stopPropagation(),(D=(x=this.props).onClick)==null||D.call(x,C),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&C.target&&this.container&&this.close()}onClickInner(C){var x,D;C.stopPropagation(),(D=(x=this.props).onClick)==null||D.call(x,C)}render(){const C=this.state.open?"in":"out",x=this.state.display===!1?"gone":"",D=this.props.variant==="structured",y=!this.state.open;return(0,t.h)("div",{className:i()("modal typography",C,x,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":D,popup:this.popup}),inert:y,onClick:M=>this.onClickOuter(M),"data-testid":this.props.testID,role:"dialog"},(0,t.h)("div",{className:"modal-table"},(0,t.h)("div",{className:"modal-row"},(0,t.h)("div",{ref:M=>this.content=M,className:i()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,t.h)("div",A({className:i()({container:!D}),ref:M=>this.container=M,onClick:M=>this.onClickInner(M)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,p.isMobileBrowser)())&&(D?(0,t.h)("div",{className:"structured-modal__close-button"},(0,t.h)(v.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,t.h)(c.Z,{size:20,color:"secondary"}))):(0,t.h)(v.hU,{"data-testid":"close-modal",className:i()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,t.h)(c.Z,{size:20,color:"secondary"}))),D?(0,t.h)("div",{className:"structured-modal__wrapper"},(0,t.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,t.h)("h3",null,this.props.modalTitle):(0,t.h)("h3",null,"\xA0")),(0,t.h)("div",{className:"structured-modal__body"},(0,t.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,t.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:C},x){return C}}class w extends s{constructor(C,x){super(C,x),this.popup=!0}}},54876:(K,f,e)=>{"use strict";e.d(f,{H:()=>a});var t=e(6400);const a=({filetype:c,filename:p})=>(0,t.h)("div",{className:"file-embed-wrapper-editor"},(0,t.h)("div",{className:"file-embed-aligner"},(0,t.h)("div",{className:"file-embed-container placeholder"},(0,t.h)(i,null)))),i=()=>(0,t.h)("div",{className:"embed-loader-container"},(0,t.h)("div",{className:"embed-loader"}),(0,t.h)("div",{className:"embed-loader-text"},"Loading..."))},50615:(K,f,e)=>{"use strict";e.d(f,{l:()=>y,y:()=>D});var t=e(6400),a=e(30396),i=e(50308),c=e.n(i),p=e(80569),l=e.n(p),v=e(39776),_=e(15045),g=e(83322),E=e(3258),S=e(39419),O=e.n(S),A=e(19826),u=e(46595),o=e(22702),s=e(65726),w=Object.defineProperty,P=(M,T,R)=>T in M?w(M,T,{enumerable:!0,configurable:!0,writable:!0,value:R}):M[T]=R,C=(M,T,R)=>(P(M,typeof T!="symbol"?T+"":T,R),R),x=(M,T,R)=>new Promise((F,N)=>{var U=L=>{try{W(R.next(L))}catch(k){N(k)}},V=L=>{try{W(R.throw(L))}catch(k){N(k)}},W=L=>L.done?F(L.value):Promise.resolve(L.value).then(U,V);W((R=R.apply(M,T)).next())});class D extends t.Component{constructor(){super(...arguments),C(this,"toggleTopExclusion",T=>(0,S.stateTransaction)(this,(R,F)=>x(this,[R,F],function*(N,{post:U,onChange:V}){if(N.topExcluding)return;this.setState({topExcluding:T.id});const W=U.top_exclusions.includes(T.id),L=`/api/v1/publication/${T.id}/exclusion/${U.id}`;try{W?(yield l().del(L),U.top_exclusions.splice(0)):(yield l().post(L),U.top_exclusions.splice(0),U.top_exclusions.push(T.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(k){console.error("Failed to exclude post:",k),alert((0,S.getNetworkErrorMessage)(k));return}finally{this.setState({topExcluding:null})}V&&(yield V({post:U}))}))),C(this,"toggleSectionPin",(T,R)=>(0,S.stateTransaction)(this,(F,N)=>x(this,[F,N],function*(U,{post:V,onChange:W}){if(U.pinning)return;this.setState({sectionPinning:R});const L=`/api/v1/publication/${T.id}/section/${R}/pin/${V.id}`;try{V.is_section_pinned?(yield l().del(L),V.is_section_pinned=!1):(yield l().post(L),V.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(k){console.error("Failed to pin post:",k),alert((0,S.getNetworkErrorMessage)(k));return}finally{this.setState({sectionPinning:null})}W&&(yield W({post:V}))}))),C(this,"togglePin",T=>(0,S.stateTransaction)(this,(R,F)=>x(this,[R,F],function*(N,{post:U,onChange:V}){if(N.pinning)return;this.setState({pinning:T.id});const W=U.pins.includes(T.id),L=`/api/v1/publication/${T.id}/pin/${U.id}`;try{W?(yield l().del(L),U.pins.splice(U.pins.indexOf(T.id),1)):(yield l().post(L),T.multiple_pins||U.pins.splice(0),U.pins.push(T.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(k){console.error("Failed to pin post:",k),alert((0,S.getNetworkErrorMessage)(k));return}finally{this.setState({pinning:null})}V&&(yield V({post:U}))}))),C(this,"sendEmail",()=>x(this,null,function*(){const{post:T}=this.props,R={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[T.audience];if(!confirm(`Send this published post as an email to ${R}?`))return;const F=`/api/v1/drafts/${T.id}/publish`;try{yield l().post(F).send({send:!0,only_send:!0}),location.reload()}catch(N){console.error("Failed to send post:",N),alert((0,S.getNetworkErrorMessage)(N))}})),C(this,"clearCache",()=>x(this,null,function*(){const{post:T}=this.props;try{yield l().put(`/api/v1/posts/${T.id}/clear_cache`),location.reload()}catch(R){console.error("Failed to clear post from cache"),alert((0,S.getNetworkErrorMessage)(R))}})),C(this,"duplicatePost",()=>x(this,null,function*(){this.setState({duplicating:!0});const{pub:T,post:R}=this.props;try{const F=yield l().post(`/api/v1/posts/${R.id}/duplicate`);(0,S.redirect)((0,_.getEditPostUrlById)(T,F.body.id,F.body.editor_v2),{local_navigation:!1})}catch(F){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,S.getNetworkErrorMessage)(F))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:T,post:R,hidePinning:F,user:N,emailSent:U,allowSendEmail:V,className:W,useDrawerOnMobile:L,handleCrossPost:k,onToggleMenu:H},{pinning:G,sectionPinning:q,topExcluding:z,duplicating:ee}){let $=null;R.section_id&&T.sections&&T.sections.length&&($=T.sections.find(j=>j.id===R.section_id));const J=!!(0,v.default)("enable_post_summarization");return(0,t.h)(A.ZP,{attachOnActive:!0,ref:j=>this.editMenu=j,className:W,useDrawerOnMobile:L,onToggle:H},(0,t.h)(s.Z,{href:(0,_.getPostUrl)(T,R,{edit:!0}),onClick:c()},"Edit post"),!F&&R.slug&&[(0,g.isPinnable)(T)&&R.section_id&&(R.section_name||($==null?void 0:$.name))&&(0,t.h)(s.Z,{onClick:()=>this.toggleSectionPin(T,R.section_id)},[R.is_section_pinned^q===R.section_id?"Unpin from":"Pin on",` ${R.section_name||($==null?void 0:$.name)}`]),(0,g.isPinnable)(T)&&(0,t.h)(s.Z,{onClick:()=>this.togglePin(T)},[R.pins.includes(T.id)^G===T.id?"Unpin from":"Pin on",T.parent_publication_id||$?` ${T.name}`:" homepage"]),T.parent_publication&&(0,g.isPinnable)(T.parent_publication)&&(0,t.h)(s.Z,{onClick:()=>this.togglePin(T.parent_publication)},[R.pins.includes(T.parent_publication.id)^G===T.parent_publication.id?"Unpin from":"Pin on",` ${T.parent_publication.name}`])],R.slug&&R.type!=="adhoc_email"&&[(0,t.h)(s.Z,{onClick:()=>this.toggleTopExclusion(T)},[R.top_exclusions.includes(T.id)^z===T.id?"Include in":"Exclude from"," Top",T.parent_publication_id&&` for ${T.name}`]),T.parent_publication&&(0,t.h)(s.Z,{onClick:()=>this.toggleTopExclusion(T.parent_publication)},[R.top_exclusions.includes(T.parent_publication.id)^z===T.parent_publication.id?"Include in":"Exclude from"," Top",` for ${T.parent_publication.name}`])],(0,t.h)(s.Z,{disabled:ee,onClick:()=>this.duplicatePost()},ee?"Duplicating":"Duplicate"," to drafts"),!U&&V&&R.is_published&&(0,t.h)(s.Z,{onClick:()=>this.sendEmail()},"Send as email"),(N==null?void 0:N.is_global_admin)&&(0,t.h)(s.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,t.h)(s.Z,{onClick:()=>{window.open((0,_.getPostDetailsShareCenterUrl)(T,R.id))}},"View shareable images"),!!(J&&this.props.onSummaryOpen)&&(0,t.h)(s.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),k&&(0,t.h)(s.Z,{onClick:k},"Cross post"))}}C(D,"state",{duplicating:!1});function y({pub:M,post:T,iconHeight:R,hidePinning:F,user:N,emailSent:U,allowSendEmail:V,showUpdatedIcons:W,dropdownClassName:L,iconClassName:k}){const H=(0,a.sO)();return(0,t.h)(t.Fragment,null,(0,t.h)(s.Z,{onClick:()=>{H.current.isOpen()||(0,E.j)(E.FP.EDIT_POST_DROPDOWN_MENU_OPENED),H.current.toggle()}},W?(0,t.h)(o.Z,{stroke:"#262626",height:R,className:k}):(0,t.h)(u.Z,{stroke:"#757575",height:R,className:k})),(0,t.h)(D,{ref:H,pub:M,post:T,hidePinning:F,user:N,emailSent:U,allowSendEmail:V,className:L}))}},95847:(K,f,e)=>{"use strict";e.d(f,{_0:()=>z,EB:()=>ee});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(80569),l=e.n(p),v=e(43887),_=e(15045),g=e(96702),E=e(28488),S=e(3258),O=e(39419),A=e(35291),u=e(7922),o=e(19237),s=(J,j,Z)=>new Promise((ne,ie)=>{var oe=se=>{try{ae(Z.next(se))}catch(fe){ie(fe)}},re=se=>{try{ae(Z.throw(se))}catch(fe){ie(fe)}},ae=se=>se.done?ne(se.value):Promise.resolve(se.value).then(oe,re);ae((Z=Z.apply(J,j)).next())});const P=({photoUrl:J,newPhotoUrl:j,newPhotoOrientation:Z,updatePhoto:ne})=>{const ie=(0,a.sO)(null),oe=()=>s(void 0,null,function*(){const re=ie.current.files[0];if(ie.current.value="",!re){ne({newPhotoUrl:null,newPhotoOrientation:null});return}let ae;try{ae=yield(0,O.getDataUrlFromFile)(re)}catch(fe){console.error("Failed to get data URL from file:",fe),alert(fe.message);return}let se;try{se=yield(0,O.getExifOrientationFromFile)(re)}catch(fe){console.error("Failed to extract EXIF data from file:",fe)}ne({newPhotoUrl:ae,newPhotoOrientation:se})});return(0,t.h)("div",{className:"profile-photo-wrap"},J&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${j||(0,_.imginary)(J,144)})`,transform:(0,O.transformExifOrientation)(Z)}}),!J&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,_.imginary)(_.DEFAULT_PHOTO_URL,144)})`,transform:(0,O.transformExifOrientation)(Z)}}),(0,t.h)(u.Z,{onClick:()=>{((0,O.isIE)()||(0,O.isFirefox)())&&ie.current.click()}},(0,t.h)("input",{ref:ie,type:"file",name:"photo",accept:"image/*",onChange:oe}),(0,t.h)("div",{className:"add-photo-fab",onClick:re=>{re.preventDefault(),ie.current.click()}},(0,t.h)(o.Z,{size:20,color:"var(--color-light-primary)"}))))};var C=e(23890),x=e(96789),D=e(81671),y=Object.defineProperty,M=Object.defineProperties,T=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=(J,j,Z)=>j in J?y(J,j,{enumerable:!0,configurable:!0,writable:!0,value:Z}):J[j]=Z,V=(J,j)=>{for(var Z in j||(j={}))F.call(j,Z)&&U(J,Z,j[Z]);if(R)for(var Z of R(j))N.call(j,Z)&&U(J,Z,j[Z]);return J},W=(J,j)=>M(J,T(j)),L=(J,j)=>{var Z={};for(var ne in J)F.call(J,ne)&&j.indexOf(ne)<0&&(Z[ne]=J[ne]);if(J!=null&&R)for(var ne of R(J))j.indexOf(ne)<0&&N.call(J,ne)&&(Z[ne]=J[ne]);return Z},k=(J,j,Z)=>new Promise((ne,ie)=>{var oe=se=>{try{ae(Z.next(se))}catch(fe){ie(fe)}},re=se=>{try{ae(Z.throw(se))}catch(fe){ie(fe)}},ae=se=>se.done?ne(se.value):Promise.resolve(se.value).then(oe,re);ae((Z=Z.apply(J,j)).next())});const H=({sub:J,onSetVisibility:j,source:Z})=>{const ne=J.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:ne,logo_url:ne.logo_url||ne.author_photo_url}),h("span",null,ne.name)),h("div",{className:"right"},h(BigCheckbox,{checked:J.visibility==="public",onChange:()=>j(J.visibility==="public"?"private":"public")})))},G=({profile:J,onFinalizeVisibility:j,onSetVisibility:Z,source:ne})=>{const{iString:ie}=useI18N();if(!J)return;const oe=J.subscriptions.every(({visibility:fe})=>fe==="public"),re=()=>{Z(J.subscriptions.reduce((fe,{publication:le})=>W(V({},fe),{[le.id]:oe?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:J.subscriptions.length})},ae=fe=>le=>{Z(J.subscriptions.reduce((Ae,{visibility:De,publication:je})=>W(V({},Ae),{[je.id]:je.id===fe.id?le:De}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:le})},se=h("button",{className:"small",onClick:re},ie(oe?"Hide all":"Show all"));return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},se),h("div",{className:"edit-sub-visibility-frame"},J.subscriptions.map(fe=>h(H,{sub:fe,onSetVisibility:ae(fe.publication),source:ne}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:j},ie("Done"))))};class q extends t.Component{constructor(j,Z){var ne;super(j,Z),this.formRef=(0,t.createRef)(),this.state={newName:null,newHandle:null,newBio:null,newEmail:j.user&&j.user.is_magic?j.user.email:null},j.isPostInvite&&!((ne=j.user)!=null&&ne.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var j,Z,ne;this.props.autoSubmit&&(this.isComplete()?(j=this.formRef.current)==null||j.handleSubmit():(ne=(Z=this.props).onAutoSubmitFailed)==null||ne.call(Z))}isComplete(){const{user:j,needsPhoto:Z}=this.props;return j&&!j.is_magic&&j.name&&(!Z||j.photo_url)}onFileInputChanged(){return k(this,null,function*(){const j=this.fileInput.files[0];if(this.fileInput.value="",!j){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let Z;try{Z=yield(0,O.getDataUrlFromFile)(j)}catch(ie){console.error("Failed to get data URL from file:",ie),alert(ie.message);return}let ne;try{ne=yield(0,O.getExifOrientationFromFile)(j)}catch(ie){console.error("Failed to extract EXIF data from file:",ie)}this.setState({newPhotoUrl:Z,newPhotoOrientation:ne})})}onError(j){var Z,ne;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(ne=(Z=this.props).onAutoSubmitFailed)==null||ne.call(Z)),this.setState({sentLoginEmail:!1}),j.status===401&&this.sendLoginEmail()}createDefaultPublication(j,Z){return k(this,null,function*(){const{iTemplate:ne}=this.props;try{const ie=yield l().get("/api/v1/publication/suggestion"),oe=Z||ne`${j} on Substack`;yield l().post("/api/v1/publication").send({name:j,subdomain:ie.body.subdomain,hero_text:oe,tos:!0})}catch(ie){(0,S.j)(S.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",ie)}})}sendLoginEmail(){return k(this,null,function*(){const j=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!j)){this.setState({loading:!0});try{yield l().post("/api/v1/email-login").send({email:j,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(Z){console.error("Failed send login email:",Z)}this.setState({loading:!1})}})}render({className:j,user:Z,numVisibleSubscriptions:ne,numSubscriptions:ie,freeSignup:oe,freeSignupEmail:re,initialPhotoUrl:ae,needsPhoto:se,optionalPhoto:fe,showHandle:le=!0,token:Ae,text:De,onSuccess:je,prepareData:Je,pageTitle:Be,primaryEligiblePublications:st,isPostInvite:ht,complete:gt,profileExists:Xe,onSkip:Re,onEditReadVisibility:Ne,barebones:ke,onEditRecommendations:ot,numRecommendationsToMake:Dt,noSubscribeCta:ln,style:ct,iString:Oe,iPlural:Se},{newPhotoUrl:Ze,newPhotoOrientation:Fe,newName:Ke,newHandle:et,newEmail:Qe,loading:$e,sentLoginEmail:Te,sentAccountConfirmationEmail:te,newBio:ue,createPublication:we}){const me=Ze||ae||(0,g.getUserPhotoUrlWithoutDefault)(Z,{noFallbackToSignedOut:!0}),Ee=typeof Be=="string"?Be:this.isComplete()?Oe("Update your profile"):Oe("Create your profile"),he=Ke||Z&&Z.name||"",xe=et||(Z==null?void 0:Z.handle)||"",Ve=typeof ue=="string"?ue:Z&&Z.bio||"",Pe=(Ie,ze)=>k(this,null,function*(){if(Ie.body.emailConfirmationRequired){this.setState({sentAccountConfirmationEmail:!0});return}we&&(yield this.createDefaultPublication(he,Ve)),je(Ie,ze)});return(0,t.h)("div",{className:c()("profile-updater",j),style:ct},(0,t.h)("h2",{className:"page-title profile-updater-title"},Ee),(me||se||fe)&&(0,t.h)(P,{photoUrl:me,newPhotoUrl:Ze,newPhotoOrientation:Fe,updatePhoto:({newPhotoOrientation:Ie,newPhotoUrl:ze})=>this.setState({newPhotoOrientation:Ie,newPhotoUrl:ze}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,t.h)(C.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:Je,onSuccess:Pe,onError:Ie=>this.onError(Ie),noInlineErrors:!0,loading:$e,autoLock:!0},(0,t.h)("label",{htmlFor:"name"},Oe("Name (Required)")),(0,t.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:Oe("Type your name..."),name:"name",id:"name",value:he,onInput:Ie=>this.setState({newName:Ie.target.value})}),le&&(0,t.h)(t.Fragment,null,(0,t.h)("label",{htmlFor:"handle"},Oe("Handle")),(0,t.h)("input",{type:"text",className:"profile-name",placeholder:Oe("Type your handle..."),name:"handle",id:"handle",value:xe,onInput:Ie=>this.setState({newHandle:Ie.target.value})})),!ke&&(0,t.h)("label",{htmlFor:"bio"},"Bio"),!ke&&(0,t.h)("textarea",{className:"profile-bio",placeholder:Oe("Say something about yourself..."),name:"bio",id:"bio",value:Ve,onInput:Ie=>this.setState({newBio:Ie.target.value})}),ht&&(0,t.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),ht&&(0,t.h)("div",{className:"bio-guest-tip"},Oe("Tip: this will be shown at the bottom of your guest post")),ht&&st&&(Z==null?void 0:Z.has_publication)&&st.length>1&&(0,t.h)(t.Fragment,null,(0,t.h)("label",null,Oe("Publication to display")),(0,t.h)("div",{className:"primary-publication-selector"},st.map((Ie,ze)=>(0,t.h)("label",{className:"publication-selector-row",for:`primary-radio-${Ie.id}`},(0,t.h)("input",{id:`primary-radio-${Ie.id}`,type:"radio",name:"primary_publication_user_id",value:Ie.id,checked:ze===0}),(0,t.h)(D.Z,{pub:Ie.publication,logo_url:(0,_.imginary)(Ie.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Ie.publication.name}),(0,t.h)("div",{className:"primary-publication-name"},Ie.publication.name))))),(!Z||Z.is_magic)&&!re&&!ht&&(0,t.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:Qe,onInput:Ie=>this.setState({newEmail:Ie.target.value})}),!ln&&!(Z&&(Z.is_subscribed||Z.is_free_subscribed)||oe)&&(0,t.h)("label",{className:"profile-signup-checkbox"},(0,t.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," ",Oe("Subscribe to the newsletter")),ht&&!(Z!=null&&Z.has_publication)&&(0,t.h)("label",{className:"profile-signup-checkbox"},(0,t.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:we,onChange:Ie=>this.setState({createPublication:Ie.target.checked})}),Oe("Create a Substack publication for me")),(0,t.h)("input",{type:"hidden",name:"confirmation_redirect_pathname",value:document.location.pathname}),(0,t.h)("input",{type:"hidden",name:"photo_url",value:me}),(0,t.h)("input",{type:"hidden",name:"user_id",value:(Z==null?void 0:Z.id)||""}),(0,t.h)("input",{type:"hidden",name:"needs_photo",value:!!se}),(0,t.h)("input",{type:"hidden",name:"token",value:Ae}),gt&&(0,t.h)("input",{type:"hidden",name:"complete",value:!0}),(0,t.h)("div",{id:"error-container"},Te&&(0,t.h)(v.xv,{as:"div",translated:!0,className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,t.h)("b",null,I18N.p(Qe))," with a link that you can use to sign in."),te&&(0,t.h)("div",{className:"error other-error"},Oe("We have sent you a confirmation email. Please check your inbox before continuing."))),(0,t.h)("p",{className:c()("left",{hidden:!(typeof ne=="number"&&ie>0&&Ne)})},Xe?Se("1 subscription is displayed on your profile","%1 subscriptions are displayed on your profile",ne):Se("1 subscription will be displayed on your profile","%1 subscriptions will be displayed on your profile",ne)," ","(",(0,t.h)("a",{onClick:Ne},Oe("edit")),")"),!Xe&&ot&&Dt>0&&(0,t.h)("p",{className:"left second"},Se("1 recommendation will be made on your publication","%1 recommendations will be made on your publication",Dt)," ","(",(0,t.h)("a",{onClick:ot},"edit"),")"),(0,t.h)("div",{className:"modal-ctas"},(0,t.h)("p",{className:c()("skip",{hidden:!Re})},(0,t.h)("a",{className:"small",onClick:Re||(()=>{})},Oe("Skip for now"))),(0,t.h)(u.Z,{className:"primary",type:"submit"},De||Oe("Save")),ht&&(0,t.h)(t.Fragment,null,(0,t.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,t.h)(v.xv,{translated:!0,as:"div",className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,t.h)("a",{href:`${(0,_.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}const z=(0,E.fz)(q);class ee extends x.p{renderChildren(){const j=this.props,{ref:Z,onBeforeClose:ne,contributor:ie}=j,oe=L(j,["ref","onBeforeClose","contributor"]);return(0,t.h)("div",{className:"profile-updater-modal"},ie?(0,t.h)($,W(V({},oe),{onSuccess:()=>this.close(!0)})):(0,t.h)(z,W(V({},oe),{onSuccess:()=>this.close(!0)})))}}const $=({profile:J,user:j,pub:Z,onSuccess:ne,isOwnProfile:ie})=>{const oe=(0,a.sO)(),{iString:re,iTemplate:ae}=(0,E.M1)(),[se,fe]=(0,a.eJ)(null),[le,Ae]=(0,a.eJ)(null),De=se||J&&J.photo_url,[je,Je]=(0,a.eJ)(J.name),[Be,st]=(0,a.eJ)(J.bio),ht=()=>k(void 0,null,function*(){var gt;const Xe=(gt=oe.current)!=null&&gt.files?oe.current.files[0]:null;if(oe.value="",!Xe){fe(null),Ae(null);return}let Re;try{Re=yield(0,O.getDataUrlFromFile)(Xe)}catch(ke){console.error("Failed to get data URL from file:",ke),alert(ke.message);return}let Ne;try{Ne=yield(0,O.getExifOrientationFromFile)(Xe)}catch(ke){console.error("Failed to extract EXIF data from file:",ke)}fe(Re),Ae(Ne)});return(0,t.h)("div",{className:"profile-updater"},(0,t.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,t.h)("div",{className:"profile-photo-wrap"},De&&(0,t.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${se||(0,_.imginary)(J.photo_url,144)})`,transform:(0,O.transformExifOrientation)(le)}}),(0,t.h)(u.Z,{onClick:()=>{((0,O.isIE)()||(0,O.isFirefox)())&&oe.click()}},!De&&re("Set photo"),(0,t.h)("input",{ref:oe,type:"file",name:"photo",accept:"image/*",onChange:()=>ht()}))),(0,t.h)(C.ZP,{method:"patch",action:`/api/v1/publication/users/${J.id}`,onSuccess:ne,autoLock:!0},(0,t.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:je,onInput:gt=>Je(gt.target.value)}),(0,t.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:Be,onInput:gt=>st(gt.target.value)}),(0,t.h)("input",{type:"hidden",name:"photo_url",value:De}),(0,t.h)("span",{className:"notice"},(0,t.h)(v.xv,{translated:!0,as:"p"},(0,t.h)("b",null,"Note:")," This is a contributor profile, viewable by ",I18N.p(Z.name),"'s readers."),ie&&(0,t.h)(v.xv,{translated:!0,as:"p"},"You may also edit your"," ",(0,t.h)("a",{native:!0,href:`${(0,_.getReaderProfileUrl)(j)}`},"personal profile"),".")),(0,t.h)(u.Z,{className:"primary",type:"submit"},re("Update profile"))))}},31533:(K,f,e)=>{"use strict";e.d(f,{E6:()=>W,dJ:()=>z,fS:()=>L,oq:()=>ee,xl:()=>G});var t=e(6400),a=e(94184),i=e.n(a),c=e(12297),p=e.n(c),l=e(80569),v=e.n(l),_=e(82626),g=e(15045),E=e(83322),S=e(28488),O=e(1824),A=e(3258),u=e(39419),o=e.n(u),s=e(51126),w=e(43887),P=e(41406),C=e(12650),x=e(96789),D=Object.defineProperty,y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,R=($,J,j)=>J in $?D($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,F=($,J)=>{for(var j in J||(J={}))M.call(J,j)&&R($,j,J[j]);if(y)for(var j of y(J))T.call(J,j)&&R($,j,J[j]);return $},N=($,J,j)=>(R($,typeof J!="symbol"?J+"":J,j),j),U=($,J,j)=>new Promise((Z,ne)=>{var ie=ae=>{try{re(j.next(ae))}catch(se){ne(se)}},oe=ae=>{try{re(j.throw(ae))}catch(se){ne(se)}},re=ae=>ae.done?Z(ae.value):Promise.resolve(ae.value).then(ie,oe);re((j=j.apply($,J)).next())});const V="\u2764",W=($,J,j)=>{const{reaction:Z,reactions:ne,reactor_names:ie}=k($,J,j);H(J,Z,ne,ie)},L=($,J)=>k($,J,!J.reaction),k=($,J,j)=>{let{reaction:Z,reactions:ne={},reactor_names:ie=[]}=J;return ne=F({},ne),ie=[...ie],j&&!Z?(Z=V,ne[Z]=ne[Z]?ne[Z]+1:1,$&&$.is_public_admin&&ie.push($.name||"author")):!j&&Z&&(ne[V]=ne[V]?ne[V]-1:0,$&&$.is_public_admin&&(ie=ie.filter(oe=>oe!==($.name||"author"))),Z=null),{reaction:Z,reactions:ne,reactor_names:ie}},H=($,J,j,Z)=>{$.reaction=J,$.reactions=j,$.reactor_names=Z};function G($,J,j,Z){const ne=(0,g.pathWithQuery)(`/api/v1/${J?"comment":"post"}/${$.id}/reaction`,{token:Z});return j?v().post(ne).send({reaction:V}):v().delete(ne)}class q extends t.Component{constructor(){super(...arguments),N(this,"state",{includeModal:!1}),N(this,"modalRef",(0,t.createRef)(null)),N(this,"react",J=>U(this,null,function*(){if(this.props.isStatic)return;J&&J.stopPropagation();const Z=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(Z),this.props.noSelfUpdate)return;const ne=yield(0,u.stateLock)(this,"locked",(ie,oe)=>U(this,null,function*(){const re=oe.comment||oe.post,ae=G(re,!!oe.comment,Z,oe.token),{reaction:se,reactions:fe,reactor_names:le}=L(oe.user,re);this.notifyParent({reactions:fe,reaction:se,reactor_names:le});let Ae;try{yield ae}catch(De){Ae=De,this.notifyParent(re)}return{error:Ae,reaction:se}}));return ne&&ne.error&&(ne.error.response&&ne.error.response.statusCode===401?yield this.reactionRejected(ne.reaction):alert((0,u.getNetworkErrorMessage)(ne.error))),!!ne&&!ne.error}))}notifyParent({reaction:J,reactions:j,reactor_names:Z}){const ne=F({},this.props.post),ie=this.props.comment&&F({},this.props.comment);H(ie||ne,J,j,Z),this.props.onChange&&this.props.onChange({post:ne,comment:ie})}reactionRejected(J){return U(this,null,function*(){(0,A.j)(A.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!J}),yield new Promise(j=>{this.state.includeModal?this.modalRef.current.open(j):this.setState({includeModal:!0},()=>this.modalRef.current.open(j))})})}render({className:J,user:j,pub:Z,comment:ne,height:ie,isStatic:oe,post:re,buttonStyle:ae,hideReactionCount:se,countInParenthesesStyle:fe,iString:le}){const Ae=ne||re,De=Ae.reaction,je=Ae.reactions||{},Je=p()(Object.values(je));let Be;return re&&re.reaction_url_override?Be=re.reaction_url_override:oe?Be=_.Substitutions.REACTION_URL:Be="javascript:void(0)",(0,t.h)(w.xv,{as:"span",decoration:"hover-underline",color:De?"accent-red":"pub-secondary-text",className:J},this.props.render?this.props.render({liked:De,numReactions:Je>0?(0,E.numberToString)(Je):null,onClick:st=>{this.react(st)}}):(0,t.h)("a",{href:Be,className:i()("like-button",{button:ae,"post-meta-button":ae,liked:De}),onClick:st=>this.react(st)},(0,t.h)(s.hs,{gap:6,alignItems:"center",className:J},oe?(0,t.h)(C.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:ie,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,t.h)(s.hs,{className:"reaction-container"},(0,t.h)(C.Z,{className:"animation"}),!De&&(0,t.h)(C.Z,{strokeWidth:2,height:ie,fill:"transparent",stroke:"var(--color-secondary-themed)"}),De&&(0,t.h)(C.Z,{height:ie,strokeWidth:2})),fe?(0,t.h)(w.xv.Meta,{color:De?"accent-red":"pub-secondary-text",className:"like-count"},le(De?"Liked":"Like"),!se&&Je>0?` (${(0,E.numberToString)(Je)})`:""):!se&&Je>0?(0,t.h)("span",{className:"like-count"},(0,E.numberToString)(Je)):ae?(0,t.h)("span",{className:"like-count"},le("Like")):null)),!oe&&this.state.includeModal&&(0,t.h)(ee,{modalRef:this.modalRef,user:j,pub:Z,comment:ne,react:this.react}))}}const z=(0,S.fz)(q);function ee({comment:$,pub:J,user:j,modalRef:Z,onClose:ne,react:ie}){const{iString:oe}=(0,S.M1)();return(0,t.h)(x.Z,{ref:Z,onClose:ne},(0,t.h)(s.tu,{alignItems:"center",paddingTop:80,gap:24},(0,t.h)(w.xv.H2,null,oe($?"Subscribe to like this comment":"Subscribe to like this post")),(0,t.h)(P.Z,{user:j,pub:J,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:re=>U(this,null,function*(){const ae=re&&re.body&&re.body.email;re&&re.body&&re.body.prompt_to_login||!(yield ie())?window.location.href=(0,g.getSigninUrl)({for_pub:J.subdomain,email:ae}):Z!=null&&Z.current&&((0,O.a)({freeSignup:!0,freeSignupEmail:ae}),yield Z.current.close())})})))}},49715:(K,f,e)=>{"use strict";e.d(f,{J:()=>G});var t=e(6400),a=e(30396),i=e(80569),c=e.n(i),p=e(82626),l=e(85928),v=e.n(l),_=e(6385),g=e(15045),E=e(83322),S=e(13045),O=e(63270),A=e(3258),u=e(39419),o=e(84040),s=e(51126),w=e(62246),P=e(43887),C=e(75425),x=e(96427),D=e(81671),y=e(61152);const M={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var T=Object.defineProperty,R=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=(q,z,ee)=>z in q?T(q,z,{enumerable:!0,configurable:!0,writable:!0,value:ee}):q[z]=ee,V=(q,z)=>{for(var ee in z||(z={}))F.call(z,ee)&&U(q,ee,z[ee]);if(R)for(var ee of R(z))N.call(z,ee)&&U(q,ee,z[ee]);return q},W=(q,z,ee)=>new Promise(($,J)=>{var j=ie=>{try{ne(ee.next(ie))}catch(oe){J(oe)}},Z=ie=>{try{ne(ee.throw(ie))}catch(oe){J(oe)}},ne=ie=>ie.done?$(ie.value):Promise.resolve(ie.value).then(j,Z);ne((ee=ee.apply(q,z)).next())});const L={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},k={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},H={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},G=({pub:q,post:z,user:ee,open:$,setOpen:J,placeholderText:j=""})=>{const Z=v()().add(2,"minutes"),[ne,ie]=(0,a.eJ)(null),[oe,re]=(0,a.eJ)(j),[ae,se]=(0,a.eJ)(!1),[fe,le]=(0,a.eJ)(!0),[Ae,De]=(0,a.eJ)(L.PREAMBLE),[je,Je]=(0,a.eJ)(null),[Be,st]=(0,a.eJ)(null),[ht,gt]=(0,a.eJ)(!0),[Xe,Re]=(0,a.eJ)(!0),[Ne,ke]=(0,a.eJ)(!1),[ot,Dt]=(0,a.eJ)(v()().add(1,"day").toDate()),[ln,ct]=(0,a.eJ)(""),{getConfigFor:Oe}=(0,O.xR)(),Se={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Be],Ze=ht?"Send":"Publish",Fe=Ne&&ot?v()(ot).max(Z).fromNow():"",et=`${Ze} cross-post ${ht?Se:""} ${Fe}`,Qe=ne==null?void 0:ne.find(ue=>ue.id===je),$e=(0,C.pm)();(0,a.d4)(()=>{$&&!ne&&fe&&(()=>W(void 0,null,function*(){var we;try{const me=yield c().get("/api/v1/restack/restackable-pubs"),Ee=((we=me==null?void 0:me.body)==null?void 0:we.publications)||[];ie(Ee),le(!1),Ee.length>0&&(Je(Ee[0].id),st("everyone"))}catch(me){console.error("Failed to load user profile for restacking: ",me)}}))()},[$,ee,fe,le,ne,ie]),(0,a.d4)(()=>{$&&ne&&ne.length===0&&!fe&&(0,u.redirect)((0,g.getStartPublishingUrl)())},[$,ne,fe]);const Te=(ue,we)=>{J(!$,we),De(L.PREAMBLE),ct(null),le(!1),we&&(re(""),(0,A.j)(A.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:q.id,restacked_post_id:z.id,restacking_user_id:ee.id,restacking_publication_id:Qe.id,restacking_blurb:oe}),$e.popToast(me=>(0,t.h)(C.FN,V({text:Ne?`This post is scheduled to cross-post ${Fe}`:"This post was cross-posted to your subscribers"},me)))),(0,A.j)(A.FP.CROSS_POST_MODAL_CLOSED,{didRestack:we})},te=()=>W(void 0,null,function*(){(0,A.j)(A.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),le(!0);try{if(Ne){const ue=v()(ot).max(Z).toDate();yield c().post(`/api/v1/restack/${z.id}/schedule`).send({audience:Be,restackingPubId:Qe.id,introText:oe,sendEmail:ht,publishToWeb:Xe,scheduledAt:ue})}else yield c().post(`/api/v1/restack/${z.id}`).send({audience:Be,restackingPubId:Qe.id,introText:oe,sendEmail:ht,publishToWeb:Xe});(0,A.j)(A.FP.CROSS_POST_MODAL_SUBMITTED),Te({},!0);return}catch(ue){if((0,A.j)(A.FP.CROSS_POST_MODAL_SUBMIT_FAILED),ue instanceof TypeError)throw ct("An unknown error ocurred. This post was not recommended."),le(!1),ue;ct((0,u.getNetworkErrorMessage)(ue,"This post could not be recommended.")),le(!1)}});return(0,t.h)(w.u_,{isOpen:$,onClose:Te},(0,t.h)(w.xB,{includeClose:!0,onClose:Te,title:"Cross-post to your Substack"}),(0,t.h)("div",{"data-testid":"modal-ref-id",className:M.modalWrap},Ae===L.PREAMBLE?(0,t.h)(s.tu,{gap:24,paddingTop:12},(0,t.h)(s.tu,{gap:16},(0,t.h)("textarea",V({className:M.textarea,placeholder:"Say why this post is worth reading...",onChange:ue=>{ae||(se(!0),(0,A.j)(A.FP.CROSS_POST_MODAL_TYPING_STARTED)),re(ue.target.value)},value:oe,maxLength:"800"},y.J)),(0,t.h)(s.tu,{gap:12,className:M.postPreview,paddingX:16,paddingY:16},(0,t.h)(s.gq,{alignItems:"center",gap:8},(0,t.h)(D.Z,{pub:q,size:24,logo_url:q.logo_url,linkify:!1,className:M.pubIcon,noMargin:!0}),(0,t.h)(P.xv.B4,{color:"primary",weight:"semibold",size:14},q.name)),(0,t.h)(s.tu,{gap:4},(0,t.h)(P.xv.H4,{weight:"semibold"},z.title),(0,t.h)(P.xv.B3,{color:"secondary"},(0,E.formatEllipsis)(((z.truncated_body_text||"").replace(p.Substitutions.PUBLICATION_NAME,q.name)||z.subtitle||"").substring(0,100)))))),ln&&(0,t.h)(P.xv.B4,{color:"accent-red"},ln),(0,t.h)(o.zx,{priority:"primary-theme",onClick:()=>{if((0,A.j)(A.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!oe){ct("Please write something to your subscribers to continue"),(0,A.j)(A.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}ct(""),De(L.AUDIENCE_SELECTION),(0,A.j)(A.FP.CROSS_POST_MODAL_CONTINUED)},disabled:fe||!oe,className:"restack-modal-button "},"Continue")):(0,t.h)(s.tu,{gap:24,paddingTop:12},(0,t.h)(s.tu,{gap:20},(0,t.h)(s.tu,{gap:8},(0,t.h)(P.xv.B3,null,"Post to"),(0,t.h)(x.P,{value:Qe.id,onChange:ue=>{st("everyone"),Je(Number(ue))},className:M.select},ne.map(ue=>(0,t.h)("option",{value:ue.id},ue.name)))),(0,t.h)(s.tu,{gap:8},(0,t.h)(P.xv.B3,null,"Send to"),(0,t.h)(x.P,{value:Be,onChange:ue=>st(ue),className:M.select},((Qe==null?void 0:Qe.payments_state)==="enabled"?(0,_.getAudiencesForPublicListing)():["everyone"]).map(ue=>(0,t.h)("option",{value:ue},k[ue]))))),(0,t.h)(s.tu,{gap:12},(0,t.h)(P.xv.B3,null,"Delivery"),(0,t.h)(S.ji,{value:ht,label:"Send cross-post via email",onChange:ue=>gt(ue)}),(0,t.h)(S.ji,{value:Xe,label:"Publish cross-post to web",onChange:ue=>Re(ue)}),(0,t.h)(S.ji,{value:Ne,label:"Schedule time to publish cross-post",onChange:ue=>ke(ue),contentBelow:(0,t.h)(S.HZ,{expanded:Ne},(0,t.h)(s.tu,{paddingTop:8},(0,t.h)(S.Tz,{value:ot!=null?ot:new Date,max:v()().add(92,"days").toDate(),onChange:ue=>{Dt(new Date(ue.currentTarget.value))}})))})),ln&&(0,t.h)(P.xv.B4,{color:"accent-red"},ln),(0,t.h)(o.zx,{priority:!ht&&!Xe?"secondary":"primary-theme",onClick:te,disabled:fe||!ht&&!Xe,className:"restack-modal-button "},et))))}},69427:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>se});var t=e(6400),a=e(98661),i=e(91004),c=e(35616),p=e(83322),l=e(15045),v=e(28488),_=e(3258),g=e(58884),E=e(39419),S=e.n(E),O=e(51126),A=e(76235),u=e(43887),o=e(7922),s=e(46595),w=e(51889),P=e(54813),C=e(64484),x=e(73416),D=e(21302),y=e(65665),M=e(7775),T=e(74957),R=e(41874),F=e(95950),N=e(96789),U=e(79786),V=e(38441),W=Object.defineProperty,L=Object.defineProperties,k=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,G=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,ee=Reflect.get,$=(le,Ae,De)=>Ae in le?W(le,Ae,{enumerable:!0,configurable:!0,writable:!0,value:De}):le[Ae]=De,J=(le,Ae)=>{for(var De in Ae||(Ae={}))q.call(Ae,De)&&$(le,De,Ae[De]);if(H)for(var De of H(Ae))z.call(Ae,De)&&$(le,De,Ae[De]);return le},j=(le,Ae)=>L(le,k(Ae)),Z=(le,Ae,De)=>($(le,typeof Ae!="symbol"?Ae+"":Ae,De),De),ne=(le,Ae,De)=>ee(G(le),De,Ae),ie=(le,Ae,De)=>new Promise((je,Je)=>{var Be=gt=>{try{ht(De.next(gt))}catch(Xe){Je(Xe)}},st=gt=>{try{ht(De.throw(gt))}catch(Xe){Je(Xe)}},ht=gt=>gt.done?je(gt.value):Promise.resolve(gt.value).then(Be,st);ht((De=De.apply(le,Ae)).next())});const oe=(0,a.forwardRef)((le,Ae)=>(0,t.h)(o.Z,j(J({},le),{className:"share-action",forwardedRef:Ae}),(0,t.h)("div",{className:"action-icon"},(0,t.h)(s.Z,null)),(0,t.h)(u.xv.B4,{translated:!0,color:"secondary"},"Other"))),re=({pub:le,post:Ae,profile:De,comment:je})=>{let Je=typeof document!="undefined"?document.title:"",Be="",st="";const ht=(0,l.getBaseUrl)(le).replace(/^https?:\/\//,"").replace(/\/$/);return je?(Je=je.name?`Comment by ${je.name} on ${le.name}`:`Comment on ${le.name}`,Be=(0,p.truncateText)(je.body,100),st=Ae.cover_image||null):Ae?(Je=Ae.title||Ae.draft_title,Be=ht,st=Ae.cover_image||null):le?(Je=le.name,Be=ht,st=le.logo_url):De&&(Je=De.name,Be=De.bio,st=(0,l.getUserPhotoUrl)(De)),(0,t.h)(O.gq,{className:`social-preview-box ${Ae?"post":le?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,t.h)("div",{className:"social-image-box"},(Ae||le)&&st&&(0,t.h)(U.e,{className:"social-image",src:st,alt:"",maxWidth:120,loading:"lazy"}),!Ae&&!le&&st&&(0,t.h)(V.cy,{className:"social-image",imageUrl:st,size:52}),!st&&(0,t.h)(P.Z,{className:"social-image-default"})),(0,t.h)(O.tu,{paddingLeft:12,paddingY:8},(0,t.h)(u.xv.H4,null,Je),(0,t.h)(u.xv.B4,{color:"secondary"},Be)))},ae=class extends N.p{constructor(le,Ae){super(le,Ae),this.noFullscreen=!0}open(){return ie(this,null,function*(){const le="direct",Ae={title:(0,i.B8)(J({},this.props)),url:(0,i.O1)(le,J({medium:this.state.medium},this.props))};if((0,E.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(Ae))try{yield navigator.share(Ae),(0,_.j)(_.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"}),(0,g.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(De){if(De.name==="AbortError")return;(0,_.j)(_.FP.NATIVE_SHARE_FAILED,{errorName:De.name,errorMessage:De.message})}ne(ae.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,_.j)(_.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||this.props.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:le,pub:Ae,profile:De,comments:je,commentId:Je}){const Be=je||Je?"discussion":le?"post":Ae?"publication":De?"profile":null,st=Be?this.context.iTemplate`Share this ${Be}`:this.context.iString("Share"),ht=je&&Je&&je.find(gt=>gt.id===Je);return(0,t.h)(t.Fragment,null,(0,t.h)("div",{className:"share-dialog-title"},st),(0,t.h)(O.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(le||Ae||De)&&(0,t.h)(re,{post:le,pub:Ae,profile:De,comment:ht}),(0,t.h)(fe,j(J({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,i.B8)(J({},this.props)),shareUrl:(0,i.O1)(null,J({medium:this.state.medium},this.props))}))))}};let se=ae;Z(se,"contextType",v.wj);function fe(le){const Ae=(0,c.N)(),De=()=>{var je;(je=le.onChange)==null||je.call(le)};return(0,t.h)(O.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,t.h)(o.Z,{onClick:()=>{(0,i.Ui)(J({},le)),De()},className:"share-action"},(0,t.h)("div",{className:"action-icon"},(0,t.h)(M.Z,null)),(0,t.h)(u.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,t.h)(o.Z,{className:"share-action",onClick:()=>{(0,i.Po)(J({},le)),De()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(R.Z,null)),(0,t.h)(u.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,t.h)(o.Z,{className:"share-action",onClick:()=>{(0,i.WZ)(J({},le)),De()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(T.Z,null)),(0,t.h)(u.xv.B4,{translated:!0,color:"secondary"},"Email")),(0,t.h)(o.Z,{className:"share-action",onClick:()=>{(0,i.BZ)(J({},le)),De()}},(0,t.h)("div",{className:"action-icon"},(0,t.h)(x.Z,null)),(0,t.h)(u.xv.B4,{color:"secondary"},Ae?"Note":"Notes")),(0,t.h)(A.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,t.h)(oe,null),onOpen:()=>{(0,_.j)(_.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:le.medium||"web",post_id:le.post?le.post.id:null,utm_campaign:le.utm_campaign||"default"})}},(0,t.h)(A.sN,{onClick:()=>{(0,i.lc)(J({},le)),De()},icon:(0,t.h)(C.Z,null)},"Linkedin"),(0,t.h)(A.sN,{onClick:()=>{(0,i.sn)(J({},le)),De()},icon:(0,t.h)(y.Z,null)},"Reddit"),(0,t.h)(A.sN,{onClick:()=>{(0,i.b6)(J({},le)),De()},icon:(0,t.h)(w.Z,null)},"Hacker News"),(0,t.h)(A.sN,{onClick:()=>{(0,i.Vn)(J({},le)),De()},icon:(0,t.h)(D.Z,null)},"Pinterest"),(0,t.h)(A.sN,{onClick:()=>{(0,i.Wn)(J({},le)),De()},icon:(0,t.h)(F.Z,null)},"Twitter")))}},61152:(K,f,e)=>{"use strict";e.d(f,{J:()=>A,Z:()=>u});var t=e(6400),a=e(83322),i=e(39419),c=e.n(i),p=Object.defineProperty,l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(o,s,w)=>s in o?p(o,s,{enumerable:!0,configurable:!0,writable:!0,value:w}):o[s]=w,E=(o,s)=>{for(var w in s||(s={}))v.call(s,w)&&g(o,w,s[w]);if(l)for(var w of l(s))_.call(s,w)&&g(o,w,s[w]);return o},S=(o,s)=>{var w={};for(var P in o)v.call(o,P)&&s.indexOf(P)<0&&(w[P]=o[P]);if(o!=null&&l)for(var P of l(o))s.indexOf(P)<0&&_.call(o,P)&&(w[P]=o[P]);return w},O=(o,s,w)=>(g(o,typeof s!="symbol"?s+"":s,w),w);const A={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class u extends t.Component{constructor(){super(...arguments),O(this,"onWindowResize",s=>{this.setAutoHeight()}),O(this,"onKeyDown",s=>(this.props.inline&&s.key==="Enter"&&s.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(s))),O(this,"onInput",s=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(s))),O(this,"onBlur",()=>{var s;if(this.props.inline){const w=(s=this.base)==null?void 0:s.value,P=(0,a.sanitizeInlineText)(w);w&&w!==P&&(this.base.value=P,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(s,w,P){s.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,i.stateTransaction)(this,s=>{this.base.style.height="";const w=window.getComputedStyle(this.base),P=parseInt(w.getPropertyValue("height")),C=parseInt(w.getPropertyValue("padding-top"))+parseInt(w.getPropertyValue("padding-bottom")),x=parseInt(w.getPropertyValue("line-height")),D=Math.min(Math.round((this.base.scrollHeight-C)/x),this.props.maxLines||1/0);this.base.style.height=`${Math.max(D*x+C,P)}px`,this.base.style.height!==s.height&&this.setState({height:this.base.style.height})}))}render(s,{height:w}){var P=s,{children:C,ref:x,style:D,onKeyDown:y,onInput:M,inline:T,autoHeight:R,maxLines:F}=P,N=S(P,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return R&&(D=Object.assign({},D,{height:w})),(0,t.h)("textarea",E(E({style:D,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},A),N),C)}}},4605:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>o,g1:()=>O});var t=e(6400),a=e(30396),i=e(80569),c=e.n(i),p=e(85928),l=e.n(p),v=e(83322),_=e(3258),g=e(66141);const E=(s,{timeout:w=5e3,className:P="",dismissable:C=!1,beforeDismiss:x=null}={},D)=>{D=D||document.body;const y=document.createElement("div");y.setAttribute("id","toast"),y.setAttribute("role","alert"),P&&y.classList.add(P),D.appendChild(y);const M=()=>{x&&x(),y.classList.remove("in"),setTimeout(()=>{y.remove()},500)};(0,t.render)([(0,t.h)("p",null,s),C&&(0,t.h)("a",{className:"dismiss",onClick:M},"Dismiss")],y),setTimeout(()=>{y.classList.add("in")}),!C&&setTimeout(M,w)},S=({children:s,className:w,dismissKey:P,dismissDurationInSeconds:C,beforeDismiss:x,container:D})=>{const[y,M]=(0,g.Z)(P,C,x);if(!y)return E(s,{className:w,beforeDismiss:M,dismissable:!0},D)},O=({user:s,pub:w,container:P})=>{if(!(!s||!w||!s.is_subscribed))return(0,t.h)(u,{pub:w,container:P})},A=s=>{if(s&&s.cardExpiresAt){const w=l()(s.expiry).subtract(v.GRACE_PERIOD_DAYS,"day"),P=l()(s.cardExpiresAt),C=l()().add(12,"day");return P.isBefore(w)&&w.isBefore(C)}return!1},u=({pub:s,container:w})=>{const[P,C]=(0,a.eJ)(null);if((0,a.d4)(()=>{c().get("/api/v1/subscription").then(x=>C(x.body)).catch(x=>{console.error("Failed to fetch subscription data: ",x)})},[]),A(P))return(0,t.h)(S,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*v.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,_.j)(_.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:w},"Your credit card is expiring soon."," ",(0,t.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,_.j)(_.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${s.name}`,".")},o=E},38441:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>T,cy:()=>W,m1:()=>R});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(15045),l=e(3258),v=e(11688),_=e(32127),g=e(1782),E=e(36377),S=e(89867),O=e(95847),A=e(79786),u=e(35570),o=e(84017),s=Object.defineProperty,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,x=(L,k,H)=>k in L?s(L,k,{enumerable:!0,configurable:!0,writable:!0,value:H}):L[k]=H,D=(L,k)=>{for(var H in k||(k={}))P.call(k,H)&&x(L,H,k[H]);if(w)for(var H of w(k))C.call(k,H)&&x(L,H,k[H]);return L},y=(L,k,H)=>(x(L,typeof k!="symbol"?k+"":k,H),H);const M=33;class T extends t.Component{constructor(){super(...arguments),y(this,"onClick",k=>{if(this.props.onClick)this.props.onClick(k);else if(this.props.modalProfile)k.preventDefault(),k.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,l.j)(l.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(k){return k?k.author_id?{id:k.author_id,name:k.author_name,photo_url:(0,p.getUserPhotoUrl)(k,{preferAuthorPhoto:!0}),publications:k.subdomain?[k]:[]}:k.user_id?{id:k.user_id,name:k.name,photo_url:(0,p.getUserPhotoUrl)(k),publications:[]}:{id:k.id,name:k.name,photo_url:(0,p.getUserPhotoUrl)(k),publications:[]}:{id:null,name:null,photo_url:p.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(k){return!!T.getSubject(k).photo_url}isSelf(){return this.props.user&&this.props.user.id===T.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?(0,p.getProfileUrl)(T.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,p.getReaderProfileUrl)(T.getSubject(this.props.subject))}onBeforeProfileClose(k){if(k)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:k,pub:H,user:G,badge:q,freeSignup:z,freeSignupEmail:ee,token:$,isStatic:J,size:j,modalProfile:Z,isBanned:ne,lazy:ie,tooltip:oe,noLink:re,className:ae}){j=j||M;const se=T.getSubject(k);return(0,t.h)("div",{className:c()("user-head",{banned:ne},ae)},re?(0,t.h)(R,{photo_url:se.photo_url,size:j,isStatic:J,isBanned:ne,lazy:ie,badge:q,tooltip:oe,className:"default-pointer"}):(0,t.h)("a",{href:J||!Z?this.profileUrl():null,onClick:this.onClick},(0,t.h)(R,{photo_url:se.photo_url,size:j,isStatic:J,isBanned:ne,lazy:ie,badge:q,tooltip:oe})),this.props.modalProfile&&!J&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,t.h)(O.EB,{ref:fe=>this.profile=fe,user:G,freeSignup:z,freeSignupEmail:ee,needsPhoto:!0,token:$,onBeforeClose:fe=>this.onBeforeProfileClose(fe)}):(0,t.h)(o.FI,{ref:fe=>this.profile=fe,profileUser:se,pub:H,isBanned:ne})))}}const R=({photo_url:L,size:k,isStatic:H,isBanned:G,lazy:q,badge:z,tooltip:ee,style:$,expandable:J,children:j,className:Z})=>{const[ne,ie]=(0,a.eJ)(!1),oe=!L&&!!j,re={founding:(0,t.h)(E.Z,{height:14,width:14,stroke:"var(--print_on_pop)",strokeWidth:1,title:ee}),author:(0,t.h)(_.Z,{height:14,width:14,stroke:"var(--print_on_pop)",title:ee})}[z];return(0,t.h)("div",{onClick:()=>{J&&ie(!0)},className:c()("profile-img-wrap",Z)},oe?j:q?(0,t.h)(N,D({},{photo_url:L,size:k,isStatic:H,badge:z,style:$})):(0,t.h)(U,D({},{photo_url:L,size:k,isStatic:H,badge:z,style:$})),re&&(0,t.h)("div",{className:"profile-img-badge",title:ee},re),G&&(0,t.h)(g.Z,null),(0,t.h)(v.cr,{module:"./ImageViewerModal",resolve:ae=>ae.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:ne,modalContent:[{src:oe?j:L,attrs:{src:oe?j:L}}],onClose:()=>{ie(!1)},step:0,includeDownloadButton:!1}))},F=(L,k)=>(0,p.imginary)(L,k*2,{height:k*2,crop:"fill"}),N=({photo_url:L,size:k,isStatic:H,badge:G,style:q})=>{const[z,ee]=(0,u.Z)({}),$=!ee||ee.isIntersecting?L:p.DEFAULT_PHOTO_URL;return(0,t.h)(V,{url:F($,k),size:k,ref:z,badge:G,isStatic:H,style:q})},U=({photo_url:L,size:k,isStatic:H,badge:G,style:q})=>(0,t.h)(V,{url:F(L,k),size:k,badge:G,isStatic:H,style:q}),V=({url:L,size:k,isStatic:H,ref:G,badge:q,className:z})=>H?(0,t.h)(S.Z,{className:z,src:(0,p.imginary)(L,k*2,{height:k*2,crop:"fill"}),ref:G,height:k,width:k,alt:q||""}):(0,t.h)(A.e,{className:z,src:L,imageProps:{height:k*2,crop:"fill"},maxWidth:k*2,ref:G,alt:q||""}),W=({imageUrl:L,alt:k,size:H,className:G})=>(0,t.h)(V,{className:`user-photo ${G||""}`,url:L,badge:k,size:H})},84017:(K,f,e)=>{"use strict";e.d(f,{FI:()=>y,fi:()=>T});var t=e(6400),a=e(94184),i=e.n(a),c=e(80569),p=e.n(c),l=e(85928),v=e.n(l),_=e(15045),g=e(83322),E=e(1782),S=e(96789),O=Object.defineProperty,A=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(R,F,N)=>F in R?O(R,F,{enumerable:!0,configurable:!0,writable:!0,value:N}):R[F]=N,w=(R,F)=>{for(var N in F||(F={}))u.call(F,N)&&s(R,N,F[N]);if(A)for(var N of A(F))o.call(F,N)&&s(R,N,F[N]);return R},P=(R,F)=>{var N={};for(var U in R)u.call(R,U)&&F.indexOf(U)<0&&(N[U]=R[U]);if(R!=null&&A)for(var U of A(R))F.indexOf(U)<0&&o.call(R,U)&&(N[U]=R[U]);return N},C=(R,F,N)=>new Promise((U,V)=>{var W=H=>{try{k(N.next(H))}catch(G){V(G)}},L=H=>{try{k(N.throw(H))}catch(G){V(G)}},k=H=>H.done?U(H.value):Promise.resolve(H.value).then(W,L);k((N=N.apply(R,F)).next())});const x=92;class D extends t.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(F){!this.props.manualLoad&&F.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return C(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const F=yield p().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:F.body})}catch(F){console.error("Failed to load profile:",F)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:F}){var N;const U=((N=this.getProfileUser().publications)==null?void 0:N.filter(V=>V.id!==F.id))||[];return(0,t.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,t.h)(T,{photo_url:(0,_.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:F}),(0,t.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,t.h)("div",{className:"user-profile-status"},this.getProfileUser().id===F.author_id?(0,t.h)("b",null,"Author of ",F.name):this.getProfileUser().subscribed_at?`Subscriber to ${F.name} since ${v()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),U.length>0&&(0,t.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,g.oxfordComma)(U.map(V=>(0,t.h)("a",{href:V.base_url,native:!0},V.name)))),this.props.isBanned&&(0,t.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",F.name))}}class y extends S.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const F=this.props,{ref:N}=F,U=P(F,["ref"]);return(0,t.h)("div",{className:"user-profile-modal"},(0,t.h)(D,w({ref:V=>this.profile=V,manualLoad:!0},U)))}}const M=({children:R,email:F,pub:N})=>(0,t.h)("a",{target:"_blank",href:(0,_.getSubscriberDetailsUrl)(N,F)},R),T=({photo_url:R,size:F=x,banned:N=!1,email:U="",className:V="",pub:W=null,children:L=void 0})=>{const k=(0,t.h)("img",{className:"user-profile-head",height:F,width:F,src:(0,_.imginary)(R,F*2,{height:F*2,crop:"fill"})});return(0,t.h)("div",{className:i()(V,"profile-image-wrapper")},U&&W?(0,t.h)(M,{email:U,pub:W},k):k,N&&(0,t.h)(E.Z,{height:F}),L)}},78519:(K,f,e)=>{"use strict";e.d(f,{CX:()=>S});var t=e(6400),a=e(30396),i=Object.defineProperty,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(O,A,u)=>A in O?i(O,A,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[A]=u,_=(O,A)=>{for(var u in A||(A={}))p.call(A,u)&&v(O,u,A[u]);if(c)for(var u of c(A))l.call(A,u)&&v(O,u,A[u]);return O};const g=(0,t.createContext)({publication:{},pub:{},setPublication:({pub:O,publication:A})=>{}});g.displayName="PublishContext";const E=O=>{const A=u=>{const o=S();return h(O,_(_({},o),u))};return A.displayName=`withPublishContext(${O.name||O.displayName||"Anonymous"})`,A},S=()=>(0,a.qp)(g)},51609:(K,f,e)=>{"use strict";e.d(f,{WB:()=>q,rN:()=>z});var t=e(82626),a=e(83322),i=e(18363),c=e(95191),p=e(82054),l=e(88985),v=e(67042),_=e(15867),g=e(28663),E=e(77317),S=e(39214),O=e(66262),A=e(24440),u=e(57670),o=e(46953),s=e(18480),w=e(29808),P=e(66278),C=e(71817),x=e(53187),D=e(82350),y=e(31417),M=e(61611),T=e(3258),R=e(23837),F=Object.defineProperty,N=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,W=($,J,j)=>J in $?F($,J,{enumerable:!0,configurable:!0,writable:!0,value:j}):$[J]=j,L=($,J)=>{for(var j in J||(J={}))U.call(J,j)&&W($,j,J[j]);if(N)for(var j of N(J))V.call(J,j)&&W($,j,J[j]);return $},k=($,J,j)=>new Promise((Z,ne)=>{var ie=ae=>{try{re(j.next(ae))}catch(se){ne(se)}},oe=ae=>{try{re(j.throw(ae))}catch(se){ne(se)}},re=ae=>ae.done?Z(ae.value):Promise.resolve(ae.value).then(ie,oe);re((j=j.apply($,J)).next())});const H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAEyCAYAAADk0er5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAooSURBVHgB7d1rbhvXGcfhw6slUYyFBHZiAwnsFcTdQZENpDtpV9A02UCbnTQraHeQ7EAGAsQ2bBiyJVIX3spDwIVhIICRD+L8Z54HoCiL+kKLHP34Ho5Or3zg119//fP26i/9fv/b7fWjAgCwH7/Uy7ZJvn/w4MHT92/ovfvk9PT05M6dO99tP/3b8fFxOTw8LMPhsAAA7MNisdhdzs/Py3q9/uf19fUPjx8/Pqu37QKmxst4PP7P0dHRk7t375Zer1cAAJpgGy+7iJnNZj/f3Nx8UyOmX2+ok5fJZPLk5OREvAAAjbJdQip1wLJdHfrTtln+Xr/We/bs2aNttJzev39fvAAAjVUnMS9evNisVqtv+tsP/5hOp+IFAGi0Ook5Pj6uwfJtfxsuX4/H4wIA0HRHR0c1ZL6t74F54mwjACDBYDCoV4/6BQAgjIABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIMC9Ap6/W6XFxclOVyWTabTUk3Ho/LZDIp/b7XY9AlnvHQITVezs7OymKxaEW8VDc3N7v7VO8b0B0CBjpkNpu1JlzeV+9TnSoB3SFgoEPqtKKt6pIY0B0CBmiFNk6WgN8nYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGOqTX6xWANhAw0CGDwaC01Xg8LkB3CBjokOl02sopTL1Pk8mkAN0hYKBD+v1+OTk5ac20oobLcDjc3ad634DuGBagU+ov+jqJAUjmJQsAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEGdYoKGurq7KmzdvymKxKOv1ugC3o9/vl9FoVI6Pj8tkMinQRAKGxqmx8vLly3J9fV2A21efg/X5Vy8XFxfls88+K8OhXxc0iyUkGqUeOJ8/fy5eoCHqc/HVq1emoDSOgKFR6pLRcrksQHPc3NyU8/PzAk0iYGiMGi4OktBM9blpCkOTCBgao75ZF2imGi+Xl5cFmkLA0Bh1TA00l+VdmkTAAABxBAyN4TRNaLb6t2GgKQQMjXF4eFh6vV4Bmmk8HhdoCgFDY9S//vnJJ58UoHmm06kpKY0iYGiUepA0poZmqeFy9+7dAk0iYGiUOoW5d+9eOTg4KMD+3blzp3zxxRe75yY0iXkgjVNf7d2/f3+3B8t8Pt+dXu0PaMHtebeZY526eDFBUwkYGqvuhFsvAPAhM0EAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII69kOicq6urcnl5aYNIWqFuvHh4eGjTRTpHwNApdXfrGi/QFjXEZ7NZWa1WZTKZFOgKS0h0Rj3Aixfaqk4WF4tFga4QMHTG9fV1gTZbLpcFukLA0Bn1vQLQZpvNpkBXOKLTGYPBoECbjcfjAl0hYOiM0WjkTA1aqz62h0PnZdAdHu10Sj1Lo05inEZNW9Sl0Rov9VRq6BIBQ+fUg71JDEA2S0gAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBx7IdE5V1dXNnOkNepmjnUjR/t70TUChk6Zz+e7eIG2qCE+m83KarXa7bYOXWEJic6oB3jxQlvVyeJisSjQFQKGzri+vi7QZsvlskBXCBg6o75XANpss9kU6ApHdDpjMBgUaLPxeFygKwQMnTEajZypQWvVx/Zw6LwMusOjnU6pZ2nUSYzTqGmLujRa46WeSg1dImDonHqwN4kByGYJCQCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCIMyzsxdXVVTk/Py8AH2s+n+8uNMPR0VF5+PBhGY1GhdsnYPZgsVjsDkL37t0rAB/r5cuXAqZB6s/i9PS0fPXVV+Xg4KBwuywh7UE9CH366acFgGyr1aq8ePGicPsEzB4YNwK0h6nYfggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4giYPViv1wUA+OMEzB70+/7bAdri6OiocPv8Jt2D6XRaXr9+XQDIVl+QPnz4sHD7hoVbd3BwUAaDQfntt9921yYywMeYz+eFZqjH7Xos//zzz8toNCrcPgGzJ/UBr9oB4I/x0h8AiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4NWCerlarAgDQdIvFol790l+v1z/N5/MCANB0/w+Y7Yd/z2azstlsCgBAU9VWOT8/3/T7/R/6X3755X+Xy+W/zs7OCgBAU719+3azncD8+ODBg6e7N/FuA+b7y8vLn9+8eWMSAwA0Sm2T7aBls10x+rk2S/1a792Np6enJ8Ph8LvRaPTX6XTa216XegEA2IdtrJTtgKVcXFxsVqvVjzVeHj9+vFsy6n34zc+ePXu0/abver3e19t/PikAAPvxtJ5stL3+qb7l5f0b/gfSCexetgOUpQAAAABJRU5ErkJggg==",G=[[O.N9,O.MQ,R.zF],[s.YT,s.vt,R.zF],[D.Pz,D.qK,a.TWEET_PLACEHOLDER_DATA_URI],[A.Dy,A.$p,a.TWEET_PLACEHOLDER_DATA_URI],[M.gp,M.o1,R.zF],[y.vR,y.Oy,R.zF],[C.qZ,C.W7,R.zF],[v.H6,v.yv,R.zF],[l.Z9,l.uL,R.zF],[p.aE,p.a7,a.TWEET_PLACEHOLDER_DATA_URI],[P.SH,P.kb,R.zF],[c.XC,c.bo,R.zF],[u.lA,u.aI,R.zF],[S.S,S.un,R.zF],[g.Ng,g.O5,R.zF],[E.t3,E.mt,H],[i.uF,i.ph,R.zF],[o.CA,o.Ee,R.zF],[_.vb,_.HL,R.zF],[(...$)=>(0,w.Gd)(...$),w.sv,R.zF],[(...$)=>(0,x.od)(...$),x.Ml,R.zF],[$=>$===t.Substitutions.FIRST_NOTE_EMBED,p.Gq,a.TWEET_PLACEHOLDER_DATA_URI]],q=($,J,j)=>{if(J.nodes.augmentation_placeholder)for(const[Z,,ne]of G){const ie=Z($,L({customSchema:J},j));if(ie){const oe=J.nodes.augmentation_placeholder.create({request_id:(0,a.randomString)(),url:ie,src:ne});return[ie,oe]}}return[null,null]},z=($,J,j,Z)=>k(void 0,null,function*(){const{request_id:ne,url:ie}=$.attrs;let oe,re;try{for(const[ae,se]of G)if(ae($.attrs.url,L({customSchema:j},Z))&&((0,T.j)(T.FP.EMBED_URL_ATTEMPTED,{url:ie,source:"paste"}),oe=yield se(ie,{customSchema:j}),(0,T.j)(T.FP.EMBED_URL_SUCCEEDED,{url:ie,source:"paste"}),oe))break}catch(ae){(0,T.j)(T.FP.EMBED_URL_FAILED,{url:ie,source:"paste"}),console.error("Failed to process augmentation placeholder:",$.attrs,ae),400<=ae.status&&ae.status<600&&(re=ae)}if(re){const ae=(0,D.Pz)($.attrs.url);if(setTimeout(()=>{ee(ne,J,j,(se,fe,le)=>{ae&&se.replaceRangeWith(fe,fe+le.nodeSize,j.text(le.attrs.url,[j.marks.link.create({title:le.attrs.url,href:le.attrs.url})])),se.delete(fe,fe+le.nodeSize)})},0),!ae)throw re}else setTimeout(oe?()=>{ee(ne,J,j,(ae,se,fe)=>{ae.setNodeMarkup(se,oe.type,oe.attrs,fe.marks)})}:()=>{ee(ne,J,j,(ae,se,fe)=>{ae.replaceRangeWith(se,se+fe.nodeSize,j.text(fe.attrs.url))})},0)}),ee=($,J,j,Z)=>{let ne=!1;const ie=J.state.tr;return J.state.doc.descendants((oe,re)=>{oe.type===j.nodes.augmentation_placeholder&&oe.attrs.request_id===$&&Z(ie,re,oe)!==!1&&(ne=!0)}),ne&&J.dispatch(ie),ne}},48930:(K,f,e)=>{"use strict";e.d(f,{c5:()=>C});var t=e(6400),a=e(39693),i=e.n(a),c=e(44908),p=e.n(c),l=e(80983),v=e(80569),_=e.n(v),g=e(15045),E=e(83322),S=e(3258),O=e(10884),A=Object.defineProperty,u=(x,D,y)=>D in x?A(x,D,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[D]=y,o=(x,D,y)=>(u(x,typeof D!="symbol"?D+"":D,y),y),s=(x,D,y)=>new Promise((M,T)=>{var R=U=>{try{N(y.next(U))}catch(V){T(V)}},F=U=>{try{N(y.throw(U))}catch(V){T(V)}},N=U=>U.done?M(U.value):Promise.resolve(U.value).then(R,F);N((y=y.apply(x,D)).next())});function w({editor:x,filesEnabled:D},y=new P){y.filesEnabled=D,y.setEditor(x);const M=new Plugin({props:{handleDOMEvents:{drop(T,R){return y.drop(T,R)},file_replace(T,R){return y.replaceFile(T,R)}}}});return y.setPlugin(M),M}class P{constructor(){o(this,"filesEnabled",!1)}setPlugin(D){this.plugin=D}setEditor(D){this.editor=D}maybeCreatePost(){return s(this,null,function*(){var D,y;yield(y=(D=this.editor).maybeCreatePost)==null?void 0:y.call(D)})}getInsertPos(D){return this.editor.getInsertPos(D)}dispatchAlerts(D){this.editor.handleDropFileErrors(D)}get schema(){return this.editor.getSchema()}get fileHandlingNodes(){return Object.entries(this.schema.nodes).filter(([,D])=>{var y;return(y=D==null?void 0:D.spec)==null?void 0:y.canHandleFile})}get view(){return this.editor.editorView}get pub(){return this.editor.props.pub}get post(){var D;return(D=this.editor.state)==null?void 0:D.post}addNewline(D){D.dispatch(D.state.tr.insertText("\r",D.state.doc.nodeSize-2))}drop(D,y){return this.shouldHandleDrop(y)?(this.handleDropEvent(y),!0):!1}getFilesToHandle(D){return s(this,null,function*(){const y=[];for(const M of D)(yield this.shouldHandleFile(M))&&y.push(M);return y})}getFilesToReject(D){return s(this,null,function*(){const y=[];for(const M of D)(yield this.shouldHandleFile(M))||y.push(M);return y})}shouldHandleDrop(D){var y,M;const T=((y=D==null?void 0:D.dataTransfer)==null?void 0:y.files)||[];return!(!T.length||((M=T[0].type)==null?void 0:M.indexOf("image/"))===0)}handleDropEvent(D){return s(this,null,function*(){var y;D.preventDefault();const M=Array.from(((y=D==null?void 0:D.dataTransfer)==null?void 0:y.files)||[]);yield this.handleRejections(M),yield this.maybeCreatePost(),yield this.processFiles(D,M)})}handleRejections(D){return s(this,null,function*(){const y=yield this.getFilesToReject(D);y!=null&&y.length&&(track(EVENTS.FILES_REJECTED,{files:y.map(M=>Object.assign({},M))}),this.dispatchAlerts(y))})}handleUploadError(D,y){return D.error=y,D.error.details=h("p",null,"We were unable to add ",h("b",null,D.name),". Please try again and if the problem persists, contact us at"," ",h("a",{href:"mailto:support@substack.com",target:"_blank",rel:"noopener"},"support@substack.com")),this.dispatchAlerts([D]),{filename:D.name,filetype:D.assignedType||D.type,filesize:D.size,title:C(D.name),dirty:!0,error:{message:"Unable to upload file",button:"Try again"}}}processFile(D,y=0){return s(this,null,function*(){var M,T;if((M=D.type)!=null&&M.startsWith("audio/"))this.editor.openAudioDnDModal(D);else if((T=D.type)!=null&&T.startsWith("video/"))this.editor.openVideoModal(D);else{const R=PlaceholderPlugin.addFile(this.view,y,D),F=yield this.uploadFile(D).catch(N=>this.handleUploadError(D,N));if(F){const N=yield this.createFileNode(D,F);PlaceholderPlugin.replace(this.view,R,N)}}})}processFiles(D,y){return s(this,null,function*(){const M=yield this.getFilesToHandle(y),T=this.getInsertPos(D);return Promise.all(M.map(R=>this.processFile(R,T)))})}fileSizeOK(D){return D.size<=MAX_FILE_SIZE?!0:(D.error=new Error("File too large"),D.error.details=h("p",null,"We were unable to add ",h("b",null,D.name)," because it is larger than ",numberToHumanFileSize(MAX_FILE_SIZE),". Try reducing the file size and adding again."),!1)}shouldHandleFile(D){return s(this,null,function*(){var y,M;if((y=D.type)!=null&&y.startsWith("audio/")||(M=D.type)!=null&&M.startsWith("video/"))return!0;if(!this.fileSizeOK(D))return!1;for(const[T,R]of this.fileHandlingNodes)if(yield this.canHandleFile(R,D))return!0;return this.addUnsupportedTypeError(D),!1})}canHandleFile(D,y){return s(this,null,function*(){return["development","test"].includes("production")||this.filesEnabled?(D.spec||D.type.spec).canHandleFile(this.pub,y):!1})}addUnsupportedTypeError(D){D.error=new Error("Unsupported file type"),D.error.details=h("p",null,"We were unable to add ",h("b",null,D.name)," because it is a type of file we don't support yet. Try adding a"," ",this.getSupportedTypesString()," file instead.")}getSupportedTypesString(){const D=this.fileHandlingNodes.map(([M,T])=>{var R,F;return((F=(R=T.spec)==null?void 0:R.definition)==null?void 0:F.supportedMimeTypes)||[]}).reduce((M,T)=>T.concat(M),[]).map(({name:M})=>mimetypes.extension(M)?mimetypes.extension(M).toUpperCase():null);D.push("CBZ"),D.push("KFX"),D.push("KPF");const y=compact(uniq(D));return y.push(`or ${y.pop()}`),y.join(", ")}createFileNode(D,y){return s(this,null,function*(){for(const[M,T]of this.fileHandlingNodes)if(yield this.canHandleFile(T,D))return T.create(y)})}canReplaceFile(D){return s(this,arguments,function*({node:y,file:M}){return this.fileSizeOK(M)?(yield this.canHandleFile(y,M))?!0:(this.addUnsupportedTypeError(M),!1):!1})}replaceFile(D,y){return s(this,null,function*(){if(!(yield this.canReplaceFile(y))){this.dispatchAlerts([y.file]);return}y.node.startReplacing();const M=yield this.uploadFile(y.file).catch(T=>this.handleUploadError(y.file,T));M.dirty=!0,M.thumbnail=y.node.attrs.thumbnail,M.title=y.node.attrs.title,M.description=y.node.attrs.description,y.node.attrs=M,y.node.stopReplacing(M.error)})}uploadFile(D){return s(this,null,function*(){const y=yield this.xhrUpload(D),M=`${getBaseUrl(this.pub)}/f/${y}`,T=`${getBaseUrl(this.pub)}/api/v1/file/${y}`;return{filename:D.name,filetype:D.assignedType||D.type,filesize:D.size,title:C(D.name),href:M,raw_href:T,fileKey:y,dirty:!0}})}xhrUpload(D,y=()=>{}){return s(this,null,function*(){var M;const T=yield request.post((M=this.post)!=null&&M.id?`/api/v1/file/${this.post.id}`:"/api/v1/file/pub-files").send({filename:D.name,filetype:D.assignedType||D.type,filesize:D.size,title:C(D.name)});return new Promise((R,F)=>{const{fileKey:N,url:U,fields:V}=T.body,W=new FormData;Object.keys(V).forEach(k=>W.append(k,V[k])),W.append("file",D);const L=new XMLHttpRequest;L.open("POST",U),L.upload.addEventListener("progress",y),L.upload.addEventListener("load",function(k){R(N)}),L.addEventListener("error",F),L.send(W)})})}}function C(x){return(0,E.toTitleCase)(x.split(".")[0].split("_").join(" ").split("-").join(" "))}},19503:(K,f,e)=>{"use strict";e.r(f),e.d(f,{addLink:()=>z,buildKeymap:()=>q});var t=e(25804),a=e(5284),i=e(36912),c=e(53833),p=e(23279),l=e.n(p),v=e(2376),_=e(10099),g=e(28663),E=e(77317),S=e(18480),O=e(31067),A=e(3258),u=e(39419),o=e(10884),s=e(23837),w=e(8464),P=e(56129),C=Object.defineProperty,x=Object.defineProperties,D=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,R=(ee,$,J)=>$ in ee?C(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:J}):ee[$]=J,F=(ee,$)=>{for(var J in $||($={}))M.call($,J)&&R(ee,J,$[J]);if(y)for(var J of y($))T.call($,J)&&R(ee,J,$[J]);return ee},N=(ee,$)=>x(ee,D($)),U=(ee,$,J)=>new Promise((j,Z)=>{var ne=re=>{try{oe(J.next(re))}catch(ae){Z(ae)}},ie=re=>{try{oe(J.throw(re))}catch(ae){Z(ae)}},oe=re=>re.done?j(re.value):Promise.resolve(re.value).then(ne,ie);oe((J=J.apply(ee,$)).next())});const V=new Set,W=l()((ee,$,J)=>{const j=$.trim();(0,E.l6)(j).then(Z=>{Z&&(V.add(j),$===ee.target.value&&J.classList.add("has-substack-link"))})},250,{maxWait:1e3});function L(ee,$){let J;if(ee.target.className==="url-input"){const{value:j}=ee.target,Z=j.trim();if(V.has(Z)||(0,g.Ng)(Z)||(0,_.lQ)(Z)){$.classList.add("has-substack-link");return}if((0,S.zb)(Z)){$.classList.add("has-opensea-link");return}(0,E.t3)(Z)&&W(ee,j,$),$.classList.remove("has-substack-link"),$.classList.remove("has-opensea-link")}}function k(ee,{scrollParent:$,publication:J}={}){const j=`Link ${(0,u.getModKeyLabel)()}K`;return console.log("what is the mark tyupe",ee),new P.$4({class:"mark-menu-item",title:j,icon:w.jy,active(Z){return!!((0,O.isSelectionNodeType)(Z,[Z.schema.nodes.image2,Z.schema.nodes.image3])?(0,O.getImageLinkFromSelection)(Z):(0,O.getMarkSurroundingSelection)(Z,ee))||(0,P.vM)(Z,ee)},enable(){return!0},run(Z,ne,ie){const oe=(0,O.getMarkSurroundingSelection)(Z,ee);let re,ae,se,fe;oe?(re=oe.pos,ae=oe,se=(0,O.isUnmarkedText)(Z,oe.pos.from,oe.pos.to,{allowedMarks:[ee]}),fe=oe.node.textContent):(re=Z.selection,ae=(0,O.getFirstMarkInSelection)(Z,ee),se=(0,O.isSelectionUnmarkedText)(Z,{allowedMarks:[ee]}),fe=Z.doc.textBetween(Z.selection.from,Z.selection.to));const le=(0,O.isSelectionNodeType)(Z,[Z.schema.nodes.captionedImage,Z.schema.nodes.image2,Z.schema.nodes.image3,Z.schema.nodes.caption].filter(Boolean)),Ae=le&&(0,O.getImageLinkFromSelection)(Z);se=se&&!le;const De={className:"create-link-menu",submitText:"Link",parent:j,title:"Create a link",fields:{},root:ie.dom.parentNode,scrollParent:$,position:(Ne,ke)=>(0,O.placeElement)(ie,re,Ne,ke),onInput:L};se&&(De.fields.text=new P.nv({label:"Enter text\u2026",className:"text-input",value:fe,required:!0})),De.fields.href=new P.Sm(ae,Ae,J),De.onSubmit=Ne=>{const ke=Z.tr;if(le)(0,O.setSelectionImageHref)(Z,ke,Ne.href);else if(Z.selection.empty&&!oe){const ot=Z.selection.from,Dt=ot+Ne.text.length;ke.insertText(Ne.text),ke.addMark(ot,Dt,ee.create(Ne)),ke.setSelection(v.Bs.create(ke.doc,ot,Dt))}else Ne.text&&Ne.text!==fe?(ke.insertText(Ne.text,re.from),ke.setSelection(v.Bs.create(ke.doc,re.from,re.from+Ne.text.length)),ke.deleteRange(re.from+Ne.text.length,re.to+Ne.text.length),ke.addMark(re.from,re.from+Ne.text.length,ee.create(Ne))):ke.addMark(re.from,re.to,ee.create(Ne));if(ne)return ie.dispatch(ke),!0},De.onClose=()=>{ie.focus()};const je=Ne=>U(this,null,function*(){Ne.preventDefault();const ot=document.querySelector(".create-link-menu .url-input").value.trim();let Dt;(0,P.pA)(De);const ln=o.Z.add(ie,re.pos,s.zF);try{if((0,A.j)(A.FP.EMBED_URL_ATTEMPTED,{url:ot,source:"link-menu"}),(0,S.zb)(ot))Dt=yield(0,S.vt)(ot);else if(V.has(ot))Dt=yield(0,E.mt)(ot);else if((0,_.lQ)(ot))try{const ct=yield(0,_.wM)(ot);Dt=ie.state.schema.nodes.digestPostEmbed.create(N(F({},ct),{isEditorNode:!0,nodeId:(0,u.uuidV4)()}))}catch(ct){console.error(ct),alert("Failed to find post. Please check the link and try again.")}else Dt=yield(0,g.O5)(ot,{customSchema:ie.state.schema,langauge:J==null?void 0:J.language});if((0,A.j)(A.FP.EMBED_URL_SUCCEEDED,{url:ot,source:"link-menu"}),Dt)o.Z.replace(ie,ln,Dt);else throw o.Z.remove(ie,ln),Error("No embed found")}catch(ct){(0,A.j)(A.FP.EMBED_URL_FAILED,{url:ot,source:"link-menu"}),alert("Embed failed. Please check the url and try again.")}}),Je=document.createElement("div");Je.className="create-link-menu-footer";const Be=new DocumentFragment;Be.append(document.createTextNode("There\u2019s a fancier way to share Substack links with your readers: "));const st=document.createElement("a");st.innerText="Convert your link into an embed",st.href="#",st.addEventListener("click",je),Be.append(st),Je.append(Be),De.footer=Je;const ht=document.createElement("div");ht.className="opensea-embed-footer";const gt=new DocumentFragment,Xe=document.createElement("b");Xe.textContent="Tip: ",gt.append(Xe),gt.append(document.createTextNode("You can also "));const Re=document.createElement("a");Re.innerText="embed your OpenSea NFT",Re.href="#",Re.addEventListener("click",je),gt.append(Re),gt.append(document.createTextNode(" to give your readers a visual preview.")),ht.append(gt),De.openseaEmbedFooter=ht,(0,P.cS)(De)}},"link")}const H=typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1,G=(ee,$)=>{const J=["preformatted_text_block","code_block","codeBlock","latex_block"],{$anchor:j}=ee.selection,{parent:Z}=j;if(!Z||!J.includes(Z.type.name))return!1;if(!Z.textContent.length){const{tr:ne}=ee;return $(ne.delete(ne.selection.from-1,ne.selection.to+1)),!0}return!1};function q(ee){const $={};let J;function j(Z,ne){const ie=$[Z];ie?$[Z]=function(oe,re){return ie(oe,re)||ne(oe,re)}:$[Z]=ne}if(j("Mod-z",a.Yw),j("Shift-Mod-z",a.KX),j("Backspace",i.dU),j("Backspace",G),H||j("Mod-y",a.KX),j("Alt-ArrowUp",t.MI),j("Alt-ArrowDown",t.Ig),j("Mod-BracketLeft",t.xb),j("Mod-k",z(ee)),(J=ee.marks.strong||ee.marks.bold)&&(j("Mod-b",(0,t.w9)(J)),j("Mod-B",(0,t.w9)(J))),(J=ee.marks.em||ee.marks.italic)&&(j("Mod-i",(0,t.w9)(J)),j("Mod-I",(0,t.w9)(J))),(J=ee.marks.strikethrough||ee.marks.strike)&&(j("Shift-Mod-x",(0,t.w9)(J)),j("Shift-Mod-X",(0,t.w9)(J))),(J=ee.marks.code)&&j("Mod-`",(0,t.w9)(J)),(J=ee.nodes.blockquote)&&j("Ctrl->",(0,t.ym)(J)),(J=ee.marks.superscript)&&j("Mod-.",(0,t.w9)(J)),(J=ee.marks.subscript)&&j("Mod->",(0,t.w9)(J)),J=ee.nodes.hard_break||ee.nodes.hardBreak){const Z=J,ne=(0,t.QF)(t.uo,function(ie,oe){return oe(ie.tr.replaceSelectionWith(Z.create()).scrollIntoView()),!0});j("Mod-Enter",ne),j("Shift-Enter",ne),H&&j("Ctrl-Enter",ne)}if((J=ee.nodes.list_item||ee.nodes.listItem)&&(j("Enter",(0,c.s6)(J)),j("Shift-Tab",(0,t.QF)((0,c.IB)(J),()=>!0)),j("Tab",(0,t.QF)((0,c.bw)(J),()=>!0))),J=ee.nodes.heading)for(let Z=1;Z<=6;Z++)j(`Shift-Ctrl-${Z}`,(0,t.uJ)(J,{level:Z}));return $}const z=ee=>($,J,j)=>(k(ee.marks.link,{scrollParent:".editor-scroll"}).spec.run($,J,j),!0)},10884:(K,f,e)=>{"use strict";e.d(f,{Z:()=>v});var t=e(6400),a=e(2376),i=e(84348),c=e(83322),p=e(54876);const l=new a.Sy({state:{init(){return i.EH.empty},apply(_,g){g=g.map(_.mapping,_.doc);const E=_.getMeta(this);if(E&&E.add){const S=document.createElement("a");S.className="image-link placeholder",S.href="javascript:void(0)";const O=document.createElement("img");O.src=E.add.url,S.appendChild(O),S.ondrop=S.ondragstart=S.onmousedown=()=>!1;const A=i.p.widget(E.add.pos,S,{id:E.add.id});g=g.add(_.doc,[A])}else if(E&&E.addFile){const{name:S,type:O}=E.addFile,A=document.createElement("div");(0,t.render)((0,t.h)(p.H,{filename:S,filetype:O}),A);const u=i.p.widget(E.addFile.pos,A,{id:E.addFile.id});g=g.add(_.doc,[u])}else E&&E.remove&&(g=g.remove(g.find(null,null,S=>S.id==E.remove.id)));return g}},key:"substack-placeholder",props:{decorations(_){return this.getState(_)}}});l.add=(_,g,E)=>{g=g||_.state.selection.from,E=E||c.TRANSPARENT_IMAGE_URL;const S={},O=_.state.tr;return O.setMeta(l,{add:{id:S,pos:g,url:E}}),_.dispatch(O),S},l.addFile=(_,g,{name:E,type:S})=>{g=g||_.state.selection.from;const O={},A=_.state.tr;return A.setMeta(l,{addFile:{id:O,pos:g,name:E,type:S}}),_.dispatch(A),O},l.remove=(_,g)=>{const S=l.getState(_.state).find(null,null,O=>O.id==g);if(S.length){const O=S[0].from,A=_.state.tr;return A.setMeta(l,{remove:{id:g}}),_.dispatch(A),O}else return null},l.replace=(_,g,E)=>{const S=l.remove(_,g);return S!==null?(_.dispatch(_.state.tr.insert(S-1,E)),!0):!1};const v=l},8464:(K,f,e)=>{"use strict";e.d(f,{aL:()=>w,jy:()=>g});const t=V=>{const W=document.createElement("div");return W.innerHTML=V,{dom:W.querySelector("svg")}},a=(V,W)=>{const L=document.createElement("div");L.className="dropdown-item-container";const k=document.createElement("span");k.innerText=W;const H=document.createElement("div");return H.className="dropdown-item-svg",H.appendChild(V.dom),L.appendChild(H),L.appendChild(k),{dom:L}},i=t(`
<svg class="editor-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)" fill="none">
<path d="M7.33334 4L3.33334 8L7.33334 12" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M11.3333 19H15.8182C17.2809 19 18.6837 18.4205 19.718 17.3891C20.7523 16.3576 21.3333 14.9587 21.3333 13.5C21.3333 12.0413 20.7523 10.6424 19.718 9.61091C18.6837 8.57946 17.2809 8 15.8182 8H4.33334" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),c=t(`
<svg class="editor-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)" fill="none">
<path d="M17.3334 4L21.3334 8L17.3334 12" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M13.3334 19H8.84853C7.38582 19 5.98302 18.4205 4.94873 17.3891C3.91443 16.3576 3.33337 14.9587 3.33337 13.5C3.33337 12.0413 3.91443 10.6424 4.94873 9.61091C5.98302 8.57946 7.38582 8 8.84853 8H20.3334" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),p=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill="none" d="M6.80005 5.60059H13.2C14.0487 5.60059 14.8627 5.93773 15.4628 6.53784C16.0629 7.13796 16.4 7.95189 16.4 8.80059C16.4 9.64928 16.0629 10.4632 15.4628 11.0633C14.8627 11.6634 14.0487 12.0006 13.2 12.0006H6.80005V5.60059Z" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
<path fill="none" d="M6.80005 12H14C14.8487 12 15.6627 12.3371 16.2628 12.9373C16.8629 13.5374 17.2 14.3513 17.2 15.2C17.2 16.0487 16.8629 16.8626 16.2628 17.4627C15.6627 18.0629 14.8487 18.4 14 18.4H6.80005V12Z" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),l=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)">
<path d="M17.2671 6.10059H10.0671" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M13.2659 18.8994H6.06592" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14.0666 6.10059L9.2666 18.9006" stroke-linecap="round" stroke-linejoin="round"/>
</g>
`),v=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)" fill="none">
<path fill="none" d="M14.866 5.60059H9.266C8.88195 5.60038 8.50345 5.69236 8.1623 5.86878C7.82116 6.04519 7.52734 6.30091 7.30552 6.61443C7.0837 6.92796 6.94036 7.29014 6.88755 7.67055C6.83473 8.05096 6.87399 8.43849 7.00201 8.80059" stroke-linecap="round" stroke-linejoin="round"/>
<path fill="none" d="M13.2667 12C14.1154 12 14.9293 12.3371 15.5294 12.9373C16.1296 13.5374 16.4667 14.3513 16.4667 15.2C16.4667 16.0487 16.1296 16.8626 15.5294 17.4627C14.9293 18.0629 14.1154 18.4 13.2667 18.4H6.8667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M4.1665 12L19.1665 12" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),_=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)" fill="none">
<path d="M17.6667 16.5L21.6667 12.5L17.6667 8.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.66675 8.5L1.66675 12.5L5.66675 16.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14.1667 4.5L9.16675 20.5" stroke-linecap="round" stroke-linejoin="round"/>
</g>
`),g=t(`
<svg class="link-item" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)" fill="none">
<g clip-path="url(#clip1)">
<path d="M10.0671 13.3006C10.4107 13.7599 10.849 14.1399 11.3524 14.4149C11.8557 14.6899 12.4123 14.8535 12.9845 14.8944C13.5566 14.9354 14.1308 14.8529 14.6682 14.6524C15.2056 14.4519 15.6936 14.1382 16.0991 13.7326L18.4991 11.3326C19.2278 10.5781 19.6309 9.56774 19.6218 8.51895C19.6127 7.47017 19.192 6.46692 18.4504 5.72528C17.7088 4.98365 16.7055 4.56298 15.6567 4.55386C14.608 4.54475 13.5975 4.94793 12.8431 5.67656L11.4671 7.04456" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M13.2677 11.7008C12.9242 11.2415 12.4859 10.8614 11.9825 10.5864C11.4791 10.3114 10.9225 10.1479 10.3504 10.1069C9.7783 10.0659 9.20407 10.1485 8.66666 10.3489C8.12925 10.5494 7.64125 10.8631 7.23574 11.2688L4.83574 13.6688C4.10711 14.4232 3.70393 15.4336 3.71304 16.4824C3.72216 17.5312 4.14283 18.5344 4.88446 19.276C5.6261 20.0177 6.62935 20.4383 7.67813 20.4475C8.72692 20.4566 9.73733 20.0534 10.4917 19.3248L11.8597 17.9568" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</g>
`),E=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)">
<path d="M7.66675 6.5H20.6667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M7.66675 12.5H20.6667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M7.66675 18.5H20.6667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.66675 6.5H2.67633" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.66675 12.5H2.67633" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.66675 18.5H2.67633" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),S=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g fill="none">
<path d="M9.66675 6.5H20.6667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M9.66675 12.5H20.6667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M9.66675 18.5H20.6667" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.66675 6.5H4.66675V10.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.66675 10.5H5.66675" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.66675 18.4999H3.66675C3.66675 17.4999 5.66675 16.4999 5.66675 15.4999C5.66675 14.4999 4.66675 13.9999 3.66675 14.4999" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),O=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill="none" d="M5 15.5L5 18.5C5 19.0304 5.21071 19.5391 5.58579 19.9142C5.96086 20.2893 6.46957 20.5 7 20.5L18 20.5C18.5304 20.5 19.0391 20.2893 19.4142 19.9142C19.7893 19.5391 20 19.0304 20 18.5L20 7.5C20 6.96957 19.7893 6.46086 19.4142 6.08579C19.0391 5.71071 18.5304 5.5 18 5.5L16 5.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill="none" d="M9.5 10.5L12.5 7.5L9.5 4.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill="none" d="M5.5 4.5L2.5 7.5L5.5 10.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),A=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.7143 15C14.7143 14.4696 14.9401 13.9609 15.3419 13.5858C15.7438 13.2107 16.2888 13 16.8571 13C17.4255 13 17.9705 13.2107 18.3724 13.5858C18.7742 13.9609 19 14.4696 19 15C19 15.5304 18.7742 16.0391 18.3724 16.4142C17.9705 16.7893 17.4255 17 16.8571 17C16.2888 17 15.7438 16.7893 15.3419 16.4142C14.9401 16.0391 14.7143 15.5304 14.7143 15ZM14.7143 15L16.8571 7M5.5 15C5.5 14.4696 5.72577 13.9609 6.12763 13.5858C6.52949 13.2107 7.07454 13 7.64286 13C8.21118 13 8.75622 13.2107 9.15809 13.5858C9.55995 13.9609 9.78571 14.4696 9.78571 15C9.78571 15.5304 9.55995 16.0391 9.15809 16.4142C8.75622 16.7893 8.21118 17 7.64286 17C7.07454 17 6.52949 16.7893 6.12763 16.4142C5.72577 16.0391 5.5 15.5304 5.5 15ZM5.5 15L7.64286 7" stroke-linecap="round" stroke-linejoin="round"/>
<circle cx="8" cy="15" r="1"stroke-linecap="round" stroke-linejoin="round"/>
<circle cx="17" cy="15" r="1"stroke-linecap="round" stroke-linejoin="round"/>
<circle cx="7.5" cy="15.5" r="0.5"stroke-linecap="round" stroke-linejoin="round"/>
<circle cx="16.5" cy="15.5" r="0.5"stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),u=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill="none" d="M6.66699 8L2.66699 12L6.66699 16" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M22 6H11" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M22 12L16 12" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M22 18H11" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),o=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill="none" d="M2.66699 8L6.66699 12L2.66699 16" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M21 12L15 12" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M21 6H10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M21 18H10" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),s=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g fill="none" clip-path="url(#clip0_6402:84637)">
<path d="M5.74356 7.80138L1.55483 19.3174" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.74212 7.80082L9.92942 19.3177" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M13.0703 7.80493V19.3212" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8.35986 16.1787H3.12519" stroke-linecap="round" stroke-linejoin="round"/>
<ellipse cx="15.9501" cy="15.6565" rx="2.87907" ry="3.66427" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M21.4465 5L21.4465 10.9463" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M21.4465 5L19.3528 6.23506" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),w=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill="none" d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z" stroke-linecap="round" stroke-linejoin="round"/>
<path fill="none" d="M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z" stroke-linecap="round" stroke-linejoin="round"/>
<path fill="none" d="M21 15L16 10L5 21" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),P=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 13H21" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),C=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 1V23" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H12" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6 19H14.5C15.4283 19 16.3185 18.6313 16.9749 17.9749C17.6313 17.3185 18 16.4283 18 15.5C18 14.5717 17.6313 13.6815 16.9749 13.0251C16.3185 12.3687 15.4283 12 14.5 12H12" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`),x=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18 9L18 6C18 5.46957 17.7893 4.96086 17.4142 4.58579C17.0391 4.21072 16.5304 4 16 4L5 4C4.46957 4 3.96086 4.21071 3.58579 4.58579C3.21071 4.96086 3 5.46957 3 6L3 13C3 13.5304 3.21071 14.0391 3.58578 14.4142C3.96086 14.7893 4.46957 15 5 15L7 15" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M9.03906 9.35059L14.0391 21.3506L15.8131 16.1246L21.0391 14.3506L9.03906 9.35059Z" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M16.1104 16.4214L20.3534 20.6644" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),D=t(`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19 12L12 5L15 2L22 9L19 12Z" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M13 6L5.5 7.5L2 22L16.5 18.5L18 11L13 6Z"stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 22L9.586 14.414" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M13 13C13 11.8954 12.1046 11 11 11C9.89543 11 9 11.8954 9 13C9 14.1046 9.89543 15 11 15C12.1046 15 13 14.1046 13 13Z" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`),y=a(x,"Buttons..."),M=a(O,"Code block"),T=a(s,"Footnote"),R=a(P,"Divider"),F=a(C,"Paywall"),N=a(D,"Poetry block"),U=a(A,"Pullquote")},97766:(K,f,e)=>{"use strict";e.r(f),e.d(f,{insertImageItem:()=>i});var t=e(8464),a=e(56129);function i(c,{insertImageFile:p}){const l=document.createElement("input");return l.type="file",l.accept="image/*,.heic,.heif",l.style="display:none;",l.onchange=()=>{l.files&&l.files.length>0&&p(l.files[0]),l.value=""},l.className="insert-image-menu-item-input",document.body.appendChild(l),new a.$4({title:"Insert image",icon:t.aL,active(){return!1},enable(v){return(0,a.om)(v,c)},run(){setTimeout(()=>{l.click()},0)}},"image")}},23837:(K,f,e)=>{"use strict";e.d(f,{zF:()=>v});var t=e(39419),a=e.n(t),i=(g,E,S)=>new Promise((O,A)=>{var u=w=>{try{s(S.next(w))}catch(P){A(P)}},o=w=>{try{s(S.throw(w))}catch(P){A(P)}},s=w=>w.done?O(w.value):Promise.resolve(w.value).then(u,o);s((S=S.apply(g,E)).next())});const c={Enter:13,Backspace:8,Tab:9,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,Space:32,PageUp:63276,PageDown:63277,End:63275,Home:63273,Left:63234,Up:63232,Right:63235,Down:63233,PrintScrn:44,Insert:63302,Delete:63272,";":186,"=":187,Mod:93,"*":106,"-":189,".":190,"/":191,",":188,"`":192,"[":219,"\\":220,"]":221,"'":222};function p(g){return c[g]?c[g]:g.toUpperCase().charCodeAt(0)}function l(g,E){const S=E.split(/-(?!'?$)/),O=S.indexOf("Mod")!==-1,A=S.indexOf("Cmd")!==-1,u=S.indexOf("Ctrl")!==-1,o=S.indexOf("Shift")!==-1,s=S.indexOf("Alt")!==-1,w=S[S.length-1],P=p(w),C=isMacLibFn(),x=new CustomEvent("keydown",{bubbles:!0,cancelable:!0});x.key=w.replace(/Space/g," "),x.shiftKey=o,x.altKey=s,x.ctrlKey=u||!C&&O,x.metaKey=A||C&&O,x.keyCode=P,x.which=P,x.view=window,g.dispatchEvent(x)}const v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY4AAAB0BAMAAABgVMiEAAAAMFBMVEX////7+/vt7e3o6Ojm5ubn5+fu7u709PTs7Oz39/f19fX29vby8vLx8fHz8/Pw8PCxY+A8AAAAoklEQVR4AWJgVHYZ+sBIgEE0vXzog7JAhrZZq4Y+WJnB4A5o5w5oAAYBGAi6mcKpQgIaClhCBklz7+AM/Gjo5+Dg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgeO7g4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4OD4Zse3dmVXfIST0/B1vh0UtMKbNF7rAAAAAElFTkSuQmCC",_=g=>new Promise((E,S)=>{const O=document.createElement("video"),A=()=>i(void 0,null,function*(){var o;O.play(),yield new Promise(w=>setTimeout(w,100)),O.pause();const s=typeof O.mozHasAudio!="undefined"&&O.mozHasAudio||typeof O.webkitAudioDecodedByteCount!="undefined"&&O.webkitAudioDecodedByteCount>0||!!((o=O.audioTracks)!=null&&o.length);E(s),URL.revokeObjectURL(O.src),O.removeEventListener("loadedmetadata",A)});O.addEventListener("loadedmetadata",A);const u=URL.createObjectURL(g);O.src=u,O.load()})},1824:(K,f,e)=>{"use strict";e.d(f,{Z:()=>o,a:()=>w});var t=e(98661),a=e(6400),i=e(36808),c=e.n(i),p=e(18349),l=e(15045),v=e(3258),_=e(39419),g=e.n(_),E=e(37888),S=e(33291);e(14369);const O="entry",A="ajs_anonymous_id";let u;function o(M){var T,R,F;if(u)throw new Error("Cannot re-render the things");u=M,window._preloads&&(window._preloads.original_url=window.location.href),(0,v.uF)(),(0,E.j0)((R=(T=window._preloads)==null?void 0:T.user)==null?void 0:R.id),D(),P(),C(),(F=window._preloads)!=null&&F.language&&typeof window._preloads.customPublicationThemePreviewId=="undefined"&&p.supportedNonEnglishLanguages.indexOf(window._preloads.language)>-1&&window.fetch?s(x,window._preloads.language):x(),y()}function s(M,T){fetch(`/api/v1/i18n/translations?language=${T}`,{method:"GET"}).then(R=>R.json()).then(R=>{p.I18N.l(T,R)}).finally(()=>{M()})}function w(M){let T=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const R in M)(typeof M[R]=="object"&&M[R]!==null||M[R]!==window._preloads[R])&&(window._preloads[R]=M[R],T=!0);T&&x()}function P(){const M=(0,l.parseQuery)(window.location.href);if(!M.token&&!M.lli||!window.history.replaceState)return;delete M.token,delete M.lli;const T=`${(0,l.pathWithQuery)(window.location.pathname,M)}${window.location.hash}`;window.history.replaceState({},document.title,T)}function C(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const M=window.history.pushState;history.pushState=function(T,R,F){var N;const U=M.apply(history,arguments);return((N=T==null?void 0:T.resetScroll)!=null?N:!0)&&F.indexOf("#")===-1&&window.scrollTo(0,0),U}}function x(){if(!u)return;const M=document.getElementById(O);(0,a.render)((0,a.h)(u,{initialData:window._preloads}),M||document.body)}function D(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let M;try{M=JSON.parse(i.get(A))}catch(T){}M||(M=(0,_.uuidV4)(),i.set(A,JSON.stringify(M),{expires:365})),window._analyticsConfig.anonymousId=M}}function y(){var M;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(M=window._preloads.user)!=null&&M.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:K=>{"use strict";K.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,t,a=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([t,a]),this}once(e,t){return this.on(e,t,!0)}off(e,t){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(a=>a[0]!==t))}emit(e,t){const a=this.callbacks[e];if(a){for(const[i,c]of a)if(c&&this.off(e,i),i(t)===!1)return!1;return!0}}}},63503:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i});var t=e(30396);const i=(c,p)=>{const l=(0,t.sO)();(0,t.d4)(()=>{l.current=c},[c]),(0,t.d4)(()=>{function v(){l.current()}if(p!==null){const _=setInterval(v,p);return()=>clearInterval(_)}},[p])}},89018:K=>{"use strict";K.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(K,f,e)=>{"use strict";e.d(f,{UE:()=>g,ip:()=>_,xU:()=>E,xY:()=>v});var t=e(79546),a=e.n(t);const i="substack_ref_url",c="substack_ref";let p,l;typeof window!="undefined"&&window.location&&window.location.href&&(p=window.location.href,l=document.referrer,a().get(i)||(a().set(i,p),a().set(c,l)));const v=a().get(i),_=a().get(c),g=p,E=l},58884:(K,f,e)=>{"use strict";var t;const a=e(79546);f.mM=(i,c=null)=>typeof window!="undefined"?a.get(i,c):c,f.ex=(i,c)=>{if(typeof window!="undefined")return a.set(i,c)},t=i=>{if(typeof window!="undefined")return a.remove(i)}},39419:function(K,f,e){"use strict";var t=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(j,Z,ne)=>Z in j?t(j,Z,{enumerable:!0,configurable:!0,writable:!0,value:ne}):j[Z]=ne,_=(j,Z)=>{for(var ne in Z||(Z={}))p.call(Z,ne)&&v(j,ne,Z[ne]);if(c)for(var ne of c(Z))l.call(Z,ne)&&v(j,ne,Z[ne]);return j},g=(j,Z)=>a(j,i(Z)),E=(j,Z,ne)=>new Promise((ie,oe)=>{var re=fe=>{try{se(ne.next(fe))}catch(le){oe(le)}},ae=fe=>{try{se(ne.throw(fe))}catch(le){oe(le)}},se=fe=>fe.done?ie(fe.value):Promise.resolve(fe.value).then(re,ae);se((ne=ne.apply(j,Z)).next())});const{h:S,Fragment:O}=e(6400),{route:A}=e(20042),{getQueryItem:u,pathWithQuery:o,parseQuery:s,getGlobalAccountSettingsUrl:w,getPubAccountSettingsUrl:P,getCurrentUrlForLoginRedirect:C}=e(15045),{centsToPriceString:x,toTitleCase:D,pluralize:y,isZeroDecimalCurrency:M}=e(83322),T=e(8826),{isMobileUserAgent:R,getIosVersion:F}=e(76193),{validatePledgePrices:N}=e(48971),U=e(27484),{Metadata:V}=e(35442),{getPodcastEpisodeImageUrl:W}=e(63030),{I18N:L}=e(18349);f.getPodcastEpisodeImageUrl=W;const k=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let H=typeof window=="undefined"||!window.addEventListener;H||window.addEventListener("load",()=>{H=!0},!1),typeof window!="undefined"&&window._preloads,f.globalPlaybackNotifier=typeof window!="undefined"?new T:null,f.windowReady=j=>{H?j():window.addEventListener("load",j,!1)},f.debounce=function(j,Z,ne=this){let ie=null;return function(){clearTimeout(ie),ie=setTimeout(()=>j.apply(ne,arguments),Z)}},f.couponToString=(j,Z,{language:ne="en"}={})=>{const{iTemplate:ie,iPlural:oe}=L.i(ne);if(!j||j.loading||j.error)return;let re;if(j.trial_period_days)re=ie`${j.trial_period_days} day free trial`;else if(j.extra_seats)re=oe("an additional seat","%1 additional seats",j.extra_seats);else if(j.percent_off)if(j.duration==="once")if(Z)switch(Z.interval){case"month":re=ie`${Math.round(j.percent_off_precise||j.percent_off)}% off first month`;break;case"year":re=ie`${Math.round(j.percent_off_precise||j.percent_off)}% off first year`;break;case"week":re=ie`${Math.round(j.percent_off_precise||j.percent_off)}% off first week`;break;case"day":re=ie`${Math.round(j.percent_off_precise||j.percent_off)}% off first day`;break}else re=ie`${Math.round(j.percent_off_precise||j.percent_off)}% off first payment`;else j.duration==="repeating"?j.duration_in_months%12===0?re=oe("%2% off for 1 year","%2% off for %1 years",j.duration_in_months/12,Math.round(j.percent_off_precise||j.percent_off)):re=oe("%2% off for 1 month","%2% off for %1 months",j.duration_in_months,Math.round(j.percent_off_precise||j.percent_off)):re=ie`${Math.round(j.percent_off_precise||j.percent_off)}% off forever`;else if(j.amount_off)if(j.duration==="once")if(Z)switch(Z.interval){case"month":re=ie`${x(j.amount_off,Z.currency)} off first month`;break;case"year":re=ie`${x(j.amount_off,Z.currency)} off first year`;break;case"week":re=ie`${x(j.amount_off,Z.currency)} off first week`;break;case"day":re=ie`${x(j.amount_off,Z.currency)} off first day`;break}else re=ie`${x(j.amount_off,Z.currency)} off first payment`;else j.duration==="repeating"?j.duration_in_months%12===0?re=oe("%2 off for 1 year","%2 off for %1 years",j.duration_in_months/12,x(j.amount_off,Z.currency)):re=oe("%2 off for 1 month","%2 off for %1 months",j.duration_in_months,x(j.amount_off,Z.currency)):re=ie`${x(j.amount_off,Z.currency)} off forever`;return re},f.preloadImage=function(j,Z){const ne=new Image;ne.onload=()=>{ne.onload=ne.onerror=null,Z&&Z(ne)},ne.onerror=ne.onload,ne.src=j},f.getHostname=j=>{const Z=document.createElement("a");return Z.href=j,(Z.hostname||"").replace(/\.localhost$/,"")},f.getPathname=j=>{const Z=document.createElement("a");return Z.href=j,Z.pathname||""},f.getPath=j=>{const Z=document.createElement("a");return Z.href=j,(Z.pathname||"")+(Z.search||"")+(Z.hash||"")},f.getNetworkErrorMessage=(j,Z)=>{var ne;return f.getNetworkErrorMessageFromResponse((j==null?void 0:j.body)||((ne=j==null?void 0:j.response)==null?void 0:ne.body),Z)},f.getNetworkErrorBody=j=>{var Z;const ne=(j==null?void 0:j.body)||((Z=j==null?void 0:j.response)==null?void 0:Z.body);if(ne&&ne.error)return{msg:ne.error};if(ne&&ne.errors&&ne.errors.length>0)return{html:ne.errors[ne.errors.length-1].msgHTML,msg:ne.errors[ne.errors.length-1].msg}},f.getNetworkErrorMessageFromXhr=(j,Z)=>{let ne;try{ne=JSON.parse(j&&j.responseText)}catch(ie){}return f.getNetworkErrorMessageFromResponse(ne,Z)},f.getNetworkErrorMessageFromResponse=(j,Z)=>(Z=Z||"Something went wrong",j&&j.error?j.error:j&&j.errors&&j.errors.length>0&&j.errors[j.errors.length-1].msg||Z),f.inputPrefillHack=function(){return[S("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),S("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},f.isBrowser=function(){return typeof window!="undefined"},f.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const j=navigator.userAgent||navigator.vendor||window.opera;if(R(j,{checkFirst4:!0}))return!0}return!1},f.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),f.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),f.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),f.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),f.isIOs=()=>!!f.iosVersion(),f.isMac=(j=window.navigator)=>j?j.userAgentData&&j.userAgentData.platform?/macOS/.test(j.userAgentData.platform):/Mac/.test(j.platform):!1,f.isSafari=()=>{var j;return typeof window=="undefined"||!((j=window.navigator)!=null&&j.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},f.getModKeyLabel=(j=f.isMac())=>j?"\u2318":"^",f.iosVersion=()=>typeof window=="undefined"?null:F(),f.fixSmsUrl=j=>{const Z=f.iosVersion();return Z?Z>=9?j.replace("?body=","&body="):j.replace("?body=",";body="):j};const G=j=>((Z,ne)=>{let ie;const oe=()=>ne.userAgent.match(/ipad|iphone/i),re=le=>{ie=Z.createElement("textArea"),ie.value=le,Z.body.appendChild(ie)},ae=()=>{let le,Ae;oe()?(le=Z.createRange(),le.selectNodeContents(ie),Ae=j.getSelection(),Ae.removeAllRanges(),Ae.addRange(le),ie.setSelectionRange(0,999999)):ie.select()},se=()=>{Z.execCommand("copy"),Z.body.removeChild(ie)};return{copy:le=>{re(le),ae(),se()}}})(document,navigator);f.copyToClipboard=j=>{if(typeof window=="undefined")return;G(window).copy(j);const Z=ne=>{ne&&ne.clipboardData?(ne.clipboardData.setData("text/plain",j),ne.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",j)};f.iosVersion()||window.addEventListener("copy",Z),setTimeout(()=>{try{const ne=document.createElement("input");ne.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(ne),ne.value=j,ne.contentEditable=!0,ne.readOnly=!1;const ie=document.createRange();ie.selectNodeContents(ne);const oe=window.getSelection();oe.removeAllRanges(),oe.addRange(ie),ne.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(ne)}catch(ne){}window.removeEventListener("copy",Z)},0)},f.copyNodeToClipboard=j=>{try{f.selectNode(j),document.execCommand("copy")}catch(Z){console.error("Failed to copy text:",Z)}},f.selectNode=j=>{try{if(["INPUT","TEXTAREA"].includes(j.nodeName)&&j.select)j.select();else if(document.body.createTextRange){const Z=document.body.createTextRange();Z.moveToElementText(j),Z.select()}else if(window.getSelection){const Z=window.getSelection(),ne=document.createRange();ne.selectNodeContents(j),Z.removeAllRanges(),Z.addRange(ne)}else console.warn("Could not select text in node: Unsupported browser")}catch(Z){console.error("Failed to select node:",Z)}},f.deselectNode=j=>{try{const Z=window.getSelection?window.getSelection():document.selection;Z&&Z.anchorNode===j&&(Z.empty?Z.empty():Z.removeAllRanges&&Z.removeAllRanges())}catch(Z){console.error("Failed to deselect node:",Z)}},f.setMetaData=function(j){return S(V,_({},j))},f.getBodyOffset=(j,Z)=>{const ne=`offset${D(Z)}`;let ie=0;for(;j&&j!==document.body;)ie+=j[ne],j=j.offsetParent||j.parentNode;return ie},f.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),f.scrollToHash=function(j){const Z=f.getUrlHash();if(!Z)return;const ne=document.getElementById(Z);ne&&(typeof j!="number"&&(j=-122),document.documentElement.scrollTop=Math.max(0,f.getBodyOffset(ne,"top")+j))},f.mightSupportApplePay=j=>!(!j||!j.stripe_country||j.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),f.addClass=(j,Z)=>{j.className+=` ${Z}`},f.removeClass=(j,Z)=>{j.className=j.className.replace(new RegExp(`\\b${Z}\\b`,"g"),"").trim()},f.hasClass=(j,Z)=>new RegExp(`\\b${Z}\\b`,"g").test(j.className),f.isFocused=(...j)=>f.isRootOrChild(document.activeElement,...j),f.isRootOrChild=(j,...Z)=>{for(;j;){for(const ne of Z)if(typeof ne=="function"?ne(j):j===ne)return!0;j=j.parentNode}return!1},f.getRootOrChild=(j,Z,{maxDepth:ne}={})=>{const ie=[j];let oe=0;for(;ie.length>0;){oe++;const re=ie.splice(0);for(const ae of re)if(ae){if(Z(ae))return ae;(!ne||oe<ne)&&ae.children&&ie.push(...ae.children)}}return null},f.getRootOrParent=(j,Z)=>j?Z(j)?j:f.getRootOrParent(j.parentNode,Z):null,f.getVisibilityApi=()=>{let j,Z;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(j="visibilitychange",Z="hidden"):typeof document.msHidden!="undefined"?(j="msvisibilitychange",Z="msHidden"):typeof document.webkitHidden!="undefined"&&(j="webkitvisibilitychange",Z="webkitHidden")),{visibilityChange:j,hidden:Z}},f.isWindowVisible=()=>{const{hidden:j}=f.getVisibilityApi();return j?!document[j]:!0},f.onWindowVisibilityChange=j=>{const{visibilityChange:Z}=f.getVisibilityApi();Z&&document.addEventListener(Z,j,!1)},f.offWindowVisibilityChange=j=>{const{visibilityChange:Z}=f.getVisibilityApi();Z&&document.removeEventListener(Z,j,!1)},f.disableBackspaceNavigation=()=>{document.addEventListener("keydown",q,!1)},f.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",q,!1)};function q(j){if(j.keyCode!==8)return;const Z=j.srcElement||j.target;if(!Z.readonly&&!Z.disabled){if(Z.isContentEditable)return;if(Z.nodeName==="TEXTAREA")return;if(Z.nodeName==="INPUT"&&k.indexOf((Z.getAttribute("type")||"").toLowerCase())>-1)return}return j.preventDefault(),!1}f.getBlob=j=>new Promise((Z,ne)=>{const ie=new XMLHttpRequest;ie.open("GET",j,!0),ie.responseType="blob",ie.onerror=ne,ie.onload=oe=>{ie.status==200?Z(ie.response):ne(new Error("Failed to fetch blob"))},ie.send()}),f.getDataUrlFromFile=j=>new Promise((Z,ne)=>{if(!window.FileReader){ne(new TypeError("File reader API not found"));return}const ie=new FileReader;ie.onerror=ne,ie.onload=()=>{Z(ie.result)},ie.readAsDataURL(j)}),f.getExifOrientationFromFile=j=>new Promise((Z,ne)=>{if(!window.FileReader){ne(new TypeError("File reader API not found"));return}if(!window.DataView){ne(new TypeError("DataView API not found"));return}const ie=new FileReader;ie.onerror=ne,ie.onload=()=>{const oe=new DataView(ie.result);if(oe.getUint16(0,!1)!=65496)return Z(-2);const re=oe.byteLength;let ae=2;for(;ae<re;){if(oe.getUint16(ae+2,!1)<=8)return Z(-1);const se=oe.getUint16(ae,!1);if(ae+=2,se==65505){if(oe.getUint32(ae+=2,!1)!=1165519206)return Z(-1);const fe=oe.getUint16(ae+=6,!1)==18761;ae+=oe.getUint32(ae+4,fe);const le=oe.getUint16(ae,fe);ae+=2;for(let Ae=0;Ae<le;Ae++)if(oe.getUint16(ae+Ae*12,fe)==274)return Z(oe.getUint16(ae+Ae*12+8,fe))}else{if((se&65280)!=65280)break;ae+=oe.getUint16(ae,!1)}}Z(-1)},ie.readAsArrayBuffer(j)}),f.getImageDataFromFileInput=j=>E(this,null,function*(){let Z,ne;const ie=j!=null&&j.files?j.files[0]:null;if(j.value="",ie){try{Z=yield f.getDataUrlFromFile(ie)}catch(oe){console.error("Failed to get data URL from file:",oe),alert(oe.message);return}try{ne=yield f.getExifOrientationFromFile(ie)}catch(oe){console.error("Failed to extract EXIF data from file:",oe)}}return{url:Z,orientation:ne}}),f.transformExifOrientation=j=>{switch(j){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},f.canScroll=()=>f.maxScroll()>0,f.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,f.getLoginRedirect=({redirect:j,email:Z,justTrying:ne,with_password:ie=!1,useOriginalUrl:oe=!1}={})=>(typeof j!="string"&&(j=C({useOriginalUrl:oe})),o("/account/login",{redirect:j||"",email:Z||"",with_password:ie?"1":"",justTrying:ne||""})),f.redirectToLogin=(j={})=>{document.location.href=f.getLoginRedirect(j)},f.redirectToAccount=j=>{window.location.assign(P(j))},f.redirectToAccountSettings=()=>{document.location.href=w()},f.base64encode=j=>{const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let ne="",ie,oe,re,ae,se,fe,le,Ae=0;for(j=f.utf8Encode(j);Ae<j.length;)ie=j.charCodeAt(Ae++),oe=j.charCodeAt(Ae++),re=j.charCodeAt(Ae++),ae=ie>>2,se=(ie&3)<<4|oe>>4,fe=(oe&15)<<2|re>>6,le=re&63,isNaN(oe)?fe=le=64:isNaN(re)&&(le=64),ne=ne+Z.charAt(ae)+Z.charAt(se)+Z.charAt(fe)+Z.charAt(le);return ne},f.utf8Encode=j=>{let Z="";for(let ne=0;ne<j.length;ne++){const ie=j.charCodeAt(ne);ie<128?Z+=String.fromCharCode(ie):ie>127&&ie<2048?(Z+=String.fromCharCode(ie>>6|192),Z+=String.fromCharCode(ie&63|128)):(Z+=String.fromCharCode(ie>>12|224),Z+=String.fromCharCode(ie>>6&63|128),Z+=String.fromCharCode(ie&63|128))}return Z},f.redirectNoScroll=j=>{const Z=[window.scrollX,window.scrollY];f.redirect(j),window.scrollTo(...Z)},f.redirect=(j,{event:Z=null,local_navigation:ne=!0,replace:ie=!1,newTab:oe=!1}={})=>{var re;if(Z&&Z.preventDefault(),!j.trim().startsWith("javascript:")){if(j.startsWith("#")&&ne){window.location.hash!==j&&(ie&&((re=window.history)!=null&&re.replaceState)?window.history.replaceState(null,null,j):window.location.hash=j),f.scrollToHash();return}if(ne&&f.getHostname(j)&&f.getHostname(j)!==f.getHostname(window.location.href)&&(ne=!1),oe||Z&&(Z.metaKey||Z.ctrlKey)){window.open(j,"_blank");return}if(ne&&A(f.getPath(j),ie)){setTimeout(()=>f.scrollToHash(),0);return}window.location.href=j}},f.setState=(j,Z)=>new Promise(ne=>{j.setState(Z,ne)}),f.stateTransaction=(j,Z)=>new Promise((ne,ie)=>{j.setState((...oe)=>E(this,null,function*(){try{ne(yield Z.apply(j,oe))}catch(re){ie(re)}}))}),f.stateLock=(j,Z,ne,...ie)=>E(this,[j,Z,ne,...ie],function*(oe,re,ae,{force:se}={}){return typeof re=="function"&&(ae=re,re="lock"),yield f.stateTransaction(oe,(fe,...le)=>E(this,null,function*(){if(fe[re]&&!se)return;yield f.setState(oe,{[re]:!0});const Ae=yield ae.call(oe,fe,...le);return yield f.setState(oe,{[re]:!1}),Ae}))}),f.getsMessageQuery=j=>Z=>{const ne=s(document.location.href),ie=u("message");if(ie){delete ne.message;const oe=`${o(document.location.pathname,ne)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,oe)}return S(j,_({message:ie},Z))},f.uuidV4=()=>{const j=window.crypto||window.msCrypto;if(typeof(j==null?void 0:j.randomUUID)=="function")return j.randomUUID();if(j)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,Z=>(Z^j.getRandomValues(new Uint8Array(1))[0]&15>>Z/4).toString(16));{let Z=new Date().getTime(),ne=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ie){let oe=Math.random()*16;return Z>0?(oe=(Z+oe)%16|0,Z=Math.floor(Z/16)):(oe=(ne+oe)%16|0,ne=Math.floor(ne/16)),(ie==="x"?oe:oe&3|8).toString(16)})}},f.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,f.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",f.focusElement=j=>{j.focus&&j.focus(),j.select&&j.select()},f.getRoleOrOwner=(j,Z)=>j?j.user_id===Z.author_id?"owner":j.role:"byline",f.hexWithOpacity=(j,Z)=>{if(!j)return j;j=j.replace("#","");const ne=parseInt(j.substring(0,2),16),ie=parseInt(j.substring(2,4),16),oe=parseInt(j.substring(4,6),16);return`rgba(${ne},${ie},${oe},${Z/100})`},f.getSelectTheme=({primary:j,neutral0:Z="#f8f8f8",neutral20:ne="#d8d8d8",danger:ie="var(--color-accent-red)",dangerLight:oe="var(--color-bg-accent-red)"})=>re=>g(_({},re),{colors:g(_({},re.colors),{primary:j,primary25:f.hexWithOpacity(j,25),primary50:f.hexWithOpacity(j,50),primary75:f.hexWithOpacity(j,75),neutral0:Z,neutral20:ne,danger:ie,dangerLight:oe})}),f.removeQueryParam=(j,{stripHash:Z=!1}={})=>{var ne;if(typeof window!="undefined"&&((ne=window.history)!=null&&ne.replaceState)){const ie=s(window.location.href);if(!Array.isArray(j))delete ie[j];else for(const re of j)delete ie[re];const oe=`${o(window.location.pathname,ie)}${Z?"":window.location.hash}`;window.history.replaceState({},document.title,oe)}},f.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,f.goFullscreen=j=>typeof window=="undefined"?!1:j.requestFullScreen?(j.requestFullScreen(),!0):j.webkitRequestFullScreen?(j.webkitRequestFullScreen(),!0):j.mozRequestFullScreen?(j.mozRequestFullScreen(),!0):!1,f.exitFullscreen=()=>{if(!f.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},f.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),f.getVideoBlobDuration=(j,...Z)=>E(this,[j,...Z],function*(ne,{timeout:ie=5e3}={}){const oe=document.createElement("video");oe.volume=0;const re=Promise.race([new Promise((ae,se)=>{oe.onloadedmetadata=()=>{oe.onloadedmetadata=null,oe.duration===1/0?(oe.currentTime=Number.MAX_SAFE_INTEGER,oe.ontimeupdate=()=>{oe.ontimeupdate=null,ae(oe.duration),oe.currentTime=0}):ae(oe.duration)},oe.onerror=fe=>se(fe.target.error)}),new Promise((ae,se)=>{setTimeout(()=>{se(new Error("Blob duration fetching timed out"))},ie)})]);return oe.src=typeof ne=="string"||ne instanceof String?ne:window.URL.createObjectURL(ne),re}),f.downloadSrc=j=>{const Z=document.createElement("a");document.body.appendChild(Z),Z.href=j,Z.target="_blank",Z.click(),document.body.removeChild(Z)},f.getCurrencyFormattedPledgePlans=(j,{skipFoundingPlan:Z=!1}={})=>{if(!(j!=null&&j.length))return[];const ne=[];for(const ie of j)Z&&ie.is_founding?ne.push(_({},ie)):ie.amount?ne.push(g(_({},ie),{amount:ie.amount})):ne.push(_({},ie));return ne},f.validatePledgePlanValues=(j,Z,ne,ie)=>{if(ne<=Z)return"Your founding price must be greater than your yearly price";const oe=N({value:j,interval:"month",is_founding:!1,currency:ie});if(oe)return oe;const re=N({value:Z,interval:"year",is_founding:!1,currency:ie});if(re)return re;const ae=N({value:ne,interval:"year",is_founding:!0,currency:ie});return ae||null},f.decimalToPercentString=j=>{let Z=j;return typeof j=="string"&&(Z=parseFloat(j)),`${Math.round(Z*100)}%`};const z=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),ee=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),$=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),J=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});f.formatPostDate=(j,{includeTime:Z,language:ne}={})=>{const ie=U(j),oe=U(),{iTemplate:re}=L.i(ne);return ie.isBefore(oe.startOf("year"))?$.format(ie.toDate())+(Z?re` at ${z.format(ie.toDate())}`:""):ie.isBefore(oe.startOf("day"))?ee.format(ie.toDate())+(Z?re` at ${z.format(ie.toDate())}`:""):ie.isAfter(oe.endOf("year"))?J.format(ie.toDate())+(Z?re` at ${z.format(ie.toDate())}`:""):ie.isAfter(oe.endOf("day"))?ee.format(ie.toDate())+(Z?re` at ${z.format(ie.toDate())}`:""):z.format(ie.toDate())},f.getBanMessage=j=>{const Z=ne=>`We've removed your publication from public view due a violation of Substack's ${ne}. If you believe this was a mistake, you can submit an appeal to our Trust & Safety team`;switch(j){case"hate":return Z("Hate policy");case"illegal":return Z("Illegal & Harmful Activities policy");case"impersonation":return Z("Impersonation policy");case"plagiarism":return Z("Plagiarism policy");case"porn":return Z("Nudity, Porn, & Erotica policy");case"private_information":return Z("Private Information policy");case"spam":return Z("Spam & Phishing policy");default:return Z("Content Guidelines, Terms of Service, or Publisher Agreement")}}},702:(K,f,e)=>{"use strict";e.d(f,{Z:()=>C});var t=e(6400),a=e(30396),i=e(94184),c=e.n(i),p=e(80569),l=e.n(p),v=e(7922),_=e(1138),g=e(96789),E=e(61152),S=e(89018),O=e.n(S),A=e(39419),u=e.n(A),o=(x,D,y)=>new Promise((M,T)=>{var R=U=>{try{N(y.next(U))}catch(V){T(V)}},F=U=>{try{N(y.throw(U))}catch(V){T(V)}},N=U=>U.done?M(U.value):Promise.resolve(U.value).then(R,F);N((y=y.apply(x,D)).next())});const s=({className:x,pub:D,comment:y,onClose:M,onReportSuccess:T})=>{const R=(0,a.sO)(null),[F,N]=(0,a.eJ)(!1),U={Report:0,Confirm:1},[V,W]=(0,a.eJ)(U.Report),L=H=>o(void 0,null,function*(){if(H===""){alert("Please enter a reason!");return}N(!0);try{yield l().post(`/api/v1/comment/${y.id}/report`).send({publication_id:D==null?void 0:D.id,reason:H}),T(),W(U.Confirm)}catch(G){alert((0,A.getNetworkErrorMessage)(G))}finally{N(!1)}}),k=()=>{var H;(H=R==null?void 0:R.current)==null||H.close()};return(0,a.d4)(()=>{var H;(H=R==null?void 0:R.current)==null||H.open()},[]),(0,t.h)(g.p,{className:c()("report-comment-modal",x),ref:R,onClose:M},V===U.Report?(0,t.h)(w,{pub:D,reportComment:L,reporting:F,closeModal:k}):(0,t.h)(P,{pub:D,closeModal:k}))},w=({pub:x,reportComment:D,reporting:y,closeModal:M})=>{const[T,R]=(0,a.eJ)("");return(0,t.h)(t.Fragment,null,(0,t.h)("h4",null,"Report ",x?`to ${x.name} admins`:"note"),(0,t.h)("p",null,"Thanks for reporting this ",x?"comment":"note","."," ",x?(0,t.h)(t.Fragment,null,"Only the admins of ",(0,t.h)("span",{className:"weight"},x.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,t.h)(E.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:T,onInput:F=>R(F.target.value)}),(0,t.h)("div",{className:"buttons"},(0,t.h)(v.Z,{className:"secondary",onClick:M},(0,t.h)("span",null,"Cancel")),(0,t.h)(v.Z,{className:"primary",onClick:()=>D(T),disabled:T===""||y},(0,t.h)("span",null,y?"Loading...":"Submit"))))},P=({pub:x,closeModal:D})=>(0,t.h)(t.Fragment,null,(0,t.h)(_.Z,{stroke:(x==null?void 0:x.theme_var_background_pop)||S.substack_color}),(0,t.h)("h4",null,"Thanks for your report"),x?(0,t.h)("p",null,"The admins of ",(0,t.h)("span",{className:"weight"},x.name)," will review this comment."):(0,t.h)("p",null,"We will review this note."),(0,t.h)("div",{className:"buttons"},(0,t.h)(v.Z,{className:"primary",onClick:D},(0,t.h)("span",null,"Done")))),C=s},37888:(K,f,e)=>{"use strict";e.d(f,{j0:()=>q});var t=e(7436),a=e.n(t),i=e(62195),c=e.n(i),p=e(39627),l=e.n(p),v=e(8728),_=e.n(v),g=Object.defineProperty,E=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(ee,$,J)=>$ in ee?g(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:J}):ee[$]=J,s=(ee,$)=>{for(var J in $||($={}))A.call($,J)&&o(ee,J,$[J]);if(O)for(var J of O($))u.call($,J)&&o(ee,J,$[J]);return ee},w=(ee,$)=>E(ee,S($));const P=c().createStore([l(),_()],[]),C=".buffer",x="ss-version-backups-local",D=32,y=4,M=null,T=ee=>{var $,J,j,Z;return(J=($=window._preloads)==null?void 0:$.pub)!=null&&J.id?(Z=(j=window._preloads)==null?void 0:j.user)!=null&&Z.id?F().filter(ne=>!(ne.publication_id!==window._preloads.pub.id||ne.user_id&&ne.user_id!==window._preloads.user.id||ne.post_id!==ee||ne.local_version_saved_at&&Date.now()-new Date(ne.local_version_saved_at)>M)):[]:[]},R=ee=>{if(!(ee!=null&&ee.post_id)||!(ee!=null&&ee.draft_updated_at)||!(ee!=null&&ee.draft_body))return;const $=F();if($.filter(Z=>Z.post_id===ee.post_id).length>=y){const Z=findLastIndex($,ne=>ne.post_id===ee.post_id);Z>=0&&$.splice(Z,1)}const j=[ee].concat($.filter(Z=>Z.post_id!==ee.post_id||Z.draft_updated_at!==ee.draft_updated_at&&Z.draft_body&&Z.draft_body!==ee.draft_body)).slice(0,D);z(x,j)},F=()=>P.get(x,[]).filter(Boolean),N=()=>P.get(x+C,{}),U=ee=>{var $,J;($=window._preloads.pub)!=null&&$.id&&(J=window._preloads.user)!=null&&J.id&&ee!=null&&ee.post_id&&ee!=null&&ee.draft_updated_at&&ee!=null&&ee.draft_body&&z(x+C,w(s({},ee),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},V=()=>{P.remove(x+C)},W=ee=>{if(!(ee!=null&&ee.post_id)||!(ee!=null&&ee.draft_updated_at))return;const J=F().filter(j=>j.post_id!==ee.post_id||j.draft_updated_at!==ee.draft_updated_at);z(x,J)},L=({postId:ee,editorId:$})=>!!F().find(j=>j.post_id===ee&&j.editor_id&&j.editor_id!==$),k=({postId:ee,editorId:$})=>{const j=F().filter(Z=>Z.editor_id?Z.post_id!==ee||Z.editor_id!==$:!1);z(x,j)},H=()=>{const ee=N();ee!=null&&ee.draft_body&&(R(ee),V())},G=()=>{V(),P.remove(x)},q=ee=>{(!ee||F().find($=>$.user_id&&$.user_id!==ee))&&G()},z=(ee,$)=>{try{if(P.set(ee,$),JSON.stringify(P.get(ee))!==JSON.stringify($))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",ee)}catch(J){console.error("localStorage.setItem failed:",J),G()}}},56242:(K,f)=>{"use strict";var e;e=(t,a)=>{if(!t)return"featured";if(t==="featured"||t==="twitter"||t==="podcast")return t;const i=a.find(c=>c.slug===t);return i?i.id:"featured"}},94930:(K,f)=>{"use strict";f.isCouponValid=(e,{is_group:t,is_gift:a,paywallFreeTrialEnabled:i})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!t||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!i||a||t)),f.isCouponValidForPlan=(e,t)=>!e||!t||t.metadata.unlimited_group?!1:t.metadata.no_coupons?!!(e.founding_only&&t.metadata.founding):!(t.interval==="forever"||e.yearly_only&&t.interval!=="year"||e.monthly_only&&t.interval!=="month"||e.duration==="repeating"&&(t.interval==="month"&&e.duration_in_months%t.interval_count!==0||t.interval==="year"&&e.duration_in_months%(t.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==t.currency),f.isEmailValidEdu=(e,t)=>{const a=t.filter(p=>p.is_suffix);return t.filter(p=>!p.is_suffix).find(p=>e.split("@").pop().startsWith(p.pattern))||a.find(p=>e.endsWith(p.pattern))},f.isCouponValidForEmail=(e,t,a)=>!(e.edu_only&&!f.isEmailValidEdu(t,a)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(c=>t.toLowerCase().endsWith(c.toLowerCase()))),f.getDiscountedAmount=(e,t)=>{let a=e.amount;return t&&f.isCouponValidForPlan(t,e)&&(t.percent_off?a=Math.round(a*(1-(t.percent_off_precise||t.percent_off)/100)):t.amount_off&&(a=Math.max(0,a-t.amount_off))),a}},85928:(K,f,e)=>{"use strict";var t=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(O,A,u)=>A in O?t(O,A,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[A]=u,_=(O,A)=>{for(var u in A||(A={}))p.call(A,u)&&v(O,u,A[u]);if(c)for(var u of c(A))l.call(A,u)&&v(O,u,A[u]);return O},g=(O,A)=>a(O,i(A));const E=e(27484);K.exports=E,E.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(S);function S(O,A,u){A.prototype.standardDateOrTime=function({long:N=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const U=this.locale(),{iString:V}=I18N.i(U),{secondsToLargestUnit:W}=e(83322),L=u().diff(this,"seconds");return L<60?V("just now"):W(L,{long:N,language:U,appendAgo:!0})}},A.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},A.prototype.readerDateTime=function(){const N=this.locale(),{iString:U}=I18N.i(N),V=this.diff(u(),"day");let W;return V===0?W=this.format("h:mm a"):V===-1?W=U("Yesterday"):V>-7?W=this.standardDate():W=this.standardDate(),W},A.prototype.standardDate=function({full:N=!1}={}){return!N&&this.isSame(u(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},A.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===u().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},A.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===u().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},A.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},A.prototype.standardDatetimeWithYear=function(){const N=u().year();return this.year()!=N?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},A.prototype.min=function(...N){let U=this;for(let V of N)V=u(V),U.isAfter(V)&&(U=V);return U},A.prototype.max=function(...N){let U=this;for(let V of N)V=u(V),U.isBefore(V)&&(U=V);return U},A.prototype.minNow=function(){return this.min(u())},A.prototype.maxNow=function(){return this.max(u())},A.prototype.isBeforeNow=function(N){return this.isBefore(u(),N)},A.prototype.isAfterNow=function(N){return this.isAfter(u(),N)},A.prototype.isSameNow=function(N){return this.isSame(u(),N)};const o=u.en,s=g(_({},o),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),w=e(80790),P=g(_({},w),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),C=g(_({},w),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),x=e(67763),D=g(_({},x),{relativeTime:{future:"en %s",past:"hace %s",s:"en este momento",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"}}),y=g(_({},x),{relativeTime:{future:"en %s",past:"%s",s:"en este momento",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1D",dd:"%dD",M:"1Mes",MM:"%dMes",y:"1A",yy:"%dA"}}),M=e(96023),T=g(_({},M),{relativeTime:{future:"dans %s",past:"il y a %s",s:"tout \xE0 l'heure",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"une ann\xE9e",yy:"%d ann\xE9es"}}),R=g(_({},M),{relativeTime:{future:"dans %s",past:"%s",s:"tout \xE0 l'heure",m:"1M",mm:"%dMin",h:"1H",hh:"%dH",d:"1J",dd:"%dJ",M:"1Mois",MM:"%dMois",y:"1A",yy:"%dA"}}),F=u.locale();u.locale("enshort",s),u.locale("de",P),u.locale("deshort",C),u.locale("es",D),u.locale("esshort",y),u.locale("fr",T),u.locale("frshort",R),u.locale(F),A.prototype.fromNowShort=function(){switch(this.locale()){case"de":return this.locale("deshort").fromNow();case"es":return this.locale("esshort").fromNow();case"fr":return this.locale("frshort").fromNow();default:return o?this.locale("enshort").fromNow():this.fromNow()}}}},42395:K=>{"use strict";K.exports=f=>(f||"").replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t))},52410:(K,f,e)=>{"use strict";const t=e(86492);K.exports=(a,{only_non_ascii:i=!1,useNamedReferences:c=!1}={})=>a&&t.encode(a||"",{useNamedReferences:c,decimal:!0,allowUnsafeSymbols:i})},6378:(K,f,e)=>{"use strict";const{foundingPlanMinimum:t}=e(68842);f.isMultiPub=l=>l?l.child_publications&&l.child_publications.length>0:!1,f.isSectionedPub=l=>{var v;return!!(l!=null&&l.sections)&&((v=l.sections)==null?void 0:v.length)>0},f.canAddSections=l=>{var v;return!(!l||(v=l.child_publications)!=null&&v.length||l.parent_publication_id||l.parent_publication)},f.canEditNavigationBar=l=>{var v;return!(!l||(v=l.child_publications)!=null&&v.length||l.parent_publication_id||l.parent_publication)},f.hasMultiplePodcasts=l=>a(l)>1;const a=l=>{let v=[];return f.isMultiPub(l)&&(v=f.getMultiPubChildPodcasts(l)),f.isSectionedPub(l)&&(v=f.getSectionPodcasts(l)),(l.podcast_enabled?1:0)+v.length};f.hasPodcast=l=>a(l)>0,f.hasOnePodcast=l=>a(l)===1,f.getMultiPubChildPodcasts=l=>f.isMultiPub(l)?l.child_publications.filter(v=>v.type==="podcast"):[],f.getSectionPodcasts=l=>f.isSectionedPub(l)?l.sections.filter(v=>v.is_podcast):[];const i=l=>l&&!l.includes("substack");f.pubCouldHavePublicPodcastUrl=l=>i(l.podcast_feed_url),f.sectionCouldHavePublicPodcastUrl=l=>{var v;return i((v=l.podcastSettings)==null?void 0:v.podcast_feed_url)},f.userCouldSeePublicPodcastUrls=l=>{if(f.pubCouldHavePublicPodcastUrl(l))return!0;if(f.hasMultiplePodcasts(l)){if(f.isMultiPub(l)){const v=f.getMultiPubChildPodcasts(l);for(const _ of v)if(f.pubCouldHavePublicPodcastUrl(_))return!0}if(f.isSectionedPub(l)){const v=f.getSectionPodcasts(l);for(const _ of v)if(f.sectionCouldHavePublicPodcastUrl(_))return!0}}return!1},f.userCouldSubscribeToPodcast=(l,v)=>v?f.isMultiPub(v)?!0:!f.hasPodcast(v)||v.hide_podcast_feed_link?!1:v.has_free_podcast?!0:v.has_subscriber_only_podcast?f.userIsPaidSubscriber(l):!1:!1,f.userIsFreeOnly=l=>l?!!(l.is_free_subscribed&&!l.is_subscribed):!1,f.userIsPaidSubscriber=l=>l?!!l.is_subscribed:!1,f.paymentsAreEnabled=l=>l?l.payments_state==="enabled":!1;const c=(l,{usePreview:v=!1,useDraft:_=!1}={})=>{switch(l==null?void 0:l.type){case"newsletter":return _?l.draftVoiceoverUpload:l.voiceoverUpload;case"podcast":return v?_?l.draftPodcastPreviewUpload:l.podcastPreviewUpload:_?l.draftPodcastUpload:l.podcastUpload;case"video":return _?l.draftVideoUpload:l.videoUpload;default:return null}};f.getMediaDuration=(l,{usePreview:v=!1,useDraft:_=!1}={})=>{var g;const E=c(l,{usePreview:v,useDraft:_});if(E)return(g=E.duration)!=null?g:null;if((l==null?void 0:l.type)==="podcast"&&!v){const S=_?l.draft_podcast_duration:l.podcast_duration;return S!=null?S:null}return null},f.getMediaFileSize=(l,{usePreview:v=!1,useDraft:_=!1}={})=>{var g,E;const S=c(l,{usePreview:v,useDraft:_});return S?(g=S.primary_file_size)!=null?g:null:(l==null?void 0:l.type)==="podcast"&&!v&&!_&&(E=l.legacy_podcast_file_size)!=null?E:null},f.podcastPostIsFreePreview=l=>!l||l.type!=="podcast"||!l.podcastUpload?!1:!!l.podcastUpload.is_free_preview,f.hasPodcastPreview=l=>!!l&&!!l.podcast_preview_upload_id,f.getLogo=l=>{var v;return l.logo_url||l.cover_photo_url||l.author_photo_url||((v=l.author)==null?void 0:v.photo_url)},f.getFoundingTierPlan=l=>{var v;return Array.isArray(l==null?void 0:l.plans)&&(v=l.plans.find(_=>{var g;return((g=_.metadata)==null?void 0:g.founding)==="yes"}))!=null?v:null},f.getFoundingTierMinimum=({pub:l,currency:v})=>{const _=f.getFoundingTierPlan(l);return _?t(_,v):null},f.getFoundingTierName=l=>{var v,_;const g=f.getFoundingTierPlan(l);return(_=(v=g==null?void 0:g.metadata)==null?void 0:v.short_description)!=null?_:null},f.mediaUploadHasProblem=l=>!l||!l.state?!1:l.state==="error"||l.state==="cancelled",f.getPaidOrFoundingTierNameForPost=(l,v)=>(v==null?void 0:v.audience)==="founding"&&f.getFoundingTierName(l)||"paid",f.hasVoiceover=l=>!!l&&!!l.voiceover_upload_id,f.canSyndicateVoiceoverDraft=(l,v)=>!l||!v||!f.hasPodcast(l)?!1:!!v.draft_voiceover_upload_id;const p=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;f.getAspectRatioFromBucketeerUrl=l=>{const v=l.match(p);return v?parseInt(v[1])/parseInt(v[2]):null},f.isBulwarkPub=(l,{checkParent:v=!0}={})=>{var _;return v&&l.subdomain==="thebulwark"||((_=l.parent_publication)==null?void 0:_.subdomain)==="thebulwark"}},72985:(K,f,e)=>{"use strict";const t=e(71171);f.sluggify=(a,{softMax:i=32,hardMax:c=48,extension:p=!1,extensionSeparator:l="-"}={})=>{let v=f.cleanSlug(a);if(v.length>i){const g=v.indexOf("-",i);g!==-1&&(v=v.substr(0,g))}v.length>c&&(v=v.substr(0,c));const _=p&&typeof p=="string"?p:t().substr(0,3);return v?p&&(v+=`${l}${_}`):v=_,v},f.cleanSlug=(a,{hashIfEmpty:i=!1,allowUnicode:c=!1}={})=>{const p=(a||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(c?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return a&&typeof a=="string"&&!p&&i?Array.from(a).map(l=>l.codePointAt(0)).map(l=>l.toString(16)).join("").substring(0,12):p}},15045:(K,f,e)=>{"use strict";var t=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(Re,Ne,ke)=>Ne in Re?t(Re,Ne,{enumerable:!0,configurable:!0,writable:!0,value:ke}):Re[Ne]=ke,_=(Re,Ne)=>{for(var ke in Ne||(Ne={}))p.call(Ne,ke)&&v(Re,ke,Ne[ke]);if(c)for(var ke of c(Ne))l.call(Ne,ke)&&v(Re,ke,Ne[ke]);return Re},g=(Re,Ne)=>a(Re,i(Ne)),E=(Re,Ne)=>{var ke={};for(var ot in Re)p.call(Re,ot)&&Ne.indexOf(ot)<0&&(ke[ot]=Re[ot]);if(Re!=null&&c)for(var ot of c(Re))Ne.indexOf(ot)<0&&l.call(Re,ot)&&(ke[ot]=Re[ot]);return ke};const{cleanSlug:S}=e(72985),{substack_color:O}=e(89018),{CDN_URL:A,substackDomain:u,getSubscribeUrl:o,serializeQuery:s,pathWithQuery:w,getBaseUrl:P,getSubstackUrl:C,getHostname:x,_getUrl:D,getBaseAppLinkUrl:y,getLikelyLoggedInParam:M,getPubAccountSettingsUrl:T,getPostDashboardUrl:R,getDashboardHomeUrl:F,getSubscriberDashboardUrl:N,getProfileUrlById:U,getReaderProfileUrl:V,imginary:W,unimginary:L,extractDimensionsFromImageUrl:k,getPodcastRssUrlFromIds:H,parseUrl:G,getPublishBaseUrl:q,getPublishSettingsUrl:z,getDonateSubscriptionUrl:ee,stripeBaseUrl:$,getPostUrl:J,getPostUrlBySlug:j,getEditPostUrlById:Z,getGroupManagementUrl:ne,getConnectTwitterUrl:ie,getPubConnectTwitterUrl:oe,getCancelOrUncancelUrl:re,getSubstackUrlWithDomain:ae,getManageGroupSubscriptionUrl:se,getPostDetailsShareCenterUrl:fe}=e(20501),{getPostCommentsUrl:le}=e(36250),{getUserPhotoUrl:Ae,getDefaultUserPhotoById:De,DEFAULT_PHOTO_URL:je}=e(96702),{getProfileSetupUrl:Je}=e(2731),{ARRMilestoneMediaAsset:Be,ARRMilestones:st,SubscriberMilestones:ht}=e(22138),gt=[/\/embed\/podcast\//];f.TWITTER_CARD_WIDTH=504,f.TWITTER_CARD_HEIGHT=264,f.TWITTER_CARD_LOGO_SIZE=70,f.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",f.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=18072253847444&tf_18071211318676=my_import_file_is_too_large_",f.getBaseUrl=P,f.getSubstackUrl=C,f.getSubstackUrlWithDomain=ae,f.getBaseAppLinkUrl=y,f.getHostname=x,f.serializeQuery=s,f.pathWithQuery=w,f.getLikelyLoggedInParam=M,f.getPubAccountSettingsUrl=T,f.getPostDashboardUrl=R,f.getSubscriberDashboardUrl=N,f.getProfileUrlById=U,f.getReaderProfileUrl=V,f.imginary=W,f.unimginary=L,f.extractDimensionsFromImageUrl=k,f.parseUrl=G,f.getPublishBaseUrl=q,f.getPublishSettingsUrl=z,f.getDonateSubscriptionUrl=ee,f.stripeBaseUrl=$,f.getPostUrl=J,f.getPostUrlBySlug=j,f.getEditPostUrlById=Z,f.getGroupManagementUrl=ne,f.getDashboardHomeUrl=F,f.getConnectTwitterUrl=ie,f.getPubConnectTwitterUrl=oe,f.getCancelOrUncancelUrl=re,f.getPostCommentsUrl=le,f.getPodcastRssUrlFromIds=H,f.getManageGroupSubscriptionUrl=se,f.getUserPhotoUrl=Ae,f.getDefaultUserPhotoById=De,f.DEFAULT_PHOTO_URL=je,f.getProfileSetupUrl=Je,f.getPostDetailsShareCenterUrl=fe,f.updateQuery=function(Re,Ne,{skipHash:ke=!1}={}){typeof Re=="object"&&(Ne=Re,Re=document.location.pathname+document.location.search+document.location.hash);let ot=f.pathWithQuery(Re.split("?")[0].split("#")[0],Object.assign(f.parseQuery(Re),Ne));return Re.indexOf("#")!==-1&&!ke&&(ot+=Re.substr(Re.indexOf("#"))),ot},f.parseQuery=function(Re){const Ne={},ke=((Re==null?void 0:Re.split("?")[1])||"").split("#")[0].trim();if(ke){const ot=ke.split("&");for(let Dt=0;Dt<ot.length;Dt++){const ln=ot[Dt].split("=");Ne[decodeURIComponent(ln[0])]=decodeURIComponent(ln.slice(1).join("="))}}return Ne},f.getQueryItem=(Re,Ne)=>{if(typeof Ne!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;Ne=Re,Re=window.location.href}const ke=f.parseQuery(Re);if(Ne in ke)return ke[Ne]},f.getPubUrl=(Re,{params:Ne={},signedIn:ke=!1}={})=>{const ot=M(ke,Re);return f.pathWithQuery(`${f.getBaseUrl(Re)}/`,_({lli:ot},Ne))},f.getCallbackUrl=Re=>`${f.getBaseUrl({subdomain:"callback"})}${Re}`,f.getTld=Re=>{try{return new URL(Re).hostname.split(".").slice(-2).join(".")}catch(Ne){return null}},f.cdnSvg=Re=>!Re||!Re.startsWith("/")||Re.startsWith("//")||!/\.svg(\?|#|$)/.test(Re)?Re:`${A}/${Re}`,f.stripProtocol=Re=>(Re||"").replace(/^(\w+:)?\/\//g,""),f.getUndergroundUrl=Re=>{const ke=D(`admin.${u}`);return Re?`${ke}/publications/${Re}`:ke},f.getStockLandingUrl=Re=>`${D(`${u}`)}/discover/stocks/${Re}`,f.getUserUndergroundUrl=Re=>{const ke=D(`admin.${u}`);return Re?`${ke}/users/${Re}`:ke},f.getBaseReaderUrl=({utm_source:Re}={})=>{const Ne=u,ke="reader";return f.pathWithQuery(D(`${ke}.${Ne}`),{utm_source:Re})},f.getReaderSignupUrl=Re=>f.pathWithQuery(`${D(u)}/browse`,g(_({},Re),{action:"signup"})),f.getReaderUrl=(Re,{query:Ne}={})=>{const ke=u;return f.pathWithQuery(`${D(ke)}${Re}`,Ne)},f.getNotificationsUrl=Re=>f.getReaderUrl("/activity",{query:Re}),f.getLibraryUrl=Re=>f.getReaderUrl("/library",{query:Re}),f.getFeedUrl=Re=>f.getReaderUrl("/feed",{query:Re}),f.getChatUrl=Re=>f.getReaderUrl("/chat",{query:Re}),f.getSavedPostsUrl=Re=>f.getReaderUrl("/saved",Re),f.getDeprecatedPostAppLinkUrl=(Re,Ne,{params:ke={},redirect:ot=null,source:Dt=null,postUuid:ln=null}={})=>{const ct=ln?`${f.getSubstackUrl()}/app-link/publications/${Re}/drafts/${ln}`:`${f.getSubstackUrl()}/app-link/post`,Oe=_({publication_id:Re,post_id:Ne,utm_source:Dt,redirect:ot},ke);return f.pathWithQuery(ct,Oe)},f.getPostAppLinkUrl=(Re,Ne,{params:ke={},redirect:ot=null,source:Dt=null,postUuid:ln=null,inbox:ct=null,hostOverride:Oe=null}={})=>{if(!Re||!Ne)return"";const Se=Oe?ln?`${Oe}/p/${ln}`:`${Oe}/p/${Ne}`:ln?`${f.getBaseAppLinkUrl()}/pub/${Re}/drafts/${ln}`:`${f.getBaseAppLinkUrl()}/pub/${Re}/p/${Ne}`,Ze=_({utm_source:Dt,redirect:ot,inbox:ct},ke);return f.pathWithQuery(Se,Ze)},f.getPostCommentInContextUrl=function(Re,Ne,ke,ot=3){if(!ke.ancestor_path)return f.getPostCommentsUrl(Re,Ne,ke);const Dt=ke==null?void 0:ke.ancestor_path.split("."),ln=Dt.length<ot?0:Dt.length-ot;return f.getPostUrl(Re,Ne,{comments:!0,commentId:ke.id,commentContextId:Dt[ln]})},f.getPodcastLandingUrl=({pub:Re,section:Ne,addBase:ke=!0})=>{Ne=Ne||Re.section;const ot=ke?f.getBaseUrl(Re):"";return Ne?`${ot}/listen/${Ne.slug||Ne.id}`:`${ot}/podcast`},f.getEditSectionUrl=(Re,{addBase:Ne,type:ke,id:ot}={})=>`${Ne?f.getBaseUrl(Re):""}/publish/settings/${ke}/${ot}`,f.getArchiveUrl=(Re,{params:Ne}={})=>{const ke=Re.section?`/s/${Re.section.slug||Re.section.id}`:"";return f.pathWithQuery(`${ke}/archive`,Ne)},f.getBaseArchiveUrl=(Re,{addBase:Ne,params:ke}={})=>{const ot=Ne?f.getBaseUrl(Re):"";return f.pathWithQuery(`${ot}/archive`,ke)},f.getAboutUrl=(Re,{addBase:Ne,params:ke}={})=>{const ot=Ne?f.getBaseUrl(Re):"";return f.pathWithQuery(`${ot}/about`,ke)},f.getSitemapUrl=(Re,{addBase:Ne,params:ke}={})=>{const ot=Ne?f.getBaseUrl(Re):"";return f.pathWithQuery(`${ot}/sitemap`,ke)},f.getDashboardUrlForSubdomain=(Re,{params:Ne}={})=>{const ke=`${f.getBaseUrl({subdomain:Re})}/publish/home`;return f.pathWithQuery(ke,Ne)},f.getFindTwitterPubsUrl=Re=>f.pathWithQuery(`${f.getSubstackUrl()}/twitter/find-pubs`,Re),f.getPodcastingUrl=(Re,{addBase:Ne,params:ke,slug:ot,isSection:Dt}={})=>{let ct=`${Ne?f.getBaseUrl(Re):""}/publish/podcasting`;return ot&&(Dt?ct=`${ct}/s/${ot}`:ct=`${ct}/${ot}`),ke?f.pathWithQuery(ct,ke):ct},f.getCreatePostUrl=(Re,Ne={})=>{var ke=Ne,{baseUrl:ot=null}=ke,Dt=E(ke,["baseUrl"]);return f.pathWithQuery(`${ot!=null?ot:f.getBaseUrl(Re)}/publish/post`,Dt)},f.getCreateMarketingPostUrl=(Re,Ne)=>f.pathWithQuery(`${f.getBaseUrl(Re)}/publish/post/marketing`,Ne),f.getSubscriberStatsUrl=(Re,{addBase:Ne,params:ke}={})=>{const ot=Ne?f.getBaseUrl(Re):"";return f.pathWithQuery(`${ot}/publish/subscribers`,ke)},f.getAddSubscriberUrl=Re=>"/publish/subscribers/add",f.getVerifyImportDoubleOptinUrl=(Re,Ne)=>`${f.getBaseUrl(Re)}/publish/subscribers/add?conditional_import_id=${Ne}`,f.getIgnoreImportDoubleOptinUrl=(Re,Ne)=>`${f.getBaseUrl(Re)}/publish/subscribers/add?conditional_import_id=${Ne}`,f.getDomainConfigUrl=(Re,{payment:Ne}={})=>`/publish/domain${Ne?"/pay":""}`,f.getDomainMigrateUrl=Re=>"/publish/domain/migrate",f.getDomainStatusUrl=()=>"/publish/domain/status",f.getSubscriberDetailsUrl=(Re,Ne,{addBase:ke,tab:ot}={})=>{const Dt=ke?f.getBaseUrl(Re):"";return f.pathWithQuery(`${Dt}/publish/subscribers/legacy`,{email:Ne,tab:ot})},f.getGroupDetailsUrl=Re=>`/publish/groups/${Re}`,f.getManageGroupsUrl=()=>"/publish/groups",f.getCheckoutUrl=function(Re,Ne={}){const ke=f.pathWithQuery(`${f.getBaseUrl(Re)}/subscribe`,Ne);return ke.indexOf("?")===-1?`${ke}?`:ke},f.getFoundingCheckoutUrl=function(Re){return`${f.getBaseUrl(Re)}/subscribe?plan=founding&`},f.getLoginUrl=(Re={})=>f.pathWithQuery("/account/login",Re),f.getMfaUrl=(Re={})=>f.pathWithQuery(`${f.getSubstackUrl()}/sign-in/mfa`,Re),f.getGlobalAccountRedirectForPub=(Re,Ne,ke)=>{const ot=Re==null?void 0:Re.subdomain;return f.pathWithQuery(`${f.getSubstackUrl()}${Ne}`,{redirect:ke,for_pub:ot})},f.getWriterReferralUrl=(Re,Ne={})=>{if(Re)return f.pathWithQuery(`${f.getSubstackUrl()}/refer/${Re}`,Ne)},f.getWriterReferralSettingsUrl=({utm_source:Re,utm_content:Ne}={})=>f.pathWithQuery(`${f.getSubstackUrl()}/referral`,{utm_source:Re,utm_content:Ne}),f.getGlobalAccountSettingsUrl=({utm_source:Re,section:Ne,highlightNotification:ke}={})=>f.pathWithQuery(`${f.getSubstackUrl()}/settings`,{utm_source:Re,section:Ne,highlightNotification:ke}),f.getGlobalNotificationSettingsUrl=({highlight:Re,utm_source:Ne}={})=>f.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:Re,utm_source:Ne}),f.getManageSubscriptionsUrl=({utm_source:Re}={})=>f.pathWithQuery(`${f.getSubstackUrl()}/settings/subscriptions`,{utm_source:Re}),f.getSharePubUrl=Re=>`${f.getBaseUrl(Re)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,f.getPodcatcherSetupUrlForAllPodcasts=(Re,Ne)=>{var ke=Ne,{startAtSubscribeFlow:ot}=ke,Dt=E(ke,["startAtSubscribeFlow"]);let ln=`${f.getBaseUrl(Re)}/listen`;if(Dt){const ct=f.serializeQuery(Dt);ct&&(ln+=`?${ct}`)}return ot?f.getSubscribeUrl(Re,_({addBase:!0,next:ln,skipPodcastSetupPage:!0},Dt)):ln},f.getPodcatcherSetupUrl=(Re,{addBase:Ne,params:ke,noSection:ot,section:Dt,user:ln,startAtSubscribeFlow:ct}={})=>{let Oe="";if(Ne&&(Oe+=f.getBaseUrl(Re)),Dt=Dt||(Re==null?void 0:Re.section),Dt&&!ot&&(Oe+=`/s/${Dt.slug||Dt.id}`),Oe+="/account/add-podcast",ln&&ln.email&&(ke=g(_({},ke),{email:ln.email}),Oe+="/email"),ke){const Se=f.serializeQuery(ke);Se&&(Oe+=`?${Se}`)}return ct?f.getSubscribeUrl(Re,_({addBase:!0,next:Oe,skipPodcastSetupPage:!0},ke)):Oe},f.getCdnUrl=(Re,{cdnUrl:Ne=A}={})=>Re==null?void 0:Re.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,Ne);const Xe="https://";f.getAsChartableUrl=(Re,Ne)=>Re?`${Xe}chrt.fm/track/${encodeURIComponent(Re)}/${f.stripProtocol(Ne)}`:Ne,f.addSpotifyAnalyticsPrefix=Re=>`${Xe}prfx.byspotify.com/e/${f.stripProtocol(Re)}`,f.addPodscribePrefix=Re=>`${Xe}pscrb.fm/rss/p/${f.stripProtocol(Re)}`,f.addGumballPrefix=(Re,Ne)=>`${Xe}s.gum.fm/s-${Re}/${f.stripProtocol(Ne)}`,f.getCdnUrlForAudio=(Re,Ne,{token:ke}={})=>(Ne=f.getCdnUrl(Ne),Re!=null&&Re.id&&(Ne=f.updateQuery(Ne,{post_id:Re.id})),ke&&(Ne=f.updateQuery(Ne,{podcast_rss_token:ke})),Ne),f.getClientReadyPodcastUrl=(Re,Ne,{rssToken:ke})=>{if(Ne.podcast_upload_id){let ot=f.updateQuery(`${f.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${Ne.podcast_upload_id}/src`,{token:ke});return Re!=null&&Re.chartable_token&&(ot=f.getAsChartableUrl(Re.chartable_token,ot)),ot}if(Ne.podcast_url){let ot=f.getCdnUrlForAudio(Ne,Ne.podcast_url,{token:ke});return Re!=null&&Re.chartable_token&&(ot=f.getAsChartableUrl(Re.chartable_token,ot)),ot}return null},f.urlIsRegularlyShownInIframe=Re=>{for(let Ne=0;Ne<gt.length;Ne++)if(gt[Ne].test(Re))return!0;return!1},f.getCurrentUrlForLoginRedirect=({useOriginalUrl:Re})=>{if(Re&&typeof window!="undefined"&&window._preloads.original_url)try{const Ne=new URL(window._preloads.original_url);return`${Ne.pathname}${Ne.search}${Ne.hash}`}catch(Ne){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},f.getSigninUrl=(Re={})=>{const{for_pub:Ne,email:ke,with_password:ot,error:Dt,message:ln,change_user:ct,justTrying:Oe,useOriginalUrl:Se}=Re;let{redirect:Ze}=Re;return typeof Ze!="string"&&(Ze=f.getCurrentUrlForLoginRedirect({useOriginalUrl:Se})),f.pathWithQuery(`${f.getSubstackUrl()}/sign-in`,{redirect:Ze,for_pub:Ne,email:ke,with_password:ot,error:Dt,message:ln,change_user:ct,justTrying:Oe})},f.getTermsUrl=({utm_source:Re}={})=>f.pathWithQuery(`${f.getSubstackUrl()}/tos`,{utm_source:Re}),f.getGoingPaidUrl=()=>`${f.getSubstackUrl()}/going-paid`,f.getInfoCollectionUrl=({utm_source:Re}={})=>`${f.pathWithQuery(`${f.getSubstackUrl()}/ccpa`,{utm_source:Re})}#personal-data-collected`,f.getHomeUrl=({utm_source:Re}={})=>f.pathWithQuery(`${f.getSubstackUrl()}/home`,{utm_source:Re}),f.getPrivacyUrl=({pub:Re,utm_source:Ne,hash:ke=null}={})=>{const ot=Re?`${f.getBaseUrl(Re)}`:f.getSubstackUrl(),Dt=ke?`#${ke}`:"";return`${f.pathWithQuery(`${ot}/privacy`,{utm_source:Ne})}${Dt}`},f.getLegalUrls=()=>({infoCollection:f.getInfoCollectionUrl(),privacy:f.getPrivacyUrl(),terms:f.getTermsUrl()}),f.getEditProfileUrl=({params:Re}={})=>f.pathWithQuery(`${f.getSubstackUrl()}/profile/edit`,Re),f.getReaderOnboardingUrl=(Re,{isAbbreviated:Ne,redirect:ke,postRedirectToast:ot,pubId:Dt=null}={})=>{let ln=null;if(ke)try{ln=new URL(ke),ot&&ln.searchParams.set("profile-setup-message",ot)}catch(ct){ln=new URL(f.getSubstackUrl())}return f.pathWithQuery(`${f.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:Ne,redirect:ln?ln.toString():null,pubId:Dt})},f.getDiscoverCategoryUrl=(Re,Ne)=>`${f.getSubstackUrl()}/discover${Re?`/category/${Re.slug}`:""}${Ne==="all"?"/all":""}`,f.getDiscoverSearchUrl=({query:Re,params:Ne={}}={})=>{let ke=`${f.getSubstackUrl()}/search`;return Re&&(ke=`${f.getSubstackUrl()}/search/${encodeURIComponent(Re)}`),f.updateQuery(ke,Ne)},f.getSubscribeUrl=(Re,Ne={})=>{var ke=Ne,{signedIn:ot=!1,addBase:Dt=!1,root:ln=void 0,user:ct=void 0}=ke,Oe=E(ke,["signedIn","addBase","root","user"]);const Se=M(ot,Re);return o(Re,{root:ln,user:ct,addBase:Dt,params:_({lli:Se},Oe)})},f.getRecommendationsPageUrl=(Re,Ne={})=>f.pathWithQuery(`${f.getBaseUrl(Re)}/recommendations`,Ne),f.getStartPublishingUrl=(Re={})=>f.updateQuery(`${f.getSubstackUrl()}/signup`,Re),f.getMigrateFromTwitterUrl=(Re={})=>f.updateQuery(`${f.getSubstackUrl()}/twitter-quitter`,Re),f.getImportUrl=(Re={})=>f.updateQuery(`${f.getSubstackUrl()}/signup/import`,Re),f.getPublishStripeAccountImportUrl=(Re,{addBase:Ne=!1,baseUrlOptions:ke={},params:ot=void 0}={})=>f.pathWithQuery(`${q(Re,{addBase:Ne,baseUrlOptions:ke})}/stripe-import`,ot),f.getPublishStatsUrl=(Re,{addBase:Ne,baseUrlOptions:ke,params:ot}={})=>{const Dt=Ne?f.getBaseUrl(Re,ke):"";return f.pathWithQuery(`${Dt}/publish/stats`,ot)},f.getPublishSettingsRecommendationsUrl=(Re,{addBase:Ne,baseUrlOptions:ke,params:ot}={})=>{const Dt=Ne?f.getBaseUrl(Re,ke):"";return f.pathWithQuery(`${Dt}/publish/settings/recommendations`,ot)},f.getPublishStatsRecommendationsUrl=(Re,{addBase:Ne,baseUrlOptions:ke,params:ot}={})=>{const Dt=Ne?f.getBaseUrl(Re,ke):"";return f.pathWithQuery(`${Dt}/publish/recommendations`,ot)},f.getManageBlurbsUrl=(Re,{addBase:Ne,baseUrlOptions:ke,params:ot}={})=>{const Dt=Ne?f.getBaseUrl(Re,ke):"";return f.pathWithQuery(`${Dt}/publish/settings/blurbs`,ot)},f.getManageReaderReferralSettingsUrl=Re=>{const Ne=f.getBaseUrl(Re);return f.pathWithQuery(`${Ne}/publish/settings/`,{search:"referral"})},f.getPublishModerationUrl=(Re,{addBase:Ne=!1,baseUrlOptions:ke={}}={})=>`${q(Re,{addBase:Ne,baseUrlOptions:ke})}/moderation`,f.getPublicationPodcastUrl=Re=>"/publish/settings/podcast/edit",f.getInviteUrl=Re=>`${f.getBaseUrl(Re)}/invite`,f.getProfileSlug=Re=>{let Ne=`${Re.author_id||Re.id}`;const ke=S(Re.author_id?Re.author_name:Re.name,{hashIfEmpty:!0});return ke&&(Ne+=`-${ke}`),Ne},f.getProfileUrl=(Re,Ne,{utm_source:ke}={})=>f.getReaderProfileUrl(Re,{utm_source:ke}),f.getPodcastRssUrl=({pub:Re,token:Ne=null})=>{var ke;if(Re.section){const{section:Dt}=Re;if((ke=Dt.podcastSettings)!=null&&ke.podcast_feed_url)return Dt.podcastSettings.podcast_feed_url;let ln=`${f.getBaseUrl({subdomain:"api"})}/feed/podcast/${Re.id}/s/`;return Ne?ln+=`${Dt.id}/private/${Ne}.rss`:ln+=`${Dt.id}.rss`,ln}else if(Re.podcast_feed_url)return Re.podcast_feed_url;let ot=`${f.getBaseUrl({subdomain:"api"})}/feed/podcast/${Re.id}`;return Ne?ot+=`/private/${Ne}.rss`:ot+=".rss",ot},f.getSupportEmail=(Re,{noOverride:Ne}={})=>{if(Re){if(Re.support_email&&!Ne)return Re.support_email}else return"support@substack.com";return`support+${Re.subdomain}@substack.com`},f.getSupportUrl=(Re,Ne)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(f.getSupportEmail(Re,Ne))}`,f.getPostSelectionPreviewUrl=(Re,Ne,ke,ot)=>{const Dt=f.getPostSelectionPreviewImageUrl(Re,Ne,ke,ot);return f.imginary(Dt,null,{skipDomainValidation:!0,quality:"auto:best",version:9})},f.getPostSelectionPreviewImageUrl=(Re,Ne,ke,ot)=>f.pathWithQuery(`${f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/post_selection_preview/${Ne.id}/${ke}.jpg`,_({},ot)),f.getPostSelectionMediaUrl=(Re,Ne,ke,ot,Dt)=>{const ln=f.getPostSelectionMediaImageUrl(Re,Ne,ke,ot);return f.imginary(ln,null,{skipDomainValidation:!0,quality:"auto:best",version:11,attachment:!!Dt,filename:Dt})},f.getPostSelectionMediaImageUrl=(Re,Ne,ke,ot)=>f.pathWithQuery(`${f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/post_selection_image/${Ne.id}/${ke}.jpg`,_({},ot)),f.getTwitterAccountUrl=Re=>`https://twitter.com/${Re}`,f.getInstagramAccountUrl=Re=>`https://instagram.com/${Re}`,f.getTiktokAccountUrl=Re=>`https://tiktok.com/@${Re}`,f.getYoutubeAccountUrl=Re=>`https://youtube.com/channel/${Re}`,f.getTwitterSubscribeCardUrl=Re=>f.imginary(`${f.getTwitterSubscribeCardSvgUrl(Re)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),f.getTwitterSubscribeCardSvgUrl=Re=>{const{hashString:Ne}=e(83322);let ke=`${f.getBaseUrl(Re,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const ot=`${Re.logo_url}:${Re.hero_text}:${Re.name}:${Re.author_name}:${Re.subdomain}`,Dt=Ne(ot);return Dt?ke+=`?v=${Dt}`:ke+="?v=bust",ke},f.getPressKitUrl=(Re,Ne,ke,ot)=>{const Dt=f.getPressKitImageUrl(Re,Ne,ke);return f.imginary(Dt,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!ot,filename:ot})},f.getPressKitImageUrl=(Re,Ne,ke)=>{const{hashString:ot}=e(83322),Dt=ot(`${Ne.social_title+Ne.title+Ne.description+Ne.cover_image}`);return f.pathWithQuery(`${f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/press_kit/${Ne.id}.jpg`,g(_({},ke),{isDraft:Ne.is_draft,hash:Dt}))},f.getMilestoneAssetUrl=(Re,Ne,ke,ot,{useRootDomain:Dt=!1}={})=>{const ln=f.getMilestoneAssetImageUrl(Re,Ne,ke,{useRootDomain:Dt});return f.imginary(ln,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!ot,filename:ot})},f.getAllMilestoneAssetUrl=(Re,Ne)=>{let ke;if(Object.values(st).includes(Ne))ke="arr";else if(Object.values(ht).includes(Ne))ke="subscribers";else throw Error("endpoint for milestone not found",Ne);return f.pathWithQuery(`${f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/milestone_assets/all/${ke}`,{milestone:Ne})},f.getMilestoneAssetImageUrl=(Re,Ne,ke,{useRootDomain:ot=!1}={})=>{let Dt;if(Object.values(st).includes(Ne))Dt="arr";else if(Object.values(ht).includes(Ne))Dt="subscribers";else throw Error("endpoint for milestone not found",Ne);return f.pathWithQuery(`${ot?f.getBaseUrl():f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/milestone_assets/${Dt}.jpg`,_(_({milestone:Ne},ke),ot&&{subdomain:Re.subdomain}))},f.getSubscriptionNoteAssetUrl=(Re,Ne,ke,{fileToDownload:ot="",useRootDomain:Dt=!1}={})=>{const ln=f.getSubscriptionNoteAssetImageUrl(Re,Ne,ke,{useRootDomain:Dt});return f.imginary(ln,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!ot,filename:ot})},f.getSubscriptionNoteAssetImageUrl=(Re,Ne,ke,{useRootDomain:ot=!1}={})=>f.pathWithQuery(`${ot?f.getBaseUrl():f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/subscription_note_assets/${Ne.id}.jpg`,_(_({},ke),ot&&{subdomain:Re.subdomain})),f.getPledgeNoteAssetUrl=(Re,Ne,ke,{fileToDownload:ot="",useRootDomain:Dt=!1}={})=>{const ln=f.getPledgeNoteAssetImageUrl(Re,Ne,ke,{useRootDomain:Dt});return f.imginary(ln,null,{quality:"auto:best",skipDomainValidation:!0,version:10,attachment:!!ot,filename:ot})},f.getPledgeNoteAssetImageUrl=(Re,Ne,ke,{useRootDomain:ot=!1}={})=>f.pathWithQuery(`${ot?f.getBaseUrl():f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/pledge_note_assets/${Ne.id}.jpg`,_(_({},ke),ot&&{subdomain:Re.subdomain})),f.getPressKitDownloadUrl=(Re,Ne,ke)=>f.pathWithQuery(`${f.getBaseUrl(Re,{forceSubdomain:!0})}/api/v1/press_kit/all/${Ne.id}`,{aspectRatio:ke,isDraft:Ne.is_draft}),f.getLatexUrl=Re=>{const Ne=f.getLatexImageUrl(Re);return f.imginary(Ne,null,{quality:"auto:best",version:9})},f.getLatexImageUrl=Re=>f.pathWithQuery("/api/v1/latex/jpeg",{expression:Re}),f.getBestsellerAssetUrl=Re=>{const Ne=`${f.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Re.id}-bestseller.jpg`;return f.imginary(Ne,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},f.getBestsellerShareCardUrl=Re=>{const Ne=`${f.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Re.id}-bestseller-share-card.jpg`;return f.imginary(Ne,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},f.getThreadDeepLinkUrl=Re=>`substack://publications/${Re.id}/threads`,f.isPublishPath=(Re,Ne)=>Re.startsWith("/publish"),f.looksLikePostUrl=Re=>{const Ne=f.parseUrl(Re);return Ne?Ne.pathname.startsWith("/p/"):!1},f.getPostSlug=Re=>f.looksLikePostUrl(Re)?f.parseUrl(Re).pathname.split("/")[2]:null,f.looksLikePostCommentsUrl=Re=>{if(!f.looksLikePostUrl(Re))return!1;const ke=f.parseUrl(Re).pathname.split("/");return ke.length===4&&ke[3]==="comments"},f.getSignoutUrl=({redirect:Re,for_pub:Ne,utm_source:ke}={})=>(Re=Re||"",f.pathWithQuery(`${f.getSubstackUrl()}/sign-out`,{redirect:Re,for_pub:Ne,utm_source:ke})),f.getPodcastOnboardingUrl=Re=>`/publish/podcast/new?referrer=${encodeURIComponent(Re)}`,f.getUrlExtension=Re=>{try{const ke=new URL(Re).pathname.match(/\.(\w+)$/);return ke?ke[0]:null}catch(Ne){return null}},f.EMAIL_CONTENT_WIDTH=550,f.WEB_CONTENT_WIDTH=728,f.WEB_CONTENT_WIDTH_MOBILE=424,f.WEB_RESPONSIVE_IMAGE_WIDTHS=[f.WEB_CONTENT_WIDTH_MOBILE,f.WEB_CONTENT_WIDTH_MOBILE*2,f.WEB_CONTENT_WIDTH_MOBILE*3,f.WEB_CONTENT_WIDTH*2],f.LARGE_IMAGE_WIDTH=1200,f.MAX_REASONABLE_SCREEN_WIDTH=2880,f.MIN_GIF_WIDTH=320,f.MAX_GIF_WIDTH=550,f.getMediaUploadThumbnailUrl=Re=>{var Ne;return Re?`https://substack-video.s3.amazonaws.com/video_upload/post/${Re.post_id}/${Re.id}/transcoded-${((Ne=Re.thumbnail_id)!=null?Ne:1).toString().padStart(5,"0")}.png`:void 0},f.getMediaUploadThumbnailUrlForPlayer=(Re,{pub:Ne,isStatic:ke}={})=>{var ot;const{colorLuma:Dt,videoPlayerDimensions:ln}=e(83322),{height:ct,width:Oe}=ln(Re,{isStatic:ke}),Se=Oe/ct<1920/1080?"pad":"fill",Ze=((ot=Ne==null?void 0:Ne.theme)==null?void 0:ot.background_pop_color)||(Ne==null?void 0:Ne.theme_var_background_pop)||O,Fe=Dt(Ze)>.6?"#1a1a1a":"#ffffff";return f.imginary(f.getMediaUploadThumbnailUrl(Re),Oe*2,{crop:Se,height:ct*2,trailingSegments:ke?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${Ze.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${Fe.slice(1)}`]:[]})},f.getPreviewInAppUrl=(Re,Ne,ke={})=>f.pathWithQuery(`https://substack.com/app-link/publications/${Re.id}/drafts/${Ne}`,ke),f.getLinkRedirectUrl=(Re,{userIdJwt:Ne,domain:ke}={})=>`${ke?f.getSubstackUrlWithDomain(ke):f.getSubstackUrl()}/redirect/${Re}?j=${Ne||""}`,f.getLoginChallengeDeepUrl=Re=>f.pathWithQuery("substack://sign-in/challenge",{token:Re}),f.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",f.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",f.getSubstackMarketingUrl=(Re={})=>f.pathWithQuery(`${f.getSubstackUrl()}/home`),f.getAppMarketingUrl=(Re={})=>f.pathWithQuery(`${f.getSubstackUrl()}/app`,Re),f.getAppWriterFaqUrl=(Re={})=>f.pathWithQuery("https://on.substack.com/p/writerfaq",Re),f.getAppStoreRedirectUrl=Re=>f.pathWithQuery(`${f.getSubstackUrl()}/app/app-store-redirect`,Re),f.getAppStoreUrl=Re=>f.pathWithQuery(`${f.getSubstackUrl()}/app/get-ios`,Re),f.getPlayStoreUrl=Re=>f.pathWithQuery(`${f.getSubstackUrl()}/app/get-android`,Re),f.getDefaultPodcastArtUrl=({pathOnly:Re=!1}={})=>{const Ne="/img/podcast/generic.png";return Re?Ne:`${f.getSubstackUrl()}${Ne}`},f.getDefaultPodcastArtUrlCDN=()=>{const Re=f.getDefaultPodcastArtUrl({pathOnly:!0});return f.imginary(Re,1400)}},30814:(K,f,e)=>{"use strict";const{insertNodeBelowSelection:t}=e(31067);f.n=({label:a,mediaUploadId:i,duration:c})=>(p,l)=>(l&&l(t(p,p.schema.nodes.audio.create({label:a,mediaUploadId:i,duration:c,isEditorNode:!0}))),!0)},95009:(K,f,e)=>{"use strict";var t;const{canInsert:a,insertNodeBelowSelection:i}=e(31067),{getSubscribeText:c,getSubscriptionWord:p,getSubscriptionSentenceWithCustomWords:l}=e(83322),{getBaseUrl:v,getWriterReferralUrl:_}=e(15045),{Substitutions:g}=e(82626);f.U0=E=>(S,O)=>{const{iString:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u={url:`${g.CHECKOUT_URL}&donate=true`,text:A("Donate Subscriptions")};return O&&O(i(S,S.schema.nodes.button.create(u))),!0},f.Lb=E=>(S,O)=>{const{iString:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u={url:`${g.LEADERBOARD_URL}&utm_source=post`,text:A("Refer a friend")};return O&&O(i(S,S.schema.nodes.button.create(u))),!0},f.HQ=({writerReferralCode:E,publication:S,postId:O})=>(A,u)=>{const{iString:o,iTemplate:s}=I18N.i({pub:S});if(!a(A,A.schema.nodes.button))return!1;const w=s`Start writing today. Use the button below to create your Substack and connect your publication with ${S.name}`,P={url:`${_(E||"")}?utm_source=substack&utm_context=post&utm_content=${O}&utm_campaign=writer_referral_button`,text:o("Start a Substack")},C=A.schema.nodes.captionedWriterReferralButton.create(P,A.schema.nodes.ctaCaption.create(null,[A.schema.text(w)]));return u&&u(i(A,C)),!0},f.sj=E=>(S,O)=>{const{iString:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u={url:g.HALF_MAGIC_COMMENTS_URL,text:A("Leave a comment")};return O&&O(i(S,S.schema.nodes.button.create(u))),!0},f.BN=E=>(S,O)=>{const{iString:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u={url:g.SHARE_URL,text:A("Share")};return O&&O(i(S,S.schema.nodes.button.create(u))),!0},f.S_=E=>(S,O)=>{const{iTemplate:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u={url:g.SHARE_PUB_URL,text:A`Share ${E.name}`};return O&&O(i(S,S.schema.nodes.button.create(u))),!0},f.pw=({couponPub:E,scrollParent:S,parentClass:O,get_coupons:A,insert_coupon:u,SelectField:o,openPrompt:s,closePrompt:w,getNetworkErrorMessage:P})=>(C,x,D)=>{const{iString:y,iTemplate:M}=I18N.i({pub:E});if(!a(C,C.schema.nodes.button))return!1;const T={parentClass:O,root:S?document.querySelector(`.${S}`):D.dom.parentNode,scrollParent:S,offsetTop:10},R=Object.assign({title:y("Loading..."),no_buttons:!0},T);return s(R),A().then(F=>{w(R);const N=Object.assign({title:y("Special Offer"),fields:{coupon:new o({label:y("Select offer..."),required:!0,options:F.map(U=>({label:U.name,value:U})).concat([{label:y("Create new offer"),value:{create_new:!0}}]),onChange:U=>{if(U&&U.create_new){w(N);const V=window.open(`${v(E)}/publish/offers/new?popup=true`,"_blank");V&&V.addEventListener&&V.addEventListener("message",({data:W})=>{W&&W.coupon&&u(W.coupon,{state:C,dispatch:x})},!1)}}})}},T);N.onSubmit=({coupon:U})=>{u(U,{state:C,dispatch:D.dispatch})},N.onClose=()=>{D.focus()},s(N)}).catch(F=>{w(R),alert(P(F))}),!1},f.op=({scrollParent:E,parentClass:S,TextField:O,openPrompt:A,publication:u})=>(o,s,w)=>{const{iString:P}=I18N.i({pub:u});if(!a(o,o.schema.nodes.button))return!1;const C={parentClass:S,title:P("Create a button"),root:E?document.querySelector(`.${E}`):w.dom.parentNode,scrollParent:E,offsetTop:10,fields:{text:new O({label:P("Enter text..."),required:!0,clean:x=>(x||"").trim(),validate:x=>{if(x.length>40)return P("Too long")}}),href:new O({label:P("Enter URL..."),required:!0,clean:x=>(x||"").trim(),validate:x=>{if(!/^%%.*%%$/.test(x)){try{const D=new URL(x);if(["http:","https:","mailto:"].includes(D.protocol))return}catch(D){console.error("Failed to parse URL:",D)}return P("Invalid URL")}}})}};return C.onSubmit=x=>{const D={url:x.href,text:x.text};s&&w.dispatch(i(o,o.schema.nodes.button.create(D)))},C.onClose=()=>{w.focus()},A(C),!0},f.Fp=({publication:E})=>(S,O)=>{const{iTemplate:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u=E.default_group_coupon,o={url:`${g.CHECKOUT_URL}group=true${u?`&coupon=${u}`:""}`,text:l(E,()=>u?A`Get ${E.default_group_coupon_percent_off.split(".")[0]}% off a group subscription`:A`Get a group subscription`,s=>u?`Get ${E.default_group_coupon_percent_off.split(".")[0]}% off a group ${s.subscription}`:`Get a group ${s.subscription}`)};return O&&O(i(S,S.schema.nodes.button.create(o))),!0},f.aZ=E=>(S,O)=>{const{iTemplate:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u={url:`${g.CHECKOUT_URL}&gift=true`,text:l(E,()=>A`Give a gift subscription`,o=>`Give a gift ${o.subscription}`)};return O&&O(i(S,S.schema.nodes.button.create(u))),!0},f.tX=E=>(S,O)=>{if(!a(S,S.schema.nodes.button))return!1;const A={url:g.CHECKOUT_URL,text:c(E,{now:!0}),language:E.language};return O&&O(i(S,S.schema.nodes.button.create(A))),!0},f.Ui=E=>(S,O)=>{const{iTemplate:A}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const u=E.payments_state!=="enabled"?A`Thanks for reading ${E.name}! Subscribe for free to receive new posts and support my work.`:A`${E.name} is a reader-supported publication. To receive new posts and support my work, consider becoming a free or paid subscriber.`,o={url:g.CHECKOUT_URL,text:c(E),language:E.language},s=S.schema.nodes.subscribeWidget.create(o,[S.schema.nodes.ctaCaption.create(null,[S.schema.text(u)])]);return O&&O(i(S,s)),!0},f.T6=E=>(S,O)=>{const{iString:A,iTemplate:u}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const o=u`Thank you for reading ${E.name}. This post is public so feel free to share it.`,s={url:g.SHARE_URL,text:A("Share")},w=S.schema.nodes.captionedShareButton.create(s,S.schema.nodes.ctaCaption.create(null,[S.schema.text(o)]));return O&&O(i(S,w)),!0},t=E=>(S,O)=>{const{tr:A}=S,{iString:u,iTemplate:o}=I18N.i({pub:E});if(!a(S,S.schema.nodes.button))return!1;const s=E.payments_state!=="enabled"?o`Thanks for reading ${E.name}! Subscribe for free to receive new posts and support my work.`:o`${E.name} is a reader-supported publication. To receive new posts and support my work, consider becoming a free or paid subscriber.`,w={url:g.CHECKOUT_URL,text:c(E),language:E.language};let P=0,C=null;return S.doc.descendants((x,D)=>{var y;return((y=x.type)==null?void 0:y.name)==="paragraph"&&(P++,P===2&&(C=D+x.nodeSize)),!1}),P>=5&&C!==null&&A.insert(C,S.schema.nodes.subscribeWidget.create(w,[S.schema.nodes.ctaCaption.create(null,[S.schema.text(s)])])),A.insert(A.doc.content.size,S.schema.nodes.subscribeWidget.create(w,[S.schema.nodes.ctaCaption.create(null,[S.schema.text(s)])])),O&&O(A),!0}},40042:(K,f,e)=>{"use strict";const{insertNodeBelowSelection:t,replaceSelectionWith:a}=e(31067);f.M=({gallery:i})=>(c,p)=>(p&&p(t(c,c.schema.nodes.imageGallery.create({gallery:i,isEditorNode:!0}))),!0),f.h=({gallery:i})=>(c,p)=>(p&&p(a(c,c.schema.nodes.imageGallery.create({gallery:i,isEditorNode:!0}))),!0)},63159:(K,f,e)=>{"use strict";const{canInsert:t,insertNodeBelowSelection:a}=e(31067),{getBaseUrl:i}=e(15045);f.Y=c=>(p,l)=>{const v=i(c);return l&&l(a(p,p.schema.nodes.install_substack_app.create({logo_url:c.logo_url||`${v}/img/substack.png`,author_name:c.author_name,publication_subdomain:c.subdomain,publication_name:c.name,language:c.language}))),!0}},18799:(K,f,e)=>{"use strict";const{insertNodeBelowSelection:t,replaceSelectionWith:a}=e(31067),{generateId:i}=e(2781);f.H=({expression:c})=>(p,l)=>{const v=i();return l&&l(t(p,p.schema.nodes.latex_block.create({persistentExpression:c,id:v}))),!0}},50783:(K,f,e)=>{"use strict";const{getMeetingsUrl:t,imginary:a}=e(20501),{getUserPhotoUrl:i}=e(15045),{insertNodeBelowSelection:c}=e(31067);f.H=({publication:p,meetingsConfig:l,usePublicationName:v})=>(_,g)=>{let E=i({id:l.user_id,photo_url:l.user_profile_photo_url});return v&&p.logo_url&&(E=a(p.logo_url,112)),g&&g(c(_,_.schema.nodes.meeting.create({name:v?p.name:l.user_name,avatarUrl:E,url:t(p,{addBase:!0,params:{source:"embed"}}),isEditorNode:!0}))),!0}},82530:(K,f,e)=>{"use strict";const{findNode:t}=e(31067),{insertPoint:a}=e(92843),i=e(83245);f.canAddPaywall=c=>!t(c.doc.toJSON(),p=>p.type==="paywall"),f.addPaywall=c=>(p,l)=>{if(!f.canAddPaywall(p))return!1;const{schema:v,tr:_}=p,g=v.nodes.paywall.create();return _.selection.anchor===1?f.addPaywallAtStart(c)(p,l):(_.insert(_.selection.anchor,g),l&&(l(_),c()),!0)},f.addPaywallAtStart=c=>(p,l)=>{if(!f.canAddPaywall(p))return!1;const{schema:v,tr:_}=p,g=v.nodes.paywall.create();let E=0,S=0;for(;E<10&&S<3;){const O=p.doc.resolve(E).nodeAfter;if(!O)break;E+=O.nodeSize,S++}return _.insert(E,g),l&&(l(_),c()),!0}},16407:(K,f,e)=>{"use strict";const{insertNodeBelowSelection:t}=e(31067);f.f=({id:a})=>(i,c)=>(c&&c(t(i,i.schema.nodes.poll.create({id:a}))),!0)},28146:(K,f,e)=>{"use strict";const{insertNodeBelowSelection:t}=e(31067);f.c=({url:a,width:i,height:c,description:p,userName:l,userHref:v})=>(_,g)=>{const E=_.schema,S={alt:p,src:a,height:c,width:i,type:"image/jpg"},O=E.text("Photo by "),A=E.text(l,[E.marks.link.create({title:l,href:v})]),u=E.text(" on "),o=E.text("Unsplash",[E.marks.link.create({title:"Unsplash",href:"https://unsplash.com"})]),s=E.nodes.captionedImage.create(S,[E.nodes.image2.create(S),E.nodes.caption.create(null,[O,A,u,o])]);return g&&g(t(_,s)),!0}},31067:function(K,f,e){"use strict";var t=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,v=(N,U,V)=>U in N?t(N,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):N[U]=V,_=(N,U)=>{for(var V in U||(U={}))p.call(U,V)&&v(N,V,U[V]);if(c)for(var V of c(U))l.call(U,V)&&v(N,V,U[V]);return N},g=(N,U)=>a(N,i(U)),E=(N,U,V)=>new Promise((W,L)=>{var k=q=>{try{G(V.next(q))}catch(z){L(z)}},H=q=>{try{G(V.throw(q))}catch(z){L(z)}},G=q=>q.done?W(q.value):Promise.resolve(q.value).then(k,H);G((V=V.apply(N,U)).next())});const S=e(10691),{TextSelection:O,NodeSelection:A}=e(42391),{Slice:u,Fragment:o}=e(19443),{truncateText:s}=e(83322),w=e(52410),{forEachNode:P}=e(45895);f.forEachNode=P,f.proseMirrorTipTapNodeMap=[["list_item","listItem"],["bullet_list","bulletList"],["ordered_list","orderedList"],["hard_break","hardBreak"],["horizontal_rule","horizontalRule"],["code_block","codeBlock"]],f.proseMirrorTipTapMarkMap=[["em","italic"],["strong","bold"],["strikethrough","strike"]];const C={image2:1,image:0,horizontal_rule:0,youtube:0,youtube2:0,vimeo:0,opensea:0,twitter:0,twitter2:0,spotify:0,spotify2:0,soundcloud:0,bandcamp:0,kindle:0,tiktok:0,prediction_market:0,lichess:0,datawrapper:0},x=100;f.truncatePrivateDocument=(N,{maxLength:U=356,getAfterCutoff:V=!1,withEllipsis:W=!1}={})=>{let L="",k=!1;const H={},G=f.hasExplicitPaywallJSON(N);let q=!1;const z=f.filterChildren(N,ee=>{if(k)return V;if(ee.type==="paywall")return k=!0,!1;if(G)return!0;if(H[ee.type]=(H[ee.type]||0)+1,ee.type in C&&H[ee.type]>C[ee.type])return k=!0,V;const $=U-L.length;if($<=0&&!G)return V;if($>0){if(V){if(ee.type==="text")if(L+=ee.text,U-L.length<=0)ee.text=ee.text.substring(ee.text.length+U-L.length-1,ee.text.length);else return!1}else if(ee.type==="text"){L+=ee.text;const J=ee.text;ee.text=s(J,$),q=J!==ee.text}}else return V;return!0});if(z&&W&&!q){const ee=D(z);let $=null,J=null;for(let ne=ee.length-1;ne>=0&&!($&&J);ne--){const ie=ee[ne];$===null&&ie.type==="text"&&($=ne),J===null&&ie.type!=="text"&&ie.type!=="paragraph"&&(J=ne)}const j=$!==null?ee[$]:null,Z=j&&J!==null&&J>$;j&&!Z&&(j.text=f.ensureEndsWithEllipsis(j.text))}return z},f.filterChildren=(N,U)=>{if(!N||!U(N))return null;if(N.content&&N.content.length>0){if(N.content=N.content.filter(V=>f.filterChildren(V,U)),N.content.length===0)return null}else if(N.content&&N.content.content&&N.content.content.length>0&&(N.content.content=N.content.content.filter(V=>f.filterChildren(V,U)),N.content.content.length===0))return null;return N};const D=N=>{var U,V,W;const L=[],k=[N];for(;k.length;){const H=k.pop();if(((U=H.content)==null?void 0:U.length)>0||((W=(V=H.content)==null?void 0:V.content)==null?void 0:W.length)>0){const G=H.content.length>0?H.content:H.content.content;for(let q=G.length-1;q>=0;q--)k.push(G[q])}else L.push(H)}return L};f.findNodes=(N,U)=>{let V=[];if(N&&(U(N)&&V.push(N),N.content))for(const W of N.content)V=V.concat(f.findNodes(W,U));return V},f.findNode=(N,U)=>{if(N){if(U(N))return N;if(N.content)for(const V of N.content){const W=f.findNode(V,U);if(W)return W}}return null},f.extractTags=N=>{const U=[];return N.nodesBetween(0,N.content.size,V=>{var W;((W=V.type)==null?void 0:W.name)==="cashtag"&&U.push(V.attrs.symbol)},0),U};const y=new Set(["caption","footnote","captionedImage","image","image2"]),M=new Set(["bullet_list","bulletList","ordered_list","orderedList","blockquote"]),T="x_li_start_placeholder_x",R=(N,U)=>{var V,W,L,k;if(((V=N.type)==null?void 0:V.name)==="list_item"||((W=N.type)==null?void 0:W.name)==="listItem")return{open:T,close:""};if(((L=N.type)==null?void 0:L.name)==="paragraph"||N.isBlock&&N.textContent.length>0&&!M.has((k=N.type)==null?void 0:k.name)){let H="<p>";return(U.length>0?U[U.length-1]:null)===T&&(U.pop(),H+="* "),{open:H,close:"</p>"}}return null},F=({node:N,recursiveDepth:U,tokens:V})=>{var W,L;if(U>x)return console.warn("Reached max recursive depth while converting document to HTML for podcast"),!1;let k=!0;if(y.has((W=N.type)==null?void 0:W.name))k=!1;else if(N.isText){if(N.text.length>0){const H=N.marks.filter(ee=>ee.type.name==="link"&&ee.attrs.href)[0],G=N.marks.filter(ee=>ee.type.name==="em")[0],q=N.marks.filter(ee=>ee.type.name==="strong")[0],z=N.text;G?V.push(`<em>${z}</em>`):q?V.push(`<strong>${z}</strong>`):H?V.push(`<a target="_blank" href="${w(H.attrs.href)}">${z}</a>`):V.push(z)}}else if(R(N,[])){const H=R(N,V);V.push(H.open),N.descendants(G=>F({node:G,recursiveDepth:U+1,tokens:V})),V.push(H.close),k=!1}else((L=N.type)==null?void 0:L.name)==="cashtag"&&V.push(`${N.attrs.symbol} `);return k};f.convertProsemirrorDocToPodcastDescription=N=>{const U=[];return N.descendants(V=>F({node:V,recursiveDepth:1,tokens:U})),U.filter(V=>V!==T).join("").trim()},f.toText=(N,{withLinks:U=!0,withCaptionsAndFootnotes:V=!1,forPodcast:W=!1,truncateAt:L=null,truncateTo:k=L,truncateEllipsis:H="\u2026",truncateExtension:G=null}={})=>{let q="",z="",ee="",$=!0;return N.nodesBetween(0,N.content.size,J=>{var j,Z,ne,ie;if(!V&&["caption","footnote"].includes((j=J.type)==null?void 0:j.name))return!1;if(J.isText){if(J.text.length>0){$=!1;let oe;q.length<k&&q.length+J.text.length>=k&&(oe=s(J.text,k-q.length,{ellipsis:H,extension:G}));const re=J.marks.filter(le=>le.type.name==="link"&&le.attrs.href)[0],ae=J.marks.filter(le=>le.type.name==="em")[0],se=J.marks.filter(le=>le.type.name==="strong")[0];let fe=J.text;q+=fe,ae&&W&&(oe&&(oe=`<em>${oe}</em>`),fe=`<em>${fe}</em>`),se&&W&&(oe&&(oe=`<strong>${oe}</strong>`),fe=`<strong>${fe}</strong>`),!re||!U?(oe&&(ee=z+oe),z+=fe):W?(oe&&(ee=`${z}<a target="_blank" href="${w(re.attrs.href)}">${oe}</a>`),z+=`<a target="_blank" href="${w(re.attrs.href)}">${fe}</a>`):(oe&&(ee=`${z}${oe} [ ${re.attrs.href} ]`),z+=`${fe} [ ${re.attrs.href} ]`)}}else!$&&["hard_break","hardBreak"].includes((Z=J.type)==null?void 0:Z.name)?($=!0,q+=`
`,W?z+="<br/>":z+=`
`):!$&&J.isBlock?($=!0,q+=`
`,W?z+="<br/><br/>":z+=`
`):((ne=J.type)==null?void 0:ne.name)==="cashtag"?z+=`${J.attrs.symbol} `:((ie=J.type)==null?void 0:ie.name)==="substack_mentions"&&(z+=`${J.attrs.name} `)},0),q.length>L&&ee&&(z=ee),z=z.trim(),W&&(z=z.replace(/\s*(<br\/>)+$/,"").trim()),z},f.ensureEndsWithEllipsis=N=>`${S(N,".")}...`,f.proseMirrorToTipTap=(N,U)=>g(_({name:N},U),{addAttributes(){return U.attrs||{}},parseHTML(){return U.parseDOM},renderHTML({node:V}){return U.toDOM(V)}}),f.overrideToProsemirrorNodes=N=>(f.forEachNode(N,U=>{const V=f.proseMirrorTipTapNodeMap.find(W=>W[1]===U.type);return V&&(U.type=V[0]),U.marks&&U.marks.forEach(W=>{const L=f.proseMirrorTipTapMarkMap.find(k=>k[1]===W.type);L&&(W.type=L[0])}),U}),N),f.getFirstMarkInSelection=(N,U)=>{let V,W,L;if(N.doc.nodesBetween(N.selection.from,N.selection.to,(k,H)=>{if(V||W)return!1;const G=k.marks.find(q=>q.type===U);G&&(V=k,W=G,L={from:H,to:H+k.nodeSize})}),!!V)return{node:V,mark:W,pos:L}},f.getMarkSurroundingSelection=(N,U)=>{let V,W,L;if(N.doc.nodesBetween(N.selection.from,N.selection.to,(k,H)=>{if(V||W)return!1;if(H<=N.selection.from&&N.selection.to<=H+k.nodeSize){const G=k.marks.find(q=>q.type===U);G&&(V=k,W=G,L={from:H,to:H+k.nodeSize})}else return!1}),!V){if(N.selection.empty){const k=N.doc.resolve(N.selection.from),H=k.nodeBefore&&k.nodeBefore.marks.find(q=>q.type===U),G=k.nodeAfter&&k.nodeAfter.marks.find(q=>q.type===U);(H||G)&&(V=G?k.nodeAfter:k.nodeBefore,W=G||H,L=G?{from:k.pos,to:k.pos+k.nodeAfter.nodeSize}:{from:k.pos-k.nodeBefore.nodeSize,to:k.pos})}if(!V)return}return{node:V,mark:W,pos:L}},f.isSelectionUnmarkedText=(N,{allowedMarks:U=[]}={})=>N.selection.empty?!0:f.isUnmarkedText(N,N.selection.from,N.selection.to,{allowedMarks:U}),f.isUnmarkedText=(N,U,V,{allowedMarks:W=[]}={})=>{let L=!0,k=!1;return N.doc.nodesBetween(U,V,H=>{if(!L)return!1;H.type!==N.schema.nodes.text?k?L=!1:k=!0:H.marks.find(G=>!W.includes(G.type))&&(L=!1)}),L},f.isSelectionNodeType=(N,U)=>{var V;if(N.selection.empty)return!1;const W=Array.isArray(U)?U:[U];return W.includes((V=N.selection.node)==null?void 0:V.type)||f.isNodeType(N,N.selection.from,N.selection.to,W)},f.isNodeType=(N,U,V,W)=>{let L=null;return N.doc.nodesBetween(U,V,k=>{if(L!==!1&&W.includes(k.type))L=!0;else return L=!1,!1}),L||!1},f.getImageLinkFromSelection=N=>N.selection.empty?null:f.getImageHref(N,N.selection.from,N.selection.to),f.getImageHref=(N,U,V)=>{let W;return N.doc.nodesBetween(U,V,L=>{if(W)return!1;if(L.type===N.schema.nodes.image2)return W=L.attrs.href,!1;L.type===N.schema.nodes.image3&&(W=L.attrs.href)}),W||null},f.setSelectionImageHref=(N,U,V)=>{N.selection.empty||f.setImageHref(N,U,N.selection.from,N.selection.to,V)},f.setImageHref=(N,U,V,W,L)=>{N.doc.nodesBetween(V,W,(k,H)=>{(k.type===N.schema.nodes.image2||k.type===N.schema.nodes.image3)&&U.setNodeMarkup(H,k.type,Object.assign({},k.attrs,{href:L}),k.marks)})},f.convertProsemirrorRectZoomToAbsoluteCoords=N=>({top:N.top+window.scrollY,bottom:N.bottom+window.scrollY,left:N.left+window.scrollX,right:N.right+window.scrollX}),f.placeElement=(N,U,V,W)=>{const L=document.body,k=window.innerWidth<=481,G=f.hasNode(N,U.from,U.to,J=>[N.state.schema.nodes.image,N.state.schema.nodes.image2].includes(J.type))?-44:8,q=f.convertProsemirrorRectZoomToAbsoluteCoords(N.coordsAtPos(U.from)),z=f.convertProsemirrorRectZoomToAbsoluteCoords(N.coordsAtPos(U.to));V.style.position="fixed";const ee=z.bottom+(k?L.scrollTop:0),$=L.clientHeight-V.clientHeight-96-G;q.top<z.top?(W&&(W.style.left="10px"),V.style.right="",V.style.left=`${Math.min(q.left,z.left)}px`):L.clientWidth-q.left>V.clientWidth?(W&&(W.style.left="10px"),V.style.right="",V.style.left=`${q.left}px`):(W&&(W.style.left=`${q.left-L.clientWidth+V.clientWidth}px`),V.style.right="10px",V.style.left=""),k||ee<$?(W&&(W.style.top="-9px",W.style.bottom="auto",W.style.transform=""),V.style.top=`${ee+G}px`):(W&&(W.style.top="auto",W.style.bottom="-9px",W.style.transform="rotate(180deg)"),V.style.top=`${$+G}px`)},f.hasNode=(N,U,V,W)=>{let L=!1;return N.state.doc.nodesBetween(U,V,k=>{if(L)return!1;L=W(k)}),L},f.mapSlice=(N,U)=>E(this,null,function*(){return u.maxOpen(yield f.mapFragment(N.content,U))}),f.mapFragment=(N,U,V)=>E(this,null,function*(){let W=[];for(let L=0;L<N.childCount;L++){let k=N.child(L);k.content.childCount&&(k=k.copy(yield f.mapFragment(k.content,U,k))),k=U(k,L,V),Array.isArray(k)||(k=[k]),W=W.concat(k.filter(H=>H))}return W=yield Promise.all(W),W=W.map(L=>{if(!(L!=null&&L.content.childCount))return[L];const k=[];let H=[];for(let G=0;G<L.content.childCount;G++){const q=L.content.child(G);f.child_placement_is_valid(L,q)?H.push(q):(k.push(L.copy(o.fromArray(H))),H=[],k.push(q))}return H.length&&k.push(L.copy(o.fromArray(H))),k}).reduce((L,k)=>L.concat(k),[]),W=W.filter(L=>L&&!(L.type.name==="text"&&!L.text)&&!(L.type.name==="paragraph"&&!L.content.childCount)),o.fromArray(W)}),f.mergeContiguous=(N,U,V)=>u.maxOpen(f.mergeContiguousFromFragment(N.content,U,V)),f.mergeContiguousFromFragment=(N,U,V)=>{V=V||(k=>k);const W=[];let L;for(let k=0;k<N.childCount;k++){let H=N.child(k);U(H)?(L=L||[],L.push(H)):(L&&(W.push(f.mergeChildren(...V(L))),L=null),H.content.childCount&&(H=H.copy(f.mergeContiguousFromFragment(H.content,U,V))),W.push(H))}return L&&(W.push(f.mergeChildren(...V(L))),L=null),o.fromArray(W)},f.mergeChildren=(N,...U)=>{let V=N.content;for(const W of U)V=V.append(W.content);return N.copy(V)},f.isEmptyDoc=N=>{if(!N)return!0;if(typeof N=="string")try{N=JSON.parse(N)}catch(U){return console.error("Could not parse doc",N),!1}if(!N||N.type!=="doc"||!Array.isArray(N.content))return console.error("Could not parse doc",N),!1;for(const U of N.content){if(!U||typeof U!="object")return console.error("Could not parse doc",N),!1;if(U.type!=="paragraph")return!1;if(U.content){if(!Array.isArray(U.content))return console.error("Could not parse doc",N),!1;if(U.type!=="text"||U.text&&U.text.trim())return!1}}return!0},f.child_placement_is_valid=(N,U)=>{const V=["list_item","listItem"].includes(N.type.name),W=["bullet_list","bulletList","ordered_list","orderedList"].includes(U.type.name);return V&&W?!0:N.type.contentMatch&&N.type.contentMatch.matchType(U.type)},f.isImageSelected=N=>{var U,V,W;return((W=(V=(U=N==null?void 0:N.selection)==null?void 0:U.node)==null?void 0:V.type)==null?void 0:W.name)==="image2"},f.getRootNode=N=>N.doc.resolve(N.selection.from).node(1),f.isNodeOfType=(N,U)=>{var V;return U.includes((V=f.getRootNode(N))==null?void 0:V.type)},f.isParagraphNode=N=>{var U,V;return f.isNodeOfType(N,[(V=(U=N==null?void 0:N.schema)==null?void 0:U.nodes)==null?void 0:V.paragraph])},f.insertNodeBelowSelection=(N,U)=>{var V,W,L;const k=N.tr,H=k.selection instanceof O,q=H&&((L=(W=(V=k.selection.$from)==null?void 0:V.parent)==null?void 0:W.content)==null?void 0:L.size)===0?N.selection.to-1:N.selection.to;if(Array.isArray(U))for(const z of U.slice().reverse())k.insert(q,z);else k.insert(q,U);return H||k.setSelection(A.near(k.doc.resolve(q))),k},f.replaceSelectionWith=(N,U)=>{const V=N.tr;return V.replaceSelectionWith(U),V},f.findParentNodeClosestToPos=(N,U)=>{for(let V=N.depth;V>0;V--){const W=N.node(V);if(U(W))return{pos:V>0?N.before(V):0,start:N.start(V),depth:V,node:W}}},f.unwrapParent=(N,U,{depth:V=1}={})=>{const W=N.doc.resolve(N.selection.from),L=N.doc.resolve(W.start(V)),k=N.doc.resolve(W.end(V)),H=L.blockRange(k);return U&&U(N.tr.lift(H,V-1).scrollIntoView()),!0},f.canInsert=(N,U)=>{const V=N.selection.$from;for(let W=V.depth;W>=0;W--){const L=V.index(W);if(V.node(W).canReplaceWith(L,L,U))return!0}return!1},f.hasExplicitPaywallJSON=N=>!!f.findNode(N,U=>U.type==="paywall")},7158:function(K,f,e){var t,a;(function(i,c){t=c,a=typeof t=="function"?t.call(f,e,f,K):t,a!==void 0&&(K.exports=a)})(typeof window!="undefined"?window:this,function(){"use strict";function i(){}var c=i.prototype;return c.on=function(p,l){if(!(!p||!l)){var v=this._events=this._events||{},_=v[p]=v[p]||[];return _.indexOf(l)==-1&&_.push(l),this}},c.once=function(p,l){if(!(!p||!l)){this.on(p,l);var v=this._onceEvents=this._onceEvents||{},_=v[p]=v[p]||{};return _[l]=!0,this}},c.off=function(p,l){var v=this._events&&this._events[p];if(!(!v||!v.length)){var _=v.indexOf(l);return _!=-1&&v.splice(_,1),this}},c.emitEvent=function(p,l){var v=this._events&&this._events[p];if(!(!v||!v.length)){v=v.slice(0),l=l||[];for(var _=this._onceEvents&&this._onceEvents[p],g=0;g<v.length;g++){var E=v[g],S=_&&_[E];S&&(this.off(p,E),delete _[E]),E.apply(this,l)}return this}},c.allOff=function(){delete this._events,delete this._onceEvents},i})},17187:K=>{function f(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}K.exports=f,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._maxListeners=void 0,f.defaultMaxListeners=10,f.prototype.setMaxListeners=function(c){if(!t(c)||c<0||isNaN(c))throw TypeError("n must be a positive number");return this._maxListeners=c,this},f.prototype.emit=function(c){var p,l,v,_,g,E;if(this._events||(this._events={}),c==="error"&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(p=arguments[1],p instanceof Error)throw p;var S=new Error('Uncaught, unspecified "error" event. ('+p+")");throw S.context=p,S}if(l=this._events[c],i(l))return!1;if(e(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:_=Array.prototype.slice.call(arguments,1),l.apply(this,_)}else if(a(l))for(_=Array.prototype.slice.call(arguments,1),E=l.slice(),v=E.length,g=0;g<v;g++)E[g].apply(this,_);return!0},f.prototype.addListener=function(c,p){var l;if(!e(p))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",c,e(p.listener)?p.listener:p),this._events[c]?a(this._events[c])?this._events[c].push(p):this._events[c]=[this._events[c],p]:this._events[c]=p,a(this._events[c])&&!this._events[c].warned&&(i(this._maxListeners)?l=f.defaultMaxListeners:l=this._maxListeners,l&&l>0&&this._events[c].length>l&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),typeof console.trace=="function"&&console.trace())),this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(c,p){if(!e(p))throw TypeError("listener must be a function");var l=!1;function v(){this.removeListener(c,v),l||(l=!0,p.apply(this,arguments))}return v.listener=p,this.on(c,v),this},f.prototype.removeListener=function(c,p){var l,v,_,g;if(!e(p))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;if(l=this._events[c],_=l.length,v=-1,l===p||e(l.listener)&&l.listener===p)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,p);else if(a(l)){for(g=_;g-- >0;)if(l[g]===p||l[g].listener&&l[g].listener===p){v=g;break}if(v<0)return this;l.length===1?(l.length=0,delete this._events[c]):l.splice(v,1),this._events.removeListener&&this.emit("removeListener",c,p)}return this},f.prototype.removeAllListeners=function(c){var p,l;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[c]&&delete this._events[c],this;if(arguments.length===0){for(p in this._events)p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events={},this}if(l=this._events[c],e(l))this.removeListener(c,l);else if(l)for(;l.length;)this.removeListener(c,l[l.length-1]);return delete this._events[c],this},f.prototype.listeners=function(c){var p;return!this._events||!this._events[c]?p=[]:e(this._events[c])?p=[this._events[c]]:p=this._events[c].slice(),p},f.prototype.listenerCount=function(c){if(this._events){var p=this._events[c];if(e(p))return 1;if(p)return p.length}return 0},f.listenerCount=function(c,p){return c.listenerCount(p)};function e(c){return typeof c=="function"}function t(c){return typeof c=="number"}function a(c){return typeof c=="object"&&c!==null}function i(c){return c===void 0}},4445:K=>{K.exports=c,c.default=c,c.stable=_,c.stableStringify=_;var f="[...]",e="[Circular]",t=[],a=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function c(S,O,A,u){typeof u=="undefined"&&(u=i()),l(S,"",0,[],void 0,0,u);var o;try{a.length===0?o=JSON.stringify(S,O,A):o=JSON.stringify(S,E(O),A)}catch(w){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var s=t.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function p(S,O,A,u){var o=Object.getOwnPropertyDescriptor(u,A);o.get!==void 0?o.configurable?(Object.defineProperty(u,A,{value:S}),t.push([u,A,O,o])):a.push([O,A,S]):(u[A]=S,t.push([u,A,O]))}function l(S,O,A,u,o,s,w){s+=1;var P;if(typeof S=="object"&&S!==null){for(P=0;P<u.length;P++)if(u[P]===S){p(e,S,O,o);return}if(typeof w.depthLimit!="undefined"&&s>w.depthLimit){p(f,S,O,o);return}if(typeof w.edgesLimit!="undefined"&&A+1>w.edgesLimit){p(f,S,O,o);return}if(u.push(S),Array.isArray(S))for(P=0;P<S.length;P++)l(S[P],P,P,u,S,s,w);else{var C=Object.keys(S);for(P=0;P<C.length;P++){var x=C[P];l(S[x],x,P,u,S,s,w)}}u.pop()}}function v(S,O){return S<O?-1:S>O?1:0}function _(S,O,A,u){typeof u=="undefined"&&(u=i());var o=g(S,"",0,[],void 0,0,u)||S,s;try{a.length===0?s=JSON.stringify(o,O,A):s=JSON.stringify(o,E(O),A)}catch(P){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;t.length!==0;){var w=t.pop();w.length===4?Object.defineProperty(w[0],w[1],w[3]):w[0][w[1]]=w[2]}}return s}function g(S,O,A,u,o,s,w){s+=1;var P;if(typeof S=="object"&&S!==null){for(P=0;P<u.length;P++)if(u[P]===S){p(e,S,O,o);return}try{if(typeof S.toJSON=="function")return}catch(y){return}if(typeof w.depthLimit!="undefined"&&s>w.depthLimit){p(f,S,O,o);return}if(typeof w.edgesLimit!="undefined"&&A+1>w.edgesLimit){p(f,S,O,o);return}if(u.push(S),Array.isArray(S))for(P=0;P<S.length;P++)g(S[P],P,P,u,S,s,w);else{var C={},x=Object.keys(S).sort(v);for(P=0;P<x.length;P++){var D=x[P];g(S[D],D,P,u,S,s,w),C[D]=S[D]}if(typeof o!="undefined")t.push([o,O,S]),o[O]=C;else return C}u.pop()}}function E(S){return S=typeof S!="undefined"?S:function(O,A){return A},function(O,A){if(a.length>0)for(var u=0;u<a.length;u++){var o=a[u];if(o[1]===O&&o[0]===A){A=o[2],a.splice(u,1);break}}return S.call(this,O,A)}}},99047:(K,f,e)=>{var t,a;(function(i,c){t=[e(39741)],a=function(p){return c(i,p)}.apply(f,t),a!==void 0&&(K.exports=a)})(window,function(c,p){"use strict";var l={};l.extend=function(g,E){for(var S in E)g[S]=E[S];return g},l.modulo=function(g,E){return(g%E+E)%E};var v=Array.prototype.slice;l.makeArray=function(g){if(Array.isArray(g))return g;if(g==null)return[];var E=typeof g=="object"&&typeof g.length=="number";return E?v.call(g):[g]},l.removeFrom=function(g,E){var S=g.indexOf(E);S!=-1&&g.splice(S,1)},l.getParent=function(g,E){for(;g.parentNode&&g!=document.body;)if(g=g.parentNode,p(g,E))return g},l.getQueryElement=function(g){return typeof g=="string"?document.querySelector(g):g},l.handleEvent=function(g){var E="on"+g.type;this[E]&&this[E](g)},l.filterFindElements=function(g,E){g=l.makeArray(g);var S=[];return g.forEach(function(O){if(O instanceof HTMLElement){if(!E){S.push(O);return}p(O,E)&&S.push(O);for(var A=O.querySelectorAll(E),u=0;u<A.length;u++)S.push(A[u])}}),S},l.debounceMethod=function(g,E,S){S=S||100;var O=g.prototype[E],A=E+"Timeout";g.prototype[E]=function(){var u=this[A];clearTimeout(u);var o=arguments,s=this;this[A]=setTimeout(function(){O.apply(s,o),delete s[A]},S)}},l.docReady=function(g){var E=document.readyState;E=="complete"||E=="interactive"?setTimeout(g):document.addEventListener("DOMContentLoaded",g)},l.toDashed=function(g){return g.replace(/(.)([A-Z])/g,function(E,S,O){return S+"-"+O}).toLowerCase()};var _=c.console;return l.htmlInit=function(g,E){l.docReady(function(){var S=l.toDashed(E),O="data-"+S,A=document.querySelectorAll("["+O+"]"),u=document.querySelectorAll(".js-"+S),o=l.makeArray(A).concat(l.makeArray(u)),s=O+"-options",w=c.jQuery;o.forEach(function(P){var C=P.getAttribute(O)||P.getAttribute(s),x;try{x=C&&JSON.parse(C)}catch(y){_&&_.error("Error parsing "+O+" on "+P.className+": "+y);return}var D=new g(P,x);w&&w.data(P,E,D)})})},l})},17648:K=>{"use strict";var f="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,t=Object.prototype.toString,a="[object Function]";K.exports=function(c){var p=this;if(typeof p!="function"||t.call(p)!==a)throw new TypeError(f+p);for(var l=e.call(arguments,1),v,_=function(){if(this instanceof v){var A=p.apply(this,l.concat(e.call(arguments)));return Object(A)===A?A:this}else return p.apply(c,l.concat(e.call(arguments)))},g=Math.max(0,p.length-l.length),E=[],S=0;S<g;S++)E.push("$"+S);if(v=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(_),p.prototype){var O=function(){};O.prototype=p.prototype,v.prototype=new O,O.prototype=null}return v}},58612:(K,f,e)=>{"use strict";var t=e(17648);K.exports=Function.prototype.bind||t},40210:(K,f,e)=>{"use strict";var t,a=SyntaxError,i=Function,c=TypeError,p=function(U){try{return i('"use strict"; return ('+U+").constructor;")()}catch(V){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(U){l=null}var v=function(){throw new c},_=l?function(){try{return arguments.callee,v}catch(U){try{return l(arguments,"callee").get}catch(V){return v}}}():v,g=e(41405)(),E=Object.getPrototypeOf||function(U){return U.__proto__},S={},O=typeof Uint8Array=="undefined"?t:E(Uint8Array),A={"%AggregateError%":typeof AggregateError=="undefined"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?t:ArrayBuffer,"%ArrayIteratorPrototype%":g?E([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics=="undefined"?t:Atomics,"%BigInt%":typeof BigInt=="undefined"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?t:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?t:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array=="undefined"?t:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?t:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g?E(E([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map=="undefined"?t:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!g?t:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?t:Promise,"%Proxy%":typeof Proxy=="undefined"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?t:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!g?t:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g?E(""[Symbol.iterator]()):t,"%Symbol%":g?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":_,"%TypedArray%":O,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array=="undefined"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?t:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?t:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?t:WeakSet};try{null.error}catch(U){var u=E(E(U));A["%Error.prototype%"]=u}var o=function U(V){var W;if(V==="%AsyncFunction%")W=p("async function () {}");else if(V==="%GeneratorFunction%")W=p("function* () {}");else if(V==="%AsyncGeneratorFunction%")W=p("async function* () {}");else if(V==="%AsyncGenerator%"){var L=U("%AsyncGeneratorFunction%");L&&(W=L.prototype)}else if(V==="%AsyncIteratorPrototype%"){var k=U("%AsyncGenerator%");k&&(W=E(k.prototype))}return A[V]=W,W},s={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e(58612),P=e(17642),C=w.call(Function.call,Array.prototype.concat),x=w.call(Function.apply,Array.prototype.splice),D=w.call(Function.call,String.prototype.replace),y=w.call(Function.call,String.prototype.slice),M=w.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,F=function(V){var W=y(V,0,1),L=y(V,-1);if(W==="%"&&L!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&W!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var k=[];return D(V,T,function(H,G,q,z){k[k.length]=q?D(z,R,"$1"):G||H}),k},N=function(V,W){var L=V,k;if(P(s,L)&&(k=s[L],L="%"+k[0]+"%"),P(A,L)){var H=A[L];if(H===S&&(H=o(L)),typeof H=="undefined"&&!W)throw new c("intrinsic "+V+" exists, but is not available. Please file an issue!");return{alias:k,name:L,value:H}}throw new a("intrinsic "+V+" does not exist!")};K.exports=function(V,W){if(typeof V!="string"||V.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new c('"allowMissing" argument must be a boolean');if(M(/^%?[^%]*%?$/,V)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=F(V),k=L.length>0?L[0]:"",H=N("%"+k+"%",W),G=H.name,q=H.value,z=!1,ee=H.alias;ee&&(k=ee[0],x(L,C([0,1],ee)));for(var $=1,J=!0;$<L.length;$+=1){var j=L[$],Z=y(j,0,1),ne=y(j,-1);if((Z==='"'||Z==="'"||Z==="`"||ne==='"'||ne==="'"||ne==="`")&&Z!==ne)throw new a("property names with quotes must have matching quotes");if((j==="constructor"||!J)&&(z=!0),k+="."+j,G="%"+k+"%",P(A,G))q=A[G];else if(q!=null){if(!(j in q)){if(!W)throw new c("base intrinsic for "+V+" exists, but the property is not available.");return}if(l&&$+1>=L.length){var ie=l(q,j);J=!!ie,J&&"get"in ie&&!("originalValue"in ie.get)?q=ie.get:q=q[j]}else J=P(q,j),q=q[j];J&&!z&&(A[G]=q)}}return q}},66131:(K,f,e)=>{var t,a;/*!
* getSize v2.0.3
* measure size of elements
* MIT license
*/(function(i,c){t=c,a=typeof t=="function"?t.call(f,e,f,K):t,a!==void 0&&(K.exports=a)})(window,function(){"use strict";function c(o){var s=parseFloat(o),w=o.indexOf("%")==-1&&!isNaN(s);return w&&s}function p(){}var l=typeof console=="undefined"?p:function(o){console.error(o)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],_=v.length;function g(){for(var o={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},s=0;s<_;s++){var w=v[s];o[w]=0}return o}function E(o){var s=getComputedStyle(o);return s||l("Style returned "+s+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),s}var S=!1,O;function A(){if(!S){S=!0;var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style.boxSizing="border-box";var s=document.body||document.documentElement;s.appendChild(o);var w=E(o);O=Math.round(c(w.width))==200,u.isBoxSizeOuter=O,s.removeChild(o)}}function u(o){if(A(),typeof o=="string"&&(o=document.querySelector(o)),!(!o||typeof o!="object"||!o.nodeType)){var s=E(o);if(s.display=="none")return g();var w={};w.width=o.offsetWidth,w.height=o.offsetHeight;for(var P=w.isBorderBox=s.boxSizing=="border-box",C=0;C<_;C++){var x=v[C],D=s[x],y=parseFloat(D);w[x]=isNaN(y)?0:y}var M=w.paddingLeft+w.paddingRight,T=w.paddingTop+w.paddingBottom,R=w.marginLeft+w.marginRight,F=w.marginTop+w.marginBottom,N=w.borderLeftWidth+w.borderRightWidth,U=w.borderTopWidth+w.borderBottomWidth,V=P&&O,W=c(s.width);W!==!1&&(w.width=W+(V?0:M+N));var L=c(s.height);return L!==!1&&(w.height=L+(V?0:T+U)),w.innerWidth=w.width-(M+N),w.innerHeight=w.height-(T+U),w.outerWidth=w.width+R,w.outerHeight=w.height+F,w}}return u})},41405:(K,f,e)=>{"use strict";var t=typeof Symbol!="undefined"&&Symbol,a=e(55419);K.exports=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()}},55419:K=>{"use strict";K.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),a=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(e,t);if(p.value!==i||p.enumerable!==!0)return!1}return!0}},17642:(K,f,e)=>{"use strict";var t=e(58612);K.exports=t.call(Function.call,Object.prototype.hasOwnProperty)},86492:function(K,f,e){K=e.nmd(K);var t;/*! https://mths.be/he v1.2.0 by @mathias | MIT license */(function(a){var i=f,c=K&&K.exports==i&&K,p=typeof e.g=="object"&&e.g;(p.global===p||p.window===p)&&(a=p);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[\x01-\x7F]/g,_=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,g=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,E={"\xAD":"shy","\u200C":"zwnj","\u200D":"zwj","\u200E":"lrm","\u2063":"ic","\u2062":"it","\u2061":"af","\u200F":"rlm","\u200B":"ZeroWidthSpace","\u2060":"NoBreak","\u0311":"DownBreve","\u20DB":"tdot","\u20DC":"DotDot","	":"Tab","\n":"NewLine","\u2008":"puncsp","\u205F":"MediumSpace","\u2009":"thinsp","\u200A":"hairsp","\u2004":"emsp13","\u2002":"ensp","\u2005":"emsp14","\u2003":"emsp","\u2007":"numsp","\xA0":"nbsp","\u205F\u200A":"ThickSpace","\u203E":"oline",_:"lowbar","\u2010":"dash","\u2013":"ndash","\u2014":"mdash","\u2015":"horbar",",":"comma",";":"semi","\u204F":"bsemi",":":"colon","\u2A74":"Colone","!":"excl","\xA1":"iexcl","?":"quest","\xBF":"iquest",".":"period","\u2025":"nldr","\u2026":"mldr","\xB7":"middot","'":"apos","\u2018":"lsquo","\u2019":"rsquo","\u201A":"sbquo","\u2039":"lsaquo","\u203A":"rsaquo",'"':"quot","\u201C":"ldquo","\u201D":"rdquo","\u201E":"bdquo","\xAB":"laquo","\xBB":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","\u2308":"lceil","\u2309":"rceil","\u230A":"lfloor","\u230B":"rfloor","\u2985":"lopar","\u2986":"ropar","\u298B":"lbrke","\u298C":"rbrke","\u298D":"lbrkslu","\u298E":"rbrksld","\u298F":"lbrksld","\u2990":"rbrkslu","\u2991":"langd","\u2992":"rangd","\u2993":"lparlt","\u2994":"rpargt","\u2995":"gtlPar","\u2996":"ltrPar","\u27E6":"lobrk","\u27E7":"robrk","\u27E8":"lang","\u27E9":"rang","\u27EA":"Lang","\u27EB":"Rang","\u27EC":"loang","\u27ED":"roang","\u2772":"lbbrk","\u2773":"rbbrk","\u2016":"Vert","\xA7":"sect","\xB6":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","\u2030":"permil","\u2031":"pertenk","\u2020":"dagger","\u2021":"Dagger","\u2022":"bull","\u2043":"hybull","\u2032":"prime","\u2033":"Prime","\u2034":"tprime","\u2057":"qprime","\u2035":"bprime","\u2041":"caret","`":"grave","\xB4":"acute","\u02DC":"tilde","^":"Hat","\xAF":"macr","\u02D8":"breve","\u02D9":"dot","\xA8":"die","\u02DA":"ring","\u02DD":"dblac","\xB8":"cedil","\u02DB":"ogon","\u02C6":"circ","\u02C7":"caron","\xB0":"deg","\xA9":"copy","\xAE":"reg","\u2117":"copysr","\u2118":"wp","\u211E":"rx","\u2127":"mho","\u2129":"iiota","\u2190":"larr","\u219A":"nlarr","\u2192":"rarr","\u219B":"nrarr","\u2191":"uarr","\u2193":"darr","\u2194":"harr","\u21AE":"nharr","\u2195":"varr","\u2196":"nwarr","\u2197":"nearr","\u2198":"searr","\u2199":"swarr","\u219D":"rarrw","\u219D\u0338":"nrarrw","\u219E":"Larr","\u219F":"Uarr","\u21A0":"Rarr","\u21A1":"Darr","\u21A2":"larrtl","\u21A3":"rarrtl","\u21A4":"mapstoleft","\u21A5":"mapstoup","\u21A6":"map","\u21A7":"mapstodown","\u21A9":"larrhk","\u21AA":"rarrhk","\u21AB":"larrlp","\u21AC":"rarrlp","\u21AD":"harrw","\u21B0":"lsh","\u21B1":"rsh","\u21B2":"ldsh","\u21B3":"rdsh","\u21B5":"crarr","\u21B6":"cularr","\u21B7":"curarr","\u21BA":"olarr","\u21BB":"orarr","\u21BC":"lharu","\u21BD":"lhard","\u21BE":"uharr","\u21BF":"uharl","\u21C0":"rharu","\u21C1":"rhard","\u21C2":"dharr","\u21C3":"dharl","\u21C4":"rlarr","\u21C5":"udarr","\u21C6":"lrarr","\u21C7":"llarr","\u21C8":"uuarr","\u21C9":"rrarr","\u21CA":"ddarr","\u21CB":"lrhar","\u21CC":"rlhar","\u21D0":"lArr","\u21CD":"nlArr","\u21D1":"uArr","\u21D2":"rArr","\u21CF":"nrArr","\u21D3":"dArr","\u21D4":"iff","\u21CE":"nhArr","\u21D5":"vArr","\u21D6":"nwArr","\u21D7":"neArr","\u21D8":"seArr","\u21D9":"swArr","\u21DA":"lAarr","\u21DB":"rAarr","\u21DD":"zigrarr","\u21E4":"larrb","\u21E5":"rarrb","\u21F5":"duarr","\u21FD":"loarr","\u21FE":"roarr","\u21FF":"hoarr","\u2200":"forall","\u2201":"comp","\u2202":"part","\u2202\u0338":"npart","\u2203":"exist","\u2204":"nexist","\u2205":"empty","\u2207":"Del","\u2208":"in","\u2209":"notin","\u220B":"ni","\u220C":"notni","\u03F6":"bepsi","\u220F":"prod","\u2210":"coprod","\u2211":"sum","+":"plus","\xB1":"pm","\xF7":"div","\xD7":"times","<":"lt","\u226E":"nlt","<\u20D2":"nvlt","=":"equals","\u2260":"ne","=\u20E5":"bne","\u2A75":"Equal",">":"gt","\u226F":"ngt",">\u20D2":"nvgt","\xAC":"not","|":"vert","\xA6":"brvbar","\u2212":"minus","\u2213":"mp","\u2214":"plusdo","\u2044":"frasl","\u2216":"setmn","\u2217":"lowast","\u2218":"compfn","\u221A":"Sqrt","\u221D":"prop","\u221E":"infin","\u221F":"angrt","\u2220":"ang","\u2220\u20D2":"nang","\u2221":"angmsd","\u2222":"angsph","\u2223":"mid","\u2224":"nmid","\u2225":"par","\u2226":"npar","\u2227":"and","\u2228":"or","\u2229":"cap","\u2229\uFE00":"caps","\u222A":"cup","\u222A\uFE00":"cups","\u222B":"int","\u222C":"Int","\u222D":"tint","\u2A0C":"qint","\u222E":"oint","\u222F":"Conint","\u2230":"Cconint","\u2231":"cwint","\u2232":"cwconint","\u2233":"awconint","\u2234":"there4","\u2235":"becaus","\u2236":"ratio","\u2237":"Colon","\u2238":"minusd","\u223A":"mDDot","\u223B":"homtht","\u223C":"sim","\u2241":"nsim","\u223C\u20D2":"nvsim","\u223D":"bsim","\u223D\u0331":"race","\u223E":"ac","\u223E\u0333":"acE","\u223F":"acd","\u2240":"wr","\u2242":"esim","\u2242\u0338":"nesim","\u2243":"sime","\u2244":"nsime","\u2245":"cong","\u2247":"ncong","\u2246":"simne","\u2248":"ap","\u2249":"nap","\u224A":"ape","\u224B":"apid","\u224B\u0338":"napid","\u224C":"bcong","\u224D":"CupCap","\u226D":"NotCupCap","\u224D\u20D2":"nvap","\u224E":"bump","\u224E\u0338":"nbump","\u224F":"bumpe","\u224F\u0338":"nbumpe","\u2250":"doteq","\u2250\u0338":"nedot","\u2251":"eDot","\u2252":"efDot","\u2253":"erDot","\u2254":"colone","\u2255":"ecolon","\u2256":"ecir","\u2257":"cire","\u2259":"wedgeq","\u225A":"veeeq","\u225C":"trie","\u225F":"equest","\u2261":"equiv","\u2262":"nequiv","\u2261\u20E5":"bnequiv","\u2264":"le","\u2270":"nle","\u2264\u20D2":"nvle","\u2265":"ge","\u2271":"nge","\u2265\u20D2":"nvge","\u2266":"lE","\u2266\u0338":"nlE","\u2267":"gE","\u2267\u0338":"ngE","\u2268\uFE00":"lvnE","\u2268":"lnE","\u2269":"gnE","\u2269\uFE00":"gvnE","\u226A":"ll","\u226A\u0338":"nLtv","\u226A\u20D2":"nLt","\u226B":"gg","\u226B\u0338":"nGtv","\u226B\u20D2":"nGt","\u226C":"twixt","\u2272":"lsim","\u2274":"nlsim","\u2273":"gsim","\u2275":"ngsim","\u2276":"lg","\u2278":"ntlg","\u2277":"gl","\u2279":"ntgl","\u227A":"pr","\u2280":"npr","\u227B":"sc","\u2281":"nsc","\u227C":"prcue","\u22E0":"nprcue","\u227D":"sccue","\u22E1":"nsccue","\u227E":"prsim","\u227F":"scsim","\u227F\u0338":"NotSucceedsTilde","\u2282":"sub","\u2284":"nsub","\u2282\u20D2":"vnsub","\u2283":"sup","\u2285":"nsup","\u2283\u20D2":"vnsup","\u2286":"sube","\u2288":"nsube","\u2287":"supe","\u2289":"nsupe","\u228A\uFE00":"vsubne","\u228A":"subne","\u228B\uFE00":"vsupne","\u228B":"supne","\u228D":"cupdot","\u228E":"uplus","\u228F":"sqsub","\u228F\u0338":"NotSquareSubset","\u2290":"sqsup","\u2290\u0338":"NotSquareSuperset","\u2291":"sqsube","\u22E2":"nsqsube","\u2292":"sqsupe","\u22E3":"nsqsupe","\u2293":"sqcap","\u2293\uFE00":"sqcaps","\u2294":"sqcup","\u2294\uFE00":"sqcups","\u2295":"oplus","\u2296":"ominus","\u2297":"otimes","\u2298":"osol","\u2299":"odot","\u229A":"ocir","\u229B":"oast","\u229D":"odash","\u229E":"plusb","\u229F":"minusb","\u22A0":"timesb","\u22A1":"sdotb","\u22A2":"vdash","\u22AC":"nvdash","\u22A3":"dashv","\u22A4":"top","\u22A5":"bot","\u22A7":"models","\u22A8":"vDash","\u22AD":"nvDash","\u22A9":"Vdash","\u22AE":"nVdash","\u22AA":"Vvdash","\u22AB":"VDash","\u22AF":"nVDash","\u22B0":"prurel","\u22B2":"vltri","\u22EA":"nltri","\u22B3":"vrtri","\u22EB":"nrtri","\u22B4":"ltrie","\u22EC":"nltrie","\u22B4\u20D2":"nvltrie","\u22B5":"rtrie","\u22ED":"nrtrie","\u22B5\u20D2":"nvrtrie","\u22B6":"origof","\u22B7":"imof","\u22B8":"mumap","\u22B9":"hercon","\u22BA":"intcal","\u22BB":"veebar","\u22BD":"barvee","\u22BE":"angrtvb","\u22BF":"lrtri","\u22C0":"Wedge","\u22C1":"Vee","\u22C2":"xcap","\u22C3":"xcup","\u22C4":"diam","\u22C5":"sdot","\u22C6":"Star","\u22C7":"divonx","\u22C8":"bowtie","\u22C9":"ltimes","\u22CA":"rtimes","\u22CB":"lthree","\u22CC":"rthree","\u22CD":"bsime","\u22CE":"cuvee","\u22CF":"cuwed","\u22D0":"Sub","\u22D1":"Sup","\u22D2":"Cap","\u22D3":"Cup","\u22D4":"fork","\u22D5":"epar","\u22D6":"ltdot","\u22D7":"gtdot","\u22D8":"Ll","\u22D8\u0338":"nLl","\u22D9":"Gg","\u22D9\u0338":"nGg","\u22DA\uFE00":"lesg","\u22DA":"leg","\u22DB":"gel","\u22DB\uFE00":"gesl","\u22DE":"cuepr","\u22DF":"cuesc","\u22E6":"lnsim","\u22E7":"gnsim","\u22E8":"prnsim","\u22E9":"scnsim","\u22EE":"vellip","\u22EF":"ctdot","\u22F0":"utdot","\u22F1":"dtdot","\u22F2":"disin","\u22F3":"isinsv","\u22F4":"isins","\u22F5":"isindot","\u22F5\u0338":"notindot","\u22F6":"notinvc","\u22F7":"notinvb","\u22F9":"isinE","\u22F9\u0338":"notinE","\u22FA":"nisd","\u22FB":"xnis","\u22FC":"nis","\u22FD":"notnivc","\u22FE":"notnivb","\u2305":"barwed","\u2306":"Barwed","\u230C":"drcrop","\u230D":"dlcrop","\u230E":"urcrop","\u230F":"ulcrop","\u2310":"bnot","\u2312":"profline","\u2313":"profsurf","\u2315":"telrec","\u2316":"target","\u231C":"ulcorn","\u231D":"urcorn","\u231E":"dlcorn","\u231F":"drcorn","\u2322":"frown","\u2323":"smile","\u232D":"cylcty","\u232E":"profalar","\u2336":"topbot","\u233D":"ovbar","\u233F":"solbar","\u237C":"angzarr","\u23B0":"lmoust","\u23B1":"rmoust","\u23B4":"tbrk","\u23B5":"bbrk","\u23B6":"bbrktbrk","\u23DC":"OverParenthesis","\u23DD":"UnderParenthesis","\u23DE":"OverBrace","\u23DF":"UnderBrace","\u23E2":"trpezium","\u23E7":"elinters","\u2423":"blank","\u2500":"boxh","\u2502":"boxv","\u250C":"boxdr","\u2510":"boxdl","\u2514":"boxur","\u2518":"boxul","\u251C":"boxvr","\u2524":"boxvl","\u252C":"boxhd","\u2534":"boxhu","\u253C":"boxvh","\u2550":"boxH","\u2551":"boxV","\u2552":"boxdR","\u2553":"boxDr","\u2554":"boxDR","\u2555":"boxdL","\u2556":"boxDl","\u2557":"boxDL","\u2558":"boxuR","\u2559":"boxUr","\u255A":"boxUR","\u255B":"boxuL","\u255C":"boxUl","\u255D":"boxUL","\u255E":"boxvR","\u255F":"boxVr","\u2560":"boxVR","\u2561":"boxvL","\u2562":"boxVl","\u2563":"boxVL","\u2564":"boxHd","\u2565":"boxhD","\u2566":"boxHD","\u2567":"boxHu","\u2568":"boxhU","\u2569":"boxHU","\u256A":"boxvH","\u256B":"boxVh","\u256C":"boxVH","\u2580":"uhblk","\u2584":"lhblk","\u2588":"block","\u2591":"blk14","\u2592":"blk12","\u2593":"blk34","\u25A1":"squ","\u25AA":"squf","\u25AB":"EmptyVerySmallSquare","\u25AD":"rect","\u25AE":"marker","\u25B1":"fltns","\u25B3":"xutri","\u25B4":"utrif","\u25B5":"utri","\u25B8":"rtrif","\u25B9":"rtri","\u25BD":"xdtri","\u25BE":"dtrif","\u25BF":"dtri","\u25C2":"ltrif","\u25C3":"ltri","\u25CA":"loz","\u25CB":"cir","\u25EC":"tridot","\u25EF":"xcirc","\u25F8":"ultri","\u25F9":"urtri","\u25FA":"lltri","\u25FB":"EmptySmallSquare","\u25FC":"FilledSmallSquare","\u2605":"starf","\u2606":"star","\u260E":"phone","\u2640":"female","\u2642":"male","\u2660":"spades","\u2663":"clubs","\u2665":"hearts","\u2666":"diams","\u266A":"sung","\u2713":"check","\u2717":"cross","\u2720":"malt","\u2736":"sext","\u2758":"VerticalSeparator","\u27C8":"bsolhsub","\u27C9":"suphsol","\u27F5":"xlarr","\u27F6":"xrarr","\u27F7":"xharr","\u27F8":"xlArr","\u27F9":"xrArr","\u27FA":"xhArr","\u27FC":"xmap","\u27FF":"dzigrarr","\u2902":"nvlArr","\u2903":"nvrArr","\u2904":"nvHarr","\u2905":"Map","\u290C":"lbarr","\u290D":"rbarr","\u290E":"lBarr","\u290F":"rBarr","\u2910":"RBarr","\u2911":"DDotrahd","\u2912":"UpArrowBar","\u2913":"DownArrowBar","\u2916":"Rarrtl","\u2919":"latail","\u291A":"ratail","\u291B":"lAtail","\u291C":"rAtail","\u291D":"larrfs","\u291E":"rarrfs","\u291F":"larrbfs","\u2920":"rarrbfs","\u2923":"nwarhk","\u2924":"nearhk","\u2925":"searhk","\u2926":"swarhk","\u2927":"nwnear","\u2928":"toea","\u2929":"tosa","\u292A":"swnwar","\u2933":"rarrc","\u2933\u0338":"nrarrc","\u2935":"cudarrr","\u2936":"ldca","\u2937":"rdca","\u2938":"cudarrl","\u2939":"larrpl","\u293C":"curarrm","\u293D":"cularrp","\u2945":"rarrpl","\u2948":"harrcir","\u2949":"Uarrocir","\u294A":"lurdshar","\u294B":"ldrushar","\u294E":"LeftRightVector","\u294F":"RightUpDownVector","\u2950":"DownLeftRightVector","\u2951":"LeftUpDownVector","\u2952":"LeftVectorBar","\u2953":"RightVectorBar","\u2954":"RightUpVectorBar","\u2955":"RightDownVectorBar","\u2956":"DownLeftVectorBar","\u2957":"DownRightVectorBar","\u2958":"LeftUpVectorBar","\u2959":"LeftDownVectorBar","\u295A":"LeftTeeVector","\u295B":"RightTeeVector","\u295C":"RightUpTeeVector","\u295D":"RightDownTeeVector","\u295E":"DownLeftTeeVector","\u295F":"DownRightTeeVector","\u2960":"LeftUpTeeVector","\u2961":"LeftDownTeeVector","\u2962":"lHar","\u2963":"uHar","\u2964":"rHar","\u2965":"dHar","\u2966":"luruhar","\u2967":"ldrdhar","\u2968":"ruluhar","\u2969":"rdldhar","\u296A":"lharul","\u296B":"llhard","\u296C":"rharul","\u296D":"lrhard","\u296E":"udhar","\u296F":"duhar","\u2970":"RoundImplies","\u2971":"erarr","\u2972":"simrarr","\u2973":"larrsim","\u2974":"rarrsim","\u2975":"rarrap","\u2976":"ltlarr","\u2978":"gtrarr","\u2979":"subrarr","\u297B":"suplarr","\u297C":"lfisht","\u297D":"rfisht","\u297E":"ufisht","\u297F":"dfisht","\u299A":"vzigzag","\u299C":"vangrt","\u299D":"angrtvbd","\u29A4":"ange","\u29A5":"range","\u29A6":"dwangle","\u29A7":"uwangle","\u29A8":"angmsdaa","\u29A9":"angmsdab","\u29AA":"angmsdac","\u29AB":"angmsdad","\u29AC":"angmsdae","\u29AD":"angmsdaf","\u29AE":"angmsdag","\u29AF":"angmsdah","\u29B0":"bemptyv","\u29B1":"demptyv","\u29B2":"cemptyv","\u29B3":"raemptyv","\u29B4":"laemptyv","\u29B5":"ohbar","\u29B6":"omid","\u29B7":"opar","\u29B9":"operp","\u29BB":"olcross","\u29BC":"odsold","\u29BE":"olcir","\u29BF":"ofcir","\u29C0":"olt","\u29C1":"ogt","\u29C2":"cirscir","\u29C3":"cirE","\u29C4":"solb","\u29C5":"bsolb","\u29C9":"boxbox","\u29CD":"trisb","\u29CE":"rtriltri","\u29CF":"LeftTriangleBar","\u29CF\u0338":"NotLeftTriangleBar","\u29D0":"RightTriangleBar","\u29D0\u0338":"NotRightTriangleBar","\u29DC":"iinfin","\u29DD":"infintie","\u29DE":"nvinfin","\u29E3":"eparsl","\u29E4":"smeparsl","\u29E5":"eqvparsl","\u29EB":"lozf","\u29F4":"RuleDelayed","\u29F6":"dsol","\u2A00":"xodot","\u2A01":"xoplus","\u2A02":"xotime","\u2A04":"xuplus","\u2A06":"xsqcup","\u2A0D":"fpartint","\u2A10":"cirfnint","\u2A11":"awint","\u2A12":"rppolint","\u2A13":"scpolint","\u2A14":"npolint","\u2A15":"pointint","\u2A16":"quatint","\u2A17":"intlarhk","\u2A22":"pluscir","\u2A23":"plusacir","\u2A24":"simplus","\u2A25":"plusdu","\u2A26":"plussim","\u2A27":"plustwo","\u2A29":"mcomma","\u2A2A":"minusdu","\u2A2D":"loplus","\u2A2E":"roplus","\u2A2F":"Cross","\u2A30":"timesd","\u2A31":"timesbar","\u2A33":"smashp","\u2A34":"lotimes","\u2A35":"rotimes","\u2A36":"otimesas","\u2A37":"Otimes","\u2A38":"odiv","\u2A39":"triplus","\u2A3A":"triminus","\u2A3B":"tritime","\u2A3C":"iprod","\u2A3F":"amalg","\u2A40":"capdot","\u2A42":"ncup","\u2A43":"ncap","\u2A44":"capand","\u2A45":"cupor","\u2A46":"cupcap","\u2A47":"capcup","\u2A48":"cupbrcap","\u2A49":"capbrcup","\u2A4A":"cupcup","\u2A4B":"capcap","\u2A4C":"ccups","\u2A4D":"ccaps","\u2A50":"ccupssm","\u2A53":"And","\u2A54":"Or","\u2A55":"andand","\u2A56":"oror","\u2A57":"orslope","\u2A58":"andslope","\u2A5A":"andv","\u2A5B":"orv","\u2A5C":"andd","\u2A5D":"ord","\u2A5F":"wedbar","\u2A66":"sdote","\u2A6A":"simdot","\u2A6D":"congdot","\u2A6D\u0338":"ncongdot","\u2A6E":"easter","\u2A6F":"apacir","\u2A70":"apE","\u2A70\u0338":"napE","\u2A71":"eplus","\u2A72":"pluse","\u2A73":"Esim","\u2A77":"eDDot","\u2A78":"equivDD","\u2A79":"ltcir","\u2A7A":"gtcir","\u2A7B":"ltquest","\u2A7C":"gtquest","\u2A7D":"les","\u2A7D\u0338":"nles","\u2A7E":"ges","\u2A7E\u0338":"nges","\u2A7F":"lesdot","\u2A80":"gesdot","\u2A81":"lesdoto","\u2A82":"gesdoto","\u2A83":"lesdotor","\u2A84":"gesdotol","\u2A85":"lap","\u2A86":"gap","\u2A87":"lne","\u2A88":"gne","\u2A89":"lnap","\u2A8A":"gnap","\u2A8B":"lEg","\u2A8C":"gEl","\u2A8D":"lsime","\u2A8E":"gsime","\u2A8F":"lsimg","\u2A90":"gsiml","\u2A91":"lgE","\u2A92":"glE","\u2A93":"lesges","\u2A94":"gesles","\u2A95":"els","\u2A96":"egs","\u2A97":"elsdot","\u2A98":"egsdot","\u2A99":"el","\u2A9A":"eg","\u2A9D":"siml","\u2A9E":"simg","\u2A9F":"simlE","\u2AA0":"simgE","\u2AA1":"LessLess","\u2AA1\u0338":"NotNestedLessLess","\u2AA2":"GreaterGreater","\u2AA2\u0338":"NotNestedGreaterGreater","\u2AA4":"glj","\u2AA5":"gla","\u2AA6":"ltcc","\u2AA7":"gtcc","\u2AA8":"lescc","\u2AA9":"gescc","\u2AAA":"smt","\u2AAB":"lat","\u2AAC":"smte","\u2AAC\uFE00":"smtes","\u2AAD":"late","\u2AAD\uFE00":"lates","\u2AAE":"bumpE","\u2AAF":"pre","\u2AAF\u0338":"npre","\u2AB0":"sce","\u2AB0\u0338":"nsce","\u2AB3":"prE","\u2AB4":"scE","\u2AB5":"prnE","\u2AB6":"scnE","\u2AB7":"prap","\u2AB8":"scap","\u2AB9":"prnap","\u2ABA":"scnap","\u2ABB":"Pr","\u2ABC":"Sc","\u2ABD":"subdot","\u2ABE":"supdot","\u2ABF":"subplus","\u2AC0":"supplus","\u2AC1":"submult","\u2AC2":"supmult","\u2AC3":"subedot","\u2AC4":"supedot","\u2AC5":"subE","\u2AC5\u0338":"nsubE","\u2AC6":"supE","\u2AC6\u0338":"nsupE","\u2AC7":"subsim","\u2AC8":"supsim","\u2ACB\uFE00":"vsubnE","\u2ACB":"subnE","\u2ACC\uFE00":"vsupnE","\u2ACC":"supnE","\u2ACF":"csub","\u2AD0":"csup","\u2AD1":"csube","\u2AD2":"csupe","\u2AD3":"subsup","\u2AD4":"supsub","\u2AD5":"subsub","\u2AD6":"supsup","\u2AD7":"suphsub","\u2AD8":"supdsub","\u2AD9":"forkv","\u2ADA":"topfork","\u2ADB":"mlcp","\u2AE4":"Dashv","\u2AE6":"Vdashl","\u2AE7":"Barv","\u2AE8":"vBar","\u2AE9":"vBarv","\u2AEB":"Vbar","\u2AEC":"Not","\u2AED":"bNot","\u2AEE":"rnmid","\u2AEF":"cirmid","\u2AF0":"midcir","\u2AF1":"topcir","\u2AF2":"nhpar","\u2AF3":"parsim","\u2AFD":"parsl","\u2AFD\u20E5":"nparsl","\u266D":"flat","\u266E":"natur","\u266F":"sharp","\xA4":"curren","\xA2":"cent",$:"dollar","\xA3":"pound","\xA5":"yen","\u20AC":"euro","\xB9":"sup1","\xBD":"half","\u2153":"frac13","\xBC":"frac14","\u2155":"frac15","\u2159":"frac16","\u215B":"frac18","\xB2":"sup2","\u2154":"frac23","\u2156":"frac25","\xB3":"sup3","\xBE":"frac34","\u2157":"frac35","\u215C":"frac38","\u2158":"frac45","\u215A":"frac56","\u215D":"frac58","\u215E":"frac78","\u{1D4B6}":"ascr","\u{1D552}":"aopf","\u{1D51E}":"afr","\u{1D538}":"Aopf","\u{1D504}":"Afr","\u{1D49C}":"Ascr",\u00AA:"ordf",\u00E1:"aacute",\u00C1:"Aacute",\u00E0:"agrave",\u00C0:"Agrave",\u0103:"abreve",\u0102:"Abreve",\u00E2:"acirc",\u00C2:"Acirc",\u00E5:"aring",\u00C5:"angst",\u00E4:"auml",\u00C4:"Auml",\u00E3:"atilde",\u00C3:"Atilde",\u0105:"aogon",\u0104:"Aogon",\u0101:"amacr",\u0100:"Amacr",\u00E6:"aelig",\u00C6:"AElig","\u{1D4B7}":"bscr","\u{1D553}":"bopf","\u{1D51F}":"bfr","\u{1D539}":"Bopf",\u212C:"Bscr","\u{1D505}":"Bfr","\u{1D520}":"cfr","\u{1D4B8}":"cscr","\u{1D554}":"copf",\u212D:"Cfr","\u{1D49E}":"Cscr",\u2102:"Copf",\u0107:"cacute",\u0106:"Cacute",\u0109:"ccirc",\u0108:"Ccirc",\u010D:"ccaron",\u010C:"Ccaron",\u010B:"cdot",\u010A:"Cdot",\u00E7:"ccedil",\u00C7:"Ccedil","\u2105":"incare","\u{1D521}":"dfr","\u2146":"dd","\u{1D555}":"dopf","\u{1D4B9}":"dscr","\u{1D49F}":"Dscr","\u{1D507}":"Dfr","\u2145":"DD","\u{1D53B}":"Dopf",\u010F:"dcaron",\u010E:"Dcaron",\u0111:"dstrok",\u0110:"Dstrok",\u00F0:"eth",\u00D0:"ETH","\u2147":"ee",\u212F:"escr","\u{1D522}":"efr","\u{1D556}":"eopf",\u2130:"Escr","\u{1D508}":"Efr","\u{1D53C}":"Eopf",\u00E9:"eacute",\u00C9:"Eacute",\u00E8:"egrave",\u00C8:"Egrave",\u00EA:"ecirc",\u00CA:"Ecirc",\u011B:"ecaron",\u011A:"Ecaron",\u00EB:"euml",\u00CB:"Euml",\u0117:"edot",\u0116:"Edot",\u0119:"eogon",\u0118:"Eogon",\u0113:"emacr",\u0112:"Emacr","\u{1D523}":"ffr","\u{1D557}":"fopf","\u{1D4BB}":"fscr","\u{1D509}":"Ffr","\u{1D53D}":"Fopf",\u2131:"Fscr",\uFB00:"fflig",\uFB03:"ffilig",\uFB04:"ffllig",\uFB01:"filig",fj:"fjlig",\uFB02:"fllig",\u0192:"fnof",\u210A:"gscr","\u{1D558}":"gopf","\u{1D524}":"gfr","\u{1D4A2}":"Gscr","\u{1D53E}":"Gopf","\u{1D50A}":"Gfr",\u01F5:"gacute",\u011F:"gbreve",\u011E:"Gbreve",\u011D:"gcirc",\u011C:"Gcirc",\u0121:"gdot",\u0120:"Gdot",\u0122:"Gcedil","\u{1D525}":"hfr",\u210E:"planckh","\u{1D4BD}":"hscr","\u{1D559}":"hopf",\u210B:"Hscr",\u210C:"Hfr",\u210D:"Hopf",\u0125:"hcirc",\u0124:"Hcirc",\u210F:"hbar",\u0127:"hstrok",\u0126:"Hstrok","\u{1D55A}":"iopf","\u{1D526}":"ifr","\u{1D4BE}":"iscr","\u2148":"ii","\u{1D540}":"Iopf",\u2110:"Iscr",\u2111:"Im",\u00ED:"iacute",\u00CD:"Iacute",\u00EC:"igrave",\u00CC:"Igrave",\u00EE:"icirc",\u00CE:"Icirc",\u00EF:"iuml",\u00CF:"Iuml",\u0129:"itilde",\u0128:"Itilde",\u0130:"Idot",\u012F:"iogon",\u012E:"Iogon",\u012B:"imacr",\u012A:"Imacr",\u0133:"ijlig",\u0132:"IJlig",\u0131:"imath","\u{1D4BF}":"jscr","\u{1D55B}":"jopf","\u{1D527}":"jfr","\u{1D4A5}":"Jscr","\u{1D50D}":"Jfr","\u{1D541}":"Jopf",\u0135:"jcirc",\u0134:"Jcirc","\u0237":"jmath","\u{1D55C}":"kopf","\u{1D4C0}":"kscr","\u{1D528}":"kfr","\u{1D4A6}":"Kscr","\u{1D542}":"Kopf","\u{1D50E}":"Kfr",\u0137:"kcedil",\u0136:"Kcedil","\u{1D529}":"lfr","\u{1D4C1}":"lscr",\u2113:"ell","\u{1D55D}":"lopf",\u2112:"Lscr","\u{1D50F}":"Lfr","\u{1D543}":"Lopf",\u013A:"lacute",\u0139:"Lacute",\u013E:"lcaron",\u013D:"Lcaron",\u013C:"lcedil",\u013B:"Lcedil",\u0142:"lstrok",\u0141:"Lstrok",\u0140:"lmidot",\u013F:"Lmidot","\u{1D52A}":"mfr","\u{1D55E}":"mopf","\u{1D4C2}":"mscr","\u{1D510}":"Mfr","\u{1D544}":"Mopf",\u2133:"Mscr","\u{1D52B}":"nfr","\u{1D55F}":"nopf","\u{1D4C3}":"nscr",\u2115:"Nopf","\u{1D4A9}":"Nscr","\u{1D511}":"Nfr",\u0144:"nacute",\u0143:"Nacute",\u0148:"ncaron",\u0147:"Ncaron",\u00F1:"ntilde",\u00D1:"Ntilde",\u0146:"ncedil",\u0145:"Ncedil","\u2116":"numero",\u014B:"eng",\u014A:"ENG","\u{1D560}":"oopf","\u{1D52C}":"ofr",\u2134:"oscr","\u{1D4AA}":"Oscr","\u{1D512}":"Ofr","\u{1D546}":"Oopf",\u00BA:"ordm",\u00F3:"oacute",\u00D3:"Oacute",\u00F2:"ograve",\u00D2:"Ograve",\u00F4:"ocirc",\u00D4:"Ocirc",\u00F6:"ouml",\u00D6:"Ouml",\u0151:"odblac",\u0150:"Odblac",\u00F5:"otilde",\u00D5:"Otilde",\u00F8:"oslash",\u00D8:"Oslash",\u014D:"omacr",\u014C:"Omacr",\u0153:"oelig",\u0152:"OElig","\u{1D52D}":"pfr","\u{1D4C5}":"pscr","\u{1D561}":"popf",\u2119:"Popf","\u{1D513}":"Pfr","\u{1D4AB}":"Pscr","\u{1D562}":"qopf","\u{1D52E}":"qfr","\u{1D4C6}":"qscr","\u{1D4AC}":"Qscr","\u{1D514}":"Qfr",\u211A:"Qopf",\u0138:"kgreen","\u{1D52F}":"rfr","\u{1D563}":"ropf","\u{1D4C7}":"rscr",\u211B:"Rscr",\u211C:"Re",\u211D:"Ropf",\u0155:"racute",\u0154:"Racute",\u0159:"rcaron",\u0158:"Rcaron",\u0157:"rcedil",\u0156:"Rcedil","\u{1D564}":"sopf","\u{1D4C8}":"sscr","\u{1D530}":"sfr","\u{1D54A}":"Sopf","\u{1D516}":"Sfr","\u{1D4AE}":"Sscr","\u24C8":"oS",\u015B:"sacute",\u015A:"Sacute",\u015D:"scirc",\u015C:"Scirc",\u0161:"scaron",\u0160:"Scaron",\u015F:"scedil",\u015E:"Scedil",\u00DF:"szlig","\u{1D531}":"tfr","\u{1D4C9}":"tscr","\u{1D565}":"topf","\u{1D4AF}":"Tscr","\u{1D517}":"Tfr","\u{1D54B}":"Topf",\u0165:"tcaron",\u0164:"Tcaron",\u0163:"tcedil",\u0162:"Tcedil","\u2122":"trade",\u0167:"tstrok",\u0166:"Tstrok","\u{1D4CA}":"uscr","\u{1D566}":"uopf","\u{1D532}":"ufr","\u{1D54C}":"Uopf","\u{1D518}":"Ufr","\u{1D4B0}":"Uscr",\u00FA:"uacute",\u00DA:"Uacute",\u00F9:"ugrave",\u00D9:"Ugrave",\u016D:"ubreve",\u016C:"Ubreve",\u00FB:"ucirc",\u00DB:"Ucirc",\u016F:"uring",\u016E:"Uring",\u00FC:"uuml",\u00DC:"Uuml",\u0171:"udblac",\u0170:"Udblac",\u0169:"utilde",\u0168:"Utilde",\u0173:"uogon",\u0172:"Uogon",\u016B:"umacr",\u016A:"Umacr","\u{1D533}":"vfr","\u{1D567}":"vopf","\u{1D4CB}":"vscr","\u{1D519}":"Vfr","\u{1D54D}":"Vopf","\u{1D4B1}":"Vscr","\u{1D568}":"wopf","\u{1D4CC}":"wscr","\u{1D534}":"wfr","\u{1D4B2}":"Wscr","\u{1D54E}":"Wopf","\u{1D51A}":"Wfr",\u0175:"wcirc",\u0174:"Wcirc","\u{1D535}":"xfr","\u{1D4CD}":"xscr","\u{1D569}":"xopf","\u{1D54F}":"Xopf","\u{1D51B}":"Xfr","\u{1D4B3}":"Xscr","\u{1D536}":"yfr","\u{1D4CE}":"yscr","\u{1D56A}":"yopf","\u{1D4B4}":"Yscr","\u{1D51C}":"Yfr","\u{1D550}":"Yopf",\u00FD:"yacute",\u00DD:"Yacute",\u0177:"ycirc",\u0176:"Ycirc",\u00FF:"yuml",\u0178:"Yuml","\u{1D4CF}":"zscr","\u{1D537}":"zfr","\u{1D56B}":"zopf",\u2128:"Zfr",\u2124:"Zopf","\u{1D4B5}":"Zscr",\u017A:"zacute",\u0179:"Zacute",\u017E:"zcaron",\u017D:"Zcaron",\u017C:"zdot",\u017B:"Zdot",\u01B5:"imped",\u00FE:"thorn",\u00DE:"THORN",\u0149:"napos",\u03B1:"alpha",\u0391:"Alpha",\u03B2:"beta",\u0392:"Beta",\u03B3:"gamma",\u0393:"Gamma",\u03B4:"delta",\u0394:"Delta",\u03B5:"epsi","\u03F5":"epsiv",\u0395:"Epsilon",\u03DD:"gammad",\u03DC:"Gammad",\u03B6:"zeta",\u0396:"Zeta",\u03B7:"eta",\u0397:"Eta",\u03B8:"theta",\u03D1:"thetav",\u0398:"Theta",\u03B9:"iota",\u0399:"Iota",\u03BA:"kappa",\u03F0:"kappav",\u039A:"Kappa",\u03BB:"lambda",\u039B:"Lambda",\u03BC:"mu",\u00B5:"micro",\u039C:"Mu",\u03BD:"nu",\u039D:"Nu",\u03BE:"xi",\u039E:"Xi",\u03BF:"omicron",\u039F:"Omicron",\u03C0:"pi",\u03D6:"piv",\u03A0:"Pi",\u03C1:"rho",\u03F1:"rhov",\u03A1:"Rho",\u03C3:"sigma",\u03A3:"Sigma",\u03C2:"sigmaf",\u03C4:"tau",\u03A4:"Tau",\u03C5:"upsi",\u03A5:"Upsilon",\u03D2:"Upsi",\u03C6:"phi",\u03D5:"phiv",\u03A6:"Phi",\u03C7:"chi",\u03A7:"Chi",\u03C8:"psi",\u03A8:"Psi",\u03C9:"omega",\u03A9:"ohm",\u0430:"acy",\u0410:"Acy",\u0431:"bcy",\u0411:"Bcy",\u0432:"vcy",\u0412:"Vcy",\u0433:"gcy",\u0413:"Gcy",\u0453:"gjcy",\u0403:"GJcy",\u0434:"dcy",\u0414:"Dcy",\u0452:"djcy",\u0402:"DJcy",\u0435:"iecy",\u0415:"IEcy",\u0451:"iocy",\u0401:"IOcy",\u0454:"jukcy",\u0404:"Jukcy",\u0436:"zhcy",\u0416:"ZHcy",\u0437:"zcy",\u0417:"Zcy",\u0455:"dscy",\u0405:"DScy",\u0438:"icy",\u0418:"Icy",\u0456:"iukcy",\u0406:"Iukcy",\u0457:"yicy",\u0407:"YIcy",\u0439:"jcy",\u0419:"Jcy",\u0458:"jsercy",\u0408:"Jsercy",\u043A:"kcy",\u041A:"Kcy",\u045C:"kjcy",\u040C:"KJcy",\u043B:"lcy",\u041B:"Lcy",\u0459:"ljcy",\u0409:"LJcy",\u043C:"mcy",\u041C:"Mcy",\u043D:"ncy",\u041D:"Ncy",\u045A:"njcy",\u040A:"NJcy",\u043E:"ocy",\u041E:"Ocy",\u043F:"pcy",\u041F:"Pcy",\u0440:"rcy",\u0420:"Rcy",\u0441:"scy",\u0421:"Scy",\u0442:"tcy",\u0422:"Tcy",\u045B:"tshcy",\u040B:"TSHcy",\u0443:"ucy",\u0423:"Ucy",\u045E:"ubrcy",\u040E:"Ubrcy",\u0444:"fcy",\u0424:"Fcy",\u0445:"khcy",\u0425:"KHcy",\u0446:"tscy",\u0426:"TScy",\u0447:"chcy",\u0427:"CHcy",\u045F:"dzcy",\u040F:"DZcy",\u0448:"shcy",\u0428:"SHcy",\u0449:"shchcy",\u0429:"SHCHcy",\u044A:"hardcy",\u042A:"HARDcy",\u044B:"ycy",\u042B:"Ycy",\u044C:"softcy",\u042C:"SOFTcy",\u044D:"ecy",\u042D:"Ecy",\u044E:"yucy",\u042E:"YUcy",\u044F:"yacy",\u042F:"YAcy",\u2135:"aleph",\u2136:"beth",\u2137:"gimel",\u2138:"daleth"},S=/["&'<>`]/g,O={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},A=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,u=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,o=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,s={aacute:"\xE1",Aacute:"\xC1",abreve:"\u0103",Abreve:"\u0102",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",acirc:"\xE2",Acirc:"\xC2",acute:"\xB4",acy:"\u0430",Acy:"\u0410",aelig:"\xE6",AElig:"\xC6",af:"\u2061",afr:"\u{1D51E}",Afr:"\u{1D504}",agrave:"\xE0",Agrave:"\xC0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",Alpha:"\u0391",amacr:"\u0101",Amacr:"\u0100",amalg:"\u2A3F",amp:"&",AMP:"&",and:"\u2227",And:"\u2A53",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",aogon:"\u0105",Aogon:"\u0104",aopf:"\u{1D552}",Aopf:"\u{1D538}",ap:"\u2248",apacir:"\u2A6F",ape:"\u224A",apE:"\u2A70",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",aring:"\xE5",Aring:"\xC5",ascr:"\u{1D4B6}",Ascr:"\u{1D49C}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",atilde:"\xE3",Atilde:"\xC3",auml:"\xE4",Auml:"\xC4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",bcy:"\u0431",Bcy:"\u0411",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",beta:"\u03B2",Beta:"\u0392",beth:"\u2136",between:"\u226C",bfr:"\u{1D51F}",Bfr:"\u{1D505}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bNot:"\u2AED",bopf:"\u{1D553}",Bopf:"\u{1D539}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxhD:"\u2565",boxHd:"\u2564",boxHD:"\u2566",boxhu:"\u2534",boxhU:"\u2568",boxHu:"\u2567",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpe:"\u224F",bumpE:"\u2AAE",bumpeq:"\u224F",Bumpeq:"\u224E",cacute:"\u0107",Cacute:"\u0106",cap:"\u2229",Cap:"\u22D2",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",ccaron:"\u010D",Ccaron:"\u010C",ccedil:"\xE7",Ccedil:"\xC7",ccirc:"\u0109",Ccirc:"\u0108",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",Cdot:"\u010A",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",chcy:"\u0447",CHcy:"\u0427",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",Chi:"\u03A7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cire:"\u2257",cirE:"\u29C3",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",colone:"\u2254",Colone:"\u2A74",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",cscr:"\u{1D4B8}",Cscr:"\u{1D49E}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cup:"\u222A",Cup:"\u22D3",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",dArr:"\u21D3",Darr:"\u21A1",dash:"\u2010",dashv:"\u22A3",Dashv:"\u2AE4",dbkarow:"\u290F",dblac:"\u02DD",dcaron:"\u010F",Dcaron:"\u010E",dcy:"\u0434",Dcy:"\u0414",dd:"\u2146",DD:"\u2145",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",delta:"\u03B4",Delta:"\u0394",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",Dfr:"\u{1D507}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",DJcy:"\u0402",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",Dopf:"\u{1D53B}",dot:"\u02D9",Dot:"\xA8",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",downarrow:"\u2193",Downarrow:"\u21D3",DownArrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",Dscr:"\u{1D49F}",dscy:"\u0455",DScy:"\u0405",dsol:"\u29F6",dstrok:"\u0111",Dstrok:"\u0110",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",dzcy:"\u045F",DZcy:"\u040F",dzigrarr:"\u27FF",eacute:"\xE9",Eacute:"\xC9",easter:"\u2A6E",ecaron:"\u011B",Ecaron:"\u011A",ecir:"\u2256",ecirc:"\xEA",Ecirc:"\xCA",ecolon:"\u2255",ecy:"\u044D",Ecy:"\u042D",eDDot:"\u2A77",edot:"\u0117",eDot:"\u2251",Edot:"\u0116",ee:"\u2147",efDot:"\u2252",efr:"\u{1D522}",Efr:"\u{1D508}",eg:"\u2A9A",egrave:"\xE8",Egrave:"\xC8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",Emacr:"\u0112",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",eng:"\u014B",ENG:"\u014A",ensp:"\u2002",eogon:"\u0119",Eogon:"\u0118",eopf:"\u{1D556}",Eopf:"\u{1D53C}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",Epsilon:"\u0395",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",esim:"\u2242",Esim:"\u2A73",eta:"\u03B7",Eta:"\u0397",eth:"\xF0",ETH:"\xD0",euml:"\xEB",Euml:"\xCB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",fcy:"\u0444",Fcy:"\u0424",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",Ffr:"\u{1D509}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",Fopf:"\u{1D53D}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",gamma:"\u03B3",Gamma:"\u0393",gammad:"\u03DD",Gammad:"\u03DC",gap:"\u2A86",gbreve:"\u011F",Gbreve:"\u011E",Gcedil:"\u0122",gcirc:"\u011D",Gcirc:"\u011C",gcy:"\u0433",Gcy:"\u0413",gdot:"\u0121",Gdot:"\u0120",ge:"\u2265",gE:"\u2267",gel:"\u22DB",gEl:"\u2A8C",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",Gfr:"\u{1D50A}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",gjcy:"\u0453",GJcy:"\u0403",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",gopf:"\u{1D558}",Gopf:"\u{1D53E}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",gscr:"\u210A",Gscr:"\u{1D4A2}",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gt:">",Gt:"\u226B",GT:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",hardcy:"\u044A",HARDcy:"\u042A",harr:"\u2194",hArr:"\u21D4",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",hcirc:"\u0125",Hcirc:"\u0124",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",hstrok:"\u0127",Hstrok:"\u0126",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",iacute:"\xED",Iacute:"\xCD",ic:"\u2063",icirc:"\xEE",Icirc:"\xCE",icy:"\u0438",Icy:"\u0418",Idot:"\u0130",iecy:"\u0435",IEcy:"\u0415",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",igrave:"\xEC",Igrave:"\xCC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",IJlig:"\u0132",Im:"\u2111",imacr:"\u012B",Imacr:"\u012A",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",int:"\u222B",Int:"\u222C",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",iocy:"\u0451",IOcy:"\u0401",iogon:"\u012F",Iogon:"\u012E",iopf:"\u{1D55A}",Iopf:"\u{1D540}",iota:"\u03B9",Iota:"\u0399",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",itilde:"\u0129",Itilde:"\u0128",iukcy:"\u0456",Iukcy:"\u0406",iuml:"\xEF",Iuml:"\xCF",jcirc:"\u0135",Jcirc:"\u0134",jcy:"\u0439",Jcy:"\u0419",jfr:"\u{1D527}",Jfr:"\u{1D50D}",jmath:"\u0237",jopf:"\u{1D55B}",Jopf:"\u{1D541}",jscr:"\u{1D4BF}",Jscr:"\u{1D4A5}",jsercy:"\u0458",Jsercy:"\u0408",jukcy:"\u0454",Jukcy:"\u0404",kappa:"\u03BA",Kappa:"\u039A",kappav:"\u03F0",kcedil:"\u0137",Kcedil:"\u0136",kcy:"\u043A",Kcy:"\u041A",kfr:"\u{1D528}",Kfr:"\u{1D50E}",kgreen:"\u0138",khcy:"\u0445",KHcy:"\u0425",kjcy:"\u045C",KJcy:"\u040C",kopf:"\u{1D55C}",Kopf:"\u{1D542}",kscr:"\u{1D4C0}",Kscr:"\u{1D4A6}",lAarr:"\u21DA",lacute:"\u013A",Lacute:"\u0139",laemptyv:"\u29B4",lagran:"\u2112",lambda:"\u03BB",Lambda:"\u039B",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larr:"\u2190",lArr:"\u21D0",Larr:"\u219E",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",latail:"\u2919",lAtail:"\u291B",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",Lcaron:"\u013D",lcedil:"\u013C",Lcedil:"\u013B",lceil:"\u2308",lcub:"{",lcy:"\u043B",Lcy:"\u041B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",leftarrow:"\u2190",Leftarrow:"\u21D0",LeftArrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",Leftrightarrow:"\u21D4",LeftRightArrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",leg:"\u22DA",lEg:"\u2A8B",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",lfr:"\u{1D529}",Lfr:"\u{1D50F}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",LJcy:"\u0409",ll:"\u226A",Ll:"\u22D8",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",Lmidot:"\u013F",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",Longleftarrow:"\u27F8",LongLeftArrow:"\u27F5",longleftrightarrow:"\u27F7",Longleftrightarrow:"\u27FA",LongLeftRightArrow:"\u27F7",longmapsto:"\u27FC",longrightarrow:"\u27F6",Longrightarrow:"\u27F9",LongRightArrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",Lopf:"\u{1D543}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",lstrok:"\u0142",Lstrok:"\u0141",lt:"<",Lt:"\u226A",LT:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",map:"\u21A6",Map:"\u2905",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",Mcy:"\u041C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",mfr:"\u{1D52A}",Mfr:"\u{1D510}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",mopf:"\u{1D55E}",Mopf:"\u{1D544}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",mu:"\u03BC",Mu:"\u039C",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",nacute:"\u0144",Nacute:"\u0143",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",ncaron:"\u0148",Ncaron:"\u0147",ncedil:"\u0146",Ncedil:"\u0145",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",Ncy:"\u041D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",nfr:"\u{1D52B}",Nfr:"\u{1D511}",nge:"\u2271",ngE:"\u2267\u0338",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",ngt:"\u226F",nGt:"\u226B\u20D2",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",njcy:"\u045A",NJcy:"\u040A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nle:"\u2270",nlE:"\u2266\u0338",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nlt:"\u226E",nLt:"\u226A\u20D2",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",not:"\xAC",Not:"\u2AEC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",nscr:"\u{1D4C3}",Nscr:"\u{1D4A9}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsube:"\u2288",nsubE:"\u2AC5\u0338",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupe:"\u2289",nsupE:"\u2AC6\u0338",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",ntilde:"\xF1",Ntilde:"\xD1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",nu:"\u03BD",Nu:"\u039D",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",oacute:"\xF3",Oacute:"\xD3",oast:"\u229B",ocir:"\u229A",ocirc:"\xF4",Ocirc:"\xD4",ocy:"\u043E",Ocy:"\u041E",odash:"\u229D",odblac:"\u0151",Odblac:"\u0150",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",oelig:"\u0153",OElig:"\u0152",ofcir:"\u29BF",ofr:"\u{1D52C}",Ofr:"\u{1D512}",ogon:"\u02DB",ograve:"\xF2",Ograve:"\xD2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",omacr:"\u014D",Omacr:"\u014C",omega:"\u03C9",Omega:"\u03A9",omicron:"\u03BF",Omicron:"\u039F",omid:"\u29B6",ominus:"\u2296",oopf:"\u{1D560}",Oopf:"\u{1D546}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",or:"\u2228",Or:"\u2A54",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",oscr:"\u2134",Oscr:"\u{1D4AA}",oslash:"\xF8",Oslash:"\xD8",osol:"\u2298",otilde:"\xF5",Otilde:"\xD5",otimes:"\u2297",Otimes:"\u2A37",otimesas:"\u2A36",ouml:"\xF6",Ouml:"\xD6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",pcy:"\u043F",Pcy:"\u041F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",pfr:"\u{1D52D}",Pfr:"\u{1D513}",phi:"\u03C6",Phi:"\u03A6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",pi:"\u03C0",Pi:"\u03A0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",pr:"\u227A",Pr:"\u2ABB",prap:"\u2AB7",prcue:"\u227C",pre:"\u2AAF",prE:"\u2AB3",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",pscr:"\u{1D4C5}",Pscr:"\u{1D4AB}",psi:"\u03C8",Psi:"\u03A8",puncsp:"\u2008",qfr:"\u{1D52E}",Qfr:"\u{1D514}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",qscr:"\u{1D4C6}",Qscr:"\u{1D4AC}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",racute:"\u0155",Racute:"\u0154",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarr:"\u2192",rArr:"\u21D2",Rarr:"\u21A0",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",Rarrtl:"\u2916",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",Rcaron:"\u0158",rcedil:"\u0157",Rcedil:"\u0156",rceil:"\u2309",rcub:"}",rcy:"\u0440",Rcy:"\u0420",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",rho:"\u03C1",Rho:"\u03A1",rhov:"\u03F1",RightAngleBracket:"\u27E9",rightarrow:"\u2192",Rightarrow:"\u21D2",RightArrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",Sacute:"\u015A",sbquo:"\u201A",sc:"\u227B",Sc:"\u2ABC",scap:"\u2AB8",scaron:"\u0161",Scaron:"\u0160",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",scedil:"\u015F",Scedil:"\u015E",scirc:"\u015D",Scirc:"\u015C",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",scy:"\u0441",Scy:"\u0421",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",sfr:"\u{1D530}",Sfr:"\u{1D516}",sfrown:"\u2322",sharp:"\u266F",shchcy:"\u0449",SHCHcy:"\u0429",shcy:"\u0448",SHcy:"\u0428",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",sigma:"\u03C3",Sigma:"\u03A3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",SOFTcy:"\u042C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",Sopf:"\u{1D54A}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",sscr:"\u{1D4C8}",Sscr:"\u{1D4AE}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",star:"\u2606",Star:"\u22C6",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",sube:"\u2286",subE:"\u2AC5",subedot:"\u2AC3",submult:"\u2AC1",subne:"\u228A",subnE:"\u2ACB",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup:"\u2283",Sup:"\u22D1",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supe:"\u2287",supE:"\u2AC6",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supne:"\u228B",supnE:"\u2ACC",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",tau:"\u03C4",Tau:"\u03A4",tbrk:"\u23B4",tcaron:"\u0165",Tcaron:"\u0164",tcedil:"\u0163",Tcedil:"\u0162",tcy:"\u0442",Tcy:"\u0422",tdot:"\u20DB",telrec:"\u2315",tfr:"\u{1D531}",Tfr:"\u{1D517}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",theta:"\u03B8",Theta:"\u0398",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",thorn:"\xFE",THORN:"\xDE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",Topf:"\u{1D54B}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",Tscr:"\u{1D4AF}",tscy:"\u0446",TScy:"\u0426",tshcy:"\u045B",TSHcy:"\u040B",tstrok:"\u0167",Tstrok:"\u0166",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",uacute:"\xFA",Uacute:"\xDA",uarr:"\u2191",uArr:"\u21D1",Uarr:"\u219F",Uarrocir:"\u2949",ubrcy:"\u045E",Ubrcy:"\u040E",ubreve:"\u016D",Ubreve:"\u016C",ucirc:"\xFB",Ucirc:"\xDB",ucy:"\u0443",Ucy:"\u0423",udarr:"\u21C5",udblac:"\u0171",Udblac:"\u0170",udhar:"\u296E",ufisht:"\u297E",ufr:"\u{1D532}",Ufr:"\u{1D518}",ugrave:"\xF9",Ugrave:"\xD9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",Umacr:"\u016A",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",uogon:"\u0173",Uogon:"\u0172",uopf:"\u{1D566}",Uopf:"\u{1D54C}",uparrow:"\u2191",Uparrow:"\u21D1",UpArrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",Updownarrow:"\u21D5",UpDownArrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",upsilon:"\u03C5",Upsilon:"\u03A5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",Uring:"\u016E",urtri:"\u25F9",uscr:"\u{1D4CA}",Uscr:"\u{1D4B0}",utdot:"\u22F0",utilde:"\u0169",Utilde:"\u0168",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",uuml:"\xFC",Uuml:"\xDC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",vcy:"\u0432",Vcy:"\u0412",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",vee:"\u2228",Vee:"\u22C1",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",vfr:"\u{1D533}",Vfr:"\u{1D519}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",vopf:"\u{1D567}",Vopf:"\u{1D54D}",vprop:"\u221D",vrtri:"\u22B3",vscr:"\u{1D4CB}",Vscr:"\u{1D4B1}",vsubne:"\u228A\uFE00",vsubnE:"\u2ACB\uFE00",vsupne:"\u228B\uFE00",vsupnE:"\u2ACC\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",wcirc:"\u0175",Wcirc:"\u0174",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",wfr:"\u{1D534}",Wfr:"\u{1D51A}",wopf:"\u{1D568}",Wopf:"\u{1D54E}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",wscr:"\u{1D4CC}",Wscr:"\u{1D4B2}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",xfr:"\u{1D535}",Xfr:"\u{1D51B}",xharr:"\u27F7",xhArr:"\u27FA",xi:"\u03BE",Xi:"\u039E",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",xopf:"\u{1D569}",Xopf:"\u{1D54F}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",xscr:"\u{1D4CD}",Xscr:"\u{1D4B3}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",yacute:"\xFD",Yacute:"\xDD",yacy:"\u044F",YAcy:"\u042F",ycirc:"\u0177",Ycirc:"\u0176",ycy:"\u044B",Ycy:"\u042B",yen:"\xA5",yfr:"\u{1D536}",Yfr:"\u{1D51C}",yicy:"\u0457",YIcy:"\u0407",yopf:"\u{1D56A}",Yopf:"\u{1D550}",yscr:"\u{1D4CE}",Yscr:"\u{1D4B4}",yucy:"\u044E",YUcy:"\u042E",yuml:"\xFF",Yuml:"\u0178",zacute:"\u017A",Zacute:"\u0179",zcaron:"\u017E",Zcaron:"\u017D",zcy:"\u0437",Zcy:"\u0417",zdot:"\u017C",Zdot:"\u017B",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",zeta:"\u03B6",Zeta:"\u0396",zfr:"\u{1D537}",Zfr:"\u2128",zhcy:"\u0436",ZHcy:"\u0416",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",zscr:"\u{1D4CF}",Zscr:"\u{1D4B5}",zwj:"\u200D",zwnj:"\u200C"},w={aacute:"\xE1",Aacute:"\xC1",acirc:"\xE2",Acirc:"\xC2",acute:"\xB4",aelig:"\xE6",AElig:"\xC6",agrave:"\xE0",Agrave:"\xC0",amp:"&",AMP:"&",aring:"\xE5",Aring:"\xC5",atilde:"\xE3",Atilde:"\xC3",auml:"\xE4",Auml:"\xC4",brvbar:"\xA6",ccedil:"\xE7",Ccedil:"\xC7",cedil:"\xB8",cent:"\xA2",copy:"\xA9",COPY:"\xA9",curren:"\xA4",deg:"\xB0",divide:"\xF7",eacute:"\xE9",Eacute:"\xC9",ecirc:"\xEA",Ecirc:"\xCA",egrave:"\xE8",Egrave:"\xC8",eth:"\xF0",ETH:"\xD0",euml:"\xEB",Euml:"\xCB",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",gt:">",GT:">",iacute:"\xED",Iacute:"\xCD",icirc:"\xEE",Icirc:"\xCE",iexcl:"\xA1",igrave:"\xEC",Igrave:"\xCC",iquest:"\xBF",iuml:"\xEF",Iuml:"\xCF",laquo:"\xAB",lt:"<",LT:"<",macr:"\xAF",micro:"\xB5",middot:"\xB7",nbsp:"\xA0",not:"\xAC",ntilde:"\xF1",Ntilde:"\xD1",oacute:"\xF3",Oacute:"\xD3",ocirc:"\xF4",Ocirc:"\xD4",ograve:"\xF2",Ograve:"\xD2",ordf:"\xAA",ordm:"\xBA",oslash:"\xF8",Oslash:"\xD8",otilde:"\xF5",Otilde:"\xD5",ouml:"\xF6",Ouml:"\xD6",para:"\xB6",plusmn:"\xB1",pound:"\xA3",quot:'"',QUOT:'"',raquo:"\xBB",reg:"\xAE",REG:"\xAE",sect:"\xA7",shy:"\xAD",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",szlig:"\xDF",thorn:"\xFE",THORN:"\xDE",times:"\xD7",uacute:"\xFA",Uacute:"\xDA",ucirc:"\xFB",Ucirc:"\xDB",ugrave:"\xF9",Ugrave:"\xD9",uml:"\xA8",uuml:"\xFC",Uuml:"\xDC",yacute:"\xFD",Yacute:"\xDD",yen:"\xA5",yuml:"\xFF"},P={0:"\uFFFD",128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},C=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],x=String.fromCharCode,D={},y=D.hasOwnProperty,M=function(q,z){return y.call(q,z)},T=function(q,z){for(var ee=-1,$=q.length;++ee<$;)if(q[ee]==z)return!0;return!1},R=function(q,z){if(!q)return z;var ee={},$;for($ in z)ee[$]=M(q,$)?q[$]:z[$];return ee},F=function(q,z){var ee="";return q>=55296&&q<=57343||q>1114111?(z&&V("character reference outside the permissible Unicode range"),"\uFFFD"):M(P,q)?(z&&V("disallowed character reference"),P[q]):(z&&T(C,q)&&V("disallowed character reference"),q>65535&&(q-=65536,ee+=x(q>>>10&1023|55296),q=56320|q&1023),ee+=x(q),ee)},N=function(q){return"&#x"+q.toString(16).toUpperCase()+";"},U=function(q){return"&#"+q+";"},V=function(q){throw Error("Parse error: "+q)},W=function(q,z){z=R(z,W.options);var ee=z.strict;ee&&u.test(q)&&V("forbidden code point");var $=z.encodeEverything,J=z.useNamedReferences,j=z.allowUnsafeSymbols,Z=z.decimal?U:N,ne=function(ie){return Z(ie.charCodeAt(0))};return $?(q=q.replace(v,function(ie){return J&&M(E,ie)?"&"+E[ie]+";":ne(ie)}),J&&(q=q.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),J&&(q=q.replace(g,function(ie){return"&"+E[ie]+";"}))):J?(j||(q=q.replace(S,function(ie){return"&"+E[ie]+";"})),q=q.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),q=q.replace(g,function(ie){return"&"+E[ie]+";"})):j||(q=q.replace(S,ne)),q.replace(l,function(ie){var oe=ie.charCodeAt(0),re=ie.charCodeAt(1),ae=(oe-55296)*1024+re-56320+65536;return Z(ae)}).replace(_,ne)};W.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var L=function(q,z){z=R(z,L.options);var ee=z.strict;return ee&&A.test(q)&&V("malformed character reference"),q.replace(o,function($,J,j,Z,ne,ie,oe,re,ae){var se,fe,le,Ae,De,je;return J?(De=J,s[De]):j?(De=j,je=Z,je&&z.isAttributeValue?(ee&&je=="="&&V("`&` did not start a character reference"),$):(ee&&V("named character reference was not terminated by a semicolon"),w[De]+(je||""))):ne?(le=ne,fe=ie,ee&&!fe&&V("character reference was not terminated by a semicolon"),se=parseInt(le,10),F(se,ee)):oe?(Ae=oe,fe=re,ee&&!fe&&V("character reference was not terminated by a semicolon"),se=parseInt(Ae,16),F(se,ee)):(ee&&V("named character reference was not terminated by a semicolon"),$)})};L.options={isAttributeValue:!1,strict:!1};var k=function(q){return q.replace(S,function(z){return O[z]})},H={version:"1.2.0",encode:W,decode:L,escape:k,unescape:L};if(!0)t=function(){return H}.call(f,e,f,K),t!==void 0&&(K.exports=t);else var G})(this)},6684:(K,f,e)=>{"use strict";e.d(f,{R:()=>Dt});var t=e(15103),a=function(ct,Oe){var Se={};for(var Ze in ct)Object.prototype.hasOwnProperty.call(ct,Ze)&&Oe.indexOf(Ze)<0&&(Se[Ze]=ct[Ze]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,Ze=Object.getOwnPropertySymbols(ct);Fe<Ze.length;Fe++)Oe.indexOf(Ze[Fe])<0&&Object.prototype.propertyIsEnumerable.call(ct,Ze[Fe])&&(Se[Ze[Fe]]=ct[Ze[Fe]]);return Se};const i=ct=>ct,c=ct=>({_tag:"Left",value:ct}),p=ct=>({_tag:"Right",value:ct}),l=(ct,Oe,Se)=>Se._tag==="Left"?ct(Se.value):Oe(Se.value),v={dimap:(ct,Oe,Se)=>Ze=>Oe(Se(ct(Ze))),first:ct=>([Oe,Se])=>[ct(Oe),Se],right:ct=>Oe=>Oe._tag==="Left"?Oe:p(ct(Oe.value)),wander:ct=>Oe=>Oe.map(ct)},_={empty:()=>{},foldMap:(ct,Oe)=>{for(let Se=0;Se<Oe.length;Se++){const Ze=ct(Oe[Se]);if(Ze!=null)return Ze}}},g={empty:()=>[],foldMap:(ct,Oe)=>{let Se=[];return Oe.forEach(Ze=>{Se=Se.concat(ct(Ze))}),Se}},E=ct=>({dimap:(Oe,Se,Ze)=>Fe=>Ze(Oe(Fe)),first:Oe=>([Se,Ze])=>Oe(Se),right:Oe=>Se=>Se._tag==="Left"?ct.empty():Oe(Se.value),wander:Oe=>Se=>ct.foldMap(Oe,Se)}),S={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},O=(ct,Oe)=>{const Se=Oe;return Se._tag=ct,Se},A=ct=>(ct._removable=!0,ct);function u(ct,Oe,Se){switch(arguments.length){case 2:{const Ze=(Fe,Ke)=>ct(Fe,Oe(Fe,Ke));return Ze._tag=S[ct._tag][Oe._tag],Ze._removable=Oe._removable||!1,Ze}default:{const Ze=S[ct._tag][Oe._tag],Fe=(Ke,et)=>ct(Ke,Oe(Ke,Se(Ke,et)));return Fe._tag=S[Ze][Se._tag],Fe._removable=Se._removable||!1,Fe}}}const o=O("Equivalence",(ct,Oe)=>Oe),s=(ct,Oe)=>O("Iso",(Se,Ze)=>Se.dimap(ct,Oe,Ze)),w=(ct,Oe)=>O("Lens",(Se,Ze)=>Se.dimap(Fe=>[ct(Fe),Fe],Oe,Se.first(Ze))),P=(ct,Oe)=>O("Prism",(Se,Ze)=>Se.dimap(ct,Fe=>l(i,Oe,Fe),Se.right(Ze))),C=O("Traversal",(ct,Oe)=>ct.dimap(i,i,ct.wander(Oe))),x=ct=>O("Getter",(Oe,Se)=>Oe.dimap(ct,i,Se)),D=(ct,Oe,Se)=>ct(v,Oe)(Se),y=(ct,Oe,Se)=>ct(v,()=>Oe)(Se),M=(ct,Oe)=>y(ct,q,Oe),T=(ct,Oe)=>ct(E({}),i)(Oe),R=(ct,Oe)=>ct(E(_),i)(Oe),F=(ct,Oe)=>ct(E(g),Se=>[Se])(Oe),N=s(ct=>ct.map((Oe,Se)=>[Se,Oe]),ct=>{const Oe=[...ct].sort((Ze,Fe)=>Ze[0]-Fe[0]),Se=[];for(let Ze=0;Ze<Oe.length;++Ze)(Ze===Oe.length-1||Oe[Ze][0]!==Oe[Ze+1][0])&&Se.push(Oe[Ze][1]);return Se}),U=ct=>w(Oe=>Oe[ct],([Oe,Se])=>Object.assign(Object.assign({},Se),{[ct]:Oe})),V=ct=>w(Oe=>{const Se={};for(const Ze of ct)Se[Ze]=Oe[Ze];return Se},([Oe,Se])=>{const Ze=Object.assign({},Se);for(const Fe of ct)delete Ze[Fe];return Object.assign(Ze,Oe)}),W=ct=>w(Oe=>Oe[ct],([Oe,Se])=>{const Ze=Se.slice();return Ze[ct]=Oe,Ze}),L=W(0),k=ct=>P(Oe=>ct(Oe)?p(Oe):c(Oe),i),H=Symbol("__no_match__"),G=k(ct=>ct!==H),q=Symbol("__remove_me__"),z=ct=>A(u(w(Oe=>0<=ct&&ct<Oe.length?Oe[ct]:H,([Oe,Se])=>{if(Oe===H)return Se;if(Oe===q)return typeof Se=="string"?Se.substring(0,ct)+Se.substring(ct+1):[...Se.slice(0,ct),...Se.slice(ct+1)];if(typeof Se=="string")return ct===0?Oe+Se.substring(1):ct===Se.length?Se.substring(0,ct-1)+Oe:Se.substring(0,ct)+Oe+Se.substring(ct+1);{const Ze=Se.slice();return Ze[ct]=Oe,Ze}}),G)),ee=ct=>A(u(w(Oe=>{const Se=Oe[ct];return Se!==void 0?Se:H},([Oe,Se])=>{if(Oe===H)return Se;if(Oe===q){const Ze=Se,Fe=ct,Ke=Ze[Fe];return a(Ze,[typeof Fe=="symbol"?Fe:Fe+""])}return Object.assign(Object.assign({},Se),{[ct]:Oe})}),G)),$=P(ct=>ct===void 0?c(void 0):p(ct),i),J=ct=>P(Oe=>ct(Oe)?p(Oe):c(Oe),i),j=ct=>A(u(w(Oe=>{const Se=Oe.findIndex(ct);return Se===-1?[H,-1]:[Oe[Se],Se]},([[Oe,Se],Ze])=>{if(Oe===H)return Ze;if(Oe===q)return[...Ze.slice(0,Se),...Ze.slice(Se+1)];const Fe=Ze.slice();return Fe[Se]=Oe,Fe}),L,G)),Z=ct=>u(w(Oe=>{const Se=Oe.map((Ze,Fe)=>ct(Ze)?Fe:null).filter(Ze=>Ze!=null);return[Se.map(Ze=>Oe[Ze]),Se]},([[Oe,Se],Ze])=>{const Fe=Ze.length,Ke=Oe.length;let et=0,Qe=0,$e=0;const Te=[];for(;et<Fe;)Se[Qe]===et?(++Qe,$e<Ke&&(Te.push(Oe[$e]),++$e)):Te.push(Ze[et]),++et;for(;$e<Ke;)Te.push(Oe[$e++]);return Te}),L),ne=ct=>w(Oe=>Oe===void 0?ct:Oe,([Oe,Se])=>Oe),ie=ct=>u(w(Oe=>{const Se=F(ct,Oe);return[Se,Se.length]},([[Oe,Se],Ze])=>{if(Oe.length!==Se)throw new Error("cannot add/remove elements through partsOf");let Fe=0;return D(ct,()=>Oe[Fe++],Ze)}),L),oe=ct=>w(Oe=>ct(Oe),([Oe,Se])=>Oe),re=ct=>w(Oe=>Oe,([Oe,Se])=>ct(Oe)),ae=w(ct=>{},([ct,Oe])=>ct===void 0?Oe:[ct,...Oe]),se=w(ct=>{},([ct,Oe])=>ct===void 0?Oe:[...Oe,ct]),fe=u(s(ct=>ct.split(""),ct=>ct.join("")),C),le=u(s(ct=>ct.split(/\b/),ct=>ct.join("")),C,k(ct=>!/\s+/.test(ct)));class Ae{constructor(Oe){this._ref=Oe}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(Oe){return new Ae(u(this._ref,Oe._ref))}iso(Oe,Se){return new Ae(u(this._ref,s(Oe,Se)))}lens(Oe,Se){return new Ae(u(this._ref,w(Oe,([Ze,Fe])=>Se(Fe,Ze))))}indexed(){return new Ae(u(this._ref,N))}prop(Oe){return new Ae(u(this._ref,U(Oe)))}path(...Oe){return Oe.length===1&&(Oe=Oe[0].split(".")),new Ae(Oe.reduce((Se,Ze)=>u(Se,U(Ze)),this._ref))}pick(Oe){return new Ae(u(this._ref,V(Oe)))}nth(Oe){return new Ae(u(this._ref,W(Oe)))}filter(Oe){return new Ae(u(this._ref,Z(Oe)))}valueOr(Oe){return new Ae(u(this._ref,ne(Oe)))}partsOf(Oe){const Se=typeof Oe=="function"?Oe(De):Oe;return new Ae(u(this._ref,ie(Se._ref)))}reread(Oe){return new Ae(u(this._ref,oe(Oe)))}rewrite(Oe){return new Ae(u(this._ref,re(Oe)))}optional(){return new Ae(u(this._ref,$))}guard_(){return Oe=>this.guard(Oe)}guard(Oe){return new Ae(u(this._ref,J(Oe)))}at(Oe){return new Ae(u(this._ref,z(Oe)))}head(){return new Ae(u(this._ref,z(0)))}index(Oe){return new Ae(u(this._ref,z(Oe)))}find(Oe){return new Ae(u(this._ref,j(Oe)))}elems(){return new Ae(u(this._ref,C))}to(Oe){return new Ae(u(this._ref,x(Oe)))}when(Oe){return new Ae(u(this._ref,k(Oe)))}chars(){return new Ae(u(this._ref,fe))}words(){return new Ae(u(this._ref,le))}prependTo(){return new Ae(u(this._ref,ae))}appendTo(){return new Ae(u(this._ref,se))}}const De=new Ae(o);function je(ct,Oe){return ct.compose(Oe)}function Je(){return De}function Be(){return I.optic}function st(ct){return Oe=>T(ct._ref,Oe)}function ht(ct){return Oe=>R(ct._ref,Oe)}function gt(ct){return Oe=>F(ct._ref,Oe)}function Xe(ct){return Oe=>Se=>D(ct._ref,Oe,Se)}function Re(ct){return Oe=>Se=>y(ct._ref,Oe,Se)}function Ne(ct){return Oe=>I.remove(ct._ref,Oe)}const ke=(ct,Oe,Se)=>(Oe.has(Se)?Oe:Oe.set(Se,ct())).get(Se),ot=new WeakMap;function Dt(ct,Oe){return((Se,Ze,Fe)=>{const Ke=ke(()=>new WeakMap,ot,Ze);return ke(()=>{const et=Oe(Je());return(0,t.cn)(Qe=>{const $e=Qe(ct);return $e instanceof Promise?$e.then(Te=>ln(et,Te)):ln(et,$e)},(Qe,$e,Te)=>{const te=typeof Te=="function"?Xe(et)(Te):Re(et)(Te),ue=Qe(ct);return $e(ct,ue instanceof Promise?ue.then(te):te(ue))})},Ke,Fe)})(0,ct,Oe)}const ln=(ct,Oe)=>ct._tag==="Traversal"?gt(ct)(Oe):ct._tag==="Prism"?ht(ct)(Oe):st(ct)(Oe)},36808:(K,f,e)=>{var t,a;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(i){var c=!1;if(t=i,a=typeof t=="function"?t.call(f,e,f,K):t,a!==void 0&&(K.exports=a),c=!0,K.exports=i(),c=!0,!c){var p=window.Cookies,l=window.Cookies=i();l.noConflict=function(){return window.Cookies=p,l}}})(function(){function i(){for(var p=0,l={};p<arguments.length;p++){var v=arguments[p];for(var _ in v)l[_]=v[_]}return l}function c(p){function l(v,_,g){var E;if(typeof document!="undefined"){if(arguments.length>1){if(g=i({path:"/"},l.defaults,g),typeof g.expires=="number"){var S=new Date;S.setMilliseconds(S.getMilliseconds()+g.expires*864e5),g.expires=S}g.expires=g.expires?g.expires.toUTCString():"";try{E=JSON.stringify(_),/^[\{\[]/.test(E)&&(_=E)}catch(x){}p.write?_=p.write(_,v):_=encodeURIComponent(String(_)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),v=encodeURIComponent(String(v)),v=v.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),v=v.replace(/[\(\)]/g,escape);var O="";for(var A in g)g[A]&&(O+="; "+A,g[A]!==!0&&(O+="="+g[A]));return document.cookie=v+"="+_+O}v||(E={});for(var u=document.cookie?document.cookie.split("; "):[],o=/(%[0-9A-Z]{2})+/g,s=0;s<u.length;s++){var w=u[s].split("="),P=w.slice(1).join("=");!this.json&&P.charAt(0)==='"'&&(P=P.slice(1,-1));try{var C=w[0].replace(o,decodeURIComponent);if(P=p.read?p.read(P,C):p(P,C)||P.replace(o,decodeURIComponent),this.json)try{P=JSON.parse(P)}catch(x){}if(v===C){E=P;break}v||(E[C]=P)}catch(x){}}return E}}return l.set=l,l.get=function(v){return l.call(l,v)},l.getJSON=function(){return l.apply({json:!0},[].slice.call(arguments))},l.defaults={},l.remove=function(v,_){l(v,"",i(_,{expires:-1}))},l.withConverter=c,l}return c(function(){})})},3312:K=>{"use strict";const f={},e=f.hasOwnProperty,t=(y,M)=>{for(const T in y)e.call(y,T)&&M(T,y[T])},a=(y,M)=>(M&&t(M,(T,R)=>{y[T]=R}),y),i=(y,M)=>{const T=y.length;let R=-1;for(;++R<T;)M(y[R])},c=y=>"\\u"+("0000"+y).slice(-4),p=(y,M)=>{let T=y.toString(16);return M?T:T.toUpperCase()},l=f.toString,v=Array.isArray,_=y=>typeof Buffer=="function"&&Buffer.isBuffer(y),g=y=>l.call(y)=="[object Object]",E=y=>typeof y=="string"||l.call(y)=="[object String]",S=y=>typeof y=="number"||l.call(y)=="[object Number]",O=y=>typeof y=="function",A=y=>l.call(y)=="[object Map]",u=y=>l.call(y)=="[object Set]",o={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},s=/[\\\b\f\n\r\t]/,w=/[0-9]/,P=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,C=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,x=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,D=(y,M)=>{const T=()=>{L=W,++M.indentLevel,W=M.indent.repeat(M.indentLevel)},R={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},F=M&&M.json;F&&(R.quotes="double",R.wrap=!0),M=a(R,M),M.quotes!="single"&&M.quotes!="double"&&M.quotes!="backtick"&&(M.quotes="single");const N=M.quotes=="double"?'"':M.quotes=="backtick"?"`":"'",U=M.compact,V=M.lowercaseHex;let W=M.indent.repeat(M.indentLevel),L="";const k=M.__inline1__,H=M.__inline2__,G=U?"":`
`;let q,z=!0;const ee=M.numbers=="binary",$=M.numbers=="octal",J=M.numbers=="decimal",j=M.numbers=="hexadecimal";if(F&&y&&O(y.toJSON)&&(y=y.toJSON()),!E(y)){if(A(y))return y.size==0?"new Map()":(U||(M.__inline1__=!0,M.__inline2__=!1),"new Map("+D(Array.from(y),M)+")");if(u(y))return y.size==0?"new Set()":"new Set("+D(Array.from(y),M)+")";if(_(y))return y.length==0?"Buffer.from([])":"Buffer.from("+D(Array.from(y),M)+")";if(v(y))return q=[],M.wrap=!0,k&&(M.__inline1__=!1,M.__inline2__=!0),H||T(),i(y,ne=>{z=!1,H&&(M.__inline2__=!1),q.push((U||H?"":W)+D(ne,M))}),z?"[]":H?"["+q.join(", ")+"]":"["+G+q.join(","+G)+G+(U?"":L)+"]";if(S(y)){if(F)return JSON.stringify(y);if(J)return String(y);if(j){let ne=y.toString(16);return V||(ne=ne.toUpperCase()),"0x"+ne}if(ee)return"0b"+y.toString(2);if($)return"0o"+y.toString(8)}else return g(y)?(q=[],M.wrap=!0,T(),t(y,(ne,ie)=>{z=!1,q.push((U?"":W)+D(ne,M)+":"+(U?"":" ")+D(ie,M))}),z?"{}":"{"+G+q.join(","+G)+G+(U?"":L)+"}"):F?JSON.stringify(y)||"null":String(y)}const Z=M.escapeEverything?C:x;return q=y.replace(Z,(ne,ie,oe,re,ae,se)=>{if(ie){if(M.minimal)return ie;const le=ie.charCodeAt(0),Ae=ie.charCodeAt(1);if(M.es6){const De=(le-55296)*1024+Ae-56320+65536;return"\\u{"+p(De,V)+"}"}return c(p(le,V))+c(p(Ae,V))}if(oe)return c(p(oe.charCodeAt(0),V));if(ne=="\0"&&!F&&!w.test(se.charAt(ae+1)))return"\\0";if(re)return re==N||M.escapeEverything?"\\"+re:re;if(s.test(ne))return o[ne];if(M.minimal&&!P.test(ne))return ne;const fe=p(ne.charCodeAt(0),V);return F||fe.length>2?c(fe):"\\x"+("00"+fe).slice(-2)}),N=="`"&&(q=q.replace(/\$\{/g,"\\${")),M.isScriptContext&&(q=q.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,F?"\\u003C!--":"\\x3C!--")),M.wrap&&(q=N+q+N),q};D.version="3.0.2",K.exports=D},23059:(K,f)=>{function e(t){if(typeof t!="object")return t;var a,i,c=Object.prototype.toString.call(t);if(c==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){i=new t.constructor;for(a in t)t.hasOwnProperty(a)&&i[a]!==t[a]&&(i[a]=e(t[a]))}else{i={};for(a in t)a==="__proto__"?Object.defineProperty(i,a,{value:e(t[a]),configurable:!0,enumerable:!0,writable:!0}):i[a]=e(t[a])}return i}if(c==="[object Array]"){for(a=t.length,i=Array(a);a--;)i[a]=e(t[a]);return i}return c==="[object Set]"?(i=new Set,t.forEach(function(p){i.add(e(p))}),i):c==="[object Map]"?(i=new Map,t.forEach(function(p,l){i.set(e(l),e(p))}),i):c==="[object Date]"?new Date(+t):c==="[object RegExp]"?(i=new RegExp(t.source,t.flags),i.lastIndex=t.lastIndex,i):c==="[object DataView]"?new t.constructor(e(t.buffer)):c==="[object ArrayBuffer]"?t.slice(0):c.slice(-6)==="Array]"?new t.constructor(t):t}f.klona=e},25235:(K,f,e)=>{K.exports=e(8425)},87100:(K,f,e)=>{"use strict";var t;t=!0;var a=e(98661),i=v(a),c=e(8425),p=l(c);function l(s){if(s&&s.__esModule)return s;var w={};if(s!=null)for(var P in s)Object.prototype.hasOwnProperty.call(s,P)&&(w[P]=s[P]);return w.default=s,w}function v(s){return s&&s.__esModule?s:{default:s}}function _(s,w){if(!(s instanceof w))throw new TypeError("Cannot call a class as a function")}function g(s,w){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:s}function E(s,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);s.prototype=Object.create(w&&w.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(s,w):s.__proto__=w)}var S=p.options,O=S.Options;function A(s,w){for(var P=p.tokenize(s),C=[],x=0,D=0;D<P.length;D++){var y=P[D];if(y.type==="nl"&&w.nl2br){C.push(i.default.createElement("br",{key:"linkified-"+ ++x}));continue}else if(!y.isLink||!w.check(y)){C.push(y.toString());continue}var M=w.resolve(y),T=M.formatted,R=M.formattedHref,F=M.tagName,N=M.className,U=M.target,V=M.attributes,W={key:"linkified-"+ ++x,href:R};if(N&&(W.className=N),U&&(W.target=U),V)for(var L in V)W[L]=V[L];C.push(i.default.createElement(F,W,T))}return C}function u(s,w){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(i.default.Children.count(s.props.children)===0)return s;var C=[];i.default.Children.forEach(s.props.children,function(y){typeof y=="string"?(P=P+1,C.push.apply(C,A(y,w))):i.default.isValidElement(y)?typeof y.type=="string"&&S.contains(w.ignoreTags,y.type.toUpperCase())?C.push(y):C.push(u(y,w,++P)):C.push(y)});var x={key:"linkified-element-"+P};for(var D in s.props)x[D]=s.props[D];return i.default.cloneElement(s,x,C)}var o=function(s){E(w,s);function w(){return _(this,w),g(this,s.apply(this,arguments))}return w.prototype.render=function(){var C={key:"linkified-element-0"};for(var x in this.props)x!=="options"&&x!=="tagName"&&(C[x]=this.props[x]);var D=new O(this.props.options),y=this.props.tagName||"span",M=i.default.createElement(y,C);return u(M,D,0)},w}(i.default.Component);f.default=o},8425:(K,f,e)=>{"use strict";f.__esModule=!0,f.tokenize=f.test=f.scanner=f.parser=f.options=f.inherits=f.find=void 0;var t=e(72227),a=e(47951),i=_(a),c=e(6417),p=_(c),l=e(45788),v=_(l);function _(O){if(O&&O.__esModule)return O;var A={};if(O!=null)for(var u in O)Object.prototype.hasOwnProperty.call(O,u)&&(A[u]=O[u]);return A.default=O,A}Array.isArray||(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"});var g=function(A){return v.run(p.run(A))},E=function(A){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=g(A),s=[],w=0;w<o.length;w++){var P=o[w];P.isLink&&(!u||P.type===u)&&s.push(P.toObject())}return s},S=function(A){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=g(A);return o.length===1&&o[0].isLink&&(!u||o[0].type===u)};f.find=E,f.inherits=t.inherits,f.options=i,f.parser=v,f.scanner=p,f.test=S,f.tokenize=g},45788:(K,f,e)=>{"use strict";f.__esModule=!0,f.start=f.run=f.TOKENS=f.State=void 0;var t=e(25439),a=e(23370),i=p(a),c=e(63333);function p(ae){if(ae&&ae.__esModule)return ae;var se={};if(ae!=null)for(var fe in ae)Object.prototype.hasOwnProperty.call(ae,fe)&&(se[fe]=ae[fe]);return se.default=ae,se}var l=function(se){return new t.TokenState(se)},v=l(),_=l(),g=l(),E=l(),S=l(),O=l(),A=l(),u=l(a.URL),o=l(),s=l(a.URL),w=l(a.URL),P=l(),C=l(),x=l(),D=l(),y=l(),M=l(a.URL),T=l(a.URL),R=l(a.URL),F=l(a.URL),N=l(),U=l(),V=l(),W=l(),L=l(),k=l(),H=l(a.EMAIL),G=l(),q=l(a.EMAIL),z=l(a.MAILTOEMAIL),ee=l(),$=l(),J=l(),j=l(),Z=l(a.NL);v.on(c.NL,Z).on(c.PROTOCOL,_).on(c.MAILTO,g).on(c.SLASH,E),_.on(c.SLASH,E),E.on(c.SLASH,S),v.on(c.TLD,O).on(c.DOMAIN,O).on(c.LOCALHOST,u).on(c.NUM,O),S.on(c.TLD,w).on(c.DOMAIN,w).on(c.NUM,w).on(c.LOCALHOST,w),O.on(c.DOT,A),L.on(c.DOT,k),A.on(c.TLD,u).on(c.DOMAIN,O).on(c.NUM,O).on(c.LOCALHOST,O),k.on(c.TLD,H).on(c.DOMAIN,L).on(c.NUM,L).on(c.LOCALHOST,L),u.on(c.DOT,A),H.on(c.DOT,k),u.on(c.COLON,o).on(c.SLASH,w),o.on(c.NUM,s),s.on(c.SLASH,w),H.on(c.COLON,G),G.on(c.NUM,q);var ne=[c.DOMAIN,c.AT,c.LOCALHOST,c.NUM,c.PLUS,c.POUND,c.PROTOCOL,c.SLASH,c.TLD,c.UNDERSCORE,c.SYM,c.AMPERSAND],ie=[c.COLON,c.DOT,c.QUERY,c.PUNCTUATION,c.CLOSEBRACE,c.CLOSEBRACKET,c.CLOSEANGLEBRACKET,c.CLOSEPAREN,c.OPENBRACE,c.OPENBRACKET,c.OPENANGLEBRACKET,c.OPENPAREN];w.on(c.OPENBRACE,C).on(c.OPENBRACKET,x).on(c.OPENANGLEBRACKET,D).on(c.OPENPAREN,y),P.on(c.OPENBRACE,C).on(c.OPENBRACKET,x).on(c.OPENANGLEBRACKET,D).on(c.OPENPAREN,y),C.on(c.CLOSEBRACE,w),x.on(c.CLOSEBRACKET,w),D.on(c.CLOSEANGLEBRACKET,w),y.on(c.CLOSEPAREN,w),M.on(c.CLOSEBRACE,w),T.on(c.CLOSEBRACKET,w),R.on(c.CLOSEANGLEBRACKET,w),F.on(c.CLOSEPAREN,w),N.on(c.CLOSEBRACE,w),U.on(c.CLOSEBRACKET,w),V.on(c.CLOSEANGLEBRACKET,w),W.on(c.CLOSEPAREN,w),C.on(ne,M),x.on(ne,T),D.on(ne,R),y.on(ne,F),C.on(ie,N),x.on(ie,U),D.on(ie,V),y.on(ie,W),M.on(ne,M),T.on(ne,T),R.on(ne,R),F.on(ne,F),M.on(ie,M),T.on(ie,T),R.on(ie,R),F.on(ie,F),N.on(ne,M),U.on(ne,T),V.on(ne,R),W.on(ne,F),N.on(ie,N),U.on(ie,U),V.on(ie,V),W.on(ie,W),w.on(ne,w),P.on(ne,w),w.on(ie,P),P.on(ie,P),g.on(c.TLD,z).on(c.DOMAIN,z).on(c.NUM,z).on(c.LOCALHOST,z),z.on(ne,z).on(ie,ee),ee.on(ne,z).on(ie,ee);var oe=[c.DOMAIN,c.NUM,c.PLUS,c.POUND,c.QUERY,c.UNDERSCORE,c.SYM,c.AMPERSAND,c.TLD];O.on(oe,$).on(c.AT,J),u.on(oe,$).on(c.AT,J),A.on(oe,$),$.on(oe,$).on(c.AT,J).on(c.DOT,j),j.on(oe,$),J.on(c.TLD,L).on(c.DOMAIN,L).on(c.LOCALHOST,H);var re=function(se){for(var fe=se.length,le=0,Ae=[],De=[];le<fe;){for(var je=v,Je=null,Be=null,st=0,ht=null,gt=-1;le<fe&&!(Je=je.next(se[le]));)De.push(se[le++]);for(;le<fe&&(Be=Je||je.next(se[le]));)Je=null,je=Be,je.accepts()?(gt=0,ht=je):gt>=0&&gt++,le++,st++;if(gt<0)for(var Xe=le-st;Xe<le;Xe++)De.push(se[Xe]);else{De.length>0&&(Ae.push(new a.TEXT(De)),De=[]),le-=gt,st-=gt;var Re=ht.emit();Ae.push(new Re(se.slice(le-st,le)))}}return De.length>0&&Ae.push(new a.TEXT(De)),Ae};f.State=t.TokenState,f.TOKENS=i,f.run=re,f.start=v},6417:(K,f,e)=>{"use strict";f.__esModule=!0,f.start=f.run=f.TOKENS=f.State=void 0;var t=e(25439),a=e(63333),i=c(a);function c(H){if(H&&H.__esModule)return H;var G={};if(H!=null)for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(G[q]=H[q]);return G.default=H,G}var p="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),l="0123456789".split(""),v="0123456789abcdefghijklmnopqrstuvwxyz".split(""),_=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],g=[],E=function(G){return new t.CharacterState(G)},S=E(),O=E(a.NUM),A=E(a.DOMAIN),u=E(),o=E(a.WS);S.on("@",E(a.AT)).on(".",E(a.DOT)).on("+",E(a.PLUS)).on("#",E(a.POUND)).on("?",E(a.QUERY)).on("/",E(a.SLASH)).on("_",E(a.UNDERSCORE)).on(":",E(a.COLON)).on("{",E(a.OPENBRACE)).on("[",E(a.OPENBRACKET)).on("<",E(a.OPENANGLEBRACKET)).on("(",E(a.OPENPAREN)).on("}",E(a.CLOSEBRACE)).on("]",E(a.CLOSEBRACKET)).on(">",E(a.CLOSEANGLEBRACKET)).on(")",E(a.CLOSEPAREN)).on("&",E(a.AMPERSAND)).on([",",";","!",'"',"'"],E(a.PUNCTUATION)),S.on(`
`,E(a.NL)).on(_,o),o.on(_,o);for(var s=0;s<p.length;s++){var w=(0,t.stateify)(p[s],S,a.TLD,a.DOMAIN);g.push.apply(g,w)}var P=(0,t.stateify)("file",S,a.DOMAIN,a.DOMAIN),C=(0,t.stateify)("ftp",S,a.DOMAIN,a.DOMAIN),x=(0,t.stateify)("http",S,a.DOMAIN,a.DOMAIN),D=(0,t.stateify)("mailto",S,a.DOMAIN,a.DOMAIN);g.push.apply(g,P),g.push.apply(g,C),g.push.apply(g,x),g.push.apply(g,D);var y=P.pop(),M=C.pop(),T=x.pop(),R=D.pop(),F=E(a.DOMAIN),N=E(a.PROTOCOL),U=E(a.MAILTO);M.on("s",F).on(":",N),T.on("s",F).on(":",N),g.push(F),y.on(":",N),F.on(":",N),R.on(":",U);var V=(0,t.stateify)("localhost",S,a.LOCALHOST,a.DOMAIN);g.push.apply(g,V),S.on(l,O),O.on("-",u).on(l,O).on(v,A),A.on("-",u).on(v,A);for(var W=0;W<g.length;W++)g[W].on("-",u).on(v,A);u.on("-",u).on(l,A).on(v,A),S.defaultTransition=E(a.SYM);var L=function(G){for(var q=G.replace(/[A-Z]/g,function(re){return re.toLowerCase()}),z=G.length,ee=[],$=0;$<z;){for(var J=S,j=null,Z=0,ne=null,ie=-1;$<z&&(j=J.next(q[$]));)J=j,J.accepts()?(ie=0,ne=J):ie>=0&&ie++,Z++,$++;if(!(ie<0)){$-=ie,Z-=ie;var oe=ne.emit();ee.push(new oe(G.substr($-Z,Z)))}}return ee},k=S;f.State=t.CharacterState,f.TOKENS=i,f.run=L,f.start=k},25439:(K,f,e)=>{"use strict";f.__esModule=!0,f.stateify=f.TokenState=f.CharacterState=void 0;var t=e(72227);function a(){return function(v){this.j=[],this.T=v||null}}var i=a();i.prototype={defaultTransition:!1,on:function(_,g){if(_ instanceof Array){for(var E=0;E<_.length;E++)this.j.push([_[E],g]);return this}return this.j.push([_,g]),this},next:function(_){for(var g=0;g<this.j.length;g++){var E=this.j[g],S=E[0],O=E[1];if(this.test(_,S))return O}return this.defaultTransition},accepts:function(){return!!this.T},test:function(_,g){return _===g},emit:function(){return this.T}};var c=(0,t.inherits)(i,a(),{test:function(_,g){return _===g||g instanceof RegExp&&g.test(_)}}),p=(0,t.inherits)(i,a(),{jump:function(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=this.next(new _(""));return E===this.defaultTransition?(E=new this.constructor(g),this.on(_,E)):g&&(E.T=g),E},test:function(_,g){return _ instanceof g}});function l(v,_,g,E){for(var S=0,O=v.length,A=_,u=[],o=void 0;S<O&&(o=A.next(v[S]));)A=o,S++;if(S>=O)return[];for(;S<O-1;)o=new c(E),u.push(o),A.on(v[S],o),A=o,S++;return o=new c(g),u.push(o),A.on(v[O-1],o),u}f.CharacterState=c,f.TokenState=p,f.stateify=l},9770:(K,f)=>{"use strict";f.__esModule=!0;function e(){return function(t){t&&(this.v=t)}}f.createTokenClass=e},23370:(K,f,e)=>{"use strict";f.__esModule=!0,f.URL=f.TEXT=f.NL=f.EMAIL=f.MAILTOEMAIL=f.Base=void 0;var t=e(9770),a=e(72227),i=e(63333);function c(S){return S instanceof i.DOMAIN||S instanceof i.TLD}var p=(0,t.createTokenClass)();p.prototype={type:"token",isLink:!1,toString:function(){for(var O=[],A=0;A<this.v.length;A++)O.push(this.v[A].toString());return O.join("")},toHref:function(){return this.toString()},toObject:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(O)}}};var l=(0,a.inherits)(p,(0,t.createTokenClass)(),{type:"email",isLink:!0}),v=(0,a.inherits)(p,(0,t.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),_=(0,a.inherits)(p,(0,t.createTokenClass)(),{type:"text"}),g=(0,a.inherits)(p,(0,t.createTokenClass)(),{type:"nl"}),E=(0,a.inherits)(p,(0,t.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",A=!1,u=!1,o=this.v,s=[],w=0;o[w]instanceof i.PROTOCOL;)A=!0,s.push(o[w].toString().toLowerCase()),w++;for(;o[w]instanceof i.SLASH;)u=!0,s.push(o[w].toString()),w++;for(;c(o[w]);)s.push(o[w].toString().toLowerCase()),w++;for(;w<o.length;w++)s.push(o[w].toString());return s=s.join(""),A||u||(s=O+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof i.PROTOCOL}});f.Base=p,f.MAILTOEMAIL=l,f.EMAIL=v,f.NL=g,f.TEXT=_,f.URL=E},63333:(K,f,e)=>{"use strict";f.__esModule=!0,f.AMPERSAND=f.CLOSEPAREN=f.CLOSEANGLEBRACKET=f.CLOSEBRACKET=f.CLOSEBRACE=f.OPENPAREN=f.OPENANGLEBRACKET=f.OPENBRACKET=f.OPENBRACE=f.WS=f.TLD=f.SYM=f.UNDERSCORE=f.SLASH=f.MAILTO=f.PROTOCOL=f.QUERY=f.POUND=f.PLUS=f.NUM=f.NL=f.LOCALHOST=f.PUNCTUATION=f.DOT=f.COLON=f.AT=f.DOMAIN=f.Base=void 0;var t=e(9770),a=e(72227),i=(0,t.createTokenClass)();i.prototype={toString:function(){return this.v+""}};function c(k){var H=k?{v:k}:{};return(0,a.inherits)(i,(0,t.createTokenClass)(),H)}var p=c(),l=c("@"),v=c(":"),_=c("."),g=c(),E=c(),S=c(`
`),O=c(),A=c("+"),u=c("#"),o=c(),s=c("mailto:"),w=c("?"),P=c("/"),C=c("_"),x=c(),D=c(),y=c(),M=c("{"),T=c("["),R=c("<"),F=c("("),N=c("}"),U=c("]"),V=c(">"),W=c(")"),L=c("&");f.Base=i,f.DOMAIN=p,f.AT=l,f.COLON=v,f.DOT=_,f.PUNCTUATION=g,f.LOCALHOST=E,f.NL=S,f.NUM=O,f.PLUS=A,f.POUND=u,f.QUERY=w,f.PROTOCOL=o,f.MAILTO=s,f.SLASH=P,f.UNDERSCORE=C,f.SYM=x,f.TLD=D,f.WS=y,f.OPENBRACE=M,f.OPENBRACKET=T,f.OPENANGLEBRACKET=R,f.OPENPAREN=F,f.CLOSEBRACE=N,f.CLOSEBRACKET=U,f.CLOSEANGLEBRACKET=V,f.CLOSEPAREN=W,f.AMPERSAND=L},72227:(K,f)=>{"use strict";f.__esModule=!0,f.inherits=e;function e(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=Object.create(t.prototype);for(var p in i)c[p]=i[p];return c.constructor=a,a.prototype=c,a}},47951:(K,f)=>{"use strict";f.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t={defaultProtocol:"http",events:null,format:c,formatHref:c,nl2br:!1,tagName:"a",target:p,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};f.defaults=t,f.Options=a,f.contains=i;function a(l){l=l||{},this.defaultProtocol=l.hasOwnProperty("defaultProtocol")?l.defaultProtocol:t.defaultProtocol,this.events=l.hasOwnProperty("events")?l.events:t.events,this.format=l.hasOwnProperty("format")?l.format:t.format,this.formatHref=l.hasOwnProperty("formatHref")?l.formatHref:t.formatHref,this.nl2br=l.hasOwnProperty("nl2br")?l.nl2br:t.nl2br,this.tagName=l.hasOwnProperty("tagName")?l.tagName:t.tagName,this.target=l.hasOwnProperty("target")?l.target:t.target,this.validate=l.hasOwnProperty("validate")?l.validate:t.validate,this.ignoreTags=[],this.attributes=l.attributes||l.linkAttributes||t.attributes,this.className=l.hasOwnProperty("className")?l.className:l.linkClass||t.className;for(var v=l.hasOwnProperty("ignoreTags")?l.ignoreTags:t.ignoreTags,_=0;_<v.length;_++)this.ignoreTags.push(v[_].toUpperCase())}a.prototype={resolve:function(v){var _=v.toHref(this.defaultProtocol);return{formatted:this.get("format",v.toString(),v),formattedHref:this.get("formatHref",_,v),tagName:this.get("tagName",_,v),className:this.get("className",_,v),target:this.get("target",_,v),events:this.getObject("events",_,v),attributes:this.getObject("attributes",_,v)}},check:function(v){return this.get("validate",v.toString(),v)},get:function(v,_,g){var E=void 0,S=this[v];if(!S)return S;switch(typeof S=="undefined"?"undefined":e(S)){case"function":return S(_,g.type);case"object":return E=S.hasOwnProperty(g.type)?S[g.type]:t[v],typeof E=="function"?E(_,g.type):E}return S},getObject:function(v,_,g){var E=this[v];return typeof E=="function"?E(_,g.type):E}};function i(l,v){for(var _=0;_<l.length;_++)if(l[_]===v)return!0;return!1}function c(l){return l}function p(l,v){return v==="url"?"_blank":null}},28175:(K,f,e)=>{K.exports=e(87100).default},18552:(K,f,e)=>{var t=e(10852),a=e(55639),i=t(a,"DataView");K.exports=i},1989:(K,f,e)=>{var t=e(51789),a=e(80401),i=e(57667),c=e(21327),p=e(81866);function l(v){var _=-1,g=v==null?0:v.length;for(this.clear();++_<g;){var E=v[_];this.set(E[0],E[1])}}l.prototype.clear=t,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=c,l.prototype.set=p,K.exports=l},38407:(K,f,e)=>{var t=e(27040),a=e(14125),i=e(82117),c=e(67518),p=e(54705);function l(v){var _=-1,g=v==null?0:v.length;for(this.clear();++_<g;){var E=v[_];this.set(E[0],E[1])}}l.prototype.clear=t,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=c,l.prototype.set=p,K.exports=l},57071:(K,f,e)=>{var t=e(10852),a=e(55639),i=t(a,"Map");K.exports=i},83369:(K,f,e)=>{var t=e(24785),a=e(11285),i=e(96e3),c=e(49916),p=e(95265);function l(v){var _=-1,g=v==null?0:v.length;for(this.clear();++_<g;){var E=v[_];this.set(E[0],E[1])}}l.prototype.clear=t,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=c,l.prototype.set=p,K.exports=l},53818:(K,f,e)=>{var t=e(10852),a=e(55639),i=t(a,"Promise");K.exports=i},58525:(K,f,e)=>{var t=e(10852),a=e(55639),i=t(a,"Set");K.exports=i},88668:(K,f,e)=>{var t=e(83369),a=e(90619),i=e(72385);function c(p){var l=-1,v=p==null?0:p.length;for(this.__data__=new t;++l<v;)this.add(p[l])}c.prototype.add=c.prototype.push=a,c.prototype.has=i,K.exports=c},46384:(K,f,e)=>{var t=e(38407),a=e(37465),i=e(63779),c=e(67599),p=e(44758),l=e(34309);function v(_){var g=this.__data__=new t(_);this.size=g.size}v.prototype.clear=a,v.prototype.delete=i,v.prototype.get=c,v.prototype.has=p,v.prototype.set=l,K.exports=v},62705:(K,f,e)=>{var t=e(55639),a=t.Symbol;K.exports=a},11149:(K,f,e)=>{var t=e(55639),a=t.Uint8Array;K.exports=a},70577:(K,f,e)=>{var t=e(10852),a=e(55639),i=t(a,"WeakMap");K.exports=i},96874:K=>{function f(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}K.exports=f},44174:K=>{function f(e,t,a,i){for(var c=-1,p=e==null?0:e.length;++c<p;){var l=e[c];t(i,l,a(l),e)}return i}K.exports=f},77412:K=>{function f(e,t){for(var a=-1,i=e==null?0:e.length;++a<i&&t(e[a],a,e)!==!1;);return e}K.exports=f},34963:K=>{function f(e,t){for(var a=-1,i=e==null?0:e.length,c=0,p=[];++a<i;){var l=e[a];t(l,a,e)&&(p[c++]=l)}return p}K.exports=f},47443:(K,f,e)=>{var t=e(42118);function a(i,c){var p=i==null?0:i.length;return!!p&&t(i,c,0)>-1}K.exports=a},1196:K=>{function f(e,t,a){for(var i=-1,c=e==null?0:e.length;++i<c;)if(a(t,e[i]))return!0;return!1}K.exports=f},14636:(K,f,e)=>{var t=e(22545),a=e(35694),i=e(1469),c=e(44144),p=e(65776),l=e(36719),v=Object.prototype,_=v.hasOwnProperty;function g(E,S){var O=i(E),A=!O&&a(E),u=!O&&!A&&c(E),o=!O&&!A&&!u&&l(E),s=O||A||u||o,w=s?t(E.length,String):[],P=w.length;for(var C in E)(S||_.call(E,C))&&!(s&&(C=="length"||u&&(C=="offset"||C=="parent")||o&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||p(C,P)))&&w.push(C);return w}K.exports=g},29932:K=>{function f(e,t){for(var a=-1,i=e==null?0:e.length,c=Array(i);++a<i;)c[a]=t(e[a],a,e);return c}K.exports=f},62488:K=>{function f(e,t){for(var a=-1,i=t.length,c=e.length;++a<i;)e[c+a]=t[a];return e}K.exports=f},62663:K=>{function f(e,t,a,i){var c=-1,p=e==null?0:e.length;for(i&&p&&(a=e[++c]);++c<p;)a=t(a,e[c],c,e);return a}K.exports=f},82908:K=>{function f(e,t){for(var a=-1,i=e==null?0:e.length;++a<i;)if(t(e[a],a,e))return!0;return!1}K.exports=f},44286:K=>{function f(e){return e.split("")}K.exports=f},49029:K=>{var f=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(t){return t.match(f)||[]}K.exports=e},34865:(K,f,e)=>{var t=e(89465),a=e(77813),i=Object.prototype,c=i.hasOwnProperty;function p(l,v,_){var g=l[v];(!(c.call(l,v)&&a(g,_))||_===void 0&&!(v in l))&&t(l,v,_)}K.exports=p},18470:(K,f,e)=>{var t=e(77813);function a(i,c){for(var p=i.length;p--;)if(t(i[p][0],c))return p;return-1}K.exports=a},81119:(K,f,e)=>{var t=e(89881);function a(i,c,p,l){return t(i,function(v,_,g){c(l,v,p(v),g)}),l}K.exports=a},44037:(K,f,e)=>{var t=e(98363),a=e(3674);function i(c,p){return c&&t(p,a(p),c)}K.exports=i},63886:(K,f,e)=>{var t=e(98363),a=e(81704);function i(c,p){return c&&t(p,a(p),c)}K.exports=i},89465:(K,f,e)=>{var t=e(38777);function a(i,c,p){c=="__proto__"&&t?t(i,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):i[c]=p}K.exports=a},29750:K=>{function f(e,t,a){return e===e&&(a!==void 0&&(e=e<=a?e:a),t!==void 0&&(e=e>=t?e:t)),e}K.exports=f},85990:(K,f,e)=>{var t=e(46384),a=e(77412),i=e(34865),c=e(44037),p=e(63886),l=e(64626),v=e(278),_=e(18805),g=e(1911),E=e(58234),S=e(46904),O=e(64160),A=e(43824),u=e(29148),o=e(38517),s=e(1469),w=e(44144),P=e(56688),C=e(13218),x=e(72928),D=e(3674),y=e(81704),M=1,T=2,R=4,F="[object Arguments]",N="[object Array]",U="[object Boolean]",V="[object Date]",W="[object Error]",L="[object Function]",k="[object GeneratorFunction]",H="[object Map]",G="[object Number]",q="[object Object]",z="[object RegExp]",ee="[object Set]",$="[object String]",J="[object Symbol]",j="[object WeakMap]",Z="[object ArrayBuffer]",ne="[object DataView]",ie="[object Float32Array]",oe="[object Float64Array]",re="[object Int8Array]",ae="[object Int16Array]",se="[object Int32Array]",fe="[object Uint8Array]",le="[object Uint8ClampedArray]",Ae="[object Uint16Array]",De="[object Uint32Array]",je={};je[F]=je[N]=je[Z]=je[ne]=je[U]=je[V]=je[ie]=je[oe]=je[re]=je[ae]=je[se]=je[H]=je[G]=je[q]=je[z]=je[ee]=je[$]=je[J]=je[fe]=je[le]=je[Ae]=je[De]=!0,je[W]=je[L]=je[j]=!1;function Je(Be,st,ht,gt,Xe,Re){var Ne,ke=st&M,ot=st&T,Dt=st&R;if(ht&&(Ne=Xe?ht(Be,gt,Xe,Re):ht(Be)),Ne!==void 0)return Ne;if(!C(Be))return Be;var ln=s(Be);if(ln){if(Ne=A(Be),!ke)return v(Be,Ne)}else{var ct=O(Be),Oe=ct==L||ct==k;if(w(Be))return l(Be,ke);if(ct==q||ct==F||Oe&&!Xe){if(Ne=ot||Oe?{}:o(Be),!ke)return ot?g(Be,p(Ne,Be)):_(Be,c(Ne,Be))}else{if(!je[ct])return Xe?Be:{};Ne=u(Be,ct,ke)}}Re||(Re=new t);var Se=Re.get(Be);if(Se)return Se;Re.set(Be,Ne),x(Be)?Be.forEach(function(Ke){Ne.add(Je(Ke,st,ht,Ke,Be,Re))}):P(Be)&&Be.forEach(function(Ke,et){Ne.set(et,Je(Ke,st,ht,et,Be,Re))});var Ze=Dt?ot?S:E:ot?y:D,Fe=ln?void 0:Ze(Be);return a(Fe||Be,function(Ke,et){Fe&&(et=Ke,Ke=Be[et]),i(Ne,et,Je(Ke,st,ht,et,Be,Re))}),Ne}K.exports=Je},3118:(K,f,e)=>{var t=e(13218),a=Object.create,i=function(){function c(){}return function(p){if(!t(p))return{};if(a)return a(p);c.prototype=p;var l=new c;return c.prototype=void 0,l}}();K.exports=i},20731:(K,f,e)=>{var t=e(88668),a=e(47443),i=e(1196),c=e(29932),p=e(7518),l=e(74757),v=200;function _(g,E,S,O){var A=-1,u=a,o=!0,s=g.length,w=[],P=E.length;if(!s)return w;S&&(E=c(E,p(S))),O?(u=i,o=!1):E.length>=v&&(u=l,o=!1,E=new t(E));e:for(;++A<s;){var C=g[A],x=S==null?C:S(C);if(C=O||C!==0?C:0,o&&x===x){for(var D=P;D--;)if(E[D]===x)continue e;w.push(C)}else u(E,x,O)||w.push(C)}return w}K.exports=_},89881:(K,f,e)=>{var t=e(47816),a=e(99291),i=a(t);K.exports=i},56029:(K,f,e)=>{var t=e(33448);function a(i,c,p){for(var l=-1,v=i.length;++l<v;){var _=i[l],g=c(_);if(g!=null&&(E===void 0?g===g&&!t(g):p(g,E)))var E=g,S=_}return S}K.exports=a},41848:K=>{function f(e,t,a,i){for(var c=e.length,p=a+(i?1:-1);i?p--:++p<c;)if(t(e[p],p,e))return p;return-1}K.exports=f},21078:(K,f,e)=>{var t=e(62488),a=e(37285);function i(c,p,l,v,_){var g=-1,E=c.length;for(l||(l=a),_||(_=[]);++g<E;){var S=c[g];p>0&&l(S)?p>1?i(S,p-1,l,v,_):t(_,S):v||(_[_.length]=S)}return _}K.exports=i},28483:(K,f,e)=>{var t=e(25063),a=t();K.exports=a},47816:(K,f,e)=>{var t=e(28483),a=e(3674);function i(c,p){return c&&t(c,p,a)}K.exports=i},97786:(K,f,e)=>{var t=e(71811),a=e(40327);function i(c,p){p=t(p,c);for(var l=0,v=p.length;c!=null&&l<v;)c=c[a(p[l++])];return l&&l==v?c:void 0}K.exports=i},68866:(K,f,e)=>{var t=e(62488),a=e(1469);function i(c,p,l){var v=p(c);return a(c)?v:t(v,l(c))}K.exports=i},44239:(K,f,e)=>{var t=e(62705),a=e(89607),i=e(2333),c="[object Null]",p="[object Undefined]",l=t?t.toStringTag:void 0;function v(_){return _==null?_===void 0?p:c:l&&l in Object(_)?a(_):i(_)}K.exports=v},53325:K=>{function f(e,t){return e>t}K.exports=f},13:K=>{function f(e,t){return e!=null&&t in Object(e)}K.exports=f},42118:(K,f,e)=>{var t=e(41848),a=e(62722),i=e(42351);function c(p,l,v){return l===l?i(p,l,v):t(p,a,v)}K.exports=c},9454:(K,f,e)=>{var t=e(44239),a=e(37005),i="[object Arguments]";function c(p){return a(p)&&t(p)==i}K.exports=c},90939:(K,f,e)=>{var t=e(2492),a=e(37005);function i(c,p,l,v,_){return c===p?!0:c==null||p==null||!a(c)&&!a(p)?c!==c&&p!==p:t(c,p,l,v,i,_)}K.exports=i},2492:(K,f,e)=>{var t=e(46384),a=e(67114),i=e(18351),c=e(16096),p=e(64160),l=e(1469),v=e(44144),_=e(36719),g=1,E="[object Arguments]",S="[object Array]",O="[object Object]",A=Object.prototype,u=A.hasOwnProperty;function o(s,w,P,C,x,D){var y=l(s),M=l(w),T=y?S:p(s),R=M?S:p(w);T=T==E?O:T,R=R==E?O:R;var F=T==O,N=R==O,U=T==R;if(U&&v(s)){if(!v(w))return!1;y=!0,F=!1}if(U&&!F)return D||(D=new t),y||_(s)?a(s,w,P,C,x,D):i(s,w,T,P,C,x,D);if(!(P&g)){var V=F&&u.call(s,"__wrapped__"),W=N&&u.call(w,"__wrapped__");if(V||W){var L=V?s.value():s,k=W?w.value():w;return D||(D=new t),x(L,k,P,C,D)}}return U?(D||(D=new t),c(s,w,P,C,x,D)):!1}K.exports=o},25588:(K,f,e)=>{var t=e(64160),a=e(37005),i="[object Map]";function c(p){return a(p)&&t(p)==i}K.exports=c},2958:(K,f,e)=>{var t=e(46384),a=e(90939),i=1,c=2;function p(l,v,_,g){var E=_.length,S=E,O=!g;if(l==null)return!S;for(l=Object(l);E--;){var A=_[E];if(O&&A[2]?A[1]!==l[A[0]]:!(A[0]in l))return!1}for(;++E<S;){A=_[E];var u=A[0],o=l[u],s=A[1];if(O&&A[2]){if(o===void 0&&!(u in l))return!1}else{var w=new t;if(g)var P=g(o,s,u,l,v,w);if(!(P===void 0?a(s,o,i|c,g,w):P))return!1}}return!0}K.exports=p},62722:K=>{function f(e){return e!==e}K.exports=f},28458:(K,f,e)=>{var t=e(23560),a=e(15346),i=e(13218),c=e(80346),p=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,v=Function.prototype,_=Object.prototype,g=v.toString,E=_.hasOwnProperty,S=RegExp("^"+g.call(E).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O(A){if(!i(A)||a(A))return!1;var u=t(A)?S:l;return u.test(c(A))}K.exports=O},29221:(K,f,e)=>{var t=e(64160),a=e(37005),i="[object Set]";function c(p){return a(p)&&t(p)==i}K.exports=c},38749:(K,f,e)=>{var t=e(44239),a=e(41780),i=e(37005),c="[object Arguments]",p="[object Array]",l="[object Boolean]",v="[object Date]",_="[object Error]",g="[object Function]",E="[object Map]",S="[object Number]",O="[object Object]",A="[object RegExp]",u="[object Set]",o="[object String]",s="[object WeakMap]",w="[object ArrayBuffer]",P="[object DataView]",C="[object Float32Array]",x="[object Float64Array]",D="[object Int8Array]",y="[object Int16Array]",M="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",N="[object Uint32Array]",U={};U[C]=U[x]=U[D]=U[y]=U[M]=U[T]=U[R]=U[F]=U[N]=!0,U[c]=U[p]=U[w]=U[l]=U[P]=U[v]=U[_]=U[g]=U[E]=U[S]=U[O]=U[A]=U[u]=U[o]=U[s]=!1;function V(W){return i(W)&&a(W.length)&&!!U[t(W)]}K.exports=V},67206:(K,f,e)=>{var t=e(91573),a=e(16432),i=e(6557),c=e(1469),p=e(39601);function l(v){return typeof v=="function"?v:v==null?i:typeof v=="object"?c(v)?a(v[0],v[1]):t(v):p(v)}K.exports=l},280:(K,f,e)=>{var t=e(25726),a=e(86916),i=Object.prototype,c=i.hasOwnProperty;function p(l){if(!t(l))return a(l);var v=[];for(var _ in Object(l))c.call(l,_)&&_!="constructor"&&v.push(_);return v}K.exports=p},10313:(K,f,e)=>{var t=e(13218),a=e(25726),i=e(33498),c=Object.prototype,p=c.hasOwnProperty;function l(v){if(!t(v))return i(v);var _=a(v),g=[];for(var E in v)E=="constructor"&&(_||!p.call(v,E))||g.push(E);return g}K.exports=l},69199:(K,f,e)=>{var t=e(89881),a=e(98612);function i(c,p){var l=-1,v=a(c)?Array(c.length):[];return t(c,function(_,g,E){v[++l]=p(_,g,E)}),v}K.exports=i},91573:(K,f,e)=>{var t=e(2958),a=e(1499),i=e(42634);function c(p){var l=a(p);return l.length==1&&l[0][2]?i(l[0][0],l[0][1]):function(v){return v===p||t(v,p,l)}}K.exports=c},16432:(K,f,e)=>{var t=e(90939),a=e(27361),i=e(79095),c=e(15403),p=e(89162),l=e(42634),v=e(40327),_=1,g=2;function E(S,O){return c(S)&&p(O)?l(v(S),O):function(A){var u=a(A,S);return u===void 0&&u===O?i(A,S):t(O,u,_|g)}}K.exports=E},82689:(K,f,e)=>{var t=e(29932),a=e(97786),i=e(67206),c=e(69199),p=e(71131),l=e(7518),v=e(85022),_=e(6557),g=e(1469);function E(S,O,A){O.length?O=t(O,function(s){return g(s)?function(w){return a(w,s.length===1?s[0]:s)}:s}):O=[_];var u=-1;O=t(O,l(i));var o=c(S,function(s,w,P){var C=t(O,function(x){return x(s)});return{criteria:C,index:++u,value:s}});return p(o,function(s,w){return v(s,w,A)})}K.exports=E},25970:(K,f,e)=>{var t=e(63012),a=e(79095);function i(c,p){return t(c,p,function(l,v){return a(c,v)})}K.exports=i},63012:(K,f,e)=>{var t=e(97786),a=e(10611),i=e(71811);function c(p,l,v){for(var _=-1,g=l.length,E={};++_<g;){var S=l[_],O=t(p,S);v(O,S)&&a(E,i(S,p),O)}return E}K.exports=c},40371:K=>{function f(e){return function(t){return t==null?void 0:t[e]}}K.exports=f},79152:(K,f,e)=>{var t=e(97786);function a(i){return function(c){return t(c,i)}}K.exports=a},18674:K=>{function f(e){return function(t){return e==null?void 0:e[t]}}K.exports=f},5976:(K,f,e)=>{var t=e(6557),a=e(45357),i=e(30061);function c(p,l){return i(a(p,l,t),p+"")}K.exports=c},10611:(K,f,e)=>{var t=e(34865),a=e(71811),i=e(65776),c=e(13218),p=e(40327);function l(v,_,g,E){if(!c(v))return v;_=a(_,v);for(var S=-1,O=_.length,A=O-1,u=v;u!=null&&++S<O;){var o=p(_[S]),s=g;if(o==="__proto__"||o==="constructor"||o==="prototype")return v;if(S!=A){var w=u[o];s=E?E(w,o,u):void 0,s===void 0&&(s=c(w)?w:i(_[S+1])?[]:{})}t(u,o,s),u=u[o]}return v}K.exports=l},56560:(K,f,e)=>{var t=e(75703),a=e(38777),i=e(6557),c=a?function(p,l){return a(p,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:i;K.exports=c},14259:K=>{function f(e,t,a){var i=-1,c=e.length;t<0&&(t=-t>c?0:c+t),a=a>c?c:a,a<0&&(a+=c),c=t>a?0:a-t>>>0,t>>>=0;for(var p=Array(c);++i<c;)p[i]=e[i+t];return p}K.exports=f},71131:K=>{function f(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}K.exports=f},67762:K=>{function f(e,t){for(var a,i=-1,c=e.length;++i<c;){var p=t(e[i]);p!==void 0&&(a=a===void 0?p:a+p)}return a}K.exports=f},22545:K=>{function f(e,t){for(var a=-1,i=Array(e);++a<e;)i[a]=t(a);return i}K.exports=f},80531:(K,f,e)=>{var t=e(62705),a=e(29932),i=e(1469),c=e(33448),p=1/0,l=t?t.prototype:void 0,v=l?l.toString:void 0;function _(g){if(typeof g=="string")return g;if(i(g))return a(g,_)+"";if(c(g))return v?v.call(g):"";var E=g+"";return E=="0"&&1/g==-p?"-0":E}K.exports=_},27561:(K,f,e)=>{var t=e(67990),a=/^\s+/;function i(c){return c&&c.slice(0,t(c)+1).replace(a,"")}K.exports=i},7518:K=>{function f(e){return function(t){return e(t)}}K.exports=f},45652:(K,f,e)=>{var t=e(88668),a=e(47443),i=e(1196),c=e(74757),p=e(23593),l=e(21814),v=200;function _(g,E,S){var O=-1,A=a,u=g.length,o=!0,s=[],w=s;if(S)o=!1,A=i;else if(u>=v){var P=E?null:p(g);if(P)return l(P);o=!1,A=c,w=new t}else w=E?[]:s;e:for(;++O<u;){var C=g[O],x=E?E(C):C;if(C=S||C!==0?C:0,o&&x===x){for(var D=w.length;D--;)if(w[D]===x)continue e;E&&w.push(x),s.push(C)}else A(w,x,S)||(w!==s&&w.push(x),s.push(C))}return s}K.exports=_},57406:(K,f,e)=>{var t=e(71811),a=e(10928),i=e(40292),c=e(40327);function p(l,v){return v=t(v,l),l=i(l,v),l==null||delete l[c(a(v))]}K.exports=p},74757:K=>{function f(e,t){return e.has(t)}K.exports=f},54290:(K,f,e)=>{var t=e(6557);function a(i){return typeof i=="function"?i:t}K.exports=a},71811:(K,f,e)=>{var t=e(1469),a=e(15403),i=e(55514),c=e(79833);function p(l,v){return t(l)?l:a(l,v)?[l]:i(c(l))}K.exports=p},40180:(K,f,e)=>{var t=e(14259);function a(i,c,p){var l=i.length;return p=p===void 0?l:p,!c&&p>=l?i:t(i,c,p)}K.exports=a},5512:(K,f,e)=>{var t=e(42118);function a(i,c){for(var p=i.length;p--&&t(c,i[p],0)>-1;);return p}K.exports=a},74318:(K,f,e)=>{var t=e(11149);function a(i){var c=new i.constructor(i.byteLength);return new t(c).set(new t(i)),c}K.exports=a},64626:(K,f,e)=>{K=e.nmd(K);var t=e(55639),a=f&&!f.nodeType&&f,i=a&&!0&&K&&!K.nodeType&&K,c=i&&i.exports===a,p=c?t.Buffer:void 0,l=p?p.allocUnsafe:void 0;function v(_,g){if(g)return _.slice();var E=_.length,S=l?l(E):new _.constructor(E);return _.copy(S),S}K.exports=v},57157:(K,f,e)=>{var t=e(74318);function a(i,c){var p=c?t(i.buffer):i.buffer;return new i.constructor(p,i.byteOffset,i.byteLength)}K.exports=a},93147:K=>{var f=/\w*$/;function e(t){var a=new t.constructor(t.source,f.exec(t));return a.lastIndex=t.lastIndex,a}K.exports=e},40419:(K,f,e)=>{var t=e(62705),a=t?t.prototype:void 0,i=a?a.valueOf:void 0;function c(p){return i?Object(i.call(p)):{}}K.exports=c},77133:(K,f,e)=>{var t=e(74318);function a(i,c){var p=c?t(i.buffer):i.buffer;return new i.constructor(p,i.byteOffset,i.length)}K.exports=a},26393:(K,f,e)=>{var t=e(33448);function a(i,c){if(i!==c){var p=i!==void 0,l=i===null,v=i===i,_=t(i),g=c!==void 0,E=c===null,S=c===c,O=t(c);if(!E&&!O&&!_&&i>c||_&&g&&S&&!E&&!O||l&&g&&S||!p&&S||!v)return 1;if(!l&&!_&&!O&&i<c||O&&p&&v&&!l&&!_||E&&p&&v||!g&&v||!S)return-1}return 0}K.exports=a},85022:(K,f,e)=>{var t=e(26393);function a(i,c,p){for(var l=-1,v=i.criteria,_=c.criteria,g=v.length,E=p.length;++l<g;){var S=t(v[l],_[l]);if(S){if(l>=E)return S;var O=p[l];return S*(O=="desc"?-1:1)}}return i.index-c.index}K.exports=a},278:K=>{function f(e,t){var a=-1,i=e.length;for(t||(t=Array(i));++a<i;)t[a]=e[a];return t}K.exports=f},98363:(K,f,e)=>{var t=e(34865),a=e(89465);function i(c,p,l,v){var _=!l;l||(l={});for(var g=-1,E=p.length;++g<E;){var S=p[g],O=v?v(l[S],c[S],S,l,c):void 0;O===void 0&&(O=c[S]),_?a(l,S,O):t(l,S,O)}return l}K.exports=i},18805:(K,f,e)=>{var t=e(98363),a=e(99551);function i(c,p){return t(c,a(c),p)}K.exports=i},1911:(K,f,e)=>{var t=e(98363),a=e(51442);function i(c,p){return t(c,a(c),p)}K.exports=i},14429:(K,f,e)=>{var t=e(55639),a=t["__core-js_shared__"];K.exports=a},55189:(K,f,e)=>{var t=e(44174),a=e(81119),i=e(67206),c=e(1469);function p(l,v){return function(_,g){var E=c(_)?t:a,S=v?v():{};return E(_,l,i(g,2),S)}}K.exports=p},99291:(K,f,e)=>{var t=e(98612);function a(i,c){return function(p,l){if(p==null)return p;if(!t(p))return i(p,l);for(var v=p.length,_=c?v:-1,g=Object(p);(c?_--:++_<v)&&l(g[_],_,g)!==!1;);return p}}K.exports=a},25063:K=>{function f(e){return function(t,a,i){for(var c=-1,p=Object(t),l=i(t),v=l.length;v--;){var _=l[e?v:++c];if(a(p[_],_,p)===!1)break}return t}}K.exports=f},98805:(K,f,e)=>{var t=e(40180),a=e(62689),i=e(83140),c=e(79833);function p(l){return function(v){v=c(v);var _=a(v)?i(v):void 0,g=_?_[0]:v.charAt(0),E=_?t(_,1).join(""):v.slice(1);return g[l]()+E}}K.exports=p},35393:(K,f,e)=>{var t=e(62663),a=e(53816),i=e(58748),c="['\u2019]",p=RegExp(c,"g");function l(v){return function(_){return t(i(a(_).replace(p,"")),v,"")}}K.exports=l},23593:(K,f,e)=>{var t=e(58525),a=e(50308),i=e(21814),c=1/0,p=t&&1/i(new t([,-0]))[1]==c?function(l){return new t(l)}:a;K.exports=p},60696:(K,f,e)=>{var t=e(68630);function a(i){return t(i)?void 0:i}K.exports=a},69389:(K,f,e)=>{var t=e(18674),a={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},i=t(a);K.exports=i},38777:(K,f,e)=>{var t=e(10852),a=function(){try{var i=t(Object,"defineProperty");return i({},"",{}),i}catch(c){}}();K.exports=a},67114:(K,f,e)=>{var t=e(88668),a=e(82908),i=e(74757),c=1,p=2;function l(v,_,g,E,S,O){var A=g&c,u=v.length,o=_.length;if(u!=o&&!(A&&o>u))return!1;var s=O.get(v),w=O.get(_);if(s&&w)return s==_&&w==v;var P=-1,C=!0,x=g&p?new t:void 0;for(O.set(v,_),O.set(_,v);++P<u;){var D=v[P],y=_[P];if(E)var M=A?E(y,D,P,_,v,O):E(D,y,P,v,_,O);if(M!==void 0){if(M)continue;C=!1;break}if(x){if(!a(_,function(T,R){if(!i(x,R)&&(D===T||S(D,T,g,E,O)))return x.push(R)})){C=!1;break}}else if(!(D===y||S(D,y,g,E,O))){C=!1;break}}return O.delete(v),O.delete(_),C}K.exports=l},18351:(K,f,e)=>{var t=e(62705),a=e(11149),i=e(77813),c=e(67114),p=e(68776),l=e(21814),v=1,_=2,g="[object Boolean]",E="[object Date]",S="[object Error]",O="[object Map]",A="[object Number]",u="[object RegExp]",o="[object Set]",s="[object String]",w="[object Symbol]",P="[object ArrayBuffer]",C="[object DataView]",x=t?t.prototype:void 0,D=x?x.valueOf:void 0;function y(M,T,R,F,N,U,V){switch(R){case C:if(M.byteLength!=T.byteLength||M.byteOffset!=T.byteOffset)return!1;M=M.buffer,T=T.buffer;case P:return!(M.byteLength!=T.byteLength||!U(new a(M),new a(T)));case g:case E:case A:return i(+M,+T);case S:return M.name==T.name&&M.message==T.message;case u:case s:return M==T+"";case O:var W=p;case o:var L=F&v;if(W||(W=l),M.size!=T.size&&!L)return!1;var k=V.get(M);if(k)return k==T;F|=_,V.set(M,T);var H=c(W(M),W(T),F,N,U,V);return V.delete(M),H;case w:if(D)return D.call(M)==D.call(T)}return!1}K.exports=y},16096:(K,f,e)=>{var t=e(58234),a=1,i=Object.prototype,c=i.hasOwnProperty;function p(l,v,_,g,E,S){var O=_&a,A=t(l),u=A.length,o=t(v),s=o.length;if(u!=s&&!O)return!1;for(var w=u;w--;){var P=A[w];if(!(O?P in v:c.call(v,P)))return!1}var C=S.get(l),x=S.get(v);if(C&&x)return C==v&&x==l;var D=!0;S.set(l,v),S.set(v,l);for(var y=O;++w<u;){P=A[w];var M=l[P],T=v[P];if(g)var R=O?g(T,M,P,v,l,S):g(M,T,P,l,v,S);if(!(R===void 0?M===T||E(M,T,_,g,S):R)){D=!1;break}y||(y=P=="constructor")}if(D&&!y){var F=l.constructor,N=v.constructor;F!=N&&"constructor"in l&&"constructor"in v&&!(typeof F=="function"&&F instanceof F&&typeof N=="function"&&N instanceof N)&&(D=!1)}return S.delete(l),S.delete(v),D}K.exports=p},99021:(K,f,e)=>{var t=e(85564),a=e(45357),i=e(30061);function c(p){return i(a(p,void 0,t),p+"")}K.exports=c},31957:(K,f,e)=>{var t=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;K.exports=t},58234:(K,f,e)=>{var t=e(68866),a=e(99551),i=e(3674);function c(p){return t(p,i,a)}K.exports=c},46904:(K,f,e)=>{var t=e(68866),a=e(51442),i=e(81704);function c(p){return t(p,i,a)}K.exports=c},45050:(K,f,e)=>{var t=e(37019);function a(i,c){var p=i.__data__;return t(c)?p[typeof c=="string"?"string":"hash"]:p.map}K.exports=a},1499:(K,f,e)=>{var t=e(89162),a=e(3674);function i(c){for(var p=a(c),l=p.length;l--;){var v=p[l],_=c[v];p[l]=[v,_,t(_)]}return p}K.exports=i},10852:(K,f,e)=>{var t=e(28458),a=e(47801);function i(c,p){var l=a(c,p);return t(l)?l:void 0}K.exports=i},85924:(K,f,e)=>{var t=e(5569),a=t(Object.getPrototypeOf,Object);K.exports=a},89607:(K,f,e)=>{var t=e(62705),a=Object.prototype,i=a.hasOwnProperty,c=a.toString,p=t?t.toStringTag:void 0;function l(v){var _=i.call(v,p),g=v[p];try{v[p]=void 0;var E=!0}catch(O){}var S=c.call(v);return E&&(_?v[p]=g:delete v[p]),S}K.exports=l},99551:(K,f,e)=>{var t=e(34963),a=e(70479),i=Object.prototype,c=i.propertyIsEnumerable,p=Object.getOwnPropertySymbols,l=p?function(v){return v==null?[]:(v=Object(v),t(p(v),function(_){return c.call(v,_)}))}:a;K.exports=l},51442:(K,f,e)=>{var t=e(62488),a=e(85924),i=e(99551),c=e(70479),p=Object.getOwnPropertySymbols,l=p?function(v){for(var _=[];v;)t(_,i(v)),v=a(v);return _}:c;K.exports=l},64160:(K,f,e)=>{var t=e(18552),a=e(57071),i=e(53818),c=e(58525),p=e(70577),l=e(44239),v=e(80346),_="[object Map]",g="[object Object]",E="[object Promise]",S="[object Set]",O="[object WeakMap]",A="[object DataView]",u=v(t),o=v(a),s=v(i),w=v(c),P=v(p),C=l;(t&&C(new t(new ArrayBuffer(1)))!=A||a&&C(new a)!=_||i&&C(i.resolve())!=E||c&&C(new c)!=S||p&&C(new p)!=O)&&(C=function(x){var D=l(x),y=D==g?x.constructor:void 0,M=y?v(y):"";if(M)switch(M){case u:return A;case o:return _;case s:return E;case w:return S;case P:return O}return D}),K.exports=C},47801:K=>{function f(e,t){return e==null?void 0:e[t]}K.exports=f},222:(K,f,e)=>{var t=e(71811),a=e(35694),i=e(1469),c=e(65776),p=e(41780),l=e(40327);function v(_,g,E){g=t(g,_);for(var S=-1,O=g.length,A=!1;++S<O;){var u=l(g[S]);if(!(A=_!=null&&E(_,u)))break;_=_[u]}return A||++S!=O?A:(O=_==null?0:_.length,!!O&&p(O)&&c(u,O)&&(i(_)||a(_)))}K.exports=v},62689:K=>{var f="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+t+a,c="\\ufe0e\\ufe0f",p="\\u200d",l=RegExp("["+p+f+i+c+"]");function v(_){return l.test(_)}K.exports=v},93157:K=>{var f=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(t){return f.test(t)}K.exports=e},51789:(K,f,e)=>{var t=e(94536);function a(){this.__data__=t?t(null):{},this.size=0}K.exports=a},80401:K=>{function f(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}K.exports=f},57667:(K,f,e)=>{var t=e(94536),a="__lodash_hash_undefined__",i=Object.prototype,c=i.hasOwnProperty;function p(l){var v=this.__data__;if(t){var _=v[l];return _===a?void 0:_}return c.call(v,l)?v[l]:void 0}K.exports=p},21327:(K,f,e)=>{var t=e(94536),a=Object.prototype,i=a.hasOwnProperty;function c(p){var l=this.__data__;return t?l[p]!==void 0:i.call(l,p)}K.exports=c},81866:(K,f,e)=>{var t=e(94536),a="__lodash_hash_undefined__";function i(c,p){var l=this.__data__;return this.size+=this.has(c)?0:1,l[c]=t&&p===void 0?a:p,this}K.exports=i},43824:K=>{var f=Object.prototype,e=f.hasOwnProperty;function t(a){var i=a.length,c=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(c.index=a.index,c.input=a.input),c}K.exports=t},29148:(K,f,e)=>{var t=e(74318),a=e(57157),i=e(93147),c=e(40419),p=e(77133),l="[object Boolean]",v="[object Date]",_="[object Map]",g="[object Number]",E="[object RegExp]",S="[object Set]",O="[object String]",A="[object Symbol]",u="[object ArrayBuffer]",o="[object DataView]",s="[object Float32Array]",w="[object Float64Array]",P="[object Int8Array]",C="[object Int16Array]",x="[object Int32Array]",D="[object Uint8Array]",y="[object Uint8ClampedArray]",M="[object Uint16Array]",T="[object Uint32Array]";function R(F,N,U){var V=F.constructor;switch(N){case u:return t(F);case l:case v:return new V(+F);case o:return a(F,U);case s:case w:case P:case C:case x:case D:case y:case M:case T:return p(F,U);case _:return new V;case g:case O:return new V(F);case E:return i(F);case S:return new V;case A:return c(F)}}K.exports=R},38517:(K,f,e)=>{var t=e(3118),a=e(85924),i=e(25726);function c(p){return typeof p.constructor=="function"&&!i(p)?t(a(p)):{}}K.exports=c},37285:(K,f,e)=>{var t=e(62705),a=e(35694),i=e(1469),c=t?t.isConcatSpreadable:void 0;function p(l){return i(l)||a(l)||!!(c&&l&&l[c])}K.exports=p},65776:K=>{var f=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(a,i){var c=typeof a;return i=i==null?f:i,!!i&&(c=="number"||c!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}K.exports=t},16612:(K,f,e)=>{var t=e(77813),a=e(98612),i=e(65776),c=e(13218);function p(l,v,_){if(!c(_))return!1;var g=typeof v;return(g=="number"?a(_)&&i(v,_.length):g=="string"&&v in _)?t(_[v],l):!1}K.exports=p},15403:(K,f,e)=>{var t=e(1469),a=e(33448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;function p(l,v){if(t(l))return!1;var _=typeof l;return _=="number"||_=="symbol"||_=="boolean"||l==null||a(l)?!0:c.test(l)||!i.test(l)||v!=null&&l in Object(v)}K.exports=p},37019:K=>{function f(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}K.exports=f},15346:(K,f,e)=>{var t=e(14429),a=function(){var c=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function i(c){return!!a&&a in c}K.exports=i},25726:K=>{var f=Object.prototype;function e(t){var a=t&&t.constructor,i=typeof a=="function"&&a.prototype||f;return t===i}K.exports=e},89162:(K,f,e)=>{var t=e(13218);function a(i){return i===i&&!t(i)}K.exports=a},27040:K=>{function f(){this.__data__=[],this.size=0}K.exports=f},14125:(K,f,e)=>{var t=e(18470),a=Array.prototype,i=a.splice;function c(p){var l=this.__data__,v=t(l,p);if(v<0)return!1;var _=l.length-1;return v==_?l.pop():i.call(l,v,1),--this.size,!0}K.exports=c},82117:(K,f,e)=>{var t=e(18470);function a(i){var c=this.__data__,p=t(c,i);return p<0?void 0:c[p][1]}K.exports=a},67518:(K,f,e)=>{var t=e(18470);function a(i){return t(this.__data__,i)>-1}K.exports=a},54705:(K,f,e)=>{var t=e(18470);function a(i,c){var p=this.__data__,l=t(p,i);return l<0?(++this.size,p.push([i,c])):p[l][1]=c,this}K.exports=a},24785:(K,f,e)=>{var t=e(1989),a=e(38407),i=e(57071);function c(){this.size=0,this.__data__={hash:new t,map:new(i||a),string:new t}}K.exports=c},11285:(K,f,e)=>{var t=e(45050);function a(i){var c=t(this,i).delete(i);return this.size-=c?1:0,c}K.exports=a},96e3:(K,f,e)=>{var t=e(45050);function a(i){return t(this,i).get(i)}K.exports=a},49916:(K,f,e)=>{var t=e(45050);function a(i){return t(this,i).has(i)}K.exports=a},95265:(K,f,e)=>{var t=e(45050);function a(i,c){var p=t(this,i),l=p.size;return p.set(i,c),this.size+=p.size==l?0:1,this}K.exports=a},68776:K=>{function f(e){var t=-1,a=Array(e.size);return e.forEach(function(i,c){a[++t]=[c,i]}),a}K.exports=f},42634:K=>{function f(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==void 0||e in Object(a))}}K.exports=f},24523:(K,f,e)=>{var t=e(88306),a=500;function i(c){var p=t(c,function(v){return l.size===a&&l.clear(),v}),l=p.cache;return p}K.exports=i},94536:(K,f,e)=>{var t=e(10852),a=t(Object,"create");K.exports=a},86916:(K,f,e)=>{var t=e(5569),a=t(Object.keys,Object);K.exports=a},33498:K=>{function f(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}K.exports=f},31167:(K,f,e)=>{K=e.nmd(K);var t=e(31957),a=f&&!f.nodeType&&f,i=a&&!0&&K&&!K.nodeType&&K,c=i&&i.exports===a,p=c&&t.process,l=function(){try{var v=i&&i.require&&i.require("util").types;return v||p&&p.binding&&p.binding("util")}catch(_){}}();K.exports=l},2333:K=>{var f=Object.prototype,e=f.toString;function t(a){return e.call(a)}K.exports=t},5569:K=>{function f(e,t){return function(a){return e(t(a))}}K.exports=f},45357:(K,f,e)=>{var t=e(96874),a=Math.max;function i(c,p,l){return p=a(p===void 0?c.length-1:p,0),function(){for(var v=arguments,_=-1,g=a(v.length-p,0),E=Array(g);++_<g;)E[_]=v[p+_];_=-1;for(var S=Array(p+1);++_<p;)S[_]=v[_];return S[p]=l(E),t(c,this,S)}}K.exports=i},40292:(K,f,e)=>{var t=e(97786),a=e(14259);function i(c,p){return p.length<2?c:t(c,a(p,0,-1))}K.exports=i},55639:(K,f,e)=>{var t=e(31957),a=typeof self=="object"&&self&&self.Object===Object&&self,i=t||a||Function("return this")();K.exports=i},90619:K=>{var f="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,f),this}K.exports=e},72385:K=>{function f(e){return this.__data__.has(e)}K.exports=f},21814:K=>{function f(e){var t=-1,a=Array(e.size);return e.forEach(function(i){a[++t]=i}),a}K.exports=f},30061:(K,f,e)=>{var t=e(56560),a=e(21275),i=a(t);K.exports=i},21275:K=>{var f=800,e=16,t=Date.now;function a(i){var c=0,p=0;return function(){var l=t(),v=e-(l-p);if(p=l,v>0){if(++c>=f)return arguments[0]}else c=0;return i.apply(void 0,arguments)}}K.exports=a},37465:(K,f,e)=>{var t=e(38407);function a(){this.__data__=new t,this.size=0}K.exports=a},63779:K=>{function f(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}K.exports=f},67599:K=>{function f(e){return this.__data__.get(e)}K.exports=f},44758:K=>{function f(e){return this.__data__.has(e)}K.exports=f},34309:(K,f,e)=>{var t=e(38407),a=e(57071),i=e(83369),c=200;function p(l,v){var _=this.__data__;if(_ instanceof t){var g=_.__data__;if(!a||g.length<c-1)return g.push([l,v]),this.size=++_.size,this;_=this.__data__=new i(g)}return _.set(l,v),this.size=_.size,this}K.exports=p},42351:K=>{function f(e,t,a){for(var i=a-1,c=e.length;++i<c;)if(e[i]===t)return i;return-1}K.exports=f},83140:(K,f,e)=>{var t=e(44286),a=e(62689),i=e(676);function c(p){return a(p)?i(p):t(p)}K.exports=c},55514:(K,f,e)=>{var t=e(24523),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,c=t(function(p){var l=[];return p.charCodeAt(0)===46&&l.push(""),p.replace(a,function(v,_,g,E){l.push(g?E.replace(i,"$1"):_||v)}),l});K.exports=c},40327:(K,f,e)=>{var t=e(33448),a=1/0;function i(c){if(typeof c=="string"||t(c))return c;var p=c+"";return p=="0"&&1/c==-a?"-0":p}K.exports=i},80346:K=>{var f=Function.prototype,e=f.toString;function t(a){if(a!=null){try{return e.call(a)}catch(i){}try{return a+""}catch(i){}}return""}K.exports=t},67990:K=>{var f=/\s/;function e(t){for(var a=t.length;a--&&f.test(t.charAt(a)););return a}K.exports=e},676:K=>{var f="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+t+a,c="\\ufe0e\\ufe0f",p="["+f+"]",l="["+i+"]",v="\\ud83c[\\udffb-\\udfff]",_="(?:"+l+"|"+v+")",g="[^"+f+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",O="\\u200d",A=_+"?",u="["+c+"]?",o="(?:"+O+"(?:"+[g,E,S].join("|")+")"+u+A+")*",s=u+A+o,w="(?:"+[g+l+"?",l,E,S,p].join("|")+")",P=RegExp(v+"(?="+v+")|"+w+s,"g");function C(x){return x.match(P)||[]}K.exports=C},2757:K=>{var f="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",i=e+t+a,c="\\u2700-\\u27bf",p="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",v="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_="\\u2000-\\u206f",g=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",E="A-Z\\xc0-\\xd6\\xd8-\\xde",S="\\ufe0e\\ufe0f",O=l+v+_+g,A="['\u2019]",u="["+O+"]",o="["+i+"]",s="\\d+",w="["+c+"]",P="["+p+"]",C="[^"+f+O+s+c+p+E+"]",x="\\ud83c[\\udffb-\\udfff]",D="(?:"+o+"|"+x+")",y="[^"+f+"]",M="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",R="["+E+"]",F="\\u200d",N="(?:"+P+"|"+C+")",U="(?:"+R+"|"+C+")",V="(?:"+A+"(?:d|ll|m|re|s|t|ve))?",W="(?:"+A+"(?:D|LL|M|RE|S|T|VE))?",L=D+"?",k="["+S+"]?",H="(?:"+F+"(?:"+[y,M,T].join("|")+")"+k+L+")*",G="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",q="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",z=k+L+H,ee="(?:"+[w,M,T].join("|")+")"+z,$=RegExp([R+"?"+P+"+"+V+"(?="+[u,R,"$"].join("|")+")",U+"+"+W+"(?="+[u,R+N,"$"].join("|")+")",R+"?"+N+"+"+V,R+"+"+W,q,G,s,ee].join("|"),"g");function J(j){return j.match($)||[]}K.exports=J},48403:(K,f,e)=>{var t=e(79833),a=e(11700);function i(c){return a(t(c).toLowerCase())}K.exports=i},8400:(K,f,e)=>{var t=e(14259),a=e(16612),i=e(40554),c=Math.ceil,p=Math.max;function l(v,_,g){(g?a(v,_,g):_===void 0)?_=1:_=p(i(_),0);var E=v==null?0:v.length;if(!E||_<1)return[];for(var S=0,O=0,A=Array(c(E/_));S<E;)A[O++]=t(v,S,S+=_);return A}K.exports=l},74691:(K,f,e)=>{var t=e(29750),a=e(14841);function i(c,p,l){return l===void 0&&(l=p,p=void 0),l!==void 0&&(l=a(l),l=l===l?l:0),p!==void 0&&(p=a(p),p=p===p?p:0),t(a(c),p,l)}K.exports=i},39693:K=>{function f(e){for(var t=-1,a=e==null?0:e.length,i=0,c=[];++t<a;){var p=e[t];p&&(c[i++]=p)}return c}K.exports=f},75703:K=>{function f(e){return function(){return e}}K.exports=f},23279:(K,f,e)=>{var t=e(13218),a=e(7771),i=e(14841),c="Expected a function",p=Math.max,l=Math.min;function v(_,g,E){var S,O,A,u,o,s,w=0,P=!1,C=!1,x=!0;if(typeof _!="function")throw new TypeError(c);g=i(g)||0,t(E)&&(P=!!E.leading,C="maxWait"in E,A=C?p(i(E.maxWait)||0,g):A,x="trailing"in E?!!E.trailing:x);function D(W){var L=S,k=O;return S=O=void 0,w=W,u=_.apply(k,L),u}function y(W){return w=W,o=setTimeout(R,g),P?D(W):u}function M(W){var L=W-s,k=W-w,H=g-L;return C?l(H,A-k):H}function T(W){var L=W-s,k=W-w;return s===void 0||L>=g||L<0||C&&k>=A}function R(){var W=a();if(T(W))return F(W);o=setTimeout(R,M(W))}function F(W){return o=void 0,x&&S?D(W):(S=O=void 0,u)}function N(){o!==void 0&&clearTimeout(o),w=0,S=s=O=o=void 0}function U(){return o===void 0?u:F(a())}function V(){var W=a(),L=T(W);if(S=arguments,O=this,s=W,L){if(o===void 0)return y(s);if(C)return clearTimeout(o),o=setTimeout(R,g),D(s)}return o===void 0&&(o=setTimeout(R,g)),u}return V.cancel=N,V.flush=U,V}K.exports=v},53816:(K,f,e)=>{var t=e(69389),a=e(79833),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c="\\u0300-\\u036f",p="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",v=c+p+l,_="["+v+"]",g=RegExp(_,"g");function E(S){return S=a(S),S&&S.replace(i,t).replace(g,"")}K.exports=E},77813:K=>{function f(e,t){return e===t||e!==e&&t!==t}K.exports=f},7436:(K,f,e)=>{var t=e(41848),a=e(67206),i=e(40554),c=Math.max,p=Math.min;function l(v,_,g){var E=v==null?0:v.length;if(!E)return-1;var S=E-1;return g!==void 0&&(S=i(g),S=g<0?c(E+S,0):p(S,E-1)),t(v,a(_,3),S,!0)}K.exports=l},85564:(K,f,e)=>{var t=e(21078);function a(i){var c=i==null?0:i.length;return c?t(i,1):[]}K.exports=a},27361:(K,f,e)=>{var t=e(97786);function a(i,c,p){var l=i==null?void 0:t(i,c);return l===void 0?p:l}K.exports=a},7739:(K,f,e)=>{var t=e(89465),a=e(55189),i=Object.prototype,c=i.hasOwnProperty,p=a(function(l,v,_){c.call(l,_)?l[_].push(v):t(l,_,[v])});K.exports=p},79095:(K,f,e)=>{var t=e(13),a=e(222);function i(c,p){return c!=null&&a(c,p,t)}K.exports=i},6557:K=>{function f(e){return e}K.exports=f},35694:(K,f,e)=>{var t=e(9454),a=e(37005),i=Object.prototype,c=i.hasOwnProperty,p=i.propertyIsEnumerable,l=t(function(){return arguments}())?t:function(v){return a(v)&&c.call(v,"callee")&&!p.call(v,"callee")};K.exports=l},1469:K=>{var f=Array.isArray;K.exports=f},98612:(K,f,e)=>{var t=e(23560),a=e(41780);function i(c){return c!=null&&a(c.length)&&!t(c)}K.exports=i},29246:(K,f,e)=>{var t=e(98612),a=e(37005);function i(c){return a(c)&&t(c)}K.exports=i},44144:(K,f,e)=>{K=e.nmd(K);var t=e(55639),a=e(95062),i=f&&!f.nodeType&&f,c=i&&!0&&K&&!K.nodeType&&K,p=c&&c.exports===i,l=p?t.Buffer:void 0,v=l?l.isBuffer:void 0,_=v||a;K.exports=_},41609:(K,f,e)=>{var t=e(280),a=e(64160),i=e(35694),c=e(1469),p=e(98612),l=e(44144),v=e(25726),_=e(36719),g="[object Map]",E="[object Set]",S=Object.prototype,O=S.hasOwnProperty;function A(u){if(u==null)return!0;if(p(u)&&(c(u)||typeof u=="string"||typeof u.splice=="function"||l(u)||_(u)||i(u)))return!u.length;var o=a(u);if(o==g||o==E)return!u.size;if(v(u))return!t(u).length;for(var s in u)if(O.call(u,s))return!1;return!0}K.exports=A},18446:(K,f,e)=>{var t=e(90939);function a(i,c){return t(i,c)}K.exports=a},23560:(K,f,e)=>{var t=e(44239),a=e(13218),i="[object AsyncFunction]",c="[object Function]",p="[object GeneratorFunction]",l="[object Proxy]";function v(_){if(!a(_))return!1;var g=t(_);return g==c||g==p||g==i||g==l}K.exports=v},41780:K=>{var f=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=f}K.exports=e},56688:(K,f,e)=>{var t=e(25588),a=e(7518),i=e(31167),c=i&&i.isMap,p=c?a(c):t;K.exports=p},14293:K=>{function f(e){return e==null}K.exports=f},13218:K=>{function f(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}K.exports=f},37005:K=>{function f(e){return e!=null&&typeof e=="object"}K.exports=f},68630:(K,f,e)=>{var t=e(44239),a=e(85924),i=e(37005),c="[object Object]",p=Function.prototype,l=Object.prototype,v=p.toString,_=l.hasOwnProperty,g=v.call(Object);function E(S){if(!i(S)||t(S)!=c)return!1;var O=a(S);if(O===null)return!0;var A=_.call(O,"constructor")&&O.constructor;return typeof A=="function"&&A instanceof A&&v.call(A)==g}K.exports=E},72928:(K,f,e)=>{var t=e(29221),a=e(7518),i=e(31167),c=i&&i.isSet,p=c?a(c):t;K.exports=p},33448:(K,f,e)=>{var t=e(44239),a=e(37005),i="[object Symbol]";function c(p){return typeof p=="symbol"||a(p)&&t(p)==i}K.exports=c},36719:(K,f,e)=>{var t=e(38749),a=e(7518),i=e(31167),c=i&&i.isTypedArray,p=c?a(c):t;K.exports=p},24350:(K,f,e)=>{var t=e(89465),a=e(55189),i=a(function(c,p,l){t(c,l,p)});K.exports=i},3674:(K,f,e)=>{var t=e(14636),a=e(280),i=e(98612);function c(p){return i(p)?t(p):a(p)}K.exports=c},81704:(K,f,e)=>{var t=e(14636),a=e(10313),i=e(98612);function c(p){return i(p)?t(p,!0):a(p)}K.exports=c},10928:K=>{function f(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}K.exports=f},84753:(K,f,e)=>{var t=e(56029),a=e(53325),i=e(67206);function c(p,l){return p&&p.length?t(p,i(l,2),a):void 0}K.exports=c},88306:(K,f,e)=>{var t=e(83369),a="Expected a function";function i(c,p){if(typeof c!="function"||p!=null&&typeof p!="function")throw new TypeError(a);var l=function(){var v=arguments,_=p?p.apply(this,v):v[0],g=l.cache;if(g.has(_))return g.get(_);var E=c.apply(this,v);return l.cache=g.set(_,E)||g,E};return l.cache=new(i.Cache||t),l}i.Cache=t,K.exports=i},50308:K=>{function f(){}K.exports=f},7771:(K,f,e)=>{var t=e(55639),a=function(){return t.Date.now()};K.exports=a},57557:(K,f,e)=>{var t=e(29932),a=e(85990),i=e(57406),c=e(71811),p=e(98363),l=e(60696),v=e(99021),_=e(46904),g=1,E=2,S=4,O=v(function(A,u){var o={};if(A==null)return o;var s=!1;u=t(u,function(P){return P=c(P,A),s||(s=P.length>1),P}),p(A,_(A),o),s&&(o=a(o,g|E|S,l));for(var w=u.length;w--;)i(o,u[w]);return o});K.exports=O},43174:(K,f,e)=>{var t=e(55189),a=t(function(i,c,p){i[p?0:1].push(c)},function(){return[[],[]]});K.exports=a},78718:(K,f,e)=>{var t=e(25970),a=e(99021),i=a(function(c,p){return c==null?{}:t(c,p)});K.exports=i},39601:(K,f,e)=>{var t=e(40371),a=e(79152),i=e(15403),c=e(40327);function p(l){return i(l)?t(c(l)):a(l)}K.exports=p},89734:(K,f,e)=>{var t=e(21078),a=e(82689),i=e(5976),c=e(16612),p=i(function(l,v){if(l==null)return[];var _=v.length;return _>1&&c(l,v[0],v[1])?v=[]:_>2&&c(v[0],v[1],v[2])&&(v=[v[0]]),a(l,t(v,1),[])});K.exports=p},18029:(K,f,e)=>{var t=e(35393),a=e(11700),i=t(function(c,p,l){return c+(l?" ":"")+a(p)});K.exports=i},70479:K=>{function f(){return[]}K.exports=f},95062:K=>{function f(){return!1}K.exports=f},12297:(K,f,e)=>{var t=e(67762),a=e(6557);function i(c){return c&&c.length?t(c,a):0}K.exports=i},23493:(K,f,e)=>{var t=e(23279),a=e(13218),i="Expected a function";function c(p,l,v){var _=!0,g=!0;if(typeof p!="function")throw new TypeError(i);return a(v)&&(_="leading"in v?!!v.leading:_,g="trailing"in v?!!v.trailing:g),t(p,l,{leading:_,maxWait:l,trailing:g})}K.exports=c},98913:(K,f,e)=>{var t=e(22545),a=e(54290),i=e(40554),c=9007199254740991,p=4294967295,l=Math.min;function v(_,g){if(_=i(_),_<1||_>c)return[];var E=p,S=l(_,p);g=a(g),_-=p;for(var O=t(S,g);++E<_;)g(E);return O}K.exports=v},18601:(K,f,e)=>{var t=e(14841),a=1/0,i=17976931348623157e292;function c(p){if(!p)return p===0?p:0;if(p=t(p),p===a||p===-a){var l=p<0?-1:1;return l*i}return p===p?p:0}K.exports=c},40554:(K,f,e)=>{var t=e(18601);function a(i){var c=t(i),p=c%1;return c===c?p?c-p:c:0}K.exports=a},14841:(K,f,e)=>{var t=e(27561),a=e(13218),i=e(33448),c=0/0,p=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=parseInt;function g(E){if(typeof E=="number")return E;if(i(E))return c;if(a(E)){var S=typeof E.valueOf=="function"?E.valueOf():E;E=a(S)?S+"":S}if(typeof E!="string")return E===0?E:+E;E=t(E);var O=l.test(E);return O||v.test(E)?_(E.slice(2),O?2:8):p.test(E)?c:+E}K.exports=g},79833:(K,f,e)=>{var t=e(80531);function a(i){return i==null?"":t(i)}K.exports=a},10691:(K,f,e)=>{var t=e(80531),a=e(40180),i=e(5512),c=e(83140),p=e(79833),l=e(67990);function v(_,g,E){if(_=p(_),_&&(E||g===void 0))return _.slice(0,l(_)+1);if(!_||!(g=t(g)))return _;var S=c(_),O=i(S,c(g))+1;return a(S,0,O).join("")}K.exports=v},44908:(K,f,e)=>{var t=e(45652);function a(i){return i&&i.length?t(i):[]}K.exports=a},45578:(K,f,e)=>{var t=e(67206),a=e(45652);function i(c,p){return c&&c.length?a(c,t(p,2)):[]}K.exports=i},73955:(K,f,e)=>{var t=e(79833),a=0;function i(c){var p=++a;return t(c)+p}K.exports=i},11700:(K,f,e)=>{var t=e(98805),a=t("toUpperCase");K.exports=a},82569:(K,f,e)=>{var t=e(20731),a=e(5976),i=e(29246),c=a(function(p,l){return i(p)?t(p,l):[]});K.exports=c},58748:(K,f,e)=>{var t=e(49029),a=e(93157),i=e(79833),c=e(2757);function p(l,v,_){return l=i(l),v=_?void 0:v,v===void 0?a(l)?c(l):t(l):l.match(v)||[]}K.exports=p},87021:(K,f,e)=>{"use strict";e.d(f,{Z:()=>c});var t=e(6400),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const i=p=>p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(p,l)=>{const v=u=>{var o=u,{color:_="currentColor",size:g=24,strokeWidth:E=2,absoluteStrokeWidth:S,children:O}=o,A=ai(o,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,t.h)("svg",yr(No(yr({},a),{width:String(g),height:g,stroke:_,["stroke-width"]:S?Number(E)*24/Number(g):E,class:`lucide lucide-${i(p)}`}),A),[...l.map(([s,w])=>(0,t.h)(s,w)),...(0,t.toChildArray)(O)])};return v.displayName=`${p}`,v}},40160:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]])},62686:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]])},8700:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]])},4675:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},67749:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]])},66298:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ArrowUpRight",[["line",{x1:"7",x2:"17",y1:"17",y2:"7",key:"11kluq"}],["polyline",{points:"7 7 17 7 17 17",key:"blehsp"}]])},88812:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},79774:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},19723:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},25380:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},45570:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},45609:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},84146:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]])},71212:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},29942:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]])},65207:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},23260:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},67747:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77951:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},5149:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},43557:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]])},19242:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]])},19237:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},92027:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]])},99869:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},35588:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},66120:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7617:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},31992:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("MoveDiagonal2",[["polyline",{points:"5 11 5 5 11 5",key:"ncfzxk"}],["polyline",{points:"19 13 19 19 13 19",key:"1mk7hk"}],["line",{x1:"5",x2:"19",y1:"5",y2:"19",key:"mcyte3"}]])},887:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Pencil",[["line",{x1:"18",x2:"22",y1:"2",y2:"6",key:"1e96e7"}],["path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z",key:"12iwkt"}]])},32224:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]])},98188:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]])},74655:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},53716:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]])},10293:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]])},40423:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["line",{x1:"20",x2:"8.12",y1:"4",y2:"15.88",key:"3m06te"}],["line",{x1:"14.47",x2:"20",y1:"14.48",y2:"20",key:"117692"}],["line",{x1:"8.12",x2:"12",y1:"8.12",y2:"12",key:"1oaf4y"}]])},24840:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]])},28596:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},85700:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]])},75500:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Subtitles",[["path",{d:"M7 13h4",key:"1m1xj0"}],["path",{d:"M15 13h2",key:"vgjay3"}],["path",{d:"M7 9h2",key:"1q072n"}],["path",{d:"M13 9h4",key:"o7fxw0"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10Z",key:"12yqn6"}]])},37603:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]])},27194:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},66440:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},52066:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},96999:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]])},17048:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(87021);const a=(0,t.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},58751:(K,f,e)=>{var t,a,i;/*!
* Masonry v4.2.2
* Cascading grid layout library
* https://masonry.desandro.com
* MIT License
* by David DeSandro
*/(function(c,p){a=[e(71794),e(66131)],t=p,i=typeof t=="function"?t.apply(f,a):t,i!==void 0&&(K.exports=i)})(window,function(p,l){"use strict";var v=p.create("masonry");v.compatOptions.fitWidth="isFitWidth";var _=v.prototype;return _._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var g=0;g<this.cols;g++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},_.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var g=this.items[0],E=g&&g.element;this.columnWidth=E&&l(E).outerWidth||this.containerWidth}var S=this.columnWidth+=this.gutter,O=this.containerWidth+this.gutter,A=O/S,u=S-O%S,o=u&&u<1?"round":"floor";A=Math[o](A),this.cols=Math.max(A,1)},_.getContainerWidth=function(){var g=this._getOption("fitWidth"),E=g?this.element.parentNode:this.element,S=l(E);this.containerWidth=S&&S.innerWidth},_._getItemLayoutPosition=function(g){g.getSize();var E=g.size.outerWidth%this.columnWidth,S=E&&E<1?"round":"ceil",O=Math[S](g.size.outerWidth/this.columnWidth);O=Math.min(O,this.cols);for(var A=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",u=this[A](O,g),o={x:this.columnWidth*u.col,y:u.y},s=u.y+g.size.outerHeight,w=O+u.col,P=u.col;P<w;P++)this.colYs[P]=s;return o},_._getTopColPosition=function(g){var E=this._getTopColGroup(g),S=Math.min.apply(Math,E);return{col:E.indexOf(S),y:S}},_._getTopColGroup=function(g){if(g<2)return this.colYs;for(var E=[],S=this.cols+1-g,O=0;O<S;O++)E[O]=this._getColGroupY(O,g);return E},_._getColGroupY=function(g,E){if(E<2)return this.colYs[g];var S=this.colYs.slice(g,g+E);return Math.max.apply(Math,S)},_._getHorizontalColPosition=function(g,E){var S=this.horizontalColIndex%this.cols,O=g>1&&S+g>this.cols;S=O?0:S;var A=E.size.outerWidth&&E.size.outerHeight;return this.horizontalColIndex=A?S+g:this.horizontalColIndex,{col:S,y:this._getColGroupY(S,g)}},_._manageStamp=function(g){var E=l(g),S=this._getElementOffset(g),O=this._getOption("originLeft"),A=O?S.left:S.right,u=A+E.outerWidth,o=Math.floor(A/this.columnWidth);o=Math.max(0,o);var s=Math.floor(u/this.columnWidth);s-=u%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var w=this._getOption("originTop"),P=(w?S.top:S.bottom)+E.outerHeight,C=o;C<=s;C++)this.colYs[C]=Math.max(P,this.colYs[C])},_._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var g={height:this.maxY};return this._getOption("fitWidth")&&(g.width=this._getContainerFitWidth()),g},_._getContainerFitWidth=function(){for(var g=0,E=this.cols;--E&&this.colYs[E]===0;)g++;return(this.cols-g)*this.columnWidth-this.gutter},_.needsResizeLayout=function(){var g=this.containerWidth;return this.getContainerWidth(),g!=this.containerWidth},v})},83122:K=>{"use strict";var f={};function e(a){var i,c,p=f[a];if(p)return p;for(p=f[a]=[],i=0;i<128;i++)c=String.fromCharCode(i),p.push(c);for(i=0;i<a.length;i++)c=a.charCodeAt(i),p[c]="%"+("0"+c.toString(16).toUpperCase()).slice(-2);return p}function t(a,i){var c;return typeof i!="string"&&(i=t.defaultChars),c=e(i),a.replace(/(%[a-f0-9]{2})+/gi,function(p){var l,v,_,g,E,S,O,A="";for(l=0,v=p.length;l<v;l+=3){if(_=parseInt(p.slice(l+1,l+3),16),_<128){A+=c[_];continue}if((_&224)===192&&l+3<v&&(g=parseInt(p.slice(l+4,l+6),16),(g&192)===128)){O=_<<6&1984|g&63,O<128?A+="\uFFFD\uFFFD":A+=String.fromCharCode(O),l+=3;continue}if((_&240)===224&&l+6<v&&(g=parseInt(p.slice(l+4,l+6),16),E=parseInt(p.slice(l+7,l+9),16),(g&192)===128&&(E&192)===128)){O=_<<12&61440|g<<6&4032|E&63,O<2048||O>=55296&&O<=57343?A+="\uFFFD\uFFFD\uFFFD":A+=String.fromCharCode(O),l+=6;continue}if((_&248)===240&&l+9<v&&(g=parseInt(p.slice(l+4,l+6),16),E=parseInt(p.slice(l+7,l+9),16),S=parseInt(p.slice(l+10,l+12),16),(g&192)===128&&(E&192)===128&&(S&192)===128)){O=_<<18&1835008|g<<12&258048|E<<6&4032|S&63,O<65536||O>1114111?A+="\uFFFD\uFFFD\uFFFD\uFFFD":(O-=65536,A+=String.fromCharCode(55296+(O>>10),56320+(O&1023))),l+=9;continue}A+="\uFFFD"}return A})}t.defaultChars=";/?:@&=+$,#",t.componentChars="",K.exports=t},70729:K=>{"use strict";var f={};function e(a){var i,c,p=f[a];if(p)return p;for(p=f[a]=[],i=0;i<128;i++)c=String.fromCharCode(i),/^[0-9a-z]$/i.test(c)?p.push(c):p.push("%"+("0"+i.toString(16).toUpperCase()).slice(-2));for(i=0;i<a.length;i++)p[a.charCodeAt(i)]=a[i];return p}function t(a,i,c){var p,l,v,_,g,E="";for(typeof i!="string"&&(c=i,i=t.defaultChars),typeof c=="undefined"&&(c=!0),g=e(i),p=0,l=a.length;p<l;p++){if(v=a.charCodeAt(p),c&&v===37&&p+2<l&&/^[0-9a-f]{2}$/i.test(a.slice(p+1,p+3))){E+=a.slice(p,p+3),p+=2;continue}if(v<128){E+=g[v];continue}if(v>=55296&&v<=57343){if(v>=55296&&v<=56319&&p+1<l&&(_=a.charCodeAt(p+1),_>=56320&&_<=57343)){E+=encodeURIComponent(a[p]+a[p+1]),p++;continue}E+="%EF%BF%BD";continue}E+=encodeURIComponent(a[p])}return E}t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",K.exports=t},2201:K=>{"use strict";K.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}},48765:(K,f,e)=>{"use strict";K.exports.encode=e(70729),K.exports.decode=e(83122),K.exports.format=e(2201),K.exports.parse=e(9553)},9553:K=>{"use strict";function f(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var e=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(i),p=["'"].concat(c),l=["%","/","?",";","#"].concat(p),v=["/","?","#"],_=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function A(u,o){if(u&&u instanceof f)return u;var s=new f;return s.parse(u,o),s}f.prototype.parse=function(u,o){var s,w,P,C,x,D=u;if(D=D.trim(),!o&&u.split("#").length===1){var y=a.exec(D);if(y)return this.pathname=y[1],y[2]&&(this.search=y[2]),this}var M=e.exec(D);if(M&&(M=M[0],P=M.toLowerCase(),this.protocol=M,D=D.substr(M.length)),(o||M||D.match(/^\/\/[^@\/]+@[^@\/]+/))&&(x=D.substr(0,2)==="//",x&&!(M&&S[M])&&(D=D.substr(2),this.slashes=!0)),!S[M]&&(x||M&&!O[M])){var T=-1;for(s=0;s<v.length;s++)C=D.indexOf(v[s]),C!==-1&&(T===-1||C<T)&&(T=C);var R,F;for(T===-1?F=D.lastIndexOf("@"):F=D.lastIndexOf("@",T),F!==-1&&(R=D.slice(0,F),D=D.slice(F+1),this.auth=R),T=-1,s=0;s<l.length;s++)C=D.indexOf(l[s]),C!==-1&&(T===-1||C<T)&&(T=C);T===-1&&(T=D.length),D[T-1]===":"&&T--;var N=D.slice(0,T);D=D.slice(T),this.parseHost(N),this.hostname=this.hostname||"";var U=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!U){var V=this.hostname.split(/\./);for(s=0,w=V.length;s<w;s++){var W=V[s];if(W&&!W.match(g)){for(var L="",k=0,H=W.length;k<H;k++)W.charCodeAt(k)>127?L+="x":L+=W[k];if(!L.match(g)){var G=V.slice(0,s),q=V.slice(s+1),z=W.match(E);z&&(G.push(z[1]),q.unshift(z[2])),q.length&&(D=q.join(".")+D),this.hostname=G.join(".");break}}}}this.hostname.length>_&&(this.hostname=""),U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var ee=D.indexOf("#");ee!==-1&&(this.hash=D.substr(ee),D=D.slice(0,ee));var $=D.indexOf("?");return $!==-1&&(this.search=D.substr($),D=D.slice(0,$)),D&&(this.pathname=D),O[P]&&this.hostname&&!this.pathname&&(this.pathname=""),this},f.prototype.parseHost=function(u){var o=t.exec(u);o&&(o=o[0],o!==":"&&(this.port=o.substr(1)),u=u.substr(0,u.length-o.length)),u&&(this.hostname=u)},K.exports=A},30845:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i});function t(c,p){if(c.length!==p.length)return!1;for(var l=0;l<c.length;l++)if(c[l]!==p[l])return!1;return!0}function a(c,p){p===void 0&&(p=t);var l,v=[],_,g=!1;function E(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];return g&&l===this&&p(S,v)||(_=c.apply(this,S),g=!0,l=this,v=S),_}return E}const i=a},55234:(K,f,e)=>{/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */K.exports=e(53765)},80983:(K,f,e)=>{"use strict";/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var t=e(55234),a=e(26470).extname,i=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;f.charset=p,f.charsets={lookup:p},f.contentType=l,f.extension=v,f.extensions=Object.create(null),f.lookup=_,f.types=Object.create(null),g(f.extensions,f.types);function p(E){if(!E||typeof E!="string")return!1;var S=i.exec(E),O=S&&t[S[1].toLowerCase()];return O&&O.charset?O.charset:S&&c.test(S[1])?"UTF-8":!1}function l(E){if(!E||typeof E!="string")return!1;var S=E.indexOf("/")===-1?f.lookup(E):E;if(!S)return!1;if(S.indexOf("charset")===-1){var O=f.charset(S);O&&(S+="; charset="+O.toLowerCase())}return S}function v(E){if(!E||typeof E!="string")return!1;var S=i.exec(E),O=S&&f.extensions[S[1].toLowerCase()];return!O||!O.length?!1:O[0]}function _(E){if(!E||typeof E!="string")return!1;var S=a("x."+E).toLowerCase().substr(1);return S&&f.types[S]||!1}function g(E,S){var O=["nginx","apache",void 0,"iana"];Object.keys(t).forEach(function(u){var o=t[u],s=o.extensions;if(!(!s||!s.length)){E[u]=s;for(var w=0;w<s.length;w++){var P=s[w];if(S[P]){var C=O.indexOf(t[S[P]].source),x=O.indexOf(o.source);if(S[P]!=="application/octet-stream"&&(C>x||C===x&&S[P].substr(0,12)==="application/"))continue}S[P]=u}}})}},9613:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"}},1942:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"}},55024:()=>{"use strict";var K={search:"frontend-components-ChooseGeneratedImageModal-module__search--tJyFb",presetRow:"frontend-components-ChooseGeneratedImageModal-module__presetRow--ZK6XF",presetRowContainer:"frontend-components-ChooseGeneratedImageModal-module__presetRowContainer--Fsbwl",fade:"frontend-components-ChooseGeneratedImageModal-module__fade--HcDD9",preset:"frontend-components-ChooseGeneratedImageModal-module__preset--OcOiy",selected:"frontend-components-ChooseGeneratedImageModal-module__selected--NQfCq",presetImage:"frontend-components-ChooseGeneratedImageModal-module__presetImage--F7_Gs",unselected:"frontend-components-ChooseGeneratedImageModal-module__unselected--spmKj",presetName:"frontend-components-ChooseGeneratedImageModal-module__presetName--ltG7s",modalBody:"frontend-components-ChooseGeneratedImageModal-module__modalBody--uSmVu"}},96656:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={root:"frontend-components-PressKitImage-module__root--ERwr7",sharePage:"frontend-components-PressKitImage-module__sharePage--vXr1v",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",image:"frontend-components-PressKitImage-module__image--MPbfI",download:"frontend-components-PressKitImage-module__download--qS9sv",inline:"frontend-components-PressKitImage-module__inline--zFs8S",secondaryBorder:"frontend-components-PressKitImage-module__secondaryBorder--gmc0v",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L"}},61864:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},46890:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"}},78137:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={customizeAssetButton:"frontend-components-ShareAssetButtons-module__customizeAssetButton--Z1M6A",aspectRatioButton:"frontend-components-ShareAssetButtons-module__aspectRatioButton--HCQZ2",selected:"frontend-components-ShareAssetButtons-module__selected--UfFTT",themeButton:"frontend-components-ShareAssetButtons-module__themeButton--TOYVN",imageBg:"frontend-components-ShareAssetButtons-module__imageBg--lPKv3",inner:"frontend-components-ShareAssetButtons-module__inner--uSJc8"}},39232:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={digestPostEmbed:"frontend-components-document_body-digest_post-index-module__digestPostEmbed--sMA_c",menu:"frontend-components-document_body-digest_post-index-module__menu--NYCdz",caption:"frontend-components-document_body-digest_post-index-module__caption--WOwgk",captionEditor:"frontend-components-document_body-digest_post-index-module__captionEditor--Bjh6s",smSquare:"frontend-components-document_body-digest_post-index-module__smSquare--UVy3Q",mdSquare:"frontend-components-document_body-digest_post-index-module__mdSquare--Vjq_V",fullWidth:"frontend-components-document_body-digest_post-index-module__fullWidth--IqMXj",inheritColor:"frontend-components-document_body-digest_post-index-module__inheritColor--nZC_y",link:"frontend-components-document_body-digest_post-index-module__link--_wMsT",disableLink:"frontend-components-document_body-digest_post-index-module__disableLink--wRVkl"}},89873:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",inlineCaptionEditor:"frontend-components-document_body-image3-Image3-module__inlineCaptionEditor--vOSDN",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",hasCaption:"frontend-components-document_body-image3-Image3-module__hasCaption--Osk42",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz"}},19206:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","position-absolute":"frontend-pencraft-Box-module__position-absolute--CHoAs","inset-0":"frontend-pencraft-Box-module__inset-0--fNqpm","cursor-pointer":"frontend-pencraft-Box-module__cursor-pointer--pPhQZ","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-accent-themed":"frontend-pencraft-Box-module__border-accent-themed--wXyvv","border-top-accent-themed":"frontend-pencraft-Box-module__border-top-accent-themed--TV2H6","border-bottom-accent-themed":"frontend-pencraft-Box-module__border-bottom-accent-themed--o3hw6","border-left-accent-themed":"frontend-pencraft-Box-module__border-left-accent-themed--Zmywv","border-right-accent-themed":"frontend-pencraft-Box-module__border-right-accent-themed--ftXka","border-y-accent-themed":"frontend-pencraft-Box-module__border-y-accent-themed--XSy61","border-detail-dashed-themed":"frontend-pencraft-Box-module__border-detail-dashed-themed--oKBR4","border-top-detail-dashed-themed":"frontend-pencraft-Box-module__border-top-detail-dashed-themed--NPzSp","border-bottom-detail-dashed-themed":"frontend-pencraft-Box-module__border-bottom-detail-dashed-themed--n5yK3","border-left-detail-dashed-themed":"frontend-pencraft-Box-module__border-left-detail-dashed-themed--vhb5U","border-right-detail-dashed-themed":"frontend-pencraft-Box-module__border-right-detail-dashed-themed--DD1Ek","border-y-detail-dashed-themed":"frontend-pencraft-Box-module__border-y-detail-dashed-themed--cB5rf","border-detail-dashed":"frontend-pencraft-Box-module__border-detail-dashed--A7IFA","border-top-detail-dashed":"frontend-pencraft-Box-module__border-top-detail-dashed--O0bJ0","border-bottom-detail-dashed":"frontend-pencraft-Box-module__border-bottom-detail-dashed--iGmUH","border-left-detail-dashed":"frontend-pencraft-Box-module__border-left-detail-dashed--RRBPQ","border-right-detail-dashed":"frontend-pencraft-Box-module__border-right-detail-dashed--VlIJH","border-y-detail-dashed":"frontend-pencraft-Box-module__border-y-detail-dashed--CMeLF","border-radius-small":"frontend-pencraft-Box-module__border-radius-small--iH2PK","border-radius-medium":"frontend-pencraft-Box-module__border-radius-medium--xi5Gs","border-radius-large":"frontend-pencraft-Box-module__border-radius-large--UK0kl","divider-detail":"frontend-pencraft-Box-module__divider-detail--PNqwC","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7","bg-glass-inverted-thick":"frontend-pencraft-Box-module__bg-glass-inverted-thick--NJerh",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflow-hidden":"frontend-pencraft-Box-module__overflow-hidden--aAMWF","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},4924:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp",hiddenInput:"frontend-pencraft-Button-module__hiddenInput--IoYdR"}},1396:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"}},84804:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"}},28614:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-pub-accent-inverse":"frontend-pencraft-Text-module__color-pub-accent-inverse--v7Zhh","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},43992:()=>{"use strict";var K={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--vSo7y",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--TGWIO",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--SgFBJ",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--vTh0w",selected:"frontend-reader2-ChatPage-module__selected--qTKem",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--wzRt6",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--CNIMt",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--_d42t",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--mgmc1",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--UDOLY",inputBox:"frontend-reader2-ChatPage-module__inputBox--PSYZ5",modalContext:"frontend-reader2-ChatPage-module__modalContext--PpHDJ",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--ieJk5",invisible:"frontend-reader2-ChatPage-module__invisible--CAUpR",textInput:"frontend-reader2-ChatPage-module__textInput--G9KKe",latestButton:"frontend-reader2-ChatPage-module__latestButton--zG35Y",submitButton:"frontend-reader2-ChatPage-module__submitButton--G9Oqa",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--FBBiq",roundedFooterPlaceholder:"frontend-reader2-ChatPage-module__roundedFooterPlaceholder--T3lK7",addImage:"frontend-reader2-ChatPage-module__addImage--zUuSW",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--CcUzS",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--_zuKv",imageBox:"frontend-reader2-ChatPage-module__imageBox--GmsiK",image:"frontend-reader2-ChatPage-module__image--fF4sS",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--yFMKJ",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--MAU9f",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--jcdQX",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--ZMWSC",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--jficQ",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--EVLZC",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--Q0iQy",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--UAgpV",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--tg8dR",paywall:"frontend-reader2-ChatPage-module__paywall--eejvK",footer:"frontend-reader2-ChatPage-module__footer--F2GfP",disabled:"frontend-reader2-ChatPage-module__disabled--UZZTE",header:"frontend-reader2-ChatPage-module__header--JYlUY",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--__z0U"}},28967:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",feedPad:"frontend-reader2-FeedPage2-module__feedPad--Kgu2r",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",desaturate:"frontend-reader2-FeedPage2-module__desaturate--nMKB1",unhideButton:"frontend-reader2-FeedPage2-module__unhideButton--lwW4T",viewHiddenRepliesButton:"frontend-reader2-FeedPage2-module__viewHiddenRepliesButton--Ids4f",hiddenRepliesSettingsButton:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButton--gT41H",hiddenRepliesSettingsButtonIcon:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButtonIcon--tfbag"}},7980:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq"}},95042:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},33291:()=>{"use strict";var K={}},42441:(K,f,e)=>{var t;(function(a,i,c){if(!a)return;for(var p={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,E=1;E<20;++E)p[111+E]="f"+E;for(E=0;E<=9;++E)p[E+96]=E.toString();function S(T,R,F){if(T.addEventListener){T.addEventListener(R,F,!1);return}T.attachEvent("on"+R,F)}function O(T){if(T.type=="keypress"){var R=String.fromCharCode(T.which);return T.shiftKey||(R=R.toLowerCase()),R}return p[T.which]?p[T.which]:l[T.which]?l[T.which]:String.fromCharCode(T.which).toLowerCase()}function A(T,R){return T.sort().join(",")===R.sort().join(",")}function u(T){var R=[];return T.shiftKey&&R.push("shift"),T.altKey&&R.push("alt"),T.ctrlKey&&R.push("ctrl"),T.metaKey&&R.push("meta"),R}function o(T){if(T.preventDefault){T.preventDefault();return}T.returnValue=!1}function s(T){if(T.stopPropagation){T.stopPropagation();return}T.cancelBubble=!0}function w(T){return T=="shift"||T=="ctrl"||T=="alt"||T=="meta"}function P(){if(!g){g={};for(var T in p)T>95&&T<112||p.hasOwnProperty(T)&&(g[p[T]]=T)}return g}function C(T,R,F){return F||(F=P()[T]?"keydown":"keypress"),F=="keypress"&&R.length&&(F="keydown"),F}function x(T){return T==="+"?["+"]:(T=T.replace(/\+{2}/g,"+plus"),T.split("+"))}function D(T,R){var F,N,U,V=[];for(F=x(T),U=0;U<F.length;++U)N=F[U],_[N]&&(N=_[N]),R&&R!="keypress"&&v[N]&&(N=v[N],V.push("shift")),w(N)&&V.push(N);return R=C(N,V,R),{key:N,modifiers:V,action:R}}function y(T,R){return T===null||T===i?!1:T===R?!0:y(T.parentNode,R)}function M(T){var R=this;if(T=T||i,!(R instanceof M))return new M(T);R.target=T,R._callbacks={},R._directMap={};var F={},N,U=!1,V=!1,W=!1;function L($){$=$||{};var J=!1,j;for(j in F){if($[j]){J=!0;continue}F[j]=0}J||(W=!1)}function k($,J,j,Z,ne,ie){var oe,re,ae=[],se=j.type;if(!R._callbacks[$])return[];for(se=="keyup"&&w($)&&(J=[$]),oe=0;oe<R._callbacks[$].length;++oe)if(re=R._callbacks[$][oe],!(!Z&&re.seq&&F[re.seq]!=re.level)&&se==re.action&&(se=="keypress"&&!j.metaKey&&!j.ctrlKey||A(J,re.modifiers))){var fe=!Z&&re.combo==ne,le=Z&&re.seq==Z&&re.level==ie;(fe||le)&&R._callbacks[$].splice(oe,1),ae.push(re)}return ae}function H($,J,j,Z){R.stopCallback(J,J.target||J.srcElement,j,Z)||$(J,j)===!1&&(o(J),s(J))}R._handleKey=function($,J,j){var Z=k($,J,j),ne,ie={},oe=0,re=!1;for(ne=0;ne<Z.length;++ne)Z[ne].seq&&(oe=Math.max(oe,Z[ne].level));for(ne=0;ne<Z.length;++ne){if(Z[ne].seq){if(Z[ne].level!=oe)continue;re=!0,ie[Z[ne].seq]=1,H(Z[ne].callback,j,Z[ne].combo,Z[ne].seq);continue}re||H(Z[ne].callback,j,Z[ne].combo)}var ae=j.type=="keypress"&&V;j.type==W&&!w($)&&!ae&&L(ie),V=re&&j.type=="keydown"};function G($){typeof $.which!="number"&&($.which=$.keyCode);var J=O($);if(J){if($.type=="keyup"&&U===J){U=!1;return}R.handleKey(J,u($),$)}}function q(){clearTimeout(N),N=setTimeout(L,1e3)}function z($,J,j,Z){F[$]=0;function ne(se){return function(){W=se,++F[$],q()}}function ie(se){H(j,se,$),Z!=="keyup"&&(U=O(se)),setTimeout(L,10)}for(var oe=0;oe<J.length;++oe){var re=oe+1===J.length,ae=re?ie:ne(Z||D(J[oe+1]).action);ee(J[oe],ae,Z,$,oe)}}function ee($,J,j,Z,ne){R._directMap[$+":"+j]=J,$=$.replace(/\s+/g," ");var ie=$.split(" "),oe;if(ie.length>1){z($,ie,J,j);return}oe=D($,j),R._callbacks[oe.key]=R._callbacks[oe.key]||[],k(oe.key,oe.modifiers,{type:oe.action},Z,$,ne),R._callbacks[oe.key][Z?"unshift":"push"]({callback:J,modifiers:oe.modifiers,action:oe.action,seq:Z,level:ne,combo:$})}R._bindMultiple=function($,J,j){for(var Z=0;Z<$.length;++Z)ee($[Z],J,j)},S(T,"keypress",G),S(T,"keydown",G),S(T,"keyup",G)}M.prototype.bind=function(T,R,F){var N=this;return T=T instanceof Array?T:[T],N._bindMultiple.call(N,T,R,F),N},M.prototype.unbind=function(T,R){var F=this;return F.bind.call(F,T,function(){},R)},M.prototype.trigger=function(T,R){var F=this;return F._directMap[T+":"+R]&&F._directMap[T+":"+R]({},T),F},M.prototype.reset=function(){var T=this;return T._callbacks={},T._directMap={},T},M.prototype.stopCallback=function(T,R){var F=this;return(" "+R.className+" ").indexOf(" mousetrap ")>-1||y(R,F.target)?!1:R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},M.prototype.handleKey=function(){var T=this;return T._handleKey.apply(T,arguments)},M.addKeycodes=function(T){for(var R in T)T.hasOwnProperty(R)&&(p[R]=T[R]);g=null},M.init=function(){var T=M(i);for(var R in T)R.charAt(0)!=="_"&&(M[R]=function(F){return function(){return T[F].apply(T,arguments)}}(R))},M.init(),a.Mousetrap=M,K.exports&&(K.exports=M),t=function(){return M}.call(f,e,f,K),t!==c&&(K.exports=t)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},57824:K=>{var f=1e3,e=f*60,t=e*60,a=t*24,i=a*7,c=a*365.25;K.exports=function(g,E){E=E||{};var S=typeof g;if(S==="string"&&g.length>0)return p(g);if(S==="number"&&isFinite(g))return E.long?v(g):l(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function p(g){if(g=String(g),!(g.length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(E){var S=parseFloat(E[1]),O=(E[2]||"ms").toLowerCase();switch(O){case"years":case"year":case"yrs":case"yr":case"y":return S*c;case"weeks":case"week":case"w":return S*i;case"days":case"day":case"d":return S*a;case"hours":case"hour":case"hrs":case"hr":case"h":return S*t;case"minutes":case"minute":case"mins":case"min":case"m":return S*e;case"seconds":case"second":case"secs":case"sec":case"s":return S*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function l(g){var E=Math.abs(g);return E>=a?Math.round(g/a)+"d":E>=t?Math.round(g/t)+"h":E>=e?Math.round(g/e)+"m":E>=f?Math.round(g/f)+"s":g+"ms"}function v(g){var E=Math.abs(g);return E>=a?_(g,E,a,"day"):E>=t?_(g,E,t,"hour"):E>=e?_(g,E,e,"minute"):E>=f?_(g,E,f,"second"):g+" ms"}function _(g,E,S,O){var A=E>=S*1.5;return Math.round(g/S)+" "+O+(A?"s":"")}},54125:K=>{/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var f,e;f=this,e=function(){return function(){var t={80:function(c,p,l){c.exports=l(728).default},728:function(c,p,l){"use strict";l.d(p,{default:function(){return zr}});var v=l(48),_=l.n(v),g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(yt){var ft=16*Math.random()|0;return(yt==="x"?ft:3&ft|8).toString(16)})},E=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},S=function(yt){return yt&&yt.nodeName!==void 0?(yt.muxId||(yt.muxId=yt.id||E()),yt.muxId):yt},O=function(yt){var ft;yt&&yt.nodeName!==void 0?yt=S(ft=yt):ft=document.querySelector(yt);var vt=ft&&ft.nodeName?ft.nodeName.toLowerCase():"";return[ft,yt,vt]},A=l(640),u=l.n(A),o=u().methodFactory;u().methodFactory=function(yt,ft,vt){var kt=o(yt,ft,vt);return function(){for(var Qt=["[mux]"],Cn=0;Cn<arguments.length;Cn++)Qt.push(arguments[Cn]);kt.apply(void 0,Qt)}},u().setLevel(u().getLevel());var s=u();function w(){return(_().doNotTrack||_().navigator&&_().navigator.doNotTrack)==="1"}var P={now:function(){var yt=_().performance,ft=yt&&yt.timing,vt=ft&&ft.navigationStart,kt=typeof vt=="number"&&typeof yt.now=="function"?vt+yt.now():Date.now();return Math.round(kt)}},C=function(yt){return x(yt)[0]},x=function(yt){if(typeof yt!="string"||yt==="")return["localhost"];var ft,vt=(yt.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return vt&&(ft=(vt.match(/[^\.]+\.[^\.]+$/)||[])[0]),[vt,ft]},D={exists:function(){var yt=_().performance;return(yt&&yt.timing)!==void 0},domContentLoadedEventEnd:function(){var yt=_().performance,ft=yt&&yt.timing;return ft&&ft.domContentLoadedEventEnd},navigationStart:function(){var yt=_().performance,ft=yt&&yt.timing;return ft&&ft.navigationStart}};function y(yt,ft,vt){vt=vt===void 0?1:vt,yt[ft]=yt[ft]||0,yt[ft]+=vt}var M=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],T=["x-cdn","content-type"].concat(M);function R(yt){var ft={};return(yt=yt||"").trim().split(/[\r\n]+/).forEach(function(vt){if(vt){var kt=vt.split(": "),Qt=kt.shift();Qt&&(T.indexOf(Qt.toLowerCase())>=0||Qt.toLowerCase().indexOf("x-litix-")===0)&&(ft[Qt]=kt.join(": "))}}),ft}function F(yt){if(yt){var ft=M.find(function(vt){return yt[vt]!==void 0});return ft?yt[ft]:void 0}}var N=function(yt){var ft={};for(var vt in yt){var kt=yt[vt];kt["DATA-ID"].search("io.litix.data.")!==-1&&(ft[kt["DATA-ID"].replace("io.litix.data.","")]=kt.VALUE)}return ft};function U(yt,ft){var vt=Object.keys(yt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(yt);ft&&(kt=kt.filter(function(Qt){return Object.getOwnPropertyDescriptor(yt,Qt).enumerable})),vt.push.apply(vt,kt)}return vt}function V(yt){for(var ft=1;ft<arguments.length;ft++){var vt=arguments[ft]!=null?arguments[ft]:{};ft%2?U(Object(vt),!0).forEach(function(kt){W(yt,kt,vt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(vt)):U(Object(vt)).forEach(function(kt){Object.defineProperty(yt,kt,Object.getOwnPropertyDescriptor(vt,kt))})}return yt}function W(yt,ft,vt){return ft in yt?Object.defineProperty(yt,ft,{value:vt,enumerable:!0,configurable:!0,writable:!0}):yt[ft]=vt,yt}var L=function(yt){if(!yt)return{};var ft=D.navigationStart(),vt=yt.loading,kt=vt?vt.start:yt.trequest,Qt=vt?vt.first:yt.tfirst,Cn=vt?vt.end:yt.tload;return{bytesLoaded:yt.total,requestStart:Math.round(ft+kt),responseStart:Math.round(ft+Qt),responseEnd:Math.round(ft+Cn)}},k=function(yt){if(yt&&typeof yt.getAllResponseHeaders=="function")return R(yt.getAllResponseHeaders())};function H(yt,ft){var vt=Object.keys(yt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(yt);ft&&(kt=kt.filter(function(Qt){return Object.getOwnPropertyDescriptor(yt,Qt).enumerable})),vt.push.apply(vt,kt)}return vt}function G(yt){for(var ft=1;ft<arguments.length;ft++){var vt=arguments[ft]!=null?arguments[ft]:{};ft%2?H(Object(vt),!0).forEach(function(kt){q(yt,kt,vt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(vt)):H(Object(vt)).forEach(function(kt){Object.defineProperty(yt,kt,Object.getOwnPropertyDescriptor(vt,kt))})}return yt}function q(yt,ft,vt){return ft in yt?Object.defineProperty(yt,ft,{value:vt,enumerable:!0,configurable:!0,writable:!0}):yt[ft]=vt,yt}var z=function(yt,ft){if(!yt||typeof yt.getRequests!="function")return{};var vt=yt.getRequests({state:"executed"});if(vt.length===0)return{};var kt,Qt=vt[vt.length-1],Cn=C(Qt.url),En=Qt.url,Kn=Qt.bytesLoaded,or=new Date(Qt.requestStartDate).getTime(),Yn=new Date(Qt.firstByteDate).getTime(),Er=new Date(Qt.requestEndDate).getTime(),eo=isNaN(Qt.duration)?0:Qt.duration,Zr=typeof ft.getMetricsFor=="function"?ft.getMetricsFor(Qt.mediaType).HttpList:ft.getDashMetrics().getHttpRequests(Qt.mediaType);return Zr.length>0&&(kt=R(Zr[Zr.length-1]._responseHeaders||"")),{requestStart:or,requestResponseStart:Yn,requestResponseEnd:Er,requestBytesLoaded:Kn,requestResponseHeaders:kt,requestMediaDuration:eo,requestHostname:Cn,requestUrl:En,requestId:kt?F(kt):void 0}},ee=function(yt,ft){var vt=ft.getQualityFor(yt),kt=ft.getCurrentTrackFor(yt).bitrateList;return kt?{currentLevel:vt,renditionWidth:kt[vt].width||null,renditionHeight:kt[vt].height||null,renditionBitrate:kt[vt].bandwidth}:{}},$=function(yt){var ft;return(ft=yt.match(/.*codecs\*?="(.*)"/))===null||ft===void 0?void 0:ft[1]};function J(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var j=0,Z=function(){function yt(){(function(Qt,Cn){if(!(Qt instanceof Cn))throw new TypeError("Cannot call a class as a function")})(this,yt)}var ft,vt,kt;return ft=yt,vt=[{key:"on",value:function(Qt,Cn,En){return Cn._eventEmitterGuid=Cn._eventEmitterGuid||++j,this._listeners=this._listeners||{},this._listeners[Qt]=this._listeners[Qt]||[],En&&(Cn=Cn.bind(En)),this._listeners[Qt].push(Cn),Cn}},{key:"off",value:function(Qt,Cn){var En=this._listeners&&this._listeners[Qt];En&&En.forEach(function(Kn,or){Kn._eventEmitterGuid===Cn._eventEmitterGuid&&En.splice(or,1)})}},{key:"one",value:function(Qt,Cn,En){var Kn=this;Cn._eventEmitterGuid=Cn._eventEmitterGuid||++j;var or=function Yn(){Kn.off(Qt,Yn),Cn.apply(En||this,arguments)};or._eventEmitterGuid=Cn._eventEmitterGuid,this.on(Qt,or)}},{key:"emit",value:function(Qt,Cn){var En=this;if(this._listeners){Cn=Cn||{};var Kn=this._listeners["before*"]||[],or=this._listeners[Qt]||[],Yn=this._listeners["after"+Qt]||[],Er=function(eo,Zr){(eo=eo.slice()).forEach(function(co){co.call(En,{type:Qt},Zr)})};Er(Kn,Cn),Er(or,Cn),Er(Yn,Cn)}}}],vt&&J(ft.prototype,vt),kt&&J(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}(),ne=Z;function ie(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var oe=function(){function yt(Qt){var Cn=this;(function(En,Kn){if(!(En instanceof Kn))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,Qt.on("playing",function(){Cn._playheadShouldBeProgressing=!0}),Qt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),Qt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),Qt.on("seeked",function(){Qt.data.player_is_paused?Cn._stopPlaybackHeartbeatInterval():Cn._startPlaybackHeartbeatInterval()}),Qt.on("timeupdate",function(){Cn._playbackHeartbeatInterval!==null&&Qt.emit("playbackheartbeat")}),Qt.on("devicesleep",function(En,Kn){Cn._playbackHeartbeatInterval!==null&&(_().clearInterval(Cn._playbackHeartbeatInterval),Qt.emit("playbackheartbeatend",{viewer_time:Kn.viewer_time}),Cn._playbackHeartbeatInterval=null)})}var ft,vt,kt;return ft=yt,(vt=[{key:"_startPlaybackHeartbeatInterval",value:function(){var Qt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=_().setInterval(function(){Qt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(_().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&ie(ft.prototype,vt),kt&&ie(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function re(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function ae(yt,ft,vt){return ft&&re(yt.prototype,ft),vt&&re(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var se=ae(function yt(ft){var vt=this;(function(kt,Qt){if(!(kt instanceof Qt))throw new TypeError("Cannot call a class as a function")})(this,yt),ft.on("viewinit",function(){vt.viewErrored=!1}),ft.on("error",function(kt,Qt){try{var Cn=ft.errorTranslator({player_error_code:Qt.player_error_code,player_error_message:Qt.player_error_message,player_error_context:Qt.player_error_context});Cn?(ft.data.player_error_code=Cn.player_error_code||Qt.player_error_code,ft.data.player_error_message=Cn.player_error_message||Qt.player_error_message,ft.data.player_error_context=Cn.player_error_context||Qt.player_error_context,vt.viewErrored=!0):(delete ft.data.player_error_code,delete ft.data.player_error_message,delete ft.data.player_error_context)}catch(En){ft.mux.log.warn("Exception in error translator callback.",En),vt.viewErrored=!0}})});function fe(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var le=function(){function yt(Qt){(function(Cn,En){if(!(Cn instanceof En))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt,this._watchTimeTrackerLastCheckedTime=null,Qt.on("playbackheartbeat",this._updateWatchTime.bind(this)),Qt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var ft,vt,kt;return ft=yt,(vt=[{key:"_updateWatchTime",value:function(Qt,Cn){var En=Cn.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=En),y(this.pm.data,"view_watch_time",En-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=En}},{key:"_clearWatchTimeState",value:function(Qt,Cn){this._updateWatchTime(Qt,Cn),this._watchTimeTrackerLastCheckedTime=null}}])&&fe(ft.prototype,vt),kt&&fe(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function Ae(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var De=function(){function yt(Qt){var Cn=this;(function(En,Kn){if(!(En instanceof Kn))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=P.now(),this._isAdPlaying=!1,Qt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),Qt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),Qt.on("seeking",this._clearPlaybackTimeState.bind(this)),Qt.on("adplaying",function(){Cn._isAdPlaying=!0}),Qt.on("adended",function(){Cn._isAdPlaying=!1}),Qt.on("adpause",function(){Cn._isAdPlaying=!1}),Qt.on("adbreakstart",function(){Cn._isAdPlaying=!1}),Qt.on("adbreakend",function(){Cn._isAdPlaying=!1}),Qt.on("adplay",function(){Cn._isAdPlaying=!1})}var ft,vt,kt;return ft=yt,(vt=[{key:"_updatePlaybackTime",value:function(){var Qt=this.pm.data.player_playhead_time,Cn=P.now(),En=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&Qt>this._playbackTimeTrackerLastPlayheadPosition?En=Qt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(En=Cn-this._lastTime),En>0&&En<=1e3&&y(this.pm.data,"view_content_playback_time",En),this._playbackTimeTrackerLastPlayheadPosition=Qt,this._lastTime=Cn}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&Ae(ft.prototype,vt),kt&&Ae(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function je(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var Je=function(){function yt(Qt){(function(En,Kn){if(!(En instanceof Kn))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt;var Cn=this._updatePlayheadTime.bind(this);Qt.on("playbackheartbeat",Cn),Qt.on("playbackheartbeatend",Cn),Qt.on("timeupdate",Cn),Qt.on("destroy",function(){Qt.off("timeupdate",Cn)})}var ft,vt,kt;return ft=yt,(vt=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(Qt,Cn){var En=this,Kn=function(){En.pm.currentFragmentPDT&&En.pm.currentFragmentStart&&(En.pm.data.player_program_time=En.pm.currentFragmentPDT+En.pm.data.player_playhead_time-En.pm.currentFragmentStart)};if(Cn&&Cn.player_playhead_time)this.pm.data.player_playhead_time=Cn.player_playhead_time,Kn(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var or=this.pm.getPlayheadTime();or!==void 0&&(this.pm.data.player_playhead_time=or,Kn(),this._updateMaxPlayheadPosition())}}}])&&je(ft.prototype,vt),kt&&je(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function Be(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function st(yt,ft,vt){return ft&&Be(yt.prototype,ft),vt&&Be(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var ht=3e5,gt=st(function yt(ft){if(function(Cn,En){if(!(Cn instanceof En))throw new TypeError("Cannot call a class as a function")}(this,yt),!ft.disableRebufferTracking){var vt,kt=function(Cn,En){Qt(En),vt=void 0},Qt=function(Cn){if(vt){var En=Cn.viewer_time-vt;y(ft.data,"view_rebuffer_duration",En),vt=Cn.viewer_time,ft.data.view_rebuffer_duration>ht&&(ft.emit("viewend"),ft.send("viewend"),ft.mux.log.warn("Ending view after rebuffering for longer than ".concat(ht,"ms, future events will be ignored unless a programchange or videochange occurs.")))}ft.data.view_watch_time>=0&&ft.data.view_rebuffer_count>0&&(ft.data.view_rebuffer_frequency=ft.data.view_rebuffer_count/ft.data.view_watch_time,ft.data.view_rebuffer_percentage=ft.data.view_rebuffer_duration/ft.data.view_watch_time)};ft.on("playbackheartbeat",function(Cn,En){return Qt(En)}),ft.on("rebufferstart",function(Cn,En){vt||(y(ft.data,"view_rebuffer_count",1),vt=En.viewer_time,ft.one("rebufferend",kt))}),ft.on("viewinit",function(){vt=void 0,ft.off("rebufferend",kt)})}});function Xe(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var Re=function(){function yt(Qt){var Cn=this;(function(En,Kn){if(!(En instanceof Kn))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt,Qt.disableRebufferTracking||Qt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,Qt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),Qt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),Qt.on("seeking",function(){Cn._cleanupRebufferTracker(null,{viewer_time:P.now()})}))}var ft,vt,kt;return ft=yt,vt=[{key:"_checkIfRebuffering",value:function(Qt,Cn){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(Qt,Cn);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var En=Cn.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&En>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=Cn.viewer_time}else this._cleanupRebufferTracker(Qt,Cn,!0);else this._prepareRebufferTrackerState(Cn.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(Qt){this._lastCheckedTime=Qt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=Qt}},{key:"_cleanupRebufferTracker",value:function(Qt,Cn){var En=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:Cn.viewer_time});else{if(this._lastCheckedTime===null)return;var Kn=this.pm.data.player_playhead_time-this._lastPlayheadTime,or=Cn.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&Kn>0&&or-Kn>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+or-Kn}))}En?this._prepareRebufferTrackerState(Cn.viewer_time):this._clearRebufferTrackerState()}}],vt&&Xe(ft.prototype,vt),kt&&Xe(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}(),Ne=Re;function ke(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var ot=function(){function yt(Qt){var Cn=this;(function(En,Kn){if(!(En instanceof Kn))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt,Qt.on("viewinit",function(){var En=Qt.data,Kn=En.view_id;if(!En.view_program_changed){var or=function(Yn,Er){var eo=Er.viewer_time;Yn.type==="playing"&&Qt.data.view_time_to_first_frame===void 0?Cn.calculateTimeToFirstFrame(eo||P.now(),Kn):Yn.type!=="adplaying"||Qt.data.view_time_to_first_frame!==void 0&&!Cn._inPrerollPosition()||Cn.calculateTimeToFirstFrame(eo||P.now(),Kn)};Qt.one("playing",or),Qt.one("adplaying",or),Qt.one("viewend",function(){Qt.off("playing",or),Qt.off("adplaying",or)})}})}var ft,vt,kt;return ft=yt,(vt=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(Qt,Cn){Cn===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:Qt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&ke(ft.prototype,vt),kt&&ke(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function Dt(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function ln(yt,ft,vt){return ft&&Dt(yt.prototype,ft),vt&&Dt(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var ct=ln(function yt(ft){var vt=this;(function(kt,Qt){if(!(kt instanceof Qt))throw new TypeError("Cannot call a class as a function")})(this,yt),ft.on("viewinit",function(){vt._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(kt){ft.on(kt,function(){if(vt._lastPlayheadPosition>=0&&ft.data.player_playhead_time>=0&&vt._lastPlayerWidth>=0&&vt._lastSourceWidth>0&&vt._lastPlayerHeight>=0&&vt._lastSourceHeight>0){var Qt=ft.data.player_playhead_time-vt._lastPlayheadPosition;if(Qt<0)return void(vt._lastPlayheadPosition=-1);var Cn=Math.min(vt._lastPlayerWidth/vt._lastSourceWidth,vt._lastPlayerHeight/vt._lastSourceHeight),En=Math.max(0,Cn-1),Kn=Math.max(0,1-Cn);ft.data.view_max_upscale_percentage=Math.max(ft.data.view_max_upscale_percentage||0,En),ft.data.view_max_downscale_percentage=Math.max(ft.data.view_max_downscale_percentage||0,Kn),y(ft.data,"view_total_content_playback_time",Qt),y(ft.data,"view_total_upscaling",En*Qt),y(ft.data,"view_total_downscaling",Kn*Qt)}vt._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(kt){ft.on(kt,function(){vt._lastPlayheadPosition=ft.data.player_playhead_time,vt._lastPlayerWidth=ft.data.player_width,vt._lastPlayerHeight=ft.data.player_height,vt._lastSourceWidth=ft.data.video_source_width,vt._lastSourceHeight=ft.data.video_source_height})})});function Oe(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function Se(yt,ft,vt){return ft&&Oe(yt.prototype,ft),vt&&Oe(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var Ze=Se(function yt(ft){var vt=this;(function(kt,Qt){if(!(kt instanceof Qt))throw new TypeError("Cannot call a class as a function")})(this,yt),this.isSeeking=!1,ft.on("seeking",function(kt,Qt){Object.assign(ft.data,Qt),vt._lastSeekingTime=P.now(),vt.isSeeking===!1&&(vt.isSeeking=!0,ft.send("seeking"))}),ft.on("seeked",function(){vt.isSeeking=!1;var kt=vt._lastSeekingTime||P.now(),Qt=P.now()-kt;y(ft.data,"view_seek_count",1),y(ft.data,"view_seek_duration",Qt);var Cn=ft.data.view_max_seek_time||0;ft.data.view_max_seek_time=Math.max(Cn,Qt)}),ft.on("viewend",function(){vt.isSeeking=!1})});function Fe(yt,ft){return function(vt){if(Array.isArray(vt))return vt}(yt)||function(vt,kt){var Qt=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Qt!=null){var Cn,En,Kn=[],or=!0,Yn=!1;try{for(Qt=Qt.call(vt);!(or=(Cn=Qt.next()).done)&&(Kn.push(Cn.value),!kt||Kn.length!==kt);or=!0);}catch(Er){Yn=!0,En=Er}finally{try{or||Qt.return==null||Qt.return()}finally{if(Yn)throw En}}return Kn}}(yt,ft)||function(vt,kt){if(vt){if(typeof vt=="string")return Ke(vt,kt);var Qt=Object.prototype.toString.call(vt).slice(8,-1);return Qt==="Object"&&vt.constructor&&(Qt=vt.constructor.name),Qt==="Map"||Qt==="Set"?Array.from(vt):Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt)?Ke(vt,kt):void 0}}(yt,ft)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ke(yt,ft){(ft==null||ft>yt.length)&&(ft=yt.length);for(var vt=0,kt=new Array(ft);vt<ft;vt++)kt[vt]=yt[vt];return kt}function et(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}var Qe=function(yt,ft){yt.push(ft),yt.sort(function(vt,kt){return vt.viewer_time-kt.viewer_time})},$e=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],Te=function(){function yt(Qt){var Cn=this;(function(Kn,or){if(!(Kn instanceof or))throw new TypeError("Cannot call a class as a function")})(this,yt),this.pm=Qt,Qt.on("viewinit",function(){Cn.isAdBreak=!1,Cn._currentAdRequestNumber=0,Cn._currentAdResponseNumber=0,Cn._adRequests=[],Cn._adResponses=[],Cn._adHasPlayed=!1,Cn._wouldBeNewAdPlay=!0,Cn._prerollPlayTime=void 0}),$e.forEach(function(Kn){return Qt.on(Kn,Cn._updateAdData.bind(Cn))});var En=function(){Cn.isAdBreak=!1};Qt.on("adbreakstart",function(){Cn.isAdBreak=!0}),Qt.on("play",En),Qt.on("playing",En),Qt.on("viewend",En),Qt.on("adrequest",function(Kn,or){or=Object.assign({ad_request_id:"generatedAdRequestId"+Cn._currentAdRequestNumber++},or),Qe(Cn._adRequests,or),y(Qt.data,"view_ad_request_count"),Cn.inPrerollPosition()&&(Qt.data.view_preroll_requested=!0,Cn._adHasPlayed||y(Qt.data,"view_preroll_request_count"))}),Qt.on("adresponse",function(Kn,or){or=Object.assign({ad_request_id:"generatedAdRequestId"+Cn._currentAdResponseNumber++},or),Qe(Cn._adResponses,or);var Yn=Cn.findAdRequest(or.ad_request_id);Yn&&y(Qt.data,"view_ad_request_time",Math.max(0,or.viewer_time-Yn.viewer_time))}),Qt.on("adplay",function(Kn,or){Cn._adHasPlayed=!0,Cn._wouldBeNewAdPlay&&(Cn._wouldBeNewAdPlay=!1,y(Qt.data,"view_ad_played_count")),Cn.inPrerollPosition()&&!Qt.data.view_preroll_played&&(Qt.data.view_preroll_played=!0,Cn._adRequests.length>0&&(Qt.data.view_preroll_request_time=Math.max(0,or.viewer_time-Cn._adRequests[0].viewer_time)),Qt.data.view_start&&(Qt.data.view_startup_preroll_request_time=Math.max(0,or.viewer_time-Qt.data.view_start)),Cn._prerollPlayTime=or.viewer_time)}),Qt.on("adplaying",function(Kn,or){Cn.inPrerollPosition()&&Qt.data.view_preroll_load_time===void 0&&Cn._prerollPlayTime!==void 0&&(Qt.data.view_preroll_load_time=or.viewer_time-Cn._prerollPlayTime,Qt.data.view_startup_preroll_load_time=or.viewer_time-Cn._prerollPlayTime)}),Qt.on("adended",function(){Cn._wouldBeNewAdPlay=!0}),Qt.on("aderror",function(){Cn._wouldBeNewAdPlay=!0})}var ft,vt,kt;return ft=yt,(vt=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(Qt){for(var Cn=0;Cn<this._adRequests.length;Cn++)if(this._adRequests[Cn].ad_request_id===Qt)return this._adRequests[Cn]}},{key:"_updateAdData",value:function(Qt,Cn){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&Cn.ad_tag_url){var En=Fe(x(Cn.ad_tag_url),2),Kn=En[0],or=En[1];this.pm.data.view_preroll_ad_tag_domain=or,this.pm.data.view_preroll_ad_tag_hostname=Kn}if(!this.pm.data.view_preroll_ad_asset_hostname&&Cn.ad_asset_url){var Yn=Fe(x(Cn.ad_asset_url),2),Er=Yn[0],eo=Yn[1];this.pm.data.view_preroll_ad_asset_domain=eo,this.pm.data.view_preroll_ad_asset_hostname=Er}}this.pm.data.ad_asset_url=Cn==null?void 0:Cn.ad_asset_url,this.pm.data.ad_tag_url=Cn==null?void 0:Cn.ad_tag_url,this.pm.data.ad_creative_id=Cn==null?void 0:Cn.ad_creative_id,this.pm.data.ad_id=Cn==null?void 0:Cn.ad_id,this.pm.data.ad_universal_id=Cn==null?void 0:Cn.ad_universal_id}}])&&et(ft.prototype,vt),kt&&et(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function te(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function ue(yt,ft,vt){return ft&&te(yt.prototype,ft),vt&&te(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var we=ue(function yt(ft){var vt,kt;(function(Kn,or){if(!(Kn instanceof or))throw new TypeError("Cannot call a class as a function")})(this,yt);var Qt=function(){ft.disableRebufferTracking||vt&&(y(ft.data,"view_waiting_rebuffer_duration",P.now()-vt),vt=!1,_().clearInterval(kt))},Cn=!1,En=function(){Cn=!1,Qt()};ft.on("waiting",function(){Cn&&(ft.disableRebufferTracking||(y(ft.data,"view_waiting_rebuffer_count",1),vt=P.now(),kt=_().setInterval(function(){if(vt){var Kn=P.now();y(ft.data,"view_waiting_rebuffer_duration",Kn-vt),vt=Kn}},250)))}),ft.on("playing",function(){Qt(),Cn=!0}),ft.on("pause",En),ft.on("seeking",En)});function me(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function Ee(yt,ft,vt){return ft&&me(yt.prototype,ft),vt&&me(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var he=Ee(function yt(ft){var vt=this;(function(Cn,En){if(!(Cn instanceof En))throw new TypeError("Cannot call a class as a function")})(this,yt);var kt=function(){vt.lastWallClockTime=P.now(),ft.on("before*",Qt)},Qt=function(Cn){var En=P.now(),Kn=vt.lastWallClockTime;vt.lastWallClockTime=En,En-Kn>3e4&&(ft.emit("devicesleep",{viewer_time:Kn}),Object.assign(ft.data,{viewer_time:Kn}),ft.send("devicesleep"),ft.emit("devicewake",{viewer_time:En}),Object.assign(ft.data,{viewer_time:En}),ft.send("devicewake"))};ft.one("playbackheartbeat",kt),ft.on("playbackheartbeatend",function(){ft.off("before*",Qt),ft.one("playbackheartbeat",kt)})}),xe=l(375),Ve=l(655),Pe=l.n(Ve),Ie="muxData",ze=function(){var yt;try{yt=xe.parse(Pe().get(Ie)||"")}catch(ft){yt={}}return yt},tt=function(yt){try{Pe().set(Ie,xe.stringify(yt),{expires:7300})}catch(ft){}},Le=function(){var yt=ze();return yt.mux_viewer_id=yt.mux_viewer_id||g(),yt.msn=yt.msn||Math.random(),tt(yt),{mux_viewer_id:yt.mux_viewer_id,mux_sample_number:yt.msn}};function It(yt,ft){var vt=ft.beaconCollectionDomain,kt=ft.beaconDomain;if(vt)return"https://"+vt;var Qt=kt||"litix.io";return(yt=yt||"inferred").match(/^[a-z0-9]+$/)?"https://"+yt+"."+Qt:"https://img.litix.io/a.gif"}var on=function(){var yt;switch(zt()){case"cellular":yt="cellular";break;case"ethernet":yt="wired";break;case"wifi":yt="wifi";break;case void 0:break;default:yt="other"}return yt},zt=function(){var yt=_().navigator,ft=yt&&(yt.connection||yt.mozConnection||yt.webkitConnection);return ft&&ft.type};on.getConnectionFromAPI=zt;var $t=on,Bt=Hn({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),xn=Hn({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Hn(yt){var ft={};for(var vt in yt)yt.hasOwnProperty(vt)&&(ft[yt[vt]]=vt);return ft}function ir(yt){var ft={},vt={};return Object.keys(yt).forEach(function(kt){var Qt=!1;if(yt.hasOwnProperty(kt)&&yt[kt]!==void 0){var Cn=kt.split("_"),En=Cn[0],Kn=Bt[En];Kn||(s.info("Data key word `"+Cn[0]+"` not expected in "+kt),Kn=En+"_"),Cn.splice(1).forEach(function(or){or==="url"&&(Qt=!0),xn[or]?Kn+=xn[or]:Number(or)&&Math.floor(Number(or))===Number(or)?Kn+=or:(s.info("Data key word `"+or+"` not expected in "+kt),Kn+="_"+or+"_")}),Qt?vt[Kn]=yt[kt]:ft[Kn]=yt[kt]}}),Object.assign(ft,vt)}var Vn={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},_t=["hb","requestcompleted","requestfailed","requestcanceled"],ut="https://img.litix.io",Ce=function(yt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=yt||ut,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Vn,ft)};Ce.prototype.queueEvent=function(yt,ft){var vt=Object.assign({},ft);return(this._eventQueue.length<=this._options.maxQueueLength||yt==="eventrateexceeded")&&(this._eventQueue.push(vt),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Ce.prototype.flushEvents=function(){var yt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];yt&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Ce.prototype.destroy=function(){var yt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,yt?this._clearBeaconQueue():this.flushEvents(),_().clearTimeout(this._sendTimeout)},Ce.prototype._clearBeaconQueue=function(){var yt=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,ft=this._eventQueue.slice(yt);yt>0&&Object.assign(ft[ft.length-1],ir({mux_view_message:"event queue truncated"}));var vt=this._createPayload(ft);We(this._beaconUrl,vt,!0,function(){})},Ce.prototype._sendBeaconQueue=function(){var yt=this;if(!this._postInFlight){var ft=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var vt=this._createPayload(ft),kt=P.now();We(this._beaconUrl,vt,!1,function(Qt,Cn){Cn?(yt._eventQueue=ft.concat(yt._eventQueue),yt._failureCount+=1,s.info("Error sending beacon: "+Cn)):yt._failureCount=0,yt._roundTripTime=P.now()-kt,yt._postInFlight=!1})}},Ce.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var yt=Math.pow(2,this._failureCount-1);return(1+(yt*=Math.random()))*this._options.baseTimeBetweenBeacons},Ce.prototype._startBeaconSending=function(){var yt=this;_().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=_().setTimeout(function(){yt._eventQueue.length&&yt._sendBeaconQueue(),yt._startBeaconSending()},this._getNextBeaconTime()))},Ce.prototype._createPayload=function(yt){var ft,vt,kt,Qt=this,Cn={transmission_timestamp:Math.round(P.now())};this._roundTripTime&&(Cn.rtt_ms=Math.round(this._roundTripTime));var En=function(){ft=JSON.stringify({metadata:Cn,events:vt||yt}),kt=ft.length/1024},Kn=function(){return kt<=Qt._options.maxPayloadKBSize};return En(),Kn()||(s.info("Payload size is too big ("+kt+" kb). Removing unnecessary events."),vt=yt.filter(function(or){return _t.indexOf(or.e)===-1}),En()),Kn()||(s.info("Payload size still too big ("+kt+" kb). Cropping fields.."),vt.forEach(function(or){for(var Yn in or){var Er=or[Yn];typeof Er=="string"&&Er.length>51200&&(or[Yn]=Er.substring(0,51200))}}),En()),ft};var be=function(yt){return yt.length<=57344},We=function(yt,ft,vt,kt){if(vt&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(yt,ft))kt();else if(_().fetch)_().fetch(yt,{method:"POST",body:ft,headers:{"Content-Type":"text/plain"},keepalive:be(ft)}).then(function(Cn){return kt(null,Cn.ok?null:"Error")}).catch(function(Cn){return kt(null,Cn)});else{if(_().XMLHttpRequest){var Qt=new(_()).XMLHttpRequest;return Qt.onreadystatechange=function(){if(Qt.readyState===4)return kt(null,Qt.status!==200?"error":void 0)},Qt.open("POST",yt),Qt.setRequestHeader("Content-Type","text/plain"),void Qt.send(ft)}kt()}},qe=Ce;function Et(yt,ft){return function(vt){if(Array.isArray(vt))return vt}(yt)||function(vt,kt){var Qt=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Qt!=null){var Cn,En,Kn=[],or=!0,Yn=!1;try{for(Qt=Qt.call(vt);!(or=(Cn=Qt.next()).done)&&(Kn.push(Cn.value),!kt||Kn.length!==kt);or=!0);}catch(Er){Yn=!0,En=Er}finally{try{or||Qt.return==null||Qt.return()}finally{if(Yn)throw En}}return Kn}}(yt,ft)||function(vt,kt){if(vt){if(typeof vt=="string")return en(vt,kt);var Qt=Object.prototype.toString.call(vt).slice(8,-1);return Qt==="Object"&&vt.constructor&&(Qt=vt.constructor.name),Qt==="Map"||Qt==="Set"?Array.from(vt):Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt)?en(vt,kt):void 0}}(yt,ft)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function en(yt,ft){(ft==null||ft>yt.length)&&(ft=yt.length);for(var vt=0,kt=new Array(ft);vt<ft;vt++)kt[vt]=yt[vt];return kt}function In(yt,ft){var vt=Object.keys(yt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(yt);ft&&(kt=kt.filter(function(Qt){return Object.getOwnPropertyDescriptor(yt,Qt).enumerable})),vt.push.apply(vt,kt)}return vt}function qn(yt){for(var ft=1;ft<arguments.length;ft++){var vt=arguments[ft]!=null?arguments[ft]:{};ft%2?In(Object(vt),!0).forEach(function(kt){Vr(yt,kt,vt[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(vt)):In(Object(vt)).forEach(function(kt){Object.defineProperty(yt,kt,Object.getOwnPropertyDescriptor(vt,kt))})}return yt}function cr(yt){return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},cr(yt)}function pr(yt,ft){if(!(yt instanceof ft))throw new TypeError("Cannot call a class as a function")}function wr(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function Vr(yt,ft,vt){return ft in yt?Object.defineProperty(yt,ft,{value:vt,enumerable:!0,configurable:!0,writable:!0}):yt[ft]=vt,yt}var On=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],pt=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],hn=["viewstart","error","ended","viewend"],Dn=function(){function yt(Qt,Cn){var En,Kn,or,Yn,Er,eo,Zr,co,it,Ye,lt,Ot,tn,an,bn,yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};pr(this,yt),Vr(this,"previousBeaconData",null),Vr(this,"lastEventTime",0),Vr(this,"rateLimited",!1),this.mux=Qt,this.envKey=Cn,this.options=yn,this.eventQueue=new qe(It(this.envKey,this.options)),this.sampleRate=(En=this.options.sampleRate)!==null&&En!==void 0?En:1,this.disableCookies=(Kn=this.options.disableCookies)!==null&&Kn!==void 0&&Kn,this.respectDoNotTrack=(or=this.options.respectDoNotTrack)!==null&&or!==void 0&&or,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(Yn=this.options.platform)===null||Yn===void 0?void 0:Yn.name,viewer_application_version:(Er=this.options.platform)===null||Er===void 0?void 0:Er.version,viewer_application_engine:(eo=this.options.platform)===null||eo===void 0?void 0:eo.layout,viewer_device_name:(Zr=this.options.platform)===null||Zr===void 0?void 0:Zr.product,viewer_device_category:"",viewer_device_manufacturer:(co=this.options.platform)===null||co===void 0?void 0:co.manufacturer,viewer_os_family:(it=this.options.platform)===null||it===void 0||(Ye=it.os)===null||Ye===void 0?void 0:Ye.family,viewer_os_architecture:(lt=this.options.platform)===null||lt===void 0||(Ot=lt.os)===null||Ot===void 0?void 0:Ot.architecture,viewer_os_version:(tn=this.options.platform)===null||tn===void 0||(an=tn.os)===null||an===void 0?void 0:an.version,viewer_connection_type:$t(),page_url:_()===null||_()===void 0||(bn=_().location)===null||bn===void 0?void 0:bn.href},this.viewerData=this.disableCookies?{}:Le()}var ft,vt,kt;return ft=yt,(vt=[{key:"send",value:function(Qt,Cn){var En;if(Qt&&Cn!=null&&Cn.view_id){if(this.respectDoNotTrack&&w())return s.info("Not sending `"+Qt+"` because Do Not Track is enabled");if(!Cn||cr(Cn)!=="object")return s.error("A data object was expected in send() but was not provided");var Kn,or,Yn=this.disableCookies?{}:(Kn=ze(),or=P.now(),Kn.session_start&&(Kn.sst=Kn.session_start,delete Kn.session_start),Kn.session_id&&(Kn.sid=Kn.session_id,delete Kn.session_id),Kn.session_expires&&(Kn.sex=Kn.session_expires,delete Kn.session_expires),(!Kn.sex||Kn.sex<or)&&(Kn.sid=g(),Kn.sst=or),Kn.sex=or+15e5,tt(Kn),{session_id:Kn.sid,session_start:Kn.sst,session_expires:Kn.sex}),Er=qn(qn(qn(qn(qn({},this.pageLevelData),Cn),Yn),this.viewerData),{},{event:Qt,env_key:this.envKey});Er.user_id&&(Er.viewer_user_id=Er.user_id,delete Er.user_id);var eo=((En=Er.mux_sample_number)!==null&&En!==void 0?En:0)>=this.sampleRate,Zr=ir(this._deduplicateBeaconData(Qt,Er));if(this.lastEventTime=this.mux.utils.now(),eo)return s.info("Not sending event due to sample rate restriction",Qt,Er,Zr);if(this.envKey||s.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",Qt,Er,Zr),!this.rateLimited){if(s.info("Sending event",Qt,Er,Zr),this.rateLimited=!this.eventQueue.queueEvent(Qt,Zr),this.mux.WINDOW_UNLOADING&&Qt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&Qt==="hb"?this.eventQueue.flushEvents(!0):hn.indexOf(Qt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return Er.event="eventrateexceeded",Zr=ir(Er),this.eventQueue.queueEvent(Er.event,Zr),s.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(Qt,Cn){var En=this,Kn={},or=Cn.view_id;if(or==="-1"||Qt==="viewstart"||Qt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)Kn=qn({},Cn),or&&(this.previousBeaconData=Kn),or&&Qt==="viewend"&&(this.previousBeaconData=null);else{var Yn=Qt.indexOf("request")===0;Object.entries(Cn).forEach(function(Er){var eo=Et(Er,2),Zr=eo[0],co=eo[1];En.previousBeaconData&&(co!==En.previousBeaconData[Zr]||On.indexOf(Zr)>-1||En.objectHasChanged(Yn,Zr,co,En.previousBeaconData[Zr])||En.eventRequiresKey(Qt,Zr))&&(Kn[Zr]=co,En.previousBeaconData[Zr]=co)})}return Kn}},{key:"objectHasChanged",value:function(Qt,Cn,En,Kn){return!(!Qt||Cn.indexOf("request_")!==0||Cn!=="request_response_headers"&&cr(En)==="object"&&cr(Kn)==="object"&&Object.keys(En||{}).length===Object.keys(Kn||{}).length)}},{key:"eventRequiresKey",value:function(Qt,Cn){return Qt==="renditionchange"&&Cn.indexOf("video_source_")===0||!(Cn.indexOf("ad_id")!==0||!pt.includes(Qt))}}])&&wr(ft.prototype,vt),kt&&wr(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),yt}();function Gn(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function Kt(yt,ft,vt){return ft&&Gn(yt.prototype,ft),vt&&Gn(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var wt=Kt(function yt(ft){(function(Yn,Er){if(!(Yn instanceof Er))throw new TypeError("Cannot call a class as a function")})(this,yt);var vt=0,kt=0,Qt=0,Cn=0,En=0,Kn=0,or=0;ft.on("requestcompleted",function(Yn,Er){var eo,Zr,co=Er.request_start,it=Er.request_response_start,Ye=Er.request_response_end,lt=Er.request_bytes_loaded;if(Cn++,it?(eo=it-(co!=null?co:0),Zr=(Ye!=null?Ye:0)-it):Zr=(Ye!=null?Ye:0)-(co!=null?co:0),Zr>0&&lt&&lt>0){var Ot=lt/Zr*8e3;En++,kt+=lt,Qt+=Zr,ft.data.view_min_request_throughput=Math.min(ft.data.view_min_request_throughput||1/0,Ot),ft.data.view_average_request_throughput=kt/Qt*8e3,ft.data.view_request_count=Cn,eo>0&&(vt+=eo,ft.data.view_max_request_latency=Math.max(ft.data.view_max_request_latency||0,eo),ft.data.view_average_request_latency=vt/En)}}),ft.on("requestfailed",function(Yn,Er){Cn++,Kn++,ft.data.view_request_count=Cn,ft.data.view_request_failed_count=Kn}),ft.on("requestcanceled",function(Yn,Er){Cn++,or++,ft.data.view_request_count=Cn,ft.data.view_request_canceled_count=or})});function Lt(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function mt(yt,ft,vt){return ft&&Lt(yt.prototype,ft),vt&&Lt(yt,vt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}var Mt=mt(function yt(ft){var vt=this;(function(kt,Qt){if(!(kt instanceof Qt))throw new TypeError("Cannot call a class as a function")})(this,yt),ft.on("before*",function(kt,Qt){var Cn=Qt.viewer_time,En=P.now(),Kn=vt._lastEventTime;if(vt._lastEventTime=En,Kn&&En-Kn>36e5){var or=Object.keys(ft.data).reduce(function(Yn,Er){return Er.indexOf("video_")===0?Object.assign(Yn,function(eo,Zr,co){return Zr in eo?Object.defineProperty(eo,Zr,{value:co,enumerable:!0,configurable:!0,writable:!0}):eo[Zr]=co,eo}({},Er,ft.data[Er])):Yn},{});ft.mux.log.info("Received event after at least an hour inactivity, creating a new view"),ft.emit("viewinit",Object.assign({viewer_time:Cn},or)),ft.playbackHeartbeat._playheadShouldBeProgressing&&kt.type!=="play"&&kt.type!=="adbreakstart"&&(ft.emit("play",{viewer_time:Cn}),kt.type!=="playing"&&ft.emit("playing",{viewer_time:Cn}))}})});function Jt(yt){return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},Jt(yt)}function pn(yt,ft){return function(vt){if(Array.isArray(vt))return vt}(yt)||function(vt,kt){var Qt=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Qt!=null){var Cn,En,Kn=[],or=!0,Yn=!1;try{for(Qt=Qt.call(vt);!(or=(Cn=Qt.next()).done)&&(Kn.push(Cn.value),!kt||Kn.length!==kt);or=!0);}catch(Er){Yn=!0,En=Er}finally{try{or||Qt.return==null||Qt.return()}finally{if(Yn)throw En}}return Kn}}(yt,ft)||function(vt,kt){if(vt){if(typeof vt=="string")return An(vt,kt);var Qt=Object.prototype.toString.call(vt).slice(8,-1);return Qt==="Object"&&vt.constructor&&(Qt=vt.constructor.name),Qt==="Map"||Qt==="Set"?Array.from(vt):Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt)?An(vt,kt):void 0}}(yt,ft)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function An(yt,ft){(ft==null||ft>yt.length)&&(ft=yt.length);for(var vt=0,kt=new Array(ft);vt<ft;vt++)kt[vt]=yt[vt];return kt}function Fn(yt,ft){for(var vt=0;vt<ft.length;vt++){var kt=ft[vt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(yt,kt.key,kt)}}function Un(yt,ft){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,kt){return vt.__proto__=kt,vt},Un(yt,ft)}function Gt(yt){var ft=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(vt){return!1}}();return function(){var vt,kt=Qn(yt);if(ft){var Qt=Qn(this).constructor;vt=Reflect.construct(kt,arguments,Qt)}else vt=kt.apply(this,arguments);return Zt(this,vt)}}function Zt(yt,ft){if(ft&&(Jt(ft)==="object"||typeof ft=="function"))return ft;if(ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _n(yt)}function _n(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}function Qn(yt){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ft){return ft.__proto__||Object.getPrototypeOf(ft)},Qn(yt)}var At=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],fn=function(yt){(function(En,Kn){if(typeof Kn!="function"&&Kn!==null)throw new TypeError("Super expression must either be null or a function");En.prototype=Object.create(Kn&&Kn.prototype,{constructor:{value:En,writable:!0,configurable:!0}}),Object.defineProperty(En,"prototype",{writable:!1}),Kn&&Un(En,Kn)})(Cn,yt);var ft,vt,kt,Qt=Gt(Cn);function Cn(En,Kn,or){var Yn;(function(it,Ye){if(!(it instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,Cn),(Yn=Qt.call(this)).DOM_CONTENT_LOADED_EVENT_END=D.domContentLoadedEventEnd(),Yn.NAVIGATION_START=D.navigationStart(),Yn.mux=En,Yn.id=Kn,(or=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(it){return it}},or)).data=or.data||{},or.data.property_key&&(or.data.env_key=or.data.property_key,delete or.data.property_key),s.setLevel(or.debug?"debug":"warn"),Yn.getPlayheadTime=or.getPlayheadTime,Yn.getStateData=or.getStateData||function(){return{}},Yn.getAdData=or.getAdData||function(){},Yn.minimumRebufferDuration=or.minimumRebufferDuration,Yn.sustainedRebufferThreshold=or.sustainedRebufferThreshold,Yn.playbackHeartbeatTime=or.playbackHeartbeatTime,Yn.disableRebufferTracking=or.disableRebufferTracking,Yn.disableRebufferTracking&&Yn.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),Yn.disablePlayheadRebufferTracking=or.disablePlayheadRebufferTracking,Yn.errorTranslator=or.errorTranslator,Yn.playbackEventDispatcher=new Dn(En,or.data.env_key,or),Yn.data={player_instance_id:g(),mux_sample_rate:or.sampleRate,beacon_domain:or.beaconCollectionDomain?or.beaconCollectionDomain:or.beaconDomain},Yn.data.view_sequence_number=1,Yn.data.player_sequence_number=1,Yn.oldEmit=Yn.emit,Yn.emit=function(it,Ye){Ye=Object.assign({viewer_time:this.mux.utils.now()},Ye),this.oldEmit(it,Ye)};var Er=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(_n(Yn));Yn.on("viewinit",function(it,Ye){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Ye),this._initializeViewData(),this.one("play",Er),this.one("adbreakstart",Er)});var eo=function(it){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",it)}.bind(_n(Yn));if(Yn.on("videochange",function(it,Ye){eo(Ye)}),Yn.on("programchange",function(it,Ye){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),eo(Object.assign(Ye,{view_program_changed:!0})),Er(),this.emit("play"),this.emit("playing")}),Yn.on("fragmentchange",function(it,Ye){this.currentFragmentPDT=Ye.currentFragmentPDT,this.currentFragmentStart=Ye.currentFragmentStart}),Yn.on("destroy",Yn.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var Zr=function(){var it=Yn.data.view_start!==void 0;Yn.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",it&&Yn.mux.WINDOW_HIDDEN&&(Yn.data.player_is_paused||Yn.emit("hb"))};window.addEventListener("visibilitychange",Zr,!1);var co=function(it){it.persisted||Yn.destroy()};window.addEventListener("pagehide",co,!1),Yn.on("destroy",function(){window.removeEventListener("visibilitychange",Zr),window.removeEventListener("pagehide",co)})}return Yn.on("playerready",function(it,Ye){Object.assign(this.data,Ye)}),At.forEach(function(it){Yn.on(it,function(Ye,lt){it.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,lt),this._sanitizeData()}),Yn.on("after"+it,function(){(it!=="error"||this.errorTracker.viewErrored)&&this.send(it)})}),Yn.on("viewend",function(it,Ye){Object.assign(Yn.data,Ye)}),Yn.one("playerready",function(it){var Ye=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Ye-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),Yn.longResumeTracker=new Mt(_n(Yn)),Yn.errorTracker=new se(_n(Yn)),new he(_n(Yn)),Yn.seekingTracker=new Ze(_n(Yn)),Yn.playheadTime=new Je(_n(Yn)),Yn.playbackHeartbeat=new oe(_n(Yn)),new ct(_n(Yn)),Yn.watchTimeTracker=new le(_n(Yn)),new De(_n(Yn)),Yn.adTracker=new Te(_n(Yn)),new Ne(_n(Yn)),new gt(_n(Yn)),new ot(_n(Yn)),new we(_n(Yn)),new wt(_n(Yn)),or.hlsjs&&Yn.addHLSJS(or),or.dashjs&&Yn.addDashJS(or),Yn.emit("viewinit",or.data),Yn}return ft=Cn,vt=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(En){if(this.data.view_id){var Kn=Object.assign({},this.data);if(Kn.video_source_is_live===void 0&&(Kn.player_source_duration===1/0||Kn.video_source_duration===1/0?Kn.video_source_is_live=!0:(Kn.player_source_duration>0||Kn.video_source_duration>0)&&(Kn.video_source_is_live=!1)),Kn.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(eo){Kn[eo]=void 0}),Kn.video_source_url=Kn.video_source_url||Kn.player_source_url,Kn.video_source_url){var or=pn(x(Kn.video_source_url),2),Yn=or[0],Er=or[1];Kn.video_source_domain=Er,Kn.video_source_hostname=Yn}delete Kn.ad_request_id,this.playbackEventDispatcher.send(En,Kn),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),En==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var En=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(Kn){var or=parseInt(En.data[Kn],10);En.data[Kn]=isNaN(or)?void 0:or}),["player_source_url","video_source_url"].forEach(function(Kn){if(En.data[Kn]){var or=En.data[Kn].toLowerCase();or.indexOf("data:")!==0&&or.indexOf("blob:")!==0||(En.data[Kn]="MSE style URL")}})}},{key:"_resetVideoData",value:function(En,Kn){var or=this;Object.keys(this.data).forEach(function(Yn){Yn.indexOf("video_")===0&&delete or.data[Yn]})}},{key:"_resetViewData",value:function(){var En=this;Object.keys(this.data).forEach(function(Kn){Kn.indexOf("view_")===0&&delete En.data[Kn]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(En,Kn){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var En=this,Kn=this.data.view_id=g(),or=function(){Kn===En.data.view_id&&y(En.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",or):or()}},{key:"_restartHeartBeat",value:function(){var En=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){En.data.player_is_paused||En.emit("hb")},1e4))}},{key:"addHLSJS",value:function(En){En.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=En.hlsjs,function(Kn,or,Yn){var Er=arguments.length>4?arguments[4]:void 0,eo=Kn.log,Zr=Kn.utils.secondsToMs,co=function(nt){var Ge,St=parseInt(Er.version);return St===1&&nt.programDateTime!==null&&(Ge=nt.programDateTime),St===0&&nt.pdt!==null&&(Ge=nt.pdt),Ge};if(D.exists()){var it=function(nt,Ge){return Kn.emit(or,nt,Ge)},Ye=function(nt,Ge){var St=Ge.levels,nn=Ge.audioTracks,Nn=Ge.url,hr=Ge.stats,jr=Ge.networkDetails,Xr=Ge.sessionData,no={},Mo={};St.forEach(function(Go,Rt){no[Rt]={width:Go.width,height:Go.height,bitrate:Go.bitrate,attrs:Go.attrs}}),nn.forEach(function(Go,Rt){Mo[Rt]={name:Go.name,language:Go.lang,bitrate:Go.bitrate}});var ko=L(hr),Bo=ko.bytesLoaded,Wo=ko.requestStart,Jo=ko.responseStart,Ho=ko.responseEnd;it("requestcompleted",V(V({},N(Xr)),{},{request_event_type:nt,request_bytes_loaded:Bo,request_start:Wo,request_response_start:Jo,request_response_end:Ho,request_type:"manifest",request_hostname:C(Nn),request_response_headers:k(jr),request_rendition_lists:{media:no,audio:Mo,video:{}}}))};Yn.on(Er.Events.MANIFEST_LOADED,Ye);var lt=function(nt,Ge){var St=Ge.details,nn=Ge.level,Nn=Ge.networkDetails,hr=Ge.stats,jr=L(hr),Xr=jr.bytesLoaded,no=jr.requestStart,Mo=jr.responseStart,ko=jr.responseEnd,Bo=St.fragments[St.fragments.length-1],Wo=co(Bo)+Zr(Bo.duration);it("requestcompleted",{request_event_type:nt,request_bytes_loaded:Xr,request_start:no,request_response_start:Mo,request_response_end:ko,request_current_level:nn,request_type:"manifest",request_hostname:C(St.url),request_response_headers:k(Nn),video_holdback:St.holdBack&&Zr(St.holdBack),video_part_holdback:St.partHoldBack&&Zr(St.partHoldBack),video_part_target_duration:St.partTarget&&Zr(St.partTarget),video_target_duration:St.targetduration&&Zr(St.targetduration),video_source_is_live:St.live,player_manifest_newest_program_time:isNaN(Wo)?void 0:Wo})};Yn.on(Er.Events.LEVEL_LOADED,lt);var Ot=function(nt,Ge){var St=Ge.details,nn=Ge.networkDetails,Nn=Ge.stats,hr=L(Nn),jr=hr.bytesLoaded,Xr=hr.requestStart,no=hr.responseStart,Mo=hr.responseEnd;it("requestcompleted",{request_event_type:nt,request_bytes_loaded:jr,request_start:Xr,request_response_start:no,request_response_end:Mo,request_type:"manifest",request_hostname:C(St.url),request_response_headers:k(nn)})};Yn.on(Er.Events.AUDIO_TRACK_LOADED,Ot);var tn=function(nt,Ge){var St=Ge.stats,nn=Ge.networkDetails,Nn=Ge.frag;St=St||Nn.stats;var hr=L(St),jr=hr.bytesLoaded,Xr=hr.requestStart,no=hr.responseStart,Mo=hr.responseEnd,ko=nn?k(nn):void 0,Bo={request_event_type:nt,request_bytes_loaded:jr,request_start:Xr,request_response_start:no,request_response_end:Mo,request_hostname:nn?C(nn.responseURL):void 0,request_id:ko?F(ko):void 0,request_response_headers:ko,request_media_duration:Nn.duration,request_url:nn==null?void 0:nn.responseURL};Nn.type==="main"?(Bo.request_type="media",Bo.request_current_level=Nn.level,Bo.request_video_width=(Yn.levels[Nn.level]||{}).width,Bo.request_video_height=(Yn.levels[Nn.level]||{}).height,Bo.request_labeled_bitrate=(Yn.levels[Nn.level]||{}).bitrate):Bo.request_type=Nn.type,it("requestcompleted",Bo)};Yn.on(Er.Events.FRAG_LOADED,tn);var an=function(nt,Ge){var St=Ge.frag,nn=St.start,Nn={currentFragmentPDT:co(St),currentFragmentStart:Zr(nn)};it("fragmentchange",Nn)};Yn.on(Er.Events.FRAG_CHANGED,an);var bn=function(nt,Ge){var St=Ge.type,nn=Ge.details,Nn=Ge.response,hr=Ge.fatal,jr=Ge.frag,Xr=Ge.networkDetails,no=(jr==null?void 0:jr.url)||Ge.url||"",Mo=Xr?k(Xr):void 0;if(nn!==Er.ErrorDetails.MANIFEST_LOAD_ERROR&&nn!==Er.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&nn!==Er.ErrorDetails.FRAG_LOAD_ERROR&&nn!==Er.ErrorDetails.FRAG_LOAD_TIMEOUT&&nn!==Er.ErrorDetails.LEVEL_LOAD_ERROR&&nn!==Er.ErrorDetails.LEVEL_LOAD_TIMEOUT&&nn!==Er.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&nn!==Er.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&nn!==Er.ErrorDetails.SUBTITLE_LOAD_ERROR&&nn!==Er.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&nn!==Er.ErrorDetails.KEY_LOAD_ERROR&&nn!==Er.ErrorDetails.KEY_LOAD_TIMEOUT||it("requestfailed",{request_error:nn,request_url:no,request_hostname:C(no),request_id:Mo?F(Mo):void 0,request_type:nn===Er.ErrorDetails.FRAG_LOAD_ERROR||nn===Er.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":nn===Er.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||nn===Er.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":nn===Er.ErrorDetails.SUBTITLE_LOAD_ERROR||nn===Er.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":nn===Er.ErrorDetails.KEY_LOAD_ERROR||nn===Er.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:Nn==null?void 0:Nn.code,request_error_text:Nn==null?void 0:Nn.text}),hr){var ko,Bo="".concat(no?"url: ".concat(no,`
`):"")+"".concat(Nn&&(Nn.code||Nn.text)?"response: ".concat(Nn.code,", ").concat(Nn.text,`
`):"")+"".concat(Ge.reason?"failure reason: ".concat(Ge.reason,`
`):"")+"".concat(Ge.level?"level: ".concat(Ge.level,`
`):"")+"".concat(Ge.parent?"parent stream controller: ".concat(Ge.parent,`
`):"")+"".concat(Ge.buffer?"buffer length: ".concat(Ge.buffer,`
`):"")+"".concat(Ge.error?"error: ".concat(Ge.error,`
`):"")+"".concat(Ge.event?"event: ".concat(Ge.event,`
`):"")+"".concat(Ge.err?"error message: ".concat((ko=Ge.err)===null||ko===void 0?void 0:ko.message,`
`):"");it("error",{player_error_code:St,player_error_message:nn,player_error_context:Bo})}};Yn.on(Er.Events.ERROR,bn);var yn=function(nt,Ge){var St=Ge.frag,nn=St&&St._url||"";it("requestcanceled",{request_event_type:nt,request_url:nn,request_type:"media",request_hostname:C(nn)})};Yn.on(Er.Events.FRAG_LOAD_EMERGENCY_ABORTED,yn);var Ln=function(nt,Ge){var St=Ge.level,nn=Yn.levels[St];if(nn&&nn.attrs&&nn.attrs.BANDWIDTH){var Nn,hr=nn.attrs.BANDWIDTH,jr=parseFloat(nn.attrs["FRAME-RATE"]);isNaN(jr)||(Nn=jr),hr?it("renditionchange",{video_source_fps:Nn,video_source_bitrate:hr,video_source_width:nn.width,video_source_height:nn.height,video_source_rendition_name:nn.name,video_source_codec:nn==null?void 0:nn.videoCodec}):eo.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};Yn.on(Er.Events.LEVEL_SWITCHED,Ln),Yn._stopMuxMonitor=function(){Yn.off(Er.Events.MANIFEST_LOADED,Ye),Yn.off(Er.Events.LEVEL_LOADED,lt),Yn.off(Er.Events.AUDIO_TRACK_LOADED,Ot),Yn.off(Er.Events.FRAG_LOADED,tn),Yn.off(Er.Events.FRAG_CHANGED,an),Yn.off(Er.Events.ERROR,bn),Yn.off(Er.Events.FRAG_LOAD_EMERGENCY_ABORTED,yn),Yn.off(Er.Events.LEVEL_SWITCHED,Ln),Yn.off(Er.Events.DESTROYING,Yn._stopMuxMonitor),delete Yn._stopMuxMonitor},Yn.on(Er.Events.DESTROYING,Yn._stopMuxMonitor)}else eo.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,En.hlsjs,{},En.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var En;this.hlsjs&&((En=this.hlsjs)&&typeof En._stopMuxMonitor=="function"&&En._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(En){En.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=En.dashjs,function(Kn,or,Yn){var Er=Kn.log;if(Yn&&Yn.on){var eo=function(yn,Ln){return Kn.emit(or,yn,Ln)},Zr=function(yn){var Ln=yn.type,nt=(yn.data||{}).url;eo("requestcompleted",{request_event_type:Ln,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:C(nt),request_url:nt})};Yn.on("manifestLoaded",Zr);var co={},it=function(yn){var Ln=yn.type,nt=yn.fragmentModel,Ge=(yn.chunk||{}).mediaInfo||{},St=Ge.type,nn=Ge.bitrateList,Nn={};(nn=nn||[]).forEach(function(Ho,Go){Nn[Go]={},Nn[Go].width=Ho.width,Nn[Go].height=Ho.height,Nn[Go].bitrate=Ho.bandwidth,Nn[Go].attrs={}}),St==="video"?co.video=Nn:St==="audio"?co.audio=Nn:co.media=Nn;var hr=z(nt,Yn),jr=hr.requestStart,Xr=hr.requestResponseStart,no=hr.requestResponseEnd,Mo=hr.requestResponseHeaders,ko=hr.requestMediaDuration,Bo=hr.requestHostname,Wo=hr.requestUrl,Jo=hr.requestId;eo("requestcompleted",{request_event_type:Ln,request_start:jr,request_response_start:Xr,request_response_end:no,request_bytes_loaded:-1,request_type:St+"_init",request_response_headers:Mo,request_hostname:Bo,request_id:Jo,request_url:Wo,request_media_duration:ko,request_rendition_lists:co})};Yn.on("initFragmentLoaded",it);var Ye=function(yn){var Ln=yn.type,nt=yn.fragmentModel,Ge=yn.chunk||{},St=Ge.mediaInfo,nn=Ge.start,Nn=(St||{}).type,hr=z(nt,Yn),jr=hr.requestStart,Xr=hr.requestResponseStart,no=hr.requestResponseEnd,Mo=hr.requestBytesLoaded,ko=hr.requestResponseHeaders,Bo=hr.requestMediaDuration,Wo=hr.requestHostname,Jo=hr.requestUrl,Ho=hr.requestId,Go=ee(Nn,Yn),Rt=Go.currentLevel,Nt=Go.renditionWidth,mn=Go.renditionHeight,tr=Go.renditionBitrate;eo("requestcompleted",{request_event_type:Ln,request_start:jr,request_response_start:Xr,request_response_end:no,request_bytes_loaded:Mo,request_type:Nn,request_response_headers:ko,request_hostname:Wo,request_id:Ho,request_url:Jo,request_media_start_time:nn,request_media_duration:Bo,request_current_level:Rt,request_labeled_bitrate:tr,request_video_width:Nt,request_video_height:mn})};Yn.on("mediaFragmentLoaded",Ye);var lt={video:void 0,audio:void 0,totalBitrate:void 0},Ot=function(){if(lt.video&&typeof lt.video.bitrate=="number"){if(lt.video.width&&lt.video.height){var yn=lt.video.bitrate;return lt.audio&&typeof lt.audio.bitrate=="number"&&(yn+=lt.audio.bitrate),yn!==lt.totalBitrate?(lt.totalBitrate=yn,{video_source_bitrate:yn,video_source_height:lt.video.height,video_source_width:lt.video.width,video_source_codec:$(lt.video.codec)}):void 0}Er.warn("have bitrate info for video but missing width/height")}},tn=function(yn,Ln,nt){if(typeof yn.newQuality=="number"){var Ge=yn.mediaType;if(Ge==="audio"||Ge==="video"){var St=Yn.getBitrateInfoListFor(Ge).find(function(Nn){return Nn.qualityIndex===yn.newQuality});if(St&&typeof St.bitrate=="number"){lt[Ge]=G(G({},St),{},{codec:Yn.getCurrentTrackFor(Ge).codec});var nn=Ot();nn&&eo("renditionchange",nn)}else Er.warn("missing bitrate info for ".concat(Ge))}}else Er.warn("missing evt.newQuality in qualityChangeRendered event",yn)};Yn.on("qualityChangeRendered",tn);var an=function(yn){var Ln=yn.request,nt=yn.mediaType;eo("requestcanceled",{request_event_type:(Ln=Ln||{}).type+"_"+Ln.action,request_url:Ln.url,request_type:nt,request_hostname:C(Ln.url)})};Yn.on("fragmentLoadingAbandoned",an);var bn=function(yn){var Ln,nt,Ge=yn.error,St=(Ge==null||(Ln=Ge.data)===null||Ln===void 0?void 0:Ln.request)||{},nn=(Ge==null||(nt=Ge.data)===null||nt===void 0?void 0:nt.response)||{};(Ge==null?void 0:Ge.code)===27&&eo("requestfailed",{request_error:St.type+"_"+St.action,request_url:St.url,request_hostname:C(St.url),request_type:St.mediaType,request_error_code:nn.status,request_error_text:nn.statusText});var Nn="".concat(St!=null&&St.url?"url: ".concat(St.url,`
`):"")+"".concat(nn!=null&&nn.status||nn!=null&&nn.statusText?"response: ".concat(nn==null?void 0:nn.status,", ").concat(nn==null?void 0:nn.statusText,`
`):"");eo("error",{player_error_code:Ge==null?void 0:Ge.code,player_error_message:Ge==null?void 0:Ge.message,player_error_context:Nn})};Yn.on("error",bn),Yn._stopMuxMonitor=function(){Yn.off("manifestLoaded",Zr),Yn.off("initFragmentLoaded",it),Yn.off("mediaFragmentLoaded",Ye),Yn.off("qualityChangeRendered",tn),Yn.off("error",bn),Yn.off("fragmentLoadingAbandoned",an),delete Yn._stopMuxMonitor}}else Er.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,En.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var En;this.dashjs&&((En=this.dashjs)&&typeof En._stopMuxMonitor=="function"&&En._stopMuxMonitor(),this.dashjs=void 0)}}],vt&&Fn(ft.prototype,vt),kt&&Fn(ft,kt),Object.defineProperty(ft,"prototype",{writable:!1}),Cn}(ne),gn=fn,Mn=l(153),Wn=l.n(Mn);function rr(yt){return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},rr(yt)}function Zn(yt,ft){return function(vt){if(Array.isArray(vt))return vt}(yt)||function(vt,kt){var Qt=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Qt!=null){var Cn,En,Kn=[],or=!0,Yn=!1;try{for(Qt=Qt.call(vt);!(or=(Cn=Qt.next()).done)&&(Kn.push(Cn.value),!kt||Kn.length!==kt);or=!0);}catch(Er){Yn=!0,En=Er}finally{try{or||Qt.return==null||Qt.return()}finally{if(Yn)throw En}}return Kn}}(yt,ft)||function(vt,kt){if(vt){if(typeof vt=="string")return ur(vt,kt);var Qt=Object.prototype.toString.call(vt).slice(8,-1);return Qt==="Object"&&vt.constructor&&(Qt=vt.constructor.name),Qt==="Map"||Qt==="Set"?Array.from(vt):Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt)?ur(vt,kt):void 0}}(yt,ft)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ur(yt,ft){(ft==null||ft>yt.length)&&(ft=yt.length);for(var vt=0,kt=new Array(ft);vt<ft;vt++)kt[vt]=yt[vt];return kt}var Ar,so=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],io={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};_()&&_().WeakMap&&(Ar=new WeakMap);var Qr="#EXT-X-TARGETDURATION",Eo="#EXT-X-PART-INF",So="#EXT-X-SERVER-CONTROL",Wt="#EXTINF",jn="#EXT-X-PROGRAM-DATE-TIME",bt="#EXT-X-VERSION",Ut="#EXT-X-SESSION-DATA",qt=function(yt){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(yt),this.manifest};qt.prototype.process=function(yt){var ft;for(this.buffer+=yt,ft=this.buffer.indexOf(`
`);ft>-1;ft=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,ft)),this.buffer=this.buffer.substring(ft+1)},qt.prototype.processLine=function(yt){var ft=yt.indexOf(":"),vt=Rn(yt,ft),kt=vt[0],Qt=vt.length===2?Pt(vt[1]):void 0;if(kt[0]!=="#")this.currentUri.uri=kt,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(kt){case Qr:if(!isFinite(Qt)||Qt<0)return;this.manifest.targetDuration=Qt,this.setHoldBack();break;case Eo:Sn(this.manifest,vt),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case So:Sn(this.manifest,vt),this.setHoldBack();break;case Wt:Qt===0?this.currentUri.duration=.01:Qt>0&&(this.currentUri.duration=Qt);break;case jn:var Cn=Qt,En=new Date(Cn);this.manifest.dateTimeString||(this.manifest.dateTimeString=Cn,this.manifest.dateTimeObject=En),this.currentUri.dateTimeString=Cn,this.currentUri.dateTimeObject=En;break;case bt:Sn(this.manifest,vt);break;case Ut:var Kn=$n(vt[1]),or=N(Kn);Object.assign(this.manifest.sessionData,or)}},qt.prototype.setHoldBack=function(){var yt=this.manifest,ft=yt.serverControl,vt=yt.targetDuration,kt=yt.partTargetDuration;if(ft){var Qt="holdBack",Cn="partHoldBack",En=vt&&3*vt,Kn=kt&&2*kt;vt&&!ft.hasOwnProperty(Qt)&&(ft[Qt]=En),En&&ft[Qt]<En&&(ft[Qt]=En),kt&&!ft.hasOwnProperty(Cn)&&(ft[Cn]=3*kt),kt&&ft[Cn]<Kn&&(ft[Cn]=Kn)}};var Sn=function(yt,ft){var vt,kt=at(ft[0].replace("#EXT-X-",""));Pn(ft[1])?(vt={},vt=Object.assign(vn(ft[1]),vt)):vt=Pt(ft[1]),yt[kt]=vt},at=function(yt){return yt.toLowerCase().replace(/-(\w)/g,function(ft){return ft[1].toUpperCase()})},Pt=function(yt){if(yt.toLowerCase()==="yes"||yt.toLowerCase()==="no")return yt.toLowerCase()==="yes";var ft=yt.indexOf(":")!==-1?yt:parseFloat(yt);return isNaN(ft)?yt:ft},jt=function(yt){var ft={},vt=yt.split("=");return vt.length>1&&(ft[at(vt[0])]=Pt(vt[1])),ft},vn=function(yt){for(var ft=yt.split(","),vt={},kt=0;ft.length>kt;kt++){var Qt=ft[kt],Cn=jt(Qt);vt=Object.assign(Cn,vt)}return vt},Pn=function(yt){return yt.indexOf("=")>-1},Rn=function(yt,ft){return ft===-1?[yt]:[yt.substring(0,ft),yt.substring(ft+1)]},$n=function(yt){var ft={};if(yt){var vt=yt.search(",");return[yt.slice(0,vt),yt.slice(vt+1)].forEach(function(kt,Qt){for(var Cn=kt.replace(/['"]+/g,"").split("="),En=0;En<Cn.length;En++)Cn[En]==="DATA-ID"&&(ft["DATA-ID"]=Cn[1-En]),Cn[En]==="VALUE"&&(ft.VALUE=Cn[1-En])}),{data:ft}}},ar=qt,lr={safeCall:function(yt,ft,vt,kt){var Qt=kt;if(yt&&typeof yt[ft]=="function")try{Qt=yt[ft].apply(yt,vt)}catch(Cn){s.info("safeCall error",Cn)}return Qt},safeIncrement:y,getComputedStyle:function(yt,ft){var vt;if(yt&&ft&&_()&&typeof _().getComputedStyle=="function")return Ar&&Ar.has(yt)&&(vt=Ar.get(yt)),vt||(vt=_().getComputedStyle(yt,null),Ar&&Ar.set(yt,vt)),vt.getPropertyValue(ft)},secondsToMs:function(yt){return Math.floor(1e3*yt)},assign:Object.assign,headersStringToObject:R,cdnHeadersToRequestId:F,extractHostnameAndDomain:x,extractHostname:C,manifestParser:ar,generateShortID:E,generateUUID:g,now:P.now},sr={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function fr(yt,ft){return function(vt){if(Array.isArray(vt))return vt}(yt)||function(vt,kt){var Qt=vt==null?null:typeof Symbol!="undefined"&&vt[Symbol.iterator]||vt["@@iterator"];if(Qt!=null){var Cn,En,Kn=[],or=!0,Yn=!1;try{for(Qt=Qt.call(vt);!(or=(Cn=Qt.next()).done)&&(Kn.push(Cn.value),!kt||Kn.length!==kt);or=!0);}catch(Er){Yn=!0,En=Er}finally{try{or||Qt.return==null||Qt.return()}finally{if(Yn)throw En}}return Kn}}(yt,ft)||function(vt,kt){if(vt){if(typeof vt=="string")return gr(vt,kt);var Qt=Object.prototype.toString.call(vt).slice(8,-1);return Qt==="Object"&&vt.constructor&&(Qt=vt.constructor.name),Qt==="Map"||Qt==="Set"?Array.from(vt):Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt)?gr(vt,kt):void 0}}(yt,ft)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gr(yt,ft){(ft==null||ft>yt.length)&&(ft=yt.length);for(var vt=0,kt=new Array(ft);vt<ft;vt++)kt[vt]=yt[vt];return kt}var Sr={},Gr=function yt(ft){var vt=arguments;typeof ft=="string"?yt.hasOwnProperty(ft)?_().setTimeout(function(){vt=Array.prototype.splice.call(vt,1),yt[ft].apply(null,vt)},0):s.warn("`"+ft+"` is an unknown task"):typeof ft=="function"?_().setTimeout(function(){ft(yt)},0):s.warn("`"+ft+"` is invalid.")},Oo={loaded:P.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(yt,ft){return function(vt,kt,Qt){var Cn=Zn(O(kt),3),En=Cn[0],Kn=Cn[1],or=Cn[2],Yn=vt.log,Er=vt.utils.getComputedStyle,eo=vt.utils.secondsToMs;if(!En)return Yn.error("No element was found with the `"+Kn+"` query selector.");if(or!=="video"&&or!=="audio")return Yn.error("The element of `"+Kn+"` was not a media element.");En.mux&&(En.mux.destroy(),delete En.mux,Yn.warn("Already monitoring this video element, replacing existing event listeners")),(Qt=Object.assign({automaticErrorTracking:!0},Qt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:vt.VERSION},Qt.data),Qt.getPlayheadTime=function(){return eo(En.currentTime)},Qt.getStateData=function(){var co,it,Ye=this.hlsjs&&this.hlsjs.url,lt=this.dashjs&&rr(this.dashjs.getSource==="function")&&this.dashjs.getSource(),Ot={player_is_paused:En.paused,player_playhead_time:eo(En.currentTime),player_width:parseInt(Er(En,"width")),player_height:parseInt(Er(En,"height")),player_autoplay_on:En.autoplay,player_preload_on:En.preload,player_language_code:En.lang,player_is_fullscreen:Wn()&&!!(Wn().fullscreenElement||Wn().webkitFullscreenElement||Wn().mozFullScreenElement||Wn().msFullscreenElement),video_poster_url:En.poster,video_source_url:Ye||lt||En.currentSrc,video_source_duration:eo(En.duration),video_source_height:En.videoHeight,video_source_width:En.videoWidth,view_dropped_frame_count:(co=En)===null||co===void 0||(it=co.getVideoPlaybackQuality)===null||it===void 0?void 0:it.call(co).droppedVideoFrames},tn=Qt.getPlayheadTime();if(En.getStartDate&&tn>0){var an=En.getStartDate();if(an&&typeof an.getTime=="function"&&an.getTime()){var bn=an.getTime();if(Ot.player_program_time=bn+tn,En.seekable.length>0){var yn=bn+En.seekable.end(En.seekable.length-1);Ot.player_live_edge_program_time=yn}}}return Ot},En.mux=En.mux||{},En.mux.deleted=!1,En.mux.emit=function(co,it){vt.emit(Kn,co,it)};var Zr=function(){Yn.error("The monitor for this video element has already been destroyed.")};En.mux.destroy=function(){Object.keys(En.mux.listeners).forEach(function(co){En.removeEventListener(co,En.mux.listeners[co],!1)}),delete En.mux.listeners,En.mux.destroy=Zr,En.mux.swapElement=Zr,En.mux.emit=Zr,En.mux.addHLSJS=Zr,En.mux.addDashJS=Zr,En.mux.removeHLSJS=Zr,En.mux.removeDashJS=Zr,En.mux.deleted=!0,vt.emit(Kn,"destroy")},En.mux.swapElement=function(co){var it=Zn(O(co),3),Ye=it[0],lt=it[1],Ot=it[2];return Ye?Ot!=="video"&&Ot!=="audio"?vt.log.error("The element of `"+lt+"` was not a media element."):(Ye.muxId=En.muxId,delete En.muxId,Ye.mux=Ye.mux||{},Ye.mux.listeners=Object.assign({},En.mux.listeners),delete En.mux.listeners,Object.keys(Ye.mux.listeners).forEach(function(tn){En.removeEventListener(tn,Ye.mux.listeners[tn],!1),Ye.addEventListener(tn,Ye.mux.listeners[tn],!1)}),Ye.mux.swapElement=En.mux.swapElement,Ye.mux.destroy=En.mux.destroy,delete En.mux,void(En=Ye)):vt.log.error("No element was found with the `"+lt+"` query selector.")},En.mux.addHLSJS=function(co){vt.addHLSJS(Kn,co)},En.mux.addDashJS=function(co){vt.addDashJS(Kn,co)},En.mux.removeHLSJS=function(){vt.removeHLSJS(Kn)},En.mux.removeDashJS=function(){vt.removeDashJS(Kn)},vt.init(Kn,Qt),vt.emit(Kn,"playerready"),En.paused||(vt.emit(Kn,"play"),En.readyState>2&&vt.emit(Kn,"playing")),En.mux.listeners={},so.forEach(function(co){(co!=="error"||Qt.automaticErrorTracking)&&(En.mux.listeners[co]=function(){var it={};if(co==="error"){if(!En.error||En.error.code===1)return;it.player_error_code=En.error.code,it.player_error_message=io[En.error.code]||En.error.message}vt.emit(Kn,co,it)},En.addEventListener(co,En.mux.listeners[co],!1))})}(Gr,yt,ft)},destroyMonitor:function(yt){var ft=fr(O(yt),1)[0];ft&&ft.mux&&typeof ft.mux.destroy=="function"?ft.mux.destroy():s.error("A video element monitor for `"+yt+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(yt,ft){var vt=S(yt);Sr[vt]?Sr[vt].addHLSJS(ft):s.error("A monitor for `"+vt+"` has not been initialized.")},addDashJS:function(yt,ft){var vt=S(yt);Sr[vt]?Sr[vt].addDashJS(ft):s.error("A monitor for `"+vt+"` has not been initialized.")},removeHLSJS:function(yt){var ft=S(yt);Sr[ft]?Sr[ft].removeHLSJS():s.error("A monitor for `"+ft+"` has not been initialized.")},removeDashJS:function(yt){var ft=S(yt);Sr[ft]?Sr[ft].removeDashJS():s.error("A monitor for `"+ft+"` has not been initialized.")},init:function(yt,ft){w()&&ft&&ft.respectDoNotTrack&&s.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var vt=S(yt);Sr[vt]=new gn(Gr,vt,ft)},emit:function(yt,ft,vt){var kt=S(yt);Sr[kt]?(Sr[kt].emit(ft,vt),ft==="destroy"&&delete Sr[kt]):s.error("A monitor for `"+kt+"` has not been initialized.")},checkDoNotTrack:w,log:s,utils:lr,events:sr,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Gr,Oo),_()!==void 0&&typeof _().addEventListener=="function"&&_().addEventListener("pagehide",function(yt){yt.persisted||(Gr.WINDOW_UNLOADING=!0)},!1);var zr=Gr},655:function(c,p,l){var v,_;function g(E){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},g(E);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(E){var S=!1;if((_=typeof(v=E)=="function"?v.call(p,l,p,c):v)===void 0||(c.exports=_),S=!0,g(p)==="object"&&(c.exports=E(),S=!0),!S){var O=window.Cookies,A=window.Cookies=E();A.noConflict=function(){return window.Cookies=O,A}}})(function(){var E=function(){for(var S=0,O={};S<arguments.length;S++){var A=arguments[S];for(var u in A)O[u]=A[u]}return O};return function S(O){function A(u,o,s){var w;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(s=E({path:"/"},A.defaults,s)).expires=="number"){var P=new Date;P.setMilliseconds(P.getMilliseconds()+864e5*s.expires),s.expires=P}try{w=JSON.stringify(o),/^[\{\[]/.test(w)&&(o=w)}catch(R){}return o=O.write?O.write(o,u):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=(u=(u=encodeURIComponent(String(u))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[u,"=",o,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}u||(w={});for(var C=document.cookie?document.cookie.split("; "):[],x=/(%[0-9A-Z]{2})+/g,D=0;D<C.length;D++){var y=C[D].split("="),M=y.slice(1).join("=");M.charAt(0)==='"'&&(M=M.slice(1,-1));try{var T=y[0].replace(x,decodeURIComponent);if(M=O.read?O.read(M,T):O(M,T)||M.replace(x,decodeURIComponent),this.json)try{M=JSON.parse(M)}catch(R){}if(u===T){w=M;break}u||(w[T]=M)}catch(R){}}return w}}return A.set=A,A.get=function(u){return A.call(A,u)},A.getJSON=function(){return A.apply({json:!0},[].slice.call(arguments))},A.defaults={},A.remove=function(u,o){A(u,"",E(o,{expires:-1}))},A.withConverter=S,A}(function(){})})},153:function(c,p,l){var v,_=l.g!==void 0?l.g:typeof window!="undefined"?window:{},g=l(558);typeof document!="undefined"?v=document:(v=_["__GLOBAL_DOCUMENT_CACHE@4"])||(v=_["__GLOBAL_DOCUMENT_CACHE@4"]=g),c.exports=v},48:function(c,p,l){var v;v=typeof window!="undefined"?window:l.g!==void 0?l.g:typeof self!="undefined"?self:{},c.exports=v},640:function(c,p,l){var v,_;(function(g,E){"use strict";v=function(){var S=function(){},O="undefined",A=typeof window!==O&&typeof window.navigator!==O&&/Trident\/|MSIE /.test(window.navigator.userAgent),u=["trace","debug","info","warn","error"];function o(R,F){var N=R[F];if(typeof N.bind=="function")return N.bind(R);try{return Function.prototype.bind.call(N,R)}catch(U){return function(){return Function.prototype.apply.apply(N,[R,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function w(R){return R==="debug"&&(R="log"),typeof console!==O&&(R==="trace"&&A?s:console[R]!==void 0?o(console,R):console.log!==void 0?o(console,"log"):S)}function P(R,F){for(var N=0;N<u.length;N++){var U=u[N];this[U]=N<R?S:this.methodFactory(U,R,F)}this.log=this.debug}function C(R,F,N){return function(){typeof console!==O&&(P.call(this,F,N),this[R].apply(this,arguments))}}function x(R,F,N){return w(R)||C.apply(this,arguments)}function D(R,F,N){var U,V=this;F=F==null?"WARN":F;var W="loglevel";function L(q){var z=(u[q]||"silent").toUpperCase();if(typeof window!==O&&W){try{return void(window.localStorage[W]=z)}catch(ee){}try{window.document.cookie=encodeURIComponent(W)+"="+z+";"}catch(ee){}}}function k(){var q;if(typeof window!==O&&W){try{q=window.localStorage[W]}catch($){}if(typeof q===O)try{var z=window.document.cookie,ee=z.indexOf(encodeURIComponent(W)+"=");ee!==-1&&(q=/^([^;]+)/.exec(z.slice(ee))[1])}catch($){}return V.levels[q]===void 0&&(q=void 0),q}}function H(){if(typeof window!==O&&W){try{return void window.localStorage.removeItem(W)}catch(q){}try{window.document.cookie=encodeURIComponent(W)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(q){}}}typeof R=="string"?W+=":"+R:typeof R=="symbol"&&(W=void 0),V.name=R,V.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},V.methodFactory=N||x,V.getLevel=function(){return U},V.setLevel=function(q,z){if(typeof q=="string"&&V.levels[q.toUpperCase()]!==void 0&&(q=V.levels[q.toUpperCase()]),!(typeof q=="number"&&q>=0&&q<=V.levels.SILENT))throw"log.setLevel() called with invalid level: "+q;if(U=q,z!==!1&&L(q),P.call(V,q,R),typeof console===O&&q<V.levels.SILENT)return"No console available for logging"},V.setDefaultLevel=function(q){F=q,k()||V.setLevel(q,!1)},V.resetLevel=function(){V.setLevel(F,!1),H()},V.enableAll=function(q){V.setLevel(V.levels.TRACE,q)},V.disableAll=function(q){V.setLevel(V.levels.SILENT,q)};var G=k();G==null&&(G=F),V.setLevel(G,!1)}var y=new D,M={};y.getLogger=function(R){if(typeof R!="symbol"&&typeof R!="string"||R==="")throw new TypeError("You must supply a name when creating a logger.");var F=M[R];return F||(F=M[R]=new D(R,y.getLevel(),y.methodFactory)),F};var T=typeof window!==O?window.log:void 0;return y.noConflict=function(){return typeof window!==O&&window.log===y&&(window.log=T),y},y.getLoggers=function(){return M},y.default=y,y},(_=typeof v=="function"?v.call(p,l,p,c):v)===void 0||(c.exports=_)})()},375:function(c,p){"use strict";var l=Object.prototype.hasOwnProperty;function v(g){try{return decodeURIComponent(g.replace(/\+/g," "))}catch(E){return null}}function _(g){try{return encodeURIComponent(g)}catch(E){return null}}p.stringify=function(g,E){E=E||"";var S,O,A=[];for(O in typeof E!="string"&&(E="?"),g)if(l.call(g,O)){if((S=g[O])||S!=null&&!isNaN(S)||(S=""),O=_(O),S=_(S),O===null||S===null)continue;A.push(O+"="+S)}return A.length?E+A.join("&"):""},p.parse=function(g){for(var E,S=/([^=?#&]+)=?([^&]*)/g,O={};E=S.exec(g);){var A=v(E[1]),u=v(E[2]);A===null||u===null||A in O||(O[A]=u)}return O}},558:function(){}},a={};function i(c){var p=a[c];if(p!==void 0)return p.exports;var l=a[c]={exports:{}};return t[c].call(l.exports,l,l.exports,i),l.exports}return i.n=function(c){var p=c&&c.__esModule?function(){return c.default}:function(){return c};return i.d(p,{a:p}),p},i.d=function(c,p){for(var l in p)i.o(p,l)&&!i.o(c,l)&&Object.defineProperty(c,l,{enumerable:!0,get:p[l]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(c){if(typeof window=="object")return window}}(),i.o=function(c,p){return Object.prototype.hasOwnProperty.call(c,p)},i(80)}()},K.exports=e()})()},27418:K=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var f=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function a(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function i(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var p={},l=0;l<10;l++)p["_"+String.fromCharCode(l)]=l;var v=Object.getOwnPropertyNames(p).map(function(g){return p[g]});if(v.join("")!=="0123456789")return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(g){_[g]=g}),Object.keys(Object.assign({},_)).join("")==="abcdefghijklmnopqrst"}catch(g){return!1}}K.exports=i()?Object.assign:function(c,p){for(var l,v=a(c),_,g=1;g<arguments.length;g++){l=Object(arguments[g]);for(var E in l)e.call(l,E)&&(v[E]=l[E]);if(f){_=f(l);for(var S=0;S<_.length;S++)t.call(l,_[S])&&(v[_[S]]=l[_[S]])}}return v}},70631:(K,f,e)=>{var t=typeof Map=="function"&&Map.prototype,a=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=t&&a&&typeof a.get=="function"?a.get:null,c=t&&Map.prototype.forEach,p=typeof Set=="function"&&Set.prototype,l=Object.getOwnPropertyDescriptor&&p?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,v=p&&l&&typeof l.get=="function"?l.get:null,_=p&&Set.prototype.forEach,g=typeof WeakMap=="function"&&WeakMap.prototype,E=g?WeakMap.prototype.has:null,S=typeof WeakSet=="function"&&WeakSet.prototype,O=S?WeakSet.prototype.has:null,A=typeof WeakRef=="function"&&WeakRef.prototype,u=A?WeakRef.prototype.deref:null,o=Boolean.prototype.valueOf,s=Object.prototype.toString,w=Function.prototype.toString,P=String.prototype.match,C=String.prototype.slice,x=String.prototype.replace,D=String.prototype.toUpperCase,y=String.prototype.toLowerCase,M=RegExp.prototype.test,T=Array.prototype.concat,R=Array.prototype.join,F=Array.prototype.slice,N=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,V=Object.getOwnPropertySymbols,W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",k=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||"symbol")?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ke){return Ke.__proto__}:null);function q(Ke,et){if(Ke===1/0||Ke===-1/0||Ke!==Ke||Ke&&Ke>-1e3&&Ke<1e3||M.call(/e/,et))return et;var Qe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ke=="number"){var $e=Ke<0?-N(-Ke):N(Ke);if($e!==Ke){var Te=String($e),te=C.call(et,Te.length+1);return x.call(Te,Qe,"$&_")+"."+x.call(x.call(te,/([0-9]{3})/g,"$&_"),/_$/,"")}}return x.call(et,Qe,"$&_")}var z=e(24654),ee=z.custom,$=fe(ee)?ee:null;K.exports=function Ke(et,Qe,$e,Te){var te=Qe||{};if(De(te,"quoteStyle")&&te.quoteStyle!=="single"&&te.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(De(te,"maxStringLength")&&(typeof te.maxStringLength=="number"?te.maxStringLength<0&&te.maxStringLength!==1/0:te.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ue=De(te,"customInspect")?te.customInspect:!0;if(typeof ue!="boolean"&&ue!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(De(te,"indent")&&te.indent!==null&&te.indent!=="	"&&!(parseInt(te.indent,10)===te.indent&&te.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(De(te,"numericSeparator")&&typeof te.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var we=te.numericSeparator;if(typeof et=="undefined")return"undefined";if(et===null)return"null";if(typeof et=="boolean")return et?"true":"false";if(typeof et=="string")return ke(et,te);if(typeof et=="number"){if(et===0)return 1/0/et>0?"0":"-0";var me=String(et);return we?q(et,me):me}if(typeof et=="bigint"){var Ee=String(et)+"n";return we?q(et,Ee):Ee}var he=typeof te.depth=="undefined"?5:te.depth;if(typeof $e=="undefined"&&($e=0),$e>=he&&he>0&&typeof et=="object")return Z(et)?"[Array]":"[Object]";var xe=Se(te,$e);if(typeof Te=="undefined")Te=[];else if(Be(Te,et)>=0)return"[Circular]";function Ve(Ce,be,We){if(be&&(Te=F.call(Te),Te.push(be)),We){var qe={depth:te.depth};return De(te,"quoteStyle")&&(qe.quoteStyle=te.quoteStyle),Ke(Ce,qe,$e+1,Te)}return Ke(Ce,te,$e+1,Te)}if(typeof et=="function"&&!ie(et)){var Pe=Je(et),Ie=Fe(et,Ve);return"[Function"+(Pe?": "+Pe:" (anonymous)")+"]"+(Ie.length>0?" { "+R.call(Ie,", ")+" }":"")}if(fe(et)){var ze=L?x.call(String(et),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(et);return typeof et=="object"&&!L?Dt(ze):ze}if(Ne(et)){for(var tt="<"+y.call(String(et.nodeName)),Le=et.attributes||[],It=0;It<Le.length;It++)tt+=" "+Le[It].name+"="+J(j(Le[It].value),"double",te);return tt+=">",et.childNodes&&et.childNodes.length&&(tt+="..."),tt+="</"+y.call(String(et.nodeName))+">",tt}if(Z(et)){if(et.length===0)return"[]";var on=Fe(et,Ve);return xe&&!Oe(on)?"["+Ze(on,xe)+"]":"[ "+R.call(on,", ")+" ]"}if(oe(et)){var zt=Fe(et,Ve);return!("cause"in Error.prototype)&&"cause"in et&&!H.call(et,"cause")?"{ ["+String(et)+"] "+R.call(T.call("[cause]: "+Ve(et.cause),zt),", ")+" }":zt.length===0?"["+String(et)+"]":"{ ["+String(et)+"] "+R.call(zt,", ")+" }"}if(typeof et=="object"&&ue){if($&&typeof et[$]=="function"&&z)return z(et,{depth:he-$e});if(ue!=="symbol"&&typeof et.inspect=="function")return et.inspect()}if(st(et)){var $t=[];return c&&c.call(et,function(Ce,be){$t.push(Ve(be,et,!0)+" => "+Ve(Ce,et))}),ct("Map",i.call(et),$t,xe)}if(Xe(et)){var Bt=[];return _&&_.call(et,function(Ce){Bt.push(Ve(Ce,et))}),ct("Set",v.call(et),Bt,xe)}if(ht(et))return ln("WeakMap");if(Re(et))return ln("WeakSet");if(gt(et))return ln("WeakRef");if(ae(et))return Dt(Ve(Number(et)));if(le(et))return Dt(Ve(U.call(et)));if(se(et))return Dt(o.call(et));if(re(et))return Dt(Ve(String(et)));if(!ne(et)&&!ie(et)){var xn=Fe(et,Ve),Hn=G?G(et)===Object.prototype:et instanceof Object||et.constructor===Object,ir=et instanceof Object?"":"null prototype",Vn=!Hn&&k&&Object(et)===et&&k in et?C.call(je(et),8,-1):ir?"Object":"",_t=Hn||typeof et.constructor!="function"?"":et.constructor.name?et.constructor.name+" ":"",ut=_t+(Vn||ir?"["+R.call(T.call([],Vn||[],ir||[]),": ")+"] ":"");return xn.length===0?ut+"{}":xe?ut+"{"+Ze(xn,xe)+"}":ut+"{ "+R.call(xn,", ")+" }"}return String(et)};function J(Ke,et,Qe){var $e=(Qe.quoteStyle||et)==="double"?'"':"'";return $e+Ke+$e}function j(Ke){return x.call(String(Ke),/"/g,"&quot;")}function Z(Ke){return je(Ke)==="[object Array]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function ne(Ke){return je(Ke)==="[object Date]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function ie(Ke){return je(Ke)==="[object RegExp]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function oe(Ke){return je(Ke)==="[object Error]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function re(Ke){return je(Ke)==="[object String]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function ae(Ke){return je(Ke)==="[object Number]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function se(Ke){return je(Ke)==="[object Boolean]"&&(!k||!(typeof Ke=="object"&&k in Ke))}function fe(Ke){if(L)return Ke&&typeof Ke=="object"&&Ke instanceof Symbol;if(typeof Ke=="symbol")return!0;if(!Ke||typeof Ke!="object"||!W)return!1;try{return W.call(Ke),!0}catch(et){}return!1}function le(Ke){if(!Ke||typeof Ke!="object"||!U)return!1;try{return U.call(Ke),!0}catch(et){}return!1}var Ae=Object.prototype.hasOwnProperty||function(Ke){return Ke in this};function De(Ke,et){return Ae.call(Ke,et)}function je(Ke){return s.call(Ke)}function Je(Ke){if(Ke.name)return Ke.name;var et=P.call(w.call(Ke),/^function\s*([\w$]+)/);return et?et[1]:null}function Be(Ke,et){if(Ke.indexOf)return Ke.indexOf(et);for(var Qe=0,$e=Ke.length;Qe<$e;Qe++)if(Ke[Qe]===et)return Qe;return-1}function st(Ke){if(!i||!Ke||typeof Ke!="object")return!1;try{i.call(Ke);try{v.call(Ke)}catch(et){return!0}return Ke instanceof Map}catch(et){}return!1}function ht(Ke){if(!E||!Ke||typeof Ke!="object")return!1;try{E.call(Ke,E);try{O.call(Ke,O)}catch(et){return!0}return Ke instanceof WeakMap}catch(et){}return!1}function gt(Ke){if(!u||!Ke||typeof Ke!="object")return!1;try{return u.call(Ke),!0}catch(et){}return!1}function Xe(Ke){if(!v||!Ke||typeof Ke!="object")return!1;try{v.call(Ke);try{i.call(Ke)}catch(et){return!0}return Ke instanceof Set}catch(et){}return!1}function Re(Ke){if(!O||!Ke||typeof Ke!="object")return!1;try{O.call(Ke,O);try{E.call(Ke,E)}catch(et){return!0}return Ke instanceof WeakSet}catch(et){}return!1}function Ne(Ke){return!Ke||typeof Ke!="object"?!1:typeof HTMLElement!="undefined"&&Ke instanceof HTMLElement?!0:typeof Ke.nodeName=="string"&&typeof Ke.getAttribute=="function"}function ke(Ke,et){if(Ke.length>et.maxStringLength){var Qe=Ke.length-et.maxStringLength,$e="... "+Qe+" more character"+(Qe>1?"s":"");return ke(C.call(Ke,0,et.maxStringLength),et)+$e}var Te=x.call(x.call(Ke,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ot);return J(Te,"single",et)}function ot(Ke){var et=Ke.charCodeAt(0),Qe={8:"b",9:"t",10:"n",12:"f",13:"r"}[et];return Qe?"\\"+Qe:"\\x"+(et<16?"0":"")+D.call(et.toString(16))}function Dt(Ke){return"Object("+Ke+")"}function ln(Ke){return Ke+" { ? }"}function ct(Ke,et,Qe,$e){var Te=$e?Ze(Qe,$e):R.call(Qe,", ");return Ke+" ("+et+") {"+Te+"}"}function Oe(Ke){for(var et=0;et<Ke.length;et++)if(Be(Ke[et],`
`)>=0)return!1;return!0}function Se(Ke,et){var Qe;if(Ke.indent==="	")Qe="	";else if(typeof Ke.indent=="number"&&Ke.indent>0)Qe=R.call(Array(Ke.indent+1)," ");else return null;return{base:Qe,prev:R.call(Array(et+1),Qe)}}function Ze(Ke,et){if(Ke.length===0)return"";var Qe=`
`+et.prev+et.base;return Qe+R.call(Ke,","+Qe)+`
`+et.prev}function Fe(Ke,et){var Qe=Z(Ke),$e=[];if(Qe){$e.length=Ke.length;for(var Te=0;Te<Ke.length;Te++)$e[Te]=De(Ke,Te)?et(Ke[Te],Ke):""}var te=typeof V=="function"?V(Ke):[],ue;if(L){ue={};for(var we=0;we<te.length;we++)ue["$"+te[we]]=te[we]}for(var me in Ke)De(Ke,me)&&(Qe&&String(Number(me))===me&&me<Ke.length||L&&ue["$"+me]instanceof Symbol||(M.call(/[^\w$]/,me)?$e.push(et(me,Ke)+": "+et(Ke[me],Ke)):$e.push(me+": "+et(Ke[me],Ke))));if(typeof V=="function")for(var Ee=0;Ee<te.length;Ee++)H.call(Ke,te[Ee])&&$e.push("["+et(te[Ee])+"]: "+et(Ke[te[Ee]],Ke));return $e}},10652:(K,f,e)=>{var t,a,i;(function(c,p){a=[e(7158),e(66131)],t=p,i=typeof t=="function"?t.apply(f,a):t,i!==void 0&&(K.exports=i)})(window,function(p,l){"use strict";function v(C){for(var x in C)return!1;return x=null,!0}var _=document.documentElement.style,g=typeof _.transition=="string"?"transition":"WebkitTransition",E=typeof _.transform=="string"?"transform":"WebkitTransform",S={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[g],O={transform:E,transition:g,transitionDuration:g+"Duration",transitionProperty:g+"Property",transitionDelay:g+"Delay"};function A(C,x){C&&(this.element=C,this.layout=x,this.position={x:0,y:0},this._create())}var u=A.prototype=Object.create(p.prototype);u.constructor=A,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(C){var x="on"+C.type;this[x]&&this[x](C)},u.getSize=function(){this.size=l(this.element)},u.css=function(C){var x=this.element.style;for(var D in C){var y=O[D]||D;x[y]=C[D]}},u.getPosition=function(){var C=getComputedStyle(this.element),x=this.layout._getOption("originLeft"),D=this.layout._getOption("originTop"),y=C[x?"left":"right"],M=C[D?"top":"bottom"],T=parseFloat(y),R=parseFloat(M),F=this.layout.size;y.indexOf("%")!=-1&&(T=T/100*F.width),M.indexOf("%")!=-1&&(R=R/100*F.height),T=isNaN(T)?0:T,R=isNaN(R)?0:R,T-=x?F.paddingLeft:F.paddingRight,R-=D?F.paddingTop:F.paddingBottom,this.position.x=T,this.position.y=R},u.layoutPosition=function(){var C=this.layout.size,x={},D=this.layout._getOption("originLeft"),y=this.layout._getOption("originTop"),M=D?"paddingLeft":"paddingRight",T=D?"left":"right",R=D?"right":"left",F=this.position.x+C[M];x[T]=this.getXValue(F),x[R]="";var N=y?"paddingTop":"paddingBottom",U=y?"top":"bottom",V=y?"bottom":"top",W=this.position.y+C[N];x[U]=this.getYValue(W),x[V]="",this.css(x),this.emitEvent("layout",[this])},u.getXValue=function(C){var x=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!x?C/this.layout.size.width*100+"%":C+"px"},u.getYValue=function(C){var x=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&x?C/this.layout.size.height*100+"%":C+"px"},u._transitionTo=function(C,x){this.getPosition();var D=this.position.x,y=this.position.y,M=C==this.position.x&&x==this.position.y;if(this.setPosition(C,x),M&&!this.isTransitioning){this.layoutPosition();return}var T=C-D,R=x-y,F={};F.transform=this.getTranslate(T,R),this.transition({to:F,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(C,x){var D=this.layout._getOption("originLeft"),y=this.layout._getOption("originTop");return C=D?C:-C,x=y?x:-x,"translate3d("+C+"px, "+x+"px, 0)"},u.goTo=function(C,x){this.setPosition(C,x),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(C,x){this.position.x=parseFloat(C),this.position.y=parseFloat(x)},u._nonTransition=function(C){this.css(C.to),C.isCleaning&&this._removeStyles(C.to);for(var x in C.onTransitionEnd)C.onTransitionEnd[x].call(this)},u.transition=function(C){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(C);return}var x=this._transn;for(var D in C.onTransitionEnd)x.onEnd[D]=C.onTransitionEnd[D];for(D in C.to)x.ingProperties[D]=!0,C.isCleaning&&(x.clean[D]=!0);if(C.from){this.css(C.from);var y=this.element.offsetHeight;y=null}this.enableTransition(C.to),this.css(C.to),this.isTransitioning=!0};function o(C){return C.replace(/([A-Z])/g,function(x){return"-"+x.toLowerCase()})}var s="opacity,"+o(E);u.enableTransition=function(){if(!this.isTransitioning){var C=this.layout.options.transitionDuration;C=typeof C=="number"?C+"ms":C,this.css({transitionProperty:s,transitionDuration:C,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(S,this,!1)}},u.onwebkitTransitionEnd=function(C){this.ontransitionend(C)},u.onotransitionend=function(C){this.ontransitionend(C)};var w={"-webkit-transform":"transform"};u.ontransitionend=function(C){if(C.target===this.element){var x=this._transn,D=w[C.propertyName]||C.propertyName;if(delete x.ingProperties[D],v(x.ingProperties)&&this.disableTransition(),D in x.clean&&(this.element.style[C.propertyName]="",delete x.clean[D]),D in x.onEnd){var y=x.onEnd[D];y.call(this),delete x.onEnd[D]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(S,this,!1),this.isTransitioning=!1},u._removeStyles=function(C){var x={};for(var D in C)x[D]="";this.css(x)};var P={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(P)},u.stagger=function(C){C=isNaN(C)?0:C,this.staggerDelay=C+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){if(!g||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},u.reveal=function(){delete this.isHidden,this.css({display:""});var C=this.layout.options,x={},D=this.getHideRevealTransitionEndProperty("visibleStyle");x[D]=this.onRevealTransitionEnd,this.transition({from:C.hiddenStyle,to:C.visibleStyle,isCleaning:!0,onTransitionEnd:x})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(C){var x=this.layout.options[C];if(x.opacity)return"opacity";for(var D in x)return D},u.hide=function(){this.isHidden=!0,this.css({display:""});var C=this.layout.options,x={},D=this.getHideRevealTransitionEndProperty("hiddenStyle");x[D]=this.onHideTransitionEnd,this.transition({from:C.visibleStyle,to:C.hiddenStyle,isCleaning:!0,onTransitionEnd:x})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},A})},71794:(K,f,e)=>{var t,a;/*!
* Outlayer v2.1.1
* the brains and guts of a layout library
* MIT license
*/(function(i,c){"use strict";t=[e(7158),e(66131),e(99047),e(10652)],a=function(p,l,v,_){return c(i,p,l,v,_)}.apply(f,t),a!==void 0&&(K.exports=a)})(window,function(c,p,l,v,_){"use strict";var g=c.console,E=c.jQuery,S=function(){},O=0,A={};function u(C,x){var D=v.getQueryElement(C);if(!D){g&&g.error("Bad element for "+this.constructor.namespace+": "+(D||C));return}this.element=D,E&&(this.$element=E(this.element)),this.options=v.extend({},this.constructor.defaults),this.option(x);var y=++O;this.element.outlayerGUID=y,A[y]=this,this._create();var M=this._getOption("initLayout");M&&this.layout()}u.namespace="outlayer",u.Item=_,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var o=u.prototype;v.extend(o,p.prototype),o.option=function(C){v.extend(this.options,C)},o._getOption=function(C){var x=this.constructor.compatOptions[C];return x&&this.options[x]!==void 0?this.options[x]:this.options[C]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},o._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),v.extend(this.element.style,this.options.containerStyle);var C=this._getOption("resize");C&&this.bindResize()},o.reloadItems=function(){this.items=this._itemize(this.element.children)},o._itemize=function(C){for(var x=this._filterFindItemElements(C),D=this.constructor.Item,y=[],M=0;M<x.length;M++){var T=x[M],R=new D(T,this);y.push(R)}return y},o._filterFindItemElements=function(C){return v.filterFindElements(C,this.options.itemSelector)},o.getItemElements=function(){return this.items.map(function(C){return C.element})},o.layout=function(){this._resetLayout(),this._manageStamps();var C=this._getOption("layoutInstant"),x=C!==void 0?C:!this._isLayoutInited;this.layoutItems(this.items,x),this._isLayoutInited=!0},o._init=o.layout,o._resetLayout=function(){this.getSize()},o.getSize=function(){this.size=l(this.element)},o._getMeasurement=function(C,x){var D=this.options[C],y;D?(typeof D=="string"?y=this.element.querySelector(D):D instanceof HTMLElement&&(y=D),this[C]=y?l(y)[x]:D):this[C]=0},o.layoutItems=function(C,x){C=this._getItemsForLayout(C),this._layoutItems(C,x),this._postLayout()},o._getItemsForLayout=function(C){return C.filter(function(x){return!x.isIgnored})},o._layoutItems=function(C,x){if(this._emitCompleteOnItems("layout",C),!(!C||!C.length)){var D=[];C.forEach(function(y){var M=this._getItemLayoutPosition(y);M.item=y,M.isInstant=x||y.isLayoutInstant,D.push(M)},this),this._processLayoutQueue(D)}},o._getItemLayoutPosition=function(){return{x:0,y:0}},o._processLayoutQueue=function(C){this.updateStagger(),C.forEach(function(x,D){this._positionItem(x.item,x.x,x.y,x.isInstant,D)},this)},o.updateStagger=function(){var C=this.options.stagger;if(C==null){this.stagger=0;return}return this.stagger=P(C),this.stagger},o._positionItem=function(C,x,D,y,M){y?C.goTo(x,D):(C.stagger(M*this.stagger),C.moveTo(x,D))},o._postLayout=function(){this.resizeContainer()},o.resizeContainer=function(){var C=this._getOption("resizeContainer");if(C){var x=this._getContainerSize();x&&(this._setContainerMeasure(x.width,!0),this._setContainerMeasure(x.height,!1))}},o._getContainerSize=S,o._setContainerMeasure=function(C,x){if(C!==void 0){var D=this.size;D.isBorderBox&&(C+=x?D.paddingLeft+D.paddingRight+D.borderLeftWidth+D.borderRightWidth:D.paddingBottom+D.paddingTop+D.borderTopWidth+D.borderBottomWidth),C=Math.max(C,0),this.element.style[x?"width":"height"]=C+"px"}},o._emitCompleteOnItems=function(C,x){var D=this;function y(){D.dispatchEvent(C+"Complete",null,[x])}var M=x.length;if(!x||!M){y();return}var T=0;function R(){T++,T==M&&y()}x.forEach(function(F){F.once(C,R)})},o.dispatchEvent=function(C,x,D){var y=x?[x].concat(D):D;if(this.emitEvent(C,y),E)if(this.$element=this.$element||E(this.element),x){var M=E.Event(x);M.type=C,this.$element.trigger(M,D)}else this.$element.trigger(C,D)},o.ignore=function(C){var x=this.getItem(C);x&&(x.isIgnored=!0)},o.unignore=function(C){var x=this.getItem(C);x&&delete x.isIgnored},o.stamp=function(C){C=this._find(C),C&&(this.stamps=this.stamps.concat(C),C.forEach(this.ignore,this))},o.unstamp=function(C){C=this._find(C),C&&C.forEach(function(x){v.removeFrom(this.stamps,x),this.unignore(x)},this)},o._find=function(C){if(C)return typeof C=="string"&&(C=this.element.querySelectorAll(C)),C=v.makeArray(C),C},o._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},o._getBoundingRect=function(){var C=this.element.getBoundingClientRect(),x=this.size;this._boundingRect={left:C.left+x.paddingLeft+x.borderLeftWidth,top:C.top+x.paddingTop+x.borderTopWidth,right:C.right-(x.paddingRight+x.borderRightWidth),bottom:C.bottom-(x.paddingBottom+x.borderBottomWidth)}},o._manageStamp=S,o._getElementOffset=function(C){var x=C.getBoundingClientRect(),D=this._boundingRect,y=l(C),M={left:x.left-D.left-y.marginLeft,top:x.top-D.top-y.marginTop,right:D.right-x.right-y.marginRight,bottom:D.bottom-x.bottom-y.marginBottom};return M},o.handleEvent=v.handleEvent,o.bindResize=function(){c.addEventListener("resize",this),this.isResizeBound=!0},o.unbindResize=function(){c.removeEventListener("resize",this),this.isResizeBound=!1},o.onresize=function(){this.resize()},v.debounceMethod(u,"onresize",100),o.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},o.needsResizeLayout=function(){var C=l(this.element),x=this.size&&C;return x&&C.innerWidth!==this.size.innerWidth},o.addItems=function(C){var x=this._itemize(C);return x.length&&(this.items=this.items.concat(x)),x},o.appended=function(C){var x=this.addItems(C);x.length&&(this.layoutItems(x,!0),this.reveal(x))},o.prepended=function(C){var x=this._itemize(C);if(x.length){var D=this.items.slice(0);this.items=x.concat(D),this._resetLayout(),this._manageStamps(),this.layoutItems(x,!0),this.reveal(x),this.layoutItems(D)}},o.reveal=function(C){if(this._emitCompleteOnItems("reveal",C),!(!C||!C.length)){var x=this.updateStagger();C.forEach(function(D,y){D.stagger(y*x),D.reveal()})}},o.hide=function(C){if(this._emitCompleteOnItems("hide",C),!(!C||!C.length)){var x=this.updateStagger();C.forEach(function(D,y){D.stagger(y*x),D.hide()})}},o.revealItemElements=function(C){var x=this.getItems(C);this.reveal(x)},o.hideItemElements=function(C){var x=this.getItems(C);this.hide(x)},o.getItem=function(C){for(var x=0;x<this.items.length;x++){var D=this.items[x];if(D.element==C)return D}},o.getItems=function(C){C=v.makeArray(C);var x=[];return C.forEach(function(D){var y=this.getItem(D);y&&x.push(y)},this),x},o.remove=function(C){var x=this.getItems(C);this._emitCompleteOnItems("remove",x),!(!x||!x.length)&&x.forEach(function(D){D.remove(),v.removeFrom(this.items,D)},this)},o.destroy=function(){var C=this.element.style;C.height="",C.position="",C.width="",this.items.forEach(function(D){D.destroy()}),this.unbindResize();var x=this.element.outlayerGUID;delete A[x],delete this.element.outlayerGUID,E&&E.removeData(this.element,this.constructor.namespace)},u.data=function(C){C=v.getQueryElement(C);var x=C&&C.outlayerGUID;return x&&A[x]},u.create=function(C,x){var D=s(u);return D.defaults=v.extend({},u.defaults),v.extend(D.defaults,x),D.compatOptions=v.extend({},u.compatOptions),D.namespace=C,D.data=u.data,D.Item=s(_),v.htmlInit(D,C),E&&E.bridget&&E.bridget(C,D),D};function s(C){function x(){C.apply(this,arguments)}return x.prototype=Object.create(C.prototype),x.prototype.constructor=x,x}var w={ms:1,s:1e3};function P(C){if(typeof C=="number")return C;var x=C.match(/(^\d*\.?\d*)(\w*)/),D=x&&x[1],y=x&&x[2];if(!D.length)return 0;D=parseFloat(D);var M=w[y]||1;return D*M}return u.Item=_,u})},79430:function(K,f){var e,t,a;(function(i,c){t=[],e=c,a=typeof e=="function"?e.apply(f,t):e,a!==void 0&&(K.exports=a)})(this,function(){return function(i){function c(y){return y===" "||y==="	"||y===`
`||y==="\f"||y==="\r"}function p(y){var M,T=y.exec(i.substring(P));if(T)return M=T[0],P+=M.length,M}for(var l=i.length,v=/^[ \t\n\r\u000c]+/,_=/^[, \t\n\r\u000c]+/,g=/^[^ \t\n\r\u000c]+/,E=/[,]+$/,S=/^\d+$/,O=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,A,u,o,s,w,P=0,C=[];;){if(p(_),P>=l)return C;A=p(g),u=[],A.slice(-1)===","?(A=A.replace(E,""),D()):x()}function x(){for(p(v),o="",s="in descriptor";;){if(w=i.charAt(P),s==="in descriptor")if(c(w))o&&(u.push(o),o="",s="after descriptor");else if(w===","){P+=1,o&&u.push(o),D();return}else if(w==="(")o=o+w,s="in parens";else if(w===""){o&&u.push(o),D();return}else o=o+w;else if(s==="in parens")if(w===")")o=o+w,s="in descriptor";else if(w===""){u.push(o),D();return}else o=o+w;else if(s==="after descriptor"&&!c(w))if(w===""){D();return}else s="in descriptor",P-=1;P+=1}}function D(){var y=!1,M,T,R,F,N={},U,V,W,L,k;for(F=0;F<u.length;F++)U=u[F],V=U[U.length-1],W=U.substring(0,U.length-1),L=parseInt(W,10),k=parseFloat(W),S.test(W)&&V==="w"?((M||T)&&(y=!0),L===0?y=!0:M=L):O.test(W)&&V==="x"?((M||T||R)&&(y=!0),k<0?y=!0:T=k):S.test(W)&&V==="h"?((R||T)&&(y=!0),L===0?y=!0:R=L):y=!0;y?console&&console.log&&console.log("Invalid srcset descriptor found in '"+i+"' at '"+U+"'."):(N.url=A,M&&(N.w=M),T&&(N.d=T),R&&(N.h=R),C.push(N))}}})},26470:K=>{"use strict";function f(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function e(i,c){for(var p="",l=0,v=-1,_=0,g,E=0;E<=i.length;++E){if(E<i.length)g=i.charCodeAt(E);else{if(g===47)break;g=47}if(g===47){if(!(v===E-1||_===1))if(v!==E-1&&_===2){if(p.length<2||l!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var S=p.lastIndexOf("/");if(S!==p.length-1){S===-1?(p="",l=0):(p=p.slice(0,S),l=p.length-1-p.lastIndexOf("/")),v=E,_=0;continue}}else if(p.length===2||p.length===1){p="",l=0,v=E,_=0;continue}}c&&(p.length>0?p+="/..":p="..",l=2)}else p.length>0?p+="/"+i.slice(v+1,E):p=i.slice(v+1,E),l=E-v-1;v=E,_=0}else g===46&&_!==-1?++_:_=-1}return p}function t(i,c){var p=c.dir||c.root,l=c.base||(c.name||"")+(c.ext||"");return p?p===c.root?p+l:p+i+l:l}var a={resolve:function(){for(var c="",p=!1,l,v=arguments.length-1;v>=-1&&!p;v--){var _;v>=0?_=arguments[v]:(l===void 0&&(l=process.cwd()),_=l),f(_),_.length!==0&&(c=_+"/"+c,p=_.charCodeAt(0)===47)}return c=e(c,!p),p?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(c){if(f(c),c.length===0)return".";var p=c.charCodeAt(0)===47,l=c.charCodeAt(c.length-1)===47;return c=e(c,!p),c.length===0&&!p&&(c="."),c.length>0&&l&&(c+="/"),p?"/"+c:c},isAbsolute:function(c){return f(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,p=0;p<arguments.length;++p){var l=arguments[p];f(l),l.length>0&&(c===void 0?c=l:c+="/"+l)}return c===void 0?".":a.normalize(c)},relative:function(c,p){if(f(c),f(p),c===p||(c=a.resolve(c),p=a.resolve(p),c===p))return"";for(var l=1;l<c.length&&c.charCodeAt(l)===47;++l);for(var v=c.length,_=v-l,g=1;g<p.length&&p.charCodeAt(g)===47;++g);for(var E=p.length,S=E-g,O=_<S?_:S,A=-1,u=0;u<=O;++u){if(u===O){if(S>O){if(p.charCodeAt(g+u)===47)return p.slice(g+u+1);if(u===0)return p.slice(g+u)}else _>O&&(c.charCodeAt(l+u)===47?A=u:u===0&&(A=0));break}var o=c.charCodeAt(l+u),s=p.charCodeAt(g+u);if(o!==s)break;o===47&&(A=u)}var w="";for(u=l+A+1;u<=v;++u)(u===v||c.charCodeAt(u)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+p.slice(g+A):(g+=A,p.charCodeAt(g)===47&&++g,p.slice(g))},_makeLong:function(c){return c},dirname:function(c){if(f(c),c.length===0)return".";for(var p=c.charCodeAt(0),l=p===47,v=-1,_=!0,g=c.length-1;g>=1;--g)if(p=c.charCodeAt(g),p===47){if(!_){v=g;break}}else _=!1;return v===-1?l?"/":".":l&&v===1?"//":c.slice(0,v)},basename:function(c,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');f(c);var l=0,v=-1,_=!0,g;if(p!==void 0&&p.length>0&&p.length<=c.length){if(p.length===c.length&&p===c)return"";var E=p.length-1,S=-1;for(g=c.length-1;g>=0;--g){var O=c.charCodeAt(g);if(O===47){if(!_){l=g+1;break}}else S===-1&&(_=!1,S=g+1),E>=0&&(O===p.charCodeAt(E)?--E===-1&&(v=g):(E=-1,v=S))}return l===v?v=S:v===-1&&(v=c.length),c.slice(l,v)}else{for(g=c.length-1;g>=0;--g)if(c.charCodeAt(g)===47){if(!_){l=g+1;break}}else v===-1&&(_=!1,v=g+1);return v===-1?"":c.slice(l,v)}},extname:function(c){f(c);for(var p=-1,l=0,v=-1,_=!0,g=0,E=c.length-1;E>=0;--E){var S=c.charCodeAt(E);if(S===47){if(!_){l=E+1;break}continue}v===-1&&(_=!1,v=E+1),S===46?p===-1?p=E:g!==1&&(g=1):p!==-1&&(g=-1)}return p===-1||v===-1||g===0||g===1&&p===v-1&&p===l+1?"":c.slice(p,v)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return t("/",c)},parse:function(c){f(c);var p={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return p;var l=c.charCodeAt(0),v=l===47,_;v?(p.root="/",_=1):_=0;for(var g=-1,E=0,S=-1,O=!0,A=c.length-1,u=0;A>=_;--A){if(l=c.charCodeAt(A),l===47){if(!O){E=A+1;break}continue}S===-1&&(O=!1,S=A+1),l===46?g===-1?g=A:u!==1&&(u=1):g!==-1&&(u=-1)}return g===-1||S===-1||u===0||u===1&&g===S-1&&g===E+1?S!==-1&&(E===0&&v?p.base=p.name=c.slice(1,S):p.base=p.name=c.slice(E,S)):(E===0&&v?(p.name=c.slice(1,g),p.base=c.slice(1,S)):(p.name=c.slice(E,g),p.base=c.slice(E,S)),p.ext=c.slice(g,S)),E>0?p.dir=c.slice(0,E-1):v&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,K.exports=a},74241:K=>{var f=String,e=function(){return{isColorSupported:!1,reset:f,bold:f,dim:f,italic:f,underline:f,inverse:f,hidden:f,strikethrough:f,black:f,red:f,green:f,yellow:f,blue:f,magenta:f,cyan:f,white:f,gray:f,bgBlack:f,bgRed:f,bgGreen:f,bgYellow:f,bgBlue:f,bgMagenta:f,bgCyan:f,bgWhite:f}};K.exports=e(),K.exports.createColors=e},41353:(K,f,e)=>{"use strict";let t=e(21019);class a extends t{constructor(c){super(c),this.type="atrule"}append(...c){return this.proxyOf.nodes||(this.nodes=[]),super.append(...c)}prepend(...c){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...c)}}K.exports=a,a.default=a,t.registerAtRule(a)},69932:(K,f,e)=>{"use strict";let t=e(65631);class a extends t{constructor(c){super(c),this.type="comment"}}K.exports=a,a.default=a},21019:(K,f,e)=>{"use strict";let{isClean:t,my:a}=e(65513),i=e(94258),c=e(69932),p=e(65631),l,v,_,g;function E(A){return A.map(u=>(u.nodes&&(u.nodes=E(u.nodes)),delete u.source,u))}function S(A){if(A[t]=!1,A.proxyOf.nodes)for(let u of A.proxyOf.nodes)S(u)}class O extends p{push(u){return u.parent=this,this.proxyOf.nodes.push(u),this}each(u){if(!this.proxyOf.nodes)return;let o=this.getIterator(),s,w;for(;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],w=u(this.proxyOf.nodes[s],s),w!==!1);)this.indexes[o]+=1;return delete this.indexes[o],w}walk(u){return this.each((o,s)=>{let w;try{w=u(o,s)}catch(P){throw o.addToError(P)}return w!==!1&&o.walk&&(w=o.walk(u)),w})}walkDecls(u,o){return o?u instanceof RegExp?this.walk((s,w)=>{if(s.type==="decl"&&u.test(s.prop))return o(s,w)}):this.walk((s,w)=>{if(s.type==="decl"&&s.prop===u)return o(s,w)}):(o=u,this.walk((s,w)=>{if(s.type==="decl")return o(s,w)}))}walkRules(u,o){return o?u instanceof RegExp?this.walk((s,w)=>{if(s.type==="rule"&&u.test(s.selector))return o(s,w)}):this.walk((s,w)=>{if(s.type==="rule"&&s.selector===u)return o(s,w)}):(o=u,this.walk((s,w)=>{if(s.type==="rule")return o(s,w)}))}walkAtRules(u,o){return o?u instanceof RegExp?this.walk((s,w)=>{if(s.type==="atrule"&&u.test(s.name))return o(s,w)}):this.walk((s,w)=>{if(s.type==="atrule"&&s.name===u)return o(s,w)}):(o=u,this.walk((s,w)=>{if(s.type==="atrule")return o(s,w)}))}walkComments(u){return this.walk((o,s)=>{if(o.type==="comment")return u(o,s)})}append(...u){for(let o of u){let s=this.normalize(o,this.last);for(let w of s)this.proxyOf.nodes.push(w)}return this.markDirty(),this}prepend(...u){u=u.reverse();for(let o of u){let s=this.normalize(o,this.first,"prepend").reverse();for(let w of s)this.proxyOf.nodes.unshift(w);for(let w in this.indexes)this.indexes[w]=this.indexes[w]+s.length}return this.markDirty(),this}cleanRaws(u){if(super.cleanRaws(u),this.nodes)for(let o of this.nodes)o.cleanRaws(u)}insertBefore(u,o){let s=this.index(u),w=s===0?"prepend":!1,P=this.normalize(o,this.proxyOf.nodes[s],w).reverse();s=this.index(u);for(let x of P)this.proxyOf.nodes.splice(s,0,x);let C;for(let x in this.indexes)C=this.indexes[x],s<=C&&(this.indexes[x]=C+P.length);return this.markDirty(),this}insertAfter(u,o){let s=this.index(u),w=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(u);for(let C of w)this.proxyOf.nodes.splice(s+1,0,C);let P;for(let C in this.indexes)P=this.indexes[C],s<P&&(this.indexes[C]=P+w.length);return this.markDirty(),this}removeChild(u){u=this.index(u),this.proxyOf.nodes[u].parent=void 0,this.proxyOf.nodes.splice(u,1);let o;for(let s in this.indexes)o=this.indexes[s],o>=u&&(this.indexes[s]=o-1);return this.markDirty(),this}removeAll(){for(let u of this.proxyOf.nodes)u.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(u,o,s){return s||(s=o,o={}),this.walkDecls(w=>{o.props&&!o.props.includes(w.prop)||o.fast&&!w.value.includes(o.fast)||(w.value=w.value.replace(u,s))}),this.markDirty(),this}every(u){return this.nodes.every(u)}some(u){return this.nodes.some(u)}index(u){return typeof u=="number"?u:(u.proxyOf&&(u=u.proxyOf),this.proxyOf.nodes.indexOf(u))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(u,o){if(typeof u=="string")u=E(l(u).nodes);else if(Array.isArray(u)){u=u.slice(0);for(let w of u)w.parent&&w.parent.removeChild(w,"ignore")}else if(u.type==="root"&&this.type!=="document"){u=u.nodes.slice(0);for(let w of u)w.parent&&w.parent.removeChild(w,"ignore")}else if(u.type)u=[u];else if(u.prop){if(typeof u.value=="undefined")throw new Error("Value field is missed in node creation");typeof u.value!="string"&&(u.value=String(u.value)),u=[new i(u)]}else if(u.selector)u=[new v(u)];else if(u.name)u=[new _(u)];else if(u.text)u=[new c(u)];else throw new Error("Unknown node type in node creation");return u.map(w=>(w[a]||O.rebuild(w),w=w.proxyOf,w.parent&&w.parent.removeChild(w),w[t]&&S(w),typeof w.raws.before=="undefined"&&o&&typeof o.raws.before!="undefined"&&(w.raws.before=o.raws.before.replace(/\S/g,"")),w.parent=this.proxyOf,w))}getProxyProcessor(){return{set(u,o,s){return u[o]===s||(u[o]=s,(o==="name"||o==="params"||o==="selector")&&u.markDirty()),!0},get(u,o){return o==="proxyOf"?u:u[o]?o==="each"||typeof o=="string"&&o.startsWith("walk")?(...s)=>u[o](...s.map(w=>typeof w=="function"?(P,C)=>w(P.toProxy(),C):w)):o==="every"||o==="some"?s=>u[o]((w,...P)=>s(w.toProxy(),...P)):o==="root"?()=>u.root().toProxy():o==="nodes"?u.nodes.map(s=>s.toProxy()):o==="first"||o==="last"?u[o].toProxy():u[o]:u[o]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let u=this.lastEach;return this.indexes[u]=0,u}}O.registerParse=A=>{l=A},O.registerRule=A=>{v=A},O.registerAtRule=A=>{_=A},O.registerRoot=A=>{g=A},K.exports=O,O.default=O,O.rebuild=A=>{A.type==="atrule"?Object.setPrototypeOf(A,_.prototype):A.type==="rule"?Object.setPrototypeOf(A,v.prototype):A.type==="decl"?Object.setPrototypeOf(A,i.prototype):A.type==="comment"?Object.setPrototypeOf(A,c.prototype):A.type==="root"&&Object.setPrototypeOf(A,g.prototype),A[a]=!0,A.nodes&&A.nodes.forEach(u=>{O.rebuild(u)})}},42671:(K,f,e)=>{"use strict";let t=e(74241),a=e(22868);class i extends Error{constructor(p,l,v,_,g,E){super(p),this.name="CssSyntaxError",this.reason=p,g&&(this.file=g),_&&(this.source=_),E&&(this.plugin=E),typeof l!="undefined"&&typeof v!="undefined"&&(typeof l=="number"?(this.line=l,this.column=v):(this.line=l.line,this.column=l.column,this.endLine=v.line,this.endColumn=v.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,i)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(p){if(!this.source)return"";let l=this.source;p==null&&(p=t.isColorSupported),a&&p&&(l=a(l));let v=l.split(/\r?\n/),_=Math.max(this.line-3,0),g=Math.min(this.line+2,v.length),E=String(g).length,S,O;if(p){let{bold:A,red:u,gray:o}=t.createColors(!0);S=s=>A(u(s)),O=s=>o(s)}else S=O=A=>A;return v.slice(_,g).map((A,u)=>{let o=_+1+u,s=" "+(" "+o).slice(-E)+" | ";if(o===this.line){let w=O(s.replace(/\d/g," "))+A.slice(0,this.column-1).replace(/[^\t]/g," ");return S(">")+O(s)+A+`
 `+w+S("^")}return" "+O(s)+A}).join(`
`)}toString(){let p=this.showSourceCode();return p&&(p=`

`+p+`
`),this.name+": "+this.message+p}}K.exports=i,i.default=i},94258:(K,f,e)=>{"use strict";let t=e(65631);class a extends t{constructor(c){c&&typeof c.value!="undefined"&&typeof c.value!="string"&&(c=No(yr({},c),{value:String(c.value)})),super(c),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}K.exports=a,a.default=a},26461:(K,f,e)=>{"use strict";let t=e(21019),a,i;class c extends t{constructor(l){super(yr({type:"document"},l)),this.nodes||(this.nodes=[])}toResult(l={}){return new a(new i,this,l).stringify()}}c.registerLazyResult=p=>{a=p},c.registerProcessor=p=>{i=p},K.exports=c,c.default=c},50250:(K,f,e)=>{"use strict";let t=e(94258),a=e(47981),i=e(69932),c=e(41353),p=e(5995),l=e(41025),v=e(31675);function _(g,E){if(Array.isArray(g))return g.map(o=>_(o));let A=g,{inputs:S}=A,O=ai(A,["inputs"]);if(S){E=[];for(let o of S){let s=No(yr({},o),{__proto__:p.prototype});s.map&&(s.map=No(yr({},s.map),{__proto__:a.prototype})),E.push(s)}}if(O.nodes&&(O.nodes=g.nodes.map(o=>_(o,E))),O.source){let u=O.source,{inputId:o}=u,s=ai(u,["inputId"]);O.source=s,o!=null&&(O.source.input=E[o])}if(O.type==="root")return new l(O);if(O.type==="decl")return new t(O);if(O.type==="rule")return new v(O);if(O.type==="comment")return new i(O);if(O.type==="atrule")return new c(O);throw new Error("Unknown node type: "+g.type)}K.exports=_,_.default=_},5995:(K,f,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:a}=e(70209),{fileURLToPath:i,pathToFileURL:c}=e(87414),{resolve:p,isAbsolute:l}=e(99830),{nanoid:v}=e(62961),_=e(22868),g=e(42671),E=e(47981),S=Symbol("fromOffsetCache"),O=!!(t&&a),A=!!(p&&l);class u{constructor(s,w={}){if(s===null||typeof s=="undefined"||typeof s=="object"&&!s.toString)throw new Error(`PostCSS received ${s} instead of CSS string`);if(this.css=s.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,w.from&&(!A||/^\w+:\/\//.test(w.from)||l(w.from)?this.file=w.from:this.file=p(w.from)),A&&O){let P=new E(this.css,w);if(P.text){this.map=P;let C=P.consumer().file;!this.file&&C&&(this.file=this.mapResolve(C))}}this.file||(this.id="<input css "+v(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(s){let w,P;if(this[S])P=this[S];else{let x=this.css.split(`
`);P=new Array(x.length);let D=0;for(let y=0,M=x.length;y<M;y++)P[y]=D,D+=x[y].length+1;this[S]=P}w=P[P.length-1];let C=0;if(s>=w)C=P.length-1;else{let x=P.length-2,D;for(;C<x;)if(D=C+(x-C>>1),s<P[D])x=D-1;else if(s>=P[D+1])C=D+1;else{C=D;break}}return{line:C+1,col:s-P[C]+1}}error(s,w,P,C={}){let x,D,y;if(w&&typeof w=="object"){let T=w,R=P;if(typeof T.offset=="number"){let F=this.fromOffset(T.offset);w=F.line,P=F.col}else w=T.line,P=T.column;if(typeof R.offset=="number"){let F=this.fromOffset(R.offset);D=F.line,y=F.col}else D=R.line,y=R.column}else if(!P){let T=this.fromOffset(w);w=T.line,P=T.col}let M=this.origin(w,P,D,y);return M?x=new g(s,M.endLine===void 0?M.line:{line:M.line,column:M.column},M.endLine===void 0?M.column:{line:M.endLine,column:M.endColumn},M.source,M.file,C.plugin):x=new g(s,D===void 0?w:{line:w,column:P},D===void 0?P:{line:D,column:y},this.css,this.file,C.plugin),x.input={line:w,column:P,endLine:D,endColumn:y,source:this.css},this.file&&(c&&(x.input.url=c(this.file).toString()),x.input.file=this.file),x}origin(s,w,P,C){if(!this.map)return!1;let x=this.map.consumer(),D=x.originalPositionFor({line:s,column:w});if(!D.source)return!1;let y;typeof P=="number"&&(y=x.originalPositionFor({line:P,column:C}));let M;l(D.source)?M=c(D.source):M=new URL(D.source,this.map.consumer().sourceRoot||c(this.map.mapFile));let T={url:M.toString(),line:D.line,column:D.column,endLine:y&&y.line,endColumn:y&&y.column};if(M.protocol==="file:")if(i)T.file=i(M);else throw new Error("file: protocol is not available in this PostCSS build");let R=x.sourceContentFor(D.source);return R&&(T.source=R),T}mapResolve(s){return/^\w+:\/\//.test(s)?s:p(this.map.consumer().sourceRoot||this.map.root||".",s)}get from(){return this.file||this.id}toJSON(){let s={};for(let w of["hasBOM","css","file","id"])this[w]!=null&&(s[w]=this[w]);return this.map&&(s.map=yr({},this.map),s.map.consumerCache&&(s.map.consumerCache=void 0)),s}}K.exports=u,u.default=u,_&&_.registerInput&&_.registerInput(u)},21939:(K,f,e)=>{"use strict";let{isClean:t,my:a}=e(65513),i=e(48505),c=e(67088),p=e(21019),l=e(26461),v=e(72448),_=e(83632),g=e(66939),E=e(41025);const S={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},O={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},A={postcssPlugin:!0,prepare:!0,Once:!0},u=0;function o(D){return typeof D=="object"&&typeof D.then=="function"}function s(D){let y=!1,M=S[D.type];return D.type==="decl"?y=D.prop.toLowerCase():D.type==="atrule"&&(y=D.name.toLowerCase()),y&&D.append?[M,M+"-"+y,u,M+"Exit",M+"Exit-"+y]:y?[M,M+"-"+y,M+"Exit",M+"Exit-"+y]:D.append?[M,u,M+"Exit"]:[M,M+"Exit"]}function w(D){let y;return D.type==="document"?y=["Document",u,"DocumentExit"]:D.type==="root"?y=["Root",u,"RootExit"]:y=s(D),{node:D,events:y,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function P(D){return D[t]=!1,D.nodes&&D.nodes.forEach(y=>P(y)),D}let C={};class x{constructor(y,M,T){this.stringified=!1,this.processed=!1;let R;if(typeof M=="object"&&M!==null&&(M.type==="root"||M.type==="document"))R=P(M);else if(M instanceof x||M instanceof _)R=P(M.root),M.map&&(typeof T.map=="undefined"&&(T.map={}),T.map.inline||(T.map.inline=!1),T.map.prev=M.map);else{let F=g;T.syntax&&(F=T.syntax.parse),T.parser&&(F=T.parser),F.parse&&(F=F.parse);try{R=F(M,T)}catch(N){this.processed=!0,this.error=N}R&&!R[a]&&p.rebuild(R)}this.result=new _(y,R,T),this.helpers=No(yr({},C),{result:this.result,postcss:C}),this.plugins=this.processor.plugins.map(F=>typeof F=="object"&&F.prepare?yr(yr({},F),F.prepare(this.result)):F)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(y,M){return this.async().then(y,M)}catch(y){return this.async().catch(y)}finally(y){return this.async().then(y,y)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let y of this.plugins){let M=this.runOnRoot(y);if(o(M))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[t];)y[t]=!0,this.walkSync(y);if(this.listeners.OnceExit)if(y.type==="document")for(let M of y.nodes)this.visitSync(this.listeners.OnceExit,M);else this.visitSync(this.listeners.OnceExit,y)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let y=this.result.opts,M=c;y.syntax&&(M=y.syntax.stringify),y.stringifier&&(M=y.stringifier),M.stringify&&(M=M.stringify);let R=new i(M,this.result.root,this.result.opts).generate();return this.result.css=R[0],this.result.map=R[1],this.result}walkSync(y){y[t]=!0;let M=s(y);for(let T of M)if(T===u)y.nodes&&y.each(R=>{R[t]||this.walkSync(R)});else{let R=this.listeners[T];if(R&&this.visitSync(R,y.toProxy()))return}}visitSync(y,M){for(let[T,R]of y){this.result.lastPlugin=T;let F;try{F=R(M,this.helpers)}catch(N){throw this.handleError(N,M.proxyOf)}if(M.type!=="root"&&M.type!=="document"&&!M.parent)return!0;if(o(F))throw this.getAsyncError()}}runOnRoot(y){this.result.lastPlugin=y;try{if(typeof y=="object"&&y.Once){if(this.result.root.type==="document"){let M=this.result.root.nodes.map(T=>y.Once(T,this.helpers));return o(M[0])?Promise.all(M):M}return y.Once(this.result.root,this.helpers)}else if(typeof y=="function")return y(this.result.root,this.result)}catch(M){throw this.handleError(M)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(y,M){let T=this.result.lastPlugin;try{M&&M.addToError(y),this.error=y,y.name==="CssSyntaxError"&&!y.plugin?(y.plugin=T.postcssPlugin,y.setMessage()):T.postcssVersion}catch(R){console&&console.error&&console.error(R)}return y}runAsync(){return Qi(this,null,function*(){this.plugin=0;for(let y=0;y<this.plugins.length;y++){let M=this.plugins[y],T=this.runOnRoot(M);if(o(T))try{yield T}catch(R){throw this.handleError(R)}}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[t];){y[t]=!0;let M=[w(y)];for(;M.length>0;){let T=this.visitTick(M);if(o(T))try{yield T}catch(R){let F=M[M.length-1].node;throw this.handleError(R,F)}}}if(this.listeners.OnceExit)for(let[M,T]of this.listeners.OnceExit){this.result.lastPlugin=M;try{if(y.type==="document"){let R=y.nodes.map(F=>T(F,this.helpers));yield Promise.all(R)}else yield T(y,this.helpers)}catch(R){throw this.handleError(R)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let y=(M,T,R)=>{this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push([M,R])};for(let M of this.plugins)if(typeof M=="object")for(let T in M){if(!O[T]&&/^[A-Z]/.test(T))throw new Error(`Unknown event ${T} in ${M.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!A[T])if(typeof M[T]=="object")for(let R in M[T])R==="*"?y(M,T,M[T][R]):y(M,T+"-"+R.toLowerCase(),M[T][R]);else typeof M[T]=="function"&&y(M,T,M[T])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(y){let M=y[y.length-1],{node:T,visitors:R}=M;if(T.type!=="root"&&T.type!=="document"&&!T.parent){y.pop();return}if(R.length>0&&M.visitorIndex<R.length){let[N,U]=R[M.visitorIndex];M.visitorIndex+=1,M.visitorIndex===R.length&&(M.visitors=[],M.visitorIndex=0),this.result.lastPlugin=N;try{return U(T.toProxy(),this.helpers)}catch(V){throw this.handleError(V,T)}}if(M.iterator!==0){let N=M.iterator,U;for(;U=T.nodes[T.indexes[N]];)if(T.indexes[N]+=1,!U[t]){U[t]=!0,y.push(w(U));return}M.iterator=0,delete T.indexes[N]}let F=M.events;for(;M.eventIndex<F.length;){let N=F[M.eventIndex];if(M.eventIndex+=1,N===u){T.nodes&&T.nodes.length&&(T[t]=!0,M.iterator=T.getIterator());return}else if(this.listeners[N]){M.visitors=this.listeners[N];return}}y.pop()}}x.registerPostcss=D=>{C=D},K.exports=x,x.default=x,E.registerLazyResult(x),l.registerLazyResult(x)},54715:K=>{"use strict";let f={split(e,t,a){let i=[],c="",p=!1,l=0,v=!1,_="",g=!1;for(let E of e)g?g=!1:E==="\\"?g=!0:v?E===_&&(v=!1):E==='"'||E==="'"?(v=!0,_=E):E==="("?l+=1:E===")"?l>0&&(l-=1):l===0&&t.includes(E)&&(p=!0),p?(c!==""&&i.push(c.trim()),c="",p=!1):c+=E;return(a||c!=="")&&i.push(c.trim()),i},space(e){let t=[" ",`
`,"	"];return f.split(e,t)},comma(e){return f.split(e,[","],!0)}};K.exports=f,f.default=f},48505:(K,f,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:a}=e(70209),{dirname:i,resolve:c,relative:p,sep:l}=e(99830),{pathToFileURL:v}=e(87414),_=e(5995),g=!!(t&&a),E=!!(i&&c&&p&&l);class S{constructor(A,u,o,s){this.stringify=A,this.mapOpts=o.map||{},this.root=u,this.opts=o,this.css=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(A=>{if(A.source&&A.source.input.map){let u=A.source.input.map;this.previousMaps.includes(u)||this.previousMaps.push(u)}});else{let A=new _(this.css,this.opts);A.map&&this.previousMaps.push(A.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let A=this.mapOpts.annotation;return typeof A!="undefined"&&A!==!0?!1:this.previous().length?this.previous().some(u=>u.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(A=>A.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let A;for(let u=this.root.nodes.length-1;u>=0;u--)A=this.root.nodes[u],A.type==="comment"&&A.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(u)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let A={};if(this.root)this.root.walk(u=>{if(u.source){let o=u.source.input.from;if(o&&!A[o]){A[o]=!0;let s=this.usesFileUrls?this.toFileUrl(o):this.toUrl(this.path(o));this.map.setSourceContent(s,u.source.input.css)}}});else if(this.css){let u=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(u,this.css)}}applyPrevMaps(){for(let A of this.previous()){let u=this.toUrl(this.path(A.file)),o=A.root||i(A.file),s;this.mapOpts.sourcesContent===!1?(s=new t(A.text),s.sourcesContent&&(s.sourcesContent=s.sourcesContent.map(()=>null))):s=A.consumer(),this.map.applySourceMap(s,u,this.toUrl(this.path(o)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(A=>A.annotation):!0}toBase64(A){return Buffer?Buffer.from(A).toString("base64"):window.btoa(unescape(encodeURIComponent(A)))}addAnnotation(){let A;this.isInline()?A="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?A=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?A=this.mapOpts.annotation(this.opts.to,this.root):A=this.outputFile()+".map";let u=`
`;this.css.includes(`\r
`)&&(u=`\r
`),this.css+=u+"/*# sourceMappingURL="+A+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let A=this.previous()[0].consumer();A.file=this.outputFile(),this.map=a.fromSourceMap(A)}else this.map=new a({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(A){if(A.indexOf("<")===0||/^\w+:\/\//.test(A)||this.mapOpts.absolute)return A;let u=this.opts.to?i(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(u=i(c(u,this.mapOpts.annotation))),A=p(u,A),A}toUrl(A){return l==="\\"&&(A=A.replace(/\\/g,"/")),encodeURI(A).replace(/[#?]/g,encodeURIComponent)}toFileUrl(A){if(v)return v(A).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(A){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(A.source.input.from):this.toUrl(this.path(A.source.input.from))}generateString(){this.css="",this.map=new a({file:this.outputFile()});let A=1,u=1,o="<no source>",s={source:"",generated:{line:0,column:0},original:{line:0,column:0}},w,P;this.stringify(this.root,(C,x,D)=>{if(this.css+=C,x&&D!=="end"&&(s.generated.line=A,s.generated.column=u-1,x.source&&x.source.start?(s.source=this.sourcePath(x),s.original.line=x.source.start.line,s.original.column=x.source.start.column-1,this.map.addMapping(s)):(s.source=o,s.original.line=1,s.original.column=0,this.map.addMapping(s))),w=C.match(/\n/g),w?(A+=w.length,P=C.lastIndexOf(`
`),u=C.length-P):u+=C.length,x&&D!=="start"){let y=x.parent||{raws:{}};(!(x.type==="decl"||x.type==="atrule"&&!x.nodes)||x!==y.last||y.raws.semicolon)&&(x.source&&x.source.end?(s.source=this.sourcePath(x),s.original.line=x.source.end.line,s.original.column=x.source.end.column-1,s.generated.line=A,s.generated.column=u-2,this.map.addMapping(s)):(s.source=o,s.original.line=1,s.original.column=0,s.generated.line=A,s.generated.column=u-1,this.map.addMapping(s)))}})}generate(){if(this.clearAnnotation(),E&&g&&this.isMap())return this.generateMap();{let A="";return this.stringify(this.root,u=>{A+=u}),[A]}}}K.exports=S},47647:(K,f,e)=>{"use strict";let t=e(48505),a=e(67088),i=e(72448),c=e(66939);const p=e(83632);class l{constructor(_,g,E){g=g.toString(),this.stringified=!1,this._processor=_,this._css=g,this._opts=E,this._map=void 0;let S,O=a;this.result=new p(this._processor,S,this._opts),this.result.css=g;let A=this;Object.defineProperty(this.result,"root",{get(){return A.root}});let u=new t(O,S,this._opts,g);if(u.isMap()){let[o,s]=u.generate();o&&(this.result.css=o),s&&(this.result.map=s)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let _,g=c;try{_=g(this._css,this._opts)}catch(E){this.error=E}if(this.error)throw this.error;return this._root=_,_}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(_,g){return this.async().then(_,g)}catch(_){return this.async().catch(_)}finally(_){return this.async().then(_,_)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}K.exports=l,l.default=l},65631:(K,f,e)=>{"use strict";let{isClean:t,my:a}=e(65513),i=e(42671),c=e(1062),p=e(67088);function l(_,g){let E=new _.constructor;for(let S in _){if(!Object.prototype.hasOwnProperty.call(_,S)||S==="proxyCache")continue;let O=_[S],A=typeof O;S==="parent"&&A==="object"?g&&(E[S]=g):S==="source"?E[S]=O:Array.isArray(O)?E[S]=O.map(u=>l(u,E)):(A==="object"&&O!==null&&(O=l(O)),E[S]=O)}return E}class v{constructor(g={}){this.raws={},this[t]=!1,this[a]=!0;for(let E in g)if(E==="nodes"){this.nodes=[];for(let S of g[E])typeof S.clone=="function"?this.append(S.clone()):this.append(S)}else this[E]=g[E]}error(g,E={}){if(this.source){let{start:S,end:O}=this.rangeBy(E);return this.source.input.error(g,{line:S.line,column:S.column},{line:O.line,column:O.column},E)}return new i(g)}warn(g,E,S){let O={node:this};for(let A in S)O[A]=S[A];return g.warn(E,O)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(g=p){g.stringify&&(g=g.stringify);let E="";return g(this,S=>{E+=S}),E}assign(g={}){for(let E in g)this[E]=g[E];return this}clone(g={}){let E=l(this);for(let S in g)E[S]=g[S];return E}cloneBefore(g={}){let E=this.clone(g);return this.parent.insertBefore(this,E),E}cloneAfter(g={}){let E=this.clone(g);return this.parent.insertAfter(this,E),E}replaceWith(...g){if(this.parent){let E=this,S=!1;for(let O of g)O===this?S=!0:S?(this.parent.insertAfter(E,O),E=O):this.parent.insertBefore(E,O);S||this.remove()}return this}next(){if(!this.parent)return;let g=this.parent.index(this);return this.parent.nodes[g+1]}prev(){if(!this.parent)return;let g=this.parent.index(this);return this.parent.nodes[g-1]}before(g){return this.parent.insertBefore(this,g),this}after(g){return this.parent.insertAfter(this,g),this}root(){let g=this;for(;g.parent&&g.parent.type!=="document";)g=g.parent;return g}raw(g,E){return new c().raw(this,g,E)}cleanRaws(g){delete this.raws.before,delete this.raws.after,g||delete this.raws.between}toJSON(g,E){let S={},O=E==null;E=E||new Map;let A=0;for(let u in this){if(!Object.prototype.hasOwnProperty.call(this,u)||u==="parent"||u==="proxyCache")continue;let o=this[u];if(Array.isArray(o))S[u]=o.map(s=>typeof s=="object"&&s.toJSON?s.toJSON(null,E):s);else if(typeof o=="object"&&o.toJSON)S[u]=o.toJSON(null,E);else if(u==="source"){let s=E.get(o.input);s==null&&(s=A,E.set(o.input,A),A++),S[u]={inputId:s,start:o.start,end:o.end}}else S[u]=o}return O&&(S.inputs=[...E.keys()].map(u=>u.toJSON())),S}positionInside(g){let E=this.toString(),S=this.source.start.column,O=this.source.start.line;for(let A=0;A<g;A++)E[A]===`
`?(S=1,O+=1):S+=1;return{line:O,column:S}}positionBy(g){let E=this.source.start;if(g.index)E=this.positionInside(g.index);else if(g.word){let S=this.toString().indexOf(g.word);S!==-1&&(E=this.positionInside(S))}return E}rangeBy(g){let E={line:this.source.start.line,column:this.source.start.column},S=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:E.line,column:E.column+1};if(g.word){let O=this.toString().indexOf(g.word);O!==-1&&(E=this.positionInside(O),S=this.positionInside(O+g.word.length))}else g.start?E={line:g.start.line,column:g.start.column}:g.index&&(E=this.positionInside(g.index)),g.end?S={line:g.end.line,column:g.end.column}:g.endIndex?S=this.positionInside(g.endIndex):g.index&&(S=this.positionInside(g.index+1));return(S.line<E.line||S.line===E.line&&S.column<=E.column)&&(S={line:E.line,column:E.column+1}),{start:E,end:S}}getProxyProcessor(){return{set(g,E,S){return g[E]===S||(g[E]=S,(E==="prop"||E==="value"||E==="name"||E==="params"||E==="important"||E==="text")&&g.markDirty()),!0},get(g,E){return E==="proxyOf"?g:E==="root"?()=>g.root().toProxy():g[E]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(g){if(g.postcssNode=this,g.stack&&this.source&&/\n\s{4}at /.test(g.stack)){let E=this.source;g.stack=g.stack.replace(/\n\s{4}at /,`$&${E.input.from}:${E.start.line}:${E.start.column}$&`)}return g}markDirty(){if(this[t]){this[t]=!1;let g=this;for(;g=g.parent;)g[t]=!1}}get proxyOf(){return this}}K.exports=v,v.default=v},66939:(K,f,e)=>{"use strict";let t=e(21019),a=e(68867),i=e(5995);function c(p,l){let v=new i(p,l),_=new a(v);try{_.parse()}catch(g){throw g}return _.root}K.exports=c,c.default=c,t.registerParse(c)},68867:(K,f,e)=>{"use strict";let t=e(94258),a=e(83852),i=e(69932),c=e(41353),p=e(41025),l=e(31675);const v={empty:!0,space:!0};function _(E){for(let S=E.length-1;S>=0;S--){let O=E[S],A=O[3]||O[2];if(A)return A}}class g{constructor(S){this.input=S,this.root=new p,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:S,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=a(this.input)}parse(){let S;for(;!this.tokenizer.endOfFile();)switch(S=this.tokenizer.nextToken(),S[0]){case"space":this.spaces+=S[1];break;case";":this.freeSemicolon(S);break;case"}":this.end(S);break;case"comment":this.comment(S);break;case"at-word":this.atrule(S);break;case"{":this.emptyRule(S);break;default:this.other(S);break}this.endFile()}comment(S){let O=new i;this.init(O,S[2]),O.source.end=this.getPosition(S[3]||S[2]);let A=S[1].slice(2,-2);if(/^\s*$/.test(A))O.text="",O.raws.left=A,O.raws.right="";else{let u=A.match(/^(\s*)([^]*\S)(\s*)$/);O.text=u[2],O.raws.left=u[1],O.raws.right=u[3]}}emptyRule(S){let O=new l;this.init(O,S[2]),O.selector="",O.raws.between="",this.current=O}other(S){let O=!1,A=null,u=!1,o=null,s=[],w=S[1].startsWith("--"),P=[],C=S;for(;C;){if(A=C[0],P.push(C),A==="("||A==="[")o||(o=C),s.push(A==="("?")":"]");else if(w&&u&&A==="{")o||(o=C),s.push("}");else if(s.length===0)if(A===";")if(u){this.decl(P,w);return}else break;else if(A==="{"){this.rule(P);return}else if(A==="}"){this.tokenizer.back(P.pop()),O=!0;break}else A===":"&&(u=!0);else A===s[s.length-1]&&(s.pop(),s.length===0&&(o=null));C=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(O=!0),s.length>0&&this.unclosedBracket(o),O&&u){if(!w)for(;P.length&&(C=P[P.length-1][0],!(C!=="space"&&C!=="comment"));)this.tokenizer.back(P.pop());this.decl(P,w)}else this.unknownWord(P)}rule(S){S.pop();let O=new l;this.init(O,S[0][2]),O.raws.between=this.spacesAndCommentsFromEnd(S),this.raw(O,"selector",S),this.current=O}decl(S,O){let A=new t;this.init(A,S[0][2]);let u=S[S.length-1];for(u[0]===";"&&(this.semicolon=!0,S.pop()),A.source.end=this.getPosition(u[3]||u[2]||_(S));S[0][0]!=="word";)S.length===1&&this.unknownWord(S),A.raws.before+=S.shift()[1];for(A.source.start=this.getPosition(S[0][2]),A.prop="";S.length;){let C=S[0][0];if(C===":"||C==="space"||C==="comment")break;A.prop+=S.shift()[1]}A.raws.between="";let o;for(;S.length;)if(o=S.shift(),o[0]===":"){A.raws.between+=o[1];break}else o[0]==="word"&&/\w/.test(o[1])&&this.unknownWord([o]),A.raws.between+=o[1];(A.prop[0]==="_"||A.prop[0]==="*")&&(A.raws.before+=A.prop[0],A.prop=A.prop.slice(1));let s=[],w;for(;S.length&&(w=S[0][0],!(w!=="space"&&w!=="comment"));)s.push(S.shift());this.precheckMissedSemicolon(S);for(let C=S.length-1;C>=0;C--){if(o=S[C],o[1].toLowerCase()==="!important"){A.important=!0;let x=this.stringFrom(S,C);x=this.spacesFromEnd(S)+x,x!==" !important"&&(A.raws.important=x);break}else if(o[1].toLowerCase()==="important"){let x=S.slice(0),D="";for(let y=C;y>0;y--){let M=x[y][0];if(D.trim().indexOf("!")===0&&M!=="space")break;D=x.pop()[1]+D}D.trim().indexOf("!")===0&&(A.important=!0,A.raws.important=D,S=x)}if(o[0]!=="space"&&o[0]!=="comment")break}S.some(C=>C[0]!=="space"&&C[0]!=="comment")&&(A.raws.between+=s.map(C=>C[1]).join(""),s=[]),this.raw(A,"value",s.concat(S),O),A.value.includes(":")&&!O&&this.checkMissedSemicolon(S)}atrule(S){let O=new c;O.name=S[1].slice(1),O.name===""&&this.unnamedAtrule(O,S),this.init(O,S[2]);let A,u,o,s=!1,w=!1,P=[],C=[];for(;!this.tokenizer.endOfFile();){if(S=this.tokenizer.nextToken(),A=S[0],A==="("||A==="["?C.push(A==="("?")":"]"):A==="{"&&C.length>0?C.push("}"):A===C[C.length-1]&&C.pop(),C.length===0)if(A===";"){O.source.end=this.getPosition(S[2]),this.semicolon=!0;break}else if(A==="{"){w=!0;break}else if(A==="}"){if(P.length>0){for(o=P.length-1,u=P[o];u&&u[0]==="space";)u=P[--o];u&&(O.source.end=this.getPosition(u[3]||u[2]))}this.end(S);break}else P.push(S);else P.push(S);if(this.tokenizer.endOfFile()){s=!0;break}}O.raws.between=this.spacesAndCommentsFromEnd(P),P.length?(O.raws.afterName=this.spacesAndCommentsFromStart(P),this.raw(O,"params",P),s&&(S=P[P.length-1],O.source.end=this.getPosition(S[3]||S[2]),this.spaces=O.raws.between,O.raws.between="")):(O.raws.afterName="",O.params=""),w&&(O.nodes=[],this.current=O)}end(S){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(S[2]),this.current=this.current.parent):this.unexpectedClose(S)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(S){if(this.spaces+=S[1],this.current.nodes){let O=this.current.nodes[this.current.nodes.length-1];O&&O.type==="rule"&&!O.raws.ownSemicolon&&(O.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(S){let O=this.input.fromOffset(S);return{offset:S,line:O.line,column:O.col}}init(S,O){this.current.push(S),S.source={start:this.getPosition(O),input:this.input},S.raws.before=this.spaces,this.spaces="",S.type!=="comment"&&(this.semicolon=!1)}raw(S,O,A,u){let o,s,w=A.length,P="",C=!0,x,D;for(let y=0;y<w;y+=1)o=A[y],s=o[0],s==="space"&&y===w-1&&!u?C=!1:s==="comment"?(D=A[y-1]?A[y-1][0]:"empty",x=A[y+1]?A[y+1][0]:"empty",!v[D]&&!v[x]?P.slice(-1)===","?C=!1:P+=o[1]:C=!1):P+=o[1];if(!C){let y=A.reduce((M,T)=>M+T[1],"");S.raws[O]={value:P,raw:y}}S[O]=P}spacesAndCommentsFromEnd(S){let O,A="";for(;S.length&&(O=S[S.length-1][0],!(O!=="space"&&O!=="comment"));)A=S.pop()[1]+A;return A}spacesAndCommentsFromStart(S){let O,A="";for(;S.length&&(O=S[0][0],!(O!=="space"&&O!=="comment"));)A+=S.shift()[1];return A}spacesFromEnd(S){let O,A="";for(;S.length&&(O=S[S.length-1][0],O==="space");)A=S.pop()[1]+A;return A}stringFrom(S,O){let A="";for(let u=O;u<S.length;u++)A+=S[u][1];return S.splice(O,S.length-O),A}colon(S){let O=0,A,u,o;for(let[s,w]of S.entries()){if(A=w,u=A[0],u==="("&&(O+=1),u===")"&&(O-=1),O===0&&u===":")if(!o)this.doubleColon(A);else{if(o[0]==="word"&&o[1]==="progid")continue;return s}o=A}return!1}unclosedBracket(S){throw this.input.error("Unclosed bracket",{offset:S[2]},{offset:S[2]+1})}unknownWord(S){throw this.input.error("Unknown word",{offset:S[0][2]},{offset:S[0][2]+S[0][1].length})}unexpectedClose(S){throw this.input.error("Unexpected }",{offset:S[2]},{offset:S[2]+1})}unclosedBlock(){let S=this.current.source.start;throw this.input.error("Unclosed block",S.line,S.column)}doubleColon(S){throw this.input.error("Double colon",{offset:S[2]},{offset:S[2]+S[1].length})}unnamedAtrule(S,O){throw this.input.error("At-rule without name",{offset:O[2]},{offset:O[2]+O[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(S){let O=this.colon(S);if(O===!1)return;let A=0,u;for(let o=O-1;o>=0&&(u=S[o],!(u[0]!=="space"&&(A+=1,A===2)));o--);throw this.input.error("Missed semicolon",u[0]==="word"?u[3]+1:u[2])}}K.exports=g},50020:(K,f,e)=>{"use strict";let t=e(42671),a=e(94258),i=e(21939),c=e(21019),p=e(71723),l=e(67088),v=e(50250),_=e(26461),g=e(11728),E=e(69932),S=e(41353),O=e(83632),A=e(5995),u=e(66939),o=e(54715),s=e(31675),w=e(41025),P=e(65631);function C(...x){return x.length===1&&Array.isArray(x[0])&&(x=x[0]),new p(x)}C.plugin=function(D,y){let M=!1;function T(...F){console&&console.warn&&!M&&(M=!0,console.warn(D+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(D+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let N=y(...F);return N.postcssPlugin=D,N.postcssVersion=new p().version,N}let R;return Object.defineProperty(T,"postcss",{get(){return R||(R=T()),R}}),T.process=function(F,N,U){return C([T(U)]).process(F,N)},T},C.stringify=l,C.parse=u,C.fromJSON=v,C.list=o,C.comment=x=>new E(x),C.atRule=x=>new S(x),C.decl=x=>new a(x),C.rule=x=>new s(x),C.root=x=>new w(x),C.document=x=>new _(x),C.CssSyntaxError=t,C.Declaration=a,C.Container=c,C.Processor=p,C.Document=_,C.Comment=E,C.Warning=g,C.AtRule=S,C.Result=O,C.Input=A,C.Rule=s,C.Root=w,C.Node=P,i.registerPostcss(C),K.exports=C,C.default=C},47981:(K,f,e)=>{"use strict";let{SourceMapConsumer:t,SourceMapGenerator:a}=e(70209),{existsSync:i,readFileSync:c}=e(14777),{dirname:p,join:l}=e(99830);function v(g){return Buffer?Buffer.from(g,"base64").toString():window.atob(g)}class _{constructor(E,S){if(S.map===!1)return;this.loadAnnotation(E),this.inline=this.startWith(this.annotation,"data:");let O=S.map?S.map.prev:void 0,A=this.loadMap(S.from,O);!this.mapFile&&S.from&&(this.mapFile=S.from),this.mapFile&&(this.root=p(this.mapFile)),A&&(this.text=A)}consumer(){return this.consumerCache||(this.consumerCache=new t(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(E,S){return E?E.substr(0,S.length)===S:!1}getAnnotationURL(E){return E.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(E){let S=E.match(/\/\*\s*# sourceMappingURL=/gm);if(!S)return;let O=E.lastIndexOf(S.pop()),A=E.indexOf("*/",O);O>-1&&A>-1&&(this.annotation=this.getAnnotationURL(E.substring(O,A)))}decodeInline(E){let S=/^data:application\/json;charset=utf-?8;base64,/,O=/^data:application\/json;base64,/,A=/^data:application\/json;charset=utf-?8,/,u=/^data:application\/json,/;if(A.test(E)||u.test(E))return decodeURIComponent(E.substr(RegExp.lastMatch.length));if(S.test(E)||O.test(E))return v(E.substr(RegExp.lastMatch.length));let o=E.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}loadFile(E){if(this.root=p(E),i(E))return this.mapFile=E,c(E,"utf-8").toString().trim()}loadMap(E,S){if(S===!1)return!1;if(S){if(typeof S=="string")return S;if(typeof S=="function"){let O=S(E);if(O){let A=this.loadFile(O);if(!A)throw new Error("Unable to load previous source map: "+O.toString());return A}}else{if(S instanceof t)return a.fromSourceMap(S).toString();if(S instanceof a)return S.toString();if(this.isMap(S))return JSON.stringify(S);throw new Error("Unsupported previous source map format: "+S.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let O=this.annotation;return E&&(O=l(p(E),O)),this.loadFile(O)}}}isMap(E){return typeof E!="object"?!1:typeof E.mappings=="string"||typeof E._mappings=="string"||Array.isArray(E.sections)}}K.exports=_,_.default=_},71723:(K,f,e)=>{"use strict";let t=e(47647),a=e(21939),i=e(26461),c=e(41025);class p{constructor(v=[]){this.version="8.4.24",this.plugins=this.normalize(v)}use(v){return this.plugins=this.plugins.concat(this.normalize([v])),this}process(v,_={}){return this.plugins.length===0&&typeof _.parser=="undefined"&&typeof _.stringifier=="undefined"&&typeof _.syntax=="undefined"?new t(this,v,_):new a(this,v,_)}normalize(v){let _=[];for(let g of v)if(g.postcss===!0?g=g():g.postcss&&(g=g.postcss),typeof g=="object"&&Array.isArray(g.plugins))_=_.concat(g.plugins);else if(typeof g=="object"&&g.postcssPlugin)_.push(g);else if(typeof g=="function")_.push(g);else if(!(typeof g=="object"&&(g.parse||g.stringify)))throw new Error(g+" is not a PostCSS plugin");return _}}K.exports=p,p.default=p,c.registerProcessor(p),i.registerProcessor(p)},83632:(K,f,e)=>{"use strict";let t=e(11728);class a{constructor(c,p,l){this.processor=c,this.messages=[],this.root=p,this.opts=l,this.css=void 0,this.map=void 0}toString(){return this.css}warn(c,p={}){p.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(p.plugin=this.lastPlugin.postcssPlugin);let l=new t(c,p);return this.messages.push(l),l}warnings(){return this.messages.filter(c=>c.type==="warning")}get content(){return this.css}}K.exports=a,a.default=a},41025:(K,f,e)=>{"use strict";let t=e(21019),a,i;class c extends t{constructor(l){super(l),this.type="root",this.nodes||(this.nodes=[])}removeChild(l,v){let _=this.index(l);return!v&&_===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[_].raws.before),super.removeChild(l)}normalize(l,v,_){let g=super.normalize(l);if(v){if(_==="prepend")this.nodes.length>1?v.raws.before=this.nodes[1].raws.before:delete v.raws.before;else if(this.first!==v)for(let E of g)E.raws.before=v.raws.before}return g}toResult(l={}){return new a(new i,this,l).stringify()}}c.registerLazyResult=p=>{a=p},c.registerProcessor=p=>{i=p},K.exports=c,c.default=c,t.registerRoot(c)},31675:(K,f,e)=>{"use strict";let t=e(21019),a=e(54715);class i extends t{constructor(p){super(p),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return a.comma(this.selector)}set selectors(p){let l=this.selector?this.selector.match(/,\s*/):null,v=l?l[0]:","+this.raw("between","beforeOpen");this.selector=p.join(v)}}K.exports=i,i.default=i,t.registerRule(i)},1062:K=>{"use strict";const f={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(a){return a[0].toUpperCase()+a.slice(1)}class t{constructor(i){this.builder=i}stringify(i,c){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,c)}document(i){this.body(i)}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}comment(i){let c=this.raw(i,"left","commentLeft"),p=this.raw(i,"right","commentRight");this.builder("/*"+c+i.text+p+"*/",i)}decl(i,c){let p=this.raw(i,"between","colon"),l=i.prop+p+this.rawValue(i,"value");i.important&&(l+=i.raws.important||" !important"),c&&(l+=";"),this.builder(l,i)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}atrule(i,c){let p="@"+i.name,l=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName!="undefined"?p+=i.raws.afterName:l&&(p+=" "),i.nodes)this.block(i,p+l);else{let v=(i.raws.between||"")+(c?";":"");this.builder(p+l+v,i)}}body(i){let c=i.nodes.length-1;for(;c>0&&i.nodes[c].type==="comment";)c-=1;let p=this.raw(i,"semicolon");for(let l=0;l<i.nodes.length;l++){let v=i.nodes[l],_=this.raw(v,"before");_&&this.builder(_),this.stringify(v,c!==l||p)}}block(i,c){let p=this.raw(i,"between","beforeOpen");this.builder(c+p+"{",i,"start");let l;i.nodes&&i.nodes.length?(this.body(i),l=this.raw(i,"after")):l=this.raw(i,"after","emptyBody"),l&&this.builder(l),this.builder("}",i,"end")}raw(i,c,p){let l;if(p||(p=c),c&&(l=i.raws[c],typeof l!="undefined"))return l;let v=i.parent;if(p==="before"&&(!v||v.type==="root"&&v.first===i||v&&v.type==="document"))return"";if(!v)return f[p];let _=i.root();if(_.rawCache||(_.rawCache={}),typeof _.rawCache[p]!="undefined")return _.rawCache[p];if(p==="before"||p==="after")return this.beforeAfter(i,p);{let g="raw"+e(p);this[g]?l=this[g](_,i):_.walk(E=>{if(l=E.raws[c],typeof l!="undefined")return!1})}return typeof l=="undefined"&&(l=f[p]),_.rawCache[p]=l,l}rawSemicolon(i){let c;return i.walk(p=>{if(p.nodes&&p.nodes.length&&p.last.type==="decl"&&(c=p.raws.semicolon,typeof c!="undefined"))return!1}),c}rawEmptyBody(i){let c;return i.walk(p=>{if(p.nodes&&p.nodes.length===0&&(c=p.raws.after,typeof c!="undefined"))return!1}),c}rawIndent(i){if(i.raws.indent)return i.raws.indent;let c;return i.walk(p=>{let l=p.parent;if(l&&l!==i&&l.parent&&l.parent===i&&typeof p.raws.before!="undefined"){let v=p.raws.before.split(`
`);return c=v[v.length-1],c=c.replace(/\S/g,""),!1}}),c}rawBeforeComment(i,c){let p;return i.walkComments(l=>{if(typeof l.raws.before!="undefined")return p=l.raws.before,p.includes(`
`)&&(p=p.replace(/[^\n]+$/,"")),!1}),typeof p=="undefined"?p=this.raw(c,null,"beforeDecl"):p&&(p=p.replace(/\S/g,"")),p}rawBeforeDecl(i,c){let p;return i.walkDecls(l=>{if(typeof l.raws.before!="undefined")return p=l.raws.before,p.includes(`
`)&&(p=p.replace(/[^\n]+$/,"")),!1}),typeof p=="undefined"?p=this.raw(c,null,"beforeRule"):p&&(p=p.replace(/\S/g,"")),p}rawBeforeRule(i){let c;return i.walk(p=>{if(p.nodes&&(p.parent!==i||i.first!==p)&&typeof p.raws.before!="undefined")return c=p.raws.before,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeClose(i){let c;return i.walk(p=>{if(p.nodes&&p.nodes.length>0&&typeof p.raws.after!="undefined")return c=p.raws.after,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(i){let c;return i.walk(p=>{if(p.type!=="decl"&&(c=p.raws.between,typeof c!="undefined"))return!1}),c}rawColon(i){let c;return i.walkDecls(p=>{if(typeof p.raws.between!="undefined")return c=p.raws.between.replace(/[^\s:]/g,""),!1}),c}beforeAfter(i,c){let p;i.type==="decl"?p=this.raw(i,null,"beforeDecl"):i.type==="comment"?p=this.raw(i,null,"beforeComment"):c==="before"?p=this.raw(i,null,"beforeRule"):p=this.raw(i,null,"beforeClose");let l=i.parent,v=0;for(;l&&l.type!=="root";)v+=1,l=l.parent;if(p.includes(`
`)){let _=this.raw(i,null,"indent");if(_.length)for(let g=0;g<v;g++)p+=_}return p}rawValue(i,c){let p=i[c],l=i.raws[c];return l&&l.value===p?l.raw:p}}K.exports=t,t.default=t},67088:(K,f,e)=>{"use strict";let t=e(1062);function a(i,c){new t(c).stringify(i)}K.exports=a,a.default=a},65513:K=>{"use strict";K.exports.isClean=Symbol("isClean"),K.exports.my=Symbol("my")},83852:K=>{"use strict";const f="'".charCodeAt(0),e='"'.charCodeAt(0),t="\\".charCodeAt(0),a="/".charCodeAt(0),i=`
`.charCodeAt(0),c=" ".charCodeAt(0),p="\f".charCodeAt(0),l="	".charCodeAt(0),v="\r".charCodeAt(0),_="[".charCodeAt(0),g="]".charCodeAt(0),E="(".charCodeAt(0),S=")".charCodeAt(0),O="{".charCodeAt(0),A="}".charCodeAt(0),u=";".charCodeAt(0),o="*".charCodeAt(0),s=":".charCodeAt(0),w="@".charCodeAt(0),P=/[\t\n\f\r "#'()/;[\\\]{}]/g,C=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,x=/.[\n"'(/\\]/,D=/[\da-f]/i;K.exports=function(M,T={}){let R=M.css.valueOf(),F=T.ignoreErrors,N,U,V,W,L,k,H,G,q,z,ee=R.length,$=0,J=[],j=[];function Z(){return $}function ne(ae){throw M.error("Unclosed "+ae,$)}function ie(){return j.length===0&&$>=ee}function oe(ae){if(j.length)return j.pop();if($>=ee)return;let se=ae?ae.ignoreUnclosed:!1;switch(N=R.charCodeAt($),N){case i:case c:case l:case v:case p:{U=$;do U+=1,N=R.charCodeAt(U);while(N===c||N===i||N===l||N===v||N===p);z=["space",R.slice($,U)],$=U-1;break}case _:case g:case O:case A:case s:case u:case S:{let fe=String.fromCharCode(N);z=[fe,fe,$];break}case E:{if(G=J.length?J.pop()[1]:"",q=R.charCodeAt($+1),G==="url"&&q!==f&&q!==e&&q!==c&&q!==i&&q!==l&&q!==p&&q!==v){U=$;do{if(k=!1,U=R.indexOf(")",U+1),U===-1)if(F||se){U=$;break}else ne("bracket");for(H=U;R.charCodeAt(H-1)===t;)H-=1,k=!k}while(k);z=["brackets",R.slice($,U+1),$,U],$=U}else U=R.indexOf(")",$+1),W=R.slice($,U+1),U===-1||x.test(W)?z=["(","(",$]:(z=["brackets",W,$,U],$=U);break}case f:case e:{V=N===f?"'":'"',U=$;do{if(k=!1,U=R.indexOf(V,U+1),U===-1)if(F||se){U=$+1;break}else ne("string");for(H=U;R.charCodeAt(H-1)===t;)H-=1,k=!k}while(k);z=["string",R.slice($,U+1),$,U],$=U;break}case w:{P.lastIndex=$+1,P.test(R),P.lastIndex===0?U=R.length-1:U=P.lastIndex-2,z=["at-word",R.slice($,U+1),$,U],$=U;break}case t:{for(U=$,L=!0;R.charCodeAt(U+1)===t;)U+=1,L=!L;if(N=R.charCodeAt(U+1),L&&N!==a&&N!==c&&N!==i&&N!==l&&N!==v&&N!==p&&(U+=1,D.test(R.charAt(U)))){for(;D.test(R.charAt(U+1));)U+=1;R.charCodeAt(U+1)===c&&(U+=1)}z=["word",R.slice($,U+1),$,U],$=U;break}default:{N===a&&R.charCodeAt($+1)===o?(U=R.indexOf("*/",$+2)+1,U===0&&(F||se?U=R.length:ne("comment")),z=["comment",R.slice($,U+1),$,U],$=U):(C.lastIndex=$+1,C.test(R),C.lastIndex===0?U=R.length-1:U=C.lastIndex-2,z=["word",R.slice($,U+1),$,U],J.push(z),$=U);break}}return $++,z}function re(ae){j.push(ae)}return{back:re,nextToken:oe,endOfFile:ie,position:Z}}},72448:K=>{"use strict";let f={};K.exports=function(t){f[t]||(f[t]=!0,typeof console!="undefined"&&console.warn&&console.warn(t))}},11728:K=>{"use strict";class f{constructor(t,a={}){if(this.type="warning",this.text=t,a.node&&a.node.source){let i=a.node.rangeBy(a);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in a)this[i]=a[i]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}K.exports=f,f.default=f},53836:(K,f,e)=>{f.__esModule=!0;var t=function(){function J(j,Z){for(var ne=0;ne<Z.length;ne++){var ie=Z[ne];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(j,ie.key,ie)}}return function(j,Z,ne){return Z&&J(j.prototype,Z),ne&&J(j,ne),j}}(),a=Object.assign||function(J){for(var j=1;j<arguments.length;j++){var Z=arguments[j];for(var ne in Z)Object.prototype.hasOwnProperty.call(Z,ne)&&(J[ne]=Z[ne])}return J},i=e(6400),c=e(98278),p=S(c),l=e(10251),v=S(l),_=e(27418),g=S(_),E=e(7937);function S(J){return J&&J.__esModule?J:{default:J}}function O(J,j){if(!(J instanceof j))throw new TypeError("Cannot call a class as a function")}function A(J,j){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:J}function u(J,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);J.prototype=Object.create(j&&j.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(J,j):J.__proto__=j)}function o(J,j,Z){return j in J?Object.defineProperty(J,j,{value:Z,enumerable:!0,configurable:!0,writable:!0}):J[j]=Z,J}var s="data-preact-helmet",w=function(j){return String(j).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},P=function(j,Z){for(var ne=j.length-1;ne>=0;ne--){var ie=j[ne];if(ie[Z])return ie[Z]}return null},C=function(j){var Z=P(j,"title"),ne=P(j,"titleTemplate");if(ne&&Z)return ne.replace(/%s/g,function(){return Z});var ie=P(j,"defaultTitle");return Z||ie||""},x=function(j){return P(j,"onChangeClientState")||function(){}},D=function(j,Z){return Z.filter(function(ne){return typeof ne[j]!="undefined"}).map(function(ne){return ne[j]}).reduce(function(ne,ie){return a({},ne,ie)},{})},y=function(j,Z){return Z.filter(function(ne){return typeof ne[E.TAG_NAMES.BASE]!="undefined"}).map(function(ne){return ne[E.TAG_NAMES.BASE]}).reverse().reduce(function(ne,ie){if(!ne.length)for(var oe=Object.keys(ie),re=0;re<oe.length;re++){var ae=oe[re],se=ae.toLowerCase();if(j.indexOf(se)!==-1&&ie[se])return ne.concat(ie)}return ne},[])},M=function(j,Z,ne){var ie={};return ne.filter(function(oe){return typeof oe[j]!="undefined"}).map(function(oe){return oe[j]}).reverse().reduce(function(oe,re){var ae={};re.filter(function(De){for(var je=void 0,Je=Object.keys(De),Be=0;Be<Je.length;Be++){var st=Je[Be],ht=st.toLowerCase();Z.indexOf(ht)!==-1&&!(je===E.TAG_PROPERTIES.REL&&De[je].toLowerCase()==="canonical")&&!(ht===E.TAG_PROPERTIES.REL&&De[ht].toLowerCase()==="stylesheet")&&(je=ht),Z.indexOf(st)!==-1&&(st===E.TAG_PROPERTIES.INNER_HTML||st===E.TAG_PROPERTIES.CSS_TEXT||st===E.TAG_PROPERTIES.ITEM_PROP)&&(je=st)}if(!je||!De[je])return!1;var gt=De[je].toLowerCase();return ie[je]||(ie[je]={}),ae[je]||(ae[je]={}),ie[je][gt]?!1:(ae[je][gt]=!0,!0)}).reverse().forEach(function(De){return oe.push(De)});for(var se=Object.keys(ae),fe=0;fe<se.length;fe++){var le=se[fe],Ae=(0,g.default)({},ie[le],ae[le]);ie[le]=Ae}return oe},[]).reverse()},T=function(j,Z){document.title=j||document.title,R(E.TAG_NAMES.TITLE,Z)},R=function(j,Z){for(var ne=document.getElementsByTagName(j)[0],ie=ne.getAttribute(s),oe=ie?ie.split(","):[],re=[].concat(oe),ae=Object.keys(Z),se=0;se<ae.length;se++){var fe=ae[se],le=Z[fe]||"";ne.setAttribute(fe,le),oe.indexOf(fe)===-1&&oe.push(fe);var Ae=re.indexOf(fe);Ae!==-1&&re.splice(Ae,1)}for(var De=re.length-1;De>=0;De--)ne.removeAttribute(re[De]);oe.length===re.length?ne.removeAttribute(s):ne.setAttribute(s,oe.join(","))},F=function(j,Z){var ne=document.head||document.querySelector("head"),ie=ne.querySelectorAll(j+"["+s+"]"),oe=Array.prototype.slice.call(ie),re=[],ae=void 0;return Z&&Z.length&&Z.forEach(function(se){var fe=document.createElement(j);for(var le in se)if(se.hasOwnProperty(le))if(le==="innerHTML")fe.innerHTML=se.innerHTML;else if(le==="cssText")fe.styleSheet?fe.styleSheet.cssText=se.cssText:fe.appendChild(document.createTextNode(se.cssText));else{var Ae=typeof se[le]=="undefined"?"":se[le];fe.setAttribute(le,Ae)}fe.setAttribute(s,"true"),oe.some(function(De,je){return ae=je,fe.isEqualNode(De)})?oe.splice(ae,1):re.push(fe)}),oe.forEach(function(se){return se.parentNode.removeChild(se)}),re.forEach(function(se){return ne.appendChild(se)}),{oldTags:oe,newTags:re}},N=function(j){return Object.keys(j).reduce(function(Z,ne){var ie=typeof j[ne]!="undefined"?ne+'="'+j[ne]+'"':""+ne;return Z?Z+" "+ie:ie},"")},U=function(j,Z,ne){var ie=N(ne);return ie?"<"+j+" "+s+" "+ie+">"+w(Z)+"</"+j+">":"<"+j+" "+s+">"+w(Z)+"</"+j+">"},V=function(j,Z){return Z.reduce(function(ne,ie){var oe=Object.keys(ie).filter(function(se){return!(se==="innerHTML"||se==="cssText")}).reduce(function(se,fe){var le=typeof ie[fe]=="undefined"?fe:fe+'="'+w(ie[fe])+'"';return se?se+" "+le:le},""),re=ie.innerHTML||ie.cssText||"",ae=[E.TAG_NAMES.NOSCRIPT,E.TAG_NAMES.SCRIPT,E.TAG_NAMES.STYLE].indexOf(j)===-1;return ne+"<"+j+" "+s+" "+oe+(ae?">":">"+re+"</"+j+">")},"")},W=function(j,Z,ne){var ie=o({key:Z},s,!0),oe=Object.keys(ne).reduce(function(re,ae){return re[ae]=ne[ae],re},ie);return[(0,i.h)(E.TAG_NAMES.TITLE,oe,Z)]},L=function(j,Z){return Z.map(function(ne,ie){var oe=o({key:ie},s,!0);return Object.keys(ne).forEach(function(re){var ae=re;if(ae==="innerHTML"||ae==="cssText"){var se=ne.innerHTML||ne.cssText;oe.dangerouslySetInnerHTML={__html:se}}else oe[ae]=ne[re]}),(0,i.h)(j,oe)})},k=function(j,Z){switch(j){case E.TAG_NAMES.TITLE:return{toComponent:function(){return W(j,Z.title,Z.titleAttributes)},toString:function(){return U(j,Z.title,Z.titleAttributes)}};case E.TAG_NAMES.HTML:return{toComponent:function(){return Z},toString:function(){return N(Z)}};default:return{toComponent:function(){return L(j,Z)},toString:function(){return V(j,Z)}}}},H=function(j){var Z=j.htmlAttributes,ne=j.title,ie=j.titleAttributes,oe=j.baseTag,re=j.metaTags,ae=j.linkTags,se=j.scriptTags,fe=j.noscriptTags,le=j.styleTags;return{htmlAttributes:k(E.TAG_NAMES.HTML,Z),title:k(E.TAG_NAMES.TITLE,{title:ne,titleAttributes:ie}),base:k(E.TAG_NAMES.BASE,oe),meta:k(E.TAG_NAMES.META,re),link:k(E.TAG_NAMES.LINK,ae),script:k(E.TAG_NAMES.SCRIPT,se),noscript:k(E.TAG_NAMES.NOSCRIPT,fe),style:k(E.TAG_NAMES.STYLE,le)}},G=function(j){var Z,ne;return ne=Z=function(ie){u(oe,ie);function oe(){return O(this,oe),A(this,(oe.__proto__||Object.getPrototypeOf(oe)).apply(this,arguments))}return t(oe,[{key:"shouldComponentUpdate",value:function(ae){var se=a({},ae);return(!se.children||!se.children.length)&&delete se.children,!(0,v.default)(this.props,se)}},{key:"render",value:function(){return(0,i.h)(j,this.props)}}],[{key:"canUseDOM",set:function(ae){j.canUseDOM=ae}}]),oe}(i.Component),Z.peek=j.peek,Z.rewind=function(){var ie=j.rewind();return ie||(ie=H({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),ie},ne},q=function(j){return{htmlAttributes:D(E.TAG_NAMES.HTML,j),title:C(j),titleAttributes:D("titleAttributes",j),baseTag:y([E.TAG_PROPERTIES.HREF],j),metaTags:M(E.TAG_NAMES.META,[E.TAG_PROPERTIES.NAME,E.TAG_PROPERTIES.CHARSET,E.TAG_PROPERTIES.HTTPEQUIV,E.TAG_PROPERTIES.PROPERTY,E.TAG_PROPERTIES.ITEM_PROP],j),linkTags:M(E.TAG_NAMES.LINK,[E.TAG_PROPERTIES.REL,E.TAG_PROPERTIES.HREF],j),scriptTags:M(E.TAG_NAMES.SCRIPT,[E.TAG_PROPERTIES.SRC,E.TAG_PROPERTIES.INNER_HTML],j),noscriptTags:M(E.TAG_NAMES.NOSCRIPT,[E.TAG_PROPERTIES.INNER_HTML],j),styleTags:M(E.TAG_NAMES.STYLE,[E.TAG_PROPERTIES.CSS_TEXT],j),onChangeClientState:x(j)}},z=function(j){var Z=j.htmlAttributes,ne=j.title,ie=j.titleAttributes,oe=j.baseTag,re=j.metaTags,ae=j.linkTags,se=j.scriptTags,fe=j.noscriptTags,le=j.styleTags,Ae=j.onChangeClientState;R("html",Z),T(ne,ie);var De={baseTag:F(E.TAG_NAMES.BASE,oe),metaTags:F(E.TAG_NAMES.META,re),linkTags:F(E.TAG_NAMES.LINK,ae),scriptTags:F(E.TAG_NAMES.SCRIPT,se),noscriptTags:F(E.TAG_NAMES.NOSCRIPT,fe),styleTags:F(E.TAG_NAMES.STYLE,le)},je={},Je={};Object.keys(De).forEach(function(Be){var st=De[Be],ht=st.newTags,gt=st.oldTags;ht.length&&(je[Be]=ht),gt.length&&(Je[Be]=De[Be].oldTags)}),Ae(j,je,Je)},ee=function(){return null},$=(0,p.default)(q,z,H)(ee);f.default=G($),K.exports=f.default},7937:(K,f)=>{f.__esModule=!0;var e=f.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},t=f.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},a=f.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Link:()=>N,Route:()=>U,Router:()=>F,default:()=>V,exec:()=>c,getCurrentUrl:()=>s,route:()=>w,subscribers:()=>A});var t=e(6400),a={};function i(W,L){for(var k in L)W[k]=L[k];return W}function c(W,L,k){var H=/(?:\?([^#]*))?(#.*)?$/,G=W.match(H),q={},z;if(G&&G[1])for(var ee=G[1].split("&"),$=0;$<ee.length;$++){var J=ee[$].split("=");q[decodeURIComponent(J[0])]=decodeURIComponent(J.slice(1).join("="))}W=v(W.replace(H,"")),L=v(L||"");for(var j=Math.max(W.length,L.length),Z=0;Z<j;Z++)if(L[Z]&&L[Z].charAt(0)===":"){var ne=L[Z].replace(/(^:|[+*?]+$)/g,""),ie=(L[Z].match(/[+*?]+$/)||a)[0]||"",oe=~ie.indexOf("+"),re=~ie.indexOf("*"),ae=W[Z]||"";if(!ae&&!re&&(ie.indexOf("?")<0||oe)){z=!1;break}if(q[ne]=decodeURIComponent(ae),oe||re){q[ne]=W.slice(Z).map(decodeURIComponent).join("/");break}}else if(L[Z]!==W[Z]){z=!1;break}return k.default!==!0&&z===!1?!1:q}function p(W,L){return W.rank<L.rank?1:W.rank>L.rank?-1:W.index-L.index}function l(W,L){return W.index=L,W.rank=E(W),W.props}function v(W){return W.replace(/(^\/+|\/+$)/g,"").split("/")}function _(W){return W.charAt(0)==":"?1+"*+?".indexOf(W.charAt(W.length-1))||4:5}function g(W){return v(W).map(_).join("")}function E(W){return W.props.default?0:g(W.props.path)}var S=null,O=[],A=[],u={};function o(W,L){L===void 0&&(L="push"),S&&S[L]?S[L](W):typeof history!="undefined"&&history[L+"State"]&&history[L+"State"](null,null,W)}function s(){var W;return S&&S.location?W=S.location:S&&S.getCurrentLocation?W=S.getCurrentLocation():W=typeof location!="undefined"?location:u,""+(W.pathname||"")+(W.search||"")}function w(W,L){return L===void 0&&(L=!1),typeof W!="string"&&W.url&&(L=W.replace,W=W.url),P(W)&&o(W,L?"replace":"push"),C(W)}function P(W){for(var L=O.length;L--;)if(O[L].canRoute(W))return!0;return!1}function C(W){for(var L=!1,k=0;k<O.length;k++)O[k].routeTo(W)===!0&&(L=!0);for(var H=A.length;H--;)A[H](W);return L}function x(W){if(!(!W||!W.getAttribute)){var L=W.getAttribute("href"),k=W.getAttribute("target");if(!(!L||!L.match(/^\//g)||k&&!k.match(/^_?self$/i)))return w(L)}}function D(W){if(!(W.ctrlKey||W.metaKey||W.altKey||W.shiftKey||W.button!==0))return x(W.currentTarget||W.target||this),y(W)}function y(W){return W&&(W.stopImmediatePropagation&&W.stopImmediatePropagation(),W.stopPropagation&&W.stopPropagation(),W.preventDefault()),!1}function M(W){if(!(W.ctrlKey||W.metaKey||W.altKey||W.shiftKey||W.button!==0)){var L=W.target;do if(String(L.nodeName).toUpperCase()==="A"&&L.getAttribute("href")){if(L.hasAttribute("native"))return;if(x(L))return y(W)}while(L=L.parentNode)}}var T=!1;function R(){T||(typeof addEventListener=="function"&&(S||addEventListener("popstate",function(){C(s())}),addEventListener("click",M)),T=!0)}var F=function(W){function L(k){W.call(this,k),k.history&&(S=k.history),this.state={url:k.url||s()},R()}return W&&(L.__proto__=W),L.prototype=Object.create(W&&W.prototype),L.prototype.constructor=L,L.prototype.shouldComponentUpdate=function(H){return H.static!==!0?!0:H.url!==this.props.url||H.onChange!==this.props.onChange},L.prototype.canRoute=function(H){var G=(0,t.toChildArray)(this.props.children);return this.getMatchingChildren(G,H,!1).length>0},L.prototype.routeTo=function(H){this.setState({url:H});var G=this.canRoute(H);return this.updating||this.forceUpdate(),G},L.prototype.componentWillMount=function(){O.push(this),this.updating=!0},L.prototype.componentDidMount=function(){var H=this;S&&(this.unlisten=S.listen(function(G){H.routeTo(""+(G.pathname||"")+(G.search||""))})),this.updating=!1},L.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),O.splice(O.indexOf(this),1)},L.prototype.componentWillUpdate=function(){this.updating=!0},L.prototype.componentDidUpdate=function(){this.updating=!1},L.prototype.getMatchingChildren=function(H,G,q){return H.filter(l).sort(p).map(function(z){var ee=c(G,z.props.path,z.props);if(ee){if(q!==!1){var $={url:G,matches:ee};return i($,ee),delete $.ref,delete $.key,(0,t.cloneElement)(z,$)}return z}}).filter(Boolean)},L.prototype.render=function(H,G){var q=H.children,z=H.onChange,ee=G.url,$=this.getMatchingChildren((0,t.toChildArray)(q),ee,!0),J=$[0]||null,j=this.previousUrl;return ee!==j&&(this.previousUrl=ee,typeof z=="function"&&z({router:this,url:ee,previous:j,active:$,current:J})),J},L}(t.Component),N=function(W){return(0,t.createElement)("a",i({onClick:D},W))},U=function(W){return(0,t.createElement)(W.component,W)};F.subscribers=A,F.getCurrentUrl=s,F.route=w,F.Router=F,F.Route=U,F.Link=N,F.exec=c;const V=F},56232:(K,f,e)=>{"use strict";var t;t={value:!0},t=f.qE=void 0;var a=Object.assign||function(S){for(var O=1;O<arguments.length;O++){var A=arguments[O];for(var u in A)Object.prototype.hasOwnProperty.call(A,u)&&(S[u]=A[u])}return S},i=e(6400),c=e(20042);function p(S,O){var A={};for(var u in S)O.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(S,u)&&(A[u]=S[u]);return A}function l(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function v(S,O){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:S}function _(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(S,O):S.__proto__=O)}var g=f.qE=function(S){_(O,S);function O(){var A,u,o;l(this,O);for(var s=arguments.length,w=Array(s),P=0;P<s;P++)w[P]=arguments[P];return o=(A=(u=v(this,S.call.apply(S,[this].concat(w))),u),u.update=function(C){u.nextUrl=C,u.setState({})},A),v(u,o)}return O.prototype.componentDidMount=function(){c.subscribers.push(this.update)},O.prototype.componentWillUnmount=function(){c.subscribers.splice(c.subscribers.indexOf(this.update)>>>0,1)},O.prototype.render=function(u){var o=this.nextUrl||(0,c.getCurrentUrl)(),s=o.replace(/\?.+$/,"");return this.nextUrl=null,u.children({url:o,path:s,matches:(0,c.exec)(s,u.path,{})!==!1})},O}(i.Component),E=function(O){var A=O.activeClassName,u=O.path,o=p(O,["activeClassName","path"]);return(0,i.h)(g,{path:u||o.href},function(s){var w=s.matches;return(0,i.h)(c.Link,a({},o,{class:[o.class||o.className,w&&A].filter(Boolean).join(" ")}))})};t=E,t=g,g.Link=E},98278:(K,f,e)=>{"use strict";var t=e(6400);function a(l,v){var _={};for(var g in l)v.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(l,g)&&(_[g]=l[g]);return _}function i(l,v){if(!(l instanceof v))throw new TypeError("Cannot call a class as a function")}function c(l,v){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:l}function p(l,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);l.prototype=Object.create(v&&v.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(l,v):l.__proto__=v)}K.exports=function(v,_,g){if(typeof v!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof _!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof g!="undefined"&&typeof g!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function E(O){return O.displayName||O.name||"Component"}return function(A){if(typeof A!="function")throw new Error("Expected WrappedComponent to be a React component.");var u=[],o=void 0;function s(){o=v(u.map(function(P){return P.props})),w.canUseDOM?_(o):g&&(o=g(o))}var w=function(P){p(C,P);function C(){return i(this,C),c(this,P.apply(this,arguments))}return C.peek=function(){return o},C.rewind=function(){if(C.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var D=o;return o=void 0,u=[],D},C.prototype.shouldComponentUpdate=function(D){var y=D.children,M=a(D,["children"]);return y&&y.length&&(M.children=y),S(M,this.props)},C.prototype.componentWillMount=function(){u.push(this),s()},C.prototype.componentDidUpdate=function(){s()},C.prototype.componentWillUnmount=function(){var D=u.indexOf(this);u.splice(D,1),s()},C.prototype.render=function(){return(0,t.h)(A,this.props)},C}(t.Component);return w.displayName="SideEffect("+E(A)+")",w.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),w};function S(O,A){for(var u in O)if(!(u in A))return!0;for(var o in A)if(O[o]!==A[o])return!0;return!1}}},98661:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Children:()=>O,Component:()=>t.Component,Fragment:()=>t.Fragment,PureComponent:()=>l,StrictMode:()=>De,Suspense:()=>w,SuspenseList:()=>x,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>ne,cloneElement:()=>ae,createContext:()=>t.createContext,createElement:()=>t.createElement,createFactory:()=>oe,createPortal:()=>T,createRef:()=>t.createRef,default:()=>gt,findDOMNode:()=>fe,flushSync:()=>Ae,forwardRef:()=>E,hydrate:()=>k,isValidElement:()=>re,lazy:()=>C,memo:()=>v,render:()=>L,startTransition:()=>je,unmountComponentAtNode:()=>se,unstable_batchedUpdates:()=>le,useCallback:()=>a.I4,useContext:()=>a.qp,useDebugValue:()=>a.Qb,useDeferredValue:()=>Je,useEffect:()=>a.d4,useErrorBoundary:()=>a.cO,useId:()=>a.Me,useImperativeHandle:()=>a.aP,useInsertionEffect:()=>st,useLayoutEffect:()=>a.bt,useMemo:()=>a.Ye,useReducer:()=>a._Y,useRef:()=>a.sO,useState:()=>a.eJ,useSyncExternalStore:()=>ht,useTransition:()=>Be,version:()=>ie});var t=e(6400),a=e(30396);function i(Xe,Re){for(var Ne in Re)Xe[Ne]=Re[Ne];return Xe}function c(Xe,Re){for(var Ne in Xe)if(Ne!=="__source"&&!(Ne in Re))return!0;for(var ke in Re)if(ke!=="__source"&&Xe[ke]!==Re[ke])return!0;return!1}function p(Xe,Re){return Xe===Re&&(Xe!==0||1/Xe==1/Re)||Xe!=Xe&&Re!=Re}function l(Xe){this.props=Xe}function v(Xe,Re){function Ne(ot){var Dt=this.props.ref,ln=Dt==ot.ref;return!ln&&Dt&&(Dt.call?Dt(null):Dt.current=null),Re?!Re(this.props,ot)||!ln:c(this.props,ot)}function ke(ot){return this.shouldComponentUpdate=Ne,(0,t.createElement)(Xe,ot)}return ke.displayName="Memo("+(Xe.displayName||Xe.name)+")",ke.prototype.isReactComponent=!0,ke.__f=!0,ke}(l.prototype=new t.Component).isPureReactComponent=!0,l.prototype.shouldComponentUpdate=function(Xe,Re){return c(this.props,Xe)||c(this.state,Re)};var _=t.options.__b;t.options.__b=function(Xe){Xe.type&&Xe.type.__f&&Xe.ref&&(Xe.props.ref=Xe.ref,Xe.ref=null),_&&_(Xe)};var g=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function E(Xe){function Re(Ne){var ke=i({},Ne);return delete ke.ref,Xe(ke,Ne.ref||null)}return Re.$$typeof=g,Re.render=Re,Re.prototype.isReactComponent=Re.__f=!0,Re.displayName="ForwardRef("+(Xe.displayName||Xe.name)+")",Re}var S=function(Xe,Re){return Xe==null?null:(0,t.toChildArray)((0,t.toChildArray)(Xe).map(Re))},O={map:S,forEach:S,count:function(Xe){return Xe?(0,t.toChildArray)(Xe).length:0},only:function(Xe){var Re=(0,t.toChildArray)(Xe);if(Re.length!==1)throw"Children.only";return Re[0]},toArray:t.toChildArray},A=t.options.__e;t.options.__e=function(Xe,Re,Ne,ke){if(Xe.then){for(var ot,Dt=Re;Dt=Dt.__;)if((ot=Dt.__c)&&ot.__c)return Re.__e==null&&(Re.__e=Ne.__e,Re.__k=Ne.__k),ot.__c(Xe,Re)}A(Xe,Re,Ne,ke)};var u=t.options.unmount;function o(Xe,Re,Ne){return Xe&&(Xe.__c&&Xe.__c.__H&&(Xe.__c.__H.__.forEach(function(ke){typeof ke.__c=="function"&&ke.__c()}),Xe.__c.__H=null),(Xe=i({},Xe)).__c!=null&&(Xe.__c.__P===Ne&&(Xe.__c.__P=Re),Xe.__c=null),Xe.__k=Xe.__k&&Xe.__k.map(function(ke){return o(ke,Re,Ne)})),Xe}function s(Xe,Re,Ne){return Xe&&(Xe.__v=null,Xe.__k=Xe.__k&&Xe.__k.map(function(ke){return s(ke,Re,Ne)}),Xe.__c&&Xe.__c.__P===Re&&(Xe.__e&&Ne.insertBefore(Xe.__e,Xe.__d),Xe.__c.__e=!0,Xe.__c.__P=Ne)),Xe}function w(){this.__u=0,this.t=null,this.__b=null}function P(Xe){var Re=Xe.__.__c;return Re&&Re.__a&&Re.__a(Xe)}function C(Xe){var Re,Ne,ke;function ot(Dt){if(Re||(Re=Xe()).then(function(ln){Ne=ln.default||ln},function(ln){ke=ln}),ke)throw ke;if(!Ne)throw Re;return(0,t.createElement)(Ne,Dt)}return ot.displayName="Lazy",ot.__f=!0,ot}function x(){this.u=null,this.o=null}t.options.unmount=function(Xe){var Re=Xe.__c;Re&&Re.__R&&Re.__R(),Re&&Xe.__h===!0&&(Xe.type=null),u&&u(Xe)},(w.prototype=new t.Component).__c=function(Xe,Re){var Ne=Re.__c,ke=this;ke.t==null&&(ke.t=[]),ke.t.push(Ne);var ot=P(ke.__v),Dt=!1,ln=function(){Dt||(Dt=!0,Ne.__R=null,ot?ot(ct):ct())};Ne.__R=ln;var ct=function(){if(!--ke.__u){if(ke.state.__a){var Se=ke.state.__a;ke.__v.__k[0]=s(Se,Se.__c.__P,Se.__c.__O)}var Ze;for(ke.setState({__a:ke.__b=null});Ze=ke.t.pop();)Ze.forceUpdate()}},Oe=Re.__h===!0;ke.__u++||Oe||ke.setState({__a:ke.__b=ke.__v.__k[0]}),Xe.then(ln,ln)},w.prototype.componentWillUnmount=function(){this.t=[]},w.prototype.render=function(Xe,Re){if(this.__b){if(this.__v.__k){var Ne=document.createElement("div"),ke=this.__v.__k[0].__c;this.__v.__k[0]=o(this.__b,Ne,ke.__O=ke.__P)}this.__b=null}var ot=Re.__a&&(0,t.createElement)(t.Fragment,null,Xe.fallback);return ot&&(ot.__h=null),[(0,t.createElement)(t.Fragment,null,Re.__a?null:Xe.children),ot]};var D=function(Xe,Re,Ne){if(++Ne[1]===Ne[0]&&Xe.o.delete(Re),Xe.props.revealOrder&&(Xe.props.revealOrder[0]!=="t"||!Xe.o.size))for(Ne=Xe.u;Ne;){for(;Ne.length>3;)Ne.pop()();if(Ne[1]<Ne[0])break;Xe.u=Ne=Ne[2]}};function y(Xe){return this.getChildContext=function(){return Xe.context},Xe.children}function M(Xe){var Re=this,Ne=Xe.i;Re.componentWillUnmount=function(){(0,t.render)(null,Re.l),Re.l=null,Re.i=null},Re.i&&Re.i!==Ne&&Re.componentWillUnmount(),Xe.__v?(Re.l||(Re.i=Ne,Re.l={nodeType:1,parentNode:Ne,childNodes:[],appendChild:function(ke){this.childNodes.push(ke),Re.i.appendChild(ke)},insertBefore:function(ke,ot){this.childNodes.push(ke),Re.i.appendChild(ke)},removeChild:function(ke){this.childNodes.splice(this.childNodes.indexOf(ke)>>>1,1),Re.i.removeChild(ke)}}),(0,t.render)((0,t.createElement)(y,{context:Re.context},Xe.__v),Re.l)):Re.l&&Re.componentWillUnmount()}function T(Xe,Re){var Ne=(0,t.createElement)(M,{__v:Xe,i:Re});return Ne.containerInfo=Re,Ne}(x.prototype=new t.Component).__a=function(Xe){var Re=this,Ne=P(Re.__v),ke=Re.o.get(Xe);return ke[0]++,function(ot){var Dt=function(){Re.props.revealOrder?(ke.push(ot),D(Re,Xe,ke)):ot()};Ne?Ne(Dt):Dt()}},x.prototype.render=function(Xe){this.u=null,this.o=new Map;var Re=(0,t.toChildArray)(Xe.children);Xe.revealOrder&&Xe.revealOrder[0]==="b"&&Re.reverse();for(var Ne=Re.length;Ne--;)this.o.set(Re[Ne],this.u=[1,0,this.u]);return Xe.children},x.prototype.componentDidUpdate=x.prototype.componentDidMount=function(){var Xe=this;this.o.forEach(function(Re,Ne){D(Xe,Ne,Re)})};var R=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,F=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,N=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,U=/[A-Z0-9]/g,V=typeof document!="undefined",W=function(Xe){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(Xe)};function L(Xe,Re,Ne){return Re.__k==null&&(Re.textContent=""),(0,t.render)(Xe,Re),typeof Ne=="function"&&Ne(),Xe?Xe.__c:null}function k(Xe,Re,Ne){return(0,t.hydrate)(Xe,Re),typeof Ne=="function"&&Ne(),Xe?Xe.__c:null}t.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Xe){Object.defineProperty(t.Component.prototype,Xe,{configurable:!0,get:function(){return this["UNSAFE_"+Xe]},set:function(Re){Object.defineProperty(this,Xe,{configurable:!0,writable:!0,value:Re})}})});var H=t.options.event;function G(){}function q(){return this.cancelBubble}function z(){return this.defaultPrevented}t.options.event=function(Xe){return H&&(Xe=H(Xe)),Xe.persist=G,Xe.isPropagationStopped=q,Xe.isDefaultPrevented=z,Xe.nativeEvent=Xe};var ee,$={configurable:!0,get:function(){return this.class}},J=t.options.vnode;t.options.vnode=function(Xe){var Re=Xe.type,Ne=Xe.props,ke=Ne;if(typeof Re=="string"){for(var ot in ke={},Ne){var Dt=Ne[ot];if(!(ot==="value"&&"defaultValue"in Ne&&Dt==null||V&&ot==="children"&&Re==="noscript")){var ln=ot.toLowerCase();ot==="defaultValue"&&"value"in Ne&&Ne.value==null?ot="value":ot==="download"&&Dt===!0?Dt="":ln==="ondoubleclick"?ot="ondblclick":ln!=="onchange"||Re!=="input"&&Re!=="textarea"||W(Ne.type)?ln==="onfocus"?ot="onfocusin":ln==="onblur"?ot="onfocusout":N.test(ot)?ot=ln:Re.indexOf("-")===-1&&F.test(ot)?ot=ot.replace(U,"-$&").toLowerCase():Dt===null&&(Dt=void 0):ln=ot="oninput",ln==="oninput"&&ke[ot=ln]&&(ot="oninputCapture"),ke[ot]=Dt}}Re=="select"&&ke.multiple&&Array.isArray(ke.value)&&(ke.value=(0,t.toChildArray)(Ne.children).forEach(function(ct){ct.props.selected=ke.value.indexOf(ct.props.value)!=-1})),Re=="select"&&ke.defaultValue!=null&&(ke.value=(0,t.toChildArray)(Ne.children).forEach(function(ct){ct.props.selected=ke.multiple?ke.defaultValue.indexOf(ct.props.value)!=-1:ke.defaultValue==ct.props.value})),Xe.props=ke,Ne.class!=Ne.className&&($.enumerable="className"in Ne,Ne.className!=null&&(ke.class=Ne.className),Object.defineProperty(ke,"className",$))}Xe.$$typeof=R,J&&J(Xe)};var j=t.options.__r;t.options.__r=function(Xe){j&&j(Xe),ee=Xe.__c};var Z=t.options.diffed;t.options.diffed=function(Xe){Z&&Z(Xe);var Re=Xe.props,Ne=Xe.__e;Ne!=null&&Xe.type==="textarea"&&"value"in Re&&Re.value!==Ne.value&&(Ne.value=Re.value==null?"":Re.value),ee=null};var ne={ReactCurrentDispatcher:{current:{readContext:function(Xe){return ee.__n[Xe.__c].props.value}}}},ie="17.0.2";function oe(Xe){return t.createElement.bind(null,Xe)}function re(Xe){return!!Xe&&Xe.$$typeof===R}function ae(Xe){return re(Xe)?t.cloneElement.apply(null,arguments):Xe}function se(Xe){return!!Xe.__k&&((0,t.render)(null,Xe),!0)}function fe(Xe){return Xe&&(Xe.base||Xe.nodeType===1&&Xe)||null}var le=function(Xe,Re){return Xe(Re)},Ae=function(Xe,Re){return Xe(Re)},De=t.Fragment;function je(Xe){Xe()}function Je(Xe){return Xe}function Be(){return[!1,je]}var st=a.bt;function ht(Xe,Re){var Ne=Re(),ke=(0,a.eJ)({h:{__:Ne,v:Re}}),ot=ke[0].h,Dt=ke[1];return(0,a.bt)(function(){ot.__=Ne,ot.v=Re,p(ot.__,Re())||Dt({h:ot})},[Xe,Ne,Re]),(0,a.d4)(function(){return p(ot.__,ot.v())||Dt({h:ot}),Xe(function(){p(ot.__,ot.v())||Dt({h:ot})})},[Xe]),Ne}var gt={useState:a.eJ,useId:a.Me,useReducer:a._Y,useEffect:a.d4,useLayoutEffect:a.bt,useInsertionEffect:st,useTransition:Be,useDeferredValue:Je,useSyncExternalStore:ht,startTransition:je,useRef:a.sO,useImperativeHandle:a.aP,useMemo:a.Ye,useCallback:a.I4,useContext:a.qp,useDebugValue:a.Qb,version:"17.0.2",Children:O,render:L,hydrate:k,unmountComponentAtNode:se,createPortal:T,createElement:t.createElement,createContext:t.createContext,createFactory:oe,cloneElement:ae,createRef:t.createRef,Fragment:t.Fragment,isValidElement:re,findDOMNode:fe,Component:t.Component,PureComponent:l,memo:v,forwardRef:E,flushSync:Ae,unstable_batchedUpdates:le,StrictMode:De,Suspense:w,SuspenseList:x,lazy:C,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ne}},14369:(K,f,e)=>{"use strict";e.r(f),e.d(f,{addHookName:()=>a});var t=e(6400);function a(i,c){return t.options.__a&&t.options.__a(c),i}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",t.options,{Fragment:t.Fragment,Component:t.Component})},6400:(K,f,e)=>{"use strict";e.r(f),e.d(f,{Component:()=>C,Fragment:()=>P,cloneElement:()=>ne,createContext:()=>ie,createElement:()=>o,createRef:()=>w,h:()=>o,hydrate:()=>Z,isValidElement:()=>c,options:()=>a,render:()=>j,toChildArray:()=>F});var t,a,i,c,p,l,v,_,g,E={},S=[],O=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function A(oe,re){for(var ae in re)oe[ae]=re[ae];return oe}function u(oe){var re=oe.parentNode;re&&re.removeChild(oe)}function o(oe,re,ae){var se,fe,le,Ae={};for(le in re)le=="key"?se=re[le]:le=="ref"?fe=re[le]:Ae[le]=re[le];if(arguments.length>2&&(Ae.children=arguments.length>3?t.call(arguments,2):ae),typeof oe=="function"&&oe.defaultProps!=null)for(le in oe.defaultProps)Ae[le]===void 0&&(Ae[le]=oe.defaultProps[le]);return s(oe,Ae,se,fe,null)}function s(oe,re,ae,se,fe){var le={type:oe,props:re,key:ae,ref:se,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:fe==null?++i:fe};return fe==null&&a.vnode!=null&&a.vnode(le),le}function w(){return{current:null}}function P(oe){return oe.children}function C(oe,re){this.props=oe,this.context=re}function x(oe,re){if(re==null)return oe.__?x(oe.__,oe.__.__k.indexOf(oe)+1):null;for(var ae;re<oe.__k.length;re++)if((ae=oe.__k[re])!=null&&ae.__e!=null)return ae.__e;return typeof oe.type=="function"?x(oe):null}function D(oe){var re,ae;if((oe=oe.__)!=null&&oe.__c!=null){for(oe.__e=oe.__c.base=null,re=0;re<oe.__k.length;re++)if((ae=oe.__k[re])!=null&&ae.__e!=null){oe.__e=oe.__c.base=ae.__e;break}return D(oe)}}function y(oe){(!oe.__d&&(oe.__d=!0)&&p.push(oe)&&!M.__r++||l!==a.debounceRendering)&&((l=a.debounceRendering)||v)(M)}function M(){var oe,re,ae,se,fe,le,Ae,De;for(p.sort(_);oe=p.shift();)oe.__d&&(re=p.length,se=void 0,fe=void 0,Ae=(le=(ae=oe).__v).__e,(De=ae.__P)&&(se=[],(fe=A({},le)).__v=le.__v+1,G(De,le,fe,ae.__n,De.ownerSVGElement!==void 0,le.__h!=null?[Ae]:null,se,Ae==null?x(le):Ae,le.__h),q(se,le),le.__e!=Ae&&D(le)),p.length>re&&p.sort(_));M.__r=0}function T(oe,re,ae,se,fe,le,Ae,De,je,Je){var Be,st,ht,gt,Xe,Re,Ne,ke=se&&se.__k||S,ot=ke.length;for(ae.__k=[],Be=0;Be<re.length;Be++)if((gt=ae.__k[Be]=(gt=re[Be])==null||typeof gt=="boolean"||typeof gt=="function"?null:typeof gt=="string"||typeof gt=="number"||typeof gt=="bigint"?s(null,gt,null,null,gt):Array.isArray(gt)?s(P,{children:gt},null,null,null):gt.__b>0?s(gt.type,gt.props,gt.key,gt.ref?gt.ref:null,gt.__v):gt)!=null){if(gt.__=ae,gt.__b=ae.__b+1,(ht=ke[Be])===null||ht&&gt.key==ht.key&&gt.type===ht.type)ke[Be]=void 0;else for(st=0;st<ot;st++){if((ht=ke[st])&&gt.key==ht.key&&gt.type===ht.type){ke[st]=void 0;break}ht=null}G(oe,gt,ht=ht||E,fe,le,Ae,De,je,Je),Xe=gt.__e,(st=gt.ref)&&ht.ref!=st&&(Ne||(Ne=[]),ht.ref&&Ne.push(ht.ref,null,gt),Ne.push(st,gt.__c||Xe,gt)),Xe!=null?(Re==null&&(Re=Xe),typeof gt.type=="function"&&gt.__k===ht.__k?gt.__d=je=R(gt,je,oe):je=N(oe,gt,ht,ke,Xe,je),typeof ae.type=="function"&&(ae.__d=je)):je&&ht.__e==je&&je.parentNode!=oe&&(je=x(ht))}for(ae.__e=Re,Be=ot;Be--;)ke[Be]!=null&&(typeof ae.type=="function"&&ke[Be].__e!=null&&ke[Be].__e==ae.__d&&(ae.__d=U(se).nextSibling),$(ke[Be],ke[Be]));if(Ne)for(Be=0;Be<Ne.length;Be++)ee(Ne[Be],Ne[++Be],Ne[++Be])}function R(oe,re,ae){for(var se,fe=oe.__k,le=0;fe&&le<fe.length;le++)(se=fe[le])&&(se.__=oe,re=typeof se.type=="function"?R(se,re,ae):N(ae,se,se,fe,se.__e,re));return re}function F(oe,re){return re=re||[],oe==null||typeof oe=="boolean"||(Array.isArray(oe)?oe.some(function(ae){F(ae,re)}):re.push(oe)),re}function N(oe,re,ae,se,fe,le){var Ae,De,je;if(re.__d!==void 0)Ae=re.__d,re.__d=void 0;else if(ae==null||fe!=le||fe.parentNode==null)e:if(le==null||le.parentNode!==oe)oe.appendChild(fe),Ae=null;else{for(De=le,je=0;(De=De.nextSibling)&&je<se.length;je+=1)if(De==fe)break e;oe.insertBefore(fe,le),Ae=le}return Ae!==void 0?Ae:fe.nextSibling}function U(oe){var re,ae,se;if(oe.type==null||typeof oe.type=="string")return oe.__e;if(oe.__k){for(re=oe.__k.length-1;re>=0;re--)if((ae=oe.__k[re])&&(se=U(ae)))return se}return null}function V(oe,re,ae,se,fe){var le;for(le in ae)le==="children"||le==="key"||le in re||L(oe,le,null,ae[le],se);for(le in re)fe&&typeof re[le]!="function"||le==="children"||le==="key"||le==="value"||le==="checked"||ae[le]===re[le]||L(oe,le,re[le],ae[le],se)}function W(oe,re,ae){re[0]==="-"?oe.setProperty(re,ae==null?"":ae):oe[re]=ae==null?"":typeof ae!="number"||O.test(re)?ae:ae+"px"}function L(oe,re,ae,se,fe){var le;e:if(re==="style")if(typeof ae=="string")oe.style.cssText=ae;else{if(typeof se=="string"&&(oe.style.cssText=se=""),se)for(re in se)ae&&re in ae||W(oe.style,re,"");if(ae)for(re in ae)se&&ae[re]===se[re]||W(oe.style,re,ae[re])}else if(re[0]==="o"&&re[1]==="n")le=re!==(re=re.replace(/Capture$/,"")),re=re.toLowerCase()in oe?re.toLowerCase().slice(2):re.slice(2),oe.l||(oe.l={}),oe.l[re+le]=ae,ae?se||oe.addEventListener(re,le?H:k,le):oe.removeEventListener(re,le?H:k,le);else if(re!=="dangerouslySetInnerHTML"){if(fe)re=re.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(re!=="width"&&re!=="height"&&re!=="href"&&re!=="list"&&re!=="form"&&re!=="tabIndex"&&re!=="download"&&re in oe)try{oe[re]=ae==null?"":ae;break e}catch(Ae){}typeof ae=="function"||(ae==null||ae===!1&&re.indexOf("-")==-1?oe.removeAttribute(re):oe.setAttribute(re,ae))}}function k(oe){return this.l[oe.type+!1](a.event?a.event(oe):oe)}function H(oe){return this.l[oe.type+!0](a.event?a.event(oe):oe)}function G(oe,re,ae,se,fe,le,Ae,De,je){var Je,Be,st,ht,gt,Xe,Re,Ne,ke,ot,Dt,ln,ct,Oe,Se,Ze=re.type;if(re.constructor!==void 0)return null;ae.__h!=null&&(je=ae.__h,De=re.__e=ae.__e,re.__h=null,le=[De]),(Je=a.__b)&&Je(re);try{e:if(typeof Ze=="function"){if(Ne=re.props,ke=(Je=Ze.contextType)&&se[Je.__c],ot=Je?ke?ke.props.value:Je.__:se,ae.__c?Re=(Be=re.__c=ae.__c).__=Be.__E:("prototype"in Ze&&Ze.prototype.render?re.__c=Be=new Ze(Ne,ot):(re.__c=Be=new C(Ne,ot),Be.constructor=Ze,Be.render=J),ke&&ke.sub(Be),Be.props=Ne,Be.state||(Be.state={}),Be.context=ot,Be.__n=se,st=Be.__d=!0,Be.__h=[],Be._sb=[]),Be.__s==null&&(Be.__s=Be.state),Ze.getDerivedStateFromProps!=null&&(Be.__s==Be.state&&(Be.__s=A({},Be.__s)),A(Be.__s,Ze.getDerivedStateFromProps(Ne,Be.__s))),ht=Be.props,gt=Be.state,Be.__v=re,st)Ze.getDerivedStateFromProps==null&&Be.componentWillMount!=null&&Be.componentWillMount(),Be.componentDidMount!=null&&Be.__h.push(Be.componentDidMount);else{if(Ze.getDerivedStateFromProps==null&&Ne!==ht&&Be.componentWillReceiveProps!=null&&Be.componentWillReceiveProps(Ne,ot),!Be.__e&&Be.shouldComponentUpdate!=null&&Be.shouldComponentUpdate(Ne,Be.__s,ot)===!1||re.__v===ae.__v){for(re.__v!==ae.__v&&(Be.props=Ne,Be.state=Be.__s,Be.__d=!1),Be.__e=!1,re.__e=ae.__e,re.__k=ae.__k,re.__k.forEach(function(Fe){Fe&&(Fe.__=re)}),Dt=0;Dt<Be._sb.length;Dt++)Be.__h.push(Be._sb[Dt]);Be._sb=[],Be.__h.length&&Ae.push(Be);break e}Be.componentWillUpdate!=null&&Be.componentWillUpdate(Ne,Be.__s,ot),Be.componentDidUpdate!=null&&Be.__h.push(function(){Be.componentDidUpdate(ht,gt,Xe)})}if(Be.context=ot,Be.props=Ne,Be.__P=oe,ln=a.__r,ct=0,"prototype"in Ze&&Ze.prototype.render){for(Be.state=Be.__s,Be.__d=!1,ln&&ln(re),Je=Be.render(Be.props,Be.state,Be.context),Oe=0;Oe<Be._sb.length;Oe++)Be.__h.push(Be._sb[Oe]);Be._sb=[]}else do Be.__d=!1,ln&&ln(re),Je=Be.render(Be.props,Be.state,Be.context),Be.state=Be.__s;while(Be.__d&&++ct<25);Be.state=Be.__s,Be.getChildContext!=null&&(se=A(A({},se),Be.getChildContext())),st||Be.getSnapshotBeforeUpdate==null||(Xe=Be.getSnapshotBeforeUpdate(ht,gt)),Se=Je!=null&&Je.type===P&&Je.key==null?Je.props.children:Je,T(oe,Array.isArray(Se)?Se:[Se],re,ae,se,fe,le,Ae,De,je),Be.base=re.__e,re.__h=null,Be.__h.length&&Ae.push(Be),Re&&(Be.__E=Be.__=null),Be.__e=!1}else le==null&&re.__v===ae.__v?(re.__k=ae.__k,re.__e=ae.__e):re.__e=z(ae.__e,re,ae,se,fe,le,Ae,je);(Je=a.diffed)&&Je(re)}catch(Fe){re.__v=null,(je||le!=null)&&(re.__e=De,re.__h=!!je,le[le.indexOf(De)]=null),a.__e(Fe,re,ae)}}function q(oe,re){a.__c&&a.__c(re,oe),oe.some(function(ae){try{oe=ae.__h,ae.__h=[],oe.some(function(se){se.call(ae)})}catch(se){a.__e(se,ae.__v)}})}function z(oe,re,ae,se,fe,le,Ae,De){var je,Je,Be,st=ae.props,ht=re.props,gt=re.type,Xe=0;if(gt==="svg"&&(fe=!0),le!=null){for(;Xe<le.length;Xe++)if((je=le[Xe])&&"setAttribute"in je==!!gt&&(gt?je.localName===gt:je.nodeType===3)){oe=je,le[Xe]=null;break}}if(oe==null){if(gt===null)return document.createTextNode(ht);oe=fe?document.createElementNS("http://www.w3.org/2000/svg",gt):document.createElement(gt,ht.is&&ht),le=null,De=!1}if(gt===null)st===ht||De&&oe.data===ht||(oe.data=ht);else{if(le=le&&t.call(oe.childNodes),Je=(st=ae.props||E).dangerouslySetInnerHTML,Be=ht.dangerouslySetInnerHTML,!De){if(le!=null)for(st={},Xe=0;Xe<oe.attributes.length;Xe++)st[oe.attributes[Xe].name]=oe.attributes[Xe].value;(Be||Je)&&(Be&&(Je&&Be.__html==Je.__html||Be.__html===oe.innerHTML)||(oe.innerHTML=Be&&Be.__html||""))}if(V(oe,ht,st,fe,De),Be)re.__k=[];else if(Xe=re.props.children,T(oe,Array.isArray(Xe)?Xe:[Xe],re,ae,se,fe&&gt!=="foreignObject",le,Ae,le?le[0]:ae.__k&&x(ae,0),De),le!=null)for(Xe=le.length;Xe--;)le[Xe]!=null&&u(le[Xe]);De||("value"in ht&&(Xe=ht.value)!==void 0&&(Xe!==oe.value||gt==="progress"&&!Xe||gt==="option"&&Xe!==st.value)&&L(oe,"value",Xe,st.value,!1),"checked"in ht&&(Xe=ht.checked)!==void 0&&Xe!==oe.checked&&L(oe,"checked",Xe,st.checked,!1))}return oe}function ee(oe,re,ae){try{typeof oe=="function"?oe(re):oe.current=re}catch(se){a.__e(se,ae)}}function $(oe,re,ae){var se,fe;if(a.unmount&&a.unmount(oe),(se=oe.ref)&&(se.current&&se.current!==oe.__e||ee(se,null,re)),(se=oe.__c)!=null){if(se.componentWillUnmount)try{se.componentWillUnmount()}catch(le){a.__e(le,re)}se.base=se.__P=null,oe.__c=void 0}if(se=oe.__k)for(fe=0;fe<se.length;fe++)se[fe]&&$(se[fe],re,ae||typeof oe.type!="function");ae||oe.__e==null||u(oe.__e),oe.__=oe.__e=oe.__d=void 0}function J(oe,re,ae){return this.constructor(oe,ae)}function j(oe,re,ae){var se,fe,le;a.__&&a.__(oe,re),fe=(se=typeof ae=="function")?null:ae&&ae.__k||re.__k,le=[],G(re,oe=(!se&&ae||re).__k=o(P,null,[oe]),fe||E,E,re.ownerSVGElement!==void 0,!se&&ae?[ae]:fe?null:re.firstChild?t.call(re.childNodes):null,le,!se&&ae?ae:fe?fe.__e:re.firstChild,se),q(le,oe)}function Z(oe,re){j(oe,re,Z)}function ne(oe,re,ae){var se,fe,le,Ae=A({},oe.props);for(le in re)le=="key"?se=re[le]:le=="ref"?fe=re[le]:Ae[le]=re[le];return arguments.length>2&&(Ae.children=arguments.length>3?t.call(arguments,2):ae),s(oe.type,Ae,se||oe.key,fe||oe.ref,null)}function ie(oe,re){var ae={__c:re="__cC"+g++,__:oe,Consumer:function(se,fe){return se.children(fe)},Provider:function(se){var fe,le;return this.getChildContext||(fe=[],(le={})[re]=this,this.getChildContext=function(){return le},this.shouldComponentUpdate=function(Ae){this.props.value!==Ae.value&&fe.some(function(De){De.__e=!0,y(De)})},this.sub=function(Ae){fe.push(Ae);var De=Ae.componentWillUnmount;Ae.componentWillUnmount=function(){fe.splice(fe.indexOf(Ae),1),De&&De.call(Ae)}}),se.children}};return ae.Provider.__=ae.Consumer.contextType=ae}t=S.slice,a={__e:function(oe,re,ae,se){for(var fe,le,Ae;re=re.__;)if((fe=re.__c)&&!fe.__)try{if((le=fe.constructor)&&le.getDerivedStateFromError!=null&&(fe.setState(le.getDerivedStateFromError(oe)),Ae=fe.__d),fe.componentDidCatch!=null&&(fe.componentDidCatch(oe,se||{}),Ae=fe.__d),Ae)return fe.__E=fe}catch(De){oe=De}throw oe}},i=0,c=function(oe){return oe!=null&&oe.constructor===void 0},C.prototype.setState=function(oe,re){var ae;ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=A({},this.state),typeof oe=="function"&&(oe=oe(A({},ae),this.props)),oe&&A(ae,oe),oe!=null&&this.__v&&(re&&this._sb.push(re),y(this))},C.prototype.forceUpdate=function(oe){this.__v&&(this.__e=!0,oe&&this.__h.push(oe),y(this))},C.prototype.render=P,p=[],v=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_=function(oe,re){return oe.__v.__b-re.__v.__b},M.__r=0,g=0},30396:(K,f,e)=>{"use strict";e.d(f,{I4:()=>y,Me:()=>F,Qb:()=>T,Ye:()=>D,_Y:()=>s,aP:()=>x,bt:()=>P,cO:()=>R,d4:()=>w,eJ:()=>o,qp:()=>M,sO:()=>C});var t=e(6400),a,i,c,p,l=0,v=[],_=[],g=t.options.__b,E=t.options.__r,S=t.options.diffed,O=t.options.__c,A=t.options.unmount;function u(G,q){t.options.__h&&t.options.__h(i,G,l||q),l=0;var z=i.__H||(i.__H={__:[],__h:[]});return G>=z.__.length&&z.__.push({__V:_}),z.__[G]}function o(G){return l=1,s(H,G)}function s(G,q,z){var ee=u(a++,2);if(ee.t=G,!ee.__c&&(ee.__=[z?z(q):H(void 0,q),function(Z){var ne=ee.__N?ee.__N[0]:ee.__[0],ie=ee.t(ne,Z);ne!==ie&&(ee.__N=[ie,ee.__[1]],ee.__c.setState({}))}],ee.__c=i,!i.u)){var $=function(Z,ne,ie){if(!ee.__c.__H)return!0;var oe=ee.__c.__H.__.filter(function(ae){return ae.__c});if(oe.every(function(ae){return!ae.__N}))return!J||J.call(this,Z,ne,ie);var re=!1;return oe.forEach(function(ae){if(ae.__N){var se=ae.__[0];ae.__=ae.__N,ae.__N=void 0,se!==ae.__[0]&&(re=!0)}}),!(!re&&ee.__c.props===Z)&&(!J||J.call(this,Z,ne,ie))};i.u=!0;var J=i.shouldComponentUpdate,j=i.componentWillUpdate;i.componentWillUpdate=function(Z,ne,ie){if(this.__e){var oe=J;J=void 0,$(Z,ne,ie),J=oe}j&&j.call(this,Z,ne,ie)},i.shouldComponentUpdate=$}return ee.__N||ee.__}function w(G,q){var z=u(a++,3);!t.options.__s&&k(z.__H,q)&&(z.__=G,z.i=q,i.__H.__h.push(z))}function P(G,q){var z=u(a++,4);!t.options.__s&&k(z.__H,q)&&(z.__=G,z.i=q,i.__h.push(z))}function C(G){return l=5,D(function(){return{current:G}},[])}function x(G,q,z){l=6,P(function(){return typeof G=="function"?(G(q()),function(){return G(null)}):G?(G.current=q(),function(){return G.current=null}):void 0},z==null?z:z.concat(G))}function D(G,q){var z=u(a++,7);return k(z.__H,q)?(z.__V=G(),z.i=q,z.__h=G,z.__V):z.__}function y(G,q){return l=8,D(function(){return G},q)}function M(G){var q=i.context[G.__c],z=u(a++,9);return z.c=G,q?(z.__==null&&(z.__=!0,q.sub(i)),q.props.value):G.__}function T(G,q){t.options.useDebugValue&&t.options.useDebugValue(q?q(G):G)}function R(G){var q=u(a++,10),z=o();return q.__=G,i.componentDidCatch||(i.componentDidCatch=function(ee,$){q.__&&q.__(ee,$),z[1](ee)}),[z[0],function(){z[1](void 0)}]}function F(){var G=u(a++,11);if(!G.__){for(var q=i.__v;q!==null&&!q.__m&&q.__!==null;)q=q.__;var z=q.__m||(q.__m=[0,0]);G.__="P"+z[0]+"-"+z[1]++}return G.__}function N(){for(var G;G=v.shift();)if(G.__P&&G.__H)try{G.__H.__h.forEach(W),G.__H.__h.forEach(L),G.__H.__h=[]}catch(q){G.__H.__h=[],t.options.__e(q,G.__v)}}t.options.__b=function(G){i=null,g&&g(G)},t.options.__r=function(G){E&&E(G),a=0;var q=(i=G.__c).__H;q&&(c===i?(q.__h=[],i.__h=[],q.__.forEach(function(z){z.__N&&(z.__=z.__N),z.__V=_,z.__N=z.i=void 0})):(q.__h.forEach(W),q.__h.forEach(L),q.__h=[])),c=i},t.options.diffed=function(G){S&&S(G);var q=G.__c;q&&q.__H&&(q.__H.__h.length&&(v.push(q)!==1&&p===t.options.requestAnimationFrame||((p=t.options.requestAnimationFrame)||V)(N)),q.__H.__.forEach(function(z){z.i&&(z.__H=z.i),z.__V!==_&&(z.__=z.__V),z.i=void 0,z.__V=_})),c=i=null},t.options.__c=function(G,q){q.some(function(z){try{z.__h.forEach(W),z.__h=z.__h.filter(function(ee){return!ee.__||L(ee)})}catch(ee){q.some(function($){$.__h&&($.__h=[])}),q=[],t.options.__e(ee,z.__v)}}),O&&O(G,q)},t.options.unmount=function(G){A&&A(G);var q,z=G.__c;z&&z.__H&&(z.__H.__.forEach(function(ee){try{W(ee)}catch($){q=$}}),z.__H=void 0,q&&t.options.__e(q,z.__v))};var U=typeof requestAnimationFrame=="function";function V(G){var q,z=function(){clearTimeout(ee),U&&cancelAnimationFrame(q),setTimeout(G)},ee=setTimeout(z,100);U&&(q=requestAnimationFrame(z))}function W(G){var q=i,z=G.__c;typeof z=="function"&&(G.__c=void 0,z()),i=q}function L(G){var q=i;G.__c=G.__(),i=q}function k(G,q){return!G||G.length!==q.length||q.some(function(z,ee){return z!==G[ee]})}function H(G,q){return typeof q=="function"?q(G):q}},92703:(K,f,e)=>{"use strict";var t=e(50414);function a(){}function i(){}i.resetWarningCache=a,K.exports=function(){function c(v,_,g,E,S,O){if(O!==t){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}c.isRequired=c;function p(){return c}var l={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:p,element:c,elementType:c,instanceOf:p,node:c,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:i,resetWarningCache:a};return l.PropTypes=l,l}},45697:(K,f,e)=>{if(!1)var t,a;else K.exports=e(92703)()},50414:K=>{"use strict";var f="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";K.exports=f},25889:(K,f,e)=>{"use strict";function t(x){var D=Array.prototype.slice.call(arguments,1);return D.forEach(function(y){y&&Object.keys(y).forEach(function(M){x[M]=y[M]})}),x}function a(x){return Object.prototype.toString.call(x)}function i(x){return a(x)==="[object String]"}function c(x){return a(x)==="[object Object]"}function p(x){return a(x)==="[object RegExp]"}function l(x){return a(x)==="[object Function]"}function v(x){return x.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var _={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function g(x){return Object.keys(x||{}).reduce(function(D,y){return D||_.hasOwnProperty(y)},!1)}var E={"http:":{validate:function(x,D,y){var M=x.slice(D);return y.re.http||(y.re.http=new RegExp("^\\/\\/"+y.re.src_auth+y.re.src_host_port_strict+y.re.src_path,"i")),y.re.http.test(M)?M.match(y.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(x,D,y){var M=x.slice(D);return y.re.no_http||(y.re.no_http=new RegExp("^"+y.re.src_auth+"(?:localhost|(?:(?:"+y.re.src_domain+")\\.)+"+y.re.src_domain_root+")"+y.re.src_port+y.re.src_host_terminator+y.re.src_path,"i")),y.re.no_http.test(M)?D>=3&&x[D-3]===":"||D>=3&&x[D-3]==="/"?0:M.match(y.re.no_http)[0].length:0}},"mailto:":{validate:function(x,D,y){var M=x.slice(D);return y.re.mailto||(y.re.mailto=new RegExp("^"+y.re.src_email_name+"@"+y.re.src_host_strict,"i")),y.re.mailto.test(M)?M.match(y.re.mailto)[0].length:0}}},S="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",O="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function A(x){x.__index__=-1,x.__text_cache__=""}function u(x){return function(D,y){var M=D.slice(y);return x.test(M)?M.match(x)[0].length:0}}function o(){return function(x,D){D.normalize(x)}}function s(x){var D=x.re=e(34078)(x.__opts__),y=x.__tlds__.slice();x.onCompile(),x.__tlds_replaced__||y.push(S),y.push(D.src_xn),D.src_tlds=y.join("|");function M(N){return N.replace("%TLDS%",D.src_tlds)}D.email_fuzzy=RegExp(M(D.tpl_email_fuzzy),"i"),D.link_fuzzy=RegExp(M(D.tpl_link_fuzzy),"i"),D.link_no_ip_fuzzy=RegExp(M(D.tpl_link_no_ip_fuzzy),"i"),D.host_fuzzy_test=RegExp(M(D.tpl_host_fuzzy_test),"i");var T=[];x.__compiled__={};function R(N,U){throw new Error('(LinkifyIt) Invalid schema "'+N+'": '+U)}Object.keys(x.__schemas__).forEach(function(N){var U=x.__schemas__[N];if(U!==null){var V={validate:null,link:null};if(x.__compiled__[N]=V,c(U)){p(U.validate)?V.validate=u(U.validate):l(U.validate)?V.validate=U.validate:R(N,U),l(U.normalize)?V.normalize=U.normalize:U.normalize?R(N,U):V.normalize=o();return}if(i(U)){T.push(N);return}R(N,U)}}),T.forEach(function(N){x.__compiled__[x.__schemas__[N]]&&(x.__compiled__[N].validate=x.__compiled__[x.__schemas__[N]].validate,x.__compiled__[N].normalize=x.__compiled__[x.__schemas__[N]].normalize)}),x.__compiled__[""]={validate:null,normalize:o()};var F=Object.keys(x.__compiled__).filter(function(N){return N.length>0&&x.__compiled__[N]}).map(v).join("|");x.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+D.src_ZPCc+"))("+F+")","i"),x.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+D.src_ZPCc+"))("+F+")","ig"),x.re.schema_at_start=RegExp("^"+x.re.schema_search.source,"i"),x.re.pretest=RegExp("("+x.re.schema_test.source+")|("+x.re.host_fuzzy_test.source+")|@","i"),A(x)}function w(x,D){var y=x.__index__,M=x.__last_index__,T=x.__text_cache__.slice(y,M);this.schema=x.__schema__.toLowerCase(),this.index=y+D,this.lastIndex=M+D,this.raw=T,this.text=T,this.url=T}function P(x,D){var y=new w(x,D);return x.__compiled__[y.schema].normalize(y,x),y}function C(x,D){if(!(this instanceof C))return new C(x,D);D||g(x)&&(D=x,x={}),this.__opts__=t({},_,D),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=t({},E,x),this.__compiled__={},this.__tlds__=O,this.__tlds_replaced__=!1,this.re={},s(this)}C.prototype.add=function(D,y){return this.__schemas__[D]=y,s(this),this},C.prototype.set=function(D){return this.__opts__=t(this.__opts__,D),this},C.prototype.test=function(D){if(this.__text_cache__=D,this.__index__=-1,!D.length)return!1;var y,M,T,R,F,N,U,V,W;if(this.re.schema_test.test(D)){for(U=this.re.schema_search,U.lastIndex=0;(y=U.exec(D))!==null;)if(R=this.testSchemaAt(D,y[2],U.lastIndex),R){this.__schema__=y[2],this.__index__=y.index+y[1].length,this.__last_index__=y.index+y[0].length+R;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(V=D.search(this.re.host_fuzzy_test),V>=0&&(this.__index__<0||V<this.__index__)&&(M=D.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(F=M.index+M[1].length,(this.__index__<0||F<this.__index__)&&(this.__schema__="",this.__index__=F,this.__last_index__=M.index+M[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(W=D.indexOf("@"),W>=0&&(T=D.match(this.re.email_fuzzy))!==null&&(F=T.index+T[1].length,N=T.index+T[0].length,(this.__index__<0||F<this.__index__||F===this.__index__&&N>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=F,this.__last_index__=N))),this.__index__>=0},C.prototype.pretest=function(D){return this.re.pretest.test(D)},C.prototype.testSchemaAt=function(D,y,M){return this.__compiled__[y.toLowerCase()]?this.__compiled__[y.toLowerCase()].validate(D,M,this):0},C.prototype.match=function(D){var y=0,M=[];this.__index__>=0&&this.__text_cache__===D&&(M.push(P(this,y)),y=this.__last_index__);for(var T=y?D.slice(y):D;this.test(T);)M.push(P(this,y)),T=T.slice(this.__last_index__),y+=this.__last_index__;return M.length?M:null},C.prototype.matchAtStart=function(D){if(this.__text_cache__=D,this.__index__=-1,!D.length)return null;var y=this.re.schema_at_start.exec(D);if(!y)return null;var M=this.testSchemaAt(D,y[2],y[0].length);return M?(this.__schema__=y[2],this.__index__=y.index+y[1].length,this.__last_index__=y.index+y[0].length+M,P(this,0)):null},C.prototype.tlds=function(D,y){return D=Array.isArray(D)?D:[D],y?(this.__tlds__=this.__tlds__.concat(D).sort().filter(function(M,T,R){return M!==R[T-1]}).reverse(),s(this),this):(this.__tlds__=D.slice(),this.__tlds_replaced__=!0,s(this),this)},C.prototype.normalize=function(D){D.schema||(D.url="http://"+D.url),D.schema==="mailto:"&&!/^mailto:/i.test(D.url)&&(D.url="mailto:"+D.url)},C.prototype.onCompile=function(){},K.exports=C},34078:(K,f,e)=>{"use strict";K.exports=function(t){var a={};t=t||{},a.src_Any=e(29369).source,a.src_Cc=e(99413).source,a.src_Z=e(35045).source,a.src_P=e(73189).source,a.src_ZPCc=[a.src_Z,a.src_P,a.src_Cc].join("|"),a.src_ZCc=[a.src_Z,a.src_Cc].join("|");var i="[><\uFF5C]";return a.src_pseudo_letter="(?:(?!"+i+"|"+a.src_ZPCc+")"+a.src_Any+")",a.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",a.src_auth="(?:(?:(?!"+a.src_ZCc+"|[@/\\[\\]()]).)+@)?",a.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",a.src_host_terminator="(?=$|"+i+"|"+a.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+a.src_ZPCc+"))",a.src_path="(?:[/?#](?:(?!"+a.src_ZCc+"|"+i+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+a.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+a.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+a.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+a.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+a.src_ZCc+"|[']).)+\\'|\\'(?="+a.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+a.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+a.src_ZCc+"|$)|;(?!"+a.src_ZCc+"|$)|\\!+(?!"+a.src_ZCc+"|[!]|$)|\\?(?!"+a.src_ZCc+"|[?]|$))+|\\/)?",a.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',a.src_xn="xn--[a-z0-9\\-]{1,59}",a.src_domain_root="(?:"+a.src_xn+"|"+a.src_pseudo_letter+"{1,63})",a.src_domain="(?:"+a.src_xn+"|(?:"+a.src_pseudo_letter+")|(?:"+a.src_pseudo_letter+"(?:-|"+a.src_pseudo_letter+"){0,61}"+a.src_pseudo_letter+"))",a.src_host="(?:(?:(?:(?:"+a.src_domain+")\\.)*"+a.src_domain+"))",a.tpl_host_fuzzy="(?:"+a.src_ip4+"|(?:(?:(?:"+a.src_domain+")\\.)+(?:%TLDS%)))",a.tpl_host_no_ip_fuzzy="(?:(?:(?:"+a.src_domain+")\\.)+(?:%TLDS%))",a.src_host_strict=a.src_host+a.src_host_terminator,a.tpl_host_fuzzy_strict=a.tpl_host_fuzzy+a.src_host_terminator,a.src_host_port_strict=a.src_host+a.src_port+a.src_host_terminator,a.tpl_host_port_fuzzy_strict=a.tpl_host_fuzzy+a.src_port+a.src_host_terminator,a.tpl_host_port_no_ip_fuzzy_strict=a.tpl_host_no_ip_fuzzy+a.src_port+a.src_host_terminator,a.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+a.src_ZPCc+"|>|$))",a.tpl_email_fuzzy="(^|"+i+'|"|\\(|'+a.src_ZCc+")("+a.src_email_name+"@"+a.tpl_host_fuzzy_strict+")",a.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+a.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+a.tpl_host_port_fuzzy_strict+a.src_path+")",a.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+a.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+a.tpl_host_port_no_ip_fuzzy_strict+a.src_path+")",a}},17568:(K,f,e)=>{"use strict";K.exports=e(15132)},48099:(K,f,e)=>{"use strict";K.exports=e(93854)},57143:K=>{"use strict";K.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},38386:K=>{"use strict";var f="[a-zA-Z_:][a-zA-Z0-9:._-]*",e="[^\"'=<>`\\x00-\\x20]+",t="'[^']*'",a='"[^"]*"',i="(?:"+e+"|"+t+"|"+a+")",c="(?:\\s+"+f+"(?:\\s*=\\s*"+i+")?)",p="<[A-Za-z][A-Za-z0-9\\-]*"+c+"*\\s*\\/?>",l="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",v="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",_="<[?][\\s\\S]*?[?]>",g="<![A-Z]+\\s+[^>]*>",E="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",S=new RegExp("^(?:"+p+"|"+l+"|"+v+"|"+_+"|"+g+"|"+E+")"),O=new RegExp("^(?:"+p+"|"+l+")");K.exports.n=S,K.exports.q=O},14154:(K,f,e)=>{"use strict";function t(W){return Object.prototype.toString.call(W)}function a(W){return t(W)==="[object String]"}var i=Object.prototype.hasOwnProperty;function c(W,L){return i.call(W,L)}function p(W){var L=Array.prototype.slice.call(arguments,1);return L.forEach(function(k){if(k){if(typeof k!="object")throw new TypeError(k+"must be object");Object.keys(k).forEach(function(H){W[H]=k[H]})}}),W}function l(W,L,k){return[].concat(W.slice(0,L),k,W.slice(L+1))}function v(W){return!(W>=55296&&W<=57343||W>=64976&&W<=65007||(W&65535)===65535||(W&65535)===65534||W>=0&&W<=8||W===11||W>=14&&W<=31||W>=127&&W<=159||W>1114111)}function _(W){if(W>65535){W-=65536;var L=55296+(W>>10),k=56320+(W&1023);return String.fromCharCode(L,k)}return String.fromCharCode(W)}var g=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,E=/&([a-z#][a-z0-9]{1,31});/gi,S=new RegExp(g.source+"|"+E.source,"gi"),O=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,A=e(48099);function u(W,L){var k=0;return c(A,L)?A[L]:L.charCodeAt(0)===35&&O.test(L)&&(k=L[1].toLowerCase()==="x"?parseInt(L.slice(2),16):parseInt(L.slice(1),10),v(k))?_(k):W}function o(W){return W.indexOf("\\")<0?W:W.replace(g,"$1")}function s(W){return W.indexOf("\\")<0&&W.indexOf("&")<0?W:W.replace(S,function(L,k,H){return k||u(L,H)})}var w=/[&<>"]/,P=/[&<>"]/g,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function x(W){return C[W]}function D(W){return w.test(W)?W.replace(P,x):W}var y=/[.?*+^$[\]\\(){}|-]/g;function M(W){return W.replace(y,"\\$&")}function T(W){switch(W){case 9:case 32:return!0}return!1}function R(W){if(W>=8192&&W<=8202)return!0;switch(W){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var F=e(73189);function N(W){return F.test(W)}function U(W){switch(W){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function V(W){return W=W.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(W=W.replace(//g,"\xDF")),W.toLowerCase().toUpperCase()}f.lib={},f.lib.mdurl=e(48765),f.lib.ucmicro=e(84205),f.assign=p,f.isString=a,f.has=c,f.unescapeMd=o,f.unescapeAll=s,f.isValidEntityCode=v,f.fromCodePoint=_,f.escapeHtml=D,f.arrayReplaceAt=l,f.isSpace=T,f.isWhiteSpace=R,f.isMdAsciiPunct=U,f.isPunctChar=N,f.escapeRE=M,f.normalizeReference=V},8493:(K,f,e)=>{"use strict";f.parseLinkLabel=e(52199),f.parseLinkDestination=e(58746),f.parseLinkTitle=e(51500)},58746:(K,f,e)=>{"use strict";var t=e(14154).unescapeAll;K.exports=function(i,c,p){var l,v,_=0,g=c,E={ok:!1,pos:0,lines:0,str:""};if(i.charCodeAt(c)===60){for(c++;c<p;){if(l=i.charCodeAt(c),l===10||l===60)return E;if(l===62)return E.pos=c+1,E.str=t(i.slice(g+1,c)),E.ok=!0,E;if(l===92&&c+1<p){c+=2;continue}c++}return E}for(v=0;c<p&&(l=i.charCodeAt(c),!(l===32||l<32||l===127));){if(l===92&&c+1<p){if(i.charCodeAt(c+1)===32)break;c+=2;continue}if(l===40&&(v++,v>32))return E;if(l===41){if(v===0)break;v--}c++}return g===c||v!==0||(E.str=t(i.slice(g,c)),E.lines=_,E.pos=c,E.ok=!0),E}},52199:K=>{"use strict";K.exports=function(e,t,a){var i,c,p,l,v=-1,_=e.posMax,g=e.pos;for(e.pos=t+1,i=1;e.pos<_;){if(p=e.src.charCodeAt(e.pos),p===93&&(i--,i===0)){c=!0;break}if(l=e.pos,e.md.inline.skipToken(e),p===91){if(l===e.pos-1)i++;else if(a)return e.pos=g,-1}}return c&&(v=e.pos),e.pos=g,v}},51500:(K,f,e)=>{"use strict";var t=e(14154).unescapeAll;K.exports=function(i,c,p){var l,v,_=0,g=c,E={ok:!1,pos:0,lines:0,str:""};if(c>=p||(v=i.charCodeAt(c),v!==34&&v!==39&&v!==40))return E;for(c++,v===40&&(v=41);c<p;){if(l=i.charCodeAt(c),l===v)return E.pos=c+1,E.lines=_,E.str=t(i.slice(g+1,c)),E.ok=!0,E;if(l===40&&v===41)return E;l===10?_++:l===92&&c+1<p&&(c++,i.charCodeAt(c)===10&&_++),c++}return E}},15132:(K,f,e)=>{"use strict";var t=e(14154),a=e(8493),i=e(45464),c=e(80339),p=e(5665),l=e(22090),v=e(25889),_=e(48765),g=e(74971),E={default:e(9140),zero:e(32040),commonmark:e(27954)},S=/^(vbscript|javascript|file|data):/,O=/^data:image\/(gif|png|jpeg|webp);/;function A(P){var C=P.trim().toLowerCase();return S.test(C)?!!O.test(C):!0}var u=["http:","https:","mailto:"];function o(P){var C=_.parse(P,!0);if(C.hostname&&(!C.protocol||u.indexOf(C.protocol)>=0))try{C.hostname=g.toASCII(C.hostname)}catch(x){}return _.encode(_.format(C))}function s(P){var C=_.parse(P,!0);if(C.hostname&&(!C.protocol||u.indexOf(C.protocol)>=0))try{C.hostname=g.toUnicode(C.hostname)}catch(x){}return _.decode(_.format(C),_.decode.defaultChars+"%")}function w(P,C){if(!(this instanceof w))return new w(P,C);C||t.isString(P)||(C=P||{},P="default"),this.inline=new l,this.block=new p,this.core=new c,this.renderer=new i,this.linkify=new v,this.validateLink=A,this.normalizeLink=o,this.normalizeLinkText=s,this.utils=t,this.helpers=t.assign({},a),this.options={},this.configure(P),C&&this.set(C)}w.prototype.set=function(P){return t.assign(this.options,P),this},w.prototype.configure=function(P){var C=this,x;if(t.isString(P)&&(x=P,P=E[x],!P))throw new Error('Wrong `markdown-it` preset "'+x+'", check name');if(!P)throw new Error("Wrong `markdown-it` preset, can't be empty");return P.options&&C.set(P.options),P.components&&Object.keys(P.components).forEach(function(D){P.components[D].rules&&C[D].ruler.enableOnly(P.components[D].rules),P.components[D].rules2&&C[D].ruler2.enableOnly(P.components[D].rules2)}),this},w.prototype.enable=function(P,C){var x=[];Array.isArray(P)||(P=[P]),["core","block","inline"].forEach(function(y){x=x.concat(this[y].ruler.enable(P,!0))},this),x=x.concat(this.inline.ruler2.enable(P,!0));var D=P.filter(function(y){return x.indexOf(y)<0});if(D.length&&!C)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+D);return this},w.prototype.disable=function(P,C){var x=[];Array.isArray(P)||(P=[P]),["core","block","inline"].forEach(function(y){x=x.concat(this[y].ruler.disable(P,!0))},this),x=x.concat(this.inline.ruler2.disable(P,!0));var D=P.filter(function(y){return x.indexOf(y)<0});if(D.length&&!C)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+D);return this},w.prototype.use=function(P){var C=[this].concat(Array.prototype.slice.call(arguments,1));return P.apply(P,C),this},w.prototype.parse=function(P,C){if(typeof P!="string")throw new Error("Input data should be a String");var x=new this.core.State(P,this,C);return this.core.process(x),x.tokens},w.prototype.render=function(P,C){return C=C||{},this.renderer.render(this.parse(P,C),this.options,C)},w.prototype.parseInline=function(P,C){var x=new this.core.State(P,this,C);return x.inlineMode=!0,this.core.process(x),x.tokens},w.prototype.renderInline=function(P,C){return C=C||{},this.renderer.render(this.parseInline(P,C),this.options,C)},K.exports=w},5665:(K,f,e)=>{"use strict";var t=e(5056),a=[["table",e(15522),["paragraph","reference"]],["code",e(67764)],["fence",e(23721),["paragraph","reference","blockquote","list"]],["blockquote",e(69910),["paragraph","reference","blockquote","list"]],["hr",e(33511),["paragraph","reference","blockquote","list"]],["list",e(99752),["paragraph","reference","blockquote"]],["reference",e(50722)],["html_block",e(47141),["paragraph","reference","blockquote"]],["heading",e(96909),["paragraph","reference","blockquote"]],["lheading",e(46358)],["paragraph",e(9994)]];function i(){this.ruler=new t;for(var c=0;c<a.length;c++)this.ruler.push(a[c][0],a[c][1],{alt:(a[c][2]||[]).slice()})}i.prototype.tokenize=function(c,p,l){for(var v,_,g=this.ruler.getRules(""),E=g.length,S=p,O=!1,A=c.md.options.maxNesting;S<l&&(c.line=S=c.skipEmptyLines(S),!(S>=l||c.sCount[S]<c.blkIndent));){if(c.level>=A){c.line=l;break}for(_=0;_<E&&(v=g[_](c,S,l,!1),!v);_++);c.tight=!O,c.isEmpty(c.line-1)&&(O=!0),S=c.line,S<l&&c.isEmpty(S)&&(O=!0,S++,c.line=S)}},i.prototype.parse=function(c,p,l,v){var _;c&&(_=new this.State(c,p,l,v),this.tokenize(_,_.line,_.lineMax))},i.prototype.State=e(25036),K.exports=i},80339:(K,f,e)=>{"use strict";var t=e(5056),a=[["normalize",e(43809)],["block",e(11499)],["inline",e(62442)],["linkify",e(20330)],["replacements",e(69868)],["smartquotes",e(52770)],["text_join",e(37701)]];function i(){this.ruler=new t;for(var c=0;c<a.length;c++)this.ruler.push(a[c][0],a[c][1])}i.prototype.process=function(c){var p,l,v;for(v=this.ruler.getRules(""),p=0,l=v.length;p<l;p++)v[p](c)},i.prototype.State=e(65412),K.exports=i},22090:(K,f,e)=>{"use strict";var t=e(5056),a=[["text",e(68698)],["linkify",e(32346)],["newline",e(14827)],["escape",e(92274)],["backticks",e(88007)],["strikethrough",e(10330).w],["emphasis",e(73370).w],["link",e(93412)],["image",e(964)],["autolink",e(74124)],["html_inline",e(25266)],["entity",e(65341)]],i=[["balance_pairs",e(29284)],["strikethrough",e(10330).g],["emphasis",e(73370).g],["fragments_join",e(24097)]];function c(){var p;for(this.ruler=new t,p=0;p<a.length;p++)this.ruler.push(a[p][0],a[p][1]);for(this.ruler2=new t,p=0;p<i.length;p++)this.ruler2.push(i[p][0],i[p][1])}c.prototype.skipToken=function(p){var l,v,_=p.pos,g=this.ruler.getRules(""),E=g.length,S=p.md.options.maxNesting,O=p.cache;if(typeof O[_]!="undefined"){p.pos=O[_];return}if(p.level<S)for(v=0;v<E&&(p.level++,l=g[v](p,!0),p.level--,!l);v++);else p.pos=p.posMax;l||p.pos++,O[_]=p.pos},c.prototype.tokenize=function(p){for(var l,v,_=this.ruler.getRules(""),g=_.length,E=p.posMax,S=p.md.options.maxNesting;p.pos<E;){if(p.level<S)for(v=0;v<g&&(l=_[v](p,!1),!l);v++);if(l){if(p.pos>=E)break;continue}p.pending+=p.src[p.pos++]}p.pending&&p.pushPending()},c.prototype.parse=function(p,l,v,_){var g,E,S,O=new this.State(p,l,v,_);for(this.tokenize(O),E=this.ruler2.getRules(""),S=E.length,g=0;g<S;g++)E[g](O)},c.prototype.State=e(67410),K.exports=c},27954:K=>{"use strict";K.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},9140:K=>{"use strict";K.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},32040:K=>{"use strict";K.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},45464:(K,f,e)=>{"use strict";var t=e(14154).assign,a=e(14154).unescapeAll,i=e(14154).escapeHtml,c={};c.code_inline=function(l,v,_,g,E){var S=l[v];return"<code"+E.renderAttrs(S)+">"+i(l[v].content)+"</code>"},c.code_block=function(l,v,_,g,E){var S=l[v];return"<pre"+E.renderAttrs(S)+"><code>"+i(l[v].content)+`</code></pre>
`},c.fence=function(l,v,_,g,E){var S=l[v],O=S.info?a(S.info).trim():"",A="",u="",o,s,w,P,C;return O&&(w=O.split(/(\s+)/g),A=w[0],u=w.slice(2).join("")),_.highlight?o=_.highlight(S.content,A,u)||i(S.content):o=i(S.content),o.indexOf("<pre")===0?o+`
`:O?(s=S.attrIndex("class"),P=S.attrs?S.attrs.slice():[],s<0?P.push(["class",_.langPrefix+A]):(P[s]=P[s].slice(),P[s][1]+=" "+_.langPrefix+A),C={attrs:P},"<pre><code"+E.renderAttrs(C)+">"+o+`</code></pre>
`):"<pre><code"+E.renderAttrs(S)+">"+o+`</code></pre>
`},c.image=function(l,v,_,g,E){var S=l[v];return S.attrs[S.attrIndex("alt")][1]=E.renderInlineAsText(S.children,_,g),E.renderToken(l,v,_)},c.hardbreak=function(l,v,_){return _.xhtmlOut?`<br />
`:`<br>
`},c.softbreak=function(l,v,_){return _.breaks?_.xhtmlOut?`<br />
`:`<br>
`:`
`},c.text=function(l,v){return i(l[v].content)},c.html_block=function(l,v){return l[v].content},c.html_inline=function(l,v){return l[v].content};function p(){this.rules=t({},c)}p.prototype.renderAttrs=function(v){var _,g,E;if(!v.attrs)return"";for(E="",_=0,g=v.attrs.length;_<g;_++)E+=" "+i(v.attrs[_][0])+'="'+i(v.attrs[_][1])+'"';return E},p.prototype.renderToken=function(v,_,g){var E,S="",O=!1,A=v[_];return A.hidden?"":(A.block&&A.nesting!==-1&&_&&v[_-1].hidden&&(S+=`
`),S+=(A.nesting===-1?"</":"<")+A.tag,S+=this.renderAttrs(A),A.nesting===0&&g.xhtmlOut&&(S+=" /"),A.block&&(O=!0,A.nesting===1&&_+1<v.length&&(E=v[_+1],(E.type==="inline"||E.hidden||E.nesting===-1&&E.tag===A.tag)&&(O=!1))),S+=O?`>
`:">",S)},p.prototype.renderInline=function(l,v,_){for(var g,E="",S=this.rules,O=0,A=l.length;O<A;O++)g=l[O].type,typeof S[g]!="undefined"?E+=S[g](l,O,v,_,this):E+=this.renderToken(l,O,v);return E},p.prototype.renderInlineAsText=function(l,v,_){for(var g="",E=0,S=l.length;E<S;E++)l[E].type==="text"?g+=l[E].content:l[E].type==="image"?g+=this.renderInlineAsText(l[E].children,v,_):l[E].type==="softbreak"&&(g+=`
`);return g},p.prototype.render=function(l,v,_){var g,E,S,O="",A=this.rules;for(g=0,E=l.length;g<E;g++)S=l[g].type,S==="inline"?O+=this.renderInline(l[g].children,v,_):typeof A[S]!="undefined"?O+=A[l[g].type](l,g,v,_,this):O+=this.renderToken(l,g,v,_);return O},K.exports=p},5056:K=>{"use strict";function f(){this.__rules__=[],this.__cache__=null}f.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},f.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(a){a.enabled&&a.alt.forEach(function(i){t.indexOf(i)<0&&t.push(i)})}),e.__cache__={},t.forEach(function(a){e.__cache__[a]=[],e.__rules__.forEach(function(i){i.enabled&&(a&&i.alt.indexOf(a)<0||e.__cache__[a].push(i.fn))})})},f.prototype.at=function(e,t,a){var i=this.__find__(e),c=a||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=c.alt||[],this.__cache__=null},f.prototype.before=function(e,t,a,i){var c=this.__find__(e),p=i||{};if(c===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(c,0,{name:t,enabled:!0,fn:a,alt:p.alt||[]}),this.__cache__=null},f.prototype.after=function(e,t,a,i){var c=this.__find__(e),p=i||{};if(c===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(c+1,0,{name:t,enabled:!0,fn:a,alt:p.alt||[]}),this.__cache__=null},f.prototype.push=function(e,t,a){var i=a||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},f.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var a=[];return e.forEach(function(i){var c=this.__find__(i);if(c<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[c].enabled=!0,a.push(i)},this),this.__cache__=null,a},f.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(a){a.enabled=!1}),this.enable(e,t)},f.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var a=[];return e.forEach(function(i){var c=this.__find__(i);if(c<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[c].enabled=!1,a.push(i)},this),this.__cache__=null,a},f.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]},K.exports=f},69910:(K,f,e)=>{"use strict";var t=e(14154).isSpace;K.exports=function(i,c,p,l){var v,_,g,E,S,O,A,u,o,s,w,P,C,x,D,y,M,T,R,F,N=i.lineMax,U=i.bMarks[c]+i.tShift[c],V=i.eMarks[c];if(i.sCount[c]-i.blkIndent>=4||i.src.charCodeAt(U++)!==62)return!1;if(l)return!0;for(E=o=i.sCount[c]+1,i.src.charCodeAt(U)===32?(U++,E++,o++,v=!1,y=!0):i.src.charCodeAt(U)===9?(y=!0,(i.bsCount[c]+o)%4===3?(U++,E++,o++,v=!1):v=!0):y=!1,s=[i.bMarks[c]],i.bMarks[c]=U;U<V&&(_=i.src.charCodeAt(U),t(_));){_===9?o+=4-(o+i.bsCount[c]+(v?1:0))%4:o++;U++}for(w=[i.bsCount[c]],i.bsCount[c]=i.sCount[c]+1+(y?1:0),O=U>=V,x=[i.sCount[c]],i.sCount[c]=o-E,D=[i.tShift[c]],i.tShift[c]=U-i.bMarks[c],T=i.md.block.ruler.getRules("blockquote"),C=i.parentType,i.parentType="blockquote",u=c+1;u<p&&(F=i.sCount[u]<i.blkIndent,U=i.bMarks[u]+i.tShift[u],V=i.eMarks[u],!(U>=V));u++){if(i.src.charCodeAt(U++)===62&&!F){for(E=o=i.sCount[u]+1,i.src.charCodeAt(U)===32?(U++,E++,o++,v=!1,y=!0):i.src.charCodeAt(U)===9?(y=!0,(i.bsCount[u]+o)%4===3?(U++,E++,o++,v=!1):v=!0):y=!1,s.push(i.bMarks[u]),i.bMarks[u]=U;U<V&&(_=i.src.charCodeAt(U),t(_));){_===9?o+=4-(o+i.bsCount[u]+(v?1:0))%4:o++;U++}O=U>=V,w.push(i.bsCount[u]),i.bsCount[u]=i.sCount[u]+1+(y?1:0),x.push(i.sCount[u]),i.sCount[u]=o-E,D.push(i.tShift[u]),i.tShift[u]=U-i.bMarks[u];continue}if(O)break;for(M=!1,g=0,S=T.length;g<S;g++)if(T[g](i,u,p,!0)){M=!0;break}if(M){i.lineMax=u,i.blkIndent!==0&&(s.push(i.bMarks[u]),w.push(i.bsCount[u]),D.push(i.tShift[u]),x.push(i.sCount[u]),i.sCount[u]-=i.blkIndent);break}s.push(i.bMarks[u]),w.push(i.bsCount[u]),D.push(i.tShift[u]),x.push(i.sCount[u]),i.sCount[u]=-1}for(P=i.blkIndent,i.blkIndent=0,R=i.push("blockquote_open","blockquote",1),R.markup=">",R.map=A=[c,0],i.md.block.tokenize(i,c,u),R=i.push("blockquote_close","blockquote",-1),R.markup=">",i.lineMax=N,i.parentType=C,A[1]=i.line,g=0;g<D.length;g++)i.bMarks[g+c]=s[g],i.tShift[g+c]=D[g],i.sCount[g+c]=x[g],i.bsCount[g+c]=w[g];return i.blkIndent=P,!0}},67764:K=>{"use strict";K.exports=function(e,t,a){var i,c,p;if(e.sCount[t]-e.blkIndent<4)return!1;for(c=i=t+1;i<a;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,c=i;continue}break}return e.line=c,p=e.push("code_block","code",0),p.content=e.getLines(t,c,4+e.blkIndent,!1)+`
`,p.map=[t,e.line],!0}},23721:K=>{"use strict";K.exports=function(e,t,a,i){var c,p,l,v,_,g,E,S=!1,O=e.bMarks[t]+e.tShift[t],A=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||O+3>A||(c=e.src.charCodeAt(O),c!==126&&c!==96)||(_=O,O=e.skipChars(O,c),p=O-_,p<3)||(E=e.src.slice(_,O),l=e.src.slice(O,A),c===96&&l.indexOf(String.fromCharCode(c))>=0))return!1;if(i)return!0;for(v=t;v++,!(v>=a||(O=_=e.bMarks[v]+e.tShift[v],A=e.eMarks[v],O<A&&e.sCount[v]<e.blkIndent));)if(e.src.charCodeAt(O)===c&&!(e.sCount[v]-e.blkIndent>=4)&&(O=e.skipChars(O,c),!(O-_<p)&&(O=e.skipSpaces(O),!(O<A)))){S=!0;break}return p=e.sCount[t],e.line=v+(S?1:0),g=e.push("fence","code",0),g.info=l,g.content=e.getLines(t+1,v,p,!0),g.markup=E,g.map=[t,e.line],!0}},96909:(K,f,e)=>{"use strict";var t=e(14154).isSpace;K.exports=function(i,c,p,l){var v,_,g,E,S=i.bMarks[c]+i.tShift[c],O=i.eMarks[c];if(i.sCount[c]-i.blkIndent>=4||(v=i.src.charCodeAt(S),v!==35||S>=O))return!1;for(_=1,v=i.src.charCodeAt(++S);v===35&&S<O&&_<=6;)_++,v=i.src.charCodeAt(++S);return _>6||S<O&&!t(v)?!1:(l||(O=i.skipSpacesBack(O,S),g=i.skipCharsBack(O,35,S),g>S&&t(i.src.charCodeAt(g-1))&&(O=g),i.line=c+1,E=i.push("heading_open","h"+String(_),1),E.markup="########".slice(0,_),E.map=[c,i.line],E=i.push("inline","",0),E.content=i.src.slice(S,O).trim(),E.map=[c,i.line],E.children=[],E=i.push("heading_close","h"+String(_),-1),E.markup="########".slice(0,_)),!0)}},33511:(K,f,e)=>{"use strict";var t=e(14154).isSpace;K.exports=function(i,c,p,l){var v,_,g,E,S=i.bMarks[c]+i.tShift[c],O=i.eMarks[c];if(i.sCount[c]-i.blkIndent>=4||(v=i.src.charCodeAt(S++),v!==42&&v!==45&&v!==95))return!1;for(_=1;S<O;){if(g=i.src.charCodeAt(S++),g!==v&&!t(g))return!1;g===v&&_++}return _<3?!1:(l||(i.line=c+1,E=i.push("hr","hr",0),E.map=[c,i.line],E.markup=Array(_+1).join(String.fromCharCode(v))),!0)}},47141:(K,f,e)=>{"use strict";var t=e(57143),a=e(38386).q,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+t.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(a.source+"\\s*$"),/^$/,!1]];K.exports=function(p,l,v,_){var g,E,S,O,A=p.bMarks[l]+p.tShift[l],u=p.eMarks[l];if(p.sCount[l]-p.blkIndent>=4||!p.md.options.html||p.src.charCodeAt(A)!==60)return!1;for(O=p.src.slice(A,u),g=0;g<i.length&&!i[g][0].test(O);g++);if(g===i.length)return!1;if(_)return i[g][2];if(E=l+1,!i[g][1].test(O)){for(;E<v&&!(p.sCount[E]<p.blkIndent);E++)if(A=p.bMarks[E]+p.tShift[E],u=p.eMarks[E],O=p.src.slice(A,u),i[g][1].test(O)){O.length!==0&&E++;break}}return p.line=E,S=p.push("html_block","",0),S.map=[l,E],S.content=p.getLines(l,E,p.blkIndent,!0),!0}},46358:K=>{"use strict";K.exports=function(e,t,a){var i,c,p,l,v,_,g,E,S,O=t+1,A,u=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(A=e.parentType,e.parentType="paragraph";O<a&&!e.isEmpty(O);O++)if(!(e.sCount[O]-e.blkIndent>3)){if(e.sCount[O]>=e.blkIndent&&(_=e.bMarks[O]+e.tShift[O],g=e.eMarks[O],_<g&&(S=e.src.charCodeAt(_),(S===45||S===61)&&(_=e.skipChars(_,S),_=e.skipSpaces(_),_>=g)))){E=S===61?1:2;break}if(!(e.sCount[O]<0)){for(c=!1,p=0,l=u.length;p<l;p++)if(u[p](e,O,a,!0)){c=!0;break}if(c)break}}return E?(i=e.getLines(t,O,e.blkIndent,!1).trim(),e.line=O+1,v=e.push("heading_open","h"+String(E),1),v.markup=String.fromCharCode(S),v.map=[t,e.line],v=e.push("inline","",0),v.content=i,v.map=[t,e.line-1],v.children=[],v=e.push("heading_close","h"+String(E),-1),v.markup=String.fromCharCode(S),e.parentType=A,!0):!1}},99752:(K,f,e)=>{"use strict";var t=e(14154).isSpace;function a(p,l){var v,_,g,E;return _=p.bMarks[l]+p.tShift[l],g=p.eMarks[l],v=p.src.charCodeAt(_++),v!==42&&v!==45&&v!==43||_<g&&(E=p.src.charCodeAt(_),!t(E))?-1:_}function i(p,l){var v,_=p.bMarks[l]+p.tShift[l],g=_,E=p.eMarks[l];if(g+1>=E||(v=p.src.charCodeAt(g++),v<48||v>57))return-1;for(;;){if(g>=E)return-1;if(v=p.src.charCodeAt(g++),v>=48&&v<=57){if(g-_>=10)return-1;continue}if(v===41||v===46)break;return-1}return g<E&&(v=p.src.charCodeAt(g),!t(v))?-1:g}function c(p,l){var v,_,g=p.level+2;for(v=l+2,_=p.tokens.length-2;v<_;v++)p.tokens[v].level===g&&p.tokens[v].type==="paragraph_open"&&(p.tokens[v+2].hidden=!0,p.tokens[v].hidden=!0,v+=2)}K.exports=function(l,v,_,g){var E,S,O,A,u,o,s,w,P,C,x,D,y,M,T,R,F,N,U,V,W,L,k,H,G,q,z,ee,$=!1,J=!0;if(l.sCount[v]-l.blkIndent>=4||l.listIndent>=0&&l.sCount[v]-l.listIndent>=4&&l.sCount[v]<l.blkIndent)return!1;if(g&&l.parentType==="paragraph"&&l.sCount[v]>=l.blkIndent&&($=!0),(k=i(l,v))>=0){if(s=!0,G=l.bMarks[v]+l.tShift[v],y=Number(l.src.slice(G,k-1)),$&&y!==1)return!1}else if((k=a(l,v))>=0)s=!1;else return!1;if($&&l.skipSpaces(k)>=l.eMarks[v])return!1;if(D=l.src.charCodeAt(k-1),g)return!0;for(x=l.tokens.length,s?(ee=l.push("ordered_list_open","ol",1),y!==1&&(ee.attrs=[["start",y]])):ee=l.push("bullet_list_open","ul",1),ee.map=C=[v,0],ee.markup=String.fromCharCode(D),T=v,H=!1,z=l.md.block.ruler.getRules("list"),N=l.parentType,l.parentType="list";T<_;){for(L=k,M=l.eMarks[T],o=R=l.sCount[T]+k-(l.bMarks[v]+l.tShift[v]);L<M;){if(E=l.src.charCodeAt(L),E===9)R+=4-(R+l.bsCount[T])%4;else if(E===32)R++;else break;L++}if(S=L,S>=M?u=1:u=R-o,u>4&&(u=1),A=o+u,ee=l.push("list_item_open","li",1),ee.markup=String.fromCharCode(D),ee.map=w=[v,0],s&&(ee.info=l.src.slice(G,k-1)),W=l.tight,V=l.tShift[v],U=l.sCount[v],F=l.listIndent,l.listIndent=l.blkIndent,l.blkIndent=A,l.tight=!0,l.tShift[v]=S-l.bMarks[v],l.sCount[v]=R,S>=M&&l.isEmpty(v+1)?l.line=Math.min(l.line+2,_):l.md.block.tokenize(l,v,_,!0),(!l.tight||H)&&(J=!1),H=l.line-v>1&&l.isEmpty(l.line-1),l.blkIndent=l.listIndent,l.listIndent=F,l.tShift[v]=V,l.sCount[v]=U,l.tight=W,ee=l.push("list_item_close","li",-1),ee.markup=String.fromCharCode(D),T=v=l.line,w[1]=T,S=l.bMarks[v],T>=_||l.sCount[T]<l.blkIndent||l.sCount[v]-l.blkIndent>=4)break;for(q=!1,O=0,P=z.length;O<P;O++)if(z[O](l,T,_,!0)){q=!0;break}if(q)break;if(s){if(k=i(l,T),k<0)break;G=l.bMarks[T]+l.tShift[T]}else if(k=a(l,T),k<0)break;if(D!==l.src.charCodeAt(k-1))break}return s?ee=l.push("ordered_list_close","ol",-1):ee=l.push("bullet_list_close","ul",-1),ee.markup=String.fromCharCode(D),C[1]=T,l.line=T,l.parentType=N,J&&c(l,x),!0}},9994:K=>{"use strict";K.exports=function(e,t){var a,i,c,p,l,v,_=t+1,g=e.md.block.ruler.getRules("paragraph"),E=e.lineMax;for(v=e.parentType,e.parentType="paragraph";_<E&&!e.isEmpty(_);_++)if(!(e.sCount[_]-e.blkIndent>3)&&!(e.sCount[_]<0)){for(i=!1,c=0,p=g.length;c<p;c++)if(g[c](e,_,E,!0)){i=!0;break}if(i)break}return a=e.getLines(t,_,e.blkIndent,!1).trim(),e.line=_,l=e.push("paragraph_open","p",1),l.map=[t,e.line],l=e.push("inline","",0),l.content=a,l.map=[t,e.line],l.children=[],l=e.push("paragraph_close","p",-1),e.parentType=v,!0}},50722:(K,f,e)=>{"use strict";var t=e(14154).normalizeReference,a=e(14154).isSpace;K.exports=function(c,p,l,v){var _,g,E,S,O,A,u,o,s,w,P,C,x,D,y,M,T=0,R=c.bMarks[p]+c.tShift[p],F=c.eMarks[p],N=p+1;if(c.sCount[p]-c.blkIndent>=4||c.src.charCodeAt(R)!==91)return!1;for(;++R<F;)if(c.src.charCodeAt(R)===93&&c.src.charCodeAt(R-1)!==92){if(R+1===F||c.src.charCodeAt(R+1)!==58)return!1;break}for(S=c.lineMax,y=c.md.block.ruler.getRules("reference"),w=c.parentType,c.parentType="reference";N<S&&!c.isEmpty(N);N++)if(!(c.sCount[N]-c.blkIndent>3)&&!(c.sCount[N]<0)){for(D=!1,A=0,u=y.length;A<u;A++)if(y[A](c,N,S,!0)){D=!0;break}if(D)break}for(x=c.getLines(p,N,c.blkIndent,!1).trim(),F=x.length,R=1;R<F;R++){if(_=x.charCodeAt(R),_===91)return!1;if(_===93){s=R;break}else _===10?T++:_===92&&(R++,R<F&&x.charCodeAt(R)===10&&T++)}if(s<0||x.charCodeAt(s+1)!==58)return!1;for(R=s+2;R<F;R++)if(_=x.charCodeAt(R),_===10)T++;else if(!a(_))break;if(P=c.md.helpers.parseLinkDestination(x,R,F),!P.ok||(O=c.md.normalizeLink(P.str),!c.md.validateLink(O)))return!1;for(R=P.pos,T+=P.lines,g=R,E=T,C=R;R<F;R++)if(_=x.charCodeAt(R),_===10)T++;else if(!a(_))break;for(P=c.md.helpers.parseLinkTitle(x,R,F),R<F&&C!==R&&P.ok?(M=P.str,R=P.pos,T+=P.lines):(M="",R=g,T=E);R<F&&(_=x.charCodeAt(R),!!a(_));)R++;if(R<F&&x.charCodeAt(R)!==10&&M)for(M="",R=g,T=E;R<F&&(_=x.charCodeAt(R),!!a(_));)R++;return R<F&&x.charCodeAt(R)!==10||(o=t(x.slice(1,s)),!o)?!1:(v||(typeof c.env.references=="undefined"&&(c.env.references={}),typeof c.env.references[o]=="undefined"&&(c.env.references[o]={title:M,href:O}),c.parentType=w,c.line=p+T+1),!0)}},25036:(K,f,e)=>{"use strict";var t=e(61249),a=e(14154).isSpace;function i(c,p,l,v){var _,g,E,S,O,A,u,o;for(this.src=c,this.md=p,this.env=l,this.tokens=v,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",g=this.src,o=!1,E=S=A=u=0,O=g.length;S<O;S++){if(_=g.charCodeAt(S),!o)if(a(_)){A++,_===9?u+=4-u%4:u++;continue}else o=!0;(_===10||S===O-1)&&(_!==10&&S++,this.bMarks.push(E),this.eMarks.push(S),this.tShift.push(A),this.sCount.push(u),this.bsCount.push(0),o=!1,A=0,u=0,E=S+1)}this.bMarks.push(g.length),this.eMarks.push(g.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(c,p,l){var v=new t(c,p,l);return v.block=!0,l<0&&this.level--,v.level=this.level,l>0&&this.level++,this.tokens.push(v),v},i.prototype.isEmpty=function(p){return this.bMarks[p]+this.tShift[p]>=this.eMarks[p]},i.prototype.skipEmptyLines=function(p){for(var l=this.lineMax;p<l&&!(this.bMarks[p]+this.tShift[p]<this.eMarks[p]);p++);return p},i.prototype.skipSpaces=function(p){for(var l,v=this.src.length;p<v&&(l=this.src.charCodeAt(p),!!a(l));p++);return p},i.prototype.skipSpacesBack=function(p,l){if(p<=l)return p;for(;p>l;)if(!a(this.src.charCodeAt(--p)))return p+1;return p},i.prototype.skipChars=function(p,l){for(var v=this.src.length;p<v&&this.src.charCodeAt(p)===l;p++);return p},i.prototype.skipCharsBack=function(p,l,v){if(p<=v)return p;for(;p>v;)if(l!==this.src.charCodeAt(--p))return p+1;return p},i.prototype.getLines=function(p,l,v,_){var g,E,S,O,A,u,o,s=p;if(p>=l)return"";for(u=new Array(l-p),g=0;s<l;s++,g++){for(E=0,o=O=this.bMarks[s],s+1<l||_?A=this.eMarks[s]+1:A=this.eMarks[s];O<A&&E<v;){if(S=this.src.charCodeAt(O),a(S))S===9?E+=4-(E+this.bsCount[s])%4:E++;else if(O-o<this.tShift[s])E++;else break;O++}E>v?u[g]=new Array(E-v+1).join(" ")+this.src.slice(O,A):u[g]=this.src.slice(O,A)}return u.join("")},i.prototype.Token=t,K.exports=i},15522:(K,f,e)=>{"use strict";var t=e(14154).isSpace;function a(c,p){var l=c.bMarks[p]+c.tShift[p],v=c.eMarks[p];return c.src.slice(l,v)}function i(c){var p=[],l=0,v=c.length,_,g=!1,E=0,S="";for(_=c.charCodeAt(l);l<v;)_===124&&(g?(S+=c.substring(E,l-1),E=l):(p.push(S+c.substring(E,l)),S="",E=l+1)),g=_===92,l++,_=c.charCodeAt(l);return p.push(S+c.substring(E)),p}K.exports=function(p,l,v,_){var g,E,S,O,A,u,o,s,w,P,C,x,D,y,M,T,R,F;if(l+2>v||(u=l+1,p.sCount[u]<p.blkIndent)||p.sCount[u]-p.blkIndent>=4||(S=p.bMarks[u]+p.tShift[u],S>=p.eMarks[u])||(R=p.src.charCodeAt(S++),R!==124&&R!==45&&R!==58)||S>=p.eMarks[u]||(F=p.src.charCodeAt(S++),F!==124&&F!==45&&F!==58&&!t(F))||R===45&&t(F))return!1;for(;S<p.eMarks[u];){if(g=p.src.charCodeAt(S),g!==124&&g!==45&&g!==58&&!t(g))return!1;S++}for(E=a(p,l+1),o=E.split("|"),P=[],O=0;O<o.length;O++){if(C=o[O].trim(),!C){if(O===0||O===o.length-1)continue;return!1}if(!/^:?-+:?$/.test(C))return!1;C.charCodeAt(C.length-1)===58?P.push(C.charCodeAt(0)===58?"center":"right"):C.charCodeAt(0)===58?P.push("left"):P.push("")}if(E=a(p,l).trim(),E.indexOf("|")===-1||p.sCount[l]-p.blkIndent>=4||(o=i(E),o.length&&o[0]===""&&o.shift(),o.length&&o[o.length-1]===""&&o.pop(),s=o.length,s===0||s!==P.length))return!1;if(_)return!0;for(y=p.parentType,p.parentType="table",T=p.md.block.ruler.getRules("blockquote"),w=p.push("table_open","table",1),w.map=x=[l,0],w=p.push("thead_open","thead",1),w.map=[l,l+1],w=p.push("tr_open","tr",1),w.map=[l,l+1],O=0;O<o.length;O++)w=p.push("th_open","th",1),P[O]&&(w.attrs=[["style","text-align:"+P[O]]]),w=p.push("inline","",0),w.content=o[O].trim(),w.children=[],w=p.push("th_close","th",-1);for(w=p.push("tr_close","tr",-1),w=p.push("thead_close","thead",-1),u=l+2;u<v&&!(p.sCount[u]<p.blkIndent);u++){for(M=!1,O=0,A=T.length;O<A;O++)if(T[O](p,u,v,!0)){M=!0;break}if(M||(E=a(p,u).trim(),!E)||p.sCount[u]-p.blkIndent>=4)break;for(o=i(E),o.length&&o[0]===""&&o.shift(),o.length&&o[o.length-1]===""&&o.pop(),u===l+2&&(w=p.push("tbody_open","tbody",1),w.map=D=[l+2,0]),w=p.push("tr_open","tr",1),w.map=[u,u+1],O=0;O<s;O++)w=p.push("td_open","td",1),P[O]&&(w.attrs=[["style","text-align:"+P[O]]]),w=p.push("inline","",0),w.content=o[O]?o[O].trim():"",w.children=[],w=p.push("td_close","td",-1);w=p.push("tr_close","tr",-1)}return D&&(w=p.push("tbody_close","tbody",-1),D[1]=u),w=p.push("table_close","table",-1),x[1]=u,p.parentType=y,p.line=u,!0}},11499:K=>{"use strict";K.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},62442:K=>{"use strict";K.exports=function(e){var t=e.tokens,a,i,c;for(i=0,c=t.length;i<c;i++)a=t[i],a.type==="inline"&&e.md.inline.parse(a.content,e.md,e.env,a.children)}},20330:(K,f,e)=>{"use strict";var t=e(14154).arrayReplaceAt;function a(c){return/^<a[>\s]/i.test(c)}function i(c){return/^<\/a\s*>/i.test(c)}K.exports=function(p){var l,v,_,g,E,S,O,A,u,o,s,w,P,C,x,D,y=p.tokens,M;if(p.md.options.linkify){for(v=0,_=y.length;v<_;v++)if(!(y[v].type!=="inline"||!p.md.linkify.pretest(y[v].content)))for(g=y[v].children,P=0,l=g.length-1;l>=0;l--){if(S=g[l],S.type==="link_close"){for(l--;g[l].level!==S.level&&g[l].type!=="link_open";)l--;continue}if(S.type==="html_inline"&&(a(S.content)&&P>0&&P--,i(S.content)&&P++),!(P>0)&&S.type==="text"&&p.md.linkify.test(S.content)){for(u=S.content,M=p.md.linkify.match(u),O=[],w=S.level,s=0,M.length>0&&M[0].index===0&&l>0&&g[l-1].type==="text_special"&&(M=M.slice(1)),A=0;A<M.length;A++)C=M[A].url,x=p.md.normalizeLink(C),p.md.validateLink(x)&&(D=M[A].text,M[A].schema?M[A].schema==="mailto:"&&!/^mailto:/i.test(D)?D=p.md.normalizeLinkText("mailto:"+D).replace(/^mailto:/,""):D=p.md.normalizeLinkText(D):D=p.md.normalizeLinkText("http://"+D).replace(/^http:\/\//,""),o=M[A].index,o>s&&(E=new p.Token("text","",0),E.content=u.slice(s,o),E.level=w,O.push(E)),E=new p.Token("link_open","a",1),E.attrs=[["href",x]],E.level=w++,E.markup="linkify",E.info="auto",O.push(E),E=new p.Token("text","",0),E.content=D,E.level=w,O.push(E),E=new p.Token("link_close","a",-1),E.level=--w,E.markup="linkify",E.info="auto",O.push(E),s=M[A].lastIndex);s<u.length&&(E=new p.Token("text","",0),E.content=u.slice(s),E.level=w,O.push(E)),y[v].children=g=t(g,l,O)}}}}},43809:K=>{"use strict";var f=/\r\n?|\n/g,e=/\0/g;K.exports=function(a){var i;i=a.src.replace(f,`
`),i=i.replace(e,"\uFFFD"),a.src=i}},69868:K=>{"use strict";var f=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,e=/\((c|tm|r)\)/i,t=/\((c|tm|r)\)/ig,a={c:"\xA9",r:"\xAE",tm:"\u2122"};function i(l,v){return a[v.toLowerCase()]}function c(l){var v,_,g=0;for(v=l.length-1;v>=0;v--)_=l[v],_.type==="text"&&!g&&(_.content=_.content.replace(t,i)),_.type==="link_open"&&_.info==="auto"&&g--,_.type==="link_close"&&_.info==="auto"&&g++}function p(l){var v,_,g=0;for(v=l.length-1;v>=0;v--)_=l[v],_.type==="text"&&!g&&f.test(_.content)&&(_.content=_.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),_.type==="link_open"&&_.info==="auto"&&g--,_.type==="link_close"&&_.info==="auto"&&g++}K.exports=function(v){var _;if(v.md.options.typographer)for(_=v.tokens.length-1;_>=0;_--)v.tokens[_].type==="inline"&&(e.test(v.tokens[_].content)&&c(v.tokens[_].children),f.test(v.tokens[_].content)&&p(v.tokens[_].children))}},52770:(K,f,e)=>{"use strict";var t=e(14154).isWhiteSpace,a=e(14154).isPunctChar,i=e(14154).isMdAsciiPunct,c=/['"]/,p=/['"]/g,l="\u2019";function v(g,E,S){return g.slice(0,E)+S+g.slice(E+1)}function _(g,E){var S,O,A,u,o,s,w,P,C,x,D,y,M,T,R,F,N,U,V,W,L;for(V=[],S=0;S<g.length;S++){for(O=g[S],w=g[S].level,N=V.length-1;N>=0&&!(V[N].level<=w);N--);if(V.length=N+1,O.type==="text"){A=O.content,o=0,s=A.length;e:for(;o<s&&(p.lastIndex=o,u=p.exec(A),!!u);){if(R=F=!0,o=u.index+1,U=u[0]==="'",C=32,u.index-1>=0)C=A.charCodeAt(u.index-1);else for(N=S-1;N>=0&&!(g[N].type==="softbreak"||g[N].type==="hardbreak");N--)if(g[N].content){C=g[N].content.charCodeAt(g[N].content.length-1);break}if(x=32,o<s)x=A.charCodeAt(o);else for(N=S+1;N<g.length&&!(g[N].type==="softbreak"||g[N].type==="hardbreak");N++)if(g[N].content){x=g[N].content.charCodeAt(0);break}if(D=i(C)||a(String.fromCharCode(C)),y=i(x)||a(String.fromCharCode(x)),M=t(C),T=t(x),T?R=!1:y&&(M||D||(R=!1)),M?F=!1:D&&(T||y||(F=!1)),x===34&&u[0]==='"'&&C>=48&&C<=57&&(F=R=!1),R&&F&&(R=D,F=y),!R&&!F){U&&(O.content=v(O.content,u.index,l));continue}if(F){for(N=V.length-1;N>=0&&(P=V[N],!(V[N].level<w));N--)if(P.single===U&&V[N].level===w){P=V[N],U?(W=E.md.options.quotes[2],L=E.md.options.quotes[3]):(W=E.md.options.quotes[0],L=E.md.options.quotes[1]),O.content=v(O.content,u.index,L),g[P.token].content=v(g[P.token].content,P.pos,W),o+=L.length-1,P.token===S&&(o+=W.length-1),A=O.content,s=A.length,V.length=N;continue e}}R?V.push({token:S,pos:u.index,single:U,level:w}):F&&U&&(O.content=v(O.content,u.index,l))}}}}K.exports=function(E){var S;if(E.md.options.typographer)for(S=E.tokens.length-1;S>=0;S--)E.tokens[S].type!=="inline"||!c.test(E.tokens[S].content)||_(E.tokens[S].children,E)}},65412:(K,f,e)=>{"use strict";var t=e(61249);function a(i,c,p){this.src=i,this.env=p,this.tokens=[],this.inlineMode=!1,this.md=c}a.prototype.Token=t,K.exports=a},37701:K=>{"use strict";K.exports=function(e){var t,a,i,c,p,l,v=e.tokens;for(t=0,a=v.length;t<a;t++)if(v[t].type==="inline"){for(i=v[t].children,p=i.length,c=0;c<p;c++)i[c].type==="text_special"&&(i[c].type="text");for(c=l=0;c<p;c++)i[c].type==="text"&&c+1<p&&i[c+1].type==="text"?i[c+1].content=i[c].content+i[c+1].content:(c!==l&&(i[l]=i[c]),l++);c!==l&&(i.length=l)}}},74124:K=>{"use strict";var f=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,e=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;K.exports=function(a,i){var c,p,l,v,_,g,E=a.pos;if(a.src.charCodeAt(E)!==60)return!1;for(_=a.pos,g=a.posMax;;){if(++E>=g||(v=a.src.charCodeAt(E),v===60))return!1;if(v===62)break}return c=a.src.slice(_+1,E),e.test(c)?(p=a.md.normalizeLink(c),a.md.validateLink(p)?(i||(l=a.push("link_open","a",1),l.attrs=[["href",p]],l.markup="autolink",l.info="auto",l=a.push("text","",0),l.content=a.md.normalizeLinkText(c),l=a.push("link_close","a",-1),l.markup="autolink",l.info="auto"),a.pos+=c.length+2,!0):!1):f.test(c)?(p=a.md.normalizeLink("mailto:"+c),a.md.validateLink(p)?(i||(l=a.push("link_open","a",1),l.attrs=[["href",p]],l.markup="autolink",l.info="auto",l=a.push("text","",0),l.content=a.md.normalizeLinkText(c),l=a.push("link_close","a",-1),l.markup="autolink",l.info="auto"),a.pos+=c.length+2,!0):!1):!1}},88007:K=>{"use strict";K.exports=function(e,t){var a,i,c,p,l,v,_,g,E=e.pos,S=e.src.charCodeAt(E);if(S!==96)return!1;for(a=E,E++,i=e.posMax;E<i&&e.src.charCodeAt(E)===96;)E++;if(c=e.src.slice(a,E),_=c.length,e.backticksScanned&&(e.backticks[_]||0)<=a)return t||(e.pending+=c),e.pos+=_,!0;for(l=v=E;(l=e.src.indexOf("`",v))!==-1;){for(v=l+1;v<i&&e.src.charCodeAt(v)===96;)v++;if(g=v-l,g===_)return t||(p=e.push("code_inline","code",0),p.markup=c,p.content=e.src.slice(E,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=v,!0;e.backticks[g]=l}return e.backticksScanned=!0,t||(e.pending+=c),e.pos+=_,!0}},29284:K=>{"use strict";function f(e,t){var a,i,c,p,l,v,_,g,E={},S=t.length;if(S){var O=0,A=-2,u=[];for(a=0;a<S;a++)if(c=t[a],u.push(0),(t[O].marker!==c.marker||A!==c.token-1)&&(O=a),A=c.token,c.length=c.length||0,!!c.close){for(E.hasOwnProperty(c.marker)||(E[c.marker]=[-1,-1,-1,-1,-1,-1]),l=E[c.marker][(c.open?3:0)+c.length%3],i=O-u[O]-1,v=i;i>l;i-=u[i]+1)if(p=t[i],p.marker===c.marker&&p.open&&p.end<0&&(_=!1,(p.close||c.open)&&(p.length+c.length)%3===0&&(p.length%3!==0||c.length%3!==0)&&(_=!0),!_)){g=i>0&&!t[i-1].open?u[i-1]+1:0,u[a]=a-i+g,u[i]=g,c.open=!1,p.end=a,p.close=!1,v=-1,A=-2;break}v!==-1&&(E[c.marker][(c.open?3:0)+(c.length||0)%3]=v)}}}K.exports=function(t){var a,i=t.tokens_meta,c=t.tokens_meta.length;for(f(t,t.delimiters),a=0;a<c;a++)i[a]&&i[a].delimiters&&f(t,i[a].delimiters)}},73370:K=>{"use strict";K.exports.w=function(t,a){var i,c,p,l=t.pos,v=t.src.charCodeAt(l);if(a||v!==95&&v!==42)return!1;for(c=t.scanDelims(t.pos,v===42),i=0;i<c.length;i++)p=t.push("text","",0),p.content=String.fromCharCode(v),t.delimiters.push({marker:v,length:c.length,token:t.tokens.length-1,end:-1,open:c.can_open,close:c.can_close});return t.pos+=c.length,!0};function f(e,t){var a,i,c,p,l,v,_=t.length;for(a=_-1;a>=0;a--)i=t[a],!(i.marker!==95&&i.marker!==42)&&i.end!==-1&&(c=t[i.end],v=a>0&&t[a-1].end===i.end+1&&t[a-1].marker===i.marker&&t[a-1].token===i.token-1&&t[i.end+1].token===c.token+1,l=String.fromCharCode(i.marker),p=e.tokens[i.token],p.type=v?"strong_open":"em_open",p.tag=v?"strong":"em",p.nesting=1,p.markup=v?l+l:l,p.content="",p=e.tokens[c.token],p.type=v?"strong_close":"em_close",p.tag=v?"strong":"em",p.nesting=-1,p.markup=v?l+l:l,p.content="",v&&(e.tokens[t[a-1].token].content="",e.tokens[t[i.end+1].token].content="",a--))}K.exports.g=function(t){var a,i=t.tokens_meta,c=t.tokens_meta.length;for(f(t,t.delimiters),a=0;a<c;a++)i[a]&&i[a].delimiters&&f(t,i[a].delimiters)}},65341:(K,f,e)=>{"use strict";var t=e(48099),a=e(14154).has,i=e(14154).isValidEntityCode,c=e(14154).fromCodePoint,p=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;K.exports=function(_,g){var E,S,O,A,u=_.pos,o=_.posMax;if(_.src.charCodeAt(u)!==38||u+1>=o)return!1;if(E=_.src.charCodeAt(u+1),E===35){if(O=_.src.slice(u).match(p),O)return g||(S=O[1][0].toLowerCase()==="x"?parseInt(O[1].slice(1),16):parseInt(O[1],10),A=_.push("text_special","",0),A.content=i(S)?c(S):c(65533),A.markup=O[0],A.info="entity"),_.pos+=O[0].length,!0}else if(O=_.src.slice(u).match(l),O&&a(t,O[1]))return g||(A=_.push("text_special","",0),A.content=t[O[1]],A.markup=O[0],A.info="entity"),_.pos+=O[0].length,!0;return!1}},92274:(K,f,e)=>{"use strict";for(var t=e(14154).isSpace,a=[],i=0;i<256;i++)a.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(c){a[c.charCodeAt(0)]=1}),K.exports=function(p,l){var v,_,g,E,S,O=p.pos,A=p.posMax;if(p.src.charCodeAt(O)!==92||(O++,O>=A))return!1;if(v=p.src.charCodeAt(O),v===10){for(l||p.push("hardbreak","br",0),O++;O<A&&(v=p.src.charCodeAt(O),!!t(v));)O++;return p.pos=O,!0}return E=p.src[O],v>=55296&&v<=56319&&O+1<A&&(_=p.src.charCodeAt(O+1),_>=56320&&_<=57343&&(E+=p.src[O+1],O++)),g="\\"+E,l||(S=p.push("text_special","",0),v<256&&a[v]!==0?S.content=E:S.content=g,S.markup=g,S.info="escape"),p.pos=O+1,!0}},24097:K=>{"use strict";K.exports=function(e){var t,a,i=0,c=e.tokens,p=e.tokens.length;for(t=a=0;t<p;t++)c[t].nesting<0&&i--,c[t].level=i,c[t].nesting>0&&i++,c[t].type==="text"&&t+1<p&&c[t+1].type==="text"?c[t+1].content=c[t].content+c[t+1].content:(t!==a&&(c[a]=c[t]),a++);t!==a&&(c.length=a)}},25266:(K,f,e)=>{"use strict";var t=e(38386).n;function a(p){return/^<a[>\s]/i.test(p)}function i(p){return/^<\/a\s*>/i.test(p)}function c(p){var l=p|32;return l>=97&&l<=122}K.exports=function(l,v){var _,g,E,S,O=l.pos;return!l.md.options.html||(E=l.posMax,l.src.charCodeAt(O)!==60||O+2>=E)||(_=l.src.charCodeAt(O+1),_!==33&&_!==63&&_!==47&&!c(_))||(g=l.src.slice(O).match(t),!g)?!1:(v||(S=l.push("html_inline","",0),S.content=l.src.slice(O,O+g[0].length),a(S.content)&&l.linkLevel++,i(S.content)&&l.linkLevel--),l.pos+=g[0].length,!0)}},964:(K,f,e)=>{"use strict";var t=e(14154).normalizeReference,a=e(14154).isSpace;K.exports=function(c,p){var l,v,_,g,E,S,O,A,u,o,s,w,P,C="",x=c.pos,D=c.posMax;if(c.src.charCodeAt(c.pos)!==33||c.src.charCodeAt(c.pos+1)!==91||(S=c.pos+2,E=c.md.helpers.parseLinkLabel(c,c.pos+1,!1),E<0))return!1;if(O=E+1,O<D&&c.src.charCodeAt(O)===40){for(O++;O<D&&(v=c.src.charCodeAt(O),!(!a(v)&&v!==10));O++);if(O>=D)return!1;for(P=O,u=c.md.helpers.parseLinkDestination(c.src,O,c.posMax),u.ok&&(C=c.md.normalizeLink(u.str),c.md.validateLink(C)?O=u.pos:C=""),P=O;O<D&&(v=c.src.charCodeAt(O),!(!a(v)&&v!==10));O++);if(u=c.md.helpers.parseLinkTitle(c.src,O,c.posMax),O<D&&P!==O&&u.ok)for(o=u.str,O=u.pos;O<D&&(v=c.src.charCodeAt(O),!(!a(v)&&v!==10));O++);else o="";if(O>=D||c.src.charCodeAt(O)!==41)return c.pos=x,!1;O++}else{if(typeof c.env.references=="undefined")return!1;if(O<D&&c.src.charCodeAt(O)===91?(P=O+1,O=c.md.helpers.parseLinkLabel(c,O),O>=0?g=c.src.slice(P,O++):O=E+1):O=E+1,g||(g=c.src.slice(S,E)),A=c.env.references[t(g)],!A)return c.pos=x,!1;C=A.href,o=A.title}return p||(_=c.src.slice(S,E),c.md.inline.parse(_,c.md,c.env,w=[]),s=c.push("image","img",0),s.attrs=l=[["src",C],["alt",""]],s.children=w,s.content=_,o&&l.push(["title",o])),c.pos=O,c.posMax=D,!0}},93412:(K,f,e)=>{"use strict";var t=e(14154).normalizeReference,a=e(14154).isSpace;K.exports=function(c,p){var l,v,_,g,E,S,O,A,u,o="",s="",w=c.pos,P=c.posMax,C=c.pos,x=!0;if(c.src.charCodeAt(c.pos)!==91||(E=c.pos+1,g=c.md.helpers.parseLinkLabel(c,c.pos,!0),g<0))return!1;if(S=g+1,S<P&&c.src.charCodeAt(S)===40){for(x=!1,S++;S<P&&(v=c.src.charCodeAt(S),!(!a(v)&&v!==10));S++);if(S>=P)return!1;if(C=S,O=c.md.helpers.parseLinkDestination(c.src,S,c.posMax),O.ok){for(o=c.md.normalizeLink(O.str),c.md.validateLink(o)?S=O.pos:o="",C=S;S<P&&(v=c.src.charCodeAt(S),!(!a(v)&&v!==10));S++);if(O=c.md.helpers.parseLinkTitle(c.src,S,c.posMax),S<P&&C!==S&&O.ok)for(s=O.str,S=O.pos;S<P&&(v=c.src.charCodeAt(S),!(!a(v)&&v!==10));S++);}(S>=P||c.src.charCodeAt(S)!==41)&&(x=!0),S++}if(x){if(typeof c.env.references=="undefined")return!1;if(S<P&&c.src.charCodeAt(S)===91?(C=S+1,S=c.md.helpers.parseLinkLabel(c,S),S>=0?_=c.src.slice(C,S++):S=g+1):S=g+1,_||(_=c.src.slice(E,g)),A=c.env.references[t(_)],!A)return c.pos=w,!1;o=A.href,s=A.title}return p||(c.pos=E,c.posMax=g,u=c.push("link_open","a",1),u.attrs=l=[["href",o]],s&&l.push(["title",s]),c.linkLevel++,c.md.inline.tokenize(c),c.linkLevel--,u=c.push("link_close","a",-1)),c.pos=S,c.posMax=P,!0}},32346:K=>{"use strict";var f=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;K.exports=function(t,a){var i,c,p,l,v,_,g,E;return!t.md.options.linkify||t.linkLevel>0||(i=t.pos,c=t.posMax,i+3>c)||t.src.charCodeAt(i)!==58||t.src.charCodeAt(i+1)!==47||t.src.charCodeAt(i+2)!==47||(p=t.pending.match(f),!p)||(l=p[1],v=t.md.linkify.matchAtStart(t.src.slice(i-l.length)),!v)||(_=v.url,_=_.replace(/\*+$/,""),g=t.md.normalizeLink(_),!t.md.validateLink(g))?!1:(a||(t.pending=t.pending.slice(0,-l.length),E=t.push("link_open","a",1),E.attrs=[["href",g]],E.markup="linkify",E.info="auto",E=t.push("text","",0),E.content=t.md.normalizeLinkText(_),E=t.push("link_close","a",-1),E.markup="linkify",E.info="auto"),t.pos+=_.length-l.length,!0)}},14827:(K,f,e)=>{"use strict";var t=e(14154).isSpace;K.exports=function(i,c){var p,l,v,_=i.pos;if(i.src.charCodeAt(_)!==10)return!1;if(p=i.pending.length-1,l=i.posMax,!c)if(p>=0&&i.pending.charCodeAt(p)===32)if(p>=1&&i.pending.charCodeAt(p-1)===32){for(v=p-1;v>=1&&i.pending.charCodeAt(v-1)===32;)v--;i.pending=i.pending.slice(0,v),i.push("hardbreak","br",0)}else i.pending=i.pending.slice(0,-1),i.push("softbreak","br",0);else i.push("softbreak","br",0);for(_++;_<l&&t(i.src.charCodeAt(_));)_++;return i.pos=_,!0}},67410:(K,f,e)=>{"use strict";var t=e(61249),a=e(14154).isWhiteSpace,i=e(14154).isPunctChar,c=e(14154).isMdAsciiPunct;function p(l,v,_,g){this.src=l,this.env=_,this.md=v,this.tokens=g,this.tokens_meta=Array(g.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}p.prototype.pushPending=function(){var l=new t("text","",0);return l.content=this.pending,l.level=this.pendingLevel,this.tokens.push(l),this.pending="",l},p.prototype.push=function(l,v,_){this.pending&&this.pushPending();var g=new t(l,v,_),E=null;return _<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),g.level=this.level,_>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],E={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(g),this.tokens_meta.push(E),g},p.prototype.scanDelims=function(l,v){var _=l,g,E,S,O,A,u,o,s,w,P=!0,C=!0,x=this.posMax,D=this.src.charCodeAt(l);for(g=l>0?this.src.charCodeAt(l-1):32;_<x&&this.src.charCodeAt(_)===D;)_++;return S=_-l,E=_<x?this.src.charCodeAt(_):32,o=c(g)||i(String.fromCharCode(g)),w=c(E)||i(String.fromCharCode(E)),u=a(g),s=a(E),s?P=!1:w&&(u||o||(P=!1)),u?C=!1:o&&(s||w||(C=!1)),v?(O=P,A=C):(O=P&&(!C||o),A=C&&(!P||w)),{can_open:O,can_close:A,length:S}},p.prototype.Token=t,K.exports=p},10330:K=>{"use strict";K.exports.w=function(t,a){var i,c,p,l,v,_=t.pos,g=t.src.charCodeAt(_);if(a||g!==126||(c=t.scanDelims(t.pos,!0),l=c.length,v=String.fromCharCode(g),l<2))return!1;for(l%2&&(p=t.push("text","",0),p.content=v,l--),i=0;i<l;i+=2)p=t.push("text","",0),p.content=v+v,t.delimiters.push({marker:g,length:0,token:t.tokens.length-1,end:-1,open:c.can_open,close:c.can_close});return t.pos+=c.length,!0};function f(e,t){var a,i,c,p,l,v=[],_=t.length;for(a=0;a<_;a++)c=t[a],c.marker===126&&c.end!==-1&&(p=t[c.end],l=e.tokens[c.token],l.type="s_open",l.tag="s",l.nesting=1,l.markup="~~",l.content="",l=e.tokens[p.token],l.type="s_close",l.tag="s",l.nesting=-1,l.markup="~~",l.content="",e.tokens[p.token-1].type==="text"&&e.tokens[p.token-1].content==="~"&&v.push(p.token-1));for(;v.length;){for(a=v.pop(),i=a+1;i<e.tokens.length&&e.tokens[i].type==="s_close";)i++;i--,a!==i&&(l=e.tokens[i],e.tokens[i]=e.tokens[a],e.tokens[a]=l)}}K.exports.g=function(t){var a,i=t.tokens_meta,c=t.tokens_meta.length;for(f(t,t.delimiters),a=0;a<c;a++)i[a]&&i[a].delimiters&&f(t,i[a].delimiters)}},68698:K=>{"use strict";function f(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}K.exports=function(t,a){for(var i=t.pos;i<t.posMax&&!f(t.src.charCodeAt(i));)i++;return i===t.pos?!1:(a||(t.pending+=t.src.slice(t.pos,i)),t.pos=i,!0)}},61249:K=>{"use strict";function f(e,t,a){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=a,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}f.prototype.attrIndex=function(t){var a,i,c;if(!this.attrs)return-1;for(a=this.attrs,i=0,c=a.length;i<c;i++)if(a[i][0]===t)return i;return-1},f.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},f.prototype.attrSet=function(t,a){var i=this.attrIndex(t),c=[t,a];i<0?this.attrPush(c):this.attrs[i]=c},f.prototype.attrGet=function(t){var a=this.attrIndex(t),i=null;return a>=0&&(i=this.attrs[a][1]),i},f.prototype.attrJoin=function(t,a){var i=this.attrIndex(t);i<0?this.attrPush([t,a]):this.attrs[i][1]=this.attrs[i][1]+" "+a},K.exports=f},16274:(K,f,e)=>{"use strict";e.d(f,{sN:()=>O});function t(){var $=arguments[0];typeof $=="string"&&($=document.createElement($));var J=1,j=arguments[1];if(j&&typeof j=="object"&&j.nodeType==null&&!Array.isArray(j)){for(var Z in j)if(Object.prototype.hasOwnProperty.call(j,Z)){var ne=j[Z];typeof ne=="string"?$.setAttribute(Z,ne):ne!=null&&($[Z]=ne)}J++}for(;J<arguments.length;J++)a($,arguments[J]);return $}function a($,J){if(typeof J=="string")$.appendChild(document.createTextNode(J));else if(J!=null)if(J.nodeType!=null)$.appendChild(J);else if(Array.isArray(J))for(var j=0;j<J.length;j++)a($,J[j]);else throw new RangeError("Unsupported child node: "+J)}var i=e(25804),c=e(5284),p="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xlink",v="ProseMirror-icon";function _($){for(var J=0,j=0;j<$.length;j++)J=(J<<5)-J+$.charCodeAt(j)|0;return J}function g($){var J=document.createElement("div");if(J.className=v,$.path){var j="pm-icon-"+_($.path).toString(16);document.getElementById(j)||E(j,$);var Z=J.appendChild(document.createElementNS(p,"svg"));Z.style.width=$.width/$.height+"em";var ne=Z.appendChild(document.createElementNS(p,"use"));ne.setAttributeNS(l,"href",/([^#]*)/.exec(document.location)[1]+"#"+j)}else $.dom?J.appendChild($.dom.cloneNode(!0)):(J.appendChild(document.createElement("span")).textContent=$.text||"",$.css&&(J.firstChild.style.cssText=$.css));return J}function E($,J){var j=document.getElementById(v+"-collection");j||(j=document.createElementNS(p,"svg"),j.id=v+"-collection",j.style.display="none",document.body.insertBefore(j,document.body.firstChild));var Z=document.createElementNS(p,"symbol");Z.id=$,Z.setAttribute("viewBox","0 0 "+J.width+" "+J.height);var ne=Z.appendChild(document.createElementNS(p,"path"));ne.setAttribute("d",J.path),j.appendChild(Z)}var S="ProseMirror-menu",O=function(J){this.spec=J};O.prototype.render=function(J){var j=this.spec,Z=j.render?j.render(J):j.icon?g(j.icon):j.label?t("div",null,A(J,j.label)):null;if(!Z)throw new RangeError("MenuItem without icon or label property");if(j.title){var ne=typeof j.title=="function"?j.title(J.state):j.title;Z.setAttribute("title",A(J,ne))}j.class&&Z.classList.add(j.class),j.css&&(Z.style.cssText+=j.css),Z.addEventListener("mousedown",function(oe){oe.preventDefault(),Z.classList.contains(S+"-disabled")||j.run(J.state,J.dispatch,J,oe)});function ie(oe){if(j.select){var re=j.select(oe);if(Z.style.display=re?"":"none",!re)return!1}var ae=!0;if(j.enable&&(ae=j.enable(oe)||!1,L(Z,S+"-disabled",!ae)),j.active){var se=ae&&j.active(oe)||!1;L(Z,S+"-active",se)}return!0}return{dom:Z,update:ie}};function A($,J){return $._props.translate?$._props.translate(J):J}var u={time:0,node:null};function o($){u.time=Date.now(),u.node=$.target}function s($){return Date.now()-100<u.time&&u.node&&$.contains(u.node)}var w=function(J,j){this.options=j||{},this.content=Array.isArray(J)?J:[J]};w.prototype.render=function(J){var j=this,Z=P(this.content,J),ne=t("div",{class:S+"-dropdown "+(this.options.class||""),style:this.options.css},A(J,this.options.label));this.options.title&&ne.setAttribute("title",A(J,this.options.title));var ie=t("div",{class:S+"-dropdown-wrap"},ne),oe=null,re=null,ae=function(){oe&&oe.close()&&(oe=null,window.removeEventListener("mousedown",re))};ne.addEventListener("mousedown",function(fe){fe.preventDefault(),o(fe),oe?ae():(oe=j.expand(ie,Z.dom),window.addEventListener("mousedown",re=function(){s(ie)||ae()}))});function se(fe){var le=Z.update(fe);return ie.style.display=le?"":"none",le}return{dom:ie,update:se}},w.prototype.expand=function(J,j){var Z=t("div",{class:S+"-dropdown-menu "+(this.options.class||"")},[t("div",{class:S+"-dropdown-menu-head"})].concat(j)),ne=!1;function ie(){if(!ne)return ne=!0,J.removeChild(Z),!0}return J.appendChild(Z),{close:ie,node:Z}};function P($,J){for(var j=[],Z=[],ne=0;ne<$.length;ne++){var ie=$[ne].render(J),oe=ie.dom,re=ie.update;j.push(t("div",{class:S+"-dropdown-item"},oe)),Z.push(re)}return{dom:j,update:C(Z,j)}}function C($,J){return function(j){for(var Z=!1,ne=0;ne<$.length;ne++){var ie=$[ne](j);J[ne].style.display=ie?"":"none",ie&&(Z=!0)}return Z}}var x=function(J,j){this.options=j||{},this.content=Array.isArray(J)?J:[J]};x.prototype.render=function(J){var j=P(this.content,J),Z=t("div",{class:S+"-submenu-label"},A(J,this.options.label)),ne=t("div",{class:S+"-submenu-wrap"},Z,t("div",{class:S+"-submenu"},j.dom)),ie=null;Z.addEventListener("mousedown",function(re){re.preventDefault(),o(re),L(ne,S+"-submenu-wrap-active"),ie||window.addEventListener("mousedown",ie=function(){s(ne)||(ne.classList.remove(S+"-submenu-wrap-active"),window.removeEventListener("mousedown",ie),ie=null)})});function oe(re){var ae=j.update(re);return ne.style.display=ae?"":"none",ae}return{dom:ne,update:oe}};function D($,J){for(var j=document.createDocumentFragment(),Z=[],ne=[],ie=0;ie<J.length;ie++){for(var oe=J[ie],re=[],ae=[],se=0;se<oe.length;se++){var fe=oe[se].render($),le=fe.dom,Ae=fe.update,De=t("span",{class:S+"item"},le);j.appendChild(De),ae.push(De),re.push(Ae)}re.length&&(Z.push(C(re,ae)),ie<J.length-1&&ne.push(j.appendChild(y())))}function je(Je){for(var Be=!1,st=!1,ht=0;ht<Z.length;ht++){var gt=Z[ht](Je);ht&&(ne[ht-1].style.display=st&&gt?"":"none"),st=gt,gt&&(Be=!0)}return Be}return{dom:j,update:je}}function y(){return t("span",{class:S+"separator"})}var M={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"\u2B1A",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},T=new O({title:"Join with above block",run:i.MI,select:function($){return(0,i.MI)($)},icon:M.join}),R=new O({title:"Lift out of enclosing block",run:i.xb,select:function($){return(0,i.xb)($)},icon:M.lift}),F=new O({title:"Select parent node",run:i.N0,select:function($){return(0,i.N0)($)},icon:M.selectParentNode}),N=new O({title:"Undo last change",run:c.Yw,enable:function($){return(0,c.Yw)($)},icon:M.undo}),U=new O({title:"Redo last undone change",run:c.KX,enable:function($){return(0,c.KX)($)},icon:M.redo});function V($,J){var j={run:function(ie,oe){return wrapIn($,J.attrs)(ie,oe)},select:function(ie){return wrapIn($,J.attrs instanceof Function?null:J.attrs)(ie)}};for(var Z in J)j[Z]=J[Z];return new O(j)}function W($,J){var j=setBlockType($,J.attrs),Z={run:j,enable:function(oe){return j(oe)},active:function(oe){var re=oe.selection,ae=re.$from,se=re.to,fe=re.node;return fe?fe.hasMarkup($,J.attrs):se<=ae.end()&&ae.parent.hasMarkup($,J.attrs)}};for(var ne in J)Z[ne]=J[ne];return new O(Z)}function L($,J,j){j?$.classList.add(J):$.classList.remove(J)}var k="ProseMirror-menubar";function H($){return new Plugin({view:function(j){return new G(j,$)}})}var G=function(J,j){var Z=this;this.editorView=J,this.options=j,this.wrapper=t("div",{class:k+"-wrapper"}),this.menu=this.wrapper.appendChild(t("div",{class:k})),this.menu.className=k,this.spacer=null,J.dom.parentNode.replaceChild(this.wrapper,J.dom),this.wrapper.appendChild(J.dom),this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1;var ne=D(this.editorView,this.options.content),ie=ne.dom,oe=ne.update;if(this.contentUpdate=oe,this.menu.appendChild(ie),this.update(),j.floating){this.updateFloat();var re=ee(this.wrapper);this.scrollFunc=function(ae){var se=Z.editorView.root;(se.body||se).contains(Z.wrapper)?Z.updateFloat(ae.target.getBoundingClientRect&&ae.target):re.forEach(function(fe){return fe.removeEventListener("scroll",Z.scrollFunc)})},re.forEach(function(ae){return ae.addEventListener("scroll",Z.scrollFunc)})}};G.prototype.update=function(){this.contentUpdate(this.editorView.state),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))},G.prototype.updateScrollCursor=function(){var J=this.editorView.root.getSelection();if(J.focusNode){var j=J.getRangeAt(0).getClientRects(),Z=j[q(J)?0:j.length-1];if(Z){var ne=this.menu.getBoundingClientRect();if(Z.top<ne.bottom&&Z.bottom>ne.top){var ie=z(this.wrapper);ie&&(ie.scrollTop-=ne.bottom-Z.top)}}}},G.prototype.updateFloat=function(J){var j=this.wrapper,Z=j.getBoundingClientRect(),ne=J?Math.max(0,J.getBoundingClientRect().top):0;if(this.floating)if(Z.top>=ne||Z.bottom<this.menu.offsetHeight+10)this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{var ie=(j.offsetWidth-j.clientWidth)/2;this.menu.style.left=Z.left+ie+"px",this.menu.style.display=Z.top>window.innerHeight?"none":"",J&&(this.menu.style.top=ne+"px")}else if(Z.top<ne&&Z.bottom>=this.menu.offsetHeight+10){this.floating=!0;var oe=this.menu.getBoundingClientRect();this.menu.style.left=oe.left+"px",this.menu.style.width=oe.width+"px",J&&(this.menu.style.top=ne+"px"),this.menu.style.position="fixed",this.spacer=t("div",{class:k+"-spacer",style:"height: "+oe.height+"px"}),j.insertBefore(this.spacer,this.menu)}},G.prototype.destroy=function(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)};function q($){return $.anchorNode==$.focusNode?$.anchorOffset>$.focusOffset:$.anchorNode.compareDocumentPosition($.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING}function z($){for(var J=$.parentNode;J;J=J.parentNode)if(J.scrollHeight>J.clientHeight)return J}function ee($){for(var J=[window],j=$.parentNode;j;j=j.parentNode)J.push(j);return J}},74971:function(K,f,e){K=e.nmd(K);var t;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(a){var i=f&&!f.nodeType&&f,c=K&&!K.nodeType&&K,p=typeof e.g=="object"&&e.g;(p.global===p||p.window===p||p.self===p)&&(a=p);var l,v=2147483647,_=36,g=1,E=26,S=38,O=700,A=72,u=128,o="-",s=/^xn--/,w=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=_-g,D=Math.floor,y=String.fromCharCode,M;function T(z){throw RangeError(C[z])}function R(z,ee){for(var $=z.length,J=[];$--;)J[$]=ee(z[$]);return J}function F(z,ee){var $=z.split("@"),J="";$.length>1&&(J=$[0]+"@",z=$[1]),z=z.replace(P,".");var j=z.split("."),Z=R(j,ee).join(".");return J+Z}function N(z){for(var ee=[],$=0,J=z.length,j,Z;$<J;)j=z.charCodeAt($++),j>=55296&&j<=56319&&$<J?(Z=z.charCodeAt($++),(Z&64512)==56320?ee.push(((j&1023)<<10)+(Z&1023)+65536):(ee.push(j),$--)):ee.push(j);return ee}function U(z){return R(z,function(ee){var $="";return ee>65535&&(ee-=65536,$+=y(ee>>>10&1023|55296),ee=56320|ee&1023),$+=y(ee),$}).join("")}function V(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:_}function W(z,ee){return z+22+75*(z<26)-((ee!=0)<<5)}function L(z,ee,$){var J=0;for(z=$?D(z/O):z>>1,z+=D(z/ee);z>x*E>>1;J+=_)z=D(z/x);return D(J+(x+1)*z/(z+S))}function k(z){var ee=[],$=z.length,J,j=0,Z=u,ne=A,ie,oe,re,ae,se,fe,le,Ae,De;for(ie=z.lastIndexOf(o),ie<0&&(ie=0),oe=0;oe<ie;++oe)z.charCodeAt(oe)>=128&&T("not-basic"),ee.push(z.charCodeAt(oe));for(re=ie>0?ie+1:0;re<$;){for(ae=j,se=1,fe=_;re>=$&&T("invalid-input"),le=V(z.charCodeAt(re++)),(le>=_||le>D((v-j)/se))&&T("overflow"),j+=le*se,Ae=fe<=ne?g:fe>=ne+E?E:fe-ne,!(le<Ae);fe+=_)De=_-Ae,se>D(v/De)&&T("overflow"),se*=De;J=ee.length+1,ne=L(j-ae,J,ae==0),D(j/J)>v-Z&&T("overflow"),Z+=D(j/J),j%=J,ee.splice(j++,0,Z)}return U(ee)}function H(z){var ee,$,J,j,Z,ne,ie,oe,re,ae,se,fe=[],le,Ae,De,je;for(z=N(z),le=z.length,ee=u,$=0,Z=A,ne=0;ne<le;++ne)se=z[ne],se<128&&fe.push(y(se));for(J=j=fe.length,j&&fe.push(o);J<le;){for(ie=v,ne=0;ne<le;++ne)se=z[ne],se>=ee&&se<ie&&(ie=se);for(Ae=J+1,ie-ee>D((v-$)/Ae)&&T("overflow"),$+=(ie-ee)*Ae,ee=ie,ne=0;ne<le;++ne)if(se=z[ne],se<ee&&++$>v&&T("overflow"),se==ee){for(oe=$,re=_;ae=re<=Z?g:re>=Z+E?E:re-Z,!(oe<ae);re+=_)je=oe-ae,De=_-ae,fe.push(y(W(ae+je%De,0))),oe=D(je/De);fe.push(y(W(oe,0))),Z=L($,Ae,J==j),$=0,++J}++$,++ee}return fe.join("")}function G(z){return F(z,function(ee){return s.test(ee)?k(ee.slice(4).toLowerCase()):ee})}function q(z){return F(z,function(ee){return w.test(ee)?"xn--"+H(ee):ee})}l={version:"1.3.2",ucs2:{decode:N,encode:U},decode:k,encode:H,toASCII:q,toUnicode:G},t=function(){return l}.call(f,e,f,K),t!==void 0&&(K.exports=t)})(this)},92592:(K,f,e)=>{const t=e(47138),a=e(95115),i=e(6907),c=e(93776);function p(l,v,_,g,E){const S=[].slice.call(arguments,1),O=S.length,A=typeof S[O-1]=="function";if(!A&&!t())throw new Error("Callback required as last argument");if(A){if(O<2)throw new Error("Too few arguments provided");O===2?(E=_,_=v,v=g=void 0):O===3&&(v.getContext&&typeof E=="undefined"?(E=g,g=void 0):(E=g,g=_,_=v,v=void 0))}else{if(O<1)throw new Error("Too few arguments provided");return O===1?(_=v,v=g=void 0):O===2&&!v.getContext&&(g=_,_=v,v=void 0),new Promise(function(u,o){try{const s=a.create(_,g);u(l(s,v,g))}catch(s){o(s)}})}try{const u=a.create(_,g);E(null,l(u,v,g))}catch(u){E(u)}}f.create=a.create,f.toCanvas=p.bind(null,i.render),f.toDataURL=p.bind(null,i.renderToDataURL),f.toString=p.bind(null,function(l,v,_){return c.render(l,_)})},47138:K=>{K.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(K,f,e)=>{const t=e(10242).getSymbolSize;f.getRowColCoords=function(i){if(i===1)return[];const c=Math.floor(i/7)+2,p=t(i),l=p===145?26:Math.ceil((p-13)/(2*c-2))*2,v=[p-7];for(let _=1;_<c-1;_++)v[_]=v[_-1]-l;return v.push(6),v.reverse()},f.getPositions=function(i){const c=[],p=f.getRowColCoords(i),l=p.length;for(let v=0;v<l;v++)for(let _=0;_<l;_++)v===0&&_===0||v===0&&_===l-1||v===l-1&&_===0||c.push([p[v],p[_]]);return c}},8260:(K,f,e)=>{const t=e(76910),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(c){this.mode=t.ALPHANUMERIC,this.data=c}i.getBitsLength=function(p){return 11*Math.floor(p/2)+6*(p%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(p){let l;for(l=0;l+2<=this.data.length;l+=2){let v=a.indexOf(this.data[l])*45;v+=a.indexOf(this.data[l+1]),p.put(v,11)}this.data.length%2&&p.put(a.indexOf(this.data[l]),6)},K.exports=i},97245:K=>{function f(){this.buffer=[],this.length=0}f.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let a=0;a<t;a++)this.putBit((e>>>t-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},K.exports=f},73280:K=>{function f(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}f.prototype.set=function(e,t,a,i){const c=e*this.size+t;this.data[c]=a,i&&(this.reservedBit[c]=!0)},f.prototype.get=function(e,t){return this.data[e*this.size+t]},f.prototype.xor=function(e,t,a){this.data[e*this.size+t]^=a},f.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},K.exports=f},43424:(K,f,e)=>{const t=e(62378),a=e(76910);function i(c){this.mode=a.BYTE,typeof c=="string"&&(c=t(c)),this.data=new Uint8Array(c)}i.getBitsLength=function(p){return p*8},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(c){for(let p=0,l=this.data.length;p<l;p++)c.put(this.data[p],8)},K.exports=i},26245:(K,f,e)=>{const t=e(64908),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];f.getBlocksCount=function(p,l){switch(l){case t.L:return a[(p-1)*4+0];case t.M:return a[(p-1)*4+1];case t.Q:return a[(p-1)*4+2];case t.H:return a[(p-1)*4+3];default:return}},f.getTotalCodewordsCount=function(p,l){switch(l){case t.L:return i[(p-1)*4+0];case t.M:return i[(p-1)*4+1];case t.Q:return i[(p-1)*4+2];case t.H:return i[(p-1)*4+3];default:return}}},64908:(K,f)=>{f.L={bit:1},f.M={bit:0},f.Q={bit:3},f.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return f.L;case"m":case"medium":return f.M;case"q":case"quartile":return f.Q;case"h":case"high":return f.H;default:throw new Error("Unknown EC Level: "+t)}}f.isValid=function(a){return a&&typeof a.bit!="undefined"&&a.bit>=0&&a.bit<4},f.from=function(a,i){if(f.isValid(a))return a;try{return e(a)}catch(c){return i}}},76526:(K,f,e)=>{const t=e(10242).getSymbolSize,a=7;f.getPositions=function(c){const p=t(c);return[[0,0],[p-a,0],[0,p-a]]}},61642:(K,f,e)=>{const t=e(10242),a=1335,i=21522,c=t.getBCHDigit(a);f.getEncodedBits=function(l,v){const _=l.bit<<3|v;let g=_<<10;for(;t.getBCHDigit(g)-c>=0;)g^=a<<t.getBCHDigit(g)-c;return(_<<10|g)^i}},69729:(K,f)=>{const e=new Uint8Array(512),t=new Uint8Array(256);(function(){let i=1;for(let c=0;c<255;c++)e[c]=i,t[i]=c,i<<=1,i&256&&(i^=285);for(let c=255;c<512;c++)e[c]=e[c-255]})(),f.log=function(i){if(i<1)throw new Error("log("+i+")");return t[i]},f.exp=function(i){return e[i]},f.mul=function(i,c){return i===0||c===0?0:e[t[i]+t[c]]}},51018:(K,f,e)=>{const t=e(76910),a=e(10242);function i(c){this.mode=t.KANJI,this.data=c}i.getBitsLength=function(p){return p*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(c){let p;for(p=0;p<this.data.length;p++){let l=a.toSJIS(this.data[p]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[p]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),c.put(l,13)}},K.exports=i},27126:(K,f)=>{f.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};f.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},f.from=function(i){return f.isValid(i)?parseInt(i,10):void 0},f.getPenaltyN1=function(i){const c=i.size;let p=0,l=0,v=0,_=null,g=null;for(let E=0;E<c;E++){l=v=0,_=g=null;for(let S=0;S<c;S++){let O=i.get(E,S);O===_?l++:(l>=5&&(p+=e.N1+(l-5)),_=O,l=1),O=i.get(S,E),O===g?v++:(v>=5&&(p+=e.N1+(v-5)),g=O,v=1)}l>=5&&(p+=e.N1+(l-5)),v>=5&&(p+=e.N1+(v-5))}return p},f.getPenaltyN2=function(i){const c=i.size;let p=0;for(let l=0;l<c-1;l++)for(let v=0;v<c-1;v++){const _=i.get(l,v)+i.get(l,v+1)+i.get(l+1,v)+i.get(l+1,v+1);(_===4||_===0)&&p++}return p*e.N2},f.getPenaltyN3=function(i){const c=i.size;let p=0,l=0,v=0;for(let _=0;_<c;_++){l=v=0;for(let g=0;g<c;g++)l=l<<1&2047|i.get(_,g),g>=10&&(l===1488||l===93)&&p++,v=v<<1&2047|i.get(g,_),g>=10&&(v===1488||v===93)&&p++}return p*e.N3},f.getPenaltyN4=function(i){let c=0;const p=i.data.length;for(let v=0;v<p;v++)c+=i.data[v];return Math.abs(Math.ceil(c*100/p/5)-10)*e.N4};function t(a,i,c){switch(a){case f.Patterns.PATTERN000:return(i+c)%2===0;case f.Patterns.PATTERN001:return i%2===0;case f.Patterns.PATTERN010:return c%3===0;case f.Patterns.PATTERN011:return(i+c)%3===0;case f.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(c/3))%2===0;case f.Patterns.PATTERN101:return i*c%2+i*c%3===0;case f.Patterns.PATTERN110:return(i*c%2+i*c%3)%2===0;case f.Patterns.PATTERN111:return(i*c%3+(i+c)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}f.applyMask=function(i,c){const p=c.size;for(let l=0;l<p;l++)for(let v=0;v<p;v++)c.isReserved(v,l)||c.xor(v,l,t(i,v,l))},f.getBestMask=function(i,c){const p=Object.keys(f.Patterns).length;let l=0,v=1/0;for(let _=0;_<p;_++){c(_),f.applyMask(_,i);const g=f.getPenaltyN1(i)+f.getPenaltyN2(i)+f.getPenaltyN3(i)+f.getPenaltyN4(i);f.applyMask(_,i),g<v&&(v=g,l=_)}return l}},76910:(K,f,e)=>{const t=e(43114),a=e(7007);f.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},f.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},f.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},f.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},f.MIXED={bit:-1},f.getCharCountIndicator=function(p,l){if(!p.ccBits)throw new Error("Invalid mode: "+p);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?p.ccBits[0]:l<27?p.ccBits[1]:p.ccBits[2]},f.getBestModeForData=function(p){return a.testNumeric(p)?f.NUMERIC:a.testAlphanumeric(p)?f.ALPHANUMERIC:a.testKanji(p)?f.KANJI:f.BYTE},f.toString=function(p){if(p&&p.id)return p.id;throw new Error("Invalid mode")},f.isValid=function(p){return p&&p.bit&&p.ccBits};function i(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return f.NUMERIC;case"alphanumeric":return f.ALPHANUMERIC;case"kanji":return f.KANJI;case"byte":return f.BYTE;default:throw new Error("Unknown mode: "+c)}}f.from=function(p,l){if(f.isValid(p))return p;try{return i(p)}catch(v){return l}}},41085:(K,f,e)=>{const t=e(76910);function a(i){this.mode=t.NUMERIC,this.data=i.toString()}a.getBitsLength=function(c){return 10*Math.floor(c/3)+(c%3?c%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(c){let p,l,v;for(p=0;p+3<=this.data.length;p+=3)l=this.data.substr(p,3),v=parseInt(l,10),c.put(v,10);const _=this.data.length-p;_>0&&(l=this.data.substr(p),v=parseInt(l,10),c.put(v,_*3+1))},K.exports=a},26143:(K,f,e)=>{const t=e(69729);f.mul=function(i,c){const p=new Uint8Array(i.length+c.length-1);for(let l=0;l<i.length;l++)for(let v=0;v<c.length;v++)p[l+v]^=t.mul(i[l],c[v]);return p},f.mod=function(i,c){let p=new Uint8Array(i);for(;p.length-c.length>=0;){const l=p[0];for(let _=0;_<c.length;_++)p[_]^=t.mul(c[_],l);let v=0;for(;v<p.length&&p[v]===0;)v++;p=p.slice(v)}return p},f.generateECPolynomial=function(i){let c=new Uint8Array([1]);for(let p=0;p<i;p++)c=f.mul(c,new Uint8Array([1,t.exp(p)]));return c}},95115:(K,f,e)=>{const t=e(10242),a=e(64908),i=e(97245),c=e(73280),p=e(21845),l=e(76526),v=e(27126),_=e(26245),g=e(52882),E=e(23103),S=e(61642),O=e(76910),A=e(16130);function u(M,T){const R=M.size,F=l.getPositions(T);for(let N=0;N<F.length;N++){const U=F[N][0],V=F[N][1];for(let W=-1;W<=7;W++)if(!(U+W<=-1||R<=U+W))for(let L=-1;L<=7;L++)V+L<=-1||R<=V+L||(W>=0&&W<=6&&(L===0||L===6)||L>=0&&L<=6&&(W===0||W===6)||W>=2&&W<=4&&L>=2&&L<=4?M.set(U+W,V+L,!0,!0):M.set(U+W,V+L,!1,!0))}}function o(M){const T=M.size;for(let R=8;R<T-8;R++){const F=R%2===0;M.set(R,6,F,!0),M.set(6,R,F,!0)}}function s(M,T){const R=p.getPositions(T);for(let F=0;F<R.length;F++){const N=R[F][0],U=R[F][1];for(let V=-2;V<=2;V++)for(let W=-2;W<=2;W++)V===-2||V===2||W===-2||W===2||V===0&&W===0?M.set(N+V,U+W,!0,!0):M.set(N+V,U+W,!1,!0)}}function w(M,T){const R=M.size,F=E.getEncodedBits(T);let N,U,V;for(let W=0;W<18;W++)N=Math.floor(W/3),U=W%3+R-8-3,V=(F>>W&1)===1,M.set(N,U,V,!0),M.set(U,N,V,!0)}function P(M,T,R){const F=M.size,N=S.getEncodedBits(T,R);let U,V;for(U=0;U<15;U++)V=(N>>U&1)===1,U<6?M.set(U,8,V,!0):U<8?M.set(U+1,8,V,!0):M.set(F-15+U,8,V,!0),U<8?M.set(8,F-U-1,V,!0):U<9?M.set(8,15-U-1+1,V,!0):M.set(8,15-U-1,V,!0);M.set(F-8,8,1,!0)}function C(M,T){const R=M.size;let F=-1,N=R-1,U=7,V=0;for(let W=R-1;W>0;W-=2)for(W===6&&W--;;){for(let L=0;L<2;L++)if(!M.isReserved(N,W-L)){let k=!1;V<T.length&&(k=(T[V]>>>U&1)===1),M.set(N,W-L,k),U--,U===-1&&(V++,U=7)}if(N+=F,N<0||R<=N){N-=F,F=-F;break}}}function x(M,T,R){const F=new i;R.forEach(function(L){F.put(L.mode.bit,4),F.put(L.getLength(),O.getCharCountIndicator(L.mode,M)),L.write(F)});const N=t.getSymbolTotalCodewords(M),U=_.getTotalCodewordsCount(M,T),V=(N-U)*8;for(F.getLengthInBits()+4<=V&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const W=(V-F.getLengthInBits())/8;for(let L=0;L<W;L++)F.put(L%2?17:236,8);return D(F,M,T)}function D(M,T,R){const F=t.getSymbolTotalCodewords(T),N=_.getTotalCodewordsCount(T,R),U=F-N,V=_.getBlocksCount(T,R),W=F%V,L=V-W,k=Math.floor(F/V),H=Math.floor(U/V),G=H+1,q=k-H,z=new g(q);let ee=0;const $=new Array(V),J=new Array(V);let j=0;const Z=new Uint8Array(M.buffer);for(let ae=0;ae<V;ae++){const se=ae<L?H:G;$[ae]=Z.slice(ee,ee+se),J[ae]=z.encode($[ae]),ee+=se,j=Math.max(j,se)}const ne=new Uint8Array(F);let ie=0,oe,re;for(oe=0;oe<j;oe++)for(re=0;re<V;re++)oe<$[re].length&&(ne[ie++]=$[re][oe]);for(oe=0;oe<q;oe++)for(re=0;re<V;re++)ne[ie++]=J[re][oe];return ne}function y(M,T,R,F){let N;if(Array.isArray(M))N=A.fromArray(M);else if(typeof M=="string"){let k=T;if(!k){const H=A.rawSplit(M);k=E.getBestVersionForData(H,R)}N=A.fromString(M,k||40)}else throw new Error("Invalid data");const U=E.getBestVersionForData(N,R);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!T)T=U;else if(T<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const V=x(T,R,N),W=t.getSymbolSize(T),L=new c(W);return u(L,T),o(L),s(L,T),P(L,R,0),T>=7&&w(L,T),C(L,V),isNaN(F)&&(F=v.getBestMask(L,P.bind(null,L,R))),v.applyMask(F,L),P(L,R,F),{modules:L,version:T,errorCorrectionLevel:R,maskPattern:F,segments:N}}f.create=function(T,R){if(typeof T=="undefined"||T==="")throw new Error("No input text");let F=a.M,N,U;return typeof R!="undefined"&&(F=a.from(R.errorCorrectionLevel,a.M),N=E.from(R.version),U=v.from(R.maskPattern),R.toSJISFunc&&t.setToSJISFunction(R.toSJISFunc)),y(T,N,F,U)}},52882:(K,f,e)=>{const t=e(26143);function a(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(c){this.degree=c,this.genPoly=t.generateECPolynomial(this.degree)},a.prototype.encode=function(c){if(!this.genPoly)throw new Error("Encoder not initialized");const p=new Uint8Array(c.length+this.degree);p.set(c);const l=t.mod(p,this.genPoly),v=this.degree-l.length;if(v>0){const _=new Uint8Array(this.degree);return _.set(l,v),_}return l},K.exports=a},7007:(K,f)=>{const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;f.KANJI=new RegExp(a,"g"),f.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),f.BYTE=new RegExp(i,"g"),f.NUMERIC=new RegExp(e,"g"),f.ALPHANUMERIC=new RegExp(t,"g");const c=new RegExp("^"+a+"$"),p=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");f.testKanji=function(_){return c.test(_)},f.testNumeric=function(_){return p.test(_)},f.testAlphanumeric=function(_){return l.test(_)}},16130:(K,f,e)=>{const t=e(76910),a=e(41085),i=e(8260),c=e(43424),p=e(51018),l=e(7007),v=e(10242),_=e(65987);function g(w){return unescape(encodeURIComponent(w)).length}function E(w,P,C){const x=[];let D;for(;(D=w.exec(C))!==null;)x.push({data:D[0],index:D.index,mode:P,length:D[0].length});return x}function S(w){const P=E(l.NUMERIC,t.NUMERIC,w),C=E(l.ALPHANUMERIC,t.ALPHANUMERIC,w);let x,D;return v.isKanjiModeEnabled()?(x=E(l.BYTE,t.BYTE,w),D=E(l.KANJI,t.KANJI,w)):(x=E(l.BYTE_KANJI,t.BYTE,w),D=[]),P.concat(C,x,D).sort(function(M,T){return M.index-T.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function O(w,P){switch(P){case t.NUMERIC:return a.getBitsLength(w);case t.ALPHANUMERIC:return i.getBitsLength(w);case t.KANJI:return p.getBitsLength(w);case t.BYTE:return c.getBitsLength(w)}}function A(w){return w.reduce(function(P,C){const x=P.length-1>=0?P[P.length-1]:null;return x&&x.mode===C.mode?(P[P.length-1].data+=C.data,P):(P.push(C),P)},[])}function u(w){const P=[];for(let C=0;C<w.length;C++){const x=w[C];switch(x.mode){case t.NUMERIC:P.push([x,{data:x.data,mode:t.ALPHANUMERIC,length:x.length},{data:x.data,mode:t.BYTE,length:x.length}]);break;case t.ALPHANUMERIC:P.push([x,{data:x.data,mode:t.BYTE,length:x.length}]);break;case t.KANJI:P.push([x,{data:x.data,mode:t.BYTE,length:g(x.data)}]);break;case t.BYTE:P.push([{data:x.data,mode:t.BYTE,length:g(x.data)}])}}return P}function o(w,P){const C={},x={start:{}};let D=["start"];for(let y=0;y<w.length;y++){const M=w[y],T=[];for(let R=0;R<M.length;R++){const F=M[R],N=""+y+R;T.push(N),C[N]={node:F,lastCount:0},x[N]={};for(let U=0;U<D.length;U++){const V=D[U];C[V]&&C[V].node.mode===F.mode?(x[V][N]=O(C[V].lastCount+F.length,F.mode)-O(C[V].lastCount,F.mode),C[V].lastCount+=F.length):(C[V]&&(C[V].lastCount=F.length),x[V][N]=O(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,P))}}D=T}for(let y=0;y<D.length;y++)x[D[y]].end=0;return{map:x,table:C}}function s(w,P){let C;const x=t.getBestModeForData(w);if(C=t.from(P,x),C!==t.BYTE&&C.bit<x.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(x));switch(C===t.KANJI&&!v.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new a(w);case t.ALPHANUMERIC:return new i(w);case t.KANJI:return new p(w);case t.BYTE:return new c(w)}}f.fromArray=function(P){return P.reduce(function(C,x){return typeof x=="string"?C.push(s(x,null)):x.data&&C.push(s(x.data,x.mode)),C},[])},f.fromString=function(P,C){const x=S(P,v.isKanjiModeEnabled()),D=u(x),y=o(D,C),M=_.find_path(y.map,"start","end"),T=[];for(let R=1;R<M.length-1;R++)T.push(y.table[M[R]].node);return f.fromArray(A(T))},f.rawSplit=function(P){return f.fromArray(S(P,v.isKanjiModeEnabled()))}},10242:(K,f)=>{let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];f.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},f.getSymbolTotalCodewords=function(i){return t[i]},f.getBCHDigit=function(a){let i=0;for(;a!==0;)i++,a>>>=1;return i},f.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');e=i},f.isKanjiModeEnabled=function(){return typeof e!="undefined"},f.toSJIS=function(i){return e(i)}},43114:(K,f)=>{f.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},23103:(K,f,e)=>{const t=e(10242),a=e(26245),i=e(64908),c=e(76910),p=e(43114),l=7973,v=t.getBCHDigit(l);function _(O,A,u){for(let o=1;o<=40;o++)if(A<=f.getCapacity(o,u,O))return o}function g(O,A){return c.getCharCountIndicator(O,A)+4}function E(O,A){let u=0;return O.forEach(function(o){const s=g(o.mode,A);u+=s+o.getBitsLength()}),u}function S(O,A){for(let u=1;u<=40;u++)if(E(O,u)<=f.getCapacity(u,A,c.MIXED))return u}f.from=function(A,u){return p.isValid(A)?parseInt(A,10):u},f.getCapacity=function(A,u,o){if(!p.isValid(A))throw new Error("Invalid QR Code version");typeof o=="undefined"&&(o=c.BYTE);const s=t.getSymbolTotalCodewords(A),w=a.getTotalCodewordsCount(A,u),P=(s-w)*8;if(o===c.MIXED)return P;const C=P-g(o,A);switch(o){case c.NUMERIC:return Math.floor(C/10*3);case c.ALPHANUMERIC:return Math.floor(C/11*2);case c.KANJI:return Math.floor(C/13);case c.BYTE:default:return Math.floor(C/8)}},f.getBestVersionForData=function(A,u){let o;const s=i.from(u,i.M);if(Array.isArray(A)){if(A.length>1)return S(A,s);if(A.length===0)return 1;o=A[0]}else o=A;return _(o.mode,o.getLength(),s)},f.getEncodedBits=function(A){if(!p.isValid(A)||A<7)throw new Error("Invalid QR Code version");let u=A<<12;for(;t.getBCHDigit(u)-v>=0;)u^=l<<t.getBCHDigit(u)-v;return A<<12|u}},6907:(K,f,e)=>{const t=e(89653);function a(c,p,l){c.clearRect(0,0,p.width,p.height),p.style||(p.style={}),p.height=l,p.width=l,p.style.height=l+"px",p.style.width=l+"px"}function i(){try{return document.createElement("canvas")}catch(c){throw new Error("You need to specify a canvas element")}}f.render=function(p,l,v){let _=v,g=l;typeof _=="undefined"&&(!l||!l.getContext)&&(_=l,l=void 0),l||(g=i()),_=t.getOptions(_);const E=t.getImageWidth(p.modules.size,_),S=g.getContext("2d"),O=S.createImageData(E,E);return t.qrToImageData(O.data,p,_),a(S,g,E),S.putImageData(O,0,0),g},f.renderToDataURL=function(p,l,v){let _=v;typeof _=="undefined"&&(!l||!l.getContext)&&(_=l,l=void 0),_||(_={});const g=f.render(p,l,_),E=_.type||"image/png",S=_.rendererOpts||{};return g.toDataURL(E,S.quality)}},93776:(K,f,e)=>{const t=e(89653);function a(p,l){const v=p.a/255,_=l+'="'+p.hex+'"';return v<1?_+" "+l+'-opacity="'+v.toFixed(2).slice(1)+'"':_}function i(p,l,v){let _=p+l;return typeof v!="undefined"&&(_+=" "+v),_}function c(p,l,v){let _="",g=0,E=!1,S=0;for(let O=0;O<p.length;O++){const A=Math.floor(O%l),u=Math.floor(O/l);!A&&!E&&(E=!0),p[O]?(S++,O>0&&A>0&&p[O-1]||(_+=E?i("M",A+v,.5+u+v):i("m",g,0),g=0,E=!1),A+1<l&&p[O+1]||(_+=i("h",S),S=0)):g++}return _}f.render=function(l,v,_){const g=t.getOptions(v),E=l.modules.size,S=l.modules.data,O=E+g.margin*2,A=g.color.light.a?"<path "+a(g.color.light,"fill")+' d="M0 0h'+O+"v"+O+'H0z"/>':"",u="<path "+a(g.color.dark,"stroke")+' d="'+c(S,E,g.margin)+'"/>',o='viewBox="0 0 '+O+" "+O+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+o+' shape-rendering="crispEdges">'+A+u+`</svg>
`;return typeof _=="function"&&_(null,w),w}},89653:(K,f)=>{function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let a=t.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+t);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(c){return[c,c]}))),a.length===6&&a.push("F","F");const i=parseInt(a.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+a.slice(0,6).join("")}}f.getOptions=function(a){a||(a={}),a.color||(a.color={});const i=typeof a.margin=="undefined"||a.margin===null||a.margin<0?4:a.margin,c=a.width&&a.width>=21?a.width:void 0,p=a.scale||4;return{width:c,scale:c?4:p,margin:i,color:{dark:e(a.color.dark||"#000000ff"),light:e(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},f.getScale=function(a,i){return i.width&&i.width>=a+i.margin*2?i.width/(a+i.margin*2):i.scale},f.getImageWidth=function(a,i){const c=f.getScale(a,i);return Math.floor((a+i.margin*2)*c)},f.qrToImageData=function(a,i,c){const p=i.modules.size,l=i.modules.data,v=f.getScale(p,c),_=Math.floor((p+c.margin*2)*v),g=c.margin*v,E=[c.color.light,c.color.dark];for(let S=0;S<_;S++)for(let O=0;O<_;O++){let A=(S*_+O)*4,u=c.color.light;if(S>=g&&O>=g&&S<_-g&&O<_-g){const o=Math.floor((S-g)/v),s=Math.floor((O-g)/v);u=E[l[o*p+s]?1:0]}a[A++]=u.r,a[A++]=u.g,a[A++]=u.b,a[A]=u.a}}},55798:K=>{"use strict";var f=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};K.exports={default:t.RFC3986,formatters:{RFC1738:function(a){return f.call(a,e,"+")},RFC3986:function(a){return String(a)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986}},80129:(K,f,e)=>{"use strict";var t=e(58261),a=e(55235),i=e(55798);K.exports={formats:i,parse:a,stringify:t}},55235:(K,f,e)=>{"use strict";var t=e(12769),a=Object.prototype.hasOwnProperty,i=Array.isArray,c={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},p=function(A){return A.replace(/&#(\d+);/g,function(u,o){return String.fromCharCode(parseInt(o,10))})},l=function(A,u){return A&&typeof A=="string"&&u.comma&&A.indexOf(",")>-1?A.split(","):A},v="utf8=%26%2310003%3B",_="utf8=%E2%9C%93",g=function(u,o){var s={},w=o.ignoreQueryPrefix?u.replace(/^\?/,""):u,P=o.parameterLimit===1/0?void 0:o.parameterLimit,C=w.split(o.delimiter,P),x=-1,D,y=o.charset;if(o.charsetSentinel)for(D=0;D<C.length;++D)C[D].indexOf("utf8=")===0&&(C[D]===_?y="utf-8":C[D]===v&&(y="iso-8859-1"),x=D,D=C.length);for(D=0;D<C.length;++D)if(D!==x){var M=C[D],T=M.indexOf("]="),R=T===-1?M.indexOf("="):T+1,F,N;R===-1?(F=o.decoder(M,c.decoder,y,"key"),N=o.strictNullHandling?null:""):(F=o.decoder(M.slice(0,R),c.decoder,y,"key"),N=t.maybeMap(l(M.slice(R+1),o),function(U){return o.decoder(U,c.decoder,y,"value")})),N&&o.interpretNumericEntities&&y==="iso-8859-1"&&(N=p(N)),M.indexOf("[]=")>-1&&(N=i(N)?[N]:N),a.call(s,F)?s[F]=t.combine(s[F],N):s[F]=N}return s},E=function(A,u,o,s){for(var w=s?u:l(u,o),P=A.length-1;P>=0;--P){var C,x=A[P];if(x==="[]"&&o.parseArrays)C=[].concat(w);else{C=o.plainObjects?Object.create(null):{};var D=x.charAt(0)==="["&&x.charAt(x.length-1)==="]"?x.slice(1,-1):x,y=parseInt(D,10);!o.parseArrays&&D===""?C={0:w}:!isNaN(y)&&x!==D&&String(y)===D&&y>=0&&o.parseArrays&&y<=o.arrayLimit?(C=[],C[y]=w):D!=="__proto__"&&(C[D]=w)}w=C}return w},S=function(u,o,s,w){if(u){var P=s.allowDots?u.replace(/\.([^.[]+)/g,"[$1]"):u,C=/(\[[^[\]]*])/,x=/(\[[^[\]]*])/g,D=s.depth>0&&C.exec(P),y=D?P.slice(0,D.index):P,M=[];if(y){if(!s.plainObjects&&a.call(Object.prototype,y)&&!s.allowPrototypes)return;M.push(y)}for(var T=0;s.depth>0&&(D=x.exec(P))!==null&&T<s.depth;){if(T+=1,!s.plainObjects&&a.call(Object.prototype,D[1].slice(1,-1))&&!s.allowPrototypes)return;M.push(D[1])}return D&&M.push("["+P.slice(D.index)+"]"),E(M,o,s,w)}},O=function(u){if(!u)return c;if(u.decoder!==null&&u.decoder!==void 0&&typeof u.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof u.charset!="undefined"&&u.charset!=="utf-8"&&u.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=typeof u.charset=="undefined"?c.charset:u.charset;return{allowDots:typeof u.allowDots=="undefined"?c.allowDots:!!u.allowDots,allowPrototypes:typeof u.allowPrototypes=="boolean"?u.allowPrototypes:c.allowPrototypes,allowSparse:typeof u.allowSparse=="boolean"?u.allowSparse:c.allowSparse,arrayLimit:typeof u.arrayLimit=="number"?u.arrayLimit:c.arrayLimit,charset:o,charsetSentinel:typeof u.charsetSentinel=="boolean"?u.charsetSentinel:c.charsetSentinel,comma:typeof u.comma=="boolean"?u.comma:c.comma,decoder:typeof u.decoder=="function"?u.decoder:c.decoder,delimiter:typeof u.delimiter=="string"||t.isRegExp(u.delimiter)?u.delimiter:c.delimiter,depth:typeof u.depth=="number"||u.depth===!1?+u.depth:c.depth,ignoreQueryPrefix:u.ignoreQueryPrefix===!0,interpretNumericEntities:typeof u.interpretNumericEntities=="boolean"?u.interpretNumericEntities:c.interpretNumericEntities,parameterLimit:typeof u.parameterLimit=="number"?u.parameterLimit:c.parameterLimit,parseArrays:u.parseArrays!==!1,plainObjects:typeof u.plainObjects=="boolean"?u.plainObjects:c.plainObjects,strictNullHandling:typeof u.strictNullHandling=="boolean"?u.strictNullHandling:c.strictNullHandling}};K.exports=function(A,u){var o=O(u);if(A===""||A===null||typeof A=="undefined")return o.plainObjects?Object.create(null):{};for(var s=typeof A=="string"?g(A,o):A,w=o.plainObjects?Object.create(null):{},P=Object.keys(s),C=0;C<P.length;++C){var x=P[C],D=S(x,s[x],o,typeof A=="string");w=t.merge(w,D,o)}return o.allowSparse===!0?w:t.compact(w)}},58261:(K,f,e)=>{"use strict";var t=e(37478),a=e(12769),i=e(55798),c=Object.prototype.hasOwnProperty,p={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,C){return P+"["+C+"]"},repeat:function(P){return P}},l=Array.isArray,v=String.prototype.split,_=Array.prototype.push,g=function(w,P){_.apply(w,l(P)?P:[P])},E=Date.prototype.toISOString,S=i.default,O={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:S,formatter:i.formatters[S],indices:!1,serializeDate:function(P){return E.call(P)},skipNulls:!1,strictNullHandling:!1},A=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},u={},o=function w(P,C,x,D,y,M,T,R,F,N,U,V,W,L,k,H){for(var G=P,q=H,z=0,ee=!1;(q=q.get(u))!==void 0&&!ee;){var $=q.get(P);if(z+=1,typeof $!="undefined"){if($===z)throw new RangeError("Cyclic object value");ee=!0}typeof q.get(u)=="undefined"&&(z=0)}if(typeof R=="function"?G=R(C,G):G instanceof Date?G=U(G):x==="comma"&&l(G)&&(G=a.maybeMap(G,function(je){return je instanceof Date?U(je):je})),G===null){if(y)return T&&!L?T(C,O.encoder,k,"key",V):C;G=""}if(A(G)||a.isBuffer(G)){if(T){var J=L?C:T(C,O.encoder,k,"key",V);if(x==="comma"&&L){for(var j=v.call(String(G),","),Z="",ne=0;ne<j.length;++ne)Z+=(ne===0?"":",")+W(T(j[ne],O.encoder,k,"value",V));return[W(J)+(D&&l(G)&&j.length===1?"[]":"")+"="+Z]}return[W(J)+"="+W(T(G,O.encoder,k,"value",V))]}return[W(C)+"="+W(String(G))]}var ie=[];if(typeof G=="undefined")return ie;var oe;if(x==="comma"&&l(G))oe=[{value:G.length>0?G.join(",")||null:void 0}];else if(l(R))oe=R;else{var re=Object.keys(G);oe=F?re.sort(F):re}for(var ae=D&&l(G)&&G.length===1?C+"[]":C,se=0;se<oe.length;++se){var fe=oe[se],le=typeof fe=="object"&&typeof fe.value!="undefined"?fe.value:G[fe];if(!(M&&le===null)){var Ae=l(G)?typeof x=="function"?x(ae,fe):ae:ae+(N?"."+fe:"["+fe+"]");H.set(P,z);var De=t();De.set(u,H),g(ie,w(le,Ae,x,D,y,M,T,R,F,N,U,V,W,L,k,De))}}return ie},s=function(P){if(!P)return O;if(P.encoder!==null&&typeof P.encoder!="undefined"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var C=P.charset||O.charset;if(typeof P.charset!="undefined"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=i.default;if(typeof P.format!="undefined"){if(!c.call(i.formatters,P.format))throw new TypeError("Unknown format option provided.");x=P.format}var D=i.formatters[x],y=O.filter;return(typeof P.filter=="function"||l(P.filter))&&(y=P.filter),{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:O.addQueryPrefix,allowDots:typeof P.allowDots=="undefined"?O.allowDots:!!P.allowDots,charset:C,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:O.charsetSentinel,delimiter:typeof P.delimiter=="undefined"?O.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:O.encode,encoder:typeof P.encoder=="function"?P.encoder:O.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:O.encodeValuesOnly,filter:y,format:x,formatter:D,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:O.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:O.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:O.strictNullHandling}};K.exports=function(w,P){var C=w,x=s(P),D,y;typeof x.filter=="function"?(y=x.filter,C=y("",C)):l(x.filter)&&(y=x.filter,D=y);var M=[];if(typeof C!="object"||C===null)return"";var T;P&&P.arrayFormat in p?T=P.arrayFormat:P&&"indices"in P?T=P.indices?"indices":"repeat":T="indices";var R=p[T];if(P&&"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var F=R==="comma"&&P&&P.commaRoundTrip;D||(D=Object.keys(C)),x.sort&&D.sort(x.sort);for(var N=t(),U=0;U<D.length;++U){var V=D[U];x.skipNulls&&C[V]===null||g(M,o(C[V],V,R,F,x.strictNullHandling,x.skipNulls,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,N))}var W=M.join(x.delimiter),L=x.addQueryPrefix===!0?"?":"";return x.charsetSentinel&&(x.charset==="iso-8859-1"?L+="utf8=%26%2310003%3B&":L+="utf8=%E2%9C%93&"),W.length>0?L+W:""}},12769:(K,f,e)=>{"use strict";var t=e(55798),a=Object.prototype.hasOwnProperty,i=Array.isArray,c=function(){for(var s=[],w=0;w<256;++w)s.push("%"+((w<16?"0":"")+w.toString(16)).toUpperCase());return s}(),p=function(w){for(;w.length>1;){var P=w.pop(),C=P.obj[P.prop];if(i(C)){for(var x=[],D=0;D<C.length;++D)typeof C[D]!="undefined"&&x.push(C[D]);P.obj[P.prop]=x}}},l=function(w,P){for(var C=P&&P.plainObjects?Object.create(null):{},x=0;x<w.length;++x)typeof w[x]!="undefined"&&(C[x]=w[x]);return C},v=function s(w,P,C){if(!P)return w;if(typeof P!="object"){if(i(w))w.push(P);else if(w&&typeof w=="object")(C&&(C.plainObjects||C.allowPrototypes)||!a.call(Object.prototype,P))&&(w[P]=!0);else return[w,P];return w}if(!w||typeof w!="object")return[w].concat(P);var x=w;return i(w)&&!i(P)&&(x=l(w,C)),i(w)&&i(P)?(P.forEach(function(D,y){if(a.call(w,y)){var M=w[y];M&&typeof M=="object"&&D&&typeof D=="object"?w[y]=s(M,D,C):w.push(D)}else w[y]=D}),w):Object.keys(P).reduce(function(D,y){var M=P[y];return a.call(D,y)?D[y]=s(D[y],M,C):D[y]=M,D},x)},_=function(w,P){return Object.keys(P).reduce(function(C,x){return C[x]=P[x],C},w)},g=function(s,w,P){var C=s.replace(/\+/g," ");if(P==="iso-8859-1")return C.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(C)}catch(x){return C}},E=function(w,P,C,x,D){if(w.length===0)return w;var y=w;if(typeof w=="symbol"?y=Symbol.prototype.toString.call(w):typeof w!="string"&&(y=String(w)),C==="iso-8859-1")return escape(y).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var M="",T=0;T<y.length;++T){var R=y.charCodeAt(T);if(R===45||R===46||R===95||R===126||R>=48&&R<=57||R>=65&&R<=90||R>=97&&R<=122||D===t.RFC1738&&(R===40||R===41)){M+=y.charAt(T);continue}if(R<128){M=M+c[R];continue}if(R<2048){M=M+(c[192|R>>6]+c[128|R&63]);continue}if(R<55296||R>=57344){M=M+(c[224|R>>12]+c[128|R>>6&63]+c[128|R&63]);continue}T+=1,R=65536+((R&1023)<<10|y.charCodeAt(T)&1023),M+=c[240|R>>18]+c[128|R>>12&63]+c[128|R>>6&63]+c[128|R&63]}return M},S=function(w){for(var P=[{obj:{o:w},prop:"o"}],C=[],x=0;x<P.length;++x)for(var D=P[x],y=D.obj[D.prop],M=Object.keys(y),T=0;T<M.length;++T){var R=M[T],F=y[R];typeof F=="object"&&F!==null&&C.indexOf(F)===-1&&(P.push({obj:y,prop:R}),C.push(F))}return p(P),w},O=function(w){return Object.prototype.toString.call(w)==="[object RegExp]"},A=function(w){return!w||typeof w!="object"?!1:!!(w.constructor&&w.constructor.isBuffer&&w.constructor.isBuffer(w))},u=function(w,P){return[].concat(w,P)},o=function(w,P){if(i(w)){for(var C=[],x=0;x<w.length;x+=1)C.push(P(w[x]));return C}return P(w)};K.exports={arrayToObject:l,assign:_,combine:u,compact:S,decode:g,encode:E,isBuffer:A,isRegExp:O,maybeMap:o,merge:v}},62587:K=>{"use strict";function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}K.exports=function(e,t,a,i){t=t||"&",a=a||"=";var c={};if(typeof e!="string"||e.length===0)return c;var p=/\+/g;e=e.split(t);var l=1e3;i&&typeof i.maxKeys=="number"&&(l=i.maxKeys);var v=e.length;l>0&&v>l&&(v=l);for(var _=0;_<v;++_){var g=e[_].replace(p,"%20"),E=g.indexOf(a),S,O,A,u;E>=0?(S=g.substr(0,E),O=g.substr(E+1)):(S=g,O=""),A=decodeURIComponent(S),u=decodeURIComponent(O),f(c,A)?Array.isArray(c[A])?c[A].push(u):c[A]=[c[A],u]:c[A]=u}return c}},12361:K=>{"use strict";var f=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};K.exports=function(e,t,a,i){return t=t||"&",a=a||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(c){var p=encodeURIComponent(f(c))+a;return Array.isArray(e[c])?e[c].map(function(l){return p+encodeURIComponent(f(l))}).join(t):p+encodeURIComponent(f(e[c]))}).join(t):i?encodeURIComponent(f(i))+a+encodeURIComponent(f(e)):""}},17673:(K,f,e)=>{"use strict";f.decode=f.parse=e(62587),f.encode=f.stringify=e(12361)},35639:(K,f,e)=>{"use strict";var t;t={value:!0};var a=Object.assign||function(x){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var M in y)Object.prototype.hasOwnProperty.call(y,M)&&(x[M]=y[M])}return x},i=function(){function x(D,y){for(var M=0;M<y.length;M++){var T=y[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}return function(D,y,M){return y&&x(D.prototype,y),M&&x(D,M),D}}(),c=e(98661),p=_(c),l=e(45697),v=_(l);function _(x){return x&&x.__esModule?x:{default:x}}function g(x,D){var y={};for(var M in x)D.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(x,M)&&(y[M]=x[M]);return y}function E(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}function S(x,D){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:x}function O(x,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(x,D):x.__proto__=D)}var A={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],o=function(D){return u.forEach(function(y){return delete D[y]}),D},s=function(D,y){y.style.fontSize=D.fontSize,y.style.fontFamily=D.fontFamily,y.style.fontWeight=D.fontWeight,y.style.fontStyle=D.fontStyle,y.style.letterSpacing=D.letterSpacing,y.style.textTransform=D.textTransform},w=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,P=function(){return w?"_"+Math.random().toString(36).substr(2,12):void 0},C=function(x){O(D,x),i(D,null,[{key:"getDerivedStateFromProps",value:function(M,T){var R=M.id;return R!==T.prevId?{inputId:R||P(),prevId:R}:null}}]);function D(y){E(this,D);var M=S(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,y));return M.inputRef=function(T){M.input=T,typeof M.props.inputRef=="function"&&M.props.inputRef(T)},M.placeHolderSizerRef=function(T){M.placeHolderSizer=T},M.sizerRef=function(T){M.sizer=T},M.state={inputWidth:y.minWidth,inputId:y.id||P(),prevId:y.id},M}return i(D,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(M,T){T.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var M=this.input&&window.getComputedStyle(this.input);M&&(s(M,this.sizer),this.placeHolderSizer&&s(M,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var M=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?M=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:M=this.sizer.scrollWidth+2;var T=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;M+=T,M<this.props.minWidth&&(M=this.props.minWidth),M!==this.state.inputWidth&&this.setState({inputWidth:M})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var M=this.props.injectStyles;return w&&M?p.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var M=[this.props.defaultValue,this.props.value,""].reduce(function(N,U){return N!=null?N:U}),T=a({},this.props.style);T.display||(T.display="inline-block");var R=a({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),F=g(this.props,[]);return o(F),F.className=this.props.inputClassName,F.id=this.state.inputId,F.style=R,p.default.createElement("div",{className:this.props.className,style:T},this.renderStyles(),p.default.createElement("input",a({},F,{ref:this.inputRef})),p.default.createElement("div",{ref:this.sizerRef,style:A},M),this.props.placeholder?p.default.createElement("div",{ref:this.placeHolderSizerRef,style:A},this.props.placeholder):null)}}]),D}(c.Component);C.propTypes={className:v.default.string,defaultValue:v.default.any,extraWidth:v.default.oneOfType([v.default.number,v.default.string]),id:v.default.string,injectStyles:v.default.bool,inputClassName:v.default.string,inputRef:v.default.func,inputStyle:v.default.object,minWidth:v.default.oneOfType([v.default.number,v.default.string]),onAutosize:v.default.func,onChange:v.default.func,placeholder:v.default.string,placeholderIsMinWidth:v.default.bool,style:v.default.object,value:v.default.any},C.defaultProps={minWidth:1,injectStyles:!0},f.Z=C},62372:(K,f,e)=>{"use strict";e.d(f,{XI:()=>Se,sJ:()=>je});var t=e(98661);function a(Fe,Ke){for(var et=0;et<Ke.length;et++){var Qe=Ke[et];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(Fe,Qe.key,Qe)}}function i(Fe,Ke,et){return Ke&&a(Fe.prototype,Ke),et&&a(Fe,et),Fe}function c(){return c=Object.assign||function(Fe){for(var Ke=1;Ke<arguments.length;Ke++){var et=arguments[Ke];for(var Qe in et)Object.prototype.hasOwnProperty.call(et,Qe)&&(Fe[Qe]=et[Qe])}return Fe},c.apply(this,arguments)}function p(Fe,Ke){Fe.prototype=Object.create(Ke.prototype),Fe.prototype.constructor=Fe,l(Fe,Ke)}function l(Fe,Ke){return l=Object.setPrototypeOf||function(Qe,$e){return Qe.__proto__=$e,Qe},l(Fe,Ke)}function v(Fe,Ke){if(Fe==null)return{};var et={},Qe=Object.keys(Fe),$e,Te;for(Te=0;Te<Qe.length;Te++)$e=Qe[Te],!(Ke.indexOf($e)>=0)&&(et[$e]=Fe[$e]);return et}function _(Fe,Ke){if(Fe){if(typeof Fe=="string")return g(Fe,Ke);var et=Object.prototype.toString.call(Fe).slice(8,-1);if(et==="Object"&&Fe.constructor&&(et=Fe.constructor.name),et==="Map"||et==="Set")return Array.from(Fe);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return g(Fe,Ke)}}function g(Fe,Ke){(Ke==null||Ke>Fe.length)&&(Ke=Fe.length);for(var et=0,Qe=new Array(Ke);et<Ke;et++)Qe[et]=Fe[et];return Qe}function E(Fe,Ke){var et=typeof Symbol!="undefined"&&Fe[Symbol.iterator]||Fe["@@iterator"];if(et)return(et=et.call(Fe)).next.bind(et);if(Array.isArray(Fe)||(et=_(Fe))||Ke&&Fe&&typeof Fe.length=="number"){et&&(Fe=et);var Qe=0;return function(){return Qe>=Fe.length?{done:!0}:{done:!1,value:Fe[Qe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(Fe){var Ke=(0,t.useRef)(null);function et(Qe){!Qe||Qe===Ke.current||(Ke.current=Qe,Fe(Qe))}return et}function O(Fe){var Ke=(0,t.useRef)(Fe);return(0,t.useMemo)(function(){function et($e){typeof $e=="function"?Ke.current=$e(Ke.current):Ke.current=$e}function Qe(){return Ke.current}return[Qe,et]},[])}function A(){var Fe=(0,t.useRef)([]);return(0,t.useMemo)(function(){function Ke(){return Fe.current.length>0}function et(){for(var $e=E(Fe.current),Te;!(Te=$e()).done;){var te=Te.value;te()}Fe.current=[]}function Qe($e){Fe.current.push($e)}return{hasEventSubscriptions:Ke,removeAllEventSubscriptions:et,addEventSubscription:Qe}},[])}var u=typeof window!="undefined"?t.useLayoutEffect:t.useEffect;function o(Fe,Ke){var et=(0,t.useRef)(Fe);return Ke?(et.current=Fe,et):(et.current=null,et)}var s={top:0,left:0,right:1,bottom:1,width:1,height:1};function w(Fe){var Ke=Fe===void 0?{}:Fe,et=Ke.enabled,Qe=et===void 0?!0:et,$e=Ke.preventDefault,Te=$e===void 0?!0:$e,te=useRef(null),ue=useState(s),we=ue[0],me=ue[1];function Ee(){me(s)}var he=we!==s;function xe(Ve){if(Qe){Te&&Ve.preventDefault();var Pe=Ve.clientX,Ie=Ve.clientY;me({top:Ie,left:Pe,width:1,height:1,right:Pe+1,bottom:Ie+1})}}return{hasMousePosition:he,resetMousePosition:Ee,handleMouseEvent:xe,trigger:{getBounds:function(){return we},getParent:te.current?function(){return te.current}:void 0},parentRef:te}}function P(Fe){return parseFloat(Fe.replace("px",""))}function C(Fe,Ke,et){return Fe<Ke?Ke:Fe>et?et:Fe}function x(Fe){return Fe!=null}function D(){for(var Fe=arguments.length,Ke=new Array(Fe),et=0;et<Fe;et++)Ke[et]=arguments[et];return function(Qe){for(var $e=E(Ke),Te;!(Te=$e()).done;){var te=Te.value;te&&(typeof te=="function"?te(Qe):te.current=Qe)}}}function y(Fe,Ke){if(typeof Fe!="undefined")return Ke||Fe.ResizeObserver}function M(Fe,Ke){var et=[];if(!Fe||!Ke||Fe===document.body)return et;var Qe=Ke.getComputedStyle(Fe),$e=Qe.overflow,Te=Qe.overflowX,te=Qe.overflowY;return[$e,Te,te].some(function(ue){return["auto","scroll"].includes(ue)})&&et.push(Fe),[].concat(et,M(Fe.parentElement,Ke))}function T(Fe){return"react-laag: Could not find a valid reference for the "+Fe+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+Fe+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+Fe+" when the isOpen prop is set to true"}function R(Fe){var Ke=Fe.enabled,et=Fe.onChange,Qe=Fe.environment,$e=Fe.ResizeObserverPolyfill,Te=Fe.overflowContainer,te=Fe.triggerOption,ue=y(Qe,$e);(0,t.useEffect)(function(){},[ue]);var we=(0,t.useRef)(null),me=!!te,Ee=O({scrollContainers:[],trigger:null,layer:null}),he=Ee[0],xe=Ee[1],Ve=A(),Pe=Ve.hasEventSubscriptions,Ie=Ve.addEventSubscription,ze=Ve.removeAllEventSubscriptions,tt=(0,t.useCallback)(function(){var Hn=he(),ir=Hn.layer,Vn=Hn.trigger,_t=Hn.scrollContainers,ut=_t[0];if(!ir)throw new Error(T("layer"));if(!Vn&&!me)throw new Error(T("trigger"));var Ce={top:0,left:0};if(ut){var be=ut.scrollLeft,We=ut.scrollTop;Ce={top:We,left:be}}else{var qe=Qe.scrollX,Et=Qe.scrollY;Ce={top:Et,left:qe}}var en={left:0,top:0};if(ut){var In=Qe.getComputedStyle(ut),qn=In.borderLeftWidth,cr=In.borderTopWidth;en={left:P(qn)||0,top:P(cr)||0}}et({layer:ir,trigger:Vn,scrollContainers:_t,arrow:we.current},Ce,en)},[he,et,Qe,we,me]),Le=(0,t.useCallback)(function(){var Hn=he(),ir=Hn.trigger,Vn=Hn.layer,_t=Hn.scrollContainers;if(!Vn)throw new Error(T("layer"));if(!ir&&!me)throw new Error(T("trigger"));if(ue){for(var ut=!1,Ce=function(){if(!ut){ut=!0;return}tt()},be=new ue(Ce),We=0,qe=[ir,Vn,document.body];We<qe.length;We++){var Et=qe[We];Et&&be.observe(Et)}Ie(function(){for(var pr=0,wr=[ir,Vn,document.body];pr<wr.length;pr++){var Vr=wr[pr];Vr&&be.unobserve(Vr)}be.disconnect()})}for(var en=[Qe].concat(_t),In=function(){var wr=cr.value;wr.addEventListener("scroll",tt),Ie(function(){return wr.removeEventListener("scroll",tt)})},qn=E(en),cr;!(cr=qn()).done;)In()},[he,Ie,tt,Qe,ue,me]),It=(0,t.useCallback)(function(xn,Hn){Ke&&xn&&xn!==Hn&&(ze(),Le(),tt())},[ze,Le,tt,Ke]),on=S((0,t.useCallback)(function(xn){var Hn=he(),ir=Hn.layer;xe(function(Vn){return c({},Vn,{layer:xn})}),It(ir,xn)},[he,xe,It])),zt=(0,t.useCallback)(function(Hn){var ir=M(Hn,Qe),Vn=ir[0];if(Vn){var _t=Qe.getComputedStyle(Vn).position,ut=["relative","absolute","fixed"].includes(_t)||Te;ut||(Vn.style.position="relative")}return ir},[Qe,Te]),$t=S((0,t.useCallback)(function(xn){var Hn=zt(xn),ir=he(),Vn=ir.trigger;xe(function(_t){return c({},_t,{trigger:xn,scrollContainers:Hn})}),It(Vn,xn)},[he,xe,It,zt])),Bt=te==null||te.getParent==null?void 0:te.getParent();return u(function(){Bt&&xe(function(xn){return c({},xn,{scrollContainers:zt(Bt)})})},[Bt,xe,zt]),u(function(){return Ke&&(Pe()||Le()),function(){Pe()&&ze()}},[Ke,Pe,Le,ze]),u(function(){Ke&&tt()}),{triggerRef:$t,layerRef:on,arrowRef:we,closestScrollContainer:he().scrollContainers[0]||null}}var F=(0,t.createContext)({});function N(Fe){var Ke=Fe.children,et=Fe.registrations,Qe=(0,t.useCallback)(function(Te){return et.current.add(Te),function(){return et.current.delete(Te)}},[et]);return(0,t.createElement)(F.Provider,{value:Qe},Ke)}function U(Fe,Ke){for(var et=E(Fe),Qe;!(Qe=et()).done;){var $e=Qe.value.shouldCloseWhenClickedOutside;if(!$e(Ke))return!1}return!0}function V(Fe){var Ke=Fe.isOpen,et=Fe.onOutsideClick,Qe=Fe.onParentClose,$e=(0,t.useRef)(null),Te=(0,t.useRef)(null),te=(0,t.useRef)(new Set),ue=(0,t.useContext)(F),we=(0,t.useCallback)(function(Ee){var he=Ee.target,xe=$e.current&&$e.current.contains(he),Ve=Te.current&&Te.current.contains(he),Pe=U(te.current,Ee);return Ve&&Pe&&te.current.forEach(function(Ie){var ze=Ie.closeChild;return ze()}),!xe&&!Ve&&Pe},[$e,Te,te]);return(0,t.useEffect)(function(){if(typeof ue=="function")return ue({shouldCloseWhenClickedOutside:we,closeChild:function(){Qe&&Qe()}})},[ue,we,Qe,te]),(0,t.useEffect)(function(){var me=typeof ue=="function",Ee=!Ke||!et||me;if(Ee)return;function he(xe){we(xe)&&et()}return document.addEventListener("click",he,!0),function(){return document.removeEventListener("click",he,!0)}},[Ke,et,we,ue]),(0,t.useEffect)(function(){Ke||te.current.forEach(function(me){var Ee=me.closeChild;return Ee()})},[Ke]),{closeOnOutsideClickRefs:{trigger:$e,layer:Te},registrations:te}}var W=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],L={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},k=function(){function Fe(et,Qe,$e,Te,te,ue,we,me,Ee){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=et,this.opposite=Qe,this.isHorizontal=$e,this.sizeProp=Te,this.oppositeSizeProp=te,this.cssProp=ue,this.oppositeCssProp=we,this.isCenter=me,this.isPush=Ee}var Ke=Fe.prototype;return Ke.factor=function(Qe){return Qe*(this.isPush?1:-1)},Ke.isOppositeDirection=function(Qe){return this.isHorizontal!==Qe.isHorizontal},Fe}();function H(Fe,Ke){Ke===void 0&&(Ke=!0);var et=["left","right"].includes(Fe);return new k(Fe,Ke?H(L[Fe],!1):null,et,et?"width":"height",et?"height":"width",et?"left":"top",et?"top":"left",Fe==="center",!["right","bottom"].includes(Fe))}var G={top:H("top"),bottom:H("bottom"),left:H("left"),right:H("right")},q=c({},G,{center:H("center")}),z=["top","left","bottom","right"],ee=function(){function Fe(Ke){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,Ke)}return Fe.mergeSmallestSides=function(et){var Qe=et[0],$e=et.slice(1);if(!Qe)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Te=Object.fromEntries(z.map(function(xe){return[xe,Qe[xe]]})),te=E($e),ue;!(ue=te()).done;)for(var we=ue.value,me=E(z),Ee;!(Ee=me()).done;){var he=Ee.value;Te[he]=Math.min(Te[he],we[he])}return new Fe(Te)},i(Fe,[{key:"allSidesArePositive",get:function(){var et=this;return z.every(function(Qe){return et[Qe]>=0})}},{key:"negativeSides",get:function(){var et=this;return Object.fromEntries(z.filter(function(Qe){return et[Qe]<0}).map(function(Qe){return[Qe,et[Qe]]}))}}]),Fe}();function $(){for(var Fe=arguments.length,Ke=new Array(Fe),et=0;et<Fe;et++)Ke[et]=arguments[et];return Ke.reduce(function(Qe,$e){return Qe+($e?P($e):0)},0)}function J(Fe){var Ke=Fe.top,et=Fe.left,Qe=Fe.right,$e=Fe.bottom,Te=Fe.width,te=Fe.height;return{top:Ke,left:et,right:Qe,bottom:$e,width:Te,height:te}}var j={top:0,left:0,right:0,bottom:0,width:0,height:0},Z=function(){Fe.create=function(Qe){return new Fe(Qe)},Fe.fromElement=function(Qe,$e){$e===void 0&&($e={});var Te=$e,te=Te.withTransform,ue=te===void 0?!0:te,we=Te.environment,me=we===void 0?window:we,Ee=Te.withScrollbars,he=Ee===void 0?!0:Ee,xe=J(Qe.getBoundingClientRect()),Ve=new Fe(xe);if(!ue){var Pe=me.getComputedStyle(Qe),Ie=Pe.width,ze=Pe.height,tt=Pe.boxSizing,Le=Pe.borderLeft,It=Pe.borderRight,on=Pe.borderTop,zt=Pe.borderBottom,$t=Pe.paddingLeft,Bt=Pe.paddingRight,xn=Pe.paddingTop,Hn=Pe.paddingBottom,ir=tt==="border-box"?P(Ie):$(Ie,Le,It,$t,Bt),Vn=tt==="border-box"?P(ze):$(ze,on,zt,xn,Hn);Ve=new Fe(c({},Ve,{width:ir,height:Vn}))}if(!he){var _t=Ve.width-Qe.clientWidth,ut=Ve.height-Qe.clientHeight;return Ve.substract({right:_t,bottom:ut})}return Ve},Fe.empty=function(){return new Fe},Fe.fromWindow=function(Qe){var $e,Te=($e=Qe==null?void 0:Qe.document.scrollingElement)!=null?$e:Qe==null?void 0:Qe.document.documentElement,te=Te!=null?Te:{},ue=te.clientWidth,we=ue===void 0?0:ue,me=te.clientHeight,Ee=me===void 0?0:me;return new Fe({width:we,height:Ee,right:we,bottom:Ee})};function Fe(et){return et===void 0&&(et={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,j,et)}var Ke=Fe.prototype;return Ke.toObject=function(){return J(this)},Ke.merge=function(Qe){var $e=this.toObject();return new Fe(c({},$e,typeof Qe=="function"?Qe($e):Qe))},Ke.substract=function(Qe){for(var $e=this.toObject(),Te=Object.entries(Qe),te=0,ue=Te;te<ue.length;te++){var we=ue[te],me=we[0],Ee=we[1];if(me in G){var he=G[me];$e[me]+=he.factor(Ee),$e[he.isHorizontal?"width":"height"]-=Ee}else $e[me]-=Ee||0}return new Fe($e)},Ke.offsetsTo=function(Qe){return new ee({top:Qe.top-this.top,bottom:this.bottom-Qe.bottom,left:Qe.left-this.left,right:this.right-Qe.right})},Ke.mapSides=function(Qe){for(var $e=this.toObject(),Te=Object.values(G),te=0,ue=Te;te<ue.length;te++){var we=ue[te];$e[we.prop]=Qe(we,$e[we.prop])}return new Fe($e)},i(Fe,[{key:"surface",get:function(){return this.width*this.height}}]),Fe}(),ne=function(){function Fe(et,Qe,$e,Te,te){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=et,this.secondary=Qe,this.offsets=te,this.setSubjectsBounds($e,Te)}var Ke=Fe.prototype;return Ke.setSubjectsBounds=function(Qe,$e){if(!$e){this.subjectsBounds=Qe;return}var Te=typeof $e=="function"?$e(this.primary.prop):$e;this.subjectsBounds=Qe.merge({layer:c({},Qe.layer,Te)})},Ke.getLayerBounds=function(Qe){if(Qe===void 0&&(Qe=0),this._cachedLayerBounds&&Qe===0)return this._cachedLayerBounds;var $e=this.primary,Te=this.secondary,te=this.subjectsBounds,ue=te.trigger,we=te.layer,me=te.arrow,Ee=$e.isHorizontal,he=$e.oppositeCssProp,xe=$e.oppositeSizeProp,Ve=$e.prop,Pe=$e.opposite,Ie=Z.empty();Ie[Pe.prop]=ue[Ve]-$e.factor(this.offsets.trigger),Ie[Ve]=Ie[Pe.prop]-$e.factor(we[$e.sizeProp]);var ze=this.offsets.arrow*2,tt=ue[he]-(we[xe]-me[xe])+ze,Le=ue[he]+(ue[xe]-me[xe])-ze;if(Te.isPush||(tt+=we[xe],Le+=we[xe]),Te.isCenter){var It=(Ee?G.top:G.left).prop,on=(Ee?G.bottom:G.right).prop;Ie[It]=C(ue[It]+ue[xe]/2-we[xe]/2+Qe,tt,Le),Ie[on]=Ie[It]+we[xe]}else{var zt=Te,$t=ue[zt.prop],Bt=$t<tt?tt-$t:$t>Le?Le-$t:0;Ie[zt.prop]=C($t+Qe+Bt,tt,Le),Ie[zt.opposite.prop]=Ie[zt.prop]+Te.factor(we[xe])}Ie.width=Ie.right-Ie.left,Ie.height=Ie.bottom-Ie.top;var xn=Z.create(Ie);return Qe===0&&(this._cachedLayerBounds=xn),xn},Ke.getLayerCollisionBounds=function(){var Qe=this.offsets.container;return this.getLayerBounds().mapSides(function($e,Te){return Te-=$e.factor(Qe)}).merge(function($e){var Te=$e.width,te=$e.height;return{width:Te+Qe*2,height:te+Qe*2}})},Ke.getContainerOffsets=function(Qe){if(this._cachedContainerOffsets&&!Qe)return this._cachedContainerOffsets;var $e=this.subjectsBounds.merge({layer:Qe||this.getLayerCollisionBounds()}),Te=ee.mergeSmallestSides($e.layerOffsetsToScrollContainers);return Qe||(this._cachedContainerOffsets=Te),Te},i(Fe,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var Qe=this.secondary.isHorizontal,$e=this.subjectsBounds,Te=$e.triggerHasBiggerWidth,te=$e.triggerHasBiggerHeight;return Qe&&Te||!Qe&&te}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var Qe=this.getLayerBounds(),$e=this.getContainerOffsets(Qe),Te=$e.negativeSides;for(var te in Te)Te[te]=-Te[te];return Qe.substract(Te).surface}},{key:"secondaryOffsetSide",get:function(){var Qe,$e,Te=this,te=this.getContainerOffsets(),ue=(Qe=($e=Object.entries(te.negativeSides).map(function(me){var Ee=me[0],he=me[1];return[G[Ee],he]}).filter(function(me){var Ee=me[0];return Te.primary.isOppositeDirection(Ee)}).sort(function(me,Ee){var he=me[1],xe=Ee[1];return xe-he}))==null?void 0:$e[0])!=null?Qe:[],we=ue[0];return we||null}}]),Fe}(),ie=function(Fe){p(Ke,Fe);function Ke(){return Fe.apply(this,arguments)||this}var et=Ke.prototype;return et.getLayerBounds=function(){var $e=this.subjectsBounds,Te=$e.trigger,te=$e.layer,ue=Z.empty();return ue.top=Te.top+Te.height/2-te.height/2,ue.bottom=ue.top+te.height,ue.left=Te.left+Te.width/2-te.width/2,ue.right=ue.left+te.width,ue.width=ue.right-ue.left,ue.height=ue.bottom-ue.top,ue},Ke}(ne);function oe(Fe,Ke,et){var Qe=Fe.layer,$e=Fe.trigger,Te=Fe.arrow,te=Ke.primary.oppositeSizeProp,ue=Ke.primary.isHorizontal?["top","bottom"]:["left","right"],we=ue[0],me=ue[1],Ee=Qe[we]+Qe[te]/2-$e[we]-Te[te]/2-et,he=Qe[me]-Qe[te]/2-$e[me]+Te[te]/2+et;return(Ee<0?-Ee:0)+(he>0?-he:0)}var re={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function ae(Fe,Ke,et){var Qe;if(Ke.primary.isCenter)return re;var $e=Fe.layer,Te=Fe.trigger,te=Fe.arrow,ue=Ke.primary.oppositeSizeProp,we=Te[ue]>$e[ue],me=et+te[ue]/2,Ee=$e[ue]-te[ue]/2-et,he=oe(Fe,Ke,et),xe=Ke.primary.prop,Ve=Ke.primary.oppositeCssProp,Pe=we?$e[ue]/2+he:Te[Ve]+Te[ue]/2-$e[Ve];return c({},re,(Qe={},Qe[xe]="100%",Qe[Ve]=C(Pe,me,Ee),Qe))}var se=function(){function Fe(et,Qe,$e){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=et,this.config=Qe,this.subjectsBounds=$e}Fe.getSidesFromPlacementType=function(Qe){var $e=Qe.split("-"),Te=$e[0],te=$e[1],ue=G[Te],we;return te==="center"?we=q.center:ue.isHorizontal?we=te==="start"?q.top:q.bottom:we=te==="start"?q.left:q.right,[ue,we]},Fe.create=function(Qe,$e){var Te={arrow:$e.arrowOffset,container:$e.containerOffset,trigger:$e.triggerOffset};function te(ue){ue===void 0&&(ue=$e.placement);var we=Fe.getSidesFromPlacementType(ue),me=we[0],Ee=we[1],he=G[me.isHorizontal?$e.preferY:$e.preferX],xe=!me.isHorizontal&&Qe.triggerHasBiggerWidth||me.isHorizontal&&Qe.triggerHasBiggerHeight;function Ve(Ie,ze){return new ne(Ie,ze,Qe,$e.layerDimensions,Te)}var Pe=[];return Pe[0]=Ve(me,Ee),Pe[1]=Ve(me,Ee.isCenter?he:q.center),Pe[2]=Ve(me,q[(Ee.opposite.isCenter?he.opposite:Ee.opposite).prop]),Pe[3]=Ve(he,xe?me:q[me.opposite.prop]),Pe[4]=Ve(he,q.center),Pe[5]=Ve(he,xe?q[me.opposite.prop]:me),Pe[6]=Ve(G[he.opposite.prop],xe?me:q[me.opposite.prop]),Pe[7]=Ve(G[he.opposite.prop],q.center),Pe[8]=Ve(G[he.opposite.prop],xe?q[me.opposite.prop]:me),Pe[9]=Ve(G[me.opposite.prop],Ee),Pe[10]=Ve(G[me.opposite.prop],Ee.isCenter?he:q.center),Pe[11]=Ve(G[me.opposite.prop],q[(Ee.opposite.isCenter?he.opposite:Ee.opposite).prop]),Pe=Pe.filter(function(Ie){return Ie.type===$e.placement||$e.possiblePlacements.includes(Ie.type)}),Pe}return $e.placement==="center"?new Fe([new ie(q.center,q.center,Qe,$e.layerDimensions,Te)].concat(te($e.preferY+"-"+$e.preferX)),$e,Qe):new Fe(te(),$e,Qe)};var Ke=Fe.prototype;return Ke.filterPlacementsBySide=function(Qe){return this.placements.filter(function($e){return $e.primary===Qe})},Ke.findFirstPlacementThatFits=function(){return this.placements.find(function(Qe){return Qe.fitsContainer})},Ke.placementWithBiggestVisibleSurface=function(){var Qe=this.placements.map(function(Te){return{placement:Te,surface:Te.visibleSurface}}).sort(function(Te,te){return te.surface-Te.surface}),$e=Qe[0].placement;return $e},Ke.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},Ke.getSecondaryOffset=function(Qe){var $e=this.config,Te=$e.auto,te=$e.snap;if(!Te||te||Qe instanceof ie)return 0;var ue=this.filterPlacementsBySide(Qe.primary),we=ue.indexOf(Qe)===0;if(we&&Qe.fitsContainer)return 0;var me=ue.find(function(Ie){return!Ie.fitsContainer});if(!me)return 0;var Ee=me.secondaryOffsetSide;if(!Ee)return 0;var he=Qe.getContainerOffsets(),xe=Qe.secondary,Ve;Qe.triggerIsBigger||me===Qe?Ve=Ee.isPush?-1:1:Ve=xe===q.left||[q.top,q.center].includes(xe)&&Ee.isPush?-1:1;var Pe=he[Ee.prop];return Pe*Ve},Ke.getStyles=function(Qe,$e,Te,te){var ue={willChange:"top, left, width, height"},we=ae(this.subjectsBounds.merge({layer:Qe}),$e,this.config.arrowOffset),me=this.config.overflowContainer?c({},ue,{position:"fixed",top:Qe.top,left:Qe.left}):c({},ue,{position:"absolute",top:Qe.top-this.subjectsBounds.parent.top+Te.top-te.top,left:Qe.left-this.subjectsBounds.parent.left+Te.left-te.left});return{arrow:we,layer:me}},Ke.getHasDisappeared=function(Qe){var $e=this.config.overflowContainer?this.subjectsBounds.trigger:Qe,Te=ee.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers($e,!0)),te=Object.entries(Te.negativeSides),ue=te.some(function(we){var me=we[0],Ee=we[1],he=G[me];return Ee<=-$e[he.sizeProp]});return ue?"full":Te.allSidesArePositive?null:"partial"},Ke.result=function(Qe,$e){var Te=this.findSuitablePlacement(),te=this.getSecondaryOffset(Te),ue=Te.getLayerBounds(te),we=this.getStyles(ue,Te,Qe,$e),me=Te.primary.prop;return{styles:we,layerSide:me,placement:Te,layerBounds:ue,hasDisappeared:this.getHasDisappeared(ue)}},Fe}(),fe=function(){function Fe(et,Qe){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=Qe,Object.assign(this,et)}Fe.create=function(Qe,$e,Te,te,ue,we,me,Ee){var he=Z.fromWindow(Qe);return new Fe({layer:Z.fromElement($e,{environment:Qe,withTransform:!1}),trigger:Ee?Z.create(J(Ee())):Z.fromElement(Te),arrow:ue?Z.fromElement(ue):Z.empty(),parent:te?Z.fromElement(te):he,window:he,scrollContainers:[he].concat(we.map(function(xe){return Z.fromElement(xe,{withScrollbars:!1})}))},me)};var Ke=Fe.prototype;return Ke.merge=function(Qe){return new Fe(c({},this,Qe),this.overflowContainer)},Ke.offsetsToScrollContainers=function(Qe,$e){$e===void 0&&($e=!1);var Te=this.overflowContainer&&!$e?[this.window]:this.scrollContainers;return Te.map(function(te){return te.offsetsTo(Qe)})},i(Fe,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),Fe}(),le=null;function Ae(Fe){typeof document!="undefined"&&(typeof Fe=="function"?le=Fe():typeof Fe=="string"?le=document.getElementById(Fe):le=Fe)}var De={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:W,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function je(Fe){var Ke,et=Fe.isOpen,Qe=et===void 0?!1:et,$e=Fe.overflowContainer,Te=$e===void 0?De.overflowContainer:$e,te=Fe.environment,ue=te===void 0?typeof window!="undefined"?window:void 0:te,we=Fe.ResizeObserver,me=Fe.placement,Ee=me===void 0?De.placement:me,he=Fe.possiblePlacements,xe=he===void 0?De.possiblePlacements:he,Ve=Fe.preferX,Pe=Ve===void 0?De.preferX:Ve,Ie=Fe.preferY,ze=Ie===void 0?De.preferY:Ie,tt=Fe.auto,Le=tt===void 0?De.auto:tt,It=Fe.snap,on=It===void 0?De.snap:It,zt=Fe.triggerOffset,$t=zt===void 0?De.triggerOffset:zt,Bt=Fe.containerOffset,xn=Bt===void 0?De.containerOffset:Bt,Hn=Fe.arrowOffset,ir=Hn===void 0?De.arrowOffset:Hn,Vn=Fe.container,_t=Vn===void 0?De.container:Vn,ut=Fe.layerDimensions,Ce=ut===void 0?null:ut,be=Fe.onDisappear,We=Fe.onOutsideClick,qe=Fe.onParentClose,Et=Fe.trigger,en=(0,t.useState)(function(){return{layerSide:Ee==="center"?"center":se.getSidesFromPlacementType(Ee)[0].prop,styles:{layer:{position:Te?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),In=en[0],qn=en[1],cr=(0,t.useRef)(null),pr=o(In,Qe),wr=(0,t.useRef)({cancelled:!1});(0,t.useEffect)(function(){return function(){wr.current.cancelled=!0}},[]);var Vr=(0,t.useCallback)(function(Jt,pn,An){var Fn=Jt.arrow,Un=Jt.layer,Gt=Jt.scrollContainers,Zt=Jt.trigger,_n=Gt[0],Qn=fe.create(ue,Un,Zt,_n,Fn,Gt,Te,Et==null?void 0:Et.getBounds),At={placement:Ee,possiblePlacements:xe,auto:Le,layerDimensions:Ce,arrowOffset:ir,containerOffset:xn,triggerOffset:$t,preferX:Pe,preferY:ze,snap:on,overflowContainer:Te},fn=se.create(Qn,At).result(pn,An),gn=fn.hasDisappeared,Mn=fn.layerSide,Wn=fn.styles,rr={layerSide:Mn,styles:Wn};if(!pr.current||Je(pr.current,rr)){pr.current=rr,wr.current.cancelled=!0;var Zn={cancelled:!1};wr.current=Zn,Promise.resolve().then(function(){Zn.cancelled||qn(rr)})}x(gn)&&x(be)&&be(gn)},[ir,Le,xn,ue,Ce,be,Te,Ee,xe,Pe,ze,on,$t,pr,Et]),On=R({ResizeObserverPolyfill:we,environment:ue,enabled:Qe,overflowContainer:Te,onChange:Vr,triggerOption:Et}),pt=On.triggerRef,hn=On.layerRef,Dn=On.arrowRef,Gn=On.closestScrollContainer,Kt=V({isOpen:Qe,onOutsideClick:We,onParentClose:qe}),wt=Kt.closeOnOutsideClickRefs,Lt=Kt.registrations,mt={triggerProps:Et?{}:{ref:D(pt,wt.trigger,cr)},layerProps:{ref:D(hn,wt.layer),style:In.styles.layer},arrowProps:{ref:Dn,style:In.styles.arrow,layerSide:In.layerSide},layerSide:In.layerSide,triggerBounds:Qe?Et?Et.getBounds():(Ke=cr.current)==null?void 0:Ke.getBoundingClientRect():null,renderLayer:function(Jt){return typeof document!="undefined"?(0,t.createPortal)((0,t.createElement)(N,{registrations:Lt,children:Jt}),Te||!Gn?st(_t):Gn):null}};return mt}function Je(Fe,Ke){if(Fe.layerSide!==Ke.layerSide)return!0;for(var et=["position","top","left","right","bottom"],Qe=0,$e=et;Qe<$e.length;Qe++){var Te=$e[Qe];if(Fe.styles.layer[Te]!==Ke.styles.layer[Te]||Fe.styles.arrow[Te]!==Ke.styles.arrow[Te])return!0}return!1}var Be="layers";function st(Fe){var Ke;if(typeof Fe=="function"){if(Ke=Fe(),!Ke||!(Ke instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(Fe instanceof HTMLElement)Ke=Fe;else if(typeof Fe=="string"){if(Ke=document.getElementById(Fe),!Ke)throw new Error("react-laag: You've passed element with id '"+Fe+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(le instanceof HTMLElement)return le;Ke=document.getElementById(Be),Ke||(Ke=document.createElement("div"),Ke.id=Be,Ke.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(Ke))}return Ke}var ht=null,gt="left",Xe="top",Re="bottom",Ne="right";function ke(Fe,Ke){return Math.tan(Fe*(Math.PI/180))*Ke}function ot(Fe,Ke,et,Qe){var $e,Te=($e={},$e[Re]="0 "+-Qe+" "+Ke+" "+Fe,$e[Xe]="0 0 "+Ke+" "+(Fe+Qe),$e[Ne]=-Qe+" 0 "+Fe+" "+Ke,$e[gt]="0 0 "+(Fe+Qe)+" "+Ke,$e);return Te[et.prop]}function Dt(Fe,Ke,et,Qe,$e){var Te,te,ue,we=Qe/10*Fe*2,me=(Te={},Te[Re]=[0,Fe],Te[Xe]=[0,0],Te[Ne]=[Fe,Ke],Te[gt]=[0,Ke],Te)[et.prop].join(" "),Ee=et.isHorizontal?"V 0":"H "+Ke,he=Ke/2,xe=Ke/2+ke($e,Fe/8),Ve=Fe/8,Pe=(te={},te[Re]=["C",xe,Ve,he+we,0,he,0],te[Xe]=["C",xe,Fe-Ve,he+we,Fe,he,Fe],te[Ne]=["C",Ve,Ke-xe,0,he-we,0,he],te[gt]=["C",Fe-Ve,Ke-xe,Fe,he-we,Fe,he],te)[et.prop].join(" "),Ie=Ke/2-ke($e,Fe/8),ze=Fe/8,tt=(ue={},ue[Re]=["C",he-we,0,Ie,ze,me],ue[Xe]=["C",he-we,Fe,Ie,Fe-ze,me],ue[Ne]=["C",0,he+we,ze,Ke-Ie,me],ue[gt]=["C",Fe,he+we,Fe-ze,Ke-Ie,me],ue)[et.prop].join(" ");return["M",me,Ee,Pe,tt].join(" ")}function ln(Fe,Ke,et,Qe,$e){var Te=ke($e,et),te=Qe.isPush?[0,et]:[Fe,Fe-et],ue=te[0],we=te[1];return Qe.isHorizontal?["M",ue,et,"V",Ke-et,"L",we,Ke-et-Te,"V",Te+et,"Z"].join(" "):["M",et,ue,"H",Ke-et,"L",Ke-et-Te,we,"H",Te+et,"Z"].join(" ")}var ct=null,Oe;(function(Fe){Fe[Fe.ENTERING=0]="ENTERING",Fe[Fe.LEAVING=1]="LEAVING",Fe[Fe.IDLE=2]="IDLE"})(Oe||(Oe={}));function Se(Fe){var Ke=Fe===void 0?{}:Fe,et=Ke.delayEnter,Qe=et===void 0?0:et,$e=Ke.delayLeave,Te=$e===void 0?0:$e,te=Ke.hideOnScroll,ue=te===void 0?!0:te,we=(0,t.useState)(!1),me=we[0],Ee=we[1],he=(0,t.useRef)(null),xe=(0,t.useRef)(Oe.IDLE),Ve=(0,t.useRef)(!1),Pe=(0,t.useCallback)(function(){clearTimeout(he.current),he.current=null,xe.current=Oe.IDLE},[]);function Ie(){xe.current===Oe.LEAVING&&he.current&&Pe(),!me&&(xe.current=Oe.ENTERING,he.current=window.setTimeout(function(){Ee(!0),he.current=null,xe.current=Oe.IDLE},Qe))}function ze(Le,It){if(xe.current===Oe.ENTERING&&he.current&&Pe(),!!me){if(It){Ee(!1),he.current=null,xe.current=Oe.IDLE;return}xe.current=Oe.LEAVING,he.current=window.setTimeout(function(){Ee(!1),he.current=null,xe.current=Oe.IDLE},Te)}}(0,t.useEffect)(function(){function Le(){me&&ue&&(Pe(),Ee(!1))}return window.addEventListener("scroll",Le,!0),function(){window.removeEventListener("scroll",Le,!0),he.current&&clearTimeout(he.current)}},[me,ue,Pe]);var tt={onMouseEnter:Ie,onMouseLeave:ze,onTouchStart:function(){Ve.current=!1},onTouchMove:function(){Ve.current=!0},onTouchEnd:function(){!Ve.current&&!me&&Ee(!0),Ve.current=!1}};return[me,tt,function(){return ze(null,!0)}]}function Ze(Fe){var Ke=Fe.isOpen,et=Fe.children,Qe=useState({isOpenInternal:Ke,isLeaving:!1}),$e=Qe[0],Te=Qe[1],te=useRef(!1);return useEffect(function(){Ke?Te({isOpenInternal:!0,isLeaving:!1}):te.current&&Te({isOpenInternal:!1,isLeaving:!0})},[Ke,Te]),useEffect(function(){},[et]),useEffect(function(){te.current=!0},[]),!Ke&&!$e.isOpenInternal&&!$e.isLeaving?null:et($e.isOpenInternal,function(){$e.isOpenInternal||Te(function(ue){return c({},ue,{isLeaving:!1})})},$e.isLeaving)}},1852:function(K,f,e){(function(t,a){K.exports=a(e(98661))})(typeof self!="undefined"?self:this,function(t){return function(a){function i(p){if(c[p])return c[p].exports;var l=c[p]={i:p,l:!1,exports:{}};return a[p].call(l.exports,l,l.exports,i),l.l=!0,l.exports}var c={};return i.m=a,i.c=c,i.d=function(p,l,v){i.o(p,l)||Object.defineProperty(p,l,{configurable:!1,enumerable:!0,get:v})},i.n=function(p){var l=p&&p.__esModule?function(){return p.default}:function(){return p};return i.d(l,"a",l),l},i.o=function(p,l){return Object.prototype.hasOwnProperty.call(p,l)},i.p="",i(i.s=7)}([function(a,i,c){"use strict";function p(U,V){return E(U)||g(U,V)||v(U,V)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(U,V){if(U){if(typeof U=="string")return _(U,V);var W=Object.prototype.toString.call(U).slice(8,-1);return W==="Object"&&U.constructor&&(W=U.constructor.name),W==="Map"||W==="Set"?Array.from(U):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?_(U,V):void 0}}function _(U,V){(V==null||V>U.length)&&(V=U.length);for(var W=0,L=new Array(V);W<V;W++)L[W]=U[W];return L}function g(U,V){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(U)){var W=[],L=!0,k=!1,H=void 0;try{for(var G,q=U[Symbol.iterator]();!(L=(G=q.next()).done)&&(W.push(G.value),!V||W.length!==V);L=!0);}catch(z){k=!0,H=z}finally{try{L||q.return==null||q.return()}finally{if(k)throw H}}return W}}function E(U){if(Array.isArray(U))return U}var S=c(1),O=c.n(S),A=c(8),u=c.n(A),o=c(2),s=c(10),w=c.n(s),P=c(3),C=c(6),x=function(U){return U.query||Object(P.a)(U)},D=function(U){if(!U)return null;var V=Object.keys(U);return V.length===0?null:V.reduce(function(W,L){return W[Object(o.a)(L)]=U[L],W},{})},y=function(){var U=O.a.useRef(!1);return O.a.useEffect(function(){U.current=!0},[]),U.current},M=function(U){var V=O.a.useContext(C.a),W=function(){return D(U)||D(V)},L=O.a.useState(W),k=p(L,2),H=k[0],G=k[1];return O.a.useEffect(function(){var q=W();w()(H,q)||G(q)},[U,V]),H},T=function(U){var V=function(){return x(U)},W=O.a.useState(V),L=p(W,2),k=L[0],H=L[1];return O.a.useEffect(function(){var G=V();k!==G&&H(G)},[U]),k},R=function(U,V){var W=function(){return u()(U,V||{},!!V)},L=O.a.useState(W),k=p(L,2),H=k[0],G=k[1],q=y();return O.a.useEffect(function(){return q&&G(W()),function(){H.dispose()}},[U,V]),H},F=function(U){var V=O.a.useState(U.matches),W=p(V,2),L=W[0],k=W[1];return O.a.useEffect(function(){var H=function(){k(U.matches)};return U.addListener(H),H(),function(){U.removeListener(H)}},[U]),L},N=function(U,V,W){var L=M(V),k=T(U);if(!k)throw new Error("Invalid or missing MediaQuery!");var H=R(k,L),G=F(H),q=y();return O.a.useEffect(function(){q&&W&&W(G)},[G]),G};i.a=N},function(a,i){a.exports=t},function(a,i,c){"use strict";function p(E){return"-"+E.toLowerCase()}function l(E){if(g.hasOwnProperty(E))return g[E];var S=E.replace(v,p);return g[E]=_.test(S)?"-"+S:S}var v=/[A-Z]/g,_=/^ms-/,g={};i.a=l},function(a,i,c){"use strict";var p=c(2),l=c(11),v=function(S){return"not ".concat(S)},_=function(S,O){var A=Object(p.a)(S);return typeof O=="number"&&(O="".concat(O,"px")),O===!0?A:O===!1?v(A):"(".concat(A,": ").concat(O,")")},g=function(S){return S.join(" and ")},E=function(S){var O=[];return Object.keys(l.a.all).forEach(function(A){var u=S[A];u!=null&&O.push(_(A,u))}),g(O)};i.a=E},function(a,i,c){"use strict";a.exports=c(13)},function(a,i,c){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(a,i,c){"use strict";var p=c(1),l=c.n(p),v=l.a.createContext();i.a=v},function(a,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var p=c(0),l=c(17),v=c(3),_=c(6);c.d(i,"default",function(){return l.a}),c.d(i,"useMediaQuery",function(){return p.a}),c.d(i,"toQuery",function(){return v.a}),c.d(i,"Context",function(){return _.a})},function(a,i,c){"use strict";function p(g,E,S){function O(P){w&&w.addListener(P)}function A(P){w&&w.removeListener(P)}function u(P){s.matches=P.matches,s.media=P.media}function o(){w&&w.removeListener(u)}var s=this;if(_&&!S){var w=_.call(window,g);this.matches=w.matches,this.media=w.media,w.addListener(u)}else this.matches=v(g,E),this.media=g;this.addListener=O,this.removeListener=A,this.dispose=o}function l(g,E,S){return new p(g,E,S)}var v=c(9).match,_=typeof window!="undefined"?window.matchMedia:null;a.exports=l},function(a,i,c){"use strict";function p(o,s){return l(o).some(function(w){var P=w.inverse,C=w.type==="all"||s.type===w.type;if(C&&P||!C&&!P)return!1;var x=w.expressions.every(function(D){var y=D.feature,M=D.modifier,T=D.value,R=s[y];if(!R)return!1;switch(y){case"orientation":case"scan":return R.toLowerCase()===T.toLowerCase();case"width":case"height":case"device-width":case"device-height":T=g(T),R=g(R);break;case"resolution":T=_(T),R=_(R);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":T=v(T),R=v(R);break;case"grid":case"color":case"color-index":case"monochrome":T=parseInt(T,10)||1,R=parseInt(R,10)||0}switch(M){case"min":return R>=T;case"max":return R<=T;default:return R===T}});return x&&!P||!x&&P})}function l(o){return o.split(",").map(function(s){s=s.trim();var w=s.match(E),P=w[1],C=w[2],x=w[3]||"",D={};return D.inverse=!!P&&P.toLowerCase()==="not",D.type=C?C.toLowerCase():"all",x=x.match(/\([^\)]+\)/g)||[],D.expressions=x.map(function(y){var M=y.match(S),T=M[1].toLowerCase().match(O);return{modifier:T[1],feature:T[2],value:M[2]}}),D})}function v(o){var s,w=Number(o);return w||(s=o.match(/^(\d+)\s*\/\s*(\d+)$/),w=s[1]/s[2]),w}function _(o){var s=parseFloat(o);switch(String(o).match(u)[1]){case"dpcm":return s/2.54;case"dppx":return 96*s;default:return s}}function g(o){var s=parseFloat(o);switch(String(o).match(A)[1]){case"em":case"rem":return 16*s;case"cm":return 96*s/2.54;case"mm":return 96*s/2.54/10;case"in":return 96*s;case"pt":return 72*s;case"pc":return 72*s/12;default:return s}}i.match=p,i.parse=l;var E=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,S=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,O=/^(?:(min|max)-)?(.+)/,A=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/},function(a,i,c){"use strict";function p(l,v){if(l===v)return!0;if(!l||!v)return!1;var _=Object.keys(l),g=Object.keys(v),E=_.length;if(g.length!==E)return!1;for(var S=0;S<E;S++){var O=_[S];if(l[O]!==v[O]||!Object.prototype.hasOwnProperty.call(v,O))return!1}return!0}a.exports=p},function(a,i,c){"use strict";function p(o,s){var w=Object.keys(o);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(o);s&&(P=P.filter(function(C){return Object.getOwnPropertyDescriptor(o,C).enumerable})),w.push.apply(w,P)}return w}function l(o){for(var s=1;s<arguments.length;s++){var w=arguments[s]!=null?arguments[s]:{};s%2?p(Object(w),!0).forEach(function(P){v(o,P,w[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(w)):p(Object(w)).forEach(function(P){Object.defineProperty(o,P,Object.getOwnPropertyDescriptor(w,P))})}return o}function v(o,s,w){return s in o?Object.defineProperty(o,s,{value:w,enumerable:!0,configurable:!0,writable:!0}):o[s]=w,o}var _=c(12),g=c.n(_),E=g.a.oneOfType([g.a.string,g.a.number]),S={orientation:g.a.oneOf(["portrait","landscape"]),scan:g.a.oneOf(["progressive","interlace"]),aspectRatio:g.a.string,deviceAspectRatio:g.a.string,height:E,deviceHeight:E,width:E,deviceWidth:E,color:g.a.bool,colorIndex:g.a.bool,monochrome:g.a.bool,resolution:E},O=l({minAspectRatio:g.a.string,maxAspectRatio:g.a.string,minDeviceAspectRatio:g.a.string,maxDeviceAspectRatio:g.a.string,minHeight:E,maxHeight:E,minDeviceHeight:E,maxDeviceHeight:E,minWidth:E,maxWidth:E,minDeviceWidth:E,maxDeviceWidth:E,minColor:g.a.number,maxColor:g.a.number,minColorIndex:g.a.number,maxColorIndex:g.a.number,minMonochrome:g.a.number,maxMonochrome:g.a.number,minResolution:E,maxResolution:E},S),A={all:g.a.bool,grid:g.a.bool,aural:g.a.bool,braille:g.a.bool,handheld:g.a.bool,print:g.a.bool,projection:g.a.bool,screen:g.a.bool,tty:g.a.bool,tv:g.a.bool,embossed:g.a.bool},u=l(l({},A),O);S.type=Object.keys(A),i.a={all:u,types:A,matchers:S,features:O}},function(a,i,c){var p=c(4);a.exports=c(14)(p.isElement,!0)},function(a,i,c){"use strict";(function(){function p(Je){return typeof Je=="string"||typeof Je=="function"||Je===M||Je===V||Je===R||Je===T||Je===L||Je===k||typeof Je=="object"&&Je!==null&&(Je.$$typeof===G||Je.$$typeof===H||Je.$$typeof===F||Je.$$typeof===N||Je.$$typeof===W||Je.$$typeof===z||Je.$$typeof===ee||Je.$$typeof===$||Je.$$typeof===q)}function l(Je){if(typeof Je=="object"&&Je!==null){var Be=Je.$$typeof;switch(Be){case D:var st=Je.type;switch(st){case U:case V:case M:case R:case T:case L:return st;default:var ht=st&&st.$$typeof;switch(ht){case N:case W:case G:case H:case F:return ht;default:return Be}}case y:return Be}}}function v(Je){return je||(je=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),_(Je)||l(Je)===U}function _(Je){return l(Je)===V}function g(Je){return l(Je)===N}function E(Je){return l(Je)===F}function S(Je){return typeof Je=="object"&&Je!==null&&Je.$$typeof===D}function O(Je){return l(Je)===W}function A(Je){return l(Je)===M}function u(Je){return l(Je)===G}function o(Je){return l(Je)===H}function s(Je){return l(Je)===y}function w(Je){return l(Je)===R}function P(Je){return l(Je)===T}function C(Je){return l(Je)===L}var x=typeof Symbol=="function"&&Symbol.for,D=x?Symbol.for("react.element"):60103,y=x?Symbol.for("react.portal"):60106,M=x?Symbol.for("react.fragment"):60107,T=x?Symbol.for("react.strict_mode"):60108,R=x?Symbol.for("react.profiler"):60114,F=x?Symbol.for("react.provider"):60109,N=x?Symbol.for("react.context"):60110,U=x?Symbol.for("react.async_mode"):60111,V=x?Symbol.for("react.concurrent_mode"):60111,W=x?Symbol.for("react.forward_ref"):60112,L=x?Symbol.for("react.suspense"):60113,k=x?Symbol.for("react.suspense_list"):60120,H=x?Symbol.for("react.memo"):60115,G=x?Symbol.for("react.lazy"):60116,q=x?Symbol.for("react.block"):60121,z=x?Symbol.for("react.fundamental"):60117,ee=x?Symbol.for("react.responder"):60118,$=x?Symbol.for("react.scope"):60119,J=U,j=V,Z=N,ne=F,ie=D,oe=W,re=M,ae=G,se=H,fe=y,le=R,Ae=T,De=L,je=!1;i.AsyncMode=J,i.ConcurrentMode=j,i.ContextConsumer=Z,i.ContextProvider=ne,i.Element=ie,i.ForwardRef=oe,i.Fragment=re,i.Lazy=ae,i.Memo=se,i.Portal=fe,i.Profiler=le,i.StrictMode=Ae,i.Suspense=De,i.isAsyncMode=v,i.isConcurrentMode=_,i.isContextConsumer=g,i.isContextProvider=E,i.isElement=S,i.isForwardRef=O,i.isFragment=A,i.isLazy=u,i.isMemo=o,i.isPortal=s,i.isProfiler=w,i.isStrictMode=P,i.isSuspense=C,i.isValidElementType=p,i.typeOf=l})()},function(a,i,c){"use strict";function p(){return null}var l=c(4),v=c(15),_=c(5),g=c(16),E=Function.call.bind(Object.prototype.hasOwnProperty),S=function(){};S=function(O){var A="Warning: "+O;typeof console!="undefined"&&console.error(A);try{throw new Error(A)}catch(u){}},a.exports=function(O,A){function u(z){var ee=z&&(k&&z[k]||z[H]);if(typeof ee=="function")return ee}function o(z,ee){return z===ee?z!==0||1/z==1/ee:z!==z&&ee!==ee}function s(z){this.message=z,this.stack=""}function w(z){function ee(Z,ne,ie,oe,re,ae,se){if(oe=oe||G,ae=ae||ie,se!==_){if(A){var fe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw fe.name="Invariant Violation",fe}if(typeof console!="undefined"){var le=oe+":"+ie;!$[le]&&J<3&&(S("You are manually calling a React.PropTypes validation function for the `"+ae+"` prop on `"+oe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),$[le]=!0,J++)}}return ne[ie]==null?Z?new s(ne[ie]===null?"The "+re+" `"+ae+"` is marked as required in `"+oe+"`, but its value is `null`.":"The "+re+" `"+ae+"` is marked as required in `"+oe+"`, but its value is `undefined`."):null:z(ne,ie,oe,re,ae)}var $={},J=0,j=ee.bind(null,!1);return j.isRequired=ee.bind(null,!0),j}function P(z){function ee($,J,j,Z,ne,ie){var oe=$[J];return U(oe)!==z?new s("Invalid "+Z+" `"+ne+"` of type `"+V(oe)+"` supplied to `"+j+"`, expected `"+z+"`."):null}return w(ee)}function C(z){function ee($,J,j,Z,ne){if(typeof z!="function")return new s("Property `"+ne+"` of component `"+j+"` has invalid PropType notation inside arrayOf.");var ie=$[J];if(!Array.isArray(ie))return new s("Invalid "+Z+" `"+ne+"` of type `"+U(ie)+"` supplied to `"+j+"`, expected an array.");for(var oe=0;oe<ie.length;oe++){var re=z(ie,oe,j,Z,ne+"["+oe+"]",_);if(re instanceof Error)return re}return null}return w(ee)}function x(z){function ee($,J,j,Z,ne){if(!($[J]instanceof z)){var ie=z.name||G;return new s("Invalid "+Z+" `"+ne+"` of type `"+L($[J])+"` supplied to `"+j+"`, expected instance of `"+ie+"`.")}return null}return w(ee)}function D(z){function ee($,J,j,Z,ne){for(var ie=$[J],oe=0;oe<z.length;oe++)if(o(ie,z[oe]))return null;var re=JSON.stringify(z,function(ae,se){return V(se)==="symbol"?String(se):se});return new s("Invalid "+Z+" `"+ne+"` of value `"+String(ie)+"` supplied to `"+j+"`, expected one of "+re+".")}return Array.isArray(z)?w(ee):(S(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),p)}function y(z){function ee($,J,j,Z,ne){if(typeof z!="function")return new s("Property `"+ne+"` of component `"+j+"` has invalid PropType notation inside objectOf.");var ie=$[J],oe=U(ie);if(oe!=="object")return new s("Invalid "+Z+" `"+ne+"` of type `"+oe+"` supplied to `"+j+"`, expected an object.");for(var re in ie)if(E(ie,re)){var ae=z(ie,re,j,Z,ne+"."+re,_);if(ae instanceof Error)return ae}return null}return w(ee)}function M(z){function ee(j,Z,ne,ie,oe){for(var re=0;re<z.length;re++)if((0,z[re])(j,Z,ne,ie,oe,_)==null)return null;return new s("Invalid "+ie+" `"+oe+"` supplied to `"+ne+"`.")}if(!Array.isArray(z))return S("Invalid argument supplied to oneOfType, expected an instance of array."),p;for(var $=0;$<z.length;$++){var J=z[$];if(typeof J!="function")return S("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+W(J)+" at index "+$+"."),p}return w(ee)}function T(z){function ee($,J,j,Z,ne){var ie=$[J],oe=U(ie);if(oe!=="object")return new s("Invalid "+Z+" `"+ne+"` of type `"+oe+"` supplied to `"+j+"`, expected `object`.");for(var re in z){var ae=z[re];if(ae){var se=ae(ie,re,j,Z,ne+"."+re,_);if(se)return se}}return null}return w(ee)}function R(z){function ee($,J,j,Z,ne){var ie=$[J],oe=U(ie);if(oe!=="object")return new s("Invalid "+Z+" `"+ne+"` of type `"+oe+"` supplied to `"+j+"`, expected `object`.");var re=v({},$[J],z);for(var ae in re){var se=z[ae];if(!se)return new s("Invalid "+Z+" `"+ne+"` key `"+ae+"` supplied to `"+j+"`.\nBad object: "+JSON.stringify($[J],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(z),null,"  "));var fe=se(ie,ae,j,Z,ne+"."+ae,_);if(fe)return fe}return null}return w(ee)}function F(z){switch(typeof z){case"number":case"string":case"undefined":return!0;case"boolean":return!z;case"object":if(Array.isArray(z))return z.every(F);if(z===null||O(z))return!0;var ee=u(z);if(!ee)return!1;var $,J=ee.call(z);if(ee!==z.entries){for(;!($=J.next()).done;)if(!F($.value))return!1}else for(;!($=J.next()).done;){var j=$.value;if(j&&!F(j[1]))return!1}return!0;default:return!1}}function N(z,ee){return z==="symbol"||!!ee&&(ee["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ee instanceof Symbol)}function U(z){var ee=typeof z;return Array.isArray(z)?"array":z instanceof RegExp?"object":N(ee,z)?"symbol":ee}function V(z){if(z==null)return""+z;var ee=U(z);if(ee==="object"){if(z instanceof Date)return"date";if(z instanceof RegExp)return"regexp"}return ee}function W(z){var ee=V(z);switch(ee){case"array":case"object":return"an "+ee;case"boolean":case"date":case"regexp":return"a "+ee;default:return ee}}function L(z){return z.constructor&&z.constructor.name?z.constructor.name:G}var k=typeof Symbol=="function"&&Symbol.iterator,H="@@iterator",G="<<anonymous>>",q={array:P("array"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:function(){return w(p)}(),arrayOf:C,element:function(){function z(ee,$,J,j,Z){var ne=ee[$];return O(ne)?null:new s("Invalid "+j+" `"+Z+"` of type `"+U(ne)+"` supplied to `"+J+"`, expected a single ReactElement.")}return w(z)}(),elementType:function(){function z(ee,$,J,j,Z){var ne=ee[$];return l.isValidElementType(ne)?null:new s("Invalid "+j+" `"+Z+"` of type `"+U(ne)+"` supplied to `"+J+"`, expected a single ReactElement type.")}return w(z)}(),instanceOf:x,node:function(){function z(ee,$,J,j,Z){return F(ee[$])?null:new s("Invalid "+j+" `"+Z+"` supplied to `"+J+"`, expected a ReactNode.")}return w(z)}(),objectOf:y,oneOf:D,oneOfType:M,shape:T,exact:R};return s.prototype=Error.prototype,q.checkPropTypes=g,q.resetWarningCache=g.resetWarningCache,q.PropTypes=q,q}},function(a,i,c){"use strict";function p(g){if(g==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var E={},S=0;S<10;S++)E["_"+String.fromCharCode(S)]=S;if(Object.getOwnPropertyNames(E).map(function(A){return E[A]}).join("")!=="0123456789")return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(A){O[A]=A}),Object.keys(Object.assign({},O)).join("")==="abcdefghijklmnopqrst"}catch(A){return!1}}()?Object.assign:function(g,E){for(var S,O,A=p(g),u=1;u<arguments.length;u++){S=Object(arguments[u]);for(var o in S)v.call(S,o)&&(A[o]=S[o]);if(l){O=l(S);for(var s=0;s<O.length;s++)_.call(S,O[s])&&(A[O[s]]=S[O[s]])}}return A}},function(a,i,c){"use strict";function p(E,S,O,A,u){for(var o in E)if(g(E,o)){var s;try{if(typeof E[o]!="function"){var w=Error((A||"React class")+": "+O+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof E[o]+"`.");throw w.name="Invariant Violation",w}s=E[o](S,o,A,O,null,v)}catch(C){s=C}if(!s||s instanceof Error||l((A||"React class")+": type specification of "+O+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof s+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),s instanceof Error&&!(s.message in _)){_[s.message]=!0;var P=u?u():"";l("Failed "+O+" type: "+s.message+(P!=null?P:""))}}}var l=function(){},v=c(5),_={},g=Function.call.bind(Object.prototype.hasOwnProperty);l=function(E){var S="Warning: "+E;typeof console!="undefined"&&console.error(S);try{throw new Error(S)}catch(O){}},p.resetWarningCache=function(){_={}},a.exports=p},function(a,i,c){"use strict";function p(g,E){if(g==null)return{};var S,O,A=l(g,E);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(g);for(O=0;O<u.length;O++)S=u[O],E.indexOf(S)>=0||Object.prototype.propertyIsEnumerable.call(g,S)&&(A[S]=g[S])}return A}function l(g,E){if(g==null)return{};var S,O,A={},u=Object.keys(g);for(O=0;O<u.length;O++)S=u[O],E.indexOf(S)>=0||(A[S]=g[S]);return A}function v(g){var E=g.children,S=g.device,O=g.onChange,A=p(g,["children","device","onChange"]),u=Object(_.a)(A,S,O);return typeof E=="function"?E(u):u?E:null}i.a=v;var _=c(0)}])})},75912:(K,f,e)=>{"use strict";e.d(f,{S:()=>Ve});for(var t=e(45987),a=e(87462),i=e(93324),c=e(89062),p=e(4942),l=e(15671),v=e(43144),_=e(97326),g=e(60136),E=e(82963),S=e(61120),O=e(98661),A=e(30845),u=e(77453),o=e(53569),s=e(93998),w=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],P=new RegExp("["+w.map(function(Pe){return Pe.letters}).join("")+"]","g"),C={},x=0;x<w.length;x++)for(var D=w[x],y=0;y<D.letters.length;y++)C[D.letters[y]]=D.base;var M=function(Ie){return Ie.replace(P,function(ze){return C[ze]})};function T(Pe,Ie){var ze=Object.keys(Pe);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(Pe);Ie&&(tt=tt.filter(function(Le){return Object.getOwnPropertyDescriptor(Pe,Le).enumerable})),ze.push.apply(ze,tt)}return ze}function R(Pe){for(var Ie=1;Ie<arguments.length;Ie++){var ze=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?T(Object(ze),!0).forEach(function(tt){(0,p.Z)(Pe,tt,ze[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(ze)):T(Object(ze)).forEach(function(tt){Object.defineProperty(Pe,tt,Object.getOwnPropertyDescriptor(ze,tt))})}return Pe}var F=function(Ie){return Ie.replace(/^\s+|\s+$/g,"")},N=function(Ie){return"".concat(Ie.label," ").concat(Ie.value)},U=function(Ie){return function(ze,tt){var Le=R({ignoreCase:!0,ignoreAccents:!0,stringify:N,trim:!0,matchFrom:"any"},Ie),It=Le.ignoreCase,on=Le.ignoreAccents,zt=Le.stringify,$t=Le.trim,Bt=Le.matchFrom,xn=$t?F(tt):tt,Hn=$t?F(zt(ze)):zt(ze);return It&&(xn=xn.toLowerCase(),Hn=Hn.toLowerCase()),on&&(xn=M(xn),Hn=M(Hn)),Bt==="start"?Hn.substr(0,xn.length)===xn:Hn.indexOf(xn)>-1}};function V(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var W={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},L=function(Ie){return(0,u.tZ)("span",(0,a.Z)({css:W},Ie))};function k(Pe){var Ie=Pe.in,ze=Pe.out,tt=Pe.onExited,Le=Pe.appear,It=Pe.enter,on=Pe.exit,zt=Pe.innerRef,$t=Pe.emotion,Bt=(0,t.Z)(Pe,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return(0,u.tZ)("input",(0,a.Z)({ref:zt},Bt,{css:(0,s.Z)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function H(Pe){var Ie=G();return function(){var tt=(0,S.Z)(Pe),Le;if(Ie){var It=(0,S.Z)(this).constructor;Le=Reflect.construct(tt,arguments,It)}else Le=tt.apply(this,arguments);return(0,E.Z)(this,Le)}}function G(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Pe){return!1}}var q=function(Pe){(0,g.Z)(ze,Pe);var Ie=H(ze);function ze(){return(0,l.Z)(this,ze),Ie.apply(this,arguments)}return(0,v.Z)(ze,[{key:"componentDidMount",value:function(){this.props.innerRef((0,O.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),ze}(O.Component),z=["boxSizing","height","overflow","paddingRight","position"],ee={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function $(Pe){Pe.preventDefault()}function J(Pe){Pe.stopPropagation()}function j(){var Pe=this.scrollTop,Ie=this.scrollHeight,ze=Pe+this.offsetHeight;Pe===0?this.scrollTop=1:ze===Ie&&(this.scrollTop=Pe-1)}function Z(){return"ontouchstart"in window||navigator.maxTouchPoints}function ne(Pe){var Ie=ie();return function(){var tt=(0,S.Z)(Pe),Le;if(Ie){var It=(0,S.Z)(this).constructor;Le=Reflect.construct(tt,arguments,It)}else Le=tt.apply(this,arguments);return(0,E.Z)(this,Le)}}function ie(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Pe){return!1}}var oe=!!(window.document&&window.document.createElement),re=0,ae=function(Pe){(0,g.Z)(ze,Pe);var Ie=ne(ze);function ze(){var tt;(0,l.Z)(this,ze);for(var Le=arguments.length,It=new Array(Le),on=0;on<Le;on++)It[on]=arguments[on];return tt=Ie.call.apply(Ie,[this].concat(It)),tt.originalStyles={},tt.listenerOptions={capture:!1,passive:!1},tt}return(0,v.Z)(ze,[{key:"componentDidMount",value:function(){var Le=this;if(oe){var It=this.props,on=It.accountForScrollbars,zt=It.touchScrollTarget,$t=document.body,Bt=$t&&$t.style;if(on&&z.forEach(function(Vn){var _t=Bt&&Bt[Vn];Le.originalStyles[Vn]=_t}),on&&re<1){var xn=parseInt(this.originalStyles.paddingRight,10)||0,Hn=document.body?document.body.clientWidth:0,ir=window.innerWidth-Hn+xn||0;Object.keys(ee).forEach(function(Vn){var _t=ee[Vn];Bt&&(Bt[Vn]=_t)}),Bt&&(Bt.paddingRight="".concat(ir,"px"))}$t&&Z()&&($t.addEventListener("touchmove",$,this.listenerOptions),zt&&(zt.addEventListener("touchstart",j,this.listenerOptions),zt.addEventListener("touchmove",J,this.listenerOptions))),re+=1}}},{key:"componentWillUnmount",value:function(){var Le=this;if(oe){var It=this.props,on=It.accountForScrollbars,zt=It.touchScrollTarget,$t=document.body,Bt=$t&&$t.style;re=Math.max(re-1,0),on&&re<1&&z.forEach(function(xn){var Hn=Le.originalStyles[xn];Bt&&(Bt[xn]=Hn)}),$t&&Z()&&($t.removeEventListener("touchmove",$,this.listenerOptions),zt&&(zt.removeEventListener("touchstart",j,this.listenerOptions),zt.removeEventListener("touchmove",J,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),ze}(O.Component);ae.defaultProps={accountForScrollbars:!0};function se(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function fe(Pe){var Ie=le();return function(){var tt=(0,S.Z)(Pe),Le;if(Ie){var It=(0,S.Z)(this).constructor;Le=Reflect.construct(tt,arguments,It)}else Le=tt.apply(this,arguments);return(0,E.Z)(this,Le)}}function le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Pe){return!1}}var Ae={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},De=function(Pe){(0,g.Z)(ze,Pe);var Ie=fe(ze);function ze(){var tt;(0,l.Z)(this,ze);for(var Le=arguments.length,It=new Array(Le),on=0;on<Le;on++)It[on]=arguments[on];return tt=Ie.call.apply(Ie,[this].concat(It)),tt.state={touchScrollTarget:null},tt.getScrollTarget=function(zt){zt!==tt.state.touchScrollTarget&&tt.setState({touchScrollTarget:zt})},tt.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},tt}return(0,v.Z)(ze,[{key:"render",value:function(){var Le=this.props,It=Le.children,on=Le.isEnabled,zt=this.state.touchScrollTarget;return on?(0,u.tZ)("div",null,(0,u.tZ)("div",{onClick:this.blurSelectInput,css:Ae}),(0,u.tZ)(q,{innerRef:this.getScrollTarget},It),zt?(0,u.tZ)(ae,{touchScrollTarget:zt}):null):It}}]),ze}(O.PureComponent);function je(Pe){var Ie=Je();return function(){var tt=(0,S.Z)(Pe),Le;if(Ie){var It=(0,S.Z)(this).constructor;Le=Reflect.construct(tt,arguments,It)}else Le=tt.apply(this,arguments);return(0,E.Z)(this,Le)}}function Je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Pe){return!1}}var Be=function(Pe){(0,g.Z)(ze,Pe);var Ie=je(ze);function ze(){var tt;(0,l.Z)(this,ze);for(var Le=arguments.length,It=new Array(Le),on=0;on<Le;on++)It[on]=arguments[on];return tt=Ie.call.apply(Ie,[this].concat(It)),tt.isBottom=!1,tt.isTop=!1,tt.scrollTarget=void 0,tt.touchStart=void 0,tt.cancelScroll=function(zt){zt.preventDefault(),zt.stopPropagation()},tt.handleEventDelta=function(zt,$t){var Bt=tt.props,xn=Bt.onBottomArrive,Hn=Bt.onBottomLeave,ir=Bt.onTopArrive,Vn=Bt.onTopLeave,_t=tt.scrollTarget,ut=_t.scrollTop,Ce=_t.scrollHeight,be=_t.clientHeight,We=tt.scrollTarget,qe=$t>0,Et=Ce-be-ut,en=!1;Et>$t&&tt.isBottom&&(Hn&&Hn(zt),tt.isBottom=!1),qe&&tt.isTop&&(Vn&&Vn(zt),tt.isTop=!1),qe&&$t>Et?(xn&&!tt.isBottom&&xn(zt),We.scrollTop=Ce,en=!0,tt.isBottom=!0):!qe&&-$t>ut&&(ir&&!tt.isTop&&ir(zt),We.scrollTop=0,en=!0,tt.isTop=!0),en&&tt.cancelScroll(zt)},tt.onWheel=function(zt){tt.handleEventDelta(zt,zt.deltaY)},tt.onTouchStart=function(zt){tt.touchStart=zt.changedTouches[0].clientY},tt.onTouchMove=function(zt){var $t=tt.touchStart-zt.changedTouches[0].clientY;tt.handleEventDelta(zt,$t)},tt.getScrollTarget=function(zt){tt.scrollTarget=zt},tt}return(0,v.Z)(ze,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(Le){Le&&(typeof Le.addEventListener=="function"&&Le.addEventListener("wheel",this.onWheel,!1),typeof Le.addEventListener=="function"&&Le.addEventListener("touchstart",this.onTouchStart,!1),typeof Le.addEventListener=="function"&&Le.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(Le){Le&&(typeof Le.removeEventListener=="function"&&Le.removeEventListener("wheel",this.onWheel,!1),typeof Le.removeEventListener=="function"&&Le.removeEventListener("touchstart",this.onTouchStart,!1),typeof Le.removeEventListener=="function"&&Le.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return O.default.createElement(q,{innerRef:this.getScrollTarget},this.props.children)}}]),ze}(O.Component);function st(Pe){var Ie=Pe.isEnabled,ze=Ie===void 0?!0:Ie,tt=(0,t.Z)(Pe,["isEnabled"]);return ze?O.default.createElement(Be,tt):tt.children}var ht=function(Ie){var ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=ze.isSearchable,Le=ze.isMulti,It=ze.label,on=ze.isDisabled,zt=ze.tabSelectsValue;switch(Ie){case"menu":return"Use Up and Down to choose options".concat(on?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(zt?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(It||"Select"," is focused ").concat(tt?",type to refine list":"",", press Down to open the menu, ").concat(Le?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},gt=function(Ie,ze){var tt=ze.value,Le=ze.isDisabled;if(tt)switch(Ie){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(tt,", deselected.");case"select-option":return Le?"option ".concat(tt," is disabled. Select another option."):"option ".concat(tt,", selected.")}},Xe=function(Ie){var ze=Ie.focusedValue,tt=Ie.getOptionLabel,Le=Ie.selectValue;return"value ".concat(tt(ze)," focused, ").concat(Le.indexOf(ze)+1," of ").concat(Le.length,".")},Re=function(Ie){var ze=Ie.focusedOption,tt=Ie.getOptionLabel,Le=Ie.options;return"option ".concat(tt(ze)," focused").concat(ze.isDisabled?" disabled":"",", ").concat(Le.indexOf(ze)+1," of ").concat(Le.length,".")},Ne=function(Ie){var ze=Ie.inputValue,tt=Ie.screenReaderMessage;return"".concat(tt).concat(ze?" for search term "+ze:"",".")},ke=function(Ie){return Ie.label},ot=function(Ie){return Ie.label},Dt=function(Ie){return Ie.value},ln=function(Ie){return!!Ie.isDisabled};function ct(Pe,Ie){var ze=Object.keys(Pe);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(Pe);Ie&&(tt=tt.filter(function(Le){return Object.getOwnPropertyDescriptor(Pe,Le).enumerable})),ze.push.apply(ze,tt)}return ze}function Oe(Pe){for(var Ie=1;Ie<arguments.length;Ie++){var ze=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?ct(Object(ze),!0).forEach(function(tt){_defineProperty(Pe,tt,ze[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(ze)):ct(Object(ze)).forEach(function(tt){Object.defineProperty(Pe,tt,Object.getOwnPropertyDescriptor(ze,tt))})}return Pe}var Se={clearIndicator:o.c,container:o.a,control:o.b,dropdownIndicator:o.d,group:o.g,groupHeading:o.e,indicatorsContainer:o.i,indicatorSeparator:o.f,input:o.h,loadingIndicator:o.l,loadingMessage:o.j,menu:o.m,menuList:o.k,menuPortal:o.n,multiValue:o.o,multiValueLabel:o.p,multiValueRemove:o.q,noOptionsMessage:o.r,option:o.s,placeholder:o.t,singleValue:o.u,valueContainer:o.v};function Ze(Pe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=Oe({},Pe);return Object.keys(Ie).forEach(function(tt){Pe[tt]?ze[tt]=function(Le,It){return Ie[tt](Pe[tt](Le,It),It)}:ze[tt]=Ie[tt]}),ze}var Fe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Ke=4,et=4,Qe=38,$e=et*2,Te={baseUnit:et,controlHeight:Qe,menuGutter:$e},te={borderRadius:Ke,colors:Fe,spacing:Te};function ue(Pe,Ie){var ze=Object.keys(Pe);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(Pe);Ie&&(tt=tt.filter(function(Le){return Object.getOwnPropertyDescriptor(Pe,Le).enumerable})),ze.push.apply(ze,tt)}return ze}function we(Pe){for(var Ie=1;Ie<arguments.length;Ie++){var ze=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?ue(Object(ze),!0).forEach(function(tt){(0,p.Z)(Pe,tt,ze[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(ze)):ue(Object(ze)).forEach(function(tt){Object.defineProperty(Pe,tt,Object.getOwnPropertyDescriptor(ze,tt))})}return Pe}function me(Pe){var Ie=Ee();return function(){var tt=(0,S.Z)(Pe),Le;if(Ie){var It=(0,S.Z)(this).constructor;Le=Reflect.construct(tt,arguments,It)}else Le=tt.apply(this,arguments);return(0,E.Z)(this,Le)}}function Ee(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Pe){return!1}}var he={backspaceRemovesValue:!0,blurInputOnSelect:(0,o.w)(),captureMenuScroll:!(0,o.w)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:U(),formatGroupLabel:ke,getOptionLabel:ot,getOptionValue:Dt,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ln,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!(0,o.x)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(Ie){var ze=Ie.count;return"".concat(ze," result").concat(ze!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},xe=1,Ve=function(Pe){(0,g.Z)(ze,Pe);var Ie=me(ze);function ze(tt){var Le;(0,l.Z)(this,ze),Le=Ie.call(this,tt),Le.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},Le.blockOptionHover=!1,Le.isComposing=!1,Le.clearFocusValueOnUpdate=!1,Le.commonProps=void 0,Le.components=void 0,Le.hasGroups=!1,Le.initialTouchX=0,Le.initialTouchY=0,Le.inputIsHiddenAfterUpdate=void 0,Le.instancePrefix="",Le.openAfterFocus=!1,Le.scrollToFocusedOptionOnUpdate=!1,Le.userIsDragging=void 0,Le.controlRef=null,Le.getControlRef=function($t){Le.controlRef=$t},Le.focusedOptionRef=null,Le.getFocusedOptionRef=function($t){Le.focusedOptionRef=$t},Le.menuListRef=null,Le.getMenuListRef=function($t){Le.menuListRef=$t},Le.inputRef=null,Le.getInputRef=function($t){Le.inputRef=$t},Le.cacheComponents=function($t){Le.components=(0,o.y)({components:$t})},Le.focus=Le.focusInput,Le.blur=Le.blurInput,Le.onChange=function($t,Bt){var xn=Le.props,Hn=xn.onChange,ir=xn.name;Hn($t,we(we({},Bt),{},{name:ir}))},Le.setValue=function($t){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",xn=arguments.length>2?arguments[2]:void 0,Hn=Le.props,ir=Hn.closeMenuOnSelect,Vn=Hn.isMulti;Le.onInputChange("",{action:"set-value"}),ir&&(Le.inputIsHiddenAfterUpdate=!Vn,Le.onMenuClose()),Le.clearFocusValueOnUpdate=!0,Le.onChange($t,{action:Bt,option:xn})},Le.selectOption=function($t){var Bt=Le.props,xn=Bt.blurInputOnSelect,Hn=Bt.isMulti,ir=Le.state.selectValue;if(Hn)if(Le.isOptionSelected($t,ir)){var Vn=Le.getOptionValue($t);Le.setValue(ir.filter(function(_t){return Le.getOptionValue(_t)!==Vn}),"deselect-option",$t),Le.announceAriaLiveSelection({event:"deselect-option",context:{value:Le.getOptionLabel($t)}})}else Le.isOptionDisabled($t,ir)?Le.announceAriaLiveSelection({event:"select-option",context:{value:Le.getOptionLabel($t),isDisabled:!0}}):(Le.setValue([].concat((0,c.Z)(ir),[$t]),"select-option",$t),Le.announceAriaLiveSelection({event:"select-option",context:{value:Le.getOptionLabel($t)}}));else Le.isOptionDisabled($t,ir)?Le.announceAriaLiveSelection({event:"select-option",context:{value:Le.getOptionLabel($t),isDisabled:!0}}):(Le.setValue($t,"select-option"),Le.announceAriaLiveSelection({event:"select-option",context:{value:Le.getOptionLabel($t)}}));xn&&Le.blurInput()},Le.removeValue=function($t){var Bt=Le.state.selectValue,xn=Le.getOptionValue($t),Hn=Bt.filter(function(ir){return Le.getOptionValue(ir)!==xn});Le.onChange(Hn.length?Hn:null,{action:"remove-value",removedValue:$t}),Le.announceAriaLiveSelection({event:"remove-value",context:{value:$t?Le.getOptionLabel($t):""}}),Le.focusInput()},Le.clearValue=function(){Le.onChange(null,{action:"clear"})},Le.popValue=function(){var $t=Le.state.selectValue,Bt=$t[$t.length-1],xn=$t.slice(0,$t.length-1);Le.announceAriaLiveSelection({event:"pop-value",context:{value:Bt?Le.getOptionLabel(Bt):""}}),Le.onChange(xn.length?xn:null,{action:"pop-value",removedValue:Bt})},Le.getValue=function(){return Le.state.selectValue},Le.cx=function(){for(var $t=arguments.length,Bt=new Array($t),xn=0;xn<$t;xn++)Bt[xn]=arguments[xn];return o.z.apply(void 0,[Le.props.classNamePrefix].concat(Bt))},Le.getOptionLabel=function($t){return Le.props.getOptionLabel($t)},Le.getOptionValue=function($t){return Le.props.getOptionValue($t)},Le.getStyles=function($t,Bt){var xn=Se[$t](Bt);xn.boxSizing="border-box";var Hn=Le.props.styles[$t];return Hn?Hn(xn,Bt):xn},Le.getElementId=function($t){return"".concat(Le.instancePrefix,"-").concat($t)},Le.getActiveDescendentId=function(){var $t=Le.props.menuIsOpen,Bt=Le.state,xn=Bt.menuOptions,Hn=Bt.focusedOption;if(!(!Hn||!$t)){var ir=xn.focusable.indexOf(Hn),Vn=xn.render[ir];return Vn&&Vn.key}},Le.announceAriaLiveSelection=function($t){var Bt=$t.event,xn=$t.context;Le.setState({ariaLiveSelection:gt(Bt,xn)})},Le.announceAriaLiveContext=function($t){var Bt=$t.event,xn=$t.context;Le.setState({ariaLiveContext:ht(Bt,we(we({},xn),{},{label:Le.props["aria-label"]}))})},Le.onMenuMouseDown=function($t){$t.button===0&&($t.stopPropagation(),$t.preventDefault(),Le.focusInput())},Le.onMenuMouseMove=function($t){Le.blockOptionHover=!1},Le.onControlMouseDown=function($t){var Bt=Le.props.openMenuOnClick;Le.state.isFocused?Le.props.menuIsOpen?$t.target.tagName!=="INPUT"&&$t.target.tagName!=="TEXTAREA"&&Le.onMenuClose():Bt&&Le.openMenu("first"):(Bt&&(Le.openAfterFocus=!0),Le.focusInput()),$t.target.tagName!=="INPUT"&&$t.target.tagName!=="TEXTAREA"&&$t.preventDefault()},Le.onDropdownIndicatorMouseDown=function($t){if(!($t&&$t.type==="mousedown"&&$t.button!==0)&&!Le.props.isDisabled){var Bt=Le.props,xn=Bt.isMulti,Hn=Bt.menuIsOpen;Le.focusInput(),Hn?(Le.inputIsHiddenAfterUpdate=!xn,Le.onMenuClose()):Le.openMenu("first"),$t.preventDefault(),$t.stopPropagation()}},Le.onClearIndicatorMouseDown=function($t){$t&&$t.type==="mousedown"&&$t.button!==0||(Le.clearValue(),$t.stopPropagation(),Le.openAfterFocus=!1,$t.type==="touchend"?Le.focusInput():setTimeout(function(){return Le.focusInput()}))},Le.onScroll=function($t){typeof Le.props.closeMenuOnScroll=="boolean"?$t.target instanceof HTMLElement&&(0,o.A)($t.target)&&Le.props.onMenuClose():typeof Le.props.closeMenuOnScroll=="function"&&Le.props.closeMenuOnScroll($t)&&Le.props.onMenuClose()},Le.onCompositionStart=function(){Le.isComposing=!0},Le.onCompositionEnd=function(){Le.isComposing=!1},Le.onTouchStart=function($t){var Bt=$t.touches,xn=Bt&&Bt.item(0);xn&&(Le.initialTouchX=xn.clientX,Le.initialTouchY=xn.clientY,Le.userIsDragging=!1)},Le.onTouchMove=function($t){var Bt=$t.touches,xn=Bt&&Bt.item(0);if(xn){var Hn=Math.abs(xn.clientX-Le.initialTouchX),ir=Math.abs(xn.clientY-Le.initialTouchY),Vn=5;Le.userIsDragging=Hn>Vn||ir>Vn}},Le.onTouchEnd=function($t){Le.userIsDragging||(Le.controlRef&&!Le.controlRef.contains($t.target)&&Le.menuListRef&&!Le.menuListRef.contains($t.target)&&Le.blurInput(),Le.initialTouchX=0,Le.initialTouchY=0)},Le.onControlTouchEnd=function($t){Le.userIsDragging||Le.onControlMouseDown($t)},Le.onClearIndicatorTouchEnd=function($t){Le.userIsDragging||Le.onClearIndicatorMouseDown($t)},Le.onDropdownIndicatorTouchEnd=function($t){Le.userIsDragging||Le.onDropdownIndicatorMouseDown($t)},Le.handleInputChange=function($t){var Bt=$t.currentTarget.value;Le.inputIsHiddenAfterUpdate=!1,Le.onInputChange(Bt,{action:"input-change"}),Le.props.menuIsOpen||Le.onMenuOpen()},Le.onInputFocus=function($t){var Bt=Le.props,xn=Bt.isSearchable,Hn=Bt.isMulti;Le.props.onFocus&&Le.props.onFocus($t),Le.inputIsHiddenAfterUpdate=!1,Le.announceAriaLiveContext({event:"input",context:{isSearchable:xn,isMulti:Hn}}),Le.setState({isFocused:!0}),(Le.openAfterFocus||Le.props.openMenuOnFocus)&&Le.openMenu("first"),Le.openAfterFocus=!1},Le.onInputBlur=function($t){if(Le.menuListRef&&Le.menuListRef.contains(document.activeElement)){Le.inputRef.focus();return}Le.props.onBlur&&Le.props.onBlur($t),Le.onInputChange("",{action:"input-blur"}),Le.onMenuClose(),Le.setState({focusedValue:null,isFocused:!1})},Le.onOptionHover=function($t){Le.blockOptionHover||Le.state.focusedOption===$t||Le.setState({focusedOption:$t})},Le.shouldHideSelectedOptions=function(){var $t=Le.props,Bt=$t.hideSelectedOptions,xn=$t.isMulti;return Bt===void 0?xn:Bt},Le.onKeyDown=function($t){var Bt=Le.props,xn=Bt.isMulti,Hn=Bt.backspaceRemovesValue,ir=Bt.escapeClearsValue,Vn=Bt.inputValue,_t=Bt.isClearable,ut=Bt.isDisabled,Ce=Bt.menuIsOpen,be=Bt.onKeyDown,We=Bt.tabSelectsValue,qe=Bt.openMenuOnFocus,Et=Le.state,en=Et.focusedOption,In=Et.focusedValue,qn=Et.selectValue;if(!ut&&!(typeof be=="function"&&(be($t),$t.defaultPrevented))){switch(Le.blockOptionHover=!0,$t.key){case"ArrowLeft":if(!xn||Vn)return;Le.focusValue("previous");break;case"ArrowRight":if(!xn||Vn)return;Le.focusValue("next");break;case"Delete":case"Backspace":if(Vn)return;if(In)Le.removeValue(In);else{if(!Hn)return;xn?Le.popValue():_t&&Le.clearValue()}break;case"Tab":if(Le.isComposing||$t.shiftKey||!Ce||!We||!en||qe&&Le.isOptionSelected(en,qn))return;Le.selectOption(en);break;case"Enter":if($t.keyCode===229)break;if(Ce){if(!en||Le.isComposing)return;Le.selectOption(en);break}return;case"Escape":Ce?(Le.inputIsHiddenAfterUpdate=!1,Le.onInputChange("",{action:"menu-close"}),Le.onMenuClose()):_t&&ir&&Le.clearValue();break;case" ":if(Vn)return;if(!Ce){Le.openMenu("first");break}if(!en)return;Le.selectOption(en);break;case"ArrowUp":Ce?Le.focusOption("up"):Le.openMenu("last");break;case"ArrowDown":Ce?Le.focusOption("down"):Le.openMenu("first");break;case"PageUp":if(!Ce)return;Le.focusOption("pageup");break;case"PageDown":if(!Ce)return;Le.focusOption("pagedown");break;case"Home":if(!Ce)return;Le.focusOption("first");break;case"End":if(!Ce)return;Le.focusOption("last");break;default:return}$t.preventDefault()}},Le.buildMenuOptions=function($t,Bt){var xn=$t.inputValue,Hn=xn===void 0?"":xn,ir=$t.options,Vn=function(ut,Ce){var be=Le.isOptionDisabled(ut,Bt),We=Le.isOptionSelected(ut,Bt),qe=Le.getOptionLabel(ut),Et=Le.getOptionValue(ut);if(!(Le.shouldHideSelectedOptions()&&We||!Le.filterOption({label:qe,value:Et,data:ut},Hn))){var en=be?void 0:function(){return Le.onOptionHover(ut)},In=be?void 0:function(){return Le.selectOption(ut)},qn="".concat(Le.getElementId("option"),"-").concat(Ce);return{innerProps:{id:qn,onClick:In,onMouseMove:en,onMouseOver:en,tabIndex:-1},data:ut,isDisabled:be,isSelected:We,key:qn,label:qe,type:"option",value:Et}}};return ir.reduce(function(_t,ut,Ce){if(ut.options){Le.hasGroups||(Le.hasGroups=!0);var be=ut.options,We=be.map(function(en,In){var qn=Vn(en,"".concat(Ce,"-").concat(In));return qn&&_t.focusable.push(en),qn}).filter(Boolean);if(We.length){var qe="".concat(Le.getElementId("group"),"-").concat(Ce);_t.render.push({type:"group",key:qe,data:ut,options:We})}}else{var Et=Vn(ut,"".concat(Ce));Et&&(_t.render.push(Et),_t.focusable.push(ut))}return _t},{render:[],focusable:[]})};var It=tt.value;Le.cacheComponents=(0,A.Z)(Le.cacheComponents,o.B).bind((0,_.Z)(Le)),Le.cacheComponents(tt.components),Le.instancePrefix="react-select-"+(Le.props.instanceId||++xe);var on=(0,o.C)(It);Le.buildMenuOptions=(0,A.Z)(Le.buildMenuOptions,function($t,Bt){var xn=$t,Hn=(0,i.Z)(xn,2),ir=Hn[0],Vn=Hn[1],_t=Bt,ut=(0,i.Z)(_t,2),Ce=ut[0],be=ut[1];return Vn===be&&ir.inputValue===Ce.inputValue&&ir.options===Ce.options}).bind((0,_.Z)(Le));var zt=tt.menuIsOpen?Le.buildMenuOptions(tt,on):{render:[],focusable:[]};return Le.state.menuOptions=zt,Le.state.selectValue=on,Le}return(0,v.Z)(ze,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(Le){var It=this.props,on=It.options,zt=It.value,$t=It.menuIsOpen,Bt=It.inputValue;if(this.cacheComponents(Le.components),Le.value!==zt||Le.options!==on||Le.menuIsOpen!==$t||Le.inputValue!==Bt){var xn=(0,o.C)(Le.value),Hn=Le.menuIsOpen?this.buildMenuOptions(Le,xn):{render:[],focusable:[]},ir=this.getNextFocusedValue(xn),Vn=this.getNextFocusedOption(Hn.focusable);this.setState({menuOptions:Hn,selectValue:xn,focusedOption:Vn,focusedValue:ir})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(Le){var It=this.props,on=It.isDisabled,zt=It.menuIsOpen,$t=this.state.isFocused;($t&&!on&&Le.isDisabled||$t&&zt&&!Le.menuIsOpen)&&this.focusInput(),$t&&on&&!Le.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&((0,o.D)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var Le=this.props,It=Le.isSearchable,on=Le.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:It,isMulti:on}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(Le,It){this.props.onInputChange(Le,It)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(Le){var It=this,on=this.state,zt=on.selectValue,$t=on.isFocused,Bt=this.buildMenuOptions(this.props,zt),xn=this.props,Hn=xn.isMulti,ir=xn.tabSelectsValue,Vn=Le==="first"?0:Bt.focusable.length-1;if(!Hn){var _t=Bt.focusable.indexOf(zt[0]);_t>-1&&(Vn=_t)}this.scrollToFocusedOptionOnUpdate=!($t&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:Bt,focusedValue:null,focusedOption:Bt.focusable[Vn]},function(){It.onMenuOpen(),It.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:ir}})})}},{key:"focusValue",value:function(Le){var It=this.props,on=It.isMulti,zt=It.isSearchable,$t=this.state,Bt=$t.selectValue,xn=$t.focusedValue;if(on){this.setState({focusedOption:null});var Hn=Bt.indexOf(xn);xn||(Hn=-1,this.announceAriaLiveContext({event:"value"}));var ir=Bt.length-1,Vn=-1;if(Bt.length){switch(Le){case"previous":Hn===0?Vn=0:Hn===-1?Vn=ir:Vn=Hn-1;break;case"next":Hn>-1&&Hn<ir&&(Vn=Hn+1);break}Vn===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:zt,isMulti:on}}),this.setState({inputIsHidden:Vn!==-1,focusedValue:Bt[Vn]})}}}},{key:"focusOption",value:function(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",It=this.props,on=It.pageSize,zt=It.tabSelectsValue,$t=this.state,Bt=$t.focusedOption,xn=$t.menuOptions,Hn=xn.focusable;if(Hn.length){var ir=0,Vn=Hn.indexOf(Bt);Bt||(Vn=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:zt}})),Le==="up"?ir=Vn>0?Vn-1:Hn.length-1:Le==="down"?ir=(Vn+1)%Hn.length:Le==="pageup"?(ir=Vn-on,ir<0&&(ir=0)):Le==="pagedown"?(ir=Vn+on,ir>Hn.length-1&&(ir=Hn.length-1)):Le==="last"&&(ir=Hn.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Hn[ir],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:ln(Hn[ir]),tabSelectsValue:zt}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(te):we(we({},te),this.props.theme):te}},{key:"getCommonProps",value:function(){var Le=this.clearValue,It=this.cx,on=this.getStyles,zt=this.getValue,$t=this.setValue,Bt=this.selectOption,xn=this.props,Hn=xn.isMulti,ir=xn.isRtl,Vn=xn.options,_t=this.hasValue();return{cx:It,clearValue:Le,getStyles:on,getValue:zt,hasValue:_t,isMulti:Hn,isRtl:ir,options:Vn,selectOption:Bt,setValue:$t,selectProps:xn,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(Le){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var It=this.state,on=It.focusedValue,zt=It.selectValue,$t=zt.indexOf(on);if($t>-1){var Bt=Le.indexOf(on);if(Bt>-1)return on;if($t<Le.length)return Le[$t]}return null}},{key:"getNextFocusedOption",value:function(Le){var It=this.state.focusedOption;return It&&Le.indexOf(It)>-1?It:Le[0]}},{key:"hasValue",value:function(){var Le=this.state.selectValue;return Le.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var Le=this.props,It=Le.isClearable,on=Le.isMulti;return It===void 0?on:It}},{key:"isOptionDisabled",value:function(Le,It){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(Le,It):!1}},{key:"isOptionSelected",value:function(Le,It){var on=this;if(It.indexOf(Le)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(Le,It);var zt=this.getOptionValue(Le);return It.some(function($t){return on.getOptionValue($t)===zt})}},{key:"filterOption",value:function(Le,It){return this.props.filterOption?this.props.filterOption(Le,It):!0}},{key:"formatOptionLabel",value:function(Le,It){if(typeof this.props.formatOptionLabel=="function"){var on=this.props.inputValue,zt=this.state.selectValue;return this.props.formatOptionLabel(Le,{context:It,inputValue:on,selectValue:zt})}else return this.getOptionLabel(Le)}},{key:"formatGroupLabel",value:function(Le){return this.props.formatGroupLabel(Le)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var Le=this.state,It=Le.ariaLiveContext,on=Le.selectValue,zt=Le.focusedValue,$t=Le.focusedOption,Bt=this.props,xn=Bt.options,Hn=Bt.menuIsOpen,ir=Bt.inputValue,Vn=Bt.screenReaderStatus,_t=zt?Xe({focusedValue:zt,getOptionLabel:this.getOptionLabel,selectValue:on}):"",ut=$t&&Hn?Re({focusedOption:$t,getOptionLabel:this.getOptionLabel,options:xn}):"",Ce=Ne({inputValue:ir,screenReaderMessage:Vn({count:this.countOptions()})});return"".concat(_t," ").concat(ut," ").concat(Ce," ").concat(It)}},{key:"renderInput",value:function(){var Le=this.props,It=Le.isDisabled,on=Le.isSearchable,zt=Le.inputId,$t=Le.inputValue,Bt=Le.tabIndex,xn=Le.form,Hn=this.components.Input,ir=this.state.inputIsHidden,Vn=zt||this.getElementId("input"),_t={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!on)return O.default.createElement(k,(0,a.Z)({id:Vn,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:o.E,onFocus:this.onInputFocus,readOnly:!0,disabled:It,tabIndex:Bt,form:xn,value:""},_t));var ut=this.commonProps,Ce=ut.cx,be=ut.theme,We=ut.selectProps;return O.default.createElement(Hn,(0,a.Z)({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:Ce,getStyles:this.getStyles,id:Vn,innerRef:this.getInputRef,isDisabled:It,isHidden:ir,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:We,spellCheck:"false",tabIndex:Bt,form:xn,theme:be,type:"text",value:$t},_t))}},{key:"renderPlaceholderOrValue",value:function(){var Le=this,It=this.components,on=It.MultiValue,zt=It.MultiValueContainer,$t=It.MultiValueLabel,Bt=It.MultiValueRemove,xn=It.SingleValue,Hn=It.Placeholder,ir=this.commonProps,Vn=this.props,_t=Vn.controlShouldRenderValue,ut=Vn.isDisabled,Ce=Vn.isMulti,be=Vn.inputValue,We=Vn.placeholder,qe=this.state,Et=qe.selectValue,en=qe.focusedValue,In=qe.isFocused;if(!this.hasValue()||!_t)return be?null:O.default.createElement(Hn,(0,a.Z)({},ir,{key:"placeholder",isDisabled:ut,isFocused:In}),We);if(Ce){var qn=Et.map(function(pr,wr){var Vr=pr===en;return O.default.createElement(on,(0,a.Z)({},ir,{components:{Container:zt,Label:$t,Remove:Bt},isFocused:Vr,isDisabled:ut,key:"".concat(Le.getOptionValue(pr)).concat(wr),index:wr,removeProps:{onClick:function(){return Le.removeValue(pr)},onTouchEnd:function(){return Le.removeValue(pr)},onMouseDown:function(pt){pt.preventDefault(),pt.stopPropagation()}},data:pr}),Le.formatOptionLabel(pr,"value"))});return qn}if(be)return null;var cr=Et[0];return O.default.createElement(xn,(0,a.Z)({},ir,{data:cr,isDisabled:ut}),this.formatOptionLabel(cr,"value"))}},{key:"renderClearIndicator",value:function(){var Le=this.components.ClearIndicator,It=this.commonProps,on=this.props,zt=on.isDisabled,$t=on.isLoading,Bt=this.state.isFocused;if(!this.isClearable()||!Le||zt||!this.hasValue()||$t)return null;var xn={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return O.default.createElement(Le,(0,a.Z)({},It,{innerProps:xn,isFocused:Bt}))}},{key:"renderLoadingIndicator",value:function(){var Le=this.components.LoadingIndicator,It=this.commonProps,on=this.props,zt=on.isDisabled,$t=on.isLoading,Bt=this.state.isFocused;if(!Le||!$t)return null;var xn={"aria-hidden":"true"};return O.default.createElement(Le,(0,a.Z)({},It,{innerProps:xn,isDisabled:zt,isFocused:Bt}))}},{key:"renderIndicatorSeparator",value:function(){var Le=this.components,It=Le.DropdownIndicator,on=Le.IndicatorSeparator;if(!It||!on)return null;var zt=this.commonProps,$t=this.props.isDisabled,Bt=this.state.isFocused;return O.default.createElement(on,(0,a.Z)({},zt,{isDisabled:$t,isFocused:Bt}))}},{key:"renderDropdownIndicator",value:function(){var Le=this.components.DropdownIndicator;if(!Le)return null;var It=this.commonProps,on=this.props.isDisabled,zt=this.state.isFocused,$t={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return O.default.createElement(Le,(0,a.Z)({},It,{innerProps:$t,isDisabled:on,isFocused:zt}))}},{key:"renderMenu",value:function(){var Le=this,It=this.components,on=It.Group,zt=It.GroupHeading,$t=It.Menu,Bt=It.MenuList,xn=It.MenuPortal,Hn=It.LoadingMessage,ir=It.NoOptionsMessage,Vn=It.Option,_t=this.commonProps,ut=this.state,Ce=ut.focusedOption,be=ut.menuOptions,We=this.props,qe=We.captureMenuScroll,Et=We.inputValue,en=We.isLoading,In=We.loadingMessage,qn=We.minMenuHeight,cr=We.maxMenuHeight,pr=We.menuIsOpen,wr=We.menuPlacement,Vr=We.menuPosition,On=We.menuPortalTarget,pt=We.menuShouldBlockScroll,hn=We.menuShouldScrollIntoView,Dn=We.noOptionsMessage,Gn=We.onMenuScrollToTop,Kt=We.onMenuScrollToBottom;if(!pr)return null;var wt=function(Fn){var Un=Ce===Fn.data;return Fn.innerRef=Un?Le.getFocusedOptionRef:void 0,O.default.createElement(Vn,(0,a.Z)({},_t,Fn,{isFocused:Un}),Le.formatOptionLabel(Fn.data,"menu"))},Lt;if(this.hasOptions())Lt=be.render.map(function(An){if(An.type==="group"){var Fn=An.type,Un=(0,t.Z)(An,["type"]),Gt="".concat(An.key,"-heading");return O.default.createElement(on,(0,a.Z)({},_t,Un,{Heading:zt,headingProps:{id:Gt,data:An.data},label:Le.formatGroupLabel(An.data)}),An.options.map(function(Zt){return wt(Zt)}))}else if(An.type==="option")return wt(An)});else if(en){var mt=In({inputValue:Et});if(mt===null)return null;Lt=O.default.createElement(Hn,_t,mt)}else{var Mt=Dn({inputValue:Et});if(Mt===null)return null;Lt=O.default.createElement(ir,_t,Mt)}var Jt={minMenuHeight:qn,maxMenuHeight:cr,menuPlacement:wr,menuPosition:Vr,menuShouldScrollIntoView:hn},pn=O.default.createElement(o.M,(0,a.Z)({},_t,Jt),function(An){var Fn=An.ref,Un=An.placerProps,Gt=Un.placement,Zt=Un.maxHeight;return O.default.createElement($t,(0,a.Z)({},_t,Jt,{innerRef:Fn,innerProps:{onMouseDown:Le.onMenuMouseDown,onMouseMove:Le.onMenuMouseMove},isLoading:en,placement:Gt}),O.default.createElement(st,{isEnabled:qe,onTopArrive:Gn,onBottomArrive:Kt},O.default.createElement(De,{isEnabled:pt},O.default.createElement(Bt,(0,a.Z)({},_t,{innerRef:Le.getMenuListRef,isLoading:en,maxHeight:Zt}),Lt))))});return On||Vr==="fixed"?O.default.createElement(xn,(0,a.Z)({},_t,{appendTo:On,controlElement:this.controlRef,menuPlacement:wr,menuPosition:Vr}),pn):pn}},{key:"renderFormField",value:function(){var Le=this,It=this.props,on=It.delimiter,zt=It.isDisabled,$t=It.isMulti,Bt=It.name,xn=this.state.selectValue;if(!(!Bt||zt))if($t)if(on){var Hn=xn.map(function(_t){return Le.getOptionValue(_t)}).join(on);return O.default.createElement("input",{name:Bt,type:"hidden",value:Hn})}else{var ir=xn.length>0?xn.map(function(_t,ut){return O.default.createElement("input",{key:"i-".concat(ut),name:Bt,type:"hidden",value:Le.getOptionValue(_t)})}):O.default.createElement("input",{name:Bt,type:"hidden"});return O.default.createElement("div",null,ir)}else{var Vn=xn[0]?this.getOptionValue(xn[0]):"";return O.default.createElement("input",{name:Bt,type:"hidden",value:Vn})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?O.default.createElement(L,{"aria-live":"polite"},O.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),O.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var Le=this.components,It=Le.Control,on=Le.IndicatorsContainer,zt=Le.SelectContainer,$t=Le.ValueContainer,Bt=this.props,xn=Bt.className,Hn=Bt.id,ir=Bt.isDisabled,Vn=Bt.menuIsOpen,_t=this.state.isFocused,ut=this.commonProps=this.getCommonProps();return O.default.createElement(zt,(0,a.Z)({},ut,{className:xn,innerProps:{id:Hn,onKeyDown:this.onKeyDown},isDisabled:ir,isFocused:_t}),this.renderLiveRegion(),O.default.createElement(It,(0,a.Z)({},ut,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:ir,isFocused:_t,menuIsOpen:Vn}),O.default.createElement($t,(0,a.Z)({},ut,{isDisabled:ir}),this.renderPlaceholderOrValue(),this.renderInput()),O.default.createElement(on,(0,a.Z)({},ut,{isDisabled:ir}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),ze}(O.Component);Ve.defaultProps=he},53569:(K,f,e)=>{"use strict";e.d(f,{A:()=>x,B:()=>Be,C:()=>P,D:()=>F,E:()=>o,M:()=>J,a:()=>st,b:()=>me,c:()=>Ke,d:()=>Ze,e:()=>Ie,f:()=>Qe,g:()=>Ve,h:()=>It,i:()=>Re,j:()=>re,k:()=>Z,l:()=>te,m:()=>ee,n:()=>fe,o:()=>xn,p:()=>Hn,q:()=>ir,r:()=>oe,s:()=>We,t:()=>Et,u:()=>In,v:()=>gt,w:()=>U,x:()=>V,y:()=>Vr,z:()=>w});var t=e(45987),a=e(87462),i=e(4942),c=e(15671),p=e(43144),l=e(60136),v=e(82963),_=e(61120),g=e(98661),E=e(77453),S=e(71002),O=e(93998),A=e(30168),u=e(35639),o=function(){};function s(On,pt){return pt?pt[0]==="-"?On+pt:On+"__"+pt:On}function w(On,pt,hn){var Dn=[hn];if(pt&&On)for(var Gn in pt)pt.hasOwnProperty(Gn)&&pt[Gn]&&Dn.push("".concat(s(On,Gn)));return Dn.filter(function(Kt){return Kt}).map(function(Kt){return String(Kt).trim()}).join(" ")}var P=function(pt){return Array.isArray(pt)?pt.filter(Boolean):(0,S.Z)(pt)==="object"&&pt!==null?[pt]:[]};function C(On,pt,hn){if(hn){var Dn=hn(On,pt);if(typeof Dn=="string")return Dn}return On}function x(On){return[document.documentElement,document.body,window].indexOf(On)>-1}function D(On){return x(On)?window.pageYOffset:On.scrollTop}function y(On,pt){if(x(On)){window.scrollTo(0,pt);return}On.scrollTop=pt}function M(On){var pt=getComputedStyle(On),hn=pt.position==="absolute",Dn=/(auto|scroll)/,Gn=document.documentElement;if(pt.position==="fixed")return Gn;for(var Kt=On;Kt=Kt.parentElement;)if(pt=getComputedStyle(Kt),!(hn&&pt.position==="static")&&Dn.test(pt.overflow+pt.overflowY+pt.overflowX))return Kt;return Gn}function T(On,pt,hn,Dn){return hn*((On=On/Dn-1)*On*On+1)+pt}function R(On,pt){var hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,Dn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o,Gn=D(On),Kt=pt-Gn,wt=10,Lt=0;function mt(){Lt+=wt;var Mt=T(Lt,Gn,Kt,hn);y(On,Mt),Lt<hn?window.requestAnimationFrame(mt):Dn(On)}mt()}function F(On,pt){var hn=On.getBoundingClientRect(),Dn=pt.getBoundingClientRect(),Gn=pt.offsetHeight/3;Dn.bottom+Gn>hn.bottom?y(On,Math.min(pt.offsetTop+pt.clientHeight-On.offsetHeight+Gn,On.scrollHeight)):Dn.top-Gn<hn.top&&y(On,Math.max(pt.offsetTop-Gn,0))}function N(On){var pt=On.getBoundingClientRect();return{bottom:pt.bottom,height:pt.height,left:pt.left,right:pt.right,top:pt.top,width:pt.width}}function U(){try{return document.createEvent("TouchEvent"),!0}catch(On){return!1}}function V(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(On){return!1}}function W(On,pt){var hn=Object.keys(On);if(Object.getOwnPropertySymbols){var Dn=Object.getOwnPropertySymbols(On);pt&&(Dn=Dn.filter(function(Gn){return Object.getOwnPropertyDescriptor(On,Gn).enumerable})),hn.push.apply(hn,Dn)}return hn}function L(On){for(var pt=1;pt<arguments.length;pt++){var hn=arguments[pt]!=null?arguments[pt]:{};pt%2?W(Object(hn),!0).forEach(function(Dn){(0,i.Z)(On,Dn,hn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(On,Object.getOwnPropertyDescriptors(hn)):W(Object(hn)).forEach(function(Dn){Object.defineProperty(On,Dn,Object.getOwnPropertyDescriptor(hn,Dn))})}return On}function k(On){var pt=H();return function(){var Dn=(0,_.Z)(On),Gn;if(pt){var Kt=(0,_.Z)(this).constructor;Gn=Reflect.construct(Dn,arguments,Kt)}else Gn=Dn.apply(this,arguments);return(0,v.Z)(this,Gn)}}function H(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(On){return!1}}function G(On){var pt=On.maxHeight,hn=On.menuEl,Dn=On.minHeight,Gn=On.placement,Kt=On.shouldScroll,wt=On.isFixedPosition,Lt=On.theme,mt=Lt.spacing,Mt=M(hn),Jt={placement:"bottom",maxHeight:pt};if(!hn||!hn.offsetParent)return Jt;var pn=Mt.getBoundingClientRect(),An=pn.height,Fn=hn.getBoundingClientRect(),Un=Fn.bottom,Gt=Fn.height,Zt=Fn.top,_n=hn.offsetParent.getBoundingClientRect(),Qn=_n.top,At=window.innerHeight,fn=D(Mt),gn=parseInt(getComputedStyle(hn).marginBottom,10),Mn=parseInt(getComputedStyle(hn).marginTop,10),Wn=Qn-Mn,rr=At-Zt,Zn=Wn+fn,ur=An-fn-Zt,Ar=Un-At+fn+gn,so=fn+Zt-Mn,io=160;switch(Gn){case"auto":case"bottom":if(rr>=Gt)return{placement:"bottom",maxHeight:pt};if(ur>=Gt&&!wt)return Kt&&R(Mt,Ar,io),{placement:"bottom",maxHeight:pt};if(!wt&&ur>=Dn||wt&&rr>=Dn){Kt&&R(Mt,Ar,io);var Qr=wt?rr-gn:ur-gn;return{placement:"bottom",maxHeight:Qr}}if(Gn==="auto"||wt){var Eo=pt,So=wt?Wn:Zn;return So>=Dn&&(Eo=Math.min(So-gn-mt.controlHeight,pt)),{placement:"top",maxHeight:Eo}}if(Gn==="bottom")return y(Mt,Ar),{placement:"bottom",maxHeight:pt};break;case"top":if(Wn>=Gt)return{placement:"top",maxHeight:pt};if(Zn>=Gt&&!wt)return Kt&&R(Mt,so,io),{placement:"top",maxHeight:pt};if(!wt&&Zn>=Dn||wt&&Wn>=Dn){var Wt=pt;return(!wt&&Zn>=Dn||wt&&Wn>=Dn)&&(Wt=wt?Wn-Mn:Zn-Mn),Kt&&R(Mt,so,io),{placement:"top",maxHeight:Wt}}return{placement:"bottom",maxHeight:pt};default:throw new Error('Invalid placement provided "'.concat(Gn,'".'))}return Jt}function q(On){var pt={bottom:"top",top:"bottom"};return On?pt[On]:"bottom"}var z=function(pt){return pt==="auto"?"bottom":pt},ee=function(pt){var hn,Dn=pt.placement,Gn=pt.theme,Kt=Gn.borderRadius,wt=Gn.spacing,Lt=Gn.colors;return hn={label:"menu"},(0,i.Z)(hn,q(Dn),"100%"),(0,i.Z)(hn,"backgroundColor",Lt.neutral0),(0,i.Z)(hn,"borderRadius",Kt),(0,i.Z)(hn,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),(0,i.Z)(hn,"marginBottom",wt.menuGutter),(0,i.Z)(hn,"marginTop",wt.menuGutter),(0,i.Z)(hn,"position","absolute"),(0,i.Z)(hn,"width","100%"),(0,i.Z)(hn,"zIndex",1),hn},$=(0,g.createContext)({getPortalPlacement:null}),J=function(On){(0,l.Z)(hn,On);var pt=k(hn);function hn(){var Dn;(0,c.Z)(this,hn);for(var Gn=arguments.length,Kt=new Array(Gn),wt=0;wt<Gn;wt++)Kt[wt]=arguments[wt];return Dn=pt.call.apply(pt,[this].concat(Kt)),Dn.state={maxHeight:Dn.props.maxMenuHeight,placement:null},Dn.getPlacement=function(Lt){var mt=Dn.props,Mt=mt.minMenuHeight,Jt=mt.maxMenuHeight,pn=mt.menuPlacement,An=mt.menuPosition,Fn=mt.menuShouldScrollIntoView,Un=mt.theme;if(Lt){var Gt=An==="fixed",Zt=Fn&&!Gt,_n=G({maxHeight:Jt,menuEl:Lt,minHeight:Mt,placement:pn,shouldScroll:Zt,isFixedPosition:Gt,theme:Un}),Qn=Dn.context.getPortalPlacement;Qn&&Qn(_n),Dn.setState(_n)}},Dn.getUpdatedProps=function(){var Lt=Dn.props.menuPlacement,mt=Dn.state.placement||z(Lt);return L(L({},Dn.props),{},{placement:mt,maxHeight:Dn.state.maxHeight})},Dn}return(0,p.Z)(hn,[{key:"render",value:function(){var Gn=this.props.children;return Gn({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),hn}(g.Component);J.contextType=$;var j=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerRef,Lt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("menu",pt),className:Gn({menu:!0},Dn)},Lt,{ref:wt}),hn)},Z=function(pt){var hn=pt.maxHeight,Dn=pt.theme.spacing.baseUnit;return{maxHeight:hn,overflowY:"auto",paddingBottom:Dn,paddingTop:Dn,position:"relative",WebkitOverflowScrolling:"touch"}},ne=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.isMulti,Lt=pt.innerRef,mt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("menuList",pt),className:Gn({"menu-list":!0,"menu-list--is-multi":wt},Dn),ref:Lt},mt),hn)},ie=function(pt){var hn=pt.theme,Dn=hn.spacing.baseUnit,Gn=hn.colors;return{color:Gn.neutral40,padding:"".concat(Dn*2,"px ").concat(Dn*3,"px"),textAlign:"center"}},oe=ie,re=ie,ae=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("noOptionsMessage",pt),className:Gn({"menu-notice":!0,"menu-notice--no-options":!0},Dn)},wt),hn)};ae.defaultProps={children:"No options"};var se=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("loadingMessage",pt),className:Gn({"menu-notice":!0,"menu-notice--loading":!0},Dn)},wt),hn)};se.defaultProps={children:"Loading..."};var fe=function(pt){var hn=pt.rect,Dn=pt.offset,Gn=pt.position;return{left:hn.left,position:Gn,top:Dn,width:hn.width,zIndex:1}},le=function(On){(0,l.Z)(hn,On);var pt=k(hn);function hn(){var Dn;(0,c.Z)(this,hn);for(var Gn=arguments.length,Kt=new Array(Gn),wt=0;wt<Gn;wt++)Kt[wt]=arguments[wt];return Dn=pt.call.apply(pt,[this].concat(Kt)),Dn.state={placement:null},Dn.getPortalPlacement=function(Lt){var mt=Lt.placement,Mt=z(Dn.props.menuPlacement);mt!==Mt&&Dn.setState({placement:mt})},Dn}return(0,p.Z)(hn,[{key:"render",value:function(){var Gn=this.props,Kt=Gn.appendTo,wt=Gn.children,Lt=Gn.controlElement,mt=Gn.menuPlacement,Mt=Gn.menuPosition,Jt=Gn.getStyles,pn=Mt==="fixed";if(!Kt&&!pn||!Lt)return null;var An=this.state.placement||z(mt),Fn=N(Lt),Un=pn?0:window.pageYOffset,Gt=Fn[An]+Un,Zt={offset:Gt,position:Mt,rect:Fn},_n=(0,E.tZ)("div",{css:Jt("menuPortal",Zt)},wt);return(0,E.tZ)($.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},Kt?(0,g.createPortal)(_n,Kt):_n)}}]),hn}(g.Component),Ae=Array.isArray,De=Object.keys,je=Object.prototype.hasOwnProperty;function Je(On,pt){if(On===pt)return!0;if(On&&pt&&(0,S.Z)(On)=="object"&&(0,S.Z)(pt)=="object"){var hn=Ae(On),Dn=Ae(pt),Gn,Kt,wt;if(hn&&Dn){if(Kt=On.length,Kt!=pt.length)return!1;for(Gn=Kt;Gn--!==0;)if(!Je(On[Gn],pt[Gn]))return!1;return!0}if(hn!=Dn)return!1;var Lt=On instanceof Date,mt=pt instanceof Date;if(Lt!=mt)return!1;if(Lt&&mt)return On.getTime()==pt.getTime();var Mt=On instanceof RegExp,Jt=pt instanceof RegExp;if(Mt!=Jt)return!1;if(Mt&&Jt)return On.toString()==pt.toString();var pn=De(On);if(Kt=pn.length,Kt!==De(pt).length)return!1;for(Gn=Kt;Gn--!==0;)if(!je.call(pt,pn[Gn]))return!1;for(Gn=Kt;Gn--!==0;)if(wt=pn[Gn],!(wt==="_owner"&&On.$$typeof)&&!Je(On[wt],pt[wt]))return!1;return!0}return On!==On&&pt!==pt}function Be(On,pt){try{return Je(On,pt)}catch(hn){if(hn.message&&hn.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",hn.name,hn.message),!1;throw hn}}var st=function(pt){var hn=pt.isDisabled,Dn=pt.isRtl;return{label:"container",direction:Dn?"rtl":null,pointerEvents:hn?"none":null,position:"relative"}},ht=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerProps,Lt=pt.isDisabled,mt=pt.isRtl;return(0,E.tZ)("div",(0,a.Z)({css:Kt("container",pt),className:Gn({"--is-disabled":Lt,"--is-rtl":mt},Dn)},wt),hn)},gt=function(pt){var hn=pt.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(hn.baseUnit/2,"px ").concat(hn.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Xe=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.isMulti,wt=pt.getStyles,Lt=pt.hasValue;return(0,E.tZ)("div",{css:wt("valueContainer",pt),className:Gn({"value-container":!0,"value-container--is-multi":Kt,"value-container--has-value":Lt},Dn)},hn)},Re=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ne=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles;return(0,E.tZ)("div",{css:Kt("indicatorsContainer",pt),className:Gn({indicators:!0},Dn)},hn)};function ke(){var On=(0,A.Z)([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return ke=function(){return On},On}function ot(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var Dt={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},ln=function(pt){var hn=pt.size,Dn=(0,t.Z)(pt,["size"]);return(0,E.tZ)("svg",(0,a.Z)({height:hn,width:hn,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Dt},Dn))},ct=function(pt){return(0,E.tZ)(ln,(0,a.Z)({size:20},pt),(0,E.tZ)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Oe=function(pt){return(0,E.tZ)(ln,(0,a.Z)({size:20},pt),(0,E.tZ)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Se=function(pt){var hn=pt.isFocused,Dn=pt.theme,Gn=Dn.spacing.baseUnit,Kt=Dn.colors;return{label:"indicatorContainer",color:hn?Kt.neutral60:Kt.neutral20,display:"flex",padding:Gn*2,transition:"color 150ms",":hover":{color:hn?Kt.neutral80:Kt.neutral40}}},Ze=Se,Fe=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({},wt,{css:Kt("dropdownIndicator",pt),className:Gn({indicator:!0,"dropdown-indicator":!0},Dn)}),hn||(0,E.tZ)(Oe,null))},Ke=Se,et=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({},wt,{css:Kt("clearIndicator",pt),className:Gn({indicator:!0,"clear-indicator":!0},Dn)}),hn||(0,E.tZ)(ct,null))},Qe=function(pt){var hn=pt.isDisabled,Dn=pt.theme,Gn=Dn.spacing.baseUnit,Kt=Dn.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:hn?Kt.neutral10:Kt.neutral20,marginBottom:Gn*2,marginTop:Gn*2,width:1}},$e=function(pt){var hn=pt.className,Dn=pt.cx,Gn=pt.getStyles,Kt=pt.innerProps;return(0,E.tZ)("span",(0,a.Z)({},Kt,{css:Gn("indicatorSeparator",pt),className:Dn({"indicator-separator":!0},hn)}))},Te=(0,E.F4)(ke()),te=function(pt){var hn=pt.isFocused,Dn=pt.size,Gn=pt.theme,Kt=Gn.colors,wt=Gn.spacing.baseUnit;return{label:"loadingIndicator",color:hn?Kt.neutral60:Kt.neutral20,display:"flex",padding:wt*2,transition:"color 150ms",alignSelf:"center",fontSize:Dn,lineHeight:1,marginRight:Dn,textAlign:"center",verticalAlign:"middle"}},ue=function(pt){var hn=pt.delay,Dn=pt.offset;return(0,E.tZ)("span",{css:(0,O.Z)({animation:"".concat(Te," 1s ease-in-out ").concat(hn,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:Dn?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},we=function(pt){var hn=pt.className,Dn=pt.cx,Gn=pt.getStyles,Kt=pt.innerProps,wt=pt.isRtl;return(0,E.tZ)("div",(0,a.Z)({},Kt,{css:Gn("loadingIndicator",pt),className:Dn({indicator:!0,"loading-indicator":!0},hn)}),(0,E.tZ)(ue,{delay:0,offset:wt}),(0,E.tZ)(ue,{delay:160,offset:!0}),(0,E.tZ)(ue,{delay:320,offset:!wt}))};we.defaultProps={size:4};var me=function(pt){var hn=pt.isDisabled,Dn=pt.isFocused,Gn=pt.theme,Kt=Gn.colors,wt=Gn.borderRadius,Lt=Gn.spacing;return{label:"control",alignItems:"center",backgroundColor:hn?Kt.neutral5:Kt.neutral0,borderColor:hn?Kt.neutral10:Dn?Kt.primary:Kt.neutral20,borderRadius:wt,borderStyle:"solid",borderWidth:1,boxShadow:Dn?"0 0 0 1px ".concat(Kt.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Lt.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:Dn?Kt.primary:Kt.neutral30}}},Ee=function(pt){var hn=pt.children,Dn=pt.cx,Gn=pt.getStyles,Kt=pt.className,wt=pt.isDisabled,Lt=pt.isFocused,mt=pt.innerRef,Mt=pt.innerProps,Jt=pt.menuIsOpen;return(0,E.tZ)("div",(0,a.Z)({ref:mt,css:Gn("control",pt),className:Dn({control:!0,"control--is-disabled":wt,"control--is-focused":Lt,"control--menu-is-open":Jt},Kt)},Mt),hn)};function he(On,pt){var hn=Object.keys(On);if(Object.getOwnPropertySymbols){var Dn=Object.getOwnPropertySymbols(On);pt&&(Dn=Dn.filter(function(Gn){return Object.getOwnPropertyDescriptor(On,Gn).enumerable})),hn.push.apply(hn,Dn)}return hn}function xe(On){for(var pt=1;pt<arguments.length;pt++){var hn=arguments[pt]!=null?arguments[pt]:{};pt%2?he(Object(hn),!0).forEach(function(Dn){(0,i.Z)(On,Dn,hn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(On,Object.getOwnPropertyDescriptors(hn)):he(Object(hn)).forEach(function(Dn){Object.defineProperty(On,Dn,Object.getOwnPropertyDescriptor(hn,Dn))})}return On}var Ve=function(pt){var hn=pt.theme.spacing;return{paddingBottom:hn.baseUnit*2,paddingTop:hn.baseUnit*2}},Pe=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.Heading,Lt=pt.headingProps,mt=pt.label,Mt=pt.theme,Jt=pt.selectProps;return(0,E.tZ)("div",{css:Kt("group",pt),className:Gn({group:!0},Dn)},(0,E.tZ)(wt,(0,a.Z)({},Lt,{selectProps:Jt,theme:Mt,getStyles:Kt,cx:Gn}),mt),(0,E.tZ)("div",null,hn))},Ie=function(pt){var hn=pt.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:hn.baseUnit*3,paddingRight:hn.baseUnit*3,textTransform:"uppercase"}},ze=function(pt){var hn=pt.className,Dn=pt.cx,Gn=pt.getStyles,Kt=pt.theme,wt=pt.selectProps,Lt=(0,t.Z)(pt,["className","cx","getStyles","theme","selectProps"]);return(0,E.tZ)("div",(0,a.Z)({css:Gn("groupHeading",xe({theme:Kt},Lt)),className:Dn({"group-heading":!0},hn)},Lt))};function tt(On,pt){var hn=Object.keys(On);if(Object.getOwnPropertySymbols){var Dn=Object.getOwnPropertySymbols(On);pt&&(Dn=Dn.filter(function(Gn){return Object.getOwnPropertyDescriptor(On,Gn).enumerable})),hn.push.apply(hn,Dn)}return hn}function Le(On){for(var pt=1;pt<arguments.length;pt++){var hn=arguments[pt]!=null?arguments[pt]:{};pt%2?tt(Object(hn),!0).forEach(function(Dn){(0,i.Z)(On,Dn,hn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(On,Object.getOwnPropertyDescriptors(hn)):tt(Object(hn)).forEach(function(Dn){Object.defineProperty(On,Dn,Object.getOwnPropertyDescriptor(hn,Dn))})}return On}var It=function(pt){var hn=pt.isDisabled,Dn=pt.theme,Gn=Dn.spacing,Kt=Dn.colors;return{margin:Gn.baseUnit/2,paddingBottom:Gn.baseUnit/2,paddingTop:Gn.baseUnit/2,visibility:hn?"hidden":"visible",color:Kt.neutral80}},on=function(pt){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:pt?0:1,outline:0,padding:0,color:"inherit"}},zt=function(pt){var hn=pt.className,Dn=pt.cx,Gn=pt.getStyles,Kt=pt.innerRef,wt=pt.isHidden,Lt=pt.isDisabled,mt=pt.theme,Mt=pt.selectProps,Jt=(0,t.Z)(pt,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return(0,E.tZ)("div",{css:Gn("input",Le({theme:mt},Jt))},(0,E.tZ)(u.Z,(0,a.Z)({className:Dn({input:!0},hn),inputRef:Kt,inputStyle:on(wt),disabled:Lt},Jt)))};function $t(On,pt){var hn=Object.keys(On);if(Object.getOwnPropertySymbols){var Dn=Object.getOwnPropertySymbols(On);pt&&(Dn=Dn.filter(function(Gn){return Object.getOwnPropertyDescriptor(On,Gn).enumerable})),hn.push.apply(hn,Dn)}return hn}function Bt(On){for(var pt=1;pt<arguments.length;pt++){var hn=arguments[pt]!=null?arguments[pt]:{};pt%2?$t(Object(hn),!0).forEach(function(Dn){(0,i.Z)(On,Dn,hn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(On,Object.getOwnPropertyDescriptors(hn)):$t(Object(hn)).forEach(function(Dn){Object.defineProperty(On,Dn,Object.getOwnPropertyDescriptor(hn,Dn))})}return On}var xn=function(pt){var hn=pt.theme,Dn=hn.spacing,Gn=hn.borderRadius,Kt=hn.colors;return{label:"multiValue",backgroundColor:Kt.neutral10,borderRadius:Gn/2,display:"flex",margin:Dn.baseUnit/2,minWidth:0}},Hn=function(pt){var hn=pt.theme,Dn=hn.borderRadius,Gn=hn.colors,Kt=pt.cropWithEllipsis;return{borderRadius:Dn/2,color:Gn.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:Kt?"ellipsis":null,whiteSpace:"nowrap"}},ir=function(pt){var hn=pt.theme,Dn=hn.spacing,Gn=hn.borderRadius,Kt=hn.colors,wt=pt.isFocused;return{alignItems:"center",borderRadius:Gn/2,backgroundColor:wt&&Kt.dangerLight,display:"flex",paddingLeft:Dn.baseUnit,paddingRight:Dn.baseUnit,":hover":{backgroundColor:Kt.dangerLight,color:Kt.danger}}},Vn=function(pt){var hn=pt.children,Dn=pt.innerProps;return(0,E.tZ)("div",Dn,hn)},_t=Vn,ut=Vn;function Ce(On){var pt=On.children,hn=On.innerProps;return(0,E.tZ)("div",hn,pt||(0,E.tZ)(ct,{size:14}))}var be=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.components,Kt=pt.cx,wt=pt.data,Lt=pt.getStyles,mt=pt.innerProps,Mt=pt.isDisabled,Jt=pt.removeProps,pn=pt.selectProps,An=Gn.Container,Fn=Gn.Label,Un=Gn.Remove;return(0,E.tZ)(E.ms,null,function(Gt){var Zt=Gt.css,_n=Gt.cx;return(0,E.tZ)(An,{data:wt,innerProps:Bt(Bt({},mt),{},{className:_n(Zt(Lt("multiValue",pt)),Kt({"multi-value":!0,"multi-value--is-disabled":Mt},Dn))}),selectProps:pn},(0,E.tZ)(Fn,{data:wt,innerProps:{className:_n(Zt(Lt("multiValueLabel",pt)),Kt({"multi-value__label":!0},Dn))},selectProps:pn},hn),(0,E.tZ)(Un,{data:wt,innerProps:Bt({className:_n(Zt(Lt("multiValueRemove",pt)),Kt({"multi-value__remove":!0},Dn))},Jt),selectProps:pn}))})};be.defaultProps={cropWithEllipsis:!0};var We=function(pt){var hn=pt.isDisabled,Dn=pt.isFocused,Gn=pt.isSelected,Kt=pt.theme,wt=Kt.spacing,Lt=Kt.colors;return{label:"option",backgroundColor:Gn?Lt.primary:Dn?Lt.primary25:"transparent",color:hn?Lt.neutral20:Gn?Lt.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(wt.baseUnit*2,"px ").concat(wt.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!hn&&(Gn?Lt.primary:Lt.primary50)}}},qe=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.isDisabled,Lt=pt.isFocused,mt=pt.isSelected,Mt=pt.innerRef,Jt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("option",pt),className:Gn({option:!0,"option--is-disabled":wt,"option--is-focused":Lt,"option--is-selected":mt},Dn),ref:Mt},Jt),hn)},Et=function(pt){var hn=pt.theme,Dn=hn.spacing,Gn=hn.colors;return{label:"placeholder",color:Gn.neutral50,marginLeft:Dn.baseUnit/2,marginRight:Dn.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},en=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("placeholder",pt),className:Gn({placeholder:!0},Dn)},wt),hn)},In=function(pt){var hn=pt.isDisabled,Dn=pt.theme,Gn=Dn.spacing,Kt=Dn.colors;return{label:"singleValue",color:hn?Kt.neutral40:Kt.neutral80,marginLeft:Gn.baseUnit/2,marginRight:Gn.baseUnit/2,maxWidth:"calc(100% - ".concat(Gn.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},qn=function(pt){var hn=pt.children,Dn=pt.className,Gn=pt.cx,Kt=pt.getStyles,wt=pt.isDisabled,Lt=pt.innerProps;return(0,E.tZ)("div",(0,a.Z)({css:Kt("singleValue",pt),className:Gn({"single-value":!0,"single-value--is-disabled":wt},Dn)},Lt),hn)};function cr(On,pt){var hn=Object.keys(On);if(Object.getOwnPropertySymbols){var Dn=Object.getOwnPropertySymbols(On);pt&&(Dn=Dn.filter(function(Gn){return Object.getOwnPropertyDescriptor(On,Gn).enumerable})),hn.push.apply(hn,Dn)}return hn}function pr(On){for(var pt=1;pt<arguments.length;pt++){var hn=arguments[pt]!=null?arguments[pt]:{};pt%2?cr(Object(hn),!0).forEach(function(Dn){(0,i.Z)(On,Dn,hn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(On,Object.getOwnPropertyDescriptors(hn)):cr(Object(hn)).forEach(function(Dn){Object.defineProperty(On,Dn,Object.getOwnPropertyDescriptor(hn,Dn))})}return On}var wr={ClearIndicator:et,Control:Ee,DropdownIndicator:Fe,DownChevron:Oe,CrossIcon:ct,Group:Pe,GroupHeading:ze,IndicatorsContainer:Ne,IndicatorSeparator:$e,Input:zt,LoadingIndicator:we,Menu:j,MenuList:ne,MenuPortal:le,LoadingMessage:se,NoOptionsMessage:ae,MultiValue:be,MultiValueContainer:_t,MultiValueLabel:ut,MultiValueRemove:Ce,Option:qe,Placeholder:en,SelectContainer:ht,SingleValue:qn,ValueContainer:Xe},Vr=function(pt){return pr(pr({},wr),pt.components)}},55519:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>O});var t=e(98661),a=e(77453),i=e(75912),c=e(93998),p=e(35639),l=e(61085),v=e(25755);function _(A){var u=g();return function(){var s=_getPrototypeOf(A),w;if(u){var P=_getPrototypeOf(this).constructor;w=Reflect.construct(s,arguments,P)}else w=s.apply(this,arguments);return _possibleConstructorReturn(this,w)}}function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(A){return!1}}var E=null,S=(0,l.m)(i.S);const O=S},61085:(K,f,e)=>{"use strict";e.d(f,{m:()=>O});var t=e(45987),a=e(87462),i=e(15671),c=e(43144),p=e(60136),l=e(82963),v=e(61120),_=e(98661);function g(A){var u=E();return function(){var s=(0,v.Z)(A),w;if(u){var P=(0,v.Z)(this).constructor;w=Reflect.construct(s,arguments,P)}else w=s.apply(this,arguments);return(0,l.Z)(this,w)}}function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(A){return!1}}var S={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},O=function(u){var o,s;return s=o=function(w){(0,p.Z)(C,w);var P=g(C);function C(){var x;(0,i.Z)(this,C);for(var D=arguments.length,y=new Array(D),M=0;M<D;M++)y[M]=arguments[M];return x=P.call.apply(P,[this].concat(y)),x.select=void 0,x.state={inputValue:x.props.inputValue!==void 0?x.props.inputValue:x.props.defaultInputValue,menuIsOpen:x.props.menuIsOpen!==void 0?x.props.menuIsOpen:x.props.defaultMenuIsOpen,value:x.props.value!==void 0?x.props.value:x.props.defaultValue},x.onChange=function(T,R){x.callProp("onChange",T,R),x.setState({value:T})},x.onInputChange=function(T,R){var F=x.callProp("onInputChange",T,R);x.setState({inputValue:F!==void 0?F:T})},x.onMenuOpen=function(){x.callProp("onMenuOpen"),x.setState({menuIsOpen:!0})},x.onMenuClose=function(){x.callProp("onMenuClose"),x.setState({menuIsOpen:!1})},x}return(0,c.Z)(C,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(D){return this.props[D]!==void 0?this.props[D]:this.state[D]}},{key:"callProp",value:function(D){if(typeof this.props[D]=="function"){for(var y,M=arguments.length,T=new Array(M>1?M-1:0),R=1;R<M;R++)T[R-1]=arguments[R];return(y=this.props)[D].apply(y,T)}}},{key:"render",value:function(){var D=this,y=this.props,M=y.defaultInputValue,T=y.defaultMenuIsOpen,R=y.defaultValue,F=(0,t.Z)(y,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return _.default.createElement(u,(0,a.Z)({},F,{ref:function(U){D.select=U},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),C}(_.Component),o.defaultProps=S,s}},91036:(K,f,e)=>{const t=e(35106),a=e(22997),{klona:i}=e(23059),{isPlainObject:c}=e(10977),p=e(9996),l=e(79430),{parse:v}=e(50020),_=e(8575),g=["img","audio","video","picture","svg","object","map","iframe","embed"],E=["script","style"];function S(C,x){C&&Object.keys(C).forEach(function(D){x(C[D],D)})}function O(C,x){return{}.hasOwnProperty.call(C,x)}function A(C,x){const D=[];return S(C,function(y){x(y)&&D.push(y)}),D}function u(C){for(const x in C)if(O(C,x))return!1;return!0}function o(C){return C.map(function(x){if(!x.url)throw new Error("URL missing");return x.url+(x.w?` ${x.w}w`:"")+(x.h?` ${x.h}h`:"")+(x.d?` ${x.d}x`:"")}).join(", ")}K.exports=w;const s=/^[^\0\t\n\f\r /<=>]+$/;function w(C,x,D){let y="",M="";function T(ae,se){const fe=this;this.tag=ae,this.attribs=se||{},this.tagPosition=y.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(k.length){const le=k[k.length-1];le.text+=fe.text}},this.updateParentNodeMediaChildren=function(){k.length&&g.includes(this.tag)&&k[k.length-1].mediaChildren.push(this.tag)}}x?(x=Object.assign({},w.defaults,x),x.parser?x.parser=Object.assign({},P,x.parser):x.parser=P):(x=w.defaults,x.parser=P),E.forEach(function(ae){x.allowedTags&&x.allowedTags.indexOf(ae)>-1&&!x.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${ae}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const R=x.nonTextTags||["script","style","textarea","option"];let F,N;x.allowedAttributes&&(F={},N={},S(x.allowedAttributes,function(ae,se){F[se]=[];const fe=[];ae.forEach(function(le){typeof le=="string"&&le.indexOf("*")>=0?fe.push(a(le).replace(/\\\*/g,".*")):F[se].push(le)}),N[se]=new RegExp("^("+fe.join("|")+")$")}));const U={};S(x.allowedClasses,function(ae,se){F&&(O(F,se)||(F[se]=[]),F[se].push("class")),U[se]=ae});const V={};let W;S(x.transformTags,function(ae,se){let fe;typeof ae=="function"?fe=ae:typeof ae=="string"&&(fe=w.simpleTransform(ae)),se==="*"?W=fe:V[se]=fe});let L,k,H,G,q,z,ee=!1;J();const $=new t.Parser({onopentag:function(ae,se){if(x.enforceHtmlBoundary&&ae==="html"&&J(),q){z++;return}const fe=new T(ae,se);k.push(fe);let le=!1;const Ae=!!fe.text;let De;if(O(V,ae)&&(De=V[ae](ae,se),fe.attribs=se=De.attribs,De.text!==void 0&&(fe.innerText=De.text),ae!==De.tagName&&(fe.name=ae=De.tagName,G[L]=De.tagName)),W&&(De=W(ae,se),fe.attribs=se=De.attribs,ae!==De.tagName&&(fe.name=ae=De.tagName,G[L]=De.tagName)),(x.allowedTags&&x.allowedTags.indexOf(ae)===-1||x.disallowedTagsMode==="recursiveEscape"&&!u(H)||x.nestingLimit!=null&&L>=x.nestingLimit)&&(le=!0,H[L]=!0,x.disallowedTagsMode==="discard"&&R.indexOf(ae)!==-1&&(q=!0,z=1),H[L]=!0),L++,le){if(x.disallowedTagsMode==="discard")return;M=y,y=""}y+="<"+ae,(!F||O(F,ae)||F["*"])&&S(se,function(je,Je){if(!s.test(Je)){delete fe.attribs[Je];return}let Be,st=!1;if(!F||O(F,ae)&&F[ae].indexOf(Je)!==-1||F["*"]&&F["*"].indexOf(Je)!==-1||O(N,ae)&&N[ae].test(Je)||N["*"]&&N["*"].test(Je))st=!0;else if(F&&F[ae]){for(const ht of F[ae])if(c(ht)&&ht.name&&ht.name===Je){st=!0;let gt="";if(ht.multiple===!0){const Xe=je.split(" ");for(const Re of Xe)ht.values.indexOf(Re)!==-1&&(gt===""?gt=Re:gt+=" "+Re)}else ht.values.indexOf(je)>=0&&(gt=je);je=gt}}if(st){if(x.allowedSchemesAppliedToAttributes.indexOf(Je)!==-1&&Z(ae,je)){delete fe.attribs[Je];return}if(ae==="iframe"&&Je==="src"){let ht=!0;try{if(Be=_.parse(je,!1,!0),Be&&Be.host===null&&Be.protocol===null)ht=O(x,"allowIframeRelativeUrls")?x.allowIframeRelativeUrls:!x.allowedIframeHostnames&&!x.allowedIframeDomains;else if(x.allowedIframeHostnames||x.allowedIframeDomains){const Xe=(x.allowedIframeHostnames||[]).find(function(Ne){return Ne===Be.hostname}),Re=(x.allowedIframeDomains||[]).find(function(Ne){return Be.hostname===Ne||Be.hostname.endsWith(`.${Ne}`)});ht=Xe||Re}}catch(gt){ht=!1}if(!ht){delete fe.attribs[Je];return}}if(Je==="srcset")try{if(Be=l(je),Be.forEach(function(ht){Z("srcset",ht.url)&&(ht.evil=!0)}),Be=A(Be,function(ht){return!ht.evil}),Be.length)je=o(A(Be,function(ht){return!ht.evil})),fe.attribs[Je]=je;else{delete fe.attribs[Je];return}}catch(ht){delete fe.attribs[Je];return}if(Je==="class"){const ht=U[ae],gt=U["*"];if(ht&&gt?je=re(je,p(ht,gt)):je=re(je,ht||gt),!je.length){delete fe.attribs[Je];return}}if(Je==="style")try{const ht=v(ae+" {"+je+"}"),gt=ne(ht,x.allowedStyles);if(je=ie(gt),je.length===0){delete fe.attribs[Je];return}}catch(ht){delete fe.attribs[Je];return}y+=" "+Je,je&&je.length&&(y+='="'+j(je,!0)+'"')}else delete fe.attribs[Je]}),x.selfClosing.indexOf(ae)!==-1?y+=" />":(y+=">",fe.innerText&&!Ae&&!x.textFilter&&(y+=j(fe.innerText),ee=!0)),le&&(y=M+j(y),M="")},ontext:function(ae){if(q)return;const se=k[k.length-1];let fe;if(se&&(fe=se.tag,ae=se.innerText!==void 0?se.innerText:ae),x.disallowedTagsMode==="discard"&&(fe==="script"||fe==="style"))y+=ae;else{const le=j(ae,!1);x.textFilter&&!ee?y+=x.textFilter(le,fe):ee||(y+=le)}if(k.length){const le=k[k.length-1];le.text+=ae}},onclosetag:function(ae){if(q)if(z--,!z)q=!1;else return;const se=k.pop();if(!se)return;q=x.enforceHtmlBoundary?ae==="html":!1,L--;const fe=H[L];if(fe){if(delete H[L],x.disallowedTagsMode==="discard"){se.updateParentNodeText();return}M=y,y=""}if(G[L]&&(ae=G[L],delete G[L]),x.exclusiveFilter&&x.exclusiveFilter(se)){y=y.substr(0,se.tagPosition);return}if(se.updateParentNodeMediaChildren(),se.updateParentNodeText(),x.selfClosing.indexOf(ae)!==-1){fe&&(y=M,M="");return}y+="</"+ae+">",fe&&(y=M+j(y),M="")}},x.parser);return $.write(C),$.end(),y;function J(){y="",L=0,k=[],H={},G={},q=!1,z=0}function j(ae,se){return typeof ae!="string"&&(ae=ae+""),x.parser.decodeEntities&&(ae=ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),se&&(ae=ae.replace(/"/g,"&quot;"))),ae=ae.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),se&&(ae=ae.replace(/"/g,"&quot;")),ae}function Z(ae,se){se=se.replace(/[\x00-\x20]+/g,""),se=se.replace(/<!--.*?-->/g,"");const fe=se.match(/^([a-zA-Z]+):/);if(!fe)return se.match(/^[/\\]{2}/)?!x.allowProtocolRelative:!1;const le=fe[1].toLowerCase();return O(x.allowedSchemesByTag,ae)?x.allowedSchemesByTag[ae].indexOf(le)===-1:!x.allowedSchemes||x.allowedSchemes.indexOf(le)===-1}function ne(ae,se){if(!se)return ae;const fe=i(ae),le=ae.nodes[0];let Ae;return se[le.selector]&&se["*"]?Ae=p(se[le.selector],se["*"]):Ae=se[le.selector]||se["*"],Ae&&(fe.nodes[0].nodes=le.nodes.reduce(oe(Ae),[])),fe}function ie(ae){return ae.nodes[0].nodes.reduce(function(se,fe){return se.push(fe.prop+":"+fe.value),se},[]).join(";")}function oe(ae){return function(se,fe){return O(ae,fe.prop)&&ae[fe.prop].some(function(Ae){return Ae.test(fe.value)})&&se.push(fe),se}}function re(ae,se){return se?(ae=ae.split(/\s+/),ae.filter(function(fe){return se.indexOf(fe)!==-1}).join(" ")):ae}}const P={decodeEntities:!0};w.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},w.simpleTransform=function(C,x,D){return D=D===void 0?!0:D,x=x||{},function(y,M){let T;if(D)for(T in x)M[T]=x[T];else M=x;return{tagName:C,attribs:M}}}},22997:K=>{"use strict";K.exports=f=>{if(typeof f!="string")throw new TypeError("Expected a string");return f.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(K,f,e){"use strict";var t=this&&this.__extends||function(){var p=function(l,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var E in g)g.hasOwnProperty(E)&&(_[E]=g[E])},p(l,v)};return function(l,v){p(l,v);function _(){this.constructor=l}l.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}(),a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(f,"__esModule",{value:!0});var i=a(e(90819)),c=function(p){t(l,p);function l(v){v===void 0&&(v={});var _=p.call(this,function(g){for(var E,S=[],O=1;O<arguments.length;O++)S[O-1]=arguments[O];_.events.push([g].concat(S)),_._cbs[g]&&(E=_._cbs)[g].apply(E,S)})||this;return _._cbs=v,_.events=[],_}return l.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},l.prototype.restart=function(){var v;this._cbs.onreset&&this._cbs.onreset();for(var _=0;_<this.events.length;_++){var g=this.events[_],E=g[0],S=g.slice(1);this._cbs[E]&&(v=this._cbs)[E].apply(v,S)}},l}(i.default);f.CollectingHandler=c},57613:function(K,f,e){"use strict";var t=this&&this.__extends||function(){var s=function(w,P){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,x){C.__proto__=x}||function(C,x){for(var D in x)x.hasOwnProperty(D)&&(C[D]=x[D])},s(w,P)};return function(w,P){s(w,P);function C(){this.constructor=w}w.prototype=P===null?Object.create(P):(C.prototype=P.prototype,new C)}}(),a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},i=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var w={};if(s!=null)for(var P in s)Object.hasOwnProperty.call(s,P)&&(w[P]=s[P]);return w.default=s,w};Object.defineProperty(f,"__esModule",{value:!0});var c=a(e(47915)),p=i(e(89432)),l=e(16666),v=function(s){t(w,s);function w(P,C){var x=this;return typeof P=="object"&&P!==null&&(P=void 0,C=P),x=s.call(this,P,C)||this,x}return w.prototype.onend=function(){var P={},C=g(A,this.dom);if(C)if(C.name==="feed"){var x=C.children;P.type="atom",O(P,"id","id",x),O(P,"title","title",x);var D=S("href",g("link",x));D&&(P.link=D),O(P,"description","subtitle",x);var y=E("updated",x);y&&(P.updated=new Date(y)),O(P,"author","email",x,!0),P.items=_("entry",x).map(function(M){var T={},R=M.children;O(T,"id","id",R),O(T,"title","title",R);var F=S("href",g("link",R));F&&(T.link=F);var N=E("summary",R)||E("content",R);N&&(T.description=N);var U=E("updated",R);return U&&(T.pubDate=new Date(U)),T})}else{var x=g("channel",C.children).children;P.type=C.name.substr(0,3),P.id="",O(P,"title","title",x),O(P,"link","link",x),O(P,"description","description",x);var y=E("lastBuildDate",x);y&&(P.updated=new Date(y)),O(P,"author","managingEditor",x,!0),P.items=_("item",C.children).map(function(R){var F={},N=R.children;O(F,"id","guid",N),O(F,"title","title",N),O(F,"link","link",N),O(F,"description","description",N);var U=E("pubDate",N);return U&&(F.pubDate=new Date(U)),F})}this.feed=P,this.handleCallback(C?null:Error("couldn't find root of feed"))},w}(c.default);f.FeedHandler=v;function _(s,w){return p.getElementsByTagName(s,w,!0)}function g(s,w){return p.getElementsByTagName(s,w,!0,1)[0]}function E(s,w,P){return P===void 0&&(P=!1),p.getText(p.getElementsByTagName(s,w,P,1)).trim()}function S(s,w){if(!w)return null;var P=w.attribs;return P[s]}function O(s,w,P,C,x){x===void 0&&(x=!1);var D=E(P,C,x);D&&(s[w]=D)}function A(s){return s==="rss"||s==="feed"||s==="rdf:RDF"}var u={xmlMode:!0};function o(s,w){w===void 0&&(w=u);var P=new v(w);return new l.Parser(P,w).end(s),P.feed}f.parseFeed=o},90819:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function t(a){this._func=a}return t.prototype.onattribute=function(a,i){this._func("onattribute",a,i)},t.prototype.oncdatastart=function(){this._func("oncdatastart")},t.prototype.oncdataend=function(){this._func("oncdataend")},t.prototype.ontext=function(a){this._func("ontext",a)},t.prototype.onprocessinginstruction=function(a,i){this._func("onprocessinginstruction",a,i)},t.prototype.oncomment=function(a){this._func("oncomment",a)},t.prototype.oncommentend=function(){this._func("oncommentend")},t.prototype.onclosetag=function(a){this._func("onclosetag",a)},t.prototype.onopentag=function(a,i){this._func("onopentag",a,i)},t.prototype.onopentagname=function(a){this._func("onopentagname",a)},t.prototype.onerror=function(a){this._func("onerror",a)},t.prototype.onend=function(){this._func("onend")},t.prototype.onparserinit=function(a){this._func("onparserinit",a)},t.prototype.onreset=function(){this._func("onreset")},t}();f.default=e},16666:function(K,f,e){"use strict";var t=this&&this.__extends||function(){var A=function(u,o){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,w){s.__proto__=w}||function(s,w){for(var P in w)w.hasOwnProperty(P)&&(s[P]=w[P])},A(u,o)};return function(u,o){A(u,o);function s(){this.constructor=u}u.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}(),a=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(f,"__esModule",{value:!0});var i=a(e(10034)),c=e(17187),p=new Set(["input","option","optgroup","select","button","datalist","textarea"]),l=new Set(["p"]),v={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:l,h1:l,h2:l,h3:l,h4:l,h5:l,h6:l,select:p,input:p,output:p,button:p,datalist:p,textarea:p,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:l,article:l,aside:l,blockquote:l,details:l,div:l,dl:l,fieldset:l,figcaption:l,figure:l,footer:l,form:l,header:l,hr:l,main:l,nav:l,ol:l,pre:l,section:l,table:l,ul:l,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},_=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g=new Set(["math","svg"]),E=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),S=/\s|\//,O=function(A){t(u,A);function u(o,s){var w=A.call(this)||this;return w._tagname="",w._attribname="",w._attribvalue="",w._attribs=null,w._stack=[],w._foreignContext=[],w.startIndex=0,w.endIndex=null,w.parseChunk=u.prototype.write,w.done=u.prototype.end,w._options=s||{},w._cbs=o||{},w._tagname="",w._attribname="",w._attribvalue="",w._attribs=null,w._stack=[],w._foreignContext=[],w.startIndex=0,w.endIndex=null,w._lowerCaseTagNames="lowerCaseTags"in w._options?!!w._options.lowerCaseTags:!w._options.xmlMode,w._lowerCaseAttributeNames="lowerCaseAttributeNames"in w._options?!!w._options.lowerCaseAttributeNames:!w._options.xmlMode,w._tokenizer=new(w._options.Tokenizer||i.default)(w._options,w),w._cbs.onparserinit&&w._cbs.onparserinit(w),w}return u.prototype._updatePosition=function(o){this.endIndex===null?this._tokenizer._sectionStart<=o?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-o:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(o){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(o)},u.prototype.onopentagname=function(o){if(this._lowerCaseTagNames&&(o=o.toLowerCase()),this._tagname=o,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(v,o))for(var s=void 0;v[o].has(s=this._stack[this._stack.length-1]);this.onclosetag(s));(this._options.xmlMode||!_.has(o))&&(this._stack.push(o),g.has(o)?this._foreignContext.push(!0):E.has(o)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(o),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&_.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(o){if(this._updatePosition(1),this._lowerCaseTagNames&&(o=o.toLowerCase()),(g.has(o)||E.has(o))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!_.has(o))){var s=this._stack.lastIndexOf(o);if(s!==-1)if(this._cbs.onclosetag)for(s=this._stack.length-s;s--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=s;else o==="p"&&!this._options.xmlMode&&(this.onopentagname(o),this._closeCurrentTag())}else!this._options.xmlMode&&(o==="br"||o==="p")&&(this.onopentagname(o),this._closeCurrentTag())},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var o=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===o&&(this._cbs.onclosetag&&this._cbs.onclosetag(o),this._stack.pop())},u.prototype.onattribname=function(o){this._lowerCaseAttributeNames&&(o=o.toLowerCase()),this._attribname=o},u.prototype.onattribdata=function(o){this._attribvalue+=o},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(o){var s=o.search(S),w=s<0?o:o.substr(0,s);return this._lowerCaseTagNames&&(w=w.toLowerCase()),w},u.prototype.ondeclaration=function(o){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(o);this._cbs.onprocessinginstruction("!"+s,"!"+o)}},u.prototype.onprocessinginstruction=function(o){if(this._cbs.onprocessinginstruction){var s=this._getInstructionName(o);this._cbs.onprocessinginstruction("?"+s,"?"+o)}},u.prototype.oncomment=function(o){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(o),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(o){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(o),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+o+"]]")},u.prototype.onerror=function(o){this._cbs.onerror&&this._cbs.onerror(o)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var o=this._stack.length;o>0;this._cbs.onclosetag(this._stack[--o]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(o){this.reset(),this.end(o)},u.prototype.write=function(o){this._tokenizer.write(o)},u.prototype.end=function(o){this._tokenizer.end(o)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u}(c.EventEmitter);f.Parser=O},10034:function(K,f,e){"use strict";var t=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(f,"__esModule",{value:!0});var a=t(e(26)),i=t(e(59323)),c=t(e(29591)),p=t(e(2586));function l(L){return L===" "||L===`
`||L==="	"||L==="\f"||L==="\r"}function v(L,k,H){var G=L.toLowerCase();return L===G?function(q,z){z===G?q._state=k:(q._state=H,q._index--)}:function(q,z){z===G||z===L?q._state=k:(q._state=H,q._index--)}}function _(L,k){var H=L.toLowerCase();return function(G,q){q===H||q===L?G._state=k:(G._state=3,G._index--)}}var g=v("C",23,16),E=v("D",24,16),S=v("A",25,16),O=v("T",26,16),A=v("A",27,16),u=_("R",34),o=_("I",35),s=_("P",36),w=_("T",37),P=v("R",39,1),C=v("I",40,1),x=v("P",41,1),D=v("T",42,1),y=_("Y",44),M=_("L",45),T=_("E",46),R=v("Y",48,1),F=v("L",49,1),N=v("E",50,1),U=v("#",52,53),V=v("X",55,54),W=function(){function L(k,H){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=H,this._xmlMode=!!(k&&k.xmlMode),this._decodeEntities=!!(k&&k.decodeEntities)}return L.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},L.prototype._stateText=function(k){k==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&k==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},L.prototype._stateBeforeTagName=function(k){k==="/"?this._state=5:k==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):k===">"||this._special!==1||l(k)?this._state=1:k==="!"?(this._state=15,this._sectionStart=this._index+1):k==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(k==="s"||k==="S")?31:3,this._sectionStart=this._index)},L.prototype._stateInTagName=function(k){(k==="/"||k===">"||l(k))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},L.prototype._stateBeforeClosingTagName=function(k){l(k)||(k===">"?this._state=1:this._special!==1?k==="s"||k==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},L.prototype._stateInClosingTagName=function(k){(k===">"||l(k))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},L.prototype._stateAfterClosingTagName=function(k){k===">"&&(this._state=1,this._sectionStart=this._index+1)},L.prototype._stateBeforeAttributeName=function(k){k===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):k==="/"?this._state=4:l(k)||(this._state=9,this._sectionStart=this._index)},L.prototype._stateInSelfClosingTag=function(k){k===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):l(k)||(this._state=8,this._index--)},L.prototype._stateInAttributeName=function(k){(k==="="||k==="/"||k===">"||l(k))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},L.prototype._stateAfterAttributeName=function(k){k==="="?this._state=11:k==="/"||k===">"?(this._cbs.onattribend(),this._state=8,this._index--):l(k)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},L.prototype._stateBeforeAttributeValue=function(k){k==='"'?(this._state=12,this._sectionStart=this._index+1):k==="'"?(this._state=13,this._sectionStart=this._index+1):l(k)||(this._state=14,this._sectionStart=this._index,this._index--)},L.prototype._stateInAttributeValueDoubleQuotes=function(k){k==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&k==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateInAttributeValueSingleQuotes=function(k){k==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&k==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateInAttributeValueNoQuotes=function(k){l(k)||k===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&k==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateBeforeDeclaration=function(k){this._state=k==="["?22:k==="-"?18:16},L.prototype._stateInDeclaration=function(k){k===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},L.prototype._stateInProcessingInstruction=function(k){k===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},L.prototype._stateBeforeComment=function(k){k==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},L.prototype._stateInComment=function(k){k==="-"&&(this._state=20)},L.prototype._stateAfterComment1=function(k){k==="-"?this._state=21:this._state=19},L.prototype._stateAfterComment2=function(k){k===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):k!=="-"&&(this._state=19)},L.prototype._stateBeforeCdata6=function(k){k==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},L.prototype._stateInCdata=function(k){k==="]"&&(this._state=29)},L.prototype._stateAfterCdata1=function(k){k==="]"?this._state=30:this._state=28},L.prototype._stateAfterCdata2=function(k){k===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):k!=="]"&&(this._state=28)},L.prototype._stateBeforeSpecial=function(k){k==="c"||k==="C"?this._state=33:k==="t"||k==="T"?this._state=43:(this._state=3,this._index--)},L.prototype._stateBeforeSpecialEnd=function(k){this._special===2&&(k==="c"||k==="C")?this._state=38:this._special===3&&(k==="t"||k==="T")?this._state=47:this._state=1},L.prototype._stateBeforeScript5=function(k){(k==="/"||k===">"||l(k))&&(this._special=2),this._state=3,this._index--},L.prototype._stateAfterScript5=function(k){k===">"||l(k)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},L.prototype._stateBeforeStyle4=function(k){(k==="/"||k===">"||l(k))&&(this._special=3),this._state=3,this._index--},L.prototype._stateAfterStyle4=function(k){k===">"||l(k)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},L.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var k=this._buffer.substring(this._sectionStart+1,this._index),H=this._xmlMode?p.default:i.default;Object.prototype.hasOwnProperty.call(H,k)&&(this._emitPartial(H[k]),this._sectionStart=this._index+1)}},L.prototype._parseLegacyEntity=function(){var k=this._sectionStart+1,H=this._index-k;for(H>6&&(H=6);H>=2;){var G=this._buffer.substr(k,H);if(Object.prototype.hasOwnProperty.call(c.default,G)){this._emitPartial(c.default[G]),this._sectionStart+=H+1;return}else H--}},L.prototype._stateInNamedEntity=function(k){k===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(k<"a"||k>"z")&&(k<"A"||k>"Z")&&(k<"0"||k>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?k!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},L.prototype._decodeNumericEntity=function(k,H){var G=this._sectionStart+k;if(G!==this._index){var q=this._buffer.substring(G,this._index),z=parseInt(q,H);this._emitPartial(a.default(z)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},L.prototype._stateInNumericEntity=function(k){k===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(k<"0"||k>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},L.prototype._stateInHexEntity=function(k){k===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(k<"a"||k>"f")&&(k<"A"||k>"F")&&(k<"0"||k>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},L.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},L.prototype.write=function(k){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=k,this._parse()},L.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var k=this._buffer.charAt(this._index);this._state===1?this._stateText(k):this._state===12?this._stateInAttributeValueDoubleQuotes(k):this._state===9?this._stateInAttributeName(k):this._state===19?this._stateInComment(k):this._state===8?this._stateBeforeAttributeName(k):this._state===3?this._stateInTagName(k):this._state===6?this._stateInClosingTagName(k):this._state===2?this._stateBeforeTagName(k):this._state===10?this._stateAfterAttributeName(k):this._state===13?this._stateInAttributeValueSingleQuotes(k):this._state===11?this._stateBeforeAttributeValue(k):this._state===5?this._stateBeforeClosingTagName(k):this._state===7?this._stateAfterClosingTagName(k):this._state===31?this._stateBeforeSpecial(k):this._state===20?this._stateAfterComment1(k):this._state===14?this._stateInAttributeValueNoQuotes(k):this._state===4?this._stateInSelfClosingTag(k):this._state===16?this._stateInDeclaration(k):this._state===15?this._stateBeforeDeclaration(k):this._state===21?this._stateAfterComment2(k):this._state===18?this._stateBeforeComment(k):this._state===32?this._stateBeforeSpecialEnd(k):this._state===38?P(this,k):this._state===39?C(this,k):this._state===40?x(this,k):this._state===33?u(this,k):this._state===34?o(this,k):this._state===35?s(this,k):this._state===36?w(this,k):this._state===37?this._stateBeforeScript5(k):this._state===41?D(this,k):this._state===42?this._stateAfterScript5(k):this._state===43?y(this,k):this._state===28?this._stateInCdata(k):this._state===44?M(this,k):this._state===45?T(this,k):this._state===46?this._stateBeforeStyle4(k):this._state===47?R(this,k):this._state===48?F(this,k):this._state===49?N(this,k):this._state===50?this._stateAfterStyle4(k):this._state===17?this._stateInProcessingInstruction(k):this._state===53?this._stateInNamedEntity(k):this._state===22?g(this,k):this._state===51?U(this,k):this._state===23?E(this,k):this._state===24?S(this,k):this._state===29?this._stateAfterCdata1(k):this._state===30?this._stateAfterCdata2(k):this._state===25?O(this,k):this._state===26?A(this,k):this._state===27?this._stateBeforeCdata6(k):this._state===55?this._stateInHexEntity(k):this._state===54?this._stateInNumericEntity(k):this._state===52?V(this,k):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},L.prototype.pause=function(){this._running=!1},L.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},L.prototype.end=function(k){this._ended&&this._cbs.onerror(Error(".end() after done!")),k&&this.write(k),this._ended=!0,this._running&&this._finish()},L.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},L.prototype._handleTrailingData=function(){var k=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(k):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(k):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(k)},L.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},L.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},L.prototype._emitToken=function(k){this._cbs[k](this._getSection()),this._sectionStart=-1},L.prototype._emitPartial=function(k){this._baseState!==1?this._cbs.onattribdata(k):this._cbs.ontext(k)},L}();f.default=W},35106:function(K,f,e){"use strict";function t(S){for(var O in S)f.hasOwnProperty(O)||(f[O]=S[O])}var a=this&&this.__importStar||function(S){if(S&&S.__esModule)return S;var O={};if(S!=null)for(var A in S)Object.hasOwnProperty.call(S,A)&&(O[A]=S[A]);return O.default=S,O};Object.defineProperty(f,"__esModule",{value:!0});var i=e(16666);f.Parser=i.Parser;var c=e(47915);f.DomHandler=c.DomHandler,f.DefaultHandler=c.DomHandler;function p(S,O){var A=new c.DomHandler(void 0,O);return new i.Parser(A,O).end(S),A.dom}f.parseDOM=p;function l(S,O,A){var u=new c.DomHandler(S,O,A);return new i.Parser(u,O)}f.createDomStream=l;var v=e(10034);f.Tokenizer=v.default;var _=a(e(99960));f.ElementType=_,f.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},t(e(57613)),t(e(18036)),t(e(16691));var g=a(e(89432));f.DomUtils=g;var E=e(57613);f.RssHandler=E.FeedHandler},10977:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(a){return Object.prototype.toString.call(a)==="[object Object]"}function t(a){var i,c;return e(a)===!1?!1:(i=a.constructor,i===void 0?!0:(c=i.prototype,!(e(c)===!1||c.hasOwnProperty("isPrototypeOf")===!1)))}f.isPlainObject=t},37478:(K,f,e)=>{"use strict";var t=e(40210),a=e(21924),i=e(70631),c=t("%TypeError%"),p=t("%WeakMap%",!0),l=t("%Map%",!0),v=a("WeakMap.prototype.get",!0),_=a("WeakMap.prototype.set",!0),g=a("WeakMap.prototype.has",!0),E=a("Map.prototype.get",!0),S=a("Map.prototype.set",!0),O=a("Map.prototype.has",!0),A=function(w,P){for(var C=w,x;(x=C.next)!==null;C=x)if(x.key===P)return C.next=x.next,x.next=w.next,w.next=x,x},u=function(w,P){var C=A(w,P);return C&&C.value},o=function(w,P,C){var x=A(w,P);x?x.value=C:w.next={key:P,next:w.next,value:C}},s=function(w,P){return!!A(w,P)};K.exports=function(){var P,C,x,D={assert:function(y){if(!D.has(y))throw new c("Side channel does not contain "+i(y))},get:function(y){if(p&&y&&(typeof y=="object"||typeof y=="function")){if(P)return v(P,y)}else if(l){if(C)return E(C,y)}else if(x)return u(x,y)},has:function(y){if(p&&y&&(typeof y=="object"||typeof y=="function")){if(P)return g(P,y)}else if(l){if(C)return O(C,y)}else if(x)return s(x,y);return!1},set:function(y,M){p&&y&&(typeof y=="object"||typeof y=="function")?(P||(P=new p),_(P,y,M)):l?(C||(C=new l),S(C,y,M)):(x||(x={key:{},next:null}),o(x,y,M))}};return D}},79546:(K,f,e)=>{var t=e(62195),a=[e(39627),e(58855),e(45580),e(8728)],i=[];K.exports=t.createStore(a,i)},62195:(K,f,e)=>{var t=e(69078),a=t.slice,i=t.pluck,c=t.each,p=t.bind,l=t.create,v=t.isList,_=t.isFunction,g=t.isObject;K.exports={createStore:O};var E={version:"2.0.12",enabled:!1,get:function(A,u){var o=this.storage.read(this._namespacePrefix+A);return this._deserialize(o,u)},set:function(A,u){return u===void 0?this.remove(A):(this.storage.write(this._namespacePrefix+A,this._serialize(u)),u)},remove:function(A){this.storage.remove(this._namespacePrefix+A)},each:function(A){var u=this;this.storage.each(function(o,s){A.call(u,u._deserialize(o),(s||"").replace(u._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(A){return this._namespacePrefix=="__storejs_"+A+"_"},createStore:function(){return O.apply(this,arguments)},addPlugin:function(A){this._addPlugin(A)},namespace:function(A){return O(this.storage,this.plugins,A)}};function S(){var A=typeof console=="undefined"?null:console;if(A){var u=A.warn?A.warn:A.log;u.apply(A,arguments)}}function O(A,u,o){o||(o=""),A&&!v(A)&&(A=[A]),u&&!v(u)&&(u=[u]);var s=o?"__storejs_"+o+"_":"",w=o?new RegExp("^"+s):null,P=/^[a-zA-Z0-9_\-]*$/;if(!P.test(o))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var C={_namespacePrefix:s,_namespaceRegexp:w,_testStorage:function(D){try{var y="__storejs__test__";D.write(y,y);var M=D.read(y)===y;return D.remove(y),M}catch(T){return!1}},_assignPluginFnProp:function(D,y){var M=this[y];this[y]=function(){var R=a(arguments,0),F=this;function N(){if(M)return c(arguments,function(V,W){R[W]=V}),M.apply(F,R)}var U=[N].concat(R);return D.apply(F,U)}},_serialize:function(D){return JSON.stringify(D)},_deserialize:function(D,y){if(!D)return y;var M="";try{M=JSON.parse(D)}catch(T){M=D}return M!==void 0?M:y},_addStorage:function(D){this.enabled||this._testStorage(D)&&(this.storage=D,this.enabled=!0)},_addPlugin:function(D){var y=this;if(v(D)){c(D,function(R){y._addPlugin(R)});return}var M=i(this.plugins,function(R){return D===R});if(!M){if(this.plugins.push(D),!_(D))throw new Error("Plugins must be function values that return objects");var T=D.call(this);if(!g(T))throw new Error("Plugins must return an object of function properties");c(T,function(R,F){if(!_(R))throw new Error("Bad plugin property: "+F+" from plugin "+D.name+". Plugins should only return functions.");y._assignPluginFnProp(R,F)})}},addStorage:function(D){S("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(D)}},x=l(C,E,{plugins:[]});return x.raw={},c(x,function(D,y){_(D)&&(x.raw[y]=p(x,D))}),c(A,function(D){x._addStorage(D)}),c(u,function(D){x._addPlugin(D)}),x}},69078:(K,f,e)=>{var t=p(),a=l(),i=v(),c=typeof window!="undefined"?window:e.g;K.exports={assign:t,create:a,trim:i,bind:_,slice:g,each:E,map:S,pluck:O,isList:A,isFunction:u,isObject:o,Global:c};function p(){return Object.assign?Object.assign:function(w,P,C,x){for(var D=1;D<arguments.length;D++)E(Object(arguments[D]),function(y,M){w[M]=y});return w}}function l(){if(Object.create)return function(P,C,x,D){var y=g(arguments,1);return t.apply(this,[Object.create(P)].concat(y))};{let w=function(){};var s=w;return function(C,x,D,y){var M=g(arguments,1);return w.prototype=C,t.apply(this,[new w].concat(M))}}}function v(){return String.prototype.trim?function(w){return String.prototype.trim.call(w)}:function(w){return w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function _(s,w){return function(){return w.apply(s,Array.prototype.slice.call(arguments,0))}}function g(s,w){return Array.prototype.slice.call(s,w||0)}function E(s,w){O(s,function(P,C){return w(P,C),!1})}function S(s,w){var P=A(s)?[]:{};return O(s,function(C,x){return P[x]=w(C,x),!1}),P}function O(s,w){if(A(s)){for(var P=0;P<s.length;P++)if(w(s[P],P))return s[P]}else for(var C in s)if(s.hasOwnProperty(C)&&w(s[C],C))return s[C]}function A(s){return s!=null&&typeof s!="function"&&typeof s.length=="number"}function u(s){return s&&{}.toString.call(s)==="[object Function]"}function o(s){return s&&{}.toString.call(s)==="[object Object]"}},45580:(K,f,e)=>{var t=e(69078),a=t.Global,i=t.trim;K.exports={name:"cookieStorage",read:p,write:v,each:l,remove:_,clearAll:g};var c=a.document;function p(S){if(!S||!E(S))return null;var O="(?:^|.*;\\s*)"+escape(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(O),"$1"))}function l(S){for(var O=c.cookie.split(/; ?/g),A=O.length-1;A>=0;A--)if(i(O[A])){var u=O[A].split("="),o=unescape(u[0]),s=unescape(u[1]);S(s,o)}}function v(S,O){S&&(c.cookie=escape(S)+"="+escape(O)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function _(S){!S||!E(S)||(c.cookie=escape(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function g(){l(function(S,O){_(O)})}function E(S){return new RegExp("(?:^|;\\s*)"+escape(S).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},39627:(K,f,e)=>{var t=e(69078),a=t.Global;K.exports={name:"localStorage",read:c,write:p,each:l,remove:v,clearAll:_};function i(){return a.localStorage}function c(g){return i().getItem(g)}function p(g,E){return i().setItem(g,E)}function l(g){for(var E=i().length-1;E>=0;E--){var S=i().key(E);g(c(S),S)}}function v(g){return i().removeItem(g)}function _(){return i().clear()}},8728:K=>{K.exports={name:"memoryStorage",read:e,write:t,each:a,remove:i,clearAll:c};var f={};function e(p){return f[p]}function t(p,l){f[p]=l}function a(p){for(var l in f)f.hasOwnProperty(l)&&p(f[l],l)}function i(p){delete f[p]}function c(p){f={}}},58855:(K,f,e)=>{var t=e(69078),a=t.Global;K.exports={name:"sessionStorage",read:c,write:p,each:l,remove:v,clearAll:_};function i(){return a.sessionStorage}function c(g){return i().getItem(g)}function p(g,E){return i().setItem(g,E)}function l(g){for(var E=i().length-1;E>=0;E--){var S=i().key(E);g(c(S),S)}}function v(g){return i().removeItem(g)}function _(){return i().clear()}},37903:K=>{"use strict";function f(l){return i(l)||a(l)||t(l)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(l,v){if(l){if(typeof l=="string")return c(l,v);var _=Object.prototype.toString.call(l).slice(8,-1);if(_==="Object"&&l.constructor&&(_=l.constructor.name),_==="Map"||_==="Set")return Array.from(l);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return c(l,v)}}function a(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}function i(l){if(Array.isArray(l))return c(l)}function c(l,v){(v==null||v>l.length)&&(v=l.length);for(var _=0,g=new Array(v);_<v;_++)g[_]=l[_];return g}function p(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(l){p.prototype[l]=function(){for(var v=arguments.length,_=new Array(v),g=0;g<v;g++)_[g]=arguments[g];return this._defaults.push({fn:l,args:_}),this}}),p.prototype._setDefaults=function(l){this._defaults.forEach(function(v){l[v.fn].apply(l,f(v.args))})},K.exports=p},80569:(K,f,e)=>{"use strict";function t(D){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(M){return typeof M}:t=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(D)}var a;typeof window!="undefined"?a=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),a=void 0):a=self;var i=e(98767),c=e(4445),p=e(80129),l=e(28899),v=e(54960),_=e(81097),g=e(37903);function E(){}K.exports=function(D,y){return typeof y=="function"?new f.Request("GET",D).end(y):arguments.length===1?new f.Request("GET",D):new f.Request(D,y)},f=K.exports;var S=f;f.Request=C,S.getXHR=function(){if(a.XMLHttpRequest&&(!a.location||a.location.protocol!=="file:"||!a.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(D){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(D){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(D){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(D){}throw new Error("Browser-only version of superagent could not find XHR")};var O="".trim?function(D){return D.trim()}:function(D){return D.replace(/(^\s*|\s*$)/g,"")};function A(D){if(!v(D))return D;var y=[];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&u(y,M,D[M]);return y.join("&")}function u(D,y,M){if(M!==void 0){if(M===null){D.push(encodeURI(y));return}if(Array.isArray(M))M.forEach(function(R){u(D,y,R)});else if(v(M))for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&u(D,"".concat(y,"[").concat(T,"]"),M[T]);else D.push(encodeURI(y)+"="+encodeURIComponent(M))}}S.serializeObject=A;function o(D){for(var y={},M=D.split("&"),T,R,F=0,N=M.length;F<N;++F)T=M[F],R=T.indexOf("="),R===-1?y[decodeURIComponent(T)]="":y[decodeURIComponent(T.slice(0,R))]=decodeURIComponent(T.slice(R+1));return y}S.parseString=o,S.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},S.serialize={"application/x-www-form-urlencoded":p.stringify,"application/json":c},S.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse};function s(D){for(var y=D.split(/\r?\n/),M={},T,R,F,N,U=0,V=y.length;U<V;++U)R=y[U],T=R.indexOf(":"),T!==-1&&(F=R.slice(0,T).toLowerCase(),N=O(R.slice(T+1)),M[F]=N);return M}function w(D){return/[/+]json($|[^-\w])/i.test(D)}function P(D){this.req=D,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var y=this.xhr.status;y===1223&&(y=204),this._setStatusProperties(y),this.headers=s(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&D._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}_(P.prototype),P.prototype._parseBody=function(D){var y=S.parse[this.type];return this.req._parser?this.req._parser(this,D):(!y&&w(this.type)&&(y=S.parse["application/json"]),y&&D&&(D.length>0||D instanceof Object)?y(D):null)},P.prototype.toError=function(){var D=this.req,y=D.method,M=D.url,T="cannot ".concat(y," ").concat(M," (").concat(this.status,")"),R=new Error(T);return R.status=this.status,R.method=y,R.url=M,R},S.Response=P;function C(D,y){var M=this;this._query=this._query||[],this.method=D,this.url=y,this.header={},this._header={},this.on("end",function(){var T=null,R=null;try{R=new P(M)}catch(N){return T=new Error("Parser is unable to parse the response"),T.parse=!0,T.original=N,M.xhr?(T.rawResponse=typeof M.xhr.responseType=="undefined"?M.xhr.responseText:M.xhr.response,T.status=M.xhr.status?M.xhr.status:null,T.statusCode=T.status):(T.rawResponse=null,T.status=null),M.callback(T)}M.emit("response",R);var F;try{M._isResponseOK(R)||(F=new Error(R.statusText||R.text||"Unsuccessful HTTP response"))}catch(N){F=N}F?(F.original=T,F.response=R,F.status=R.status,M.callback(F,R)):M.callback(null,R)})}i(C.prototype),l(C.prototype),C.prototype.type=function(D){return this.set("Content-Type",S.types[D]||D),this},C.prototype.accept=function(D){return this.set("Accept",S.types[D]||D),this},C.prototype.auth=function(D,y,M){arguments.length===1&&(y=""),t(y)==="object"&&y!==null&&(M=y,y=""),M||(M={type:typeof btoa=="function"?"basic":"auto"});var T=function(F){if(typeof btoa=="function")return btoa(F);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(D,y,M,T)},C.prototype.query=function(D){return typeof D!="string"&&(D=A(D)),D&&this._query.push(D),this},C.prototype.attach=function(D,y,M){if(y){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(D,y,M||y.name)}return this},C.prototype._getFormData=function(){return this._formData||(this._formData=new a.FormData),this._formData},C.prototype.callback=function(D,y){if(this._shouldRetry(D,y))return this._retry();var M=this._callback;this.clearTimeout(),D&&(this._maxRetries&&(D.retries=this._retries-1),this.emit("error",D)),M(D,y)},C.prototype.crossDomainError=function(){var D=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);D.crossDomain=!0,D.status=this.status,D.method=this.method,D.url=this.url,this.callback(D)},C.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},C.prototype.ca=C.prototype.agent,C.prototype.buffer=C.prototype.ca,C.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},C.prototype.pipe=C.prototype.write,C.prototype._isHost=function(D){return D&&t(D)==="object"&&!Array.isArray(D)&&Object.prototype.toString.call(D)!=="[object Object]"},C.prototype.end=function(D){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=D||E,this._finalizeQueryString(),this._end()},C.prototype._setUploadTimeout=function(){var D=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){D._timeoutError("Upload timeout of ",D._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},C.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var D=this;this.xhr=S.getXHR();var y=this.xhr,M=this._formData||this._data;this._setTimeouts(),y.onreadystatechange=function(){var U=y.readyState;if(U>=2&&D._responseTimeoutTimer&&clearTimeout(D._responseTimeoutTimer),U===4){var V;try{V=y.status}catch(W){V=0}if(!V)return D.timedout||D._aborted?void 0:D.crossDomainError();D.emit("end")}};var T=function(V,W){W.total>0&&(W.percent=W.loaded/W.total*100,W.percent===100&&clearTimeout(D._uploadTimeoutTimer)),W.direction=V,D.emit("progress",W)};if(this.hasListeners("progress"))try{y.addEventListener("progress",T.bind(null,"download")),y.upload&&y.upload.addEventListener("progress",T.bind(null,"upload"))}catch(U){}y.upload&&this._setUploadTimeout();try{this.username&&this.password?y.open(this.method,this.url,!0,this.username,this.password):y.open(this.method,this.url,!0)}catch(U){return this.callback(U)}if(this._withCredentials&&(y.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof M!="string"&&!this._isHost(M)){var R=this._header["content-type"],F=this._serializer||S.serialize[R?R.split(";")[0]:""];!F&&w(R)&&(F=S.serialize["application/json"]),F&&(M=F(M))}for(var N in this.header)this.header[N]!==null&&Object.prototype.hasOwnProperty.call(this.header,N)&&y.setRequestHeader(N,this.header[N]);this._responseType&&(y.responseType=this._responseType),this.emit("request",this),y.send(typeof M=="undefined"?null:M)},S.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(D){g.prototype[D.toLowerCase()]=function(y,M){var T=new S.Request(D,y);return this._setDefaults(T),M&&T.end(M),T}}),g.prototype.del=g.prototype.delete,S.get=function(D,y,M){var T=S("GET",D);return typeof y=="function"&&(M=y,y=null),y&&T.query(y),M&&T.end(M),T},S.head=function(D,y,M){var T=S("HEAD",D);return typeof y=="function"&&(M=y,y=null),y&&T.query(y),M&&T.end(M),T},S.options=function(D,y,M){var T=S("OPTIONS",D);return typeof y=="function"&&(M=y,y=null),y&&T.send(y),M&&T.end(M),T};function x(D,y,M){var T=S("DELETE",D);return typeof y=="function"&&(M=y,y=null),y&&T.send(y),M&&T.end(M),T}S.del=x,S.delete=x,S.patch=function(D,y,M){var T=S("PATCH",D);return typeof y=="function"&&(M=y,y=null),y&&T.send(y),M&&T.end(M),T},S.post=function(D,y,M){var T=S("POST",D);return typeof y=="function"&&(M=y,y=null),y&&T.send(y),M&&T.end(M),T},S.put=function(D,y,M){var T=S("PUT",D);return typeof y=="function"&&(M=y,y=null),y&&T.send(y),M&&T.end(M),T}},54960:K=>{"use strict";function f(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(i){return typeof i}:f=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},f(t)}function e(t){return t!==null&&f(t)==="object"}K.exports=e},28899:(K,f,e)=>{"use strict";function t(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(g){return typeof g}:t=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(v)}var a=e(54960);K.exports=i;function i(v){if(v)return c(v)}function c(v){for(var _ in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,_)&&(v[_]=i.prototype[_]);return v}i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},i.prototype.parse=function(v){return this._parser=v,this},i.prototype.responseType=function(v){return this._responseType=v,this},i.prototype.serialize=function(v){return this._serializer=v,this},i.prototype.timeout=function(v){if(!v||t(v)!=="object")return this._timeout=v,this._responseTimeout=0,this._uploadTimeout=0,this;for(var _ in v)if(Object.prototype.hasOwnProperty.call(v,_))switch(_){case"deadline":this._timeout=v.deadline;break;case"response":this._responseTimeout=v.response;break;case"upload":this._uploadTimeout=v.upload;break;default:console.warn("Unknown timeout option",_)}return this},i.prototype.retry=function(v,_){return(arguments.length===0||v===!0)&&(v=1),v<=0&&(v=0),this._maxRetries=v,this._retries=0,this._retryCallback=_,this};var p=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),l=new Set([408,413,429,500,502,503,504,521,522,524]);i.prototype._shouldRetry=function(v,_){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var g=this._retryCallback(v,_);if(g===!0)return!0;if(g===!1)return!1}catch(E){console.error(E)}return!!(_&&_.status&&l.has(_.status)||v&&(v.code&&p.has(v.code)||v.timeout&&v.code==="ECONNABORTED"||v.crossDomain))},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},i.prototype.then=function(v,_){var g=this;if(!this._fullfilledPromise){var E=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(S,O){E.on("abort",function(){if(!(g._maxRetries&&g._maxRetries>g._retries)){if(g.timedout&&g.timedoutError){O(g.timedoutError);return}var A=new Error("Aborted");A.code="ABORTED",A.status=g.status,A.method=g.method,A.url=g.url,O(A)}}),E.end(function(A,u){A?O(A):S(u)})})}return this._fullfilledPromise.then(v,_)},i.prototype.catch=function(v){return this.then(void 0,v)},i.prototype.use=function(v){return v(this),this},i.prototype.ok=function(v){if(typeof v!="function")throw new Error("Callback required");return this._okCallback=v,this},i.prototype._isResponseOK=function(v){return v?this._okCallback?this._okCallback(v):v.status>=200&&v.status<300:!1},i.prototype.get=function(v){return this._header[v.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(v,_){if(a(v)){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&this.set(g,v[g]);return this}return this._header[v.toLowerCase()]=_,this.header[v]=_,this},i.prototype.unset=function(v){return delete this._header[v.toLowerCase()],delete this.header[v],this},i.prototype.field=function(v,_){if(v==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(a(v)){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&this.field(g,v[g]);return this}if(Array.isArray(_)){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&this.field(v,_[E]);return this}if(_==null)throw new Error(".field(name, val) val can not be empty");return typeof _=="boolean"&&(_=String(_)),this._getFormData().append(v,_),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(v,_,g,E){switch(g.type){case"basic":this.set("Authorization","Basic ".concat(E("".concat(v,":").concat(_))));break;case"auto":this.username=v,this.password=_;break;case"bearer":this.set("Authorization","Bearer ".concat(v));break;default:break}return this},i.prototype.withCredentials=function(v){return v===void 0&&(v=!0),this._withCredentials=v,this},i.prototype.redirects=function(v){return this._maxRedirects=v,this},i.prototype.maxResponseSize=function(v){if(typeof v!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=v,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(v){var _=a(v),g=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(_&&!this._data)Array.isArray(v)?this._data=[]:this._isHost(v)||(this._data={});else if(v&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(_&&a(this._data))for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(this._data[E]=v[E]);else typeof v=="string"?(g||this.type("form"),g=this._header["content-type"],g&&(g=g.toLowerCase().trim()),g==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(v):v:this._data=(this._data||"")+v):this._data=v;return!_||this._isHost(v)?this:(g||this.type("json"),this)},i.prototype.sortQuery=function(v){return this._sort=typeof v=="undefined"?!0:v,this},i.prototype._finalizeQueryString=function(){var v=this._query.join("&");if(v&&(this.url+=(this.url.includes("?")?"&":"?")+v),this._query.length=0,this._sort){var _=this.url.indexOf("?");if(_>=0){var g=this.url.slice(_+1).split("&");typeof this._sort=="function"?g.sort(this._sort):g.sort(),this.url=this.url.slice(0,_)+"?"+g.join("&")}}},i.prototype._appendQueryString=function(){console.warn("Unsupported")},i.prototype._timeoutError=function(v,_,g){if(!this._aborted){var E=new Error("".concat(v+_,"ms exceeded"));E.timeout=_,E.code="ECONNABORTED",E.errno=g,this.timedout=!0,this.timedoutError=E,this.abort(),this.callback(E)}},i.prototype._setTimeouts=function(){var v=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){v._timeoutError("Timeout of ",v._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){v._timeoutError("Response timeout of ",v._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(K,f,e)=>{"use strict";var t=e(64506);K.exports=a;function a(c){if(c)return i(c)}function i(c){for(var p in a.prototype)Object.prototype.hasOwnProperty.call(a.prototype,p)&&(c[p]=a.prototype[p]);return c}a.prototype.get=function(c){return this.header[c.toLowerCase()]},a.prototype._setHeaderProperties=function(c){var p=c["content-type"]||"";this.type=t.type(p);var l=t.params(p);for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(this[v]=l[v]);this.links={};try{c.link&&(this.links=t.parseLinks(c.link))}catch(_){}},a.prototype._setStatusProperties=function(c){var p=c/100|0;this.statusCode=c,this.status=this.statusCode,this.statusType=p,this.info=p===1,this.ok=p===2,this.redirect=p===3,this.clientError=p===4,this.serverError=p===5,this.error=p===4||p===5?this.toError():!1,this.created=c===201,this.accepted=c===202,this.noContent=c===204,this.badRequest=c===400,this.unauthorized=c===401,this.notAcceptable=c===406,this.forbidden=c===403,this.notFound=c===404,this.unprocessableEntity=c===422}},64506:(K,f)=>{"use strict";function e(i,c){var p;if(typeof Symbol=="undefined"||i[Symbol.iterator]==null){if(Array.isArray(i)||(p=t(i))||c&&i&&typeof i.length=="number"){p&&(i=p);var l=0,v=function(){};return{s:v,n:function(){return l>=i.length?{done:!0}:{done:!1,value:i[l++]}},e:function(O){throw O},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,g=!1,E;return{s:function(){p=i[Symbol.iterator]()},n:function(){var O=p.next();return _=O.done,O},e:function(O){g=!0,E=O},f:function(){try{!_&&p.return!=null&&p.return()}finally{if(g)throw E}}}}function t(i,c){if(i){if(typeof i=="string")return a(i,c);var p=Object.prototype.toString.call(i).slice(8,-1);if(p==="Object"&&i.constructor&&(p=i.constructor.name),p==="Map"||p==="Set")return Array.from(i);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return a(i,c)}}function a(i,c){(c==null||c>i.length)&&(c=i.length);for(var p=0,l=new Array(c);p<c;p++)l[p]=i[p];return l}f.type=function(i){return i.split(/ *; */).shift()},f.params=function(i){var c={},p=e(i.split(/ *; */)),l;try{for(p.s();!(l=p.n()).done;){var v=l.value,_=v.split(/ *= */),g=_.shift(),E=_.shift();g&&E&&(c[g]=E)}}catch(S){p.e(S)}finally{p.f()}return c},f.parseLinks=function(i){var c={},p=e(i.split(/ *, */)),l;try{for(p.s();!(l=p.n()).done;){var v=l.value,_=v.split(/ *; */),g=_[0].slice(1,-1),E=_[1].split(/ *= */)[1].slice(1,-1);c[E]=g}}catch(S){p.e(S)}finally{p.f()}return c},f.cleanHeader=function(i,c){return delete i["content-type"],delete i["content-length"],delete i["transfer-encoding"],delete i.host,c&&(delete i.authorization,delete i.cookie),i}},79253:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>Go});function t(Rt){if(Rt==null)return window;if(Rt.toString()!=="[object Window]"){var Nt=Rt.ownerDocument;return Nt&&Nt.defaultView||window}return Rt}function a(Rt){var Nt=t(Rt).Element;return Rt instanceof Nt||Rt instanceof Element}function i(Rt){var Nt=t(Rt).HTMLElement;return Rt instanceof Nt||Rt instanceof HTMLElement}function c(Rt){if(typeof ShadowRoot=="undefined")return!1;var Nt=t(Rt).ShadowRoot;return Rt instanceof Nt||Rt instanceof ShadowRoot}var p=Math.max,l=Math.min,v=Math.round;function _(Rt,Nt){Nt===void 0&&(Nt=!1);var mn=Rt.getBoundingClientRect(),tr=1,dr=1;if(i(Rt)&&Nt){var Pr=Rt.offsetHeight,Or=Rt.offsetWidth;Or>0&&(tr=v(mn.width)/Or||1),Pr>0&&(dr=v(mn.height)/Pr||1)}return{width:mn.width/tr,height:mn.height/dr,top:mn.top/dr,right:mn.right/tr,bottom:mn.bottom/dr,left:mn.left/tr,x:mn.left/tr,y:mn.top/dr}}function g(Rt){var Nt=t(Rt),mn=Nt.pageXOffset,tr=Nt.pageYOffset;return{scrollLeft:mn,scrollTop:tr}}function E(Rt){return{scrollLeft:Rt.scrollLeft,scrollTop:Rt.scrollTop}}function S(Rt){return Rt===t(Rt)||!i(Rt)?g(Rt):E(Rt)}function O(Rt){return Rt?(Rt.nodeName||"").toLowerCase():null}function A(Rt){return((a(Rt)?Rt.ownerDocument:Rt.document)||window.document).documentElement}function u(Rt){return _(A(Rt)).left+g(Rt).scrollLeft}function o(Rt){return t(Rt).getComputedStyle(Rt)}function s(Rt){var Nt=o(Rt),mn=Nt.overflow,tr=Nt.overflowX,dr=Nt.overflowY;return/auto|scroll|overlay|hidden/.test(mn+dr+tr)}function w(Rt){var Nt=Rt.getBoundingClientRect(),mn=v(Nt.width)/Rt.offsetWidth||1,tr=v(Nt.height)/Rt.offsetHeight||1;return mn!==1||tr!==1}function P(Rt,Nt,mn){mn===void 0&&(mn=!1);var tr=i(Nt),dr=i(Nt)&&w(Nt),Pr=A(Nt),Or=_(Rt,dr),Ur={scrollLeft:0,scrollTop:0},Hr={x:0,y:0};return(tr||!tr&&!mn)&&((O(Nt)!=="body"||s(Pr))&&(Ur=S(Nt)),i(Nt)?(Hr=_(Nt,!0),Hr.x+=Nt.clientLeft,Hr.y+=Nt.clientTop):Pr&&(Hr.x=u(Pr))),{x:Or.left+Ur.scrollLeft-Hr.x,y:Or.top+Ur.scrollTop-Hr.y,width:Or.width,height:Or.height}}function C(Rt){var Nt=_(Rt),mn=Rt.offsetWidth,tr=Rt.offsetHeight;return Math.abs(Nt.width-mn)<=1&&(mn=Nt.width),Math.abs(Nt.height-tr)<=1&&(tr=Nt.height),{x:Rt.offsetLeft,y:Rt.offsetTop,width:mn,height:tr}}function x(Rt){return O(Rt)==="html"?Rt:Rt.assignedSlot||Rt.parentNode||(c(Rt)?Rt.host:null)||A(Rt)}function D(Rt){return["html","body","#document"].indexOf(O(Rt))>=0?Rt.ownerDocument.body:i(Rt)&&s(Rt)?Rt:D(x(Rt))}function y(Rt,Nt){var mn;Nt===void 0&&(Nt=[]);var tr=D(Rt),dr=tr===((mn=Rt.ownerDocument)==null?void 0:mn.body),Pr=t(tr),Or=dr?[Pr].concat(Pr.visualViewport||[],s(tr)?tr:[]):tr,Ur=Nt.concat(Or);return dr?Ur:Ur.concat(y(x(Or)))}function M(Rt){return["table","td","th"].indexOf(O(Rt))>=0}function T(Rt){return!i(Rt)||o(Rt).position==="fixed"?null:Rt.offsetParent}function R(Rt){var Nt=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,mn=navigator.userAgent.indexOf("Trident")!==-1;if(mn&&i(Rt)){var tr=o(Rt);if(tr.position==="fixed")return null}for(var dr=x(Rt);i(dr)&&["html","body"].indexOf(O(dr))<0;){var Pr=o(dr);if(Pr.transform!=="none"||Pr.perspective!=="none"||Pr.contain==="paint"||["transform","perspective"].indexOf(Pr.willChange)!==-1||Nt&&Pr.willChange==="filter"||Nt&&Pr.filter&&Pr.filter!=="none")return dr;dr=dr.parentNode}return null}function F(Rt){for(var Nt=t(Rt),mn=T(Rt);mn&&M(mn)&&o(mn).position==="static";)mn=T(mn);return mn&&(O(mn)==="html"||O(mn)==="body"&&o(mn).position==="static")?Nt:mn||R(Rt)||Nt}var N="top",U="bottom",V="right",W="left",L="auto",k=[N,U,V,W],H="start",G="end",q="clippingParents",z="viewport",ee="popper",$="reference",J=k.reduce(function(Rt,Nt){return Rt.concat([Nt+"-"+H,Nt+"-"+G])},[]),j=[].concat(k,[L]).reduce(function(Rt,Nt){return Rt.concat([Nt,Nt+"-"+H,Nt+"-"+G])},[]),Z="beforeRead",ne="read",ie="afterRead",oe="beforeMain",re="main",ae="afterMain",se="beforeWrite",fe="write",le="afterWrite",Ae=[Z,ne,ie,oe,re,ae,se,fe,le];function De(Rt){var Nt=new Map,mn=new Set,tr=[];Rt.forEach(function(Pr){Nt.set(Pr.name,Pr)});function dr(Pr){mn.add(Pr.name);var Or=[].concat(Pr.requires||[],Pr.requiresIfExists||[]);Or.forEach(function(Ur){if(!mn.has(Ur)){var Hr=Nt.get(Ur);Hr&&dr(Hr)}}),tr.push(Pr)}return Rt.forEach(function(Pr){mn.has(Pr.name)||dr(Pr)}),tr}function je(Rt){var Nt=De(Rt);return Ae.reduce(function(mn,tr){return mn.concat(Nt.filter(function(dr){return dr.phase===tr}))},[])}function Je(Rt){var Nt;return function(){return Nt||(Nt=new Promise(function(mn){Promise.resolve().then(function(){Nt=void 0,mn(Rt())})})),Nt}}function Be(Rt){var Nt=Rt.reduce(function(mn,tr){var dr=mn[tr.name];return mn[tr.name]=dr?Object.assign({},dr,tr,{options:Object.assign({},dr.options,tr.options),data:Object.assign({},dr.data,tr.data)}):tr,mn},{});return Object.keys(Nt).map(function(mn){return Nt[mn]})}var st="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",ht="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",gt={placement:"bottom",modifiers:[],strategy:"absolute"};function Xe(){for(var Rt=arguments.length,Nt=new Array(Rt),mn=0;mn<Rt;mn++)Nt[mn]=arguments[mn];return!Nt.some(function(tr){return!(tr&&typeof tr.getBoundingClientRect=="function")})}function Re(Rt){Rt===void 0&&(Rt={});var Nt=Rt,mn=Nt.defaultModifiers,tr=mn===void 0?[]:mn,dr=Nt.defaultOptions,Pr=dr===void 0?gt:dr;return function(Ur,Hr,Br){Br===void 0&&(Br=Pr);var Dr={placement:"bottom",orderedModifiers:[],options:Object.assign({},gt,Pr),modifiersData:{},elements:{reference:Ur,popper:Hr},attributes:{},styles:{}},bo=[],Po=!1,uo={state:Dr,setOptions:function(oo){var wo=typeof oo=="function"?oo(Dr.options):oo;go(),Dr.options=Object.assign({},Pr,Dr.options,wo),Dr.scrollParents={reference:a(Ur)?y(Ur):Ur.contextElement?y(Ur.contextElement):[],popper:y(Hr)};var To=je(Be([].concat(tr,Dr.options.modifiers)));if(Dr.orderedModifiers=To.filter(function(Ft){return Ft.enabled}),!1)var de,pe,ve,Me,rt,dt,Tt;return lo(),uo.update()},forceUpdate:function(){if(!Po){var oo=Dr.elements,wo=oo.reference,To=oo.popper;if(Xe(wo,To)){Dr.rects={reference:P(wo,F(To),Dr.options.strategy==="fixed"),popper:C(To)},Dr.reset=!1,Dr.placement=Dr.options.placement,Dr.orderedModifiers.forEach(function(Ft){return Dr.modifiersData[Ft.name]=Object.assign({},Ft.data)});for(var de=0,pe=0;pe<Dr.orderedModifiers.length;pe++){if(Dr.reset===!0){Dr.reset=!1,pe=-1;continue}var ve=Dr.orderedModifiers[pe],Me=ve.fn,rt=ve.options,dt=rt===void 0?{}:rt,Tt=ve.name;typeof Me=="function"&&(Dr=Me({state:Dr,options:dt,name:Tt,instance:uo})||Dr)}}}},update:Je(function(){return new Promise(function(_o){uo.forceUpdate(),_o(Dr)})}),destroy:function(){go(),Po=!0}};if(!Xe(Ur,Hr))return uo;uo.setOptions(Br).then(function(_o){!Po&&Br.onFirstUpdate&&Br.onFirstUpdate(_o)});function lo(){Dr.orderedModifiers.forEach(function(_o){var oo=_o.name,wo=_o.options,To=wo===void 0?{}:wo,de=_o.effect;if(typeof de=="function"){var pe=de({state:Dr,name:oo,instance:uo,options:To}),ve=function(){};bo.push(pe||ve)}})}function go(){bo.forEach(function(_o){return _o()}),bo=[]}return uo}}var Ne=null,ke={passive:!0};function ot(Rt){var Nt=Rt.state,mn=Rt.instance,tr=Rt.options,dr=tr.scroll,Pr=dr===void 0?!0:dr,Or=tr.resize,Ur=Or===void 0?!0:Or,Hr=t(Nt.elements.popper),Br=[].concat(Nt.scrollParents.reference,Nt.scrollParents.popper);return Pr&&Br.forEach(function(Dr){Dr.addEventListener("scroll",mn.update,ke)}),Ur&&Hr.addEventListener("resize",mn.update,ke),function(){Pr&&Br.forEach(function(Dr){Dr.removeEventListener("scroll",mn.update,ke)}),Ur&&Hr.removeEventListener("resize",mn.update,ke)}}const Dt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ot,data:{}};function ln(Rt){return Rt.split("-")[0]}function ct(Rt){return Rt.split("-")[1]}function Oe(Rt){return["top","bottom"].indexOf(Rt)>=0?"x":"y"}function Se(Rt){var Nt=Rt.reference,mn=Rt.element,tr=Rt.placement,dr=tr?ln(tr):null,Pr=tr?ct(tr):null,Or=Nt.x+Nt.width/2-mn.width/2,Ur=Nt.y+Nt.height/2-mn.height/2,Hr;switch(dr){case N:Hr={x:Or,y:Nt.y-mn.height};break;case U:Hr={x:Or,y:Nt.y+Nt.height};break;case V:Hr={x:Nt.x+Nt.width,y:Ur};break;case W:Hr={x:Nt.x-mn.width,y:Ur};break;default:Hr={x:Nt.x,y:Nt.y}}var Br=dr?Oe(dr):null;if(Br!=null){var Dr=Br==="y"?"height":"width";switch(Pr){case H:Hr[Br]=Hr[Br]-(Nt[Dr]/2-mn[Dr]/2);break;case G:Hr[Br]=Hr[Br]+(Nt[Dr]/2-mn[Dr]/2);break;default:}}return Hr}function Ze(Rt){var Nt=Rt.state,mn=Rt.name;Nt.modifiersData[mn]=Se({reference:Nt.rects.reference,element:Nt.rects.popper,strategy:"absolute",placement:Nt.placement})}const Fe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ze,data:{}};var Ke={top:"auto",right:"auto",bottom:"auto",left:"auto"};function et(Rt){var Nt=Rt.x,mn=Rt.y,tr=window,dr=tr.devicePixelRatio||1;return{x:v(Nt*dr)/dr||0,y:v(mn*dr)/dr||0}}function Qe(Rt){var Nt,mn=Rt.popper,tr=Rt.popperRect,dr=Rt.placement,Pr=Rt.variation,Or=Rt.offsets,Ur=Rt.position,Hr=Rt.gpuAcceleration,Br=Rt.adaptive,Dr=Rt.roundOffsets,bo=Rt.isFixed,Po=Or.x,uo=Po===void 0?0:Po,lo=Or.y,go=lo===void 0?0:lo,_o=typeof Dr=="function"?Dr({x:uo,y:go}):{x:uo,y:go};uo=_o.x,go=_o.y;var oo=Or.hasOwnProperty("x"),wo=Or.hasOwnProperty("y"),To=W,de=N,pe=window;if(Br){var ve=F(mn),Me="clientHeight",rt="clientWidth";if(ve===t(mn)&&(ve=A(mn),o(ve).position!=="static"&&Ur==="absolute"&&(Me="scrollHeight",rt="scrollWidth")),ve=ve,dr===N||(dr===W||dr===V)&&Pr===G){de=U;var dt=bo&&pe.visualViewport?pe.visualViewport.height:ve[Me];go-=dt-tr.height,go*=Hr?1:-1}if(dr===W||(dr===N||dr===U)&&Pr===G){To=V;var Tt=bo&&pe.visualViewport?pe.visualViewport.width:ve[rt];uo-=Tt-tr.width,uo*=Hr?1:-1}}var Ft=Object.assign({position:Ur},Br&&Ke),rn=Dr===!0?et({x:uo,y:go}):{x:uo,y:go};if(uo=rn.x,go=rn.y,Hr){var Bn;return Object.assign({},Ft,(Bn={},Bn[de]=wo?"0":"",Bn[To]=oo?"0":"",Bn.transform=(pe.devicePixelRatio||1)<=1?"translate("+uo+"px, "+go+"px)":"translate3d("+uo+"px, "+go+"px, 0)",Bn))}return Object.assign({},Ft,(Nt={},Nt[de]=wo?go+"px":"",Nt[To]=oo?uo+"px":"",Nt.transform="",Nt))}function $e(Rt){var Nt=Rt.state,mn=Rt.options,tr=mn.gpuAcceleration,dr=tr===void 0?!0:tr,Pr=mn.adaptive,Or=Pr===void 0?!0:Pr,Ur=mn.roundOffsets,Hr=Ur===void 0?!0:Ur;if(!1)var Br;var Dr={placement:ln(Nt.placement),variation:ct(Nt.placement),popper:Nt.elements.popper,popperRect:Nt.rects.popper,gpuAcceleration:dr,isFixed:Nt.options.strategy==="fixed"};Nt.modifiersData.popperOffsets!=null&&(Nt.styles.popper=Object.assign({},Nt.styles.popper,Qe(Object.assign({},Dr,{offsets:Nt.modifiersData.popperOffsets,position:Nt.options.strategy,adaptive:Or,roundOffsets:Hr})))),Nt.modifiersData.arrow!=null&&(Nt.styles.arrow=Object.assign({},Nt.styles.arrow,Qe(Object.assign({},Dr,{offsets:Nt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Hr})))),Nt.attributes.popper=Object.assign({},Nt.attributes.popper,{"data-popper-placement":Nt.placement})}const Te={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$e,data:{}};function te(Rt){var Nt=Rt.state;Object.keys(Nt.elements).forEach(function(mn){var tr=Nt.styles[mn]||{},dr=Nt.attributes[mn]||{},Pr=Nt.elements[mn];!i(Pr)||!O(Pr)||(Object.assign(Pr.style,tr),Object.keys(dr).forEach(function(Or){var Ur=dr[Or];Ur===!1?Pr.removeAttribute(Or):Pr.setAttribute(Or,Ur===!0?"":Ur)}))})}function ue(Rt){var Nt=Rt.state,mn={popper:{position:Nt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Nt.elements.popper.style,mn.popper),Nt.styles=mn,Nt.elements.arrow&&Object.assign(Nt.elements.arrow.style,mn.arrow),function(){Object.keys(Nt.elements).forEach(function(tr){var dr=Nt.elements[tr],Pr=Nt.attributes[tr]||{},Or=Object.keys(Nt.styles.hasOwnProperty(tr)?Nt.styles[tr]:mn[tr]),Ur=Or.reduce(function(Hr,Br){return Hr[Br]="",Hr},{});!i(dr)||!O(dr)||(Object.assign(dr.style,Ur),Object.keys(Pr).forEach(function(Hr){dr.removeAttribute(Hr)}))})}}const we={name:"applyStyles",enabled:!0,phase:"write",fn:te,effect:ue,requires:["computeStyles"]};function me(Rt,Nt,mn){var tr=ln(Rt),dr=[W,N].indexOf(tr)>=0?-1:1,Pr=typeof mn=="function"?mn(Object.assign({},Nt,{placement:Rt})):mn,Or=Pr[0],Ur=Pr[1];return Or=Or||0,Ur=(Ur||0)*dr,[W,V].indexOf(tr)>=0?{x:Ur,y:Or}:{x:Or,y:Ur}}function Ee(Rt){var Nt=Rt.state,mn=Rt.options,tr=Rt.name,dr=mn.offset,Pr=dr===void 0?[0,0]:dr,Or=j.reduce(function(Dr,bo){return Dr[bo]=me(bo,Nt.rects,Pr),Dr},{}),Ur=Or[Nt.placement],Hr=Ur.x,Br=Ur.y;Nt.modifiersData.popperOffsets!=null&&(Nt.modifiersData.popperOffsets.x+=Hr,Nt.modifiersData.popperOffsets.y+=Br),Nt.modifiersData[tr]=Or}const he={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ee};var xe={left:"right",right:"left",bottom:"top",top:"bottom"};function Ve(Rt){return Rt.replace(/left|right|bottom|top/g,function(Nt){return xe[Nt]})}var Pe={start:"end",end:"start"};function Ie(Rt){return Rt.replace(/start|end/g,function(Nt){return Pe[Nt]})}function ze(Rt){var Nt=t(Rt),mn=A(Rt),tr=Nt.visualViewport,dr=mn.clientWidth,Pr=mn.clientHeight,Or=0,Ur=0;return tr&&(dr=tr.width,Pr=tr.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Or=tr.offsetLeft,Ur=tr.offsetTop)),{width:dr,height:Pr,x:Or+u(Rt),y:Ur}}function tt(Rt){var Nt,mn=A(Rt),tr=g(Rt),dr=(Nt=Rt.ownerDocument)==null?void 0:Nt.body,Pr=p(mn.scrollWidth,mn.clientWidth,dr?dr.scrollWidth:0,dr?dr.clientWidth:0),Or=p(mn.scrollHeight,mn.clientHeight,dr?dr.scrollHeight:0,dr?dr.clientHeight:0),Ur=-tr.scrollLeft+u(Rt),Hr=-tr.scrollTop;return o(dr||mn).direction==="rtl"&&(Ur+=p(mn.clientWidth,dr?dr.clientWidth:0)-Pr),{width:Pr,height:Or,x:Ur,y:Hr}}function Le(Rt,Nt){var mn=Nt.getRootNode&&Nt.getRootNode();if(Rt.contains(Nt))return!0;if(mn&&c(mn)){var tr=Nt;do{if(tr&&Rt.isSameNode(tr))return!0;tr=tr.parentNode||tr.host}while(tr)}return!1}function It(Rt){return Object.assign({},Rt,{left:Rt.x,top:Rt.y,right:Rt.x+Rt.width,bottom:Rt.y+Rt.height})}function on(Rt){var Nt=_(Rt);return Nt.top=Nt.top+Rt.clientTop,Nt.left=Nt.left+Rt.clientLeft,Nt.bottom=Nt.top+Rt.clientHeight,Nt.right=Nt.left+Rt.clientWidth,Nt.width=Rt.clientWidth,Nt.height=Rt.clientHeight,Nt.x=Nt.left,Nt.y=Nt.top,Nt}function zt(Rt,Nt){return Nt===z?It(ze(Rt)):a(Nt)?on(Nt):It(tt(A(Rt)))}function $t(Rt){var Nt=y(x(Rt)),mn=["absolute","fixed"].indexOf(o(Rt).position)>=0,tr=mn&&i(Rt)?F(Rt):Rt;return a(tr)?Nt.filter(function(dr){return a(dr)&&Le(dr,tr)&&O(dr)!=="body"}):[]}function Bt(Rt,Nt,mn){var tr=Nt==="clippingParents"?$t(Rt):[].concat(Nt),dr=[].concat(tr,[mn]),Pr=dr[0],Or=dr.reduce(function(Ur,Hr){var Br=zt(Rt,Hr);return Ur.top=p(Br.top,Ur.top),Ur.right=l(Br.right,Ur.right),Ur.bottom=l(Br.bottom,Ur.bottom),Ur.left=p(Br.left,Ur.left),Ur},zt(Rt,Pr));return Or.width=Or.right-Or.left,Or.height=Or.bottom-Or.top,Or.x=Or.left,Or.y=Or.top,Or}function xn(){return{top:0,right:0,bottom:0,left:0}}function Hn(Rt){return Object.assign({},xn(),Rt)}function ir(Rt,Nt){return Nt.reduce(function(mn,tr){return mn[tr]=Rt,mn},{})}function Vn(Rt,Nt){Nt===void 0&&(Nt={});var mn=Nt,tr=mn.placement,dr=tr===void 0?Rt.placement:tr,Pr=mn.boundary,Or=Pr===void 0?q:Pr,Ur=mn.rootBoundary,Hr=Ur===void 0?z:Ur,Br=mn.elementContext,Dr=Br===void 0?ee:Br,bo=mn.altBoundary,Po=bo===void 0?!1:bo,uo=mn.padding,lo=uo===void 0?0:uo,go=Hn(typeof lo!="number"?lo:ir(lo,k)),_o=Dr===ee?$:ee,oo=Rt.rects.popper,wo=Rt.elements[Po?_o:Dr],To=Bt(a(wo)?wo:wo.contextElement||A(Rt.elements.popper),Or,Hr),de=_(Rt.elements.reference),pe=Se({reference:de,element:oo,strategy:"absolute",placement:dr}),ve=It(Object.assign({},oo,pe)),Me=Dr===ee?ve:de,rt={top:To.top-Me.top+go.top,bottom:Me.bottom-To.bottom+go.bottom,left:To.left-Me.left+go.left,right:Me.right-To.right+go.right},dt=Rt.modifiersData.offset;if(Dr===ee&&dt){var Tt=dt[dr];Object.keys(rt).forEach(function(Ft){var rn=[V,U].indexOf(Ft)>=0?1:-1,Bn=[N,U].indexOf(Ft)>=0?"y":"x";rt[Ft]+=Tt[Bn]*rn})}return rt}function _t(Rt,Nt){Nt===void 0&&(Nt={});var mn=Nt,tr=mn.placement,dr=mn.boundary,Pr=mn.rootBoundary,Or=mn.padding,Ur=mn.flipVariations,Hr=mn.allowedAutoPlacements,Br=Hr===void 0?j:Hr,Dr=ct(tr),bo=Dr?Ur?J:J.filter(function(lo){return ct(lo)===Dr}):k,Po=bo.filter(function(lo){return Br.indexOf(lo)>=0});Po.length===0&&(Po=bo);var uo=Po.reduce(function(lo,go){return lo[go]=Vn(Rt,{placement:go,boundary:dr,rootBoundary:Pr,padding:Or})[ln(go)],lo},{});return Object.keys(uo).sort(function(lo,go){return uo[lo]-uo[go]})}function ut(Rt){if(ln(Rt)===L)return[];var Nt=Ve(Rt);return[Ie(Rt),Nt,Ie(Nt)]}function Ce(Rt){var Nt=Rt.state,mn=Rt.options,tr=Rt.name;if(!Nt.modifiersData[tr]._skip){for(var dr=mn.mainAxis,Pr=dr===void 0?!0:dr,Or=mn.altAxis,Ur=Or===void 0?!0:Or,Hr=mn.fallbackPlacements,Br=mn.padding,Dr=mn.boundary,bo=mn.rootBoundary,Po=mn.altBoundary,uo=mn.flipVariations,lo=uo===void 0?!0:uo,go=mn.allowedAutoPlacements,_o=Nt.options.placement,oo=ln(_o),wo=oo===_o,To=Hr||(wo||!lo?[Ve(_o)]:ut(_o)),de=[_o].concat(To).reduce(function(kn,er){return kn.concat(ln(er)===L?_t(Nt,{placement:er,boundary:Dr,rootBoundary:bo,padding:Br,flipVariations:lo,allowedAutoPlacements:go}):er)},[]),pe=Nt.rects.reference,ve=Nt.rects.popper,Me=new Map,rt=!0,dt=de[0],Tt=0;Tt<de.length;Tt++){var Ft=de[Tt],rn=ln(Ft),Bn=ct(Ft)===H,Jn=[N,U].indexOf(rn)>=0,Lr=Jn?"width":"height",kr=Vn(Nt,{placement:Ft,boundary:Dr,rootBoundary:bo,altBoundary:Po,padding:Br}),Rr=Jn?Bn?V:W:Bn?U:N;pe[Lr]>ve[Lr]&&(Rr=Ve(Rr));var qr=Ve(Rr),xo=[];if(Pr&&xo.push(kr[rn]<=0),Ur&&xo.push(kr[Rr]<=0,kr[qr]<=0),xo.every(function(kn){return kn})){dt=Ft,rt=!1;break}Me.set(Ft,xo)}if(rt)for(var fo=lo?3:1,He=function(er){var Nr=de.find(function(Wr){var Fr=Me.get(Wr);if(Fr)return Fr.slice(0,er).every(function(ro){return ro})});if(Nr)return dt=Nr,"break"},Ht=fo;Ht>0;Ht--){var wn=He(Ht);if(wn==="break")break}Nt.placement!==dt&&(Nt.modifiersData[tr]._skip=!0,Nt.placement=dt,Nt.reset=!0)}}const be={name:"flip",enabled:!0,phase:"main",fn:Ce,requiresIfExists:["offset"],data:{_skip:!1}};function We(Rt){return Rt==="x"?"y":"x"}function qe(Rt,Nt,mn){return p(Rt,l(Nt,mn))}function Et(Rt,Nt,mn){var tr=qe(Rt,Nt,mn);return tr>mn?mn:tr}function en(Rt){var Nt=Rt.state,mn=Rt.options,tr=Rt.name,dr=mn.mainAxis,Pr=dr===void 0?!0:dr,Or=mn.altAxis,Ur=Or===void 0?!1:Or,Hr=mn.boundary,Br=mn.rootBoundary,Dr=mn.altBoundary,bo=mn.padding,Po=mn.tether,uo=Po===void 0?!0:Po,lo=mn.tetherOffset,go=lo===void 0?0:lo,_o=Vn(Nt,{boundary:Hr,rootBoundary:Br,padding:bo,altBoundary:Dr}),oo=ln(Nt.placement),wo=ct(Nt.placement),To=!wo,de=Oe(oo),pe=We(de),ve=Nt.modifiersData.popperOffsets,Me=Nt.rects.reference,rt=Nt.rects.popper,dt=typeof go=="function"?go(Object.assign({},Nt.rects,{placement:Nt.placement})):go,Tt=typeof dt=="number"?{mainAxis:dt,altAxis:dt}:Object.assign({mainAxis:0,altAxis:0},dt),Ft=Nt.modifiersData.offset?Nt.modifiersData.offset[Nt.placement]:null,rn={x:0,y:0};if(ve){if(Pr){var Bn,Jn=de==="y"?N:W,Lr=de==="y"?U:V,kr=de==="y"?"height":"width",Rr=ve[de],qr=Rr+_o[Jn],xo=Rr-_o[Lr],fo=uo?-rt[kr]/2:0,He=wo===H?Me[kr]:rt[kr],Ht=wo===H?-rt[kr]:-Me[kr],wn=Nt.elements.arrow,kn=uo&&wn?C(wn):{width:0,height:0},er=Nt.modifiersData["arrow#persistent"]?Nt.modifiersData["arrow#persistent"].padding:xn(),Nr=er[Jn],Wr=er[Lr],Fr=qe(0,Me[kr],kn[kr]),ro=To?Me[kr]/2-fo-Fr-Nr-Tt.mainAxis:He-Fr-Nr-Tt.mainAxis,Ko=To?-Me[kr]/2+fo+Fr+Wr+Tt.mainAxis:Ht+Fr+Wr+Tt.mainAxis,si=Nt.elements.arrow&&F(Nt.elements.arrow),Xo=si?de==="y"?si.clientTop||0:si.clientLeft||0:0,Lo=(Bn=Ft==null?void 0:Ft[de])!=null?Bn:0,Ao=Rr+ro-Lo-Xo,ji=Rr+Ko-Lo,Ra=qe(uo?l(qr,Ao):qr,Rr,uo?p(xo,ji):xo);ve[de]=Ra,rn[de]=Ra-Rr}if(Ur){var La,Ms=de==="x"?N:W,Ii=de==="x"?U:V,Si=ve[pe],na=pe==="y"?"height":"width",di=Si+_o[Ms],da=Si-_o[Ii],Na=[N,W].indexOf(oo)!==-1,qa=(La=Ft==null?void 0:Ft[pe])!=null?La:0,es=Na?di:Si-Me[na]-rt[na]-qa+Tt.altAxis,ts=Na?Si+Me[na]+rt[na]-qa-Tt.altAxis:da,ka=uo&&Na?Et(es,Si,ts):qe(uo?es:di,Si,uo?ts:da);ve[pe]=ka,rn[pe]=ka-Si}Nt.modifiersData[tr]=rn}}const In={name:"preventOverflow",enabled:!0,phase:"main",fn:en,requiresIfExists:["offset"]};var qn=function(Nt,mn){return Nt=typeof Nt=="function"?Nt(Object.assign({},mn.rects,{placement:mn.placement})):Nt,Hn(typeof Nt!="number"?Nt:ir(Nt,k))};function cr(Rt){var Nt,mn=Rt.state,tr=Rt.name,dr=Rt.options,Pr=mn.elements.arrow,Or=mn.modifiersData.popperOffsets,Ur=ln(mn.placement),Hr=Oe(Ur),Br=[W,V].indexOf(Ur)>=0,Dr=Br?"height":"width";if(!(!Pr||!Or)){var bo=qn(dr.padding,mn),Po=C(Pr),uo=Hr==="y"?N:W,lo=Hr==="y"?U:V,go=mn.rects.reference[Dr]+mn.rects.reference[Hr]-Or[Hr]-mn.rects.popper[Dr],_o=Or[Hr]-mn.rects.reference[Hr],oo=F(Pr),wo=oo?Hr==="y"?oo.clientHeight||0:oo.clientWidth||0:0,To=go/2-_o/2,de=bo[uo],pe=wo-Po[Dr]-bo[lo],ve=wo/2-Po[Dr]/2+To,Me=qe(de,ve,pe),rt=Hr;mn.modifiersData[tr]=(Nt={},Nt[rt]=Me,Nt.centerOffset=Me-ve,Nt)}}function pr(Rt){var Nt=Rt.state,mn=Rt.options,tr=mn.element,dr=tr===void 0?"[data-popper-arrow]":tr;dr!=null&&(typeof dr=="string"&&(dr=Nt.elements.popper.querySelector(dr),!dr)||Le(Nt.elements.popper,dr)&&(Nt.elements.arrow=dr))}const wr={name:"arrow",enabled:!0,phase:"main",fn:cr,effect:pr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vr(Rt,Nt,mn){return mn===void 0&&(mn={x:0,y:0}),{top:Rt.top-Nt.height-mn.y,right:Rt.right-Nt.width+mn.x,bottom:Rt.bottom-Nt.height+mn.y,left:Rt.left-Nt.width-mn.x}}function On(Rt){return[N,V,U,W].some(function(Nt){return Rt[Nt]>=0})}function pt(Rt){var Nt=Rt.state,mn=Rt.name,tr=Nt.rects.reference,dr=Nt.rects.popper,Pr=Nt.modifiersData.preventOverflow,Or=Vn(Nt,{elementContext:"reference"}),Ur=Vn(Nt,{altBoundary:!0}),Hr=Vr(Or,tr),Br=Vr(Ur,dr,Pr),Dr=On(Hr),bo=On(Br);Nt.modifiersData[mn]={referenceClippingOffsets:Hr,popperEscapeOffsets:Br,isReferenceHidden:Dr,hasPopperEscaped:bo},Nt.attributes.popper=Object.assign({},Nt.attributes.popper,{"data-popper-reference-hidden":Dr,"data-popper-escaped":bo})}var Dn=[Dt,Fe,Te,we,he,be,In,wr,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pt}],Gn=Re({defaultModifiers:Dn}),Kt='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',wt="tippy-box",Lt="tippy-content",mt="tippy-backdrop",Mt="tippy-arrow",Jt="tippy-svg-arrow",pn={passive:!0,capture:!0},An=function(){return document.body};function Fn(Rt,Nt){return{}.hasOwnProperty.call(Rt,Nt)}function Un(Rt,Nt,mn){if(Array.isArray(Rt)){var tr=Rt[Nt];return tr==null?Array.isArray(mn)?mn[Nt]:mn:tr}return Rt}function Gt(Rt,Nt){var mn={}.toString.call(Rt);return mn.indexOf("[object")===0&&mn.indexOf(Nt+"]")>-1}function Zt(Rt,Nt){return typeof Rt=="function"?Rt.apply(void 0,Nt):Rt}function _n(Rt,Nt){if(Nt===0)return Rt;var mn;return function(tr){clearTimeout(mn),mn=setTimeout(function(){Rt(tr)},Nt)}}function Qn(Rt,Nt){var mn=Object.assign({},Rt);return Nt.forEach(function(tr){delete mn[tr]}),mn}function At(Rt){return Rt.split(/\s+/).filter(Boolean)}function fn(Rt){return[].concat(Rt)}function gn(Rt,Nt){Rt.indexOf(Nt)===-1&&Rt.push(Nt)}function Mn(Rt){return Rt.filter(function(Nt,mn){return Rt.indexOf(Nt)===mn})}function Wn(Rt){return Rt.split("-")[0]}function rr(Rt){return[].slice.call(Rt)}function Zn(Rt){return Object.keys(Rt).reduce(function(Nt,mn){return Rt[mn]!==void 0&&(Nt[mn]=Rt[mn]),Nt},{})}function ur(){return document.createElement("div")}function Ar(Rt){return["Element","Fragment"].some(function(Nt){return Gt(Rt,Nt)})}function so(Rt){return Gt(Rt,"NodeList")}function io(Rt){return Gt(Rt,"MouseEvent")}function Qr(Rt){return!!(Rt&&Rt._tippy&&Rt._tippy.reference===Rt)}function Eo(Rt){return Ar(Rt)?[Rt]:so(Rt)?rr(Rt):Array.isArray(Rt)?Rt:rr(document.querySelectorAll(Rt))}function So(Rt,Nt){Rt.forEach(function(mn){mn&&(mn.style.transitionDuration=Nt+"ms")})}function Wt(Rt,Nt){Rt.forEach(function(mn){mn&&mn.setAttribute("data-state",Nt)})}function jn(Rt){var Nt,mn=fn(Rt),tr=mn[0];return tr!=null&&(Nt=tr.ownerDocument)!=null&&Nt.body?tr.ownerDocument:document}function bt(Rt,Nt){var mn=Nt.clientX,tr=Nt.clientY;return Rt.every(function(dr){var Pr=dr.popperRect,Or=dr.popperState,Ur=dr.props,Hr=Ur.interactiveBorder,Br=Wn(Or.placement),Dr=Or.modifiersData.offset;if(!Dr)return!0;var bo=Br==="bottom"?Dr.top.y:0,Po=Br==="top"?Dr.bottom.y:0,uo=Br==="right"?Dr.left.x:0,lo=Br==="left"?Dr.right.x:0,go=Pr.top-tr+bo>Hr,_o=tr-Pr.bottom-Po>Hr,oo=Pr.left-mn+uo>Hr,wo=mn-Pr.right-lo>Hr;return go||_o||oo||wo})}function Ut(Rt,Nt,mn){var tr=Nt+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(dr){Rt[tr](dr,mn)})}function qt(Rt,Nt){for(var mn=Nt;mn;){var tr;if(Rt.contains(mn))return!0;mn=mn.getRootNode==null||(tr=mn.getRootNode())==null?void 0:tr.host}return!1}var Sn={isTouch:!1},at=0;function Pt(){Sn.isTouch||(Sn.isTouch=!0,window.performance&&document.addEventListener("mousemove",jt))}function jt(){var Rt=performance.now();Rt-at<20&&(Sn.isTouch=!1,document.removeEventListener("mousemove",jt)),at=Rt}function vn(){var Rt=document.activeElement;if(Qr(Rt)){var Nt=Rt._tippy;Rt.blur&&!Nt.state.isVisible&&Rt.blur()}}function Pn(){document.addEventListener("touchstart",Pt,pn),window.addEventListener("blur",vn)}var Rn=typeof window!="undefined"&&typeof document!="undefined",$n=Rn?!!window.msCrypto:!1;function ar(Rt){var Nt=Rt==="destroy"?"n already-":" ";return[Rt+"() was called on a"+Nt+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function lr(Rt){var Nt=/[ \t]{2,}/g,mn=/^[ \t]*/gm;return Rt.replace(Nt," ").replace(mn,"").trim()}function sr(Rt){return lr(`
  %ctippy.js

  %c`+lr(Rt)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function fr(Rt){return[sr(Rt),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var gr;function Sr(){gr=new Set}function Gr(Rt,Nt){if(Rt&&!gr.has(Nt)){var mn;gr.add(Nt),(mn=console).warn.apply(mn,fr(Nt))}}function Oo(Rt,Nt){if(Rt&&!gr.has(Nt)){var mn;gr.add(Nt),(mn=console).error.apply(mn,fr(Nt))}}function zr(Rt){var Nt=!Rt,mn=Object.prototype.toString.call(Rt)==="[object Object]"&&!Rt.addEventListener;Oo(Nt,["tippy() was passed","`"+String(Rt)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Oo(mn,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var yt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ft={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},vt=Object.assign({appendTo:An,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},yt,ft),kt=Object.keys(vt),Qt=function(Nt){var mn=Object.keys(Nt);mn.forEach(function(tr){vt[tr]=Nt[tr]})};function Cn(Rt){var Nt=Rt.plugins||[],mn=Nt.reduce(function(tr,dr){var Pr=dr.name,Or=dr.defaultValue;if(Pr){var Ur;tr[Pr]=Rt[Pr]!==void 0?Rt[Pr]:(Ur=vt[Pr])!=null?Ur:Or}return tr},{});return Object.assign({},Rt,mn)}function En(Rt,Nt){var mn=Nt?Object.keys(Cn(Object.assign({},vt,{plugins:Nt}))):kt,tr=mn.reduce(function(dr,Pr){var Or=(Rt.getAttribute("data-tippy-"+Pr)||"").trim();if(!Or)return dr;if(Pr==="content")dr[Pr]=Or;else try{dr[Pr]=JSON.parse(Or)}catch(Ur){dr[Pr]=Or}return dr},{});return tr}function Kn(Rt,Nt){var mn=Object.assign({},Nt,{content:Zt(Nt.content,[Rt])},Nt.ignoreAttributes?{}:En(Rt,Nt.plugins));return mn.aria=Object.assign({},vt.aria,mn.aria),mn.aria={expanded:mn.aria.expanded==="auto"?Nt.interactive:mn.aria.expanded,content:mn.aria.content==="auto"?Nt.interactive?null:"describedby":mn.aria.content},mn}function or(Rt,Nt){Rt===void 0&&(Rt={}),Nt===void 0&&(Nt=[]);var mn=Object.keys(Rt);mn.forEach(function(tr){var dr=Qn(vt,Object.keys(yt)),Pr=!Fn(dr,tr);Pr&&(Pr=Nt.filter(function(Or){return Or.name===tr}).length===0),Gr(Pr,["`"+tr+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Yn=function(){return"innerHTML"};function Er(Rt,Nt){Rt[Yn()]=Nt}function eo(Rt){var Nt=ur();return Rt===!0?Nt.className=Mt:(Nt.className=Jt,Ar(Rt)?Nt.appendChild(Rt):Er(Nt,Rt)),Nt}function Zr(Rt,Nt){Ar(Nt.content)?(Er(Rt,""),Rt.appendChild(Nt.content)):typeof Nt.content!="function"&&(Nt.allowHTML?Er(Rt,Nt.content):Rt.textContent=Nt.content)}function co(Rt){var Nt=Rt.firstElementChild,mn=rr(Nt.children);return{box:Nt,content:mn.find(function(tr){return tr.classList.contains(Lt)}),arrow:mn.find(function(tr){return tr.classList.contains(Mt)||tr.classList.contains(Jt)}),backdrop:mn.find(function(tr){return tr.classList.contains(mt)})}}function it(Rt){var Nt=ur(),mn=ur();mn.className=wt,mn.setAttribute("data-state","hidden"),mn.setAttribute("tabindex","-1");var tr=ur();tr.className=Lt,tr.setAttribute("data-state","hidden"),Zr(tr,Rt.props),Nt.appendChild(mn),mn.appendChild(tr),dr(Rt.props,Rt.props);function dr(Pr,Or){var Ur=co(Nt),Hr=Ur.box,Br=Ur.content,Dr=Ur.arrow;Or.theme?Hr.setAttribute("data-theme",Or.theme):Hr.removeAttribute("data-theme"),typeof Or.animation=="string"?Hr.setAttribute("data-animation",Or.animation):Hr.removeAttribute("data-animation"),Or.inertia?Hr.setAttribute("data-inertia",""):Hr.removeAttribute("data-inertia"),Hr.style.maxWidth=typeof Or.maxWidth=="number"?Or.maxWidth+"px":Or.maxWidth,Or.role?Hr.setAttribute("role",Or.role):Hr.removeAttribute("role"),(Pr.content!==Or.content||Pr.allowHTML!==Or.allowHTML)&&Zr(Br,Rt.props),Or.arrow?Dr?Pr.arrow!==Or.arrow&&(Hr.removeChild(Dr),Hr.appendChild(eo(Or.arrow))):Hr.appendChild(eo(Or.arrow)):Dr&&Hr.removeChild(Dr)}return{popper:Nt,onUpdate:dr}}it.$$tippy=!0;var Ye=1,lt=[],Ot=[];function tn(Rt,Nt){var mn=Kn(Rt,Object.assign({},vt,Cn(Zn(Nt)))),tr,dr,Pr,Or=!1,Ur=!1,Hr=!1,Br=!1,Dr,bo,Po,uo=[],lo=_n(Ao,mn.interactiveDebounce),go,_o=Ye++,oo=null,wo=Mn(mn.plugins),To={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},de={id:_o,reference:Rt,popper:ur(),popperInstance:oo,props:mn,state:To,plugins:wo,clearDelayTimeouts:es,setProps:ts,setContent:ka,show:ec,hide:tc,hideWithInteractivity:Rl,enable:Na,disable:qa,unmount:nc,destroy:rc};if(!mn.render)return de;var pe=mn.render(de),ve=pe.popper,Me=pe.onUpdate;ve.setAttribute("data-tippy-root",""),ve.id="tippy-"+de.id,de.popper=ve,Rt._tippy=de,ve._tippy=de;var rt=wo.map(function(Kr){return Kr.fn(de)}),dt=Rt.hasAttribute("aria-expanded");return si(),fo(),Rr(),qr("onCreate",[de]),mn.showOnCreate&&di(),ve.addEventListener("mouseenter",function(){de.props.interactive&&de.state.isVisible&&de.clearDelayTimeouts()}),ve.addEventListener("mouseleave",function(){de.props.interactive&&de.props.trigger.indexOf("mouseenter")>=0&&Jn().addEventListener("mousemove",lo)}),de;function Tt(){var Kr=de.props.touch;return Array.isArray(Kr)?Kr:[Kr,0]}function Ft(){return Tt()[0]==="hold"}function rn(){var Kr;return!!((Kr=de.props.render)!=null&&Kr.$$tippy)}function Bn(){return go||Rt}function Jn(){var Kr=Bn().parentNode;return Kr?jn(Kr):document}function Lr(){return co(ve)}function kr(Kr){return de.state.isMounted&&!de.state.isVisible||Sn.isTouch||Dr&&Dr.type==="focus"?0:Un(de.props.delay,Kr?0:1,vt.delay)}function Rr(Kr){Kr===void 0&&(Kr=!1),ve.style.pointerEvents=de.props.interactive&&!Kr?"":"none",ve.style.zIndex=""+de.props.zIndex}function qr(Kr,Io,Fo){if(Fo===void 0&&(Fo=!0),rt.forEach(function(Yo){Yo[Kr]&&Yo[Kr].apply(Yo,Io)}),Fo){var qo;(qo=de.props)[Kr].apply(qo,Io)}}function xo(){var Kr=de.props.aria;if(Kr.content){var Io="aria-"+Kr.content,Fo=ve.id,qo=fn(de.props.triggerTarget||Rt);qo.forEach(function(Yo){var Pi=Yo.getAttribute(Io);if(de.state.isVisible)Yo.setAttribute(Io,Pi?Pi+" "+Fo:Fo);else{var ki=Pi&&Pi.replace(Fo,"").trim();ki?Yo.setAttribute(Io,ki):Yo.removeAttribute(Io)}})}}function fo(){if(!(dt||!de.props.aria.expanded)){var Kr=fn(de.props.triggerTarget||Rt);Kr.forEach(function(Io){de.props.interactive?Io.setAttribute("aria-expanded",de.state.isVisible&&Io===Bn()?"true":"false"):Io.removeAttribute("aria-expanded")})}}function He(){Jn().removeEventListener("mousemove",lo),lt=lt.filter(function(Kr){return Kr!==lo})}function Ht(Kr){if(!(Sn.isTouch&&(Hr||Kr.type==="mousedown"))){var Io=Kr.composedPath&&Kr.composedPath()[0]||Kr.target;if(!(de.props.interactive&&qt(ve,Io))){if(fn(de.props.triggerTarget||Rt).some(function(Fo){return qt(Fo,Io)})){if(Sn.isTouch||de.state.isVisible&&de.props.trigger.indexOf("click")>=0)return}else qr("onClickOutside",[de,Kr]);de.props.hideOnClick===!0&&(de.clearDelayTimeouts(),de.hide(),Ur=!0,setTimeout(function(){Ur=!1}),de.state.isMounted||Nr())}}}function wn(){Hr=!0}function kn(){Hr=!1}function er(){var Kr=Jn();Kr.addEventListener("mousedown",Ht,!0),Kr.addEventListener("touchend",Ht,pn),Kr.addEventListener("touchstart",kn,pn),Kr.addEventListener("touchmove",wn,pn)}function Nr(){var Kr=Jn();Kr.removeEventListener("mousedown",Ht,!0),Kr.removeEventListener("touchend",Ht,pn),Kr.removeEventListener("touchstart",kn,pn),Kr.removeEventListener("touchmove",wn,pn)}function Wr(Kr,Io){ro(Kr,function(){!de.state.isVisible&&ve.parentNode&&ve.parentNode.contains(ve)&&Io()})}function Fr(Kr,Io){ro(Kr,Io)}function ro(Kr,Io){var Fo=Lr().box;function qo(Yo){Yo.target===Fo&&(Ut(Fo,"remove",qo),Io())}if(Kr===0)return Io();Ut(Fo,"remove",bo),Ut(Fo,"add",qo),bo=qo}function Ko(Kr,Io,Fo){Fo===void 0&&(Fo=!1);var qo=fn(de.props.triggerTarget||Rt);qo.forEach(function(Yo){Yo.addEventListener(Kr,Io,Fo),uo.push({node:Yo,eventType:Kr,handler:Io,options:Fo})})}function si(){Ft()&&(Ko("touchstart",Lo,{passive:!0}),Ko("touchend",ji,{passive:!0})),At(de.props.trigger).forEach(function(Kr){if(Kr!=="manual")switch(Ko(Kr,Lo),Kr){case"mouseenter":Ko("mouseleave",ji);break;case"focus":Ko($n?"focusout":"blur",Ra);break;case"focusin":Ko("focusout",Ra);break}})}function Xo(){uo.forEach(function(Kr){var Io=Kr.node,Fo=Kr.eventType,qo=Kr.handler,Yo=Kr.options;Io.removeEventListener(Fo,qo,Yo)}),uo=[]}function Lo(Kr){var Io,Fo=!1;if(!(!de.state.isEnabled||La(Kr)||Ur)){var qo=((Io=Dr)==null?void 0:Io.type)==="focus";Dr=Kr,go=Kr.currentTarget,fo(),!de.state.isVisible&&io(Kr)&&lt.forEach(function(Yo){return Yo(Kr)}),Kr.type==="click"&&(de.props.trigger.indexOf("mouseenter")<0||Or)&&de.props.hideOnClick!==!1&&de.state.isVisible?Fo=!0:di(Kr),Kr.type==="click"&&(Or=!Fo),Fo&&!qo&&da(Kr)}}function Ao(Kr){var Io=Kr.target,Fo=Bn().contains(Io)||ve.contains(Io);if(!(Kr.type==="mousemove"&&Fo)){var qo=na().concat(ve).map(function(Yo){var Pi,ki=Yo._tippy,va=(Pi=ki.popperInstance)==null?void 0:Pi.state;return va?{popperRect:Yo.getBoundingClientRect(),popperState:va,props:mn}:null}).filter(Boolean);bt(qo,Kr)&&(He(),da(Kr))}}function ji(Kr){var Io=La(Kr)||de.props.trigger.indexOf("click")>=0&&Or;if(!Io){if(de.props.interactive){de.hideWithInteractivity(Kr);return}da(Kr)}}function Ra(Kr){de.props.trigger.indexOf("focusin")<0&&Kr.target!==Bn()||de.props.interactive&&Kr.relatedTarget&&ve.contains(Kr.relatedTarget)||da(Kr)}function La(Kr){return Sn.isTouch?Ft()!==Kr.type.indexOf("touch")>=0:!1}function Ms(){Ii();var Kr=de.props,Io=Kr.popperOptions,Fo=Kr.placement,qo=Kr.offset,Yo=Kr.getReferenceClientRect,Pi=Kr.moveTransition,ki=rn()?co(ve).arrow:null,va=Yo?{getBoundingClientRect:Yo,contextElement:Yo.contextElement||Bn()}:Rt,Rs={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ns){var _a=Ns.state;if(rn()){var oc=Lr(),ks=oc.box;["placement","reference-hidden","escaped"].forEach(function(ns){ns==="placement"?ks.setAttribute("data-placement",_a.placement):_a.attributes.popper["data-popper-"+ns]?ks.setAttribute("data-"+ns,""):ks.removeAttribute("data-"+ns)}),_a.attributes.popper={}}}},pa=[{name:"offset",options:{offset:qo}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Pi}},Rs];rn()&&ki&&pa.push({name:"arrow",options:{element:ki,padding:3}}),pa.push.apply(pa,(Io==null?void 0:Io.modifiers)||[]),de.popperInstance=Gn(va,ve,Object.assign({},Io,{placement:Fo,onFirstUpdate:Po,modifiers:pa}))}function Ii(){de.popperInstance&&(de.popperInstance.destroy(),de.popperInstance=null)}function Si(){var Kr=de.props.appendTo,Io,Fo=Bn();de.props.interactive&&Kr===An||Kr==="parent"?Io=Fo.parentNode:Io=Zt(Kr,[Fo]),Io.contains(ve)||Io.appendChild(ve),de.state.isMounted=!0,Ms()}function na(){return rr(ve.querySelectorAll("[data-tippy-root]"))}function di(Kr){de.clearDelayTimeouts(),Kr&&qr("onTrigger",[de,Kr]),er();var Io=kr(!0),Fo=Tt(),qo=Fo[0],Yo=Fo[1];Sn.isTouch&&qo==="hold"&&Yo&&(Io=Yo),Io?tr=setTimeout(function(){de.show()},Io):de.show()}function da(Kr){if(de.clearDelayTimeouts(),qr("onUntrigger",[de,Kr]),!de.state.isVisible){Nr();return}if(!(de.props.trigger.indexOf("mouseenter")>=0&&de.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Kr.type)>=0&&Or)){var Io=kr(!1);Io?dr=setTimeout(function(){de.state.isVisible&&de.hide()},Io):Pr=requestAnimationFrame(function(){de.hide()})}}function Na(){de.state.isEnabled=!0}function qa(){de.hide(),de.state.isEnabled=!1}function es(){clearTimeout(tr),clearTimeout(dr),cancelAnimationFrame(Pr)}function ts(Kr){if(!de.state.isDestroyed){qr("onBeforeUpdate",[de,Kr]),Xo();var Io=de.props,Fo=Kn(Rt,Object.assign({},Io,Zn(Kr),{ignoreAttributes:!0}));de.props=Fo,si(),Io.interactiveDebounce!==Fo.interactiveDebounce&&(He(),lo=_n(Ao,Fo.interactiveDebounce)),Io.triggerTarget&&!Fo.triggerTarget?fn(Io.triggerTarget).forEach(function(qo){qo.removeAttribute("aria-expanded")}):Fo.triggerTarget&&Rt.removeAttribute("aria-expanded"),fo(),Rr(),Me&&Me(Io,Fo),de.popperInstance&&(Ms(),na().forEach(function(qo){requestAnimationFrame(qo._tippy.popperInstance.forceUpdate)})),qr("onAfterUpdate",[de,Kr])}}function ka(Kr){de.setProps({content:Kr})}function ec(){var Kr=de.state.isVisible,Io=de.state.isDestroyed,Fo=!de.state.isEnabled,qo=Sn.isTouch&&!de.props.touch,Yo=Un(de.props.duration,0,vt.duration);if(!(Kr||Io||Fo||qo)&&!Bn().hasAttribute("disabled")&&(qr("onShow",[de],!1),de.props.onShow(de)!==!1)){if(de.state.isVisible=!0,rn()&&(ve.style.visibility="visible"),Rr(),er(),de.state.isMounted||(ve.style.transition="none"),rn()){var Pi=Lr(),ki=Pi.box,va=Pi.content;So([ki,va],0)}Po=function(){var pa;if(!(!de.state.isVisible||Br)){if(Br=!0,ve.offsetHeight,ve.style.transition=de.props.moveTransition,rn()&&de.props.animation){var Ls=Lr(),Ns=Ls.box,_a=Ls.content;So([Ns,_a],Yo),Wt([Ns,_a],"visible")}xo(),fo(),gn(Ot,de),(pa=de.popperInstance)==null||pa.forceUpdate(),qr("onMount",[de]),de.props.animation&&rn()&&Fr(Yo,function(){de.state.isShown=!0,qr("onShown",[de])})}},Si()}}function tc(){var Kr=!de.state.isVisible,Io=de.state.isDestroyed,Fo=!de.state.isEnabled,qo=Un(de.props.duration,1,vt.duration);if(!(Kr||Io||Fo)&&(qr("onHide",[de],!1),de.props.onHide(de)!==!1)){if(de.state.isVisible=!1,de.state.isShown=!1,Br=!1,Or=!1,rn()&&(ve.style.visibility="hidden"),He(),Nr(),Rr(!0),rn()){var Yo=Lr(),Pi=Yo.box,ki=Yo.content;de.props.animation&&(So([Pi,ki],qo),Wt([Pi,ki],"hidden"))}xo(),fo(),de.props.animation?rn()&&Wr(qo,de.unmount):de.unmount()}}function Rl(Kr){Jn().addEventListener("mousemove",lo),gn(lt,lo),lo(Kr)}function nc(){de.state.isVisible&&de.hide(),de.state.isMounted&&(Ii(),na().forEach(function(Kr){Kr._tippy.unmount()}),ve.parentNode&&ve.parentNode.removeChild(ve),Ot=Ot.filter(function(Kr){return Kr!==de}),de.state.isMounted=!1,qr("onHidden",[de]))}function rc(){de.state.isDestroyed||(de.clearDelayTimeouts(),de.unmount(),Xo(),delete Rt._tippy,de.state.isDestroyed=!0,qr("onDestroy",[de]))}}function an(Rt,Nt){Nt===void 0&&(Nt={});var mn=vt.plugins.concat(Nt.plugins||[]);Pn();var tr=Object.assign({},Nt,{plugins:mn}),dr=Eo(Rt);if(!1)var Pr,Or;var Ur=dr.reduce(function(Hr,Br){var Dr=Br&&tn(Br,tr);return Dr&&Hr.push(Dr),Hr},[]);return Ar(Rt)?Ur[0]:Ur}an.defaultProps=vt,an.setDefaultProps=Qt,an.currentInput=Sn;var bn=function(Nt){var mn=Nt===void 0?{}:Nt,tr=mn.exclude,dr=mn.duration;Ot.forEach(function(Pr){var Or=!1;if(tr&&(Or=Qr(tr)?Pr.reference===tr:Pr.popper===tr.popper),!Or){var Ur=Pr.props.duration;Pr.setProps({duration:dr}),Pr.hide(),Pr.state.isDestroyed||Pr.setProps({duration:Ur})}})},yn=Object.assign({},we,{effect:function(Nt){var mn=Nt.state,tr={popper:{position:mn.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(mn.elements.popper.style,tr.popper),mn.styles=tr,mn.elements.arrow&&Object.assign(mn.elements.arrow.style,tr.arrow)}}),Ln=function(Nt,mn){var tr;mn===void 0&&(mn={});var dr=Nt,Pr=[],Or=[],Ur,Hr=mn.overrides,Br=[],Dr=!1;function bo(){Or=dr.map(function(de){return fn(de.props.triggerTarget||de.reference)}).reduce(function(de,pe){return de.concat(pe)},[])}function Po(){Pr=dr.map(function(de){return de.reference})}function uo(de){dr.forEach(function(pe){de?pe.enable():pe.disable()})}function lo(de){return dr.map(function(pe){var ve=pe.setProps;return pe.setProps=function(Me){ve(Me),pe.reference===Ur&&de.setProps(Me)},function(){pe.setProps=ve}})}function go(de,pe){var ve=Or.indexOf(pe);if(pe!==Ur){Ur=pe;var Me=(Hr||[]).concat("content").reduce(function(rt,dt){return rt[dt]=dr[ve].props[dt],rt},{});de.setProps(Object.assign({},Me,{getReferenceClientRect:typeof Me.getReferenceClientRect=="function"?Me.getReferenceClientRect:function(){var rt;return(rt=Pr[ve])==null?void 0:rt.getBoundingClientRect()}}))}}uo(!1),Po(),bo();var _o={fn:function(){return{onDestroy:function(){uo(!0)},onHidden:function(){Ur=null},onClickOutside:function(ve){ve.props.showOnCreate&&!Dr&&(Dr=!0,Ur=null)},onShow:function(ve){ve.props.showOnCreate&&!Dr&&(Dr=!0,go(ve,Pr[0]))},onTrigger:function(ve,Me){go(ve,Me.currentTarget)}}}},oo=an(ur(),Object.assign({},Qn(mn,["overrides"]),{plugins:[_o].concat(mn.plugins||[]),triggerTarget:Or,popperOptions:Object.assign({},mn.popperOptions,{modifiers:[].concat(((tr=mn.popperOptions)==null?void 0:tr.modifiers)||[],[yn])})})),wo=oo.show;oo.show=function(de){if(wo(),!Ur&&de==null)return go(oo,Pr[0]);if(!(Ur&&de==null)){if(typeof de=="number")return Pr[de]&&go(oo,Pr[de]);if(dr.indexOf(de)>=0){var pe=de.reference;return go(oo,pe)}if(Pr.indexOf(de)>=0)return go(oo,de)}},oo.showNext=function(){var de=Pr[0];if(!Ur)return oo.show(0);var pe=Pr.indexOf(Ur);oo.show(Pr[pe+1]||de)},oo.showPrevious=function(){var de=Pr[Pr.length-1];if(!Ur)return oo.show(de);var pe=Pr.indexOf(Ur),ve=Pr[pe-1]||de;oo.show(ve)};var To=oo.setProps;return oo.setProps=function(de){Hr=de.overrides||Hr,To(de)},oo.setInstances=function(de){uo(!0),Br.forEach(function(pe){return pe()}),dr=de,uo(!1),Po(),bo(),Br=lo(oo),oo.setProps({triggerTarget:Or})},Br=lo(oo),oo},nt={mouseover:"mouseenter",focusin:"focus",click:"click"};function Ge(Rt,Nt){var mn=[],tr=[],dr=!1,Pr=Nt.target,Or=Qn(Nt,["target"]),Ur=Object.assign({},Or,{trigger:"manual",touch:!1}),Hr=Object.assign({touch:vt.touch},Or,{showOnCreate:!0}),Br=an(Rt,Ur),Dr=fn(Br);function bo(_o){if(!(!_o.target||dr)){var oo=_o.target.closest(Pr);if(oo){var wo=oo.getAttribute("data-tippy-trigger")||Nt.trigger||vt.trigger;if(!oo._tippy&&!(_o.type==="touchstart"&&typeof Hr.touch=="boolean")&&!(_o.type!=="touchstart"&&wo.indexOf(nt[_o.type])<0)){var To=an(oo,Hr);To&&(tr=tr.concat(To))}}}}function Po(_o,oo,wo,To){To===void 0&&(To=!1),_o.addEventListener(oo,wo,To),mn.push({node:_o,eventType:oo,handler:wo,options:To})}function uo(_o){var oo=_o.reference;Po(oo,"touchstart",bo,pn),Po(oo,"mouseover",bo),Po(oo,"focusin",bo),Po(oo,"click",bo)}function lo(){mn.forEach(function(_o){var oo=_o.node,wo=_o.eventType,To=_o.handler,de=_o.options;oo.removeEventListener(wo,To,de)}),mn=[]}function go(_o){var oo=_o.destroy,wo=_o.enable,To=_o.disable;_o.destroy=function(de){de===void 0&&(de=!0),de&&tr.forEach(function(pe){pe.destroy()}),tr=[],lo(),oo()},_o.enable=function(){wo(),tr.forEach(function(de){return de.enable()}),dr=!1},_o.disable=function(){To(),tr.forEach(function(de){return de.disable()}),dr=!0},uo(_o)}return Dr.forEach(go),Br}var St={name:"animateFill",defaultValue:!1,fn:function(Nt){var mn;if(!((mn=Nt.props.render)!=null&&mn.$$tippy))return{};var tr=co(Nt.popper),dr=tr.box,Pr=tr.content,Or=Nt.props.animateFill?nn():null;return{onCreate:function(){Or&&(dr.insertBefore(Or,dr.firstElementChild),dr.setAttribute("data-animatefill",""),dr.style.overflow="hidden",Nt.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Or){var Hr=dr.style.transitionDuration,Br=Number(Hr.replace("ms",""));Pr.style.transitionDelay=Math.round(Br/10)+"ms",Or.style.transitionDuration=Hr,Wt([Or],"visible")}},onShow:function(){Or&&(Or.style.transitionDuration="0ms")},onHide:function(){Or&&Wt([Or],"hidden")}}}};function nn(){var Rt=ur();return Rt.className=mt,Wt([Rt],"hidden"),Rt}var Nn={clientX:0,clientY:0},hr=[];function jr(Rt){var Nt=Rt.clientX,mn=Rt.clientY;Nn={clientX:Nt,clientY:mn}}function Xr(Rt){Rt.addEventListener("mousemove",jr)}function no(Rt){Rt.removeEventListener("mousemove",jr)}var Mo={name:"followCursor",defaultValue:!1,fn:function(Nt){var mn=Nt.reference,tr=jn(Nt.props.triggerTarget||mn),dr=!1,Pr=!1,Or=!0,Ur=Nt.props;function Hr(){return Nt.props.followCursor==="initial"&&Nt.state.isVisible}function Br(){tr.addEventListener("mousemove",Po)}function Dr(){tr.removeEventListener("mousemove",Po)}function bo(){dr=!0,Nt.setProps({getReferenceClientRect:null}),dr=!1}function Po(go){var _o=go.target?mn.contains(go.target):!0,oo=Nt.props.followCursor,wo=go.clientX,To=go.clientY,de=mn.getBoundingClientRect(),pe=wo-de.left,ve=To-de.top;(_o||!Nt.props.interactive)&&Nt.setProps({getReferenceClientRect:function(){var rt=mn.getBoundingClientRect(),dt=wo,Tt=To;oo==="initial"&&(dt=rt.left+pe,Tt=rt.top+ve);var Ft=oo==="horizontal"?rt.top:Tt,rn=oo==="vertical"?rt.right:dt,Bn=oo==="horizontal"?rt.bottom:Tt,Jn=oo==="vertical"?rt.left:dt;return{width:rn-Jn,height:Bn-Ft,top:Ft,right:rn,bottom:Bn,left:Jn}}})}function uo(){Nt.props.followCursor&&(hr.push({instance:Nt,doc:tr}),Xr(tr))}function lo(){hr=hr.filter(function(go){return go.instance!==Nt}),hr.filter(function(go){return go.doc===tr}).length===0&&no(tr)}return{onCreate:uo,onDestroy:lo,onBeforeUpdate:function(){Ur=Nt.props},onAfterUpdate:function(_o,oo){var wo=oo.followCursor;dr||wo!==void 0&&Ur.followCursor!==wo&&(lo(),wo?(uo(),Nt.state.isMounted&&!Pr&&!Hr()&&Br()):(Dr(),bo()))},onMount:function(){Nt.props.followCursor&&!Pr&&(Or&&(Po(Nn),Or=!1),Hr()||Br())},onTrigger:function(_o,oo){io(oo)&&(Nn={clientX:oo.clientX,clientY:oo.clientY}),Pr=oo.type==="focus"},onHidden:function(){Nt.props.followCursor&&(bo(),Dr(),Or=!0)}}}};function ko(Rt,Nt){var mn;return{popperOptions:Object.assign({},Rt.popperOptions,{modifiers:[].concat((((mn=Rt.popperOptions)==null?void 0:mn.modifiers)||[]).filter(function(tr){var dr=tr.name;return dr!==Nt.name}),[Nt])})}}var Bo={name:"inlinePositioning",defaultValue:!1,fn:function(Nt){var mn=Nt.reference;function tr(){return!!Nt.props.inlinePositioning}var dr,Pr=-1,Or=!1,Ur=[],Hr={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(uo){var lo=uo.state;tr()&&(Ur.indexOf(lo.placement)!==-1&&(Ur=[]),dr!==lo.placement&&Ur.indexOf(lo.placement)===-1&&(Ur.push(lo.placement),Nt.setProps({getReferenceClientRect:function(){return Br(lo.placement)}})),dr=lo.placement)}};function Br(Po){return Wo(Wn(Po),mn.getBoundingClientRect(),rr(mn.getClientRects()),Pr)}function Dr(Po){Or=!0,Nt.setProps(Po),Or=!1}function bo(){Or||Dr(ko(Nt.props,Hr))}return{onCreate:bo,onAfterUpdate:bo,onTrigger:function(uo,lo){if(io(lo)){var go=rr(Nt.reference.getClientRects()),_o=go.find(function(wo){return wo.left-2<=lo.clientX&&wo.right+2>=lo.clientX&&wo.top-2<=lo.clientY&&wo.bottom+2>=lo.clientY}),oo=go.indexOf(_o);Pr=oo>-1?oo:Pr}},onHidden:function(){Pr=-1}}}};function Wo(Rt,Nt,mn,tr){if(mn.length<2||Rt===null)return Nt;if(mn.length===2&&tr>=0&&mn[0].left>mn[1].right)return mn[tr]||Nt;switch(Rt){case"top":case"bottom":{var dr=mn[0],Pr=mn[mn.length-1],Or=Rt==="top",Ur=dr.top,Hr=Pr.bottom,Br=Or?dr.left:Pr.left,Dr=Or?dr.right:Pr.right,bo=Dr-Br,Po=Hr-Ur;return{top:Ur,bottom:Hr,left:Br,right:Dr,width:bo,height:Po}}case"left":case"right":{var uo=Math.min.apply(Math,mn.map(function(ve){return ve.left})),lo=Math.max.apply(Math,mn.map(function(ve){return ve.right})),go=mn.filter(function(ve){return Rt==="left"?ve.left===uo:ve.right===lo}),_o=go[0].top,oo=go[go.length-1].bottom,wo=uo,To=lo,de=To-wo,pe=oo-_o;return{top:_o,bottom:oo,left:wo,right:To,width:de,height:pe}}default:return Nt}}var Jo={name:"sticky",defaultValue:!1,fn:function(Nt){var mn=Nt.reference,tr=Nt.popper;function dr(){return Nt.popperInstance?Nt.popperInstance.state.elements.reference:mn}function Pr(Br){return Nt.props.sticky===!0||Nt.props.sticky===Br}var Or=null,Ur=null;function Hr(){var Br=Pr("reference")?dr().getBoundingClientRect():null,Dr=Pr("popper")?tr.getBoundingClientRect():null;(Br&&Ho(Or,Br)||Dr&&Ho(Ur,Dr))&&Nt.popperInstance&&Nt.popperInstance.update(),Or=Br,Ur=Dr,Nt.state.isMounted&&requestAnimationFrame(Hr)}return{onMount:function(){Nt.props.sticky&&Hr()}}}};function Ho(Rt,Nt){return Rt&&Nt?Rt.top!==Nt.top||Rt.right!==Nt.right||Rt.bottom!==Nt.bottom||Rt.left!==Nt.left:!0}an.setDefaultProps({render:it});const Go=an},99413:K=>{K.exports=/[\0-\x1F\x7F-\x9F]/},52326:K=>{K.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},73189:K=>{K.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},35045:K=>{K.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},84205:(K,f,e)=>{"use strict";f.Any=e(29369),f.Cc=e(99413),f.Cf=e(52326),f.P=e(73189),f.Z=e(35045)},29369:K=>{K.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},8575:(K,f,e)=>{var t=e(74971);f.parse=w,f.resolve=C,f.resolveObject=x,f.format=P,f.Url=a;function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(l),_=["%","/","?",";","#"].concat(v),g=["/","?","#"],E=255,S=/^[a-z0-9A-Z_-]{0,63}$/,O=/^([a-z0-9A-Z_-]{0,63})(.*)$/,A={javascript:!0,"javascript:":!0},u={javascript:!0,"javascript:":!0},o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},s=e(17673);function w(R,F,N){if(R&&y(R)&&R instanceof a)return R;var U=new a;return U.parse(R,F,N),U}a.prototype.parse=function(R,F,N){if(!D(R))throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var U=R;U=U.trim();var V=i.exec(U);if(V){V=V[0];var W=V.toLowerCase();this.protocol=W,U=U.substr(V.length)}if(N||V||U.match(/^\/\/[^@\/]+@[^@\/]+/)){var L=U.substr(0,2)==="//";L&&!(V&&u[V])&&(U=U.substr(2),this.slashes=!0)}if(!u[V]&&(L||V&&!o[V])){for(var k=-1,H=0;H<g.length;H++){var G=U.indexOf(g[H]);G!==-1&&(k===-1||G<k)&&(k=G)}var q,z;k===-1?z=U.lastIndexOf("@"):z=U.lastIndexOf("@",k),z!==-1&&(q=U.slice(0,z),U=U.slice(z+1),this.auth=decodeURIComponent(q)),k=-1;for(var H=0;H<_.length;H++){var G=U.indexOf(_[H]);G!==-1&&(k===-1||G<k)&&(k=G)}k===-1&&(k=U.length),this.host=U.slice(0,k),U=U.slice(k),this.parseHost(),this.hostname=this.hostname||"";var ee=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ee)for(var $=this.hostname.split(/\./),H=0,J=$.length;H<J;H++){var j=$[H];if(j&&!j.match(S)){for(var Z="",ne=0,ie=j.length;ne<ie;ne++)j.charCodeAt(ne)>127?Z+="x":Z+=j[ne];if(!Z.match(S)){var oe=$.slice(0,H),re=$.slice(H+1),ae=j.match(O);ae&&(oe.push(ae[1]),re.unshift(ae[2])),re.length&&(U="/"+re.join(".")+U),this.hostname=oe.join(".");break}}}if(this.hostname.length>E?this.hostname="":this.hostname=this.hostname.toLowerCase(),!ee){for(var se=this.hostname.split("."),fe=[],H=0;H<se.length;++H){var le=se[H];fe.push(le.match(/[^A-Za-z0-9_-]/)?"xn--"+t.encode(le):le)}this.hostname=fe.join(".")}var Ae=this.port?":"+this.port:"",De=this.hostname||"";this.host=De+Ae,this.href+=this.host,ee&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),U[0]!=="/"&&(U="/"+U))}if(!A[W])for(var H=0,J=v.length;H<J;H++){var je=v[H],Je=encodeURIComponent(je);Je===je&&(Je=escape(je)),U=U.split(je).join(Je)}var Be=U.indexOf("#");Be!==-1&&(this.hash=U.substr(Be),U=U.slice(0,Be));var st=U.indexOf("?");if(st!==-1?(this.search=U.substr(st),this.query=U.substr(st+1),F&&(this.query=s.parse(this.query)),U=U.slice(0,st)):F&&(this.search="",this.query={}),U&&(this.pathname=U),o[W]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ae=this.pathname||"",le=this.search||"";this.path=Ae+le}return this.href=this.format(),this};function P(R){return D(R)&&(R=w(R)),R instanceof a?R.format():a.prototype.format.call(R)}a.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var F=this.protocol||"",N=this.pathname||"",U=this.hash||"",V=!1,W="";this.host?V=R+this.host:this.hostname&&(V=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&y(this.query)&&Object.keys(this.query).length&&(W=s.stringify(this.query));var L=this.search||W&&"?"+W||"";return F&&F.substr(-1)!==":"&&(F+=":"),this.slashes||(!F||o[F])&&V!==!1?(V="//"+(V||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):V||(V=""),U&&U.charAt(0)!=="#"&&(U="#"+U),L&&L.charAt(0)!=="?"&&(L="?"+L),N=N.replace(/[?#]/g,function(k){return encodeURIComponent(k)}),L=L.replace("#","%23"),F+V+N+L+U};function C(R,F){return w(R,!1,!0).resolve(F)}a.prototype.resolve=function(R){return this.resolveObject(w(R,!1,!0)).format()};function x(R,F){return R?w(R,!1,!0).resolveObject(F):F}a.prototype.resolveObject=function(R){if(D(R)){var F=new a;F.parse(R,!1,!0),R=F}var N=new a;if(Object.keys(this).forEach(function(ie){N[ie]=this[ie]},this),N.hash=R.hash,R.href==="")return N.href=N.format(),N;if(R.slashes&&!R.protocol)return Object.keys(R).forEach(function(ie){ie!=="protocol"&&(N[ie]=R[ie])}),o[N.protocol]&&N.hostname&&!N.pathname&&(N.path=N.pathname="/"),N.href=N.format(),N;if(R.protocol&&R.protocol!==N.protocol){if(!o[R.protocol])return Object.keys(R).forEach(function(ie){N[ie]=R[ie]}),N.href=N.format(),N;if(N.protocol=R.protocol,!R.host&&!u[R.protocol]){for(var q=(R.pathname||"").split("/");q.length&&!(R.host=q.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),q[0]!==""&&q.unshift(""),q.length<2&&q.unshift(""),N.pathname=q.join("/")}else N.pathname=R.pathname;if(N.search=R.search,N.query=R.query,N.host=R.host||"",N.auth=R.auth,N.hostname=R.hostname||R.host,N.port=R.port,N.pathname||N.search){var U=N.pathname||"",V=N.search||"";N.path=U+V}return N.slashes=N.slashes||R.slashes,N.href=N.format(),N}var W=N.pathname&&N.pathname.charAt(0)==="/",L=R.host||R.pathname&&R.pathname.charAt(0)==="/",k=L||W||N.host&&R.pathname,H=k,G=N.pathname&&N.pathname.split("/")||[],q=R.pathname&&R.pathname.split("/")||[],z=N.protocol&&!o[N.protocol];if(z&&(N.hostname="",N.port=null,N.host&&(G[0]===""?G[0]=N.host:G.unshift(N.host)),N.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(q[0]===""?q[0]=R.host:q.unshift(R.host)),R.host=null),k=k&&(q[0]===""||G[0]==="")),L)N.host=R.host||R.host===""?R.host:N.host,N.hostname=R.hostname||R.hostname===""?R.hostname:N.hostname,N.search=R.search,N.query=R.query,G=q;else if(q.length)G||(G=[]),G.pop(),G=G.concat(q),N.search=R.search,N.query=R.query;else if(!T(R.search)){if(z){N.hostname=N.host=G.shift();var ee=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;ee&&(N.auth=ee.shift(),N.host=N.hostname=ee.shift())}return N.search=R.search,N.query=R.query,(!M(N.pathname)||!M(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!G.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var $=G.slice(-1)[0],J=(N.host||R.host)&&($==="."||$==="..")||$==="",j=0,Z=G.length;Z>=0;Z--)$=G[Z],$=="."?G.splice(Z,1):$===".."?(G.splice(Z,1),j++):j&&(G.splice(Z,1),j--);if(!k&&!H)for(;j--;j)G.unshift("..");k&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),J&&G.join("/").substr(-1)!=="/"&&G.push("");var ne=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(z){N.hostname=N.host=ne?"":G.length?G.shift():"";var ee=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;ee&&(N.auth=ee.shift(),N.host=N.hostname=ee.shift())}return k=k||N.host&&G.length,k&&!ne&&G.unshift(""),G.length?N.pathname=G.join("/"):(N.pathname=null,N.path=null),(!M(N.pathname)||!M(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=R.auth||N.auth,N.slashes=N.slashes||R.slashes,N.href=N.format(),N},a.prototype.parseHost=function(){var R=this.host,F=c.exec(R);F&&(F=F[0],F!==":"&&(this.port=F.substr(1)),R=R.substr(0,R.length-F.length)),R&&(this.hostname=R)};function D(R){return typeof R=="string"}function y(R){return typeof R=="object"&&R!==null}function M(R){return R===null}function T(R){return R==null}},53250:(K,f,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=e(98661);function a(O,A){return O===A&&(O!==0||1/O===1/A)||O!==O&&A!==A}var i=typeof Object.is=="function"?Object.is:a,c=t.useState,p=t.useEffect,l=t.useLayoutEffect,v=t.useDebugValue;function _(O,A){var u=A(),o=c({inst:{value:u,getSnapshot:A}}),s=o[0].inst,w=o[1];return l(function(){s.value=u,s.getSnapshot=A,g(s)&&w({inst:s})},[O,u,A]),p(function(){return g(s)&&w({inst:s}),O(function(){g(s)&&w({inst:s})})},[O]),v(u),u}function g(O){var A=O.getSnapshot;O=O.value;try{var u=A();return!i(O,u)}catch(o){return!0}}function E(O,A){return A()}var S=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?E:_;f.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:S},61688:(K,f,e)=>{"use strict";K.exports=e(53250)},45327:K=>{for(var f=[],e=0;e<256;++e)f[e]=(e+256).toString(16).substr(1);function t(a,i){var c=i||0,p=f;return p[a[c++]]+p[a[c++]]+p[a[c++]]+p[a[c++]]+"-"+p[a[c++]]+p[a[c++]]+"-"+p[a[c++]]+p[a[c++]]+"-"+p[a[c++]]+p[a[c++]]+"-"+p[a[c++]]+p[a[c++]]+p[a[c++]]+p[a[c++]]+p[a[c++]]+p[a[c++]]}K.exports=t},85217:K=>{var f=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(f){var e=new Uint8Array(16);K.exports=function(){return f(e),e}}else{var t=new Array(16);K.exports=function(){for(var i=0,c;i<16;i++)i&3||(c=Math.random()*4294967296),t[i]=c>>>((i&3)<<3)&255;return t}}},71171:(K,f,e)=>{var t=e(85217),a=e(45327);function i(c,p,l){var v=p&&l||0;typeof c=="string"&&(p=c==="binary"?new Array(16):null,c=null),c=c||{};var _=c.random||(c.rng||t)();if(_[6]=_[6]&15|64,_[8]=_[8]&63|128,p)for(var g=0;g<16;++g)p[v+g]=_[g];return p||a(_)}K.exports=i},93235:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=c;var t=a(e(65571));function a(p){return p&&p.__esModule?p:{default:p}}function i(p){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(v){return typeof v}:i=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},i(p)}function c(p,l){(0,t.default)(p);var v,_;i(l)==="object"?(v=l.min||0,_=l.max):(v=arguments[1],_=arguments[2]);var g=encodeURI(p).split(/%..|./).length-1;return g>=v&&(typeof _=="undefined"||g<=_)}K.exports=f.default,K.exports.default=f.default},83868:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=s;var t=l(e(65571)),a=l(e(84808)),i=l(e(93235)),c=l(e(10221)),p=l(e(61028));function l(w){return w&&w.__esModule?w:{default:w}}var v={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},_=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,g=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,E=/^[a-z\d]+$/,S=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,O=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,A=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,u=254;function o(w){var P=w.replace(/^"(.+)"$/,"$1");if(!P.trim())return!1;var C=/[\.";<>]/.test(P);if(C){if(P===w)return!1;var x=P.split('"').length===P.split('\\"').length;if(!x)return!1}return!0}function s(w,P){if((0,t.default)(w),P=(0,a.default)(P,v),P.require_display_name||P.allow_display_name){var C=w.match(_);if(C){var x=C[1];if(w=w.replace(x,"").replace(/(^<|>$)/g,""),x.endsWith(" ")&&(x=x.substr(0,x.length-1)),!o(x))return!1}else if(P.require_display_name)return!1}if(!P.ignore_max_length&&w.length>u)return!1;var D=w.split("@"),y=D.pop(),M=y.toLowerCase();if(P.host_blacklist.includes(M))return!1;var T=D.join("@");if(P.domain_specific_validation&&(M==="gmail.com"||M==="googlemail.com")){T=T.toLowerCase();var R=T.split("+")[0];if(!(0,i.default)(R.replace(/\./g,""),{min:6,max:30}))return!1;for(var F=R.split("."),N=0;N<F.length;N++)if(!E.test(F[N]))return!1}if(P.ignore_max_length===!1&&(!(0,i.default)(T,{max:64})||!(0,i.default)(y,{max:254})))return!1;if(!(0,c.default)(y,{require_tld:P.require_tld})){if(!P.allow_ip_domain)return!1;if(!(0,p.default)(y)){if(!y.startsWith("[")||!y.endsWith("]"))return!1;var U=y.substr(1,y.length-2);if(U.length===0||!(0,p.default)(U))return!1}}if(T[0]==='"')return T=T.slice(1,T.length-1),P.allow_utf8_local_part?A.test(T):S.test(T);for(var V=P.allow_utf8_local_part?O:g,W=T.split("."),L=0;L<W.length;L++)if(!V.test(W[L]))return!1;return!(P.blacklisted_chars&&T.search(new RegExp("[".concat(P.blacklisted_chars,"]+"),"g"))!==-1)}K.exports=f.default,K.exports.default=f.default},10221:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=p;var t=i(e(65571)),a=i(e(84808));function i(l){return l&&l.__esModule?l:{default:l}}var c={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function p(l,v){(0,t.default)(l),v=(0,a.default)(v,c),v.allow_trailing_dot&&l[l.length-1]==="."&&(l=l.substring(0,l.length-1)),v.allow_wildcard===!0&&l.indexOf("*.")===0&&(l=l.substring(2));var _=l.split("."),g=_[_.length-1];return v.require_tld&&(_.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(g)||/\s/.test(g))||!v.allow_numeric_tld&&/^\d+$/.test(g)?!1:_.every(function(E){return!(E.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(E)||/[\uff01-\uff5e]/.test(E)||/^-|-$/.test(E)||!v.allow_underscores&&/_/.test(E))})}K.exports=f.default,K.exports.default=f.default},61028:(K,f,e)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=_;var t=a(e(65571));function a(g){return g&&g.__esModule?g:{default:g}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c="(".concat(i,"[.]){3}").concat(i),p=new RegExp("^".concat(c,"$")),l="(?:[0-9a-fA-F]{1,4})",v=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(c,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(c,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(c,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(c,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(c,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(c,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(c,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function _(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,t.default)(g),E=String(E),!E)return _(g,4)||_(g,6);if(E==="4"){if(!p.test(g))return!1;var S=g.split(".").sort(function(O,A){return O-A});return S[3]<=255}return E==="6"?!!v.test(g):!1}K.exports=f.default,K.exports.default=f.default},65571:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=t;function e(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(a)}function t(a){var i=typeof a=="string"||a instanceof String;if(!i){var c=e(a);throw a===null?c="null":c==="object"&&(c=a.constructor.name),new TypeError("Expected a string but received a ".concat(c))}}K.exports=f.default,K.exports.default=f.default},84808:(K,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default=e;function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;for(var i in a)typeof t[i]=="undefined"&&(t[i]=a[i]);return t}K.exports=f.default,K.exports.default=f.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:K=>{let f="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(a,i=21)=>(c=i)=>{let p="",l=c;for(;l--;)p+=a[Math.random()*a.length|0];return p},t=(a=21)=>{let i="",c=a;for(;c--;)i+=f[Math.random()*64|0];return i};K.exports={nanoid:t,customAlphabet:e}},36586:K=>{"use strict";function f(e){this.content=e}f.prototype={constructor:f,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,a){var i=a&&a!=e?this.remove(a):this,c=i.find(e),p=i.content.slice();return c==-1?p.push(a||e,t):(p[c+1]=t,a&&(p[c]=a)),new f(p)},remove:function(e){var t=this.find(e);if(t==-1)return this;var a=this.content.slice();return a.splice(t,2),new f(a)},addToStart:function(e,t){return new f([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var a=this.remove(e).content.slice();return a.push(e,t),new f(a)},addBefore:function(e,t,a){var i=this.remove(t),c=i.content.slice(),p=i.find(e);return c.splice(p==-1?c.length:p,0,t,a),new f(c)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=f.from(e),e.size?new f(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=f.from(e),e.size?new f(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=f.from(e);for(var a=0;a<e.content.length;a+=2)t=t.remove(e.content[a]);return t},toObject:function(){var e={};return this.forEach(function(t,a){e[t]=a}),e},get size(){return this.content.length>>1}},f.from=function(e){if(e instanceof f)return e;var t=[];if(e)for(var a in e)t.push(a,e[a]);return new f(t)},K.exports=f},19443:(K,f,e)=>{"use strict";function t(_t,ut){return l(_t)||p(_t,ut)||i(_t,ut)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(_t,ut){if(_t){if(typeof _t=="string")return c(_t,ut);var Ce=Object.prototype.toString.call(_t).slice(8,-1);if(Ce==="Object"&&_t.constructor&&(Ce=_t.constructor.name),Ce==="Map"||Ce==="Set")return Array.from(_t);if(Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return c(_t,ut)}}function c(_t,ut){(ut==null||ut>_t.length)&&(ut=_t.length);for(var Ce=0,be=new Array(ut);Ce<ut;Ce++)be[Ce]=_t[Ce];return be}function p(_t,ut){var Ce=_t==null?null:typeof Symbol!="undefined"&&_t[Symbol.iterator]||_t["@@iterator"];if(Ce!=null){var be=[],We=!0,qe=!1,Et,en;try{for(Ce=Ce.call(_t);!(We=(Et=Ce.next()).done)&&(be.push(Et.value),!(ut&&be.length===ut));We=!0);}catch(In){qe=!0,en=In}finally{try{!We&&Ce.return!=null&&Ce.return()}finally{if(qe)throw en}}return be}}function l(_t){if(Array.isArray(_t))return _t}function v(){return typeof Reflect!="undefined"&&Reflect.get?v=Reflect.get:v=function(ut,Ce,be){var We=_(ut,Ce);if(We){var qe=Object.getOwnPropertyDescriptor(We,Ce);return qe.get?qe.get.call(arguments.length<3?ut:be):qe.value}},v.apply(this,arguments)}function _(_t,ut){for(;!Object.prototype.hasOwnProperty.call(_t,ut)&&(_t=P(_t),_t!==null););return _t}function g(_t,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");_t.prototype=Object.create(ut&&ut.prototype,{constructor:{value:_t,writable:!0,configurable:!0}}),Object.defineProperty(_t,"prototype",{writable:!1}),ut&&w(_t,ut)}function E(_t){var ut=o();return function(){var be=P(_t),We;if(ut){var qe=P(this).constructor;We=Reflect.construct(be,arguments,qe)}else We=be.apply(this,arguments);return S(this,We)}}function S(_t,ut){if(ut&&(y(ut)==="object"||typeof ut=="function"))return ut;if(ut!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(_t)}function O(_t){if(_t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _t}function A(_t){var ut=typeof Map=="function"?new Map:void 0;return A=function(be){if(be===null||!s(be))return be;if(typeof be!="function")throw new TypeError("Super expression must either be null or a function");if(typeof ut!="undefined"){if(ut.has(be))return ut.get(be);ut.set(be,We)}function We(){return u(be,arguments,P(this).constructor)}return We.prototype=Object.create(be.prototype,{constructor:{value:We,enumerable:!1,writable:!0,configurable:!0}}),w(We,be)},A(_t)}function u(_t,ut,Ce){return o()?u=Reflect.construct:u=function(We,qe,Et){var en=[null];en.push.apply(en,qe);var In=Function.bind.apply(We,en),qn=new In;return Et&&w(qn,Et.prototype),qn},u.apply(null,arguments)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_t){return!1}}function s(_t){return Function.toString.call(_t).indexOf("[native code]")!==-1}function w(_t,ut){return w=Object.setPrototypeOf||function(be,We){return be.__proto__=We,be},w(_t,ut)}function P(_t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},P(_t)}function C(_t,ut){if(!(_t instanceof ut))throw new TypeError("Cannot call a class as a function")}function x(_t,ut){for(var Ce=0;Ce<ut.length;Ce++){var be=ut[Ce];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(_t,be.key,be)}}function D(_t,ut,Ce){return ut&&x(_t.prototype,ut),Ce&&x(_t,Ce),Object.defineProperty(_t,"prototype",{writable:!1}),_t}function y(_t){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ut){return typeof ut}:function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},y(_t)}Object.defineProperty(f,"__esModule",{value:!0});var M=e(36586);function T(_t){return _t&&y(_t)==="object"&&"default"in _t?_t:{default:_t}}var R=T(M);function F(_t,ut,Ce){for(var be=0;;be++){if(be==_t.childCount||be==ut.childCount)return _t.childCount==ut.childCount?null:Ce;var We=_t.child(be),qe=ut.child(be);if(We==qe){Ce+=We.nodeSize;continue}if(!We.sameMarkup(qe))return Ce;if(We.isText&&We.text!=qe.text){for(var Et=0;We.text[Et]==qe.text[Et];Et++)Ce++;return Ce}if(We.content.size||qe.content.size){var en=F(We.content,qe.content,Ce+1);if(en!=null)return en}Ce+=We.nodeSize}}function N(_t,ut,Ce,be){for(var We=_t.childCount,qe=ut.childCount;;){if(We==0||qe==0)return We==qe?null:{a:Ce,b:be};var Et=_t.child(--We),en=ut.child(--qe),In=Et.nodeSize;if(Et==en){Ce-=In,be-=In;continue}if(!Et.sameMarkup(en))return{a:Ce,b:be};if(Et.isText&&Et.text!=en.text){for(var qn=0,cr=Math.min(Et.text.length,en.text.length);qn<cr&&Et.text[Et.text.length-qn-1]==en.text[en.text.length-qn-1];)qn++,Ce--,be--;return{a:Ce,b:be}}if(Et.content.size||en.content.size){var pr=N(Et.content,en.content,Ce-1,be-1);if(pr)return pr}Ce-=In,be-=In}}var U=function(){function _t(ut,Ce){if(C(this,_t),this.content=ut,this.size=Ce||0,Ce==null)for(var be=0;be<ut.length;be++)this.size+=ut[be].nodeSize}return D(_t,[{key:"nodesBetween",value:function(Ce,be,We){for(var qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Et=arguments.length>4?arguments[4]:void 0,en=0,In=0;In<be;en++){var qn=this.content[en],cr=In+qn.nodeSize;if(cr>Ce&&We(qn,qe+In,Et||null,en)!==!1&&qn.content.size){var pr=In+1;qn.nodesBetween(Math.max(0,Ce-pr),Math.min(qn.content.size,be-pr),We,qe+pr)}In=cr}}},{key:"descendants",value:function(Ce){this.nodesBetween(0,this.size,Ce)}},{key:"textBetween",value:function(Ce,be,We,qe){var Et="",en=!0;return this.nodesBetween(Ce,be,function(In,qn){In.isText?(Et+=In.text.slice(Math.max(Ce,qn)-qn,be-qn),en=!We):In.isLeaf?(qe?Et+=typeof qe=="function"?qe(In):qe:In.type.spec.leafText&&(Et+=In.type.spec.leafText(In)),en=!We):!en&&In.isBlock&&(Et+=We,en=!0)},0),Et}},{key:"append",value:function(Ce){if(!Ce.size)return this;if(!this.size)return Ce;var be=this.lastChild,We=Ce.firstChild,qe=this.content.slice(),Et=0;for(be.isText&&be.sameMarkup(We)&&(qe[qe.length-1]=be.withText(be.text+We.text),Et=1);Et<Ce.content.length;Et++)qe.push(Ce.content[Et]);return new _t(qe,this.size+Ce.size)}},{key:"cut",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(Ce==0&&be==this.size)return this;var We=[],qe=0;if(be>Ce)for(var Et=0,en=0;en<be;Et++){var In=this.content[Et],qn=en+In.nodeSize;qn>Ce&&((en<Ce||qn>be)&&(In.isText?In=In.cut(Math.max(0,Ce-en),Math.min(In.text.length,be-en)):In=In.cut(Math.max(0,Ce-en-1),Math.min(In.content.size,be-en-1))),We.push(In),qe+=In.nodeSize),en=qn}return new _t(We,qe)}},{key:"cutByIndex",value:function(Ce,be){return Ce==be?_t.empty:Ce==0&&be==this.content.length?this:new _t(this.content.slice(Ce,be))}},{key:"replaceChild",value:function(Ce,be){var We=this.content[Ce];if(We==be)return this;var qe=this.content.slice(),Et=this.size+be.nodeSize-We.nodeSize;return qe[Ce]=be,new _t(qe,Et)}},{key:"addToStart",value:function(Ce){return new _t([Ce].concat(this.content),this.size+Ce.nodeSize)}},{key:"addToEnd",value:function(Ce){return new _t(this.content.concat(Ce),this.size+Ce.nodeSize)}},{key:"eq",value:function(Ce){if(this.content.length!=Ce.content.length)return!1;for(var be=0;be<this.content.length;be++)if(!this.content[be].eq(Ce.content[be]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(Ce){var be=this.content[Ce];if(!be)throw new RangeError("Index "+Ce+" out of range for "+this);return be}},{key:"maybeChild",value:function(Ce){return this.content[Ce]||null}},{key:"forEach",value:function(Ce){for(var be=0,We=0;be<this.content.length;be++){var qe=this.content[be];Ce(qe,We,be),We+=qe.nodeSize}}},{key:"findDiffStart",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return F(this,Ce,be)}},{key:"findDiffEnd",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.size;return N(this,Ce,be,We)}},{key:"findIndex",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(Ce==0)return W(0,Ce);if(Ce==this.size)return W(this.content.length,Ce);if(Ce>this.size||Ce<0)throw new RangeError("Position ".concat(Ce," outside of fragment (").concat(this,")"));for(var We=0,qe=0;;We++){var Et=this.child(We),en=qe+Et.nodeSize;if(en>=Ce)return en==Ce||be>0?W(We+1,en):W(We,qe);qe=en}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(Ce){return Ce.toJSON()}):null}}],[{key:"fromJSON",value:function(Ce,be){if(!be)return _t.empty;if(!Array.isArray(be))throw new RangeError("Invalid input for Fragment.fromJSON");return new _t(be.map(Ce.nodeFromJSON))}},{key:"fromArray",value:function(Ce){if(!Ce.length)return _t.empty;for(var be,We=0,qe=0;qe<Ce.length;qe++){var Et=Ce[qe];We+=Et.nodeSize,qe&&Et.isText&&Ce[qe-1].sameMarkup(Et)?(be||(be=Ce.slice(0,qe)),be[be.length-1]=Et.withText(be[be.length-1].text+Et.text)):be&&be.push(Et)}return new _t(be||Ce,We)}},{key:"from",value:function(Ce){if(!Ce)return _t.empty;if(Ce instanceof _t)return Ce;if(Array.isArray(Ce))return this.fromArray(Ce);if(Ce.attrs)return new _t([Ce],Ce.nodeSize);throw new RangeError("Can not convert "+Ce+" to a Fragment"+(Ce.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),_t}();U.empty=new U([],0);var V={index:0,offset:0};function W(_t,ut){return V.index=_t,V.offset=ut,V}function L(_t,ut){if(_t===ut)return!0;if(!(_t&&y(_t)=="object")||!(ut&&y(ut)=="object"))return!1;var Ce=Array.isArray(_t);if(Array.isArray(ut)!=Ce)return!1;if(Ce){if(_t.length!=ut.length)return!1;for(var be=0;be<_t.length;be++)if(!L(_t[be],ut[be]))return!1}else{for(var We in _t)if(!(We in ut)||!L(_t[We],ut[We]))return!1;for(var qe in ut)if(!(qe in _t))return!1}return!0}var k=function(){function _t(ut,Ce){C(this,_t),this.type=ut,this.attrs=Ce}return D(_t,[{key:"addToSet",value:function(Ce){for(var be,We=!1,qe=0;qe<Ce.length;qe++){var Et=Ce[qe];if(this.eq(Et))return Ce;if(this.type.excludes(Et.type))be||(be=Ce.slice(0,qe));else{if(Et.type.excludes(this.type))return Ce;!We&&Et.type.rank>this.type.rank&&(be||(be=Ce.slice(0,qe)),be.push(this),We=!0),be&&be.push(Et)}}return be||(be=Ce.slice()),We||be.push(this),be}},{key:"removeFromSet",value:function(Ce){for(var be=0;be<Ce.length;be++)if(this.eq(Ce[be]))return Ce.slice(0,be).concat(Ce.slice(be+1));return Ce}},{key:"isInSet",value:function(Ce){for(var be=0;be<Ce.length;be++)if(this.eq(Ce[be]))return!0;return!1}},{key:"eq",value:function(Ce){return this==Ce||this.type==Ce.type&&L(this.attrs,Ce.attrs)}},{key:"toJSON",value:function(){var Ce={type:this.type.name};for(var be in this.attrs){Ce.attrs=this.attrs;break}return Ce}}],[{key:"fromJSON",value:function(Ce,be){if(!be)throw new RangeError("Invalid input for Mark.fromJSON");var We=Ce.marks[be.type];if(!We)throw new RangeError("There is no mark type ".concat(be.type," in this schema"));return We.create(be.attrs)}},{key:"sameSet",value:function(Ce,be){if(Ce==be)return!0;if(Ce.length!=be.length)return!1;for(var We=0;We<Ce.length;We++)if(!Ce[We].eq(be[We]))return!1;return!0}},{key:"setFrom",value:function(Ce){if(!Ce||Array.isArray(Ce)&&Ce.length==0)return _t.none;if(Ce instanceof _t)return[Ce];var be=Ce.slice();return be.sort(function(We,qe){return We.type.rank-qe.type.rank}),be}}]),_t}();k.none=[];var H=function(_t){g(Ce,_t);var ut=E(Ce);function Ce(){return C(this,Ce),ut.apply(this,arguments)}return D(Ce)}(A(Error)),G=function(){function _t(ut,Ce,be){C(this,_t),this.content=ut,this.openStart=Ce,this.openEnd=be}return D(_t,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(Ce,be){var We=z(this.content,Ce+this.openStart,be);return We&&new _t(We,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(Ce,be){return new _t(q(this.content,Ce+this.openStart,be+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(Ce){return this.content.eq(Ce.content)&&this.openStart==Ce.openStart&&this.openEnd==Ce.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var Ce={content:this.content.toJSON()};return this.openStart>0&&(Ce.openStart=this.openStart),this.openEnd>0&&(Ce.openEnd=this.openEnd),Ce}}],[{key:"fromJSON",value:function(Ce,be){if(!be)return _t.empty;var We=be.openStart||0,qe=be.openEnd||0;if(typeof We!="number"||typeof qe!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new _t(U.fromJSON(Ce,be.content),We,qe)}},{key:"maxOpen",value:function(Ce){for(var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,We=0,qe=0,Et=Ce.firstChild;Et&&!Et.isLeaf&&(be||!Et.type.spec.isolating);Et=Et.firstChild)We++;for(var en=Ce.lastChild;en&&!en.isLeaf&&(be||!en.type.spec.isolating);en=en.lastChild)qe++;return new _t(Ce,We,qe)}}]),_t}();G.empty=new G(U.empty,0,0);function q(_t,ut,Ce){var be=_t.findIndex(ut),We=be.index,qe=be.offset,Et=_t.maybeChild(We),en=_t.findIndex(Ce),In=en.index,qn=en.offset;if(qe==ut||Et.isText){if(qn!=Ce&&!_t.child(In).isText)throw new RangeError("Removing non-flat range");return _t.cut(0,ut).append(_t.cut(Ce))}if(We!=In)throw new RangeError("Removing non-flat range");return _t.replaceChild(We,Et.copy(q(Et.content,ut-qe-1,Ce-qe-1)))}function z(_t,ut,Ce,be){var We=_t.findIndex(ut),qe=We.index,Et=We.offset,en=_t.maybeChild(qe);if(Et==ut||en.isText)return be&&!be.canReplace(qe,qe,Ce)?null:_t.cut(0,ut).append(Ce).append(_t.cut(ut));var In=z(en.content,ut-Et-1,Ce);return In&&_t.replaceChild(qe,en.copy(In))}function ee(_t,ut,Ce){if(Ce.openStart>_t.depth)throw new H("Inserted content deeper than insertion position");if(_t.depth-Ce.openStart!=ut.depth-Ce.openEnd)throw new H("Inconsistent open depths");return $(_t,ut,Ce,0)}function $(_t,ut,Ce,be){var We=_t.index(be),qe=_t.node(be);if(We==ut.index(be)&&be<_t.depth-Ce.openStart){var Et=$(_t,ut,Ce,be+1);return qe.copy(qe.content.replaceChild(We,Et))}else if(Ce.content.size)if(!Ce.openStart&&!Ce.openEnd&&_t.depth==be&&ut.depth==be){var en=_t.parent,In=en.content;return ie(en,In.cut(0,_t.parentOffset).append(Ce.content).append(In.cut(ut.parentOffset)))}else{var qn=ae(Ce,_t),cr=qn.start,pr=qn.end;return ie(qe,oe(_t,cr,pr,ut,be))}else return ie(qe,re(_t,ut,be))}function J(_t,ut){if(!ut.type.compatibleContent(_t.type))throw new H("Cannot join "+ut.type.name+" onto "+_t.type.name)}function j(_t,ut,Ce){var be=_t.node(Ce);return J(be,ut.node(Ce)),be}function Z(_t,ut){var Ce=ut.length-1;Ce>=0&&_t.isText&&_t.sameMarkup(ut[Ce])?ut[Ce]=_t.withText(ut[Ce].text+_t.text):ut.push(_t)}function ne(_t,ut,Ce,be){var We=(ut||_t).node(Ce),qe=0,Et=ut?ut.index(Ce):We.childCount;_t&&(qe=_t.index(Ce),_t.depth>Ce?qe++:_t.textOffset&&(Z(_t.nodeAfter,be),qe++));for(var en=qe;en<Et;en++)Z(We.child(en),be);ut&&ut.depth==Ce&&ut.textOffset&&Z(ut.nodeBefore,be)}function ie(_t,ut){return _t.type.checkContent(ut),_t.copy(ut)}function oe(_t,ut,Ce,be,We){var qe=_t.depth>We&&j(_t,ut,We+1),Et=be.depth>We&&j(Ce,be,We+1),en=[];return ne(null,_t,We,en),qe&&Et&&ut.index(We)==Ce.index(We)?(J(qe,Et),Z(ie(qe,oe(_t,ut,Ce,be,We+1)),en)):(qe&&Z(ie(qe,re(_t,ut,We+1)),en),ne(ut,Ce,We,en),Et&&Z(ie(Et,re(Ce,be,We+1)),en)),ne(be,null,We,en),new U(en)}function re(_t,ut,Ce){var be=[];if(ne(null,_t,Ce,be),_t.depth>Ce){var We=j(_t,ut,Ce+1);Z(ie(We,re(_t,ut,Ce+1)),be)}return ne(ut,null,Ce,be),new U(be)}function ae(_t,ut){for(var Ce=ut.depth-_t.openStart,be=ut.node(Ce),We=be.copy(_t.content),qe=Ce-1;qe>=0;qe--)We=ut.node(qe).copy(U.from(We));return{start:We.resolveNoCache(_t.openStart+Ce),end:We.resolveNoCache(We.content.size-_t.openEnd-Ce)}}var se=function(){function _t(ut,Ce,be){C(this,_t),this.pos=ut,this.path=Ce,this.parentOffset=be,this.depth=Ce.length/3-1}return D(_t,[{key:"resolveDepth",value:function(Ce){return Ce==null?this.depth:Ce<0?this.depth+Ce:Ce}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(Ce){return this.path[this.resolveDepth(Ce)*3]}},{key:"index",value:function(Ce){return this.path[this.resolveDepth(Ce)*3+1]}},{key:"indexAfter",value:function(Ce){return Ce=this.resolveDepth(Ce),this.index(Ce)+(Ce==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(Ce){return Ce=this.resolveDepth(Ce),Ce==0?0:this.path[Ce*3-1]+1}},{key:"end",value:function(Ce){return Ce=this.resolveDepth(Ce),this.start(Ce)+this.node(Ce).content.size}},{key:"before",value:function(Ce){if(Ce=this.resolveDepth(Ce),!Ce)throw new RangeError("There is no position before the top-level node");return Ce==this.depth+1?this.pos:this.path[Ce*3-1]}},{key:"after",value:function(Ce){if(Ce=this.resolveDepth(Ce),!Ce)throw new RangeError("There is no position after the top-level node");return Ce==this.depth+1?this.pos:this.path[Ce*3-1]+this.path[Ce*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var Ce=this.parent,be=this.index(this.depth);if(be==Ce.childCount)return null;var We=this.pos-this.path[this.path.length-1],qe=Ce.child(be);return We?Ce.child(be).cut(We):qe}},{key:"nodeBefore",get:function(){var Ce=this.index(this.depth),be=this.pos-this.path[this.path.length-1];return be?this.parent.child(Ce).cut(0,be):Ce==0?null:this.parent.child(Ce-1)}},{key:"posAtIndex",value:function(Ce,be){be=this.resolveDepth(be);for(var We=this.path[be*3],qe=be==0?0:this.path[be*3-1]+1,Et=0;Et<Ce;Et++)qe+=We.child(Et).nodeSize;return qe}},{key:"marks",value:function(){var Ce=this.parent,be=this.index();if(Ce.content.size==0)return k.none;if(this.textOffset)return Ce.child(be).marks;var We=Ce.maybeChild(be-1),qe=Ce.maybeChild(be);if(!We){var Et=We;We=qe,qe=Et}for(var en=We.marks,In=0;In<en.length;In++)en[In].type.spec.inclusive===!1&&(!qe||!en[In].isInSet(qe.marks))&&(en=en[In--].removeFromSet(en));return en}},{key:"marksAcross",value:function(Ce){var be=this.parent.maybeChild(this.index());if(!be||!be.isInline)return null;for(var We=be.marks,qe=Ce.parent.maybeChild(Ce.index()),Et=0;Et<We.length;Et++)We[Et].type.spec.inclusive===!1&&(!qe||!We[Et].isInSet(qe.marks))&&(We=We[Et--].removeFromSet(We));return We}},{key:"sharedDepth",value:function(Ce){for(var be=this.depth;be>0;be--)if(this.start(be)<=Ce&&this.end(be)>=Ce)return be;return 0}},{key:"blockRange",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,be=arguments.length>1?arguments[1]:void 0;if(Ce.pos<this.pos)return Ce.blockRange(this);for(var We=this.depth-(this.parent.inlineContent||this.pos==Ce.pos?1:0);We>=0;We--)if(Ce.pos<=this.end(We)&&(!be||be(this.node(We))))return new De(this,Ce,We);return null}},{key:"sameParent",value:function(Ce){return this.pos-this.parentOffset==Ce.pos-Ce.parentOffset}},{key:"max",value:function(Ce){return Ce.pos>this.pos?Ce:this}},{key:"min",value:function(Ce){return Ce.pos<this.pos?Ce:this}},{key:"toString",value:function(){for(var Ce="",be=1;be<=this.depth;be++)Ce+=(Ce?"/":"")+this.node(be).type.name+"_"+this.index(be-1);return Ce+":"+this.parentOffset}}],[{key:"resolve",value:function(Ce,be){if(!(be>=0&&be<=Ce.content.size))throw new RangeError("Position "+be+" out of range");for(var We=[],qe=0,Et=be,en=Ce;;){var In=en.content.findIndex(Et),qn=In.index,cr=In.offset,pr=Et-cr;if(We.push(en,qn,qe+cr),!pr||(en=en.child(qn),en.isText))break;Et=pr-1,qe+=cr+1}return new _t(be,We,Et)}},{key:"resolveCached",value:function(Ce,be){for(var We=0;We<fe.length;We++){var qe=fe[We];if(qe.pos==be&&qe.doc==Ce)return qe}var Et=fe[le]=_t.resolve(Ce,be);return le=(le+1)%Ae,Et}}]),_t}(),fe=[],le=0,Ae=12,De=function(){function _t(ut,Ce,be){C(this,_t),this.$from=ut,this.$to=Ce,this.depth=be}return D(_t,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),_t}(),je=Object.create(null),Je=function(){function _t(ut,Ce,be){var We=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k.none;C(this,_t),this.type=ut,this.attrs=Ce,this.marks=We,this.content=be||U.empty}return D(_t,[{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(Ce){return this.content.child(Ce)}},{key:"maybeChild",value:function(Ce){return this.content.maybeChild(Ce)}},{key:"forEach",value:function(Ce){this.content.forEach(Ce)}},{key:"nodesBetween",value:function(Ce,be,We){var qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(Ce,be,We,qe,this)}},{key:"descendants",value:function(Ce){this.nodesBetween(0,this.content.size,Ce)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(Ce,be,We,qe){return this.content.textBetween(Ce,be,We,qe)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(Ce){return this==Ce||this.sameMarkup(Ce)&&this.content.eq(Ce.content)}},{key:"sameMarkup",value:function(Ce){return this.hasMarkup(Ce.type,Ce.attrs,Ce.marks)}},{key:"hasMarkup",value:function(Ce,be,We){return this.type==Ce&&L(this.attrs,be||Ce.defaultAttrs||je)&&k.sameSet(this.marks,We||k.none)}},{key:"copy",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ce==this.content?this:new _t(this.type,this.attrs,Ce,this.marks)}},{key:"mark",value:function(Ce){return Ce==this.marks?this:new _t(this.type,this.attrs,this.content,Ce)}},{key:"cut",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return Ce==0&&be==this.content.size?this:this.copy(this.content.cut(Ce,be))}},{key:"slice",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Ce==be)return G.empty;var qe=this.resolve(Ce),Et=this.resolve(be),en=We?0:qe.sharedDepth(be),In=qe.start(en),qn=qe.node(en),cr=qn.content.cut(qe.pos-In,Et.pos-In);return new G(cr,qe.depth-en,Et.depth-en)}},{key:"replace",value:function(Ce,be,We){return ee(this.resolve(Ce),this.resolve(be),We)}},{key:"nodeAt",value:function(Ce){for(var be=this;;){var We=be.content.findIndex(Ce),qe=We.index,Et=We.offset;if(be=be.maybeChild(qe),!be)return null;if(Et==Ce||be.isText)return be;Ce-=Et+1}}},{key:"childAfter",value:function(Ce){var be=this.content.findIndex(Ce),We=be.index,qe=be.offset;return{node:this.content.maybeChild(We),index:We,offset:qe}}},{key:"childBefore",value:function(Ce){if(Ce==0)return{node:null,index:0,offset:0};var be=this.content.findIndex(Ce),We=be.index,qe=be.offset;if(qe<Ce)return{node:this.content.child(We),index:We,offset:qe};var Et=this.content.child(We-1);return{node:Et,index:We-1,offset:qe-Et.nodeSize}}},{key:"resolve",value:function(Ce){return se.resolveCached(this,Ce)}},{key:"resolveNoCache",value:function(Ce){return se.resolve(this,Ce)}},{key:"rangeHasMark",value:function(Ce,be,We){var qe=!1;return be>Ce&&this.nodesBetween(Ce,be,function(Et){return We.isInSet(Et.marks)&&(qe=!0),!qe}),qe}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var Ce=this.type.name;return this.content.size&&(Ce+="("+this.content.toStringInner()+")"),st(this.marks,Ce)}},{key:"contentMatchAt",value:function(Ce){var be=this.type.contentMatch.matchFragment(this.content,0,Ce);if(!be)throw new Error("Called contentMatchAt on a node with invalid content");return be}},{key:"canReplace",value:function(Ce,be){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U.empty,qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:We.childCount,en=this.contentMatchAt(Ce).matchFragment(We,qe,Et),In=en&&en.matchFragment(this.content,be);if(!In||!In.validEnd)return!1;for(var qn=qe;qn<Et;qn++)if(!this.type.allowsMarks(We.child(qn).marks))return!1;return!0}},{key:"canReplaceWith",value:function(Ce,be,We,qe){if(qe&&!this.type.allowsMarks(qe))return!1;var Et=this.contentMatchAt(Ce).matchType(We),en=Et&&Et.matchFragment(this.content,be);return en?en.validEnd:!1}},{key:"canAppend",value:function(Ce){return Ce.content.size?this.canReplace(this.childCount,this.childCount,Ce.content):this.type.compatibleContent(Ce.type)}},{key:"check",value:function(){this.type.checkContent(this.content);for(var Ce=k.none,be=0;be<this.marks.length;be++)Ce=this.marks[be].addToSet(Ce);if(!k.sameSet(Ce,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(We){return We.type.name})));this.content.forEach(function(We){return We.check()})}},{key:"toJSON",value:function(){var Ce={type:this.type.name};for(var be in this.attrs){Ce.attrs=this.attrs;break}return this.content.size&&(Ce.content=this.content.toJSON()),this.marks.length&&(Ce.marks=this.marks.map(function(We){return We.toJSON()})),Ce}}],[{key:"fromJSON",value:function(Ce,be){if(!be)throw new RangeError("Invalid input for Node.fromJSON");var We=null;if(be.marks){if(!Array.isArray(be.marks))throw new RangeError("Invalid mark data for Node.fromJSON");We=be.marks.map(Ce.markFromJSON)}if(be.type=="text"){if(typeof be.text!="string")throw new RangeError("Invalid text node in JSON");return Ce.text(be.text,We)}var qe=U.fromJSON(Ce,be.content);return Ce.nodeType(be.type).create(be.attrs,qe,We)}}]),_t}();Je.prototype.text=void 0;var Be=function(_t){g(Ce,_t);var ut=E(Ce);function Ce(be,We,qe,Et){var en;if(C(this,Ce),en=ut.call(this,be,We,null,Et),!qe)throw new RangeError("Empty text nodes are not allowed");return en.text=qe,en}return D(Ce,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):st(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(We,qe){return this.text.slice(We,qe)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(We){return We==this.marks?this:new Ce(this.type,this.attrs,this.text,We)}},{key:"withText",value:function(We){return We==this.text?this:new Ce(this.type,this.attrs,We,this.marks)}},{key:"cut",value:function(){var We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return We==0&&qe==this.text.length?this:this.withText(this.text.slice(We,qe))}},{key:"eq",value:function(We){return this.sameMarkup(We)&&this.text==We.text}},{key:"toJSON",value:function(){var We=v(P(Ce.prototype),"toJSON",this).call(this);return We.text=this.text,We}}]),Ce}(Je);function st(_t,ut){for(var Ce=_t.length-1;Ce>=0;Ce--)ut=_t[Ce].type.name+"("+ut+")";return ut}var ht=function(){function _t(ut){C(this,_t),this.validEnd=ut,this.next=[],this.wrapCache=[]}return D(_t,[{key:"matchType",value:function(Ce){for(var be=0;be<this.next.length;be++)if(this.next[be].type==Ce)return this.next[be].next;return null}},{key:"matchFragment",value:function(Ce){for(var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.childCount,qe=this,Et=be;qe&&Et<We;Et++)qe=qe.matchType(Ce.child(Et).type);return qe}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var Ce=0;Ce<this.next.length;Ce++){var be=this.next[Ce].type;if(!(be.isText||be.hasRequiredAttrs()))return be}return null}},{key:"compatible",value:function(Ce){for(var be=0;be<this.next.length;be++)for(var We=0;We<Ce.next.length;We++)if(this.next[be].type==Ce.next[We].type)return!0;return!1}},{key:"fillBefore",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,qe=[this];function Et(en,In){var qn=en.matchFragment(Ce,We);if(qn&&(!be||qn.validEnd))return U.from(In.map(function(pt){return pt.createAndFill()}));for(var cr=0;cr<en.next.length;cr++){var pr=en.next[cr],wr=pr.type,Vr=pr.next;if(!(wr.isText||wr.hasRequiredAttrs())&&qe.indexOf(Vr)==-1){qe.push(Vr);var On=Et(Vr,In.concat(wr));if(On)return On}}return null}return Et(this,[])}},{key:"findWrapping",value:function(Ce){for(var be=0;be<this.wrapCache.length;be+=2)if(this.wrapCache[be]==Ce)return this.wrapCache[be+1];var We=this.computeWrapping(Ce);return this.wrapCache.push(Ce,We),We}},{key:"computeWrapping",value:function(Ce){for(var be=Object.create(null),We=[{match:this,type:null,via:null}];We.length;){var qe=We.shift(),Et=qe.match;if(Et.matchType(Ce)){for(var en=[],In=qe;In.type;In=In.via)en.push(In.type);return en.reverse()}for(var qn=0;qn<Et.next.length;qn++){var cr=Et.next[qn],pr=cr.type,wr=cr.next;!pr.isLeaf&&!pr.hasRequiredAttrs()&&!(pr.name in be)&&(!qe.type||wr.validEnd)&&(We.push({match:pr.contentMatch,type:pr,via:qe}),be[pr.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(Ce){if(Ce>=this.next.length)throw new RangeError("There's no ".concat(Ce,"th edge in this content match"));return this.next[Ce]}},{key:"toString",value:function(){var Ce=[];function be(We){Ce.push(We);for(var qe=0;qe<We.next.length;qe++)Ce.indexOf(We.next[qe].next)==-1&&be(We.next[qe].next)}return be(this),Ce.map(function(We,qe){for(var Et=qe+(We.validEnd?"*":" ")+" ",en=0;en<We.next.length;en++)Et+=(en?", ":"")+We.next[en].type.name+"->"+Ce.indexOf(We.next[en].next);return Et}).join(`
`)}}],[{key:"parse",value:function(Ce,be){var We=new gt(Ce,be);if(We.next==null)return _t.empty;var qe=Xe(We);We.next&&We.err("Unexpected trailing text");var Et=Ze(ct(qe));return Fe(Et,We),Et}}]),_t}();ht.empty=new ht(!0);var gt=function(){function _t(ut,Ce){C(this,_t),this.string=ut,this.nodeTypes=Ce,this.inline=null,this.pos=0,this.tokens=ut.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return D(_t,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(Ce){return this.next==Ce&&(this.pos++||!0)}},{key:"err",value:function(Ce){throw new SyntaxError(Ce+" (in content expression '"+this.string+"')")}}]),_t}();function Xe(_t){var ut=[];do ut.push(Re(_t));while(_t.eat("|"));return ut.length==1?ut[0]:{type:"choice",exprs:ut}}function Re(_t){var ut=[];do ut.push(Ne(_t));while(_t.next&&_t.next!=")"&&_t.next!="|");return ut.length==1?ut[0]:{type:"seq",exprs:ut}}function Ne(_t){for(var ut=ln(_t);;)if(_t.eat("+"))ut={type:"plus",expr:ut};else if(_t.eat("*"))ut={type:"star",expr:ut};else if(_t.eat("?"))ut={type:"opt",expr:ut};else if(_t.eat("{"))ut=ot(_t,ut);else break;return ut}function ke(_t){/\D/.test(_t.next)&&_t.err("Expected number, got '"+_t.next+"'");var ut=Number(_t.next);return _t.pos++,ut}function ot(_t,ut){var Ce=ke(_t),be=Ce;return _t.eat(",")&&(_t.next!="}"?be=ke(_t):be=-1),_t.eat("}")||_t.err("Unclosed braced range"),{type:"range",min:Ce,max:be,expr:ut}}function Dt(_t,ut){var Ce=_t.nodeTypes,be=Ce[ut];if(be)return[be];var We=[];for(var qe in Ce){var Et=Ce[qe];Et.groups.indexOf(ut)>-1&&We.push(Et)}return We.length==0&&_t.err("No node type or group '"+ut+"' found"),We}function ln(_t){if(_t.eat("(")){var ut=Xe(_t);return _t.eat(")")||_t.err("Missing closing paren"),ut}else if(/\W/.test(_t.next))_t.err("Unexpected token '"+_t.next+"'");else{var Ce=Dt(_t,_t.next).map(function(be){return _t.inline==null?_t.inline=be.isInline:_t.inline!=be.isInline&&_t.err("Mixing inline and block content"),{type:"name",value:be}});return _t.pos++,Ce.length==1?Ce[0]:{type:"choice",exprs:Ce}}}function ct(_t){var ut=[[]];return We(qe(_t,0),Ce()),ut;function Ce(){return ut.push([])-1}function be(Et,en,In){var qn={term:In,to:en};return ut[Et].push(qn),qn}function We(Et,en){Et.forEach(function(In){return In.to=en})}function qe(Et,en){if(Et.type=="choice")return Et.exprs.reduce(function(Dn,Gn){return Dn.concat(qe(Gn,en))},[]);if(Et.type=="seq")for(var In=0;;In++){var qn=qe(Et.exprs[In],en);if(In==Et.exprs.length-1)return qn;We(qn,en=Ce())}else if(Et.type=="star"){var cr=Ce();return be(en,cr),We(qe(Et.expr,cr),cr),[be(cr)]}else if(Et.type=="plus"){var pr=Ce();return We(qe(Et.expr,en),pr),We(qe(Et.expr,pr),pr),[be(pr)]}else{if(Et.type=="opt")return[be(en)].concat(qe(Et.expr,en));if(Et.type=="range"){for(var wr=en,Vr=0;Vr<Et.min;Vr++){var On=Ce();We(qe(Et.expr,wr),On),wr=On}if(Et.max==-1)We(qe(Et.expr,wr),wr);else for(var pt=Et.min;pt<Et.max;pt++){var hn=Ce();be(wr,hn),We(qe(Et.expr,wr),hn),wr=hn}return[be(wr)]}else{if(Et.type=="name")return[be(en,void 0,Et.value)];throw new Error("Unknown expr type")}}}}function Oe(_t,ut){return ut-_t}function Se(_t,ut){var Ce=[];return be(ut),Ce.sort(Oe);function be(We){var qe=_t[We];if(qe.length==1&&!qe[0].term)return be(qe[0].to);Ce.push(We);for(var Et=0;Et<qe.length;Et++){var en=qe[Et],In=en.term,qn=en.to;!In&&Ce.indexOf(qn)==-1&&be(qn)}}}function Ze(_t){var ut=Object.create(null);return Ce(Se(_t,0));function Ce(be){var We=[];be.forEach(function(In){_t[In].forEach(function(qn){var cr=qn.term,pr=qn.to;if(cr){for(var wr,Vr=0;Vr<We.length;Vr++)We[Vr][0]==cr&&(wr=We[Vr][1]);Se(_t,pr).forEach(function(On){wr||We.push([cr,wr=[]]),wr.indexOf(On)==-1&&wr.push(On)})}})});for(var qe=ut[be.join(",")]=new ht(be.indexOf(_t.length-1)>-1),Et=0;Et<We.length;Et++){var en=We[Et][1].sort(Oe);qe.next.push({type:We[Et][0],next:ut[en.join(",")]||Ce(en)})}return qe}}function Fe(_t,ut){for(var Ce=0,be=[_t];Ce<be.length;Ce++){for(var We=be[Ce],qe=!We.validEnd,Et=[],en=0;en<We.next.length;en++){var In=We.next[en],qn=In.type,cr=In.next;Et.push(qn.name),qe&&!(qn.isText||qn.hasRequiredAttrs())&&(qe=!1),be.indexOf(cr)==-1&&be.push(cr)}qe&&ut.err("Only non-generatable nodes ("+Et.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ke(_t){var ut=Object.create(null);for(var Ce in _t){var be=_t[Ce];if(!be.hasDefault)return null;ut[Ce]=be.default}return ut}function et(_t,ut){var Ce=Object.create(null);for(var be in _t){var We=ut&&ut[be];if(We===void 0){var qe=_t[be];if(qe.hasDefault)We=qe.default;else throw new RangeError("No value supplied for attribute "+be)}Ce[be]=We}return Ce}function Qe(_t){var ut=Object.create(null);if(_t)for(var Ce in _t)ut[Ce]=new Te(_t[Ce]);return ut}var $e=function(){function _t(ut,Ce,be){C(this,_t),this.name=ut,this.schema=Ce,this.spec=be,this.markSet=null,this.groups=be.group?be.group.split(" "):[],this.attrs=Qe(be.attrs),this.defaultAttrs=Ke(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(be.inline||ut=="text"),this.isText=ut=="text"}return D(_t,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==ht.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var Ce in this.attrs)if(this.attrs[Ce].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(Ce){return this==Ce||this.contentMatch.compatible(Ce.contentMatch)}},{key:"computeAttrs",value:function(Ce){return!Ce&&this.defaultAttrs?this.defaultAttrs:et(this.attrs,Ce)}},{key:"create",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,be=arguments.length>1?arguments[1]:void 0,We=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Je(this,this.computeAttrs(Ce),U.from(be),k.setFrom(We))}},{key:"createChecked",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,be=arguments.length>1?arguments[1]:void 0,We=arguments.length>2?arguments[2]:void 0;return be=U.from(be),this.checkContent(be),new Je(this,this.computeAttrs(Ce),be,k.setFrom(We))}},{key:"createAndFill",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,be=arguments.length>1?arguments[1]:void 0,We=arguments.length>2?arguments[2]:void 0;if(Ce=this.computeAttrs(Ce),be=U.from(be),be.size){var qe=this.contentMatch.fillBefore(be);if(!qe)return null;be=qe.append(be)}var Et=this.contentMatch.matchFragment(be),en=Et&&Et.fillBefore(U.empty,!0);return en?new Je(this,Ce,be.append(en),k.setFrom(We)):null}},{key:"validContent",value:function(Ce){var be=this.contentMatch.matchFragment(Ce);if(!be||!be.validEnd)return!1;for(var We=0;We<Ce.childCount;We++)if(!this.allowsMarks(Ce.child(We).marks))return!1;return!0}},{key:"checkContent",value:function(Ce){if(!this.validContent(Ce))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(Ce.toString().slice(0,50)))}},{key:"allowsMarkType",value:function(Ce){return this.markSet==null||this.markSet.indexOf(Ce)>-1}},{key:"allowsMarks",value:function(Ce){if(this.markSet==null)return!0;for(var be=0;be<Ce.length;be++)if(!this.allowsMarkType(Ce[be].type))return!1;return!0}},{key:"allowedMarks",value:function(Ce){if(this.markSet==null)return Ce;for(var be,We=0;We<Ce.length;We++)this.allowsMarkType(Ce[We].type)?be&&be.push(Ce[We]):be||(be=Ce.slice(0,We));return be?be.length?be:k.none:Ce}}],[{key:"compile",value:function(Ce,be){var We=Object.create(null);Ce.forEach(function(en,In){return We[en]=new _t(en,be,In)});var qe=be.spec.topNode||"doc";if(!We[qe])throw new RangeError("Schema is missing its top node type ('"+qe+"')");if(!We.text)throw new RangeError("Every schema needs a 'text' type");for(var Et in We.text.attrs)throw new RangeError("The text node type should not have attributes");return We}}]),_t}(),Te=function(){function _t(ut){C(this,_t),this.hasDefault=Object.prototype.hasOwnProperty.call(ut,"default"),this.default=ut.default}return D(_t,[{key:"isRequired",get:function(){return!this.hasDefault}}]),_t}(),te=function(){function _t(ut,Ce,be,We){C(this,_t),this.name=ut,this.rank=Ce,this.schema=be,this.spec=We,this.attrs=Qe(We.attrs),this.excluded=null;var qe=Ke(this.attrs);this.instance=qe?new k(this,qe):null}return D(_t,[{key:"create",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!Ce&&this.instance?this.instance:new k(this,et(this.attrs,Ce))}},{key:"removeFromSet",value:function(Ce){for(var be=0;be<Ce.length;be++)Ce[be].type==this&&(Ce=Ce.slice(0,be).concat(Ce.slice(be+1)),be--);return Ce}},{key:"isInSet",value:function(Ce){for(var be=0;be<Ce.length;be++)if(Ce[be].type==this)return Ce[be]}},{key:"excludes",value:function(Ce){return this.excluded.indexOf(Ce)>-1}}],[{key:"compile",value:function(Ce,be){var We=Object.create(null),qe=0;return Ce.forEach(function(Et,en){return We[Et]=new _t(Et,qe++,be,en)}),We}}]),_t}(),ue=function(){function _t(ut){C(this,_t),this.cached=Object.create(null);var Ce=this.spec={};for(var be in ut)Ce[be]=ut[be];Ce.nodes=R.default.from(ut.nodes),Ce.marks=R.default.from(ut.marks||{}),this.nodes=$e.compile(this.spec.nodes,this),this.marks=te.compile(this.spec.marks,this);var We=Object.create(null);for(var qe in this.nodes){if(qe in this.marks)throw new RangeError(qe+" can not be both a node and a mark");var Et=this.nodes[qe],en=Et.spec.content||"",In=Et.spec.marks;Et.contentMatch=We[en]||(We[en]=ht.parse(en,this.nodes)),Et.inlineContent=Et.contentMatch.inlineContent,Et.markSet=In=="_"?null:In?we(this,In.split(" ")):In==""||!Et.inlineContent?[]:null}for(var qn in this.marks){var cr=this.marks[qn],pr=cr.spec.excludes;cr.excluded=pr==null?[cr]:pr==""?[]:we(this,pr.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return D(_t,[{key:"node",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,We=arguments.length>2?arguments[2]:void 0,qe=arguments.length>3?arguments[3]:void 0;if(typeof Ce=="string")Ce=this.nodeType(Ce);else if(Ce instanceof $e){if(Ce.schema!=this)throw new RangeError("Node type from different schema used ("+Ce.name+")")}else throw new RangeError("Invalid node type: "+Ce);return Ce.createChecked(be,We,qe)}},{key:"text",value:function(Ce,be){var We=this.nodes.text;return new Be(We,We.defaultAttrs,Ce,k.setFrom(be))}},{key:"mark",value:function(Ce,be){return typeof Ce=="string"&&(Ce=this.marks[Ce]),Ce.create(be)}},{key:"nodeFromJSON",value:function(Ce){return Je.fromJSON(this,Ce)}},{key:"markFromJSON",value:function(Ce){return k.fromJSON(this,Ce)}},{key:"nodeType",value:function(Ce){var be=this.nodes[Ce];if(!be)throw new RangeError("Unknown node type: "+Ce);return be}}]),_t}();function we(_t,ut){for(var Ce=[],be=0;be<ut.length;be++){var We=ut[be],qe=_t.marks[We],Et=qe;if(qe)Ce.push(qe);else for(var en in _t.marks){var In=_t.marks[en];(We=="_"||In.spec.group&&In.spec.group.split(" ").indexOf(We)>-1)&&Ce.push(Et=In)}if(!Et)throw new SyntaxError("Unknown mark type: '"+ut[be]+"'")}return Ce}var me=function(){function _t(ut,Ce){var be=this;C(this,_t),this.schema=ut,this.rules=Ce,this.tags=[],this.styles=[],Ce.forEach(function(We){We.tag?be.tags.push(We):We.style&&be.styles.push(We)}),this.normalizeLists=!this.tags.some(function(We){if(!/^(ul|ol)\b/.test(We.tag)||!We.node)return!1;var qe=ut.nodes[We.node];return qe.contentMatch.matchType(qe)})}return D(_t,[{key:"parse",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},We=new Le(this,be,!1);return We.addAll(Ce,be.from,be.to),We.finish()}},{key:"parseSlice",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},We=new Le(this,be,!0);return We.addAll(Ce,be.from,be.to),G.maxOpen(We.finish())}},{key:"matchTag",value:function(Ce,be,We){for(var qe=We?this.tags.indexOf(We)+1:0;qe<this.tags.length;qe++){var Et=this.tags[qe];if(on(Ce,Et.tag)&&(Et.namespace===void 0||Ce.namespaceURI==Et.namespace)&&(!Et.context||be.matchesContext(Et.context))){if(Et.getAttrs){var en=Et.getAttrs(Ce);if(en===!1)continue;Et.attrs=en||void 0}return Et}}}},{key:"matchStyle",value:function(Ce,be,We,qe){for(var Et=qe?this.styles.indexOf(qe)+1:0;Et<this.styles.length;Et++){var en=this.styles[Et],In=en.style;if(!(In.indexOf(Ce)!=0||en.context&&!We.matchesContext(en.context)||In.length>Ce.length&&(In.charCodeAt(Ce.length)!=61||In.slice(Ce.length+1)!=be))){if(en.getAttrs){var qn=en.getAttrs(be);if(qn===!1)continue;en.attrs=qn||void 0}return en}}}}],[{key:"schemaRules",value:function(Ce){var be=[];function We(qn){for(var cr=qn.priority==null?50:qn.priority,pr=0;pr<be.length;pr++){var wr=be[pr],Vr=wr.priority==null?50:wr.priority;if(Vr<cr)break}be.splice(pr,0,qn)}var qe=function(cr){var pr=Ce.marks[cr].spec.parseDOM;pr&&pr.forEach(function(wr){We(wr=$t(wr)),wr.mark||wr.ignore||wr.clearMark||(wr.mark=cr)})};for(var Et in Ce.marks)qe(Et);var en=function(cr){var pr=Ce.nodes[cr].spec.parseDOM;pr&&pr.forEach(function(wr){We(wr=$t(wr)),wr.node||wr.ignore||wr.mark||(wr.node=cr)})};for(var In in Ce.nodes)en(In);return be}},{key:"fromSchema",value:function(Ce){return Ce.cached.domParser||(Ce.cached.domParser=new _t(Ce,_t.schemaRules(Ce)))}}]),_t}(),Ee={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},he={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},xe={ol:!0,ul:!0},Ve=1,Pe=2,Ie=4;function ze(_t,ut,Ce){return ut!=null?(ut?Ve:0)|(ut==="full"?Pe:0):_t&&_t.whitespace=="pre"?Ve|Pe:Ce&~Ie}var tt=function(){function _t(ut,Ce,be,We,qe,Et,en){C(this,_t),this.type=ut,this.attrs=Ce,this.marks=be,this.pendingMarks=We,this.solid=qe,this.options=en,this.content=[],this.activeMarks=k.none,this.stashMarks=[],this.match=Et||(en&Ie?null:ut.contentMatch)}return D(_t,[{key:"findWrapping",value:function(Ce){if(!this.match){if(!this.type)return[];var be=this.type.contentMatch.fillBefore(U.from(Ce));if(be)this.match=this.type.contentMatch.matchFragment(be);else{var We=this.type.contentMatch,qe;return(qe=We.findWrapping(Ce.type))?(this.match=We,qe):null}}return this.match.findWrapping(Ce.type)}},{key:"finish",value:function(Ce){if(!(this.options&Ve)){var be=this.content[this.content.length-1],We;if(be&&be.isText&&(We=/[ \t\r\n\u000c]+$/.exec(be.text))){var qe=be;be.text.length==We[0].length?this.content.pop():this.content[this.content.length-1]=qe.withText(qe.text.slice(0,qe.text.length-We[0].length))}}var Et=U.from(this.content);return!Ce&&this.match&&(Et=Et.append(this.match.fillBefore(U.empty,!0))),this.type?this.type.create(this.attrs,Et,this.marks):Et}},{key:"popFromStashMark",value:function(Ce){for(var be=this.stashMarks.length-1;be>=0;be--)if(Ce.eq(this.stashMarks[be]))return this.stashMarks.splice(be,1)[0]}},{key:"applyPending",value:function(Ce){for(var be=0,We=this.pendingMarks;be<We.length;be++){var qe=We[be];(this.type?this.type.allowsMarkType(qe.type):Bt(qe.type,Ce))&&!qe.isInSet(this.activeMarks)&&(this.activeMarks=qe.addToSet(this.activeMarks),this.pendingMarks=qe.removeFromSet(this.pendingMarks))}}},{key:"inlineContext",value:function(Ce){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:Ce.parentNode&&!Ee.hasOwnProperty(Ce.parentNode.nodeName.toLowerCase())}}]),_t}(),Le=function(){function _t(ut,Ce,be){C(this,_t),this.parser=ut,this.options=Ce,this.isOpen=be,this.open=0;var We=Ce.topNode,qe,Et=ze(null,Ce.preserveWhitespace,0)|(be?Ie:0);We?qe=new tt(We.type,We.attrs,k.none,k.none,!0,Ce.topMatch||We.type.contentMatch,Et):be?qe=new tt(null,null,k.none,k.none,!0,null,Et):qe=new tt(ut.schema.topNodeType,null,k.none,k.none,!0,null,Et),this.nodes=[qe],this.find=Ce.findPositions,this.needsBlock=!1}return D(_t,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(Ce){if(Ce.nodeType==3)this.addTextNode(Ce);else if(Ce.nodeType==1){var be=Ce.getAttribute("style");if(!be)this.addElement(Ce);else{var We=this.readStyles(zt(be));if(!We)return;for(var qe=t(We,2),Et=qe[0],en=qe[1],In=this.top,qn=0;qn<en.length;qn++)this.removePendingMark(en[qn],In);for(var cr=0;cr<Et.length;cr++)this.addPendingMark(Et[cr]);this.addElement(Ce);for(var pr=0;pr<Et.length;pr++)this.removePendingMark(Et[pr],In);for(var wr=0;wr<en.length;wr++)this.addPendingMark(en[wr])}}}},{key:"addTextNode",value:function(Ce){var be=Ce.nodeValue,We=this.top;if(We.options&Pe||We.inlineContext(Ce)||/[^ \t\r\n\u000c]/.test(be)){if(We.options&Ve)We.options&Pe?be=be.replace(/\r\n?/g,`
`):be=be.replace(/\r?\n|\r/g," ");else if(be=be.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(be)&&this.open==this.nodes.length-1){var qe=We.content[We.content.length-1],Et=Ce.previousSibling;(!qe||Et&&Et.nodeName=="BR"||qe.isText&&/[ \t\r\n\u000c]$/.test(qe.text))&&(be=be.slice(1))}be&&this.insertNode(this.parser.schema.text(be)),this.findInText(Ce)}else this.findInside(Ce)}},{key:"addElement",value:function(Ce,be){var We=Ce.nodeName.toLowerCase(),qe;xe.hasOwnProperty(We)&&this.parser.normalizeLists&&It(Ce);var Et=this.options.ruleFromNode&&this.options.ruleFromNode(Ce)||(qe=this.parser.matchTag(Ce,this,be));if(Et?Et.ignore:he.hasOwnProperty(We))this.findInside(Ce),this.ignoreFallback(Ce);else if(!Et||Et.skip||Et.closeParent){Et&&Et.closeParent?this.open=Math.max(0,this.open-1):Et&&Et.skip.nodeType&&(Ce=Et.skip);var en,In=this.top,qn=this.needsBlock;if(Ee.hasOwnProperty(We))In.content.length&&In.content[0].isInline&&this.open&&(this.open--,In=this.top),en=!0,In.type||(this.needsBlock=!0);else if(!Ce.firstChild){this.leafFallback(Ce);return}this.addAll(Ce),en&&this.sync(In),this.needsBlock=qn}else this.addElementByRule(Ce,Et,Et.consuming===!1?qe:void 0)}},{key:"leafFallback",value:function(Ce){Ce.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(Ce.ownerDocument.createTextNode(`
`))}},{key:"ignoreFallback",value:function(Ce){Ce.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}},{key:"readStyles",value:function(Ce){var be=this,We=k.none,qe=k.none;e:for(var Et=0;Et<Ce.length;Et+=2)for(var en=function(pr){var wr=be.parser.matchStyle(Ce[Et],Ce[Et+1],be,pr);if(!wr)return In=pr,"continue|style";if(wr.ignore)return In=pr,{v:null};if(wr.clearMark?be.top.pendingMarks.forEach(function(Vr){wr.clearMark(Vr)&&(qe=Vr.addToSet(qe))}):We=be.parser.schema.marks[wr.mark].create(wr.attrs).addToSet(We),wr.consuming===!1)pr=wr;else return In=pr,"break";In=pr},In=void 0;;){var qn=en(In);if(qn==="continue|style")continue e;if(qn==="break")break;if(y(qn)==="object")return qn.v}return[We,qe]}},{key:"addElementByRule",value:function(Ce,be,We){var qe=this,Et,en,In;if(be.node)en=this.parser.schema.nodes[be.node],en.isLeaf?this.insertNode(en.create(be.attrs))||this.leafFallback(Ce):Et=this.enter(en,be.attrs||null,be.preserveWhitespace);else{var qn=this.parser.schema.marks[be.mark];In=qn.create(be.attrs),this.addPendingMark(In)}var cr=this.top;if(en&&en.isLeaf)this.findInside(Ce);else if(We)this.addElement(Ce,We);else if(be.getContent)this.findInside(Ce),be.getContent(Ce,this.parser.schema).forEach(function(wr){return qe.insertNode(wr)});else{var pr=Ce;typeof be.contentElement=="string"?pr=Ce.querySelector(be.contentElement):typeof be.contentElement=="function"?pr=be.contentElement(Ce):be.contentElement&&(pr=be.contentElement),this.findAround(Ce,pr,!0),this.addAll(pr)}Et&&this.sync(cr)&&this.open--,In&&this.removePendingMark(In,cr)}},{key:"addAll",value:function(Ce,be,We){for(var qe=be||0,Et=be?Ce.childNodes[be]:Ce.firstChild,en=We==null?null:Ce.childNodes[We];Et!=en;Et=Et.nextSibling,++qe)this.findAtPoint(Ce,qe),this.addDOM(Et);this.findAtPoint(Ce,qe)}},{key:"findPlace",value:function(Ce){for(var be,We,qe=this.open;qe>=0;qe--){var Et=this.nodes[qe],en=Et.findWrapping(Ce);if(en&&(!be||be.length>en.length)&&(be=en,We=Et,!en.length)||Et.solid)break}if(!be)return!1;this.sync(We);for(var In=0;In<be.length;In++)this.enterInner(be[In],null,!1);return!0}},{key:"insertNode",value:function(Ce){if(Ce.isInline&&this.needsBlock&&!this.top.type){var be=this.textblockFromContext();be&&this.enterInner(be)}if(this.findPlace(Ce)){this.closeExtra();var We=this.top;We.applyPending(Ce.type),We.match&&(We.match=We.match.matchType(Ce.type));for(var qe=We.activeMarks,Et=0;Et<Ce.marks.length;Et++)(!We.type||We.type.allowsMarkType(Ce.marks[Et].type))&&(qe=Ce.marks[Et].addToSet(qe));return We.content.push(Ce.mark(qe)),!0}return!1}},{key:"enter",value:function(Ce,be,We){var qe=this.findPlace(Ce.create(be));return qe&&this.enterInner(Ce,be,!0,We),qe}},{key:"enterInner",value:function(Ce){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,qe=arguments.length>3?arguments[3]:void 0;this.closeExtra();var Et=this.top;Et.applyPending(Ce),Et.match=Et.match&&Et.match.matchType(Ce);var en=ze(Ce,qe,Et.options);Et.options&Ie&&Et.content.length==0&&(en|=Ie),this.nodes.push(new tt(Ce,be,Et.activeMarks,Et.pendingMarks,We,null,en)),this.open++}},{key:"closeExtra",value:function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,be=this.nodes.length-1;if(be>this.open){for(;be>this.open;be--)this.nodes[be-1].content.push(this.nodes[be].finish(Ce));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}},{key:"sync",value:function(Ce){for(var be=this.open;be>=0;be--)if(this.nodes[be]==Ce)return this.open=be,!0;return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var Ce=0,be=this.open;be>=0;be--){for(var We=this.nodes[be].content,qe=We.length-1;qe>=0;qe--)Ce+=We[qe].nodeSize;be&&Ce++}return Ce}},{key:"findAtPoint",value:function(Ce,be){if(this.find)for(var We=0;We<this.find.length;We++)this.find[We].node==Ce&&this.find[We].offset==be&&(this.find[We].pos=this.currentPos)}},{key:"findInside",value:function(Ce){if(this.find)for(var be=0;be<this.find.length;be++)this.find[be].pos==null&&Ce.nodeType==1&&Ce.contains(this.find[be].node)&&(this.find[be].pos=this.currentPos)}},{key:"findAround",value:function(Ce,be,We){if(Ce!=be&&this.find){for(var qe=0;qe<this.find.length;qe++)if(this.find[qe].pos==null&&Ce.nodeType==1&&Ce.contains(this.find[qe].node)){var Et=be.compareDocumentPosition(this.find[qe].node);Et&(We?2:4)&&(this.find[qe].pos=this.currentPos)}}}},{key:"findInText",value:function(Ce){if(this.find)for(var be=0;be<this.find.length;be++)this.find[be].node==Ce&&(this.find[be].pos=this.currentPos-(Ce.nodeValue.length-this.find[be].offset))}},{key:"matchesContext",value:function(Ce){var be=this;if(Ce.indexOf("|")>-1)return Ce.split(/\s*\|\s*/).some(this.matchesContext,this);var We=Ce.split("/"),qe=this.options.context,Et=!this.isOpen&&(!qe||qe.parent.type==this.nodes[0].type),en=-(qe?qe.depth+1:0)+(Et?0:1),In=function qn(cr,pr){for(;cr>=0;cr--){var wr=We[cr];if(wr==""){if(cr==We.length-1||cr==0)continue;for(;pr>=en;pr--)if(qn(cr-1,pr))return!0;return!1}else{var Vr=pr>0||pr==0&&Et?be.nodes[pr].type:qe&&pr>=en?qe.node(pr-en).type:null;if(!Vr||Vr.name!=wr&&Vr.groups.indexOf(wr)==-1)return!1;pr--}}return!0};return In(We.length-1,this.open)}},{key:"textblockFromContext",value:function(){var Ce=this.options.context;if(Ce)for(var be=Ce.depth;be>=0;be--){var We=Ce.node(be).contentMatchAt(Ce.indexAfter(be)).defaultType;if(We&&We.isTextblock&&We.defaultAttrs)return We}for(var qe in this.parser.schema.nodes){var Et=this.parser.schema.nodes[qe];if(Et.isTextblock&&Et.defaultAttrs)return Et}}},{key:"addPendingMark",value:function(Ce){var be=xn(Ce,this.top.pendingMarks);be&&this.top.stashMarks.push(be),this.top.pendingMarks=Ce.addToSet(this.top.pendingMarks)}},{key:"removePendingMark",value:function(Ce,be){for(var We=this.open;We>=0;We--){var qe=this.nodes[We],Et=qe.pendingMarks.lastIndexOf(Ce);if(Et>-1)qe.pendingMarks=Ce.removeFromSet(qe.pendingMarks);else{qe.activeMarks=Ce.removeFromSet(qe.activeMarks);var en=qe.popFromStashMark(Ce);en&&qe.type&&qe.type.allowsMarkType(en.type)&&(qe.activeMarks=en.addToSet(qe.activeMarks))}if(qe==be)break}}}]),_t}();function It(_t){for(var ut=_t.firstChild,Ce=null;ut;ut=ut.nextSibling){var be=ut.nodeType==1?ut.nodeName.toLowerCase():null;be&&xe.hasOwnProperty(be)&&Ce?(Ce.appendChild(ut),ut=Ce):be=="li"?Ce=ut:be&&(Ce=null)}}function on(_t,ut){return(_t.matches||_t.msMatchesSelector||_t.webkitMatchesSelector||_t.mozMatchesSelector).call(_t,ut)}function zt(_t){for(var ut=/\s*([\w-]+)\s*:\s*([^;]+)/g,Ce,be=[];Ce=ut.exec(_t);)be.push(Ce[1],Ce[2].trim());return be}function $t(_t){var ut={};for(var Ce in _t)ut[Ce]=_t[Ce];return ut}function Bt(_t,ut){var Ce=ut.schema.nodes,be=function(en){var In=Ce[en];if(!In.allowsMarkType(_t))return"continue";var qn=[],cr=function pr(wr){qn.push(wr);for(var Vr=0;Vr<wr.edgeCount;Vr++){var On=wr.edge(Vr),pt=On.type,hn=On.next;if(pt==ut||qn.indexOf(hn)<0&&pr(hn))return!0}};if(cr(In.contentMatch))return{v:!0}};for(var We in Ce){var qe=be(We);if(qe!=="continue"&&y(qe)==="object")return qe.v}}function xn(_t,ut){for(var Ce=0;Ce<ut.length;Ce++)if(_t.eq(ut[Ce]))return ut[Ce]}var Hn=function(){function _t(ut,Ce){C(this,_t),this.nodes=ut,this.marks=Ce}return D(_t,[{key:"serializeFragment",value:function(Ce){var be=this,We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=arguments.length>2?arguments[2]:void 0;qe||(qe=Vn(We).createDocumentFragment());var Et=qe,en=[];return Ce.forEach(function(In){if(en.length||In.marks.length){for(var qn=0,cr=0;qn<en.length&&cr<In.marks.length;){var pr=In.marks[cr];if(!be.marks[pr.type.name]){cr++;continue}if(!pr.eq(en[qn][0])||pr.type.spec.spanning===!1)break;qn++,cr++}for(;qn<en.length;)Et=en.pop()[1];for(;cr<In.marks.length;){var wr=In.marks[cr++],Vr=be.serializeMark(wr,In.isInline,We);Vr&&(en.push([wr,Et]),Et.appendChild(Vr.dom),Et=Vr.contentDOM||Vr.dom)}}Et.appendChild(be.serializeNodeInner(In,We))}),qe}},{key:"serializeNodeInner",value:function(Ce,be){var We=_t.renderSpec(Vn(be),this.nodes[Ce.type.name](Ce)),qe=We.dom,Et=We.contentDOM;if(Et){if(Ce.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(Ce.content,be,Et)}return qe}},{key:"serializeNode",value:function(Ce){for(var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},We=this.serializeNodeInner(Ce,be),qe=Ce.marks.length-1;qe>=0;qe--){var Et=this.serializeMark(Ce.marks[qe],Ce.isInline,be);Et&&((Et.contentDOM||Et.dom).appendChild(We),We=Et.dom)}return We}},{key:"serializeMark",value:function(Ce,be){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=this.marks[Ce.type.name];return qe&&_t.renderSpec(Vn(We),qe(Ce,be))}}],[{key:"renderSpec",value:function(Ce,be){var We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof be=="string")return{dom:Ce.createTextNode(be)};if(be.nodeType!=null)return{dom:be};if(be.dom&&be.dom.nodeType!=null)return be;var qe=be[0],Et=qe.indexOf(" ");Et>0&&(We=qe.slice(0,Et),qe=qe.slice(Et+1));var en,In=We?Ce.createElementNS(We,qe):Ce.createElement(qe),qn=be[1],cr=1;if(qn&&y(qn)=="object"&&qn.nodeType==null&&!Array.isArray(qn)){cr=2;for(var pr in qn)if(qn[pr]!=null){var wr=pr.indexOf(" ");wr>0?In.setAttributeNS(pr.slice(0,wr),pr.slice(wr+1),qn[pr]):In.setAttribute(pr,qn[pr])}}for(var Vr=cr;Vr<be.length;Vr++){var On=be[Vr];if(On===0){if(Vr<be.length-1||Vr>cr)throw new RangeError("Content hole must be the only child of its parent node");return{dom:In,contentDOM:In}}else{var pt=_t.renderSpec(Ce,On,We),hn=pt.dom,Dn=pt.contentDOM;if(In.appendChild(hn),Dn){if(en)throw new RangeError("Multiple content holes");en=Dn}}}return{dom:In,contentDOM:en}}},{key:"fromSchema",value:function(Ce){return Ce.cached.domSerializer||(Ce.cached.domSerializer=new _t(this.nodesFromSchema(Ce),this.marksFromSchema(Ce)))}},{key:"nodesFromSchema",value:function(Ce){var be=ir(Ce.nodes);return be.text||(be.text=function(We){return We.text}),be}},{key:"marksFromSchema",value:function(Ce){return ir(Ce.marks)}}]),_t}();function ir(_t){var ut={};for(var Ce in _t){var be=_t[Ce].spec.toDOM;be&&(ut[Ce]=be)}return ut}function Vn(_t){return _t.document||window.document}f.ContentMatch=ht,f.DOMParser=me,f.DOMSerializer=Hn,f.Fragment=U,f.Mark=k,f.MarkType=te,f.Node=Je,f.NodeRange=De,f.NodeType=$e,f.ReplaceError=H,f.ResolvedPos=se,f.Schema=ue,f.Slice=G},42391:(K,f,e)=>{"use strict";function t(ie){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},t(ie)}function a(){return typeof Reflect!="undefined"&&Reflect.get?a=Reflect.get:a=function(oe,re,ae){var se=i(oe,re);if(se){var fe=Object.getOwnPropertyDescriptor(se,re);return fe.get?fe.get.call(arguments.length<3?oe:ae):fe.value}},a.apply(this,arguments)}function i(ie,oe){for(;!Object.prototype.hasOwnProperty.call(ie,oe)&&(ie=E(ie),ie!==null););return ie}function c(ie,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(oe&&oe.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),Object.defineProperty(ie,"prototype",{writable:!1}),oe&&p(ie,oe)}function p(ie,oe){return p=Object.setPrototypeOf||function(ae,se){return ae.__proto__=se,ae},p(ie,oe)}function l(ie){var oe=g();return function(){var ae=E(ie),se;if(oe){var fe=E(this).constructor;se=Reflect.construct(ae,arguments,fe)}else se=ae.apply(this,arguments);return v(this,se)}}function v(ie,oe){if(oe&&(t(oe)==="object"||typeof oe=="function"))return oe;if(oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(ie)}function _(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}function E(ie){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},E(ie)}function S(ie,oe){if(!(ie instanceof oe))throw new TypeError("Cannot call a class as a function")}function O(ie,oe){for(var re=0;re<oe.length;re++){var ae=oe[re];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ie,ae.key,ae)}}function A(ie,oe,re){return oe&&O(ie.prototype,oe),re&&O(ie,re),Object.defineProperty(ie,"prototype",{writable:!1}),ie}Object.defineProperty(f,"__esModule",{value:!0});var u=e(19443),o=e(92843),s=Object.create(null),w=function(){function ie(oe,re,ae){S(this,ie),this.$anchor=oe,this.$head=re,this.ranges=ae||[new P(oe.min(re),oe.max(re))]}return A(ie,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var re=this.ranges,ae=0;ae<re.length;ae++)if(re[ae].$from.pos!=re[ae].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(re){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Slice.empty,se=ae.content.lastChild,fe=null,le=0;le<ae.openEnd;le++)fe=se,se=se.lastChild;for(var Ae=re.steps.length,De=this.ranges,je=0;je<De.length;je++){var Je=De[je],Be=Je.$from,st=Je.$to,ht=re.mapping.slice(Ae);re.replaceRange(ht.map(Be.pos),ht.map(st.pos),je?u.Slice.empty:ae),je==0&&U(re,Ae,(se?se.isInline:fe&&fe.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(re,ae){for(var se=re.steps.length,fe=this.ranges,le=0;le<fe.length;le++){var Ae=fe[le],De=Ae.$from,je=Ae.$to,Je=re.mapping.slice(se),Be=Je.map(De.pos),st=Je.map(je.pos);le?re.deleteRange(Be,st):(re.replaceRangeWith(Be,st,ae),U(re,se,ae.isInline?-1:1))}}},{key:"getBookmark",value:function(){return D.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(re,ae){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,fe=re.parent.inlineContent?new D(re):N(re.node(0),re.parent,re.pos,re.index(),ae,se);if(fe)return fe;for(var le=re.depth-1;le>=0;le--){var Ae=ae<0?N(re.node(0),re.node(le),re.before(le+1),re.index(le),ae,se):N(re.node(0),re.node(le),re.after(le+1),re.index(le)+1,ae,se);if(Ae)return Ae}return null}},{key:"near",value:function(re){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(re,ae)||this.findFrom(re,-ae)||new R(re.node(0))}},{key:"atStart",value:function(re){return N(re,re,0,0,1)||new R(re)}},{key:"atEnd",value:function(re){return N(re,re,re.content.size,re.childCount,-1)||new R(re)}},{key:"fromJSON",value:function(re,ae){if(!ae||!ae.type)throw new RangeError("Invalid input for Selection.fromJSON");var se=s[ae.type];if(!se)throw new RangeError("No selection type ".concat(ae.type," defined"));return se.fromJSON(re,ae)}},{key:"jsonID",value:function(re,ae){if(re in s)throw new RangeError("Duplicate use of selection JSON ID "+re);return s[re]=ae,ae.prototype.jsonID=re,ae}}]),ie}();w.prototype.visible=!0;var P=A(function ie(oe,re){S(this,ie),this.$from=oe,this.$to=re}),C=!1;function x(ie){!C&&!ie.parent.inlineContent&&(C=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+ie.parent.type.name+")"))}var D=function(ie){c(re,ie);var oe=l(re);function re(ae){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae;return S(this,re),x(ae),x(se),oe.call(this,ae,se)}return A(re,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(se,fe){var le=se.resolve(fe.map(this.head));if(!le.parent.inlineContent)return w.near(le);var Ae=se.resolve(fe.map(this.anchor));return new re(Ae.parent.inlineContent?Ae:le,le)}},{key:"replace",value:function(se){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Slice.empty;if(a(E(re.prototype),"replace",this).call(this,se,fe),fe==u.Slice.empty){var le=this.$from.marksAcross(this.$to);le&&se.ensureMarks(le)}}},{key:"eq",value:function(se){return se instanceof re&&se.anchor==this.anchor&&se.head==this.head}},{key:"getBookmark",value:function(){return new y(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(se,fe){if(typeof fe.anchor!="number"||typeof fe.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new re(se.resolve(fe.anchor),se.resolve(fe.head))}},{key:"create",value:function(se,fe){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fe,Ae=se.resolve(fe);return new this(Ae,le==fe?Ae:se.resolve(le))}},{key:"between",value:function(se,fe,le){var Ae=se.pos-fe.pos;if((!le||Ae)&&(le=Ae>=0?1:-1),!fe.parent.inlineContent){var De=w.findFrom(fe,le,!0)||w.findFrom(fe,-le,!0);if(De)fe=De.$head;else return w.near(fe,le)}return se.parent.inlineContent||(Ae==0?se=fe:(se=(w.findFrom(se,-le,!0)||w.findFrom(se,le,!0)).$anchor,se.pos<fe.pos!=Ae<0&&(se=fe))),new re(se,fe)}}]),re}(w);w.jsonID("text",D);var y=function(){function ie(oe,re){S(this,ie),this.anchor=oe,this.head=re}return A(ie,[{key:"map",value:function(re){return new ie(re.map(this.anchor),re.map(this.head))}},{key:"resolve",value:function(re){return D.between(re.resolve(this.anchor),re.resolve(this.head))}}]),ie}(),M=function(ie){c(re,ie);var oe=l(re);function re(ae){var se;S(this,re);var fe=ae.nodeAfter,le=ae.node(0).resolve(ae.pos+fe.nodeSize);return se=oe.call(this,ae,le),se.node=fe,se}return A(re,[{key:"map",value:function(se,fe){var le=fe.mapResult(this.anchor),Ae=le.deleted,De=le.pos,je=se.resolve(De);return Ae?w.near(je):new re(je)}},{key:"content",value:function(){return new u.Slice(u.Fragment.from(this.node),0,0)}},{key:"eq",value:function(se){return se instanceof re&&se.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new T(this.anchor)}}],[{key:"fromJSON",value:function(se,fe){if(typeof fe.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new re(se.resolve(fe.anchor))}},{key:"create",value:function(se,fe){return new re(se.resolve(fe))}},{key:"isSelectable",value:function(se){return!se.isText&&se.type.spec.selectable!==!1}}]),re}(w);M.prototype.visible=!1,w.jsonID("node",M);var T=function(){function ie(oe){S(this,ie),this.anchor=oe}return A(ie,[{key:"map",value:function(re){var ae=re.mapResult(this.anchor),se=ae.deleted,fe=ae.pos;return se?new y(fe,fe):new ie(fe)}},{key:"resolve",value:function(re){var ae=re.resolve(this.anchor),se=ae.nodeAfter;return se&&M.isSelectable(se)?new M(ae):w.near(ae)}}]),ie}(),R=function(ie){c(re,ie);var oe=l(re);function re(ae){return S(this,re),oe.call(this,ae.resolve(0),ae.resolve(ae.content.size))}return A(re,[{key:"replace",value:function(se){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Slice.empty;if(fe==u.Slice.empty){se.delete(0,se.doc.content.size);var le=w.atStart(se.doc);le.eq(se.selection)||se.setSelection(le)}else a(E(re.prototype),"replace",this).call(this,se,fe)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(se){return new re(se)}},{key:"eq",value:function(se){return se instanceof re}},{key:"getBookmark",value:function(){return F}}],[{key:"fromJSON",value:function(se){return new re(se)}}]),re}(w);w.jsonID("all",R);var F={map:function(){return this},resolve:function(oe){return new R(oe)}};function N(ie,oe,re,ae,se){var fe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(oe.inlineContent)return D.create(ie,re);for(var le=ae-(se>0?0:1);se>0?le<oe.childCount:le>=0;le+=se){var Ae=oe.child(le);if(Ae.isAtom){if(!fe&&M.isSelectable(Ae))return M.create(ie,re-(se<0?Ae.nodeSize:0))}else{var De=N(ie,Ae,re+se,se<0?Ae.childCount:0,se,fe);if(De)return De}re+=Ae.nodeSize*se}return null}function U(ie,oe,re){var ae=ie.steps.length-1;if(!(ae<oe)){var se=ie.steps[ae];if(se instanceof o.ReplaceStep||se instanceof o.ReplaceAroundStep){var fe=ie.mapping.maps[ae],le;fe.forEach(function(Ae,De,je,Je){le==null&&(le=Je)}),ie.setSelection(w.near(ie.doc.resolve(le),re))}}}var V=1,W=2,L=4,k=function(ie){c(re,ie);var oe=l(re);function re(ae){var se;return S(this,re),se=oe.call(this,ae.doc),se.curSelectionFor=0,se.updated=0,se.meta=Object.create(null),se.time=Date.now(),se.curSelection=ae.selection,se.storedMarks=ae.storedMarks,se}return A(re,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(se){if(se.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=se,this.curSelectionFor=this.steps.length,this.updated=(this.updated|V)&~W,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&V)>0}},{key:"setStoredMarks",value:function(se){return this.storedMarks=se,this.updated|=W,this}},{key:"ensureMarks",value:function(se){return u.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),se)||this.setStoredMarks(se),this}},{key:"addStoredMark",value:function(se){return this.ensureMarks(se.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(se){return this.ensureMarks(se.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&W)>0}},{key:"addStep",value:function(se,fe){a(E(re.prototype),"addStep",this).call(this,se,fe),this.updated=this.updated&~W,this.storedMarks=null}},{key:"setTime",value:function(se){return this.time=se,this}},{key:"replaceSelection",value:function(se){return this.selection.replace(this,se),this}},{key:"replaceSelectionWith",value:function(se){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,le=this.selection;return fe&&(se=se.mark(this.storedMarks||(le.empty?le.$from.marks():le.$from.marksAcross(le.$to)||u.Mark.none))),le.replaceWith(this,se),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(se,fe,le){var Ae=this.doc.type.schema;if(fe==null)return se?this.replaceSelectionWith(Ae.text(se),!0):this.deleteSelection();if(le==null&&(le=fe),le=le==null?fe:le,!se)return this.deleteRange(fe,le);var De=this.storedMarks;if(!De){var je=this.doc.resolve(fe);De=le==fe?je.marks():je.marksAcross(this.doc.resolve(le))}return this.replaceRangeWith(fe,le,Ae.text(se,De)),this.selection.empty||this.setSelection(w.near(this.selection.$to)),this}},{key:"setMeta",value:function(se,fe){return this.meta[typeof se=="string"?se:se.key]=fe,this}},{key:"getMeta",value:function(se){return this.meta[typeof se=="string"?se:se.key]}},{key:"isGeneric",get:function(){for(var se in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=L,this}},{key:"scrolledIntoView",get:function(){return(this.updated&L)>0}}]),re}(o.Transform);function H(ie,oe){return!oe||!ie?ie:ie.bind(oe)}var G=A(function ie(oe,re,ae){S(this,ie),this.name=oe,this.init=H(re.init,ae),this.apply=H(re.apply,ae)}),q=[new G("doc",{init:function(oe){return oe.doc||oe.schema.topNodeType.createAndFill()},apply:function(oe){return oe.doc}}),new G("selection",{init:function(oe,re){return oe.selection||w.atStart(re.doc)},apply:function(oe){return oe.selection}}),new G("storedMarks",{init:function(oe){return oe.storedMarks||null},apply:function(oe,re,ae,se){return se.selection.$cursor?oe.storedMarks:null}}),new G("scrollToSelection",{init:function(){return 0},apply:function(oe,re){return oe.scrolledIntoView?re+1:re}})],z=A(function ie(oe,re){var ae=this;S(this,ie),this.schema=oe,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=q.slice(),re&&re.forEach(function(se){if(ae.pluginsByKey[se.key])throw new RangeError("Adding different instances of a keyed plugin ("+se.key+")");ae.plugins.push(se),ae.pluginsByKey[se.key]=se,se.spec.state&&ae.fields.push(new G(se.key,se.spec.state,se))})}),ee=function(){function ie(oe){S(this,ie),this.config=oe}return A(ie,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(re){return this.applyTransaction(re).state}},{key:"filterTransaction",value:function(re){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,se=0;se<this.config.plugins.length;se++)if(se!=ae){var fe=this.config.plugins[se];if(fe.spec.filterTransaction&&!fe.spec.filterTransaction.call(fe,re,this))return!1}return!0}},{key:"applyTransaction",value:function(re){if(!this.filterTransaction(re))return{state:this,transactions:[]};for(var ae=[re],se=this.applyInner(re),fe=null;;){for(var le=!1,Ae=0;Ae<this.config.plugins.length;Ae++){var De=this.config.plugins[Ae];if(De.spec.appendTransaction){var je=fe?fe[Ae].n:0,Je=fe?fe[Ae].state:this,Be=je<ae.length&&De.spec.appendTransaction.call(De,je?ae.slice(je):ae,Je,se);if(Be&&se.filterTransaction(Be,Ae)){if(Be.setMeta("appendedTransaction",re),!fe){fe=[];for(var st=0;st<this.config.plugins.length;st++)fe.push(st<Ae?{state:se,n:ae.length}:{state:this,n:0})}ae.push(Be),se=se.applyInner(Be),le=!0}fe&&(fe[Ae]={state:se,n:ae.length})}}if(!le)return{state:se,transactions:ae}}}},{key:"applyInner",value:function(re){if(!re.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var ae=new ie(this.config),se=this.config.fields,fe=0;fe<se.length;fe++){var le=se[fe];ae[le.name]=le.apply(re,this[le.name],this,ae)}return ae}},{key:"tr",get:function(){return new k(this)}},{key:"reconfigure",value:function(re){for(var ae=new z(this.schema,re.plugins),se=ae.fields,fe=new ie(ae),le=0;le<se.length;le++){var Ae=se[le].name;fe[Ae]=this.hasOwnProperty(Ae)?this[Ae]:se[le].init(re,fe)}return fe}},{key:"toJSON",value:function(re){var ae={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(ae.storedMarks=this.storedMarks.map(function(Ae){return Ae.toJSON()})),re&&t(re)=="object")for(var se in re){if(se=="doc"||se=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var fe=re[se],le=fe.spec.state;le&&le.toJSON&&(ae[se]=le.toJSON.call(fe,this[fe.key]))}return ae}}],[{key:"create",value:function(re){for(var ae=new z(re.doc?re.doc.type.schema:re.schema,re.plugins),se=new ie(ae),fe=0;fe<ae.fields.length;fe++)se[ae.fields[fe].name]=ae.fields[fe].init(re,se);return se}},{key:"fromJSON",value:function(re,ae,se){if(!ae)throw new RangeError("Invalid input for EditorState.fromJSON");if(!re.schema)throw new RangeError("Required config field 'schema' missing");var fe=new z(re.schema,re.plugins),le=new ie(fe);return fe.fields.forEach(function(Ae){if(Ae.name=="doc")le.doc=u.Node.fromJSON(re.schema,ae.doc);else if(Ae.name=="selection")le.selection=w.fromJSON(le.doc,ae.selection);else if(Ae.name=="storedMarks")ae.storedMarks&&(le.storedMarks=ae.storedMarks.map(re.schema.markFromJSON));else{if(se)for(var De in se){var je=se[De],Je=je.spec.state;if(je.key==Ae.name&&Je&&Je.fromJSON&&Object.prototype.hasOwnProperty.call(ae,De)){le[Ae.name]=Je.fromJSON.call(je,re,ae[De],le);return}}le[Ae.name]=Ae.init(re,le)}}),le}}]),ie}();function $(ie,oe,re){for(var ae in ie){var se=ie[ae];se instanceof Function?se=se.bind(oe):ae=="handleDOMEvents"&&(se=$(se,oe,{})),re[ae]=se}return re}var J=function(){function ie(oe){S(this,ie),this.spec=oe,this.props={},oe.props&&$(oe.props,this,this.props),this.key=oe.key?oe.key.key:Z("plugin")}return A(ie,[{key:"getState",value:function(re){return re[this.key]}}]),ie}(),j=Object.create(null);function Z(ie){return ie in j?ie+"$"+ ++j[ie]:(j[ie]=0,ie+"$")}var ne=function(){function ie(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";S(this,ie),this.key=Z(oe)}return A(ie,[{key:"get",value:function(re){return re.config.pluginsByKey[this.key]}},{key:"getState",value:function(re){return re[this.key]}}]),ie}();f.AllSelection=R,f.EditorState=ee,f.NodeSelection=M,f.Plugin=J,f.PluginKey=ne,f.Selection=w,f.SelectionRange=P,f.TextSelection=D,f.Transaction=k},92843:(K,f,e)=>{"use strict";function t(me){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},t(me)}function a(me){var Ee=typeof Map=="function"?new Map:void 0;return a=function(xe){if(xe===null||!c(xe))return xe;if(typeof xe!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Ee!="undefined"){if(Ee.has(xe))return Ee.get(xe);Ee.set(xe,Ve)}function Ve(){return i(xe,arguments,S(this).constructor)}return Ve.prototype=Object.create(xe.prototype,{constructor:{value:Ve,enumerable:!1,writable:!0,configurable:!0}}),l(Ve,xe)},a(me)}function i(me,Ee,he){return E()?i=Reflect.construct:i=function(Ve,Pe,Ie){var ze=[null];ze.push.apply(ze,Pe);var tt=Function.bind.apply(Ve,ze),Le=new tt;return Ie&&l(Le,Ie.prototype),Le},i.apply(null,arguments)}function c(me){return Function.toString.call(me).indexOf("[native code]")!==-1}function p(me,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),Ee&&l(me,Ee)}function l(me,Ee){return l=Object.setPrototypeOf||function(xe,Ve){return xe.__proto__=Ve,xe},l(me,Ee)}function v(me){var Ee=E();return function(){var xe=S(me),Ve;if(Ee){var Pe=S(this).constructor;Ve=Reflect.construct(xe,arguments,Pe)}else Ve=xe.apply(this,arguments);return _(this,Ve)}}function _(me,Ee){if(Ee&&(t(Ee)==="object"||typeof Ee=="function"))return Ee;if(Ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(me)}function g(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}function S(me){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)},S(me)}function O(me,Ee){if(!(me instanceof Ee))throw new TypeError("Cannot call a class as a function")}function A(me,Ee){for(var he=0;he<Ee.length;he++){var xe=Ee[he];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(me,xe.key,xe)}}function u(me,Ee,he){return Ee&&A(me.prototype,Ee),he&&A(me,he),Object.defineProperty(me,"prototype",{writable:!1}),me}Object.defineProperty(f,"__esModule",{value:!0});var o=e(19443),s=65535,w=Math.pow(2,16);function P(me,Ee){return me+Ee*w}function C(me){return me&s}function x(me){return(me-(me&s))/w}var D=1,y=2,M=4,T=8,R=function(){function me(Ee,he,xe){O(this,me),this.pos=Ee,this.delInfo=he,this.recover=xe}return u(me,[{key:"deleted",get:function(){return(this.delInfo&T)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(D|M))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(y|M))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&M)>0}}]),me}(),F=function(){function me(Ee){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O(this,me),this.ranges=Ee,this.inverted=he,!Ee.length&&me.empty)return me.empty}return u(me,[{key:"recover",value:function(he){var xe=0,Ve=C(he);if(!this.inverted)for(var Pe=0;Pe<Ve;Pe++)xe+=this.ranges[Pe*3+2]-this.ranges[Pe*3+1];return this.ranges[Ve*3]+xe+x(he)}},{key:"mapResult",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(he,xe,!1)}},{key:"map",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(he,xe,!0)}},{key:"_map",value:function(he,xe,Ve){for(var Pe=0,Ie=this.inverted?2:1,ze=this.inverted?1:2,tt=0;tt<this.ranges.length;tt+=3){var Le=this.ranges[tt]-(this.inverted?Pe:0);if(Le>he)break;var It=this.ranges[tt+Ie],on=this.ranges[tt+ze],zt=Le+It;if(he<=zt){var $t=It?he==Le?-1:he==zt?1:xe:xe,Bt=Le+Pe+($t<0?0:on);if(Ve)return Bt;var xn=he==(xe<0?Le:zt)?null:P(tt/3,he-Le),Hn=he==Le?y:he==zt?D:M;return(xe<0?he!=Le:he!=zt)&&(Hn|=T),new R(Bt,Hn,xn)}Pe+=on-It}return Ve?he+Pe:new R(he+Pe,0,null)}},{key:"touches",value:function(he,xe){for(var Ve=0,Pe=C(xe),Ie=this.inverted?2:1,ze=this.inverted?1:2,tt=0;tt<this.ranges.length;tt+=3){var Le=this.ranges[tt]-(this.inverted?Ve:0);if(Le>he)break;var It=this.ranges[tt+Ie],on=Le+It;if(he<=on&&tt==Pe*3)return!0;Ve+=this.ranges[tt+ze]-It}return!1}},{key:"forEach",value:function(he){for(var xe=this.inverted?2:1,Ve=this.inverted?1:2,Pe=0,Ie=0;Pe<this.ranges.length;Pe+=3){var ze=this.ranges[Pe],tt=ze-(this.inverted?Ie:0),Le=ze+(this.inverted?0:Ie),It=this.ranges[Pe+xe],on=this.ranges[Pe+Ve];he(tt,tt+It,Le,Le+on),Ie+=on-It}}},{key:"invert",value:function(){return new me(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(he){return he==0?me.empty:new me(he<0?[0,-he,0]:[0,0,he])}}]),me}();F.empty=new F([]);var N=function(){function me(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],he=arguments.length>1?arguments[1]:void 0,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ee.length;O(this,me),this.maps=Ee,this.mirror=he,this.from=xe,this.to=Ve}return u(me,[{key:"slice",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new me(this.maps,this.mirror,he,xe)}},{key:"copy",value:function(){return new me(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(he,xe){this.to=this.maps.push(he),xe!=null&&this.setMirror(this.maps.length-1,xe)}},{key:"appendMapping",value:function(he){for(var xe=0,Ve=this.maps.length;xe<he.maps.length;xe++){var Pe=he.getMirror(xe);this.appendMap(he.maps[xe],Pe!=null&&Pe<xe?Ve+Pe:void 0)}}},{key:"getMirror",value:function(he){if(this.mirror){for(var xe=0;xe<this.mirror.length;xe++)if(this.mirror[xe]==he)return this.mirror[xe+(xe%2?-1:1)]}}},{key:"setMirror",value:function(he,xe){this.mirror||(this.mirror=[]),this.mirror.push(he,xe)}},{key:"appendMappingInverted",value:function(he){for(var xe=he.maps.length-1,Ve=this.maps.length+he.maps.length;xe>=0;xe--){var Pe=he.getMirror(xe);this.appendMap(he.maps[xe].invert(),Pe!=null&&Pe>xe?Ve-Pe-1:void 0)}}},{key:"invert",value:function(){var he=new me;return he.appendMappingInverted(this),he}},{key:"map",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(he,xe,!0);for(var Ve=this.from;Ve<this.to;Ve++)he=this.maps[Ve].map(he,xe);return he}},{key:"mapResult",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(he,xe,!1)}},{key:"_map",value:function(he,xe,Ve){for(var Pe=0,Ie=this.from;Ie<this.to;Ie++){var ze=this.maps[Ie],tt=ze.mapResult(he,xe);if(tt.recover!=null){var Le=this.getMirror(Ie);if(Le!=null&&Le>Ie&&Le<this.to){Ie=Le,he=this.maps[Le].recover(tt.recover);continue}}Pe|=tt.delInfo,he=tt.pos}return Ve?he:new R(he,Pe,null)}}]),me}(),U=Object.create(null),V=function(){function me(){O(this,me)}return u(me,[{key:"getMap",value:function(){return F.empty}},{key:"merge",value:function(he){return null}}],[{key:"fromJSON",value:function(he,xe){if(!xe||!xe.stepType)throw new RangeError("Invalid input for Step.fromJSON");var Ve=U[xe.stepType];if(!Ve)throw new RangeError("No step type ".concat(xe.stepType," defined"));return Ve.fromJSON(he,xe)}},{key:"jsonID",value:function(he,xe){if(he in U)throw new RangeError("Duplicate use of step JSON ID "+he);return U[he]=xe,xe.prototype.jsonID=he,xe}}]),me}(),W=function(){function me(Ee,he){O(this,me),this.doc=Ee,this.failed=he}return u(me,null,[{key:"ok",value:function(he){return new me(he,null)}},{key:"fail",value:function(he){return new me(null,he)}},{key:"fromReplace",value:function(he,xe,Ve,Pe){try{return me.ok(he.replace(xe,Ve,Pe))}catch(Ie){if(Ie instanceof o.ReplaceError)return me.fail(Ie.message);throw Ie}}}]),me}();function L(me,Ee,he){for(var xe=[],Ve=0;Ve<me.childCount;Ve++){var Pe=me.child(Ve);Pe.content.size&&(Pe=Pe.copy(L(Pe.content,Ee,Pe))),Pe.isInline&&(Pe=Ee(Pe,he,Ve)),xe.push(Pe)}return o.Fragment.fromArray(xe)}var k=function(me){p(he,me);var Ee=v(he);function he(xe,Ve,Pe){var Ie;return O(this,he),Ie=Ee.call(this),Ie.from=xe,Ie.to=Ve,Ie.mark=Pe,Ie}return u(he,[{key:"apply",value:function(Ve){var Pe=this,Ie=Ve.slice(this.from,this.to),ze=Ve.resolve(this.from),tt=ze.node(ze.sharedDepth(this.to)),Le=new o.Slice(L(Ie.content,function(It,on){return!It.isAtom||!on.type.allowsMarkType(Pe.mark.type)?It:It.mark(Pe.mark.addToSet(It.marks))},tt),Ie.openStart,Ie.openEnd);return W.fromReplace(Ve,this.from,this.to,Le)}},{key:"invert",value:function(){return new H(this.from,this.to,this.mark)}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.from,1),Ie=Ve.mapResult(this.to,-1);return Pe.deleted&&Ie.deleted||Pe.pos>=Ie.pos?null:new he(Pe.pos,Ie.pos,this.mark)}},{key:"merge",value:function(Ve){return Ve instanceof he&&Ve.mark.eq(this.mark)&&this.from<=Ve.to&&this.to>=Ve.from?new he(Math.min(this.from,Ve.from),Math.max(this.to,Ve.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.from!="number"||typeof Pe.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new he(Pe.from,Pe.to,Ve.markFromJSON(Pe.mark))}}]),he}(V);V.jsonID("addMark",k);var H=function(me){p(he,me);var Ee=v(he);function he(xe,Ve,Pe){var Ie;return O(this,he),Ie=Ee.call(this),Ie.from=xe,Ie.to=Ve,Ie.mark=Pe,Ie}return u(he,[{key:"apply",value:function(Ve){var Pe=this,Ie=Ve.slice(this.from,this.to),ze=new o.Slice(L(Ie.content,function(tt){return tt.mark(Pe.mark.removeFromSet(tt.marks))},Ve),Ie.openStart,Ie.openEnd);return W.fromReplace(Ve,this.from,this.to,ze)}},{key:"invert",value:function(){return new k(this.from,this.to,this.mark)}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.from,1),Ie=Ve.mapResult(this.to,-1);return Pe.deleted&&Ie.deleted||Pe.pos>=Ie.pos?null:new he(Pe.pos,Ie.pos,this.mark)}},{key:"merge",value:function(Ve){return Ve instanceof he&&Ve.mark.eq(this.mark)&&this.from<=Ve.to&&this.to>=Ve.from?new he(Math.min(this.from,Ve.from),Math.max(this.to,Ve.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.from!="number"||typeof Pe.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new he(Pe.from,Pe.to,Ve.markFromJSON(Pe.mark))}}]),he}(V);V.jsonID("removeMark",H);var G=function(me){p(he,me);var Ee=v(he);function he(xe,Ve){var Pe;return O(this,he),Pe=Ee.call(this),Pe.pos=xe,Pe.mark=Ve,Pe}return u(he,[{key:"apply",value:function(Ve){var Pe=Ve.nodeAt(this.pos);if(!Pe)return W.fail("No node at mark step's position");var Ie=Pe.type.create(Pe.attrs,null,this.mark.addToSet(Pe.marks));return W.fromReplace(Ve,this.pos,this.pos+1,new o.Slice(o.Fragment.from(Ie),0,Pe.isLeaf?0:1))}},{key:"invert",value:function(Ve){var Pe=Ve.nodeAt(this.pos);if(Pe){var Ie=this.mark.addToSet(Pe.marks);if(Ie.length==Pe.marks.length){for(var ze=0;ze<Pe.marks.length;ze++)if(!Pe.marks[ze].isInSet(Ie))return new he(this.pos,Pe.marks[ze]);return new he(this.pos,this.mark)}}return new q(this.pos,this.mark)}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.pos,1);return Pe.deletedAfter?null:new he(Pe.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new he(Pe.pos,Ve.markFromJSON(Pe.mark))}}]),he}(V);V.jsonID("addNodeMark",G);var q=function(me){p(he,me);var Ee=v(he);function he(xe,Ve){var Pe;return O(this,he),Pe=Ee.call(this),Pe.pos=xe,Pe.mark=Ve,Pe}return u(he,[{key:"apply",value:function(Ve){var Pe=Ve.nodeAt(this.pos);if(!Pe)return W.fail("No node at mark step's position");var Ie=Pe.type.create(Pe.attrs,null,this.mark.removeFromSet(Pe.marks));return W.fromReplace(Ve,this.pos,this.pos+1,new o.Slice(o.Fragment.from(Ie),0,Pe.isLeaf?0:1))}},{key:"invert",value:function(Ve){var Pe=Ve.nodeAt(this.pos);return!Pe||!this.mark.isInSet(Pe.marks)?this:new G(this.pos,this.mark)}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.pos,1);return Pe.deletedAfter?null:new he(Pe.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new he(Pe.pos,Ve.markFromJSON(Pe.mark))}}]),he}(V);V.jsonID("removeNodeMark",q);var z=function(me){p(he,me);var Ee=v(he);function he(xe,Ve,Pe){var Ie,ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return O(this,he),Ie=Ee.call(this),Ie.from=xe,Ie.to=Ve,Ie.slice=Pe,Ie.structure=ze,Ie}return u(he,[{key:"apply",value:function(Ve){return this.structure&&$(Ve,this.from,this.to)?W.fail("Structure replace would overwrite content"):W.fromReplace(Ve,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new F([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(Ve){return new he(this.from,this.from+this.slice.size,Ve.slice(this.from,this.to))}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.from,1),Ie=Ve.mapResult(this.to,-1);return Pe.deletedAcross&&Ie.deletedAcross?null:new he(Pe.pos,Math.max(Pe.pos,Ie.pos),this.slice)}},{key:"merge",value:function(Ve){if(!(Ve instanceof he)||Ve.structure||this.structure)return null;if(this.from+this.slice.size==Ve.from&&!this.slice.openEnd&&!Ve.slice.openStart){var Pe=this.slice.size+Ve.slice.size==0?o.Slice.empty:new o.Slice(this.slice.content.append(Ve.slice.content),this.slice.openStart,Ve.slice.openEnd);return new he(this.from,this.to+(Ve.to-Ve.from),Pe,this.structure)}else if(Ve.to==this.from&&!this.slice.openStart&&!Ve.slice.openEnd){var Ie=this.slice.size+Ve.slice.size==0?o.Slice.empty:new o.Slice(Ve.slice.content.append(this.slice.content),Ve.slice.openStart,this.slice.openEnd);return new he(Ve.from,this.to,Ie,this.structure)}else return null}},{key:"toJSON",value:function(){var Ve={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Ve.slice=this.slice.toJSON()),this.structure&&(Ve.structure=!0),Ve}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.from!="number"||typeof Pe.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new he(Pe.from,Pe.to,o.Slice.fromJSON(Ve,Pe.slice),!!Pe.structure)}}]),he}(V);V.jsonID("replace",z);var ee=function(me){p(he,me);var Ee=v(he);function he(xe,Ve,Pe,Ie,ze,tt){var Le,It=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return O(this,he),Le=Ee.call(this),Le.from=xe,Le.to=Ve,Le.gapFrom=Pe,Le.gapTo=Ie,Le.slice=ze,Le.insert=tt,Le.structure=It,Le}return u(he,[{key:"apply",value:function(Ve){if(this.structure&&($(Ve,this.from,this.gapFrom)||$(Ve,this.gapTo,this.to)))return W.fail("Structure gap-replace would overwrite content");var Pe=Ve.slice(this.gapFrom,this.gapTo);if(Pe.openStart||Pe.openEnd)return W.fail("Gap is not a flat range");var Ie=this.slice.insertAt(this.insert,Pe.content);return Ie?W.fromReplace(Ve,this.from,this.to,Ie):W.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new F([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(Ve){var Pe=this.gapTo-this.gapFrom;return new he(this.from,this.from+this.slice.size+Pe,this.from+this.insert,this.from+this.insert+Pe,Ve.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.from,1),Ie=Ve.mapResult(this.to,-1),ze=Ve.map(this.gapFrom,-1),tt=Ve.map(this.gapTo,1);return Pe.deletedAcross&&Ie.deletedAcross||ze<Pe.pos||tt>Ie.pos?null:new he(Pe.pos,Ie.pos,ze,tt,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var Ve={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Ve.slice=this.slice.toJSON()),this.structure&&(Ve.structure=!0),Ve}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.from!="number"||typeof Pe.to!="number"||typeof Pe.gapFrom!="number"||typeof Pe.gapTo!="number"||typeof Pe.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new he(Pe.from,Pe.to,Pe.gapFrom,Pe.gapTo,o.Slice.fromJSON(Ve,Pe.slice),Pe.insert,!!Pe.structure)}}]),he}(V);V.jsonID("replaceAround",ee);function $(me,Ee,he){for(var xe=me.resolve(Ee),Ve=he-Ee,Pe=xe.depth;Ve>0&&Pe>0&&xe.indexAfter(Pe)==xe.node(Pe).childCount;)Pe--,Ve--;if(Ve>0)for(var Ie=xe.node(Pe).maybeChild(xe.indexAfter(Pe));Ve>0;){if(!Ie||Ie.isLeaf)return!0;Ie=Ie.firstChild,Ve--}return!1}function J(me,Ee,he,xe){var Ve=[],Pe=[],Ie,ze;me.doc.nodesBetween(Ee,he,function(tt,Le,It){if(tt.isInline){var on=tt.marks;if(!xe.isInSet(on)&&It.type.allowsMarkType(xe.type)){for(var zt=Math.max(Le,Ee),$t=Math.min(Le+tt.nodeSize,he),Bt=xe.addToSet(on),xn=0;xn<on.length;xn++)on[xn].isInSet(Bt)||(Ie&&Ie.to==zt&&Ie.mark.eq(on[xn])?Ie.to=$t:Ve.push(Ie=new H(zt,$t,on[xn])));ze&&ze.to==zt?ze.to=$t:Pe.push(ze=new k(zt,$t,xe))}}}),Ve.forEach(function(tt){return me.step(tt)}),Pe.forEach(function(tt){return me.step(tt)})}function j(me,Ee,he,xe){var Ve=[],Pe=0;me.doc.nodesBetween(Ee,he,function(Ie,ze){if(Ie.isInline){Pe++;var tt=null;if(xe instanceof o.MarkType)for(var Le=Ie.marks,It;It=xe.isInSet(Le);)(tt||(tt=[])).push(It),Le=It.removeFromSet(Le);else xe?xe.isInSet(Ie.marks)&&(tt=[xe]):tt=Ie.marks;if(tt&&tt.length)for(var on=Math.min(ze+Ie.nodeSize,he),zt=0;zt<tt.length;zt++){for(var $t=tt[zt],Bt=void 0,xn=0;xn<Ve.length;xn++){var Hn=Ve[xn];Hn.step==Pe-1&&$t.eq(Ve[xn].style)&&(Bt=Hn)}Bt?(Bt.to=on,Bt.step=Pe):Ve.push({style:$t,from:Math.max(ze,Ee),to:on,step:Pe})}}}),Ve.forEach(function(Ie){return me.step(new H(Ie.from,Ie.to,Ie.style))})}function Z(me,Ee,he){for(var xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:he.contentMatch,Ve=me.doc.nodeAt(Ee),Pe=[],Ie=Ee+1,ze=0;ze<Ve.childCount;ze++){var tt=Ve.child(ze),Le=Ie+tt.nodeSize,It=xe.matchType(tt.type);if(!It)Pe.push(new z(Ie,Le,o.Slice.empty));else{xe=It;for(var on=0;on<tt.marks.length;on++)he.allowsMarkType(tt.marks[on].type)||me.step(new H(Ie,Le,tt.marks[on]))}Ie=Le}if(!xe.validEnd){var zt=xe.fillBefore(o.Fragment.empty,!0);me.replace(Ie,Ie,new o.Slice(zt,0,0))}for(var $t=Pe.length-1;$t>=0;$t--)me.step(Pe[$t])}function ne(me,Ee,he){return(Ee==0||me.canReplace(Ee,me.childCount))&&(he==me.childCount||me.canReplace(0,he))}function ie(me){for(var Ee=me.parent,he=Ee.content.cutByIndex(me.startIndex,me.endIndex),xe=me.depth;;--xe){var Ve=me.$from.node(xe),Pe=me.$from.index(xe),Ie=me.$to.indexAfter(xe);if(xe<me.depth&&Ve.canReplace(Pe,Ie,he))return xe;if(xe==0||Ve.type.spec.isolating||!ne(Ve,Pe,Ie))break}return null}function oe(me,Ee,he){for(var xe=Ee.$from,Ve=Ee.$to,Pe=Ee.depth,Ie=xe.before(Pe+1),ze=Ve.after(Pe+1),tt=Ie,Le=ze,It=o.Fragment.empty,on=0,zt=Pe,$t=!1;zt>he;zt--)$t||xe.index(zt)>0?($t=!0,It=o.Fragment.from(xe.node(zt).copy(It)),on++):tt--;for(var Bt=o.Fragment.empty,xn=0,Hn=Pe,ir=!1;Hn>he;Hn--)ir||Ve.after(Hn+1)<Ve.end(Hn)?(ir=!0,Bt=o.Fragment.from(Ve.node(Hn).copy(Bt)),xn++):Le++;me.step(new ee(tt,Le,Ie,ze,new o.Slice(It.append(Bt),on,xn),It.size-on,!0))}function re(me,Ee){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:me,Ve=se(me,Ee),Pe=Ve&&fe(xe,Ee);return Pe?Ve.map(ae).concat({type:Ee,attrs:he}).concat(Pe.map(ae)):null}function ae(me){return{type:me,attrs:null}}function se(me,Ee){var he=me.parent,xe=me.startIndex,Ve=me.endIndex,Pe=he.contentMatchAt(xe).findWrapping(Ee);if(!Pe)return null;var Ie=Pe.length?Pe[0]:Ee;return he.canReplaceWith(xe,Ve,Ie)?Pe:null}function fe(me,Ee){var he=me.parent,xe=me.startIndex,Ve=me.endIndex,Pe=he.child(xe),Ie=Ee.contentMatch.findWrapping(Pe.type);if(!Ie)return null;for(var ze=Ie.length?Ie[Ie.length-1]:Ee,tt=ze.contentMatch,Le=xe;tt&&Le<Ve;Le++)tt=tt.matchType(he.child(Le).type);return!tt||!tt.validEnd?null:Ie}function le(me,Ee,he){for(var xe=o.Fragment.empty,Ve=he.length-1;Ve>=0;Ve--){if(xe.size){var Pe=he[Ve].type.contentMatch.matchFragment(xe);if(!Pe||!Pe.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}xe=o.Fragment.from(he[Ve].type.create(he[Ve].attrs,xe))}var Ie=Ee.start,ze=Ee.end;me.step(new ee(Ie,ze,Ie,ze,new o.Slice(xe,0,0),he.length,!0))}function Ae(me,Ee,he,xe,Ve){if(!xe.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var Pe=me.steps.length;me.doc.nodesBetween(Ee,he,function(Ie,ze){if(Ie.isTextblock&&!Ie.hasMarkup(xe,Ve)&&De(me.doc,me.mapping.slice(Pe).map(ze),xe)){me.clearIncompatible(me.mapping.slice(Pe).map(ze,1),xe);var tt=me.mapping.slice(Pe),Le=tt.map(ze,1),It=tt.map(ze+Ie.nodeSize,1);return me.step(new ee(Le,It,Le+1,It-1,new o.Slice(o.Fragment.from(xe.create(Ve,null,Ie.marks)),0,0),1,!0)),!1}})}function De(me,Ee,he){var xe=me.resolve(Ee),Ve=xe.index();return xe.parent.canReplaceWith(Ve,Ve+1,he)}function je(me,Ee,he,xe,Ve){var Pe=me.doc.nodeAt(Ee);if(!Pe)throw new RangeError("No node at given position");he||(he=Pe.type);var Ie=he.create(xe,null,Ve||Pe.marks);if(Pe.isLeaf)return me.replaceWith(Ee,Ee+Pe.nodeSize,Ie);if(!he.validContent(Pe.content))throw new RangeError("Invalid content for node type "+he.name);me.step(new ee(Ee,Ee+Pe.nodeSize,Ee+1,Ee+Pe.nodeSize-1,new o.Slice(o.Fragment.from(Ie),0,0),1,!0))}function Je(me,Ee){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,xe=arguments.length>3?arguments[3]:void 0,Ve=me.resolve(Ee),Pe=Ve.depth-he,Ie=xe&&xe[xe.length-1]||Ve.parent;if(Pe<0||Ve.parent.type.spec.isolating||!Ve.parent.canReplace(Ve.index(),Ve.parent.childCount)||!Ie.type.validContent(Ve.parent.content.cutByIndex(Ve.index(),Ve.parent.childCount)))return!1;for(var ze=Ve.depth-1,tt=he-2;ze>Pe;ze--,tt--){var Le=Ve.node(ze),It=Ve.index(ze);if(Le.type.spec.isolating)return!1;var on=Le.content.cutByIndex(It,Le.childCount),zt=xe&&xe[tt]||Le;if(zt!=Le&&(on=on.replaceChild(0,zt.type.create(zt.attrs))),!Le.canReplace(It+1,Le.childCount)||!zt.type.validContent(on))return!1}var $t=Ve.indexAfter(Pe),Bt=xe&&xe[0];return Ve.node(Pe).canReplaceWith($t,$t,Bt?Bt.type:Ve.node(Pe+1).type)}function Be(me,Ee){for(var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,xe=arguments.length>3?arguments[3]:void 0,Ve=me.doc.resolve(Ee),Pe=o.Fragment.empty,Ie=o.Fragment.empty,ze=Ve.depth,tt=Ve.depth-he,Le=he-1;ze>tt;ze--,Le--){Pe=o.Fragment.from(Ve.node(ze).copy(Pe));var It=xe&&xe[Le];Ie=o.Fragment.from(It?It.type.create(It.attrs,Ie):Ve.node(ze).copy(Ie))}me.step(new z(Ee,Ee,new o.Slice(Pe.append(Ie),he,he),!0))}function st(me,Ee){var he=me.resolve(Ee),xe=he.index();return ht(he.nodeBefore,he.nodeAfter)&&he.parent.canReplace(xe,xe+1)}function ht(me,Ee){return!!(me&&Ee&&!me.isLeaf&&me.canAppend(Ee))}function gt(me,Ee){for(var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,xe=me.resolve(Ee),Ve=xe.depth;;Ve--){var Pe=void 0,Ie=void 0,ze=xe.index(Ve);if(Ve==xe.depth?(Pe=xe.nodeBefore,Ie=xe.nodeAfter):he>0?(Pe=xe.node(Ve+1),ze++,Ie=xe.node(Ve).maybeChild(ze)):(Pe=xe.node(Ve).maybeChild(ze-1),Ie=xe.node(Ve+1)),Pe&&!Pe.isTextblock&&ht(Pe,Ie)&&xe.node(Ve).canReplace(ze,ze+1))return Ee;if(Ve==0)break;Ee=he<0?xe.before(Ve):xe.after(Ve)}}function Xe(me,Ee,he){var xe=new z(Ee-he,Ee+he,o.Slice.empty,!0);me.step(xe)}function Re(me,Ee,he){var xe=me.resolve(Ee);if(xe.parent.canReplaceWith(xe.index(),xe.index(),he))return Ee;if(xe.parentOffset==0)for(var Ve=xe.depth-1;Ve>=0;Ve--){var Pe=xe.index(Ve);if(xe.node(Ve).canReplaceWith(Pe,Pe,he))return xe.before(Ve+1);if(Pe>0)return null}if(xe.parentOffset==xe.parent.content.size)for(var Ie=xe.depth-1;Ie>=0;Ie--){var ze=xe.indexAfter(Ie);if(xe.node(Ie).canReplaceWith(ze,ze,he))return xe.after(Ie+1);if(ze<xe.node(Ie).childCount)return null}return null}function Ne(me,Ee,he){var xe=me.resolve(Ee);if(!he.content.size)return Ee;for(var Ve=he.content,Pe=0;Pe<he.openStart;Pe++)Ve=Ve.firstChild.content;for(var Ie=1;Ie<=(he.openStart==0&&he.size?2:1);Ie++)for(var ze=xe.depth;ze>=0;ze--){var tt=ze==xe.depth?0:xe.pos<=(xe.start(ze+1)+xe.end(ze+1))/2?-1:1,Le=xe.index(ze)+(tt>0?1:0),It=xe.node(ze),on=!1;if(Ie==1)on=It.canReplace(Le,Le,Ve);else{var zt=It.contentMatchAt(Le).findWrapping(Ve.firstChild.type);on=zt&&It.canReplaceWith(Le,Le,zt[0])}if(on)return tt==0?xe.pos:tt<0?xe.before(ze+1):xe.after(ze+1)}return null}function ke(me,Ee){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ee,xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o.Slice.empty;if(Ee==he&&!xe.size)return null;var Ve=me.resolve(Ee),Pe=me.resolve(he);return ot(Ve,Pe,xe)?new z(Ee,he,xe):new Dt(Ve,Pe,xe).fit()}function ot(me,Ee,he){return!he.openStart&&!he.openEnd&&me.start()==Ee.start()&&me.parent.canReplace(me.index(),Ee.index(),he.content)}var Dt=function(){function me(Ee,he,xe){O(this,me),this.$from=Ee,this.$to=he,this.unplaced=xe,this.frontier=[],this.placed=o.Fragment.empty;for(var Ve=0;Ve<=Ee.depth;Ve++){var Pe=Ee.node(Ve);this.frontier.push({type:Pe.type,match:Pe.contentMatchAt(Ee.indexAfter(Ve))})}for(var Ie=Ee.depth;Ie>0;Ie--)this.placed=o.Fragment.from(Ee.node(Ie).copy(this.placed))}return u(me,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var he=this.findFittable();he?this.placeNodes(he):this.openMore()||this.dropNode()}var xe=this.mustMoveInline(),Ve=this.placed.size-this.depth-this.$from.depth,Pe=this.$from,Ie=this.close(xe<0?this.$to:Pe.doc.resolve(xe));if(!Ie)return null;for(var ze=this.placed,tt=Pe.depth,Le=Ie.depth;tt&&Le&&ze.childCount==1;)ze=ze.firstChild.content,tt--,Le--;var It=new o.Slice(ze,tt,Le);return xe>-1?new ee(Pe.pos,xe,this.$to.pos,this.$to.end(),It,Ve):It.size||Pe.pos!=this.$to.pos?new z(Pe.pos,Ie.pos,It):null}},{key:"findFittable",value:function(){for(var he=this.unplaced.openStart,xe=this.unplaced.content,Ve=0,Pe=this.unplaced.openEnd;Ve<he;Ve++){var Ie=xe.firstChild;if(xe.childCount>1&&(Pe=0),Ie.type.spec.isolating&&Pe<=Ve){he=Ve;break}xe=Ie.content}for(var ze=1;ze<=2;ze++)for(var tt=ze==1?he:this.unplaced.openStart;tt>=0;tt--){var Le=void 0,It=null;tt?(It=Oe(this.unplaced.content,tt-1).firstChild,Le=It.content):Le=this.unplaced.content;for(var on=Le.firstChild,zt=this.depth;zt>=0;zt--){var $t=this.frontier[zt],Bt=$t.type,xn=$t.match,Hn=void 0,ir=null;if(ze==1&&(on?xn.matchType(on.type)||(ir=xn.fillBefore(o.Fragment.from(on),!1)):It&&Bt.compatibleContent(It.type)))return{sliceDepth:tt,frontierDepth:zt,parent:It,inject:ir};if(ze==2&&on&&(Hn=xn.findWrapping(on.type)))return{sliceDepth:tt,frontierDepth:zt,parent:It,wrap:Hn};if(It&&xn.matchType(It.type))break}}}},{key:"openMore",value:function(){var he=this.unplaced,xe=he.content,Ve=he.openStart,Pe=he.openEnd,Ie=Oe(xe,Ve);return!Ie.childCount||Ie.firstChild.isLeaf?!1:(this.unplaced=new o.Slice(xe,Ve+1,Math.max(Pe,Ie.size+Ve>=xe.size-Pe?Ve+1:0)),!0)}},{key:"dropNode",value:function(){var he=this.unplaced,xe=he.content,Ve=he.openStart,Pe=he.openEnd,Ie=Oe(xe,Ve);if(Ie.childCount<=1&&Ve>0){var ze=xe.size-Ve<=Ve+Ie.size;this.unplaced=new o.Slice(ln(xe,Ve-1,1),Ve-1,ze?Ve-1:Pe)}else this.unplaced=new o.Slice(ln(xe,Ve,1),Ve,Pe)}},{key:"placeNodes",value:function(he){for(var xe=he.sliceDepth,Ve=he.frontierDepth,Pe=he.parent,Ie=he.inject,ze=he.wrap;this.depth>Ve;)this.closeFrontierNode();if(ze)for(var tt=0;tt<ze.length;tt++)this.openFrontierNode(ze[tt]);var Le=this.unplaced,It=Pe?Pe.content:Le.content,on=Le.openStart-xe,zt=0,$t=[],Bt=this.frontier[Ve],xn=Bt.match,Hn=Bt.type;if(Ie){for(var tt=0;tt<Ie.childCount;tt++)$t.push(Ie.child(tt));xn=xn.matchFragment(Ie)}for(var ir=It.size+xe-(Le.content.size-Le.openEnd);zt<It.childCount;){var Vn=It.child(zt),_t=xn.matchType(Vn.type);if(!_t)break;zt++,(zt>1||on==0||Vn.content.size)&&(xn=_t,$t.push(Se(Vn.mark(Hn.allowedMarks(Vn.marks)),zt==1?on:0,zt==It.childCount?ir:-1)))}var ut=zt==It.childCount;ut||(ir=-1),this.placed=ct(this.placed,Ve,o.Fragment.from($t)),this.frontier[Ve].match=xn,ut&&ir<0&&Pe&&Pe.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var Ce=0,be=It;Ce<ir;Ce++){var We=be.lastChild;this.frontier.push({type:We.type,match:We.contentMatchAt(We.childCount)}),be=We.content}this.unplaced=ut?xe==0?o.Slice.empty:new o.Slice(ln(Le.content,xe-1,1),xe-1,ir<0?Le.openEnd:xe-1):new o.Slice(ln(Le.content,xe,zt),Le.openStart,Le.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var he=this.frontier[this.depth],xe;if(!he.type.isTextblock||!Ze(this.$to,this.$to.depth,he.type,he.match,!1)||this.$to.depth==this.depth&&(xe=this.findCloseLevel(this.$to))&&xe.depth==this.depth)return-1;for(var Ve=this.$to.depth,Pe=this.$to.after(Ve);Ve>1&&Pe==this.$to.end(--Ve);)++Pe;return Pe}},{key:"findCloseLevel",value:function(he){e:for(var xe=Math.min(this.depth,he.depth);xe>=0;xe--){var Ve=this.frontier[xe],Pe=Ve.match,Ie=Ve.type,ze=xe<he.depth&&he.end(xe+1)==he.pos+(he.depth-(xe+1)),tt=Ze(he,xe,Ie,Pe,ze);if(tt){for(var Le=xe-1;Le>=0;Le--){var It=this.frontier[Le],on=It.match,zt=It.type,$t=Ze(he,Le,zt,on,!0);if(!$t||$t.childCount)continue e}return{depth:xe,fit:tt,move:ze?he.doc.resolve(he.after(xe+1)):he}}}}},{key:"close",value:function(he){var xe=this.findCloseLevel(he);if(!xe)return null;for(;this.depth>xe.depth;)this.closeFrontierNode();xe.fit.childCount&&(this.placed=ct(this.placed,xe.depth,xe.fit)),he=xe.move;for(var Ve=xe.depth+1;Ve<=he.depth;Ve++){var Pe=he.node(Ve),Ie=Pe.type.contentMatch.fillBefore(Pe.content,!0,he.index(Ve));this.openFrontierNode(Pe.type,Pe.attrs,Ie)}return he}},{key:"openFrontierNode",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ve=arguments.length>2?arguments[2]:void 0,Pe=this.frontier[this.depth];Pe.match=Pe.match.matchType(he),this.placed=ct(this.placed,this.depth,o.Fragment.from(he.create(xe,Ve))),this.frontier.push({type:he,match:he.contentMatch})}},{key:"closeFrontierNode",value:function(){var he=this.frontier.pop(),xe=he.match.fillBefore(o.Fragment.empty,!0);xe.childCount&&(this.placed=ct(this.placed,this.frontier.length,xe))}}]),me}();function ln(me,Ee,he){return Ee==0?me.cutByIndex(he,me.childCount):me.replaceChild(0,me.firstChild.copy(ln(me.firstChild.content,Ee-1,he)))}function ct(me,Ee,he){return Ee==0?me.append(he):me.replaceChild(me.childCount-1,me.lastChild.copy(ct(me.lastChild.content,Ee-1,he)))}function Oe(me,Ee){for(var he=0;he<Ee;he++)me=me.firstChild.content;return me}function Se(me,Ee,he){if(Ee<=0)return me;var xe=me.content;return Ee>1&&(xe=xe.replaceChild(0,Se(xe.firstChild,Ee-1,xe.childCount==1?he-1:0))),Ee>0&&(xe=me.type.contentMatch.fillBefore(xe).append(xe),he<=0&&(xe=xe.append(me.type.contentMatch.matchFragment(xe).fillBefore(o.Fragment.empty,!0)))),me.copy(xe)}function Ze(me,Ee,he,xe,Ve){var Pe=me.node(Ee),Ie=Ve?me.indexAfter(Ee):me.index(Ee);if(Ie==Pe.childCount&&!he.compatibleContent(Pe.type))return null;var ze=xe.fillBefore(Pe.content,!0,Ie);return ze&&!Fe(he,Pe.content,Ie)?ze:null}function Fe(me,Ee,he){for(var xe=he;xe<Ee.childCount;xe++)if(!me.allowsMarks(Ee.child(xe).marks))return!0;return!1}function Ke(me){return me.spec.defining||me.spec.definingForContent}function et(me,Ee,he,xe){if(!xe.size)return me.deleteRange(Ee,he);var Ve=me.doc.resolve(Ee),Pe=me.doc.resolve(he);if(ot(Ve,Pe,xe))return me.step(new z(Ee,he,xe));var Ie=te(Ve,me.doc.resolve(he));Ie[Ie.length-1]==0&&Ie.pop();var ze=-(Ve.depth+1);Ie.unshift(ze);for(var tt=Ve.depth,Le=Ve.pos-1;tt>0;tt--,Le--){var It=Ve.node(tt).type.spec;if(It.defining||It.definingAsContext||It.isolating)break;Ie.indexOf(tt)>-1?ze=tt:Ve.before(tt)==Le&&Ie.splice(1,0,-tt)}for(var on=Ie.indexOf(ze),zt=[],$t=xe.openStart,Bt=xe.content,xn=0;;xn++){var Hn=Bt.firstChild;if(zt.push(Hn),xn==xe.openStart)break;Bt=Hn.content}for(var ir=$t-1;ir>=0;ir--){var Vn=zt[ir].type,_t=Ke(Vn);if(_t&&Ve.node(on).type!=Vn)$t=ir;else if(_t||!Vn.isTextblock)break}for(var ut=xe.openStart;ut>=0;ut--){var Ce=(ut+$t+1)%(xe.openStart+1),be=zt[Ce];if(be)for(var We=0;We<Ie.length;We++){var qe=Ie[(We+on)%Ie.length],Et=!0;qe<0&&(Et=!1,qe=-qe);var en=Ve.node(qe-1),In=Ve.index(qe-1);if(en.canReplaceWith(In,In,be.type,be.marks))return me.replace(Ve.before(qe),Et?Pe.after(qe):he,new o.Slice(Qe(xe.content,0,xe.openStart,Ce),Ce,xe.openEnd))}}for(var qn=me.steps.length,cr=Ie.length-1;cr>=0&&(me.replace(Ee,he,xe),!(me.steps.length>qn));cr--){var pr=Ie[cr];pr<0||(Ee=Ve.before(pr),he=Pe.after(pr))}}function Qe(me,Ee,he,xe,Ve){if(Ee<he){var Pe=me.firstChild;me=me.replaceChild(0,Pe.copy(Qe(Pe.content,Ee+1,he,xe,Pe)))}if(Ee>xe){var Ie=Ve.contentMatchAt(0),ze=Ie.fillBefore(me).append(me);me=ze.append(Ie.matchFragment(ze).fillBefore(o.Fragment.empty,!0))}return me}function $e(me,Ee,he,xe){if(!xe.isInline&&Ee==he&&me.doc.resolve(Ee).parent.content.size){var Ve=Re(me.doc,Ee,xe.type);Ve!=null&&(Ee=he=Ve)}me.replaceRange(Ee,he,new o.Slice(o.Fragment.from(xe),0,0))}function Te(me,Ee,he){for(var xe=me.doc.resolve(Ee),Ve=me.doc.resolve(he),Pe=te(xe,Ve),Ie=0;Ie<Pe.length;Ie++){var ze=Pe[Ie],tt=Ie==Pe.length-1;if(tt&&ze==0||xe.node(ze).type.contentMatch.validEnd)return me.delete(xe.start(ze),Ve.end(ze));if(ze>0&&(tt||xe.node(ze-1).canReplace(xe.index(ze-1),Ve.indexAfter(ze-1))))return me.delete(xe.before(ze),Ve.after(ze))}for(var Le=1;Le<=xe.depth&&Le<=Ve.depth;Le++)if(Ee-xe.start(Le)==xe.depth-Le&&he>xe.end(Le)&&Ve.end(Le)-he!=Ve.depth-Le)return me.delete(xe.before(Le),he);me.delete(Ee,he)}function te(me,Ee){for(var he=[],xe=Math.min(me.depth,Ee.depth),Ve=xe;Ve>=0;Ve--){var Pe=me.start(Ve);if(Pe<me.pos-(me.depth-Ve)||Ee.end(Ve)>Ee.pos+(Ee.depth-Ve)||me.node(Ve).type.spec.isolating||Ee.node(Ve).type.spec.isolating)break;(Pe==Ee.start(Ve)||Ve==me.depth&&Ve==Ee.depth&&me.parent.inlineContent&&Ee.parent.inlineContent&&Ve&&Ee.start(Ve-1)==Pe-1)&&he.push(Ve)}return he}var ue=function(me){p(he,me);var Ee=v(he);function he(xe,Ve,Pe){var Ie;return O(this,he),Ie=Ee.call(this),Ie.pos=xe,Ie.attr=Ve,Ie.value=Pe,Ie}return u(he,[{key:"apply",value:function(Ve){var Pe=Ve.nodeAt(this.pos);if(!Pe)return W.fail("No node at attribute step's position");var Ie=Object.create(null);for(var ze in Pe.attrs)Ie[ze]=Pe.attrs[ze];Ie[this.attr]=this.value;var tt=Pe.type.create(Ie,null,Pe.marks);return W.fromReplace(Ve,this.pos,this.pos+1,new o.Slice(o.Fragment.from(tt),0,Pe.isLeaf?0:1))}},{key:"getMap",value:function(){return F.empty}},{key:"invert",value:function(Ve){return new he(this.pos,this.attr,Ve.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(Ve){var Pe=Ve.mapResult(this.pos,1);return Pe.deletedAfter?null:new he(Pe.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(Ve,Pe){if(typeof Pe.pos!="number"||typeof Pe.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new he(Pe.pos,Pe.attr,Pe.value)}}]),he}(V);V.jsonID("attr",ue),f.TransformError=function(me){p(he,me);var Ee=v(he);function he(){return O(this,he),Ee.apply(this,arguments)}return u(he)}(a(Error)),f.TransformError=function me(Ee){var he=Error.call(this,Ee);return he.__proto__=me.prototype,he},f.TransformError.prototype=Object.create(Error.prototype),f.TransformError.prototype.constructor=f.TransformError,f.TransformError.prototype.name="TransformError";var we=function(){function me(Ee){O(this,me),this.doc=Ee,this.steps=[],this.docs=[],this.mapping=new N}return u(me,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(he){var xe=this.maybeStep(he);if(xe.failed)throw new f.TransformError(xe.failed);return this}},{key:"maybeStep",value:function(he){var xe=he.apply(this.doc);return xe.failed||this.addStep(he,xe.doc),xe}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(he,xe){this.docs.push(this.doc),this.steps.push(he),this.mapping.appendMap(he.getMap()),this.doc=xe}},{key:"replace",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he,Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Slice.empty,Pe=ke(this.doc,he,xe,Ve);return Pe&&this.step(Pe),this}},{key:"replaceWith",value:function(he,xe,Ve){return this.replace(he,xe,new o.Slice(o.Fragment.from(Ve),0,0))}},{key:"delete",value:function(he,xe){return this.replace(he,xe,o.Slice.empty)}},{key:"insert",value:function(he,xe){return this.replaceWith(he,he,xe)}},{key:"replaceRange",value:function(he,xe,Ve){return et(this,he,xe,Ve),this}},{key:"replaceRangeWith",value:function(he,xe,Ve){return $e(this,he,xe,Ve),this}},{key:"deleteRange",value:function(he,xe){return Te(this,he,xe),this}},{key:"lift",value:function(he,xe){return oe(this,he,xe),this}},{key:"join",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Xe(this,he,xe),this}},{key:"wrap",value:function(he,xe){return le(this,he,xe),this}},{key:"setBlockType",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he,Ve=arguments.length>2?arguments[2]:void 0,Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Ae(this,he,xe,Ve,Pe),this}},{key:"setNodeMarkup",value:function(he,xe){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Pe=arguments.length>3?arguments[3]:void 0;return je(this,he,xe,Ve,Pe),this}},{key:"setNodeAttribute",value:function(he,xe,Ve){return this.step(new ue(he,xe,Ve)),this}},{key:"addNodeMark",value:function(he,xe){return this.step(new G(he,xe)),this}},{key:"removeNodeMark",value:function(he,xe){if(!(xe instanceof o.Mark)){var Ve=this.doc.nodeAt(he);if(!Ve)throw new RangeError("No node at position "+he);if(xe=xe.isInSet(Ve.marks),!xe)return this}return this.step(new q(he,xe)),this}},{key:"split",value:function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ve=arguments.length>2?arguments[2]:void 0;return Be(this,he,xe,Ve),this}},{key:"addMark",value:function(he,xe,Ve){return J(this,he,xe,Ve),this}},{key:"removeMark",value:function(he,xe,Ve){return j(this,he,xe,Ve),this}},{key:"clearIncompatible",value:function(he,xe,Ve){return Z(this,he,xe,Ve),this}}]),me}();f.AddMarkStep=k,f.AddNodeMarkStep=G,f.AttrStep=ue,f.MapResult=R,f.Mapping=N,f.RemoveMarkStep=H,f.RemoveNodeMarkStep=q,f.ReplaceAroundStep=ee,f.ReplaceStep=z,f.Step=V,f.StepMap=F,f.StepResult=W,f.Transform=we,f.canJoin=st,f.canSplit=Je,f.dropPoint=Ne,f.findWrapping=re,f.insertPoint=Re,f.joinPoint=gt,f.liftTarget=ie,f.replaceStep=ke},30907:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a,i){(i==null||i>a.length)&&(i=a.length);for(var c=0,p=new Array(i);c<i;c++)p[c]=a[c];return p}},83878:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a){if(Array.isArray(a))return a}},45057:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(30907);function a(i){if(Array.isArray(i))return(0,t.Z)(i)}},97326:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}},15671:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}},43144:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i});var t=e(67343);function a(c,p){for(var l=0;l<p.length;l++){var v=p[l];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,(0,t.Z)(v.key),v)}}function i(c,p,l){return p&&a(c.prototype,p),l&&a(c,l),Object.defineProperty(c,"prototype",{writable:!1}),c}},4942:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(67343);function a(i,c,p){return c=(0,t.Z)(c),c in i?Object.defineProperty(i,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[c]=p,i}},87462:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(){return t=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var c=arguments[i];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(a[p]=c[p])}return a},t.apply(this,arguments)}},61120:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},t(a)}},60136:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(89611);function a(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),c&&(0,t.Z)(i,c)}},44123:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}},31902:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a,i){var c=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(c!=null){var p,l,v,_,g=[],E=!0,S=!1;try{if(v=(c=c.call(a)).next,i===0){if(Object(c)!==c)return;E=!1}else for(;!(E=(p=v.call(c)).done)&&(g.push(p.value),g.length!==i);E=!0);}catch(O){S=!0,l=O}finally{try{if(!E&&c.return!=null&&(_=c.return(),Object(_)!==_))return}finally{if(S)throw l}}return g}}},25267:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},42786:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},45987:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(63366);function a(i,c){if(i==null)return{};var p=(0,t.Z)(i,c),l,v;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);for(v=0;v<_.length;v++)l=_[v],!(c.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(p[l]=i[l])}return p}},63366:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a,i){if(a==null)return{};var c={},p=Object.keys(a),l,v;for(v=0;v<p.length;v++)l=p[v],!(i.indexOf(l)>=0)&&(c[l]=a[l]);return c}},82963:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i});var t=e(71002),a=e(97326);function i(c,p){if(p&&((0,t.Z)(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(c)}},89611:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a,i){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,l){return p.__proto__=l,p},t(a,i)}},93324:(K,f,e)=>{"use strict";e.d(f,{Z:()=>p});var t=e(83878),a=e(31902),i=e(40181),c=e(25267);function p(l,v){return(0,t.Z)(l)||(0,a.Z)(l,v)||(0,i.Z)(l,v)||(0,c.Z)()}},30168:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}},89062:(K,f,e)=>{"use strict";e.d(f,{Z:()=>p});var t=e(45057),a=e(44123),i=e(40181),c=e(42786);function p(l){return(0,t.Z)(l)||(0,a.Z)(l)||(0,i.Z)(l)||(0,c.Z)()}},35512:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(71002);function a(i,c){if((0,t.Z)(i)!=="object"||i===null)return i;var p=i[Symbol.toPrimitive];if(p!==void 0){var l=p.call(i,c||"default");if((0,t.Z)(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}},67343:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i});var t=e(71002),a=e(35512);function i(c){var p=(0,a.Z)(c,"string");return(0,t.Z)(p)==="symbol"?p:String(p)}},71002:(K,f,e)=>{"use strict";e.d(f,{Z:()=>t});function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(a)}},40181:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a});var t=e(30907);function a(i,c){if(i){if(typeof i=="string")return(0,t.Z)(i,c);var p=Object.prototype.toString.call(i).slice(8,-1);if(p==="Object"&&i.constructor&&(p=i.constructor.name),p==="Map"||p==="Set")return Array.from(i);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return(0,t.Z)(i,c)}}},39516:(K,f,e)=>{"use strict";e.d(f,{d:()=>A,f:()=>g});var t=e(98661),a=e(19946),i=e(12351),c=e(16723),p=e(23784),l=e(73781);let v=(0,t.createContext)(null);function _(){let u=(0,t.useContext)(v);if(u===null){let o=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(o,_),o}return u}function g(){let[u,o]=(0,t.useState)([]);return[u.length>0?u.join(" "):void 0,(0,t.useMemo)(()=>function(s){let w=(0,l.z)(C=>(o(x=>[...x,C]),()=>o(x=>{let D=x.slice(),y=D.indexOf(C);return y!==-1&&D.splice(y,1),D}))),P=(0,t.useMemo)(()=>({register:w,slot:s.slot,name:s.name,props:s.props}),[w,s.slot,s.name,s.props]);return t.default.createElement(v.Provider,{value:P},s.children)},[o])]}let E="p";function S(u,o){let s=(0,a.M)(),y=u,{id:w=`headlessui-description-${s}`}=y,P=ai(y,["id"]),C=_(),x=(0,p.T)(o);(0,c.e)(()=>C.register(w),[w,C.register]);let D=No(yr({ref:x},C.props),{id:w});return(0,i.sY)({ourProps:D,theirProps:P,slot:C.slot||{},defaultTag:E,name:C.name||"Description"})}let O=(0,i.yV)(S),A=Object.assign(O,{})},13599:(K,f,e)=>{"use strict";e.d(f,{V:()=>Qn});var t=e(98661),a=e(32984),i=e(12351),c=e(23784),p=e(61363),l=e(64103),v=e(19946),_=e(82180),g=e(46045),E=e(77896);function S(At){return E.O.isServer?null:At instanceof Node?At.ownerDocument:At!=null&&At.hasOwnProperty("current")&&At.current instanceof Node?At.current.ownerDocument:document}let O=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(At=>`${At}:not([tabindex='-1'])`).join(",");var A=(At=>(At[At.First=1]="First",At[At.Previous=2]="Previous",At[At.Next=4]="Next",At[At.Last=8]="Last",At[At.WrapAround=16]="WrapAround",At[At.NoScroll=32]="NoScroll",At))(A||{}),u=(At=>(At[At.Error=0]="Error",At[At.Overflow=1]="Overflow",At[At.Success=2]="Success",At[At.Underflow=3]="Underflow",At))(u||{}),o=(At=>(At[At.Previous=-1]="Previous",At[At.Next=1]="Next",At))(o||{});function s(At=document.body){return At==null?[]:Array.from(At.querySelectorAll(O)).sort((fn,gn)=>Math.sign((fn.tabIndex||Number.MAX_SAFE_INTEGER)-(gn.tabIndex||Number.MAX_SAFE_INTEGER)))}var w=(At=>(At[At.Strict=0]="Strict",At[At.Loose=1]="Loose",At))(w||{});function P(At,fn=0){var gn;return At===((gn=S(At))==null?void 0:gn.body)?!1:(0,a.E)(fn,{[0](){return At.matches(O)},[1](){let Mn=At;for(;Mn!==null;){if(Mn.matches(O))return!0;Mn=Mn.parentElement}return!1}})}function C(At){let fn=m(At);b().nextFrame(()=>{fn&&!P(fn.activeElement,0)&&D(At)})}var x=(At=>(At[At.Keyboard=0]="Keyboard",At[At.Mouse=1]="Mouse",At))(x||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",At=>{At.metaKey||At.altKey||At.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",At=>{At.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:At.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function D(At){At==null||At.focus({preventScroll:!0})}let y=["textarea","input"].join(",");function M(At){var fn,gn;return(gn=(fn=At==null?void 0:At.matches)==null?void 0:fn.call(At,y))!=null?gn:!1}function T(At,fn=gn=>gn){return At.slice().sort((gn,Mn)=>{let Wn=fn(gn),rr=fn(Mn);if(Wn===null||rr===null)return 0;let Zn=Wn.compareDocumentPosition(rr);return Zn&Node.DOCUMENT_POSITION_FOLLOWING?-1:Zn&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function R(At,fn){return F(s(),fn,{relativeTo:At})}function F(At,fn,{sorted:gn=!0,relativeTo:Mn=null,skipElements:Wn=[]}={}){let rr=Array.isArray(At)?At.length>0?At[0].ownerDocument:document:At.ownerDocument,Zn=Array.isArray(At)?gn?T(At):At:s(At);Wn.length>0&&Zn.length>1&&(Zn=Zn.filter(So=>!Wn.includes(So))),Mn=Mn!=null?Mn:rr.activeElement;let ur=(()=>{if(fn&5)return 1;if(fn&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ar=(()=>{if(fn&1)return 0;if(fn&2)return Math.max(0,Zn.indexOf(Mn))-1;if(fn&4)return Math.max(0,Zn.indexOf(Mn))+1;if(fn&8)return Zn.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),so=fn&32?{preventScroll:!0}:{},io=0,Qr=Zn.length,Eo;do{if(io>=Qr||io+Qr<=0)return 0;let So=Ar+io;if(fn&16)So=(So+Qr)%Qr;else{if(So<0)return 3;if(So>=Qr)return 1}Eo=Zn[So],Eo==null||Eo.focus(so),io+=ur}while(Eo!==rr.activeElement);return fn&6&&M(Eo)&&Eo.select(),2}var N=e(73781),U=e(3855);function V(At,fn,gn){let Mn=(0,U.E)(fn);(0,t.useEffect)(()=>{function Wn(rr){Mn.current(rr)}return window.addEventListener(At,Wn,gn),()=>window.removeEventListener(At,Wn,gn)},[At,gn])}var W=(At=>(At[At.Forwards=0]="Forwards",At[At.Backwards=1]="Backwards",At))(W||{});function L(){let At=(0,t.useRef)(0);return V("keydown",fn=>{fn.key==="Tab"&&(At.current=fn.shiftKey?1:0)},!0),At}var k=e(14879);function H(...At){return(0,t.useMemo)(()=>S(...At),[...At])}function G(At,fn,gn,Mn){let Wn=(0,U.E)(gn);(0,t.useEffect)(()=>{At=At!=null?At:window;function rr(Zn){Wn.current(Zn)}return At.addEventListener(fn,rr,Mn),()=>At.removeEventListener(fn,rr,Mn)},[At,fn,Mn])}var q=e(81021);function z(At,fn){let gn=(0,t.useRef)([]),Mn=(0,N.z)(At);(0,t.useEffect)(()=>{let Wn=[...gn.current];for(let[rr,Zn]of fn.entries())if(gn.current[rr]!==Zn){let ur=Mn(fn,Wn);return gn.current=fn,ur}},[Mn,...fn])}var ee=e(94192);function $(At){function fn(){document.readyState!=="loading"&&(At(),document.removeEventListener("DOMContentLoaded",fn))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",fn),fn())}function J(At){let fn=(0,N.z)(At),gn=(0,t.useRef)(!1);(0,t.useEffect)(()=>(gn.current=!1,()=>{gn.current=!0,(0,q.Y)(()=>{gn.current&&fn()})}),[fn])}function j(At){if(!At)return new Set;if(typeof At=="function")return new Set(At());let fn=new Set;for(let gn of At.current)gn.current instanceof HTMLElement&&fn.add(gn.current);return fn}let Z="div";var ne=(At=>(At[At.None=1]="None",At[At.InitialFocus=2]="InitialFocus",At[At.TabLock=4]="TabLock",At[At.FocusLock=8]="FocusLock",At[At.RestoreFocus=16]="RestoreFocus",At[At.All=30]="All",At))(ne||{});function ie(At,fn){let gn=(0,t.useRef)(null),Mn=(0,c.T)(gn,fn),jn=At,{initialFocus:Wn,containers:rr,features:Zn=30}=jn,ur=ai(jn,["initialFocus","containers","features"]);(0,_.H)()||(Zn=1);let Ar=H(gn);fe({ownerDocument:Ar},!!(Zn&16));let so=le({ownerDocument:Ar,container:gn,initialFocus:Wn},!!(Zn&2));Ae({ownerDocument:Ar,container:gn,containers:rr,previousActiveElement:so},!!(Zn&8));let io=L(),Qr=(0,N.z)(bt=>{let Ut=gn.current;Ut&&(qt=>qt())(()=>{(0,a.E)(io.current,{[W.Forwards]:()=>{F(Ut,A.First,{skipElements:[bt.relatedTarget]})},[W.Backwards]:()=>{F(Ut,A.Last,{skipElements:[bt.relatedTarget]})}})})}),Eo=(0,ee.G)(),So=(0,t.useRef)(!1),Wt={ref:Mn,onKeyDown(bt){bt.key=="Tab"&&(So.current=!0,Eo.requestAnimationFrame(()=>{So.current=!1}))},onBlur(bt){let Ut=j(rr);gn.current instanceof HTMLElement&&Ut.add(gn.current);let qt=bt.relatedTarget;qt instanceof HTMLElement&&qt.dataset.headlessuiFocusGuard!=="true"&&(De(Ut,qt)||(So.current?F(gn.current,(0,a.E)(io.current,{[W.Forwards]:()=>A.Next,[W.Backwards]:()=>A.Previous})|A.WrapAround,{relativeTo:bt.target}):bt.target instanceof HTMLElement&&D(bt.target)))}};return t.default.createElement(t.default.Fragment,null,!!(Zn&4)&&t.default.createElement(g._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Qr,features:g.A.Focusable}),(0,i.sY)({ourProps:Wt,theirProps:ur,defaultTag:Z,name:"FocusTrap"}),!!(Zn&4)&&t.default.createElement(g._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Qr,features:g.A.Focusable}))}let oe=(0,i.yV)(ie),re=Object.assign(oe,{features:ne}),ae=[];$(()=>{function At(fn){fn.target instanceof HTMLElement&&fn.target!==document.body&&ae[0]!==fn.target&&(ae.unshift(fn.target),ae=ae.filter(gn=>gn!=null&&gn.isConnected),ae.splice(10))}window.addEventListener("click",At,{capture:!0}),window.addEventListener("mousedown",At,{capture:!0}),window.addEventListener("focus",At,{capture:!0}),document.body.addEventListener("click",At,{capture:!0}),document.body.addEventListener("mousedown",At,{capture:!0}),document.body.addEventListener("focus",At,{capture:!0})});function se(At=!0){let fn=(0,t.useRef)(ae.slice());return z(([gn],[Mn])=>{Mn===!0&&gn===!1&&(0,q.Y)(()=>{fn.current.splice(0)}),Mn===!1&&gn===!0&&(fn.current=ae.slice())},[At,ae,fn]),(0,N.z)(()=>{var gn;return(gn=fn.current.find(Mn=>Mn!=null&&Mn.isConnected))!=null?gn:null})}function fe({ownerDocument:At},fn){let gn=se(fn);z(()=>{fn||(At==null?void 0:At.activeElement)===(At==null?void 0:At.body)&&D(gn())},[fn]),J(()=>{fn&&D(gn())})}function le({ownerDocument:At,container:fn,initialFocus:gn},Mn){let Wn=(0,t.useRef)(null),rr=(0,k.t)();return z(()=>{if(!Mn)return;let Zn=fn.current;Zn&&(0,q.Y)(()=>{if(!rr.current)return;let ur=At==null?void 0:At.activeElement;if(gn!=null&&gn.current){if((gn==null?void 0:gn.current)===ur){Wn.current=ur;return}}else if(Zn.contains(ur)){Wn.current=ur;return}gn!=null&&gn.current?D(gn.current):F(Zn,A.First)===u.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),Wn.current=At==null?void 0:At.activeElement})},[Mn]),Wn}function Ae({ownerDocument:At,container:fn,containers:gn,previousActiveElement:Mn},Wn){let rr=(0,k.t)();G(At==null?void 0:At.defaultView,"focus",Zn=>{if(!Wn||!rr.current)return;let ur=j(gn);fn.current instanceof HTMLElement&&ur.add(fn.current);let Ar=Mn.current;if(!Ar)return;let so=Zn.target;so&&so instanceof HTMLElement?De(ur,so)?(Mn.current=so,D(so)):(Zn.preventDefault(),Zn.stopPropagation(),D(Ar)):D(Mn.current)},!0)}function De(At,fn){for(let gn of At)if(gn.contains(fn))return!0;return!1}var je=e(16723);let Je=(0,t.createContext)(!1);function Be(){return(0,t.useContext)(Je)}function st(At){return t.default.createElement(Je.Provider,{value:At.force},At.children)}function ht(At){let fn=Be(),gn=(0,t.useContext)(Ne),Mn=H(At),[Wn,rr]=(0,t.useState)(()=>{if(!fn&&gn!==null||E.O.isServer)return null;let Zn=Mn==null?void 0:Mn.getElementById("headlessui-portal-root");if(Zn)return Zn;if(Mn===null)return null;let ur=Mn.createElement("div");return ur.setAttribute("id","headlessui-portal-root"),Mn.body.appendChild(ur)});return(0,t.useEffect)(()=>{Wn!==null&&(Mn!=null&&Mn.body.contains(Wn)||Mn==null||Mn.body.appendChild(Wn))},[Wn,Mn]),(0,t.useEffect)(()=>{fn||gn!==null&&rr(gn.current)},[gn,rr,fn]),Wn}let gt=t.Fragment;function Xe(At,fn){let gn=At,Mn=(0,t.useRef)(null),Wn=(0,c.T)((0,c.h)(io=>{Mn.current=io}),fn),rr=H(Mn),Zn=ht(Mn),[ur]=(0,t.useState)(()=>{var io;return E.O.isServer?null:(io=rr==null?void 0:rr.createElement("div"))!=null?io:null}),Ar=(0,t.useContext)(ot),so=(0,_.H)();return(0,je.e)(()=>{!Zn||!ur||Zn.contains(ur)||(ur.setAttribute("data-headlessui-portal",""),Zn.appendChild(ur))},[Zn,ur]),(0,je.e)(()=>{if(ur&&Ar)return Ar.register(ur)},[Ar,ur]),J(()=>{var io;!Zn||!ur||(ur instanceof Node&&Zn.contains(ur)&&Zn.removeChild(ur),Zn.childNodes.length<=0&&((io=Zn.parentElement)==null||io.removeChild(Zn)))}),so?!Zn||!ur?null:(0,t.createPortal)((0,i.sY)({ourProps:{ref:Wn},theirProps:gn,defaultTag:gt,name:"Portal"}),ur):null}let Re=t.Fragment,Ne=(0,t.createContext)(null);function ke(At,fn){let rr=At,{target:gn}=rr,Mn=ai(rr,["target"]),Wn={ref:(0,c.T)(fn)};return t.default.createElement(Ne.Provider,{value:gn},(0,i.sY)({ourProps:Wn,theirProps:Mn,defaultTag:Re,name:"Popover.Group"}))}let ot=(0,t.createContext)(null);function Dt(){let At=(0,t.useContext)(ot),fn=(0,t.useRef)([]),gn=(0,N.z)(rr=>(fn.current.push(rr),At&&At.register(rr),()=>Mn(rr))),Mn=(0,N.z)(rr=>{let Zn=fn.current.indexOf(rr);Zn!==-1&&fn.current.splice(Zn,1),At&&At.unregister(rr)}),Wn=(0,t.useMemo)(()=>({register:gn,unregister:Mn,portals:fn}),[gn,Mn,fn]);return[fn,(0,t.useMemo)(()=>function({children:rr}){return t.default.createElement(ot.Provider,{value:Wn},rr)},[Wn])]}let ln=(0,i.yV)(Xe),ct=(0,i.yV)(ke),Oe=Object.assign(ln,{Group:ct});var Se=e(39516),Ze=e(16567);let Fe=(0,t.createContext)(()=>{});Fe.displayName="StackContext";var Ke=(At=>(At[At.Add=0]="Add",At[At.Remove=1]="Remove",At))(Ke||{});function et(){return(0,t.useContext)(Fe)}function Qe({children:At,onUpdate:fn,type:gn,element:Mn,enabled:Wn}){let rr=et(),Zn=(0,N.z)((...ur)=>{fn==null||fn(...ur),rr(...ur)});return(0,je.e)(()=>{let ur=Wn===void 0||Wn===!0;return ur&&Zn(0,gn,Mn),()=>{ur&&Zn(1,gn,Mn)}},[Zn,gn,Mn,Wn]),t.default.createElement(Fe.Provider,{value:Zn},At)}function $e(At,fn,gn){let Mn=(0,U.E)(fn);(0,t.useEffect)(()=>{function Wn(rr){Mn.current(rr)}return document.addEventListener(At,Wn,gn),()=>document.removeEventListener(At,Wn,gn)},[At,gn])}function Te(At,fn,gn=!0){let Mn=(0,t.useRef)(!1);(0,t.useEffect)(()=>{requestAnimationFrame(()=>{Mn.current=gn})},[gn]);function Wn(Zn,ur){if(!Mn.current||Zn.defaultPrevented)return;let Ar=ur(Zn);if(Ar===null||!Ar.getRootNode().contains(Ar))return;let so=function io(Qr){return typeof Qr=="function"?io(Qr()):Array.isArray(Qr)||Qr instanceof Set?Qr:[Qr]}(At);for(let io of so){if(io===null)continue;let Qr=io instanceof HTMLElement?io:io.current;if(Qr!=null&&Qr.contains(Ar)||Zn.composed&&Zn.composedPath().includes(Qr))return}return!P(Ar,w.Loose)&&Ar.tabIndex!==-1&&Zn.preventDefault(),fn(Zn,Ar)}let rr=(0,t.useRef)(null);$e("mousedown",Zn=>{var ur,Ar;Mn.current&&(rr.current=((Ar=(ur=Zn.composedPath)==null?void 0:ur.call(Zn))==null?void 0:Ar[0])||Zn.target)},!0),$e("click",Zn=>{rr.current&&(Wn(Zn,()=>rr.current),rr.current=null)},!0),V("blur",Zn=>Wn(Zn,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function te(At,fn){return At===fn&&(At!==0||1/At===1/fn)||At!==At&&fn!==fn}const ue=typeof Object.is=="function"?Object.is:te,{useState:we,useEffect:me,useLayoutEffect:Ee,useDebugValue:he}=t;let xe=null,Ve=null;function Pe(At,fn,gn){const Mn=fn(),[{inst:Wn},rr]=we({inst:{value:Mn,getSnapshot:fn}});return Ee(()=>{Wn.value=Mn,Wn.getSnapshot=fn,Ie(Wn)&&rr({inst:Wn})},[At,Mn,fn]),me(()=>(Ie(Wn)&&rr({inst:Wn}),At(()=>{Ie(Wn)&&rr({inst:Wn})})),[At]),he(Mn),Mn}function Ie(At){const fn=At.getSnapshot,gn=At.value;try{const Mn=fn();return!ue(gn,Mn)}catch(Mn){return!0}}function ze(At,fn,gn){return fn()}const tt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Le=!tt,It=Le?ze:Pe,on=(At=>At.useSyncExternalStore)(t);function zt(At){return on(At.subscribe,At.getSnapshot,At.getSnapshot)}var $t=e(9362);function Bt(At,fn){let gn=At(),Mn=new Set;return{getSnapshot(){return gn},subscribe(Wn){return Mn.add(Wn),()=>Mn.delete(Wn)},dispatch(Wn,...rr){let Zn=fn[Wn].call(gn,...rr);Zn&&(gn=Zn,Mn.forEach(ur=>ur()))}}}function xn(){let At;return{before({doc:fn}){var gn;let Mn=fn.documentElement;At=((gn=fn.defaultView)!=null?gn:window).innerWidth-Mn.clientWidth},after({doc:fn,d:gn}){let Mn=fn.documentElement,Wn=Mn.clientWidth-Mn.offsetWidth,rr=At-Wn;gn.style(Mn,"paddingRight",`${rr}px`)}}}function Hn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ir(){return/Android/gi.test(window.navigator.userAgent)}function Vn(){return Hn()||ir()}function _t(){if(!Hn())return{};let At;return{before(){At=window.pageYOffset},after({doc:fn,d:gn,meta:Mn}){function Wn(Zn){return Mn.containers.flatMap(ur=>ur()).some(ur=>ur.contains(Zn))}gn.style(fn.body,"marginTop",`-${At}px`),window.scrollTo(0,0);let rr=null;gn.addEventListener(fn,"click",Zn=>{if(Zn.target instanceof HTMLElement)try{let ur=Zn.target.closest("a");if(!ur)return;let{hash:Ar}=new URL(ur.href),so=fn.querySelector(Ar);so&&!Wn(so)&&(rr=so)}catch(ur){}},!0),gn.addEventListener(fn,"touchmove",Zn=>{Zn.target instanceof HTMLElement&&!Wn(Zn.target)&&Zn.preventDefault()},{passive:!1}),gn.add(()=>{window.scrollTo(0,window.pageYOffset+At),rr&&rr.isConnected&&(rr.scrollIntoView({block:"nearest"}),rr=null)})}}}function ut(){return{before({doc:At,d:fn}){fn.style(At.documentElement,"overflow","hidden")}}}function Ce(At){let fn={};for(let gn of At)Object.assign(fn,gn(fn));return fn}let be=Bt(()=>new Map,{PUSH(At,fn){var gn;let Mn=(gn=this.get(At))!=null?gn:{doc:At,count:0,d:(0,$t.k)(),meta:new Set};return Mn.count++,Mn.meta.add(fn),this.set(At,Mn),this},POP(At,fn){let gn=this.get(At);return gn&&(gn.count--,gn.meta.delete(fn)),this},SCROLL_PREVENT({doc:At,d:fn,meta:gn}){let Mn={doc:At,d:fn,meta:Ce(gn)},Wn=[_t(),xn(),ut()];Wn.forEach(({before:rr})=>rr==null?void 0:rr(Mn)),Wn.forEach(({after:rr})=>rr==null?void 0:rr(Mn))},SCROLL_ALLOW({d:At}){At.dispose()},TEARDOWN({doc:At}){this.delete(At)}});be.subscribe(()=>{let At=be.getSnapshot(),fn=new Map;for(let[gn]of At)fn.set(gn,gn.documentElement.style.overflow);for(let gn of At.values()){let Mn=fn.get(gn.doc)==="hidden",Wn=gn.count!==0;(Wn&&!Mn||!Wn&&Mn)&&be.dispatch(gn.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",gn),gn.count===0&&be.dispatch("TEARDOWN",gn)}});function We(At,fn,gn){let Mn=zt(be),Wn=At?Mn.get(At):void 0,rr=Wn?Wn.count>0:!1;return(0,je.e)(()=>{if(!(!At||!fn))return be.dispatch("PUSH",At,gn),()=>be.dispatch("POP",At,gn)},[fn,At]),rr}let qe=new Map,Et=new Map;function en(At,fn=!0){(0,je.e)(()=>{var gn;if(!fn)return;let Mn=typeof At=="function"?At():At.current;if(!Mn)return;function Wn(){var Zn;if(!Mn)return;let ur=(Zn=Et.get(Mn))!=null?Zn:1;if(ur===1?Et.delete(Mn):Et.set(Mn,ur-1),ur!==1)return;let Ar=qe.get(Mn);Ar&&(Ar["aria-hidden"]===null?Mn.removeAttribute("aria-hidden"):Mn.setAttribute("aria-hidden",Ar["aria-hidden"]),Mn.inert=Ar.inert,qe.delete(Mn))}let rr=(gn=Et.get(Mn))!=null?gn:0;return Et.set(Mn,rr+1),rr!==0||(qe.set(Mn,{"aria-hidden":Mn.getAttribute("aria-hidden"),inert:Mn.inert}),Mn.setAttribute("aria-hidden","true"),Mn.inert=!0),Wn},[At,fn])}function In({defaultContainers:At=[],portals:fn}={}){let gn=(0,t.useRef)(null),Mn=H(gn),Wn=(0,N.z)(()=>{var rr;let Zn=[];for(let ur of At)ur!==null&&(ur instanceof HTMLElement?Zn.push(ur):"current"in ur&&ur.current instanceof HTMLElement&&Zn.push(ur.current));if(fn!=null&&fn.current)for(let ur of fn.current)Zn.push(ur);for(let ur of(rr=Mn==null?void 0:Mn.querySelectorAll("html > *, body > *"))!=null?rr:[])ur!==document.body&&ur!==document.head&&ur instanceof HTMLElement&&ur.id!=="headlessui-portal-root"&&(ur.contains(gn.current)||Zn.some(Ar=>ur.contains(Ar))||Zn.push(ur));return Zn});return{resolveContainers:Wn,contains:(0,N.z)(rr=>Wn().some(Zn=>Zn.contains(rr))),mainTreeNodeRef:gn,MainTreeNode:(0,t.useMemo)(()=>function(){return t.default.createElement(g._,{features:g.A.Hidden,ref:gn})},[gn])}}var qn=(At=>(At[At.Open=0]="Open",At[At.Closed=1]="Closed",At))(qn||{}),cr=(At=>(At[At.SetTitleId=0]="SetTitleId",At))(cr||{});let pr={[0](At,fn){return At.titleId===fn.id?At:No(yr({},At),{titleId:fn.id})}},wr=(0,t.createContext)(null);wr.displayName="DialogContext";function Vr(At){let fn=(0,t.useContext)(wr);if(fn===null){let gn=new Error(`<${At} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(gn,Vr),gn}return fn}function On(At,fn,gn=()=>[document.body]){We(At,fn,Mn=>{var Wn;return{containers:[...(Wn=Mn.containers)!=null?Wn:[],gn]}})}function pt(At,fn){return(0,a.E)(fn.type,pr,At,fn)}let hn="div",Dn=i.AN.RenderStrategy|i.AN.Static;function Gn(At,fn){var gn;let Mn=(0,v.M)(),Yn=At,{id:Wn=`headlessui-dialog-${Mn}`,open:rr,onClose:Zn,initialFocus:ur,__demoMode:Ar=!1}=Yn,so=ai(Yn,["id","open","onClose","initialFocus","__demoMode"]),[io,Qr]=(0,t.useState)(0),Eo=(0,Ze.oJ)();rr===void 0&&Eo!==null&&(rr=(Eo&Ze.ZM.Open)===Ze.ZM.Open);let So=(0,t.useRef)(null),Wt=(0,c.T)(So,fn),jn=H(So),bt=At.hasOwnProperty("open")||Eo!==null,Ut=At.hasOwnProperty("onClose");if(!bt&&!Ut)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!bt)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Ut)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof rr!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${rr}`);if(typeof Zn!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${Zn}`);let qt=rr?0:1,[Sn,at]=(0,t.useReducer)(pt,{titleId:null,descriptionId:null,panelRef:(0,t.createRef)()}),Pt=(0,N.z)(()=>Zn(!1)),jt=(0,N.z)(Er=>at({type:0,id:Er})),vn=(0,_.H)()?Ar?!1:qt===0:!1,Pn=io>1,Rn=(0,t.useContext)(wr)!==null,[$n,ar]=Dt(),{resolveContainers:lr,mainTreeNodeRef:sr,MainTreeNode:fr}=In({portals:$n,defaultContainers:[(gn=Sn.panelRef.current)!=null?gn:So.current]}),gr=Pn?"parent":"leaf",Sr=Eo!==null?(Eo&Ze.ZM.Closing)===Ze.ZM.Closing:!1,Gr=(()=>Rn||Sr?!1:vn)(),Oo=(0,t.useCallback)(()=>{var Er,eo;return(eo=Array.from((Er=jn==null?void 0:jn.querySelectorAll("body > *"))!=null?Er:[]).find(Zr=>Zr.id==="headlessui-portal-root"?!1:Zr.contains(sr.current)&&Zr instanceof HTMLElement))!=null?eo:null},[sr]);en(Oo,Gr);let zr=(()=>Pn?!0:vn)(),yt=(0,t.useCallback)(()=>{var Er,eo;return(eo=Array.from((Er=jn==null?void 0:jn.querySelectorAll("[data-headlessui-portal]"))!=null?Er:[]).find(Zr=>Zr.contains(sr.current)&&Zr instanceof HTMLElement))!=null?eo:null},[sr]);en(yt,zr);let ft=(()=>!(!vn||Pn))();Te(lr,Pt,ft);let vt=(()=>!(Pn||qt!==0))();G(jn==null?void 0:jn.defaultView,"keydown",Er=>{vt&&(Er.defaultPrevented||Er.key===p.R.Escape&&(Er.preventDefault(),Er.stopPropagation(),Pt()))});let kt=(()=>!(Sr||qt!==0||Rn))();On(jn,kt,lr),(0,t.useEffect)(()=>{if(qt!==0||!So.current)return;let Er=new ResizeObserver(eo=>{for(let Zr of eo){let co=Zr.target.getBoundingClientRect();co.x===0&&co.y===0&&co.width===0&&co.height===0&&Pt()}});return Er.observe(So.current),()=>Er.disconnect()},[qt,So,Pt]);let[Qt,Cn]=(0,Se.f)(),En=(0,t.useMemo)(()=>[{dialogState:qt,close:Pt,setTitleId:jt},Sn],[qt,Sn,Pt,jt]),Kn=(0,t.useMemo)(()=>({open:qt===0}),[qt]),or={ref:Wt,id:Wn,role:"dialog","aria-modal":qt===0?!0:void 0,"aria-labelledby":Sn.titleId,"aria-describedby":Qt};return t.default.createElement(Qe,{type:"Dialog",enabled:qt===0,element:So,onUpdate:(0,N.z)((Er,eo)=>{eo==="Dialog"&&(0,a.E)(Er,{[Ke.Add]:()=>Qr(Zr=>Zr+1),[Ke.Remove]:()=>Qr(Zr=>Zr-1)})})},t.default.createElement(st,{force:!0},t.default.createElement(Oe,null,t.default.createElement(wr.Provider,{value:En},t.default.createElement(Oe.Group,{target:So},t.default.createElement(st,{force:!1},t.default.createElement(Cn,{slot:Kn,name:"Dialog.Description"},t.default.createElement(re,{initialFocus:ur,containers:lr,features:vn?(0,a.E)(gr,{parent:re.features.RestoreFocus,leaf:re.features.All&~re.features.FocusLock}):re.features.None},t.default.createElement(ar,null,(0,i.sY)({ourProps:or,theirProps:so,slot:Kn,defaultTag:hn,features:Dn,visible:qt===0,name:"Dialog"}))))))))),t.default.createElement(fr,null))}let Kt="div";function wt(At,fn){let gn=(0,v.M)(),io=At,{id:Mn=`headlessui-dialog-overlay-${gn}`}=io,Wn=ai(io,["id"]),[{dialogState:rr,close:Zn}]=Vr("Dialog.Overlay"),ur=(0,c.T)(fn),Ar=(0,N.z)(Qr=>{if(Qr.target===Qr.currentTarget){if((0,l.P)(Qr.currentTarget))return Qr.preventDefault();Qr.preventDefault(),Qr.stopPropagation(),Zn()}}),so=(0,t.useMemo)(()=>({open:rr===0}),[rr]);return(0,i.sY)({ourProps:{ref:ur,id:Mn,"aria-hidden":!0,onClick:Ar},theirProps:Wn,slot:so,defaultTag:Kt,name:"Dialog.Overlay"})}let Lt="div";function mt(At,fn){let gn=(0,v.M)(),so=At,{id:Mn=`headlessui-dialog-backdrop-${gn}`}=so,Wn=ai(so,["id"]),[{dialogState:rr},Zn]=Vr("Dialog.Backdrop"),ur=(0,c.T)(fn);(0,t.useEffect)(()=>{if(Zn.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[Zn.panelRef]);let Ar=(0,t.useMemo)(()=>({open:rr===0}),[rr]);return t.default.createElement(st,{force:!0},t.default.createElement(Oe,null,(0,i.sY)({ourProps:{ref:ur,id:Mn,"aria-hidden":!0},theirProps:Wn,slot:Ar,defaultTag:Lt,name:"Dialog.Backdrop"})))}let Mt="div";function Jt(At,fn){let gn=(0,v.M)(),io=At,{id:Mn=`headlessui-dialog-panel-${gn}`}=io,Wn=ai(io,["id"]),[{dialogState:rr},Zn]=Vr("Dialog.Panel"),ur=(0,c.T)(fn,Zn.panelRef),Ar=(0,t.useMemo)(()=>({open:rr===0}),[rr]),so=(0,N.z)(Qr=>{Qr.stopPropagation()});return(0,i.sY)({ourProps:{ref:ur,id:Mn,onClick:so},theirProps:Wn,slot:Ar,defaultTag:Mt,name:"Dialog.Panel"})}let pn="h2";function An(At,fn){let gn=(0,v.M)(),so=At,{id:Mn=`headlessui-dialog-title-${gn}`}=so,Wn=ai(so,["id"]),[{dialogState:rr,setTitleId:Zn}]=Vr("Dialog.Title"),ur=(0,c.T)(fn);(0,t.useEffect)(()=>(Zn(Mn),()=>Zn(null)),[Mn,Zn]);let Ar=(0,t.useMemo)(()=>({open:rr===0}),[rr]);return(0,i.sY)({ourProps:{ref:ur,id:Mn},theirProps:Wn,slot:Ar,defaultTag:pn,name:"Dialog.Title"})}let Fn=(0,i.yV)(Gn),Un=(0,i.yV)(mt),Gt=(0,i.yV)(Jt),Zt=(0,i.yV)(wt),_n=(0,i.yV)(An),Qn=Object.assign(Fn,{Backdrop:Un,Panel:Gt,Overlay:Zt,Title:_n,Description:Se.d})},61363:(K,f,e)=>{"use strict";e.d(f,{R:()=>t});var t=(a=>(a.Space=" ",a.Enter="Enter",a.Escape="Escape",a.Backspace="Backspace",a.Delete="Delete",a.ArrowLeft="ArrowLeft",a.ArrowUp="ArrowUp",a.ArrowRight="ArrowRight",a.ArrowDown="ArrowDown",a.Home="Home",a.End="End",a.PageUp="PageUp",a.PageDown="PageDown",a.Tab="Tab",a))(t||{})},5285:(K,f,e)=>{"use strict";e.d(f,{u:()=>Z});var t=e(98661),a=e(12351),i=e(16567),c=e(32984),p=e(14879),l=e(16723),v=e(3855),_=e(82180),g=e(23784);function E(ne){let ie={called:!1};return(...oe)=>{if(!ie.called)return ie.called=!0,ne(...oe)}}var S=e(9362);function O(ne,...ie){ne&&ie.length>0&&ne.classList.add(...ie)}function A(ne,...ie){ne&&ie.length>0&&ne.classList.remove(...ie)}function u(ne,ie){let oe=(0,S.k)();if(!ne)return oe.dispose;let{transitionDuration:re,transitionDelay:ae}=getComputedStyle(ne),[se,fe]=[re,ae].map(Ae=>{let[De=0]=Ae.split(",").filter(Boolean).map(je=>je.includes("ms")?parseFloat(je):parseFloat(je)*1e3).sort((je,Je)=>Je-je);return De}),le=se+fe;if(le!==0){oe.group(De=>{De.setTimeout(()=>{ie(),De.dispose()},le),De.addEventListener(ne,"transitionrun",je=>{je.target===je.currentTarget&&De.dispose()})});let Ae=oe.addEventListener(ne,"transitionend",De=>{De.target===De.currentTarget&&(ie(),Ae())})}else ie();return oe.add(()=>ie()),oe.dispose}function o(ne,ie,oe,re){let ae=oe?"enter":"leave",se=(0,S.k)(),fe=re!==void 0?E(re):()=>{};ae==="enter"&&(ne.removeAttribute("hidden"),ne.style.display="");let le=(0,c.E)(ae,{enter:()=>ie.enter,leave:()=>ie.leave}),Ae=(0,c.E)(ae,{enter:()=>ie.enterTo,leave:()=>ie.leaveTo}),De=(0,c.E)(ae,{enter:()=>ie.enterFrom,leave:()=>ie.leaveFrom});return A(ne,...ie.enter,...ie.enterTo,...ie.enterFrom,...ie.leave,...ie.leaveFrom,...ie.leaveTo,...ie.entered),O(ne,...le,...De),se.nextFrame(()=>{A(ne,...De),O(ne,...Ae),u(ne,()=>(A(ne,...le),O(ne,...ie.entered),fe()))}),se.dispose}var s=e(94192);function w({container:ne,direction:ie,classes:oe,onStart:re,onStop:ae}){let se=(0,p.t)(),fe=(0,s.G)(),le=(0,v.E)(ie);(0,l.e)(()=>{let Ae=(0,S.k)();fe.add(Ae.dispose);let De=ne.current;if(De&&le.current!=="idle"&&se.current)return Ae.dispose(),re.current(le.current),Ae.add(o(De,oe.current,le.current==="enter",()=>{Ae.dispose(),ae.current(le.current)})),Ae.dispose},[ie])}var P=e(73781),C=e(44067);function x(ne=0){let[ie,oe]=(0,t.useState)(ne),re=(0,p.t)(),ae=(0,t.useCallback)(Ae=>{re.current&&oe(De=>De|Ae)},[ie,re]),se=(0,t.useCallback)(Ae=>!!(ie&Ae),[ie]),fe=(0,t.useCallback)(Ae=>{re.current&&oe(De=>De&~Ae)},[oe,re]),le=(0,t.useCallback)(Ae=>{re.current&&oe(De=>De^Ae)},[oe]);return{flags:ie,addFlag:ae,hasFlag:se,removeFlag:fe,toggleFlag:le}}function D(ne=""){return ne.split(" ").filter(ie=>ie.trim().length>1)}let y=(0,t.createContext)(null);y.displayName="TransitionContext";var M=(ne=>(ne.Visible="visible",ne.Hidden="hidden",ne))(M||{});function T(){let ne=(0,t.useContext)(y);if(ne===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ne}function R(){let ne=(0,t.useContext)(F);if(ne===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return ne}let F=(0,t.createContext)(null);F.displayName="NestingContext";function N(ne){return"children"in ne?N(ne.children):ne.current.filter(({el:ie})=>ie.current!==null).filter(({state:ie})=>ie==="visible").length>0}function U(ne,ie){let oe=(0,v.E)(ne),re=(0,t.useRef)([]),ae=(0,p.t)(),se=(0,s.G)(),fe=(0,P.z)((st,ht=a.l4.Hidden)=>{let gt=re.current.findIndex(({el:Xe})=>Xe===st);gt!==-1&&((0,c.E)(ht,{[a.l4.Unmount](){re.current.splice(gt,1)},[a.l4.Hidden](){re.current[gt].state="hidden"}}),se.microTask(()=>{var Xe;!N(re)&&ae.current&&((Xe=oe.current)==null||Xe.call(oe))}))}),le=(0,P.z)(st=>{let ht=re.current.find(({el:gt})=>gt===st);return ht?ht.state!=="visible"&&(ht.state="visible"):re.current.push({el:st,state:"visible"}),()=>fe(st,a.l4.Unmount)}),Ae=(0,t.useRef)([]),De=(0,t.useRef)(Promise.resolve()),je=(0,t.useRef)({enter:[],leave:[],idle:[]}),Je=(0,P.z)((st,ht,gt)=>{Ae.current.splice(0),ie&&(ie.chains.current[ht]=ie.chains.current[ht].filter(([Xe])=>Xe!==st)),ie==null||ie.chains.current[ht].push([st,new Promise(Xe=>{Ae.current.push(Xe)})]),ie==null||ie.chains.current[ht].push([st,new Promise(Xe=>{Promise.all(je.current[ht].map(([Re,Ne])=>Ne)).then(()=>Xe())})]),ht==="enter"?De.current=De.current.then(()=>ie==null?void 0:ie.wait.current).then(()=>gt(ht)):gt(ht)}),Be=(0,P.z)((st,ht,gt)=>{Promise.all(je.current[ht].splice(0).map(([Xe,Re])=>Re)).then(()=>{var Xe;(Xe=Ae.current.shift())==null||Xe()}).then(()=>gt(ht))});return(0,t.useMemo)(()=>({children:re,register:le,unregister:fe,onStart:Je,onStop:Be,wait:De,chains:je}),[le,fe,re,Je,Be,je,De])}function V(){}let W=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function L(ne){var ie;let oe={};for(let re of W)oe[re]=(ie=ne[re])!=null?ie:V;return oe}function k(ne){let ie=(0,t.useRef)(L(ne));return(0,t.useEffect)(()=>{ie.current=L(ne)},[ne]),ie}let H="div",G=a.AN.RenderStrategy;function q(ne,ie){let Ee=ne,{beforeEnter:oe,afterEnter:re,beforeLeave:ae,afterLeave:se,enter:fe,enterFrom:le,enterTo:Ae,entered:De,leave:je,leaveFrom:Je,leaveTo:Be}=Ee,st=ai(Ee,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),ht=(0,t.useRef)(null),gt=(0,g.T)(ht,ie),Xe=st.unmount?a.l4.Unmount:a.l4.Hidden,{show:Re,appear:Ne,initial:ke}=T(),[ot,Dt]=(0,t.useState)(Re?"visible":"hidden"),ln=R(),{register:ct,unregister:Oe}=ln,Se=(0,t.useRef)(null);(0,t.useEffect)(()=>ct(ht),[ct,ht]),(0,t.useEffect)(()=>{if(Xe===a.l4.Hidden&&ht.current){if(Re&&ot!=="visible"){Dt("visible");return}return(0,c.E)(ot,{hidden:()=>Oe(ht),visible:()=>ct(ht)})}},[ot,ht,ct,Oe,Re,Xe]);let Ze=(0,v.E)({enter:D(fe),enterFrom:D(le),enterTo:D(Ae),entered:D(De),leave:D(je),leaveFrom:D(Je),leaveTo:D(Be)}),Fe=k({beforeEnter:oe,afterEnter:re,beforeLeave:ae,afterLeave:se}),Ke=(0,_.H)();(0,t.useEffect)(()=>{if(Ke&&ot==="visible"&&ht.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[ht,ot,Ke]);let et=ke&&!Ne,Qe=(()=>!Ke||et||Se.current===Re?"idle":Re?"enter":"leave")(),$e=x(0),Te=(0,P.z)(he=>(0,c.E)(he,{enter:()=>{$e.addFlag(i.ZM.Opening),Fe.current.beforeEnter()},leave:()=>{$e.addFlag(i.ZM.Closing),Fe.current.beforeLeave()},idle:()=>{}})),te=(0,P.z)(he=>(0,c.E)(he,{enter:()=>{$e.removeFlag(i.ZM.Opening),Fe.current.afterEnter()},leave:()=>{$e.removeFlag(i.ZM.Closing),Fe.current.afterLeave()},idle:()=>{}})),ue=U(()=>{Dt("hidden"),Oe(ht)},ln);w({container:ht,classes:Ze,direction:Qe,onStart:(0,v.E)(he=>{ue.onStart(ht,he,Te)}),onStop:(0,v.E)(he=>{ue.onStop(ht,he,te),he==="leave"&&!N(ue)&&(Dt("hidden"),Oe(ht))})}),(0,t.useEffect)(()=>{et&&(Xe===a.l4.Hidden?Se.current=null:Se.current=Re)},[Re,et,ot]);let we=st,me={ref:gt};return Ne&&Re&&ke&&(we=No(yr({},we),{className:(0,C.A)(st.className,...Ze.current.enter,...Ze.current.enterFrom)})),t.default.createElement(F.Provider,{value:ue},t.default.createElement(i.up,{value:(0,c.E)(ot,{visible:i.ZM.Open,hidden:i.ZM.Closed})|$e.flags},(0,a.sY)({ourProps:me,theirProps:we,defaultTag:H,features:G,visible:ot==="visible",name:"Transition.Child"})))}function z(ne,ie){let ke=ne,{show:oe,appear:re=!1,unmount:ae}=ke,se=ai(ke,["show","appear","unmount"]),fe=(0,t.useRef)(null),le=(0,g.T)(fe,ie);(0,_.H)();let Ae=(0,i.oJ)();if(oe===void 0&&Ae!==null&&(oe=(Ae&i.ZM.Open)===i.ZM.Open),![!0,!1].includes(oe))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[De,je]=(0,t.useState)(oe?"visible":"hidden"),Je=U(()=>{je("hidden")}),[Be,st]=(0,t.useState)(!0),ht=(0,t.useRef)([oe]);(0,l.e)(()=>{Be!==!1&&ht.current[ht.current.length-1]!==oe&&(ht.current.push(oe),st(!1))},[ht,oe]);let gt=(0,t.useMemo)(()=>({show:oe,appear:re,initial:Be}),[oe,re,Be]);(0,t.useEffect)(()=>{if(oe)je("visible");else if(!N(Je))je("hidden");else{let ot=fe.current;if(!ot)return;let Dt=ot.getBoundingClientRect();Dt.x===0&&Dt.y===0&&Dt.width===0&&Dt.height===0&&je("hidden")}},[oe,Je]);let Xe={unmount:ae},Re=(0,P.z)(()=>{var ot;Be&&st(!1),(ot=ne.beforeEnter)==null||ot.call(ne)}),Ne=(0,P.z)(()=>{var ot;Be&&st(!1),(ot=ne.beforeLeave)==null||ot.call(ne)});return t.default.createElement(F.Provider,{value:Je},t.default.createElement(y.Provider,{value:gt},(0,a.sY)({ourProps:No(yr({},Xe),{as:t.Fragment,children:t.default.createElement(J,No(yr(yr({ref:le},Xe),se),{beforeEnter:Re,beforeLeave:Ne}))}),theirProps:{},defaultTag:t.Fragment,features:G,visible:De==="visible",name:"Transition"})))}function ee(ne,ie){let oe=(0,t.useContext)(y)!==null,re=(0,i.oJ)()!==null;return t.default.createElement(t.default.Fragment,null,!oe&&re?t.default.createElement($,yr({ref:ie},ne)):t.default.createElement(J,yr({ref:ie},ne)))}let $=(0,a.yV)(z),J=(0,a.yV)(q),j=(0,a.yV)(ee),Z=Object.assign($,{Child:j,Root:$})},94192:(K,f,e)=>{"use strict";e.d(f,{G:()=>i});var t=e(98661),a=e(9362);function i(){let[c]=(0,t.useState)(a.k);return(0,t.useEffect)(()=>()=>c.dispose(),[c]),c}},73781:(K,f,e)=>{"use strict";e.d(f,{z:()=>i});var t=e(98661),a=e(3855);let i=function(c){let p=(0,a.E)(c);return t.default.useCallback((...l)=>p.current(...l),[p])}},19946:(K,f,e)=>{"use strict";e.d(f,{M:()=>l});var t=e(98661),a=e(16723),i=e(82180),c=e(77896),p;let l=(p=t.default.useId)!=null?p:function(){let v=(0,i.H)(),[_,g]=t.default.useState(v?()=>c.O.nextId():null);return(0,a.e)(()=>{_===null&&g(c.O.nextId())},[_]),_!=null?""+_:void 0}},14879:(K,f,e)=>{"use strict";e.d(f,{t:()=>i});var t=e(98661),a=e(16723);function i(){let c=(0,t.useRef)(!1);return(0,a.e)(()=>(c.current=!0,()=>{c.current=!1}),[]),c}},16723:(K,f,e)=>{"use strict";e.d(f,{e:()=>i});var t=e(98661),a=e(77896);let i=(c,p)=>{a.O.isServer?(0,t.useEffect)(c,p):(0,t.useLayoutEffect)(c,p)}},3855:(K,f,e)=>{"use strict";e.d(f,{E:()=>i});var t=e(98661),a=e(16723);function i(c){let p=(0,t.useRef)(c);return(0,a.e)(()=>{p.current=c},[c]),p}},82180:(K,f,e)=>{"use strict";e.d(f,{H:()=>i});var t=e(98661),a=e(77896);function i(){let[c,p]=(0,t.useState)(a.O.isHandoffComplete);return c&&a.O.isHandoffComplete===!1&&p(!1),(0,t.useEffect)(()=>{c!==!0&&p(!0)},[c]),(0,t.useEffect)(()=>a.O.handoff(),[]),c}},23784:(K,f,e)=>{"use strict";e.d(f,{T:()=>p,h:()=>c});var t=e(98661),a=e(73781);let i=Symbol();function c(l,v=!0){return Object.assign(l,{[i]:v})}function p(...l){let v=(0,t.useRef)(l);(0,t.useEffect)(()=>{v.current=l},[l]);let _=(0,a.z)(g=>{for(let E of v.current)E!=null&&(typeof E=="function"?E(g):E.current=g)});return l.every(g=>g==null||(g==null?void 0:g[i]))?void 0:_}},46045:(K,f,e)=>{"use strict";e.d(f,{A:()=>i,_:()=>p});var t=e(12351);let a="div";var i=(l=>(l[l.None=1]="None",l[l.Focusable=2]="Focusable",l[l.Hidden=4]="Hidden",l))(i||{});function c(l,v){let S=l,{features:_=1}=S,g=ai(S,["features"]),E={ref:v,"aria-hidden":(_&2)===2?!0:void 0,style:yr({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(_&4)===4&&(_&2)!==2&&{display:"none"})};return(0,t.sY)({ourProps:E,theirProps:g,slot:{},defaultTag:a,name:"Hidden"})}let p=(0,t.yV)(c)},16567:(K,f,e)=>{"use strict";e.d(f,{ZM:()=>i,oJ:()=>c,up:()=>p});var t=e(98661);let a=(0,t.createContext)(null);a.displayName="OpenClosedContext";var i=(l=>(l[l.Open=1]="Open",l[l.Closed=2]="Closed",l[l.Closing=4]="Closing",l[l.Opening=8]="Opening",l))(i||{});function c(){return(0,t.useContext)(a)}function p({value:l,children:v}){return t.default.createElement(a.Provider,{value:l},v)}},64103:(K,f,e)=>{"use strict";e.d(f,{P:()=>t});function t(i){let c=i.parentElement,p=null;for(;c&&!(c instanceof HTMLFieldSetElement);)c instanceof HTMLLegendElement&&(p=c),c=c.parentElement;let l=(c==null?void 0:c.getAttribute("disabled"))==="";return l&&a(p)?!1:l}function a(i){if(!i)return!1;let c=i.previousElementSibling;for(;c!==null;){if(c instanceof HTMLLegendElement)return!1;c=c.previousElementSibling}return!0}},44067:(K,f,e)=>{"use strict";e.d(f,{A:()=>t});function t(...a){return a.filter(Boolean).join(" ")}},9362:(K,f,e)=>{"use strict";e.d(f,{k:()=>a});var t=e(81021);function a(){let i=[],c={addEventListener(p,l,v,_){return p.addEventListener(l,v,_),c.add(()=>p.removeEventListener(l,v,_))},requestAnimationFrame(...p){let l=requestAnimationFrame(...p);return c.add(()=>cancelAnimationFrame(l))},nextFrame(...p){return c.requestAnimationFrame(()=>c.requestAnimationFrame(...p))},setTimeout(...p){let l=setTimeout(...p);return c.add(()=>clearTimeout(l))},microTask(...p){let l={current:!0};return(0,t.Y)(()=>{l.current&&p[0]()}),c.add(()=>{l.current=!1})},style(p,l,v){let _=p.style.getPropertyValue(l);return Object.assign(p.style,{[l]:v}),this.add(()=>{Object.assign(p.style,{[l]:_})})},group(p){let l=a();return p(l),this.add(()=>l.dispose())},add(p){return i.push(p),()=>{let l=i.indexOf(p);if(l>=0)for(let v of i.splice(l,1))v()}},dispose(){for(let p of i.splice(0))p()}};return c}},77896:(K,f,e)=>{"use strict";e.d(f,{O:()=>p});var t=Object.defineProperty,a=(l,v,_)=>v in l?t(l,v,{enumerable:!0,configurable:!0,writable:!0,value:_}):l[v]=_,i=(l,v,_)=>(a(l,typeof v!="symbol"?v+"":v,_),_);class c{constructor(){i(this,"current",this.detect()),i(this,"handoffState","pending"),i(this,"currentId",0)}set(v){this.current!==v&&(this.handoffState="pending",this.currentId=0,this.current=v)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let p=new c},32984:(K,f,e)=>{"use strict";e.d(f,{E:()=>t});function t(a,i,...c){if(a in i){let l=i[a];return typeof l=="function"?l(...c):l}let p=new Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(i).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,t),p}},81021:(K,f,e)=>{"use strict";e.d(f,{Y:()=>t});function t(a){typeof queueMicrotask=="function"?queueMicrotask(a):Promise.resolve().then(a).catch(i=>setTimeout(()=>{throw i}))}},12351:(K,f,e)=>{"use strict";e.d(f,{AN:()=>c,l4:()=>p,oA:()=>S,sY:()=>l,yV:()=>E});var t=e(98661),a=e(44067),i=e(32984),c=(A=>(A[A.None=0]="None",A[A.RenderStrategy=1]="RenderStrategy",A[A.Static=2]="Static",A))(c||{}),p=(A=>(A[A.Unmount=0]="Unmount",A[A.Hidden=1]="Hidden",A))(p||{});function l({ourProps:A,theirProps:u,slot:o,defaultTag:s,features:w,visible:P=!0,name:C}){let x=g(u,A);if(P)return v(x,o,s,C);let D=w!=null?w:0;if(D&2){let y=x,{static:T=!1}=y,R=ai(y,["static"]);if(T)return v(R,o,s,C)}if(D&1){let M=x,{unmount:T=!0}=M,R=ai(M,["unmount"]);return(0,i.E)(T?0:1,{[0](){return null},[1](){return v(No(yr({},R),{hidden:!0,style:{display:"none"}}),o,s,C)}})}return v(x,o,s,C)}function v(A,u={},o,s){let T=O(A,["unmount","static"]),{as:w=o,children:P,refName:C="ref"}=T,x=ai(T,["as","children","refName"]),D=A.ref!==void 0?{[C]:A.ref}:{},y=typeof P=="function"?P(u):P;"className"in x&&x.className&&typeof x.className=="function"&&(x.className=x.className(u));let M={};if(u){let R=!1,F=[];for(let[N,U]of Object.entries(u))typeof U=="boolean"&&(R=!0),U===!0&&F.push(N);R&&(M["data-headlessui-state"]=F.join(" "))}if(w===t.Fragment&&Object.keys(S(x)).length>0){if(!(0,t.isValidElement)(y)||Array.isArray(y)&&y.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(x).map(U=>`  - ${U}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(U=>`  - ${U}`).join(`
`)].join(`
`));let R=y.props,F=typeof(R==null?void 0:R.className)=="function"?(...U)=>(0,a.A)(R==null?void 0:R.className(...U),x.className):(0,a.A)(R==null?void 0:R.className,x.className),N=F?{className:F}:{};return(0,t.cloneElement)(y,Object.assign({},g(y.props,S(O(x,["ref"]))),M,D,_(y.ref,D.ref),N))}return(0,t.createElement)(w,Object.assign({},O(x,["ref"]),w!==t.Fragment&&D,w!==t.Fragment&&M),y)}function _(...A){return{ref:A.every(u=>u==null)?void 0:u=>{for(let o of A)o!=null&&(typeof o=="function"?o(u):o.current=u)}}}function g(...A){var u;if(A.length===0)return{};if(A.length===1)return A[0];let o={},s={};for(let w of A)for(let P in w)P.startsWith("on")&&typeof w[P]=="function"?((u=s[P])!=null||(s[P]=[]),s[P].push(w[P])):o[P]=w[P];if(o.disabled||o["aria-disabled"])return Object.assign(o,Object.fromEntries(Object.keys(s).map(w=>[w,void 0])));for(let w in s)Object.assign(o,{[w](P,...C){let x=s[w];for(let D of x){if((P instanceof Event||(P==null?void 0:P.nativeEvent)instanceof Event)&&P.defaultPrevented)return;D(P,...C)}}});return o}function E(A){var u;return Object.assign((0,t.forwardRef)(A),{displayName:(u=A.displayName)!=null?u:A.name})}function S(A){let u=Object.assign({},A);for(let o in u)u[o]===void 0&&delete u[o];return u}function O(A,u=[]){let o=Object.assign({},A);for(let s of u)s in o&&delete o[s];return o}},46526:(K,f,e)=>{"use strict";e.d(f,{X0:()=>gr});const t=nt=>nt.toLowerCase(),a=/^\s*/g,i=nt=>nt.replace(a,""),c=/([A-Z])/g,p=(nt,Ge)=>i(nt.replace(c,St=>`${Ge}${t(St)}`)),l=nt=>{const Ge=unescape(encodeURIComponent(nt)),St=Ge.length,nn=new Uint8Array(St);for(let Nn=0;Nn<St;Nn++)nn[Nn]=Ge.codePointAt(Nn);return nn},v=typeof TextEncoder!="undefined"?new TextEncoder:null,g=v?nt=>v.encode(nt):l;let E=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});E&&E.decode(new Uint8Array).length===1&&(E=null);const S=()=>new Map,O=nt=>nt===void 0?null:nt;class A{constructor(){this.map=new Map}setItem(Ge,St){this.map.set(Ge,St)}getItem(Ge){return this.map.get(Ge)}}let u=new A,o=!0;try{typeof localStorage!="undefined"&&(u=localStorage,o=!1)}catch(nt){}const s=u,w=(nt,Ge)=>Ge.includes(nt),P=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name);typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let C;const x=()=>{if(C===void 0)if(P){C=S();const nt=process.argv;let Ge=null;for(let St=0;St<nt.length;St++){const nn=nt[St];nn[0]==="-"?(Ge!==null&&C.set(Ge,""),Ge=nn):Ge!==null&&(C.set(Ge,nn),Ge=null)}Ge!==null&&C.set(Ge,"")}else typeof location=="object"?(C=S(),(location.search||"?").slice(1).split("&").forEach(nt=>{if(nt.length!==0){const[Ge,St]=nt.split("=");C.set(`--${p(Ge,"-")}`,St),C.set(`-${p(Ge,"-")}`,St)}})):C=S();return C},D=nt=>x().has(nt),y=nt=>O(P?process.env[nt.toUpperCase()]:s.getItem(nt));(nt=>D("--"+nt)||y(nt)!==null)("production");const T=P&&w(process.env.FORCE_COLOR,["true","1","2"]);!D("no-colors")&&(!P||process.stdout.isTTY||T)&&(!P||D("color")||T||y("COLORTERM")!==null||(y("TERM")||"").includes("color"));const R=128,F=127,N=Math.floor,U=(nt,Ge)=>nt<Ge?nt:Ge,V=(nt,Ge)=>nt>Ge?nt:Ge,W=Number.MAX_SAFE_INTEGER,L=nt=>new Error(nt),k=L("Unexpected end of array"),H=L("Integer out of Range"),G=(nt,Ge)=>{const St=Z(nt.arr.buffer,nt.pos+nt.arr.byteOffset,Ge);return nt.pos+=Ge,St},q=nt=>G(nt,ee(nt)),z=nt=>nt.arr[nt.pos++],ee=nt=>{let Ge=0,St=1;const nn=nt.arr.length;for(;nt.pos<nn;){const Nn=nt.arr[nt.pos++];if(Ge=Ge+(Nn&F)*St,St*=128,Nn<R)return Ge;if(Ge>W)throw H}throw k},$=nt=>{let Ge=ee(nt);if(Ge===0)return"";{let St=String.fromCodePoint(z(nt));if(--Ge<100)for(;Ge--;)St+=String.fromCodePoint(z(nt));else for(;Ge>0;){const nn=Ge<1e4?Ge:1e4,Nn=nt.arr.subarray(nt.pos,nt.pos+nn);nt.pos+=nn,St+=String.fromCodePoint.apply(null,Nn),Ge-=nn}return decodeURIComponent(escape(St))}},J=nt=>E.decode(q(nt)),j=null,Z=(nt,Ge,St)=>new Uint8Array(nt,Ge,St),ne=(nt,Ge)=>{const St=nt.cbuf.length;nt.cpos===St&&(nt.bufs.push(nt.cbuf),nt.cbuf=new Uint8Array(St*2),nt.cpos=0),nt.cbuf[nt.cpos++]=Ge},ie=(nt,Ge)=>{for(;Ge>F;)ne(nt,R|F&Ge),Ge=N(Ge/128);ne(nt,F&Ge)},oe=new Uint8Array(3e4),re=oe.length/3,ae=(nt,Ge)=>{if(Ge.length<re){const St=v.encodeInto(Ge,oe).written||0;ie(nt,St);for(let nn=0;nn<St;nn++)ne(nt,oe[nn])}else Ae(nt,g(Ge))},se=(nt,Ge)=>{const St=unescape(encodeURIComponent(Ge)),nn=St.length;ie(nt,nn);for(let Nn=0;Nn<nn;Nn++)ne(nt,St.codePointAt(Nn))},fe=v&&v.encodeInto?ae:se,le=(nt,Ge)=>{const St=nt.cbuf.length,nn=nt.cpos,Nn=U(St-nn,Ge.length),hr=Ge.length-Nn;nt.cbuf.set(Ge.subarray(0,Nn),nn),nt.cpos+=Nn,hr>0&&(nt.bufs.push(nt.cbuf),nt.cbuf=new Uint8Array(V(St*2,hr)),nt.cbuf.set(Ge.subarray(Nn)),nt.cpos=hr)},Ae=(nt,Ge)=>{ie(nt,Ge.byteLength),le(nt,Ge)};var De;(function(nt){nt[nt.Token=0]="Token",nt[nt.PermissionDenied=1]="PermissionDenied",nt[nt.Authenticated=2]="Authenticated"})(De||(De={}));const je=(nt,Ge)=>{ie(nt,De.Token),fe(nt,Ge)},Je=(nt,Ge)=>{ie(nt,De.PermissionDenied),fe(nt,Ge)},Be=(nt,Ge)=>{ie(nt,De.Authenticated),fe(nt,Ge)},st=(nt,Ge,St)=>{switch(ee(nt)){case De.PermissionDenied:{Ge(j(nt));break}case De.Authenticated:{St(j(nt));break}}},ht={code:1009,reason:"Message Too Big"},gt={code:4205,reason:"Reset Connection"},Xe={code:4401,reason:"Unauthorized"},Re={code:4403,reason:"Forbidden"},Ne={code:4408,reason:"Connection Timeout"},ke=nt=>Array.from(nt.entries()).map(([Ge,St])=>yr({clientId:Ge},St));var ot;(function(nt){nt[nt.Connecting=0]="Connecting",nt[nt.Open=1]="Open",nt[nt.Closing=2]="Closing",nt[nt.Closed=3]="Closed"})(ot||(ot={}));const Dt=()=>new Map,ln=(nt,Ge,St)=>{let nn=nt.get(Ge);return nn===void 0&&nt.set(Ge,nn=St()),nn},ct=()=>new Set,Oe=Array.from,Se=String.fromCharCode,Ze=nt=>nt.toLowerCase(),Fe=/^\s*/g,Ke=nt=>nt.replace(Fe,""),et=/([A-Z])/g,Qe=(nt,Ge)=>Ke(nt.replace(et,St=>`${Ge}${Ze(St)}`)),$e=nt=>{const Ge=unescape(encodeURIComponent(nt)),St=Ge.length,nn=new Uint8Array(St);for(let Nn=0;Nn<St;Nn++)nn[Nn]=Ge.codePointAt(Nn);return nn},Te=typeof TextEncoder!="undefined"?new TextEncoder:null,ue=Te?nt=>Te.encode(nt):$e;let we=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});we&&we.decode(new Uint8Array).length===1&&(we=null);const me=nt=>nt===void 0?null:nt;class Ee{constructor(){this.map=new Map}setItem(Ge,St){this.map.set(Ge,St)}getItem(Ge){return this.map.get(Ge)}}let he=new Ee,xe=!0;try{typeof localStorage!="undefined"&&(he=localStorage,xe=!1)}catch(nt){}const Ve=he,Pe=nt=>xe||addEventListener("storage",nt),Ie=nt=>xe||removeEventListener("storage",nt),ze=Object.keys,tt=(nt,Ge)=>{const St=[];for(const nn in nt)St.push(Ge(nt[nn],nn));return St},Le=nt=>ze(nt).length,It=(nt,Ge)=>Object.prototype.hasOwnProperty.call(nt,Ge),on=(nt,Ge)=>nt===Ge,zt=(nt,Ge)=>{if(nt==null||Ge==null)return on(nt,Ge);if(nt.constructor!==Ge.constructor)return!1;if(nt===Ge)return!0;switch(nt.constructor){case ArrayBuffer:nt=new Uint8Array(nt),Ge=new Uint8Array(Ge);case Uint8Array:{if(nt.byteLength!==Ge.byteLength)return!1;for(let St=0;St<nt.length;St++)if(nt[St]!==Ge[St])return!1;break}case Set:{if(nt.size!==Ge.size)return!1;for(const St of nt)if(!Ge.has(St))return!1;break}case Map:{if(nt.size!==Ge.size)return!1;for(const St of nt.keys())if(!Ge.has(St)||!zt(nt.get(St),Ge.get(St)))return!1;break}case Object:if(Le(nt)!==Le(Ge))return!1;for(const St in nt)if(!It(nt,St)||!zt(nt[St],Ge[St]))return!1;break;case Array:if(nt.length!==Ge.length)return!1;for(let St=0;St<nt.length;St++)if(!zt(nt[St],Ge[St]))return!1;break;default:return!1}return!0},$t=(nt,Ge)=>Ge.includes(nt),Bt=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name),xn=typeof window!="undefined"&&typeof document!="undefined"&&!Bt;typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let Hn;const ir=()=>{if(Hn===void 0)if(Bt){Hn=Dt();const nt=process.argv;let Ge=null;for(let St=0;St<nt.length;St++){const nn=nt[St];nn[0]==="-"?(Ge!==null&&Hn.set(Ge,""),Ge=nn):Ge!==null&&(Hn.set(Ge,nn),Ge=null)}Ge!==null&&Hn.set(Ge,"")}else typeof location=="object"?(Hn=Dt(),(location.search||"?").slice(1).split("&").forEach(nt=>{if(nt.length!==0){const[Ge,St]=nt.split("=");Hn.set(`--${Qe(Ge,"-")}`,St),Hn.set(`-${Qe(Ge,"-")}`,St)}})):Hn=Dt();return Hn},Vn=nt=>ir().has(nt),_t=nt=>me(Bt?process.env[nt.toUpperCase()]:Ve.getItem(nt));(nt=>Vn("--"+nt)||_t(nt)!==null)("production");const Ce=Bt&&$t(process.env.FORCE_COLOR,["true","1","2"]);!Vn("no-colors")&&(!Bt||process.stdout.isTTY||Ce)&&(!Bt||Vn("color")||Ce||_t("COLORTERM")!==null||(_t("TERM")||"").includes("color"));const be=Math.floor,We=(nt,Ge)=>nt<Ge?nt:Ge,qe=(nt,Ge)=>nt>Ge?nt:Ge,Et=64,en=128,In=63,qn=127,cr=Number.MAX_SAFE_INTEGER;class pr{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const wr=()=>new pr,Vr=nt=>{let Ge=nt.cpos;for(let St=0;St<nt.bufs.length;St++)Ge+=nt.bufs[St].length;return Ge},On=nt=>{const Ge=new Uint8Array(Vr(nt));let St=0;for(let nn=0;nn<nt.bufs.length;nn++){const Nn=nt.bufs[nn];Ge.set(Nn,St),St+=Nn.length}return Ge.set(rr(nt.cbuf.buffer,0,nt.cpos),St),Ge},pt=(nt,Ge)=>{const St=nt.cbuf.length;nt.cpos===St&&(nt.bufs.push(nt.cbuf),nt.cbuf=new Uint8Array(St*2),nt.cpos=0),nt.cbuf[nt.cpos++]=Ge},hn=(nt,Ge)=>{for(;Ge>qn;)pt(nt,en|qn&Ge),Ge=be(Ge/128);pt(nt,qn&Ge)},Dn=new Uint8Array(3e4),Gn=Dn.length/3,Kt=(nt,Ge)=>{if(Ge.length<Gn){const St=Te.encodeInto(Ge,Dn).written||0;hn(nt,St);for(let nn=0;nn<St;nn++)pt(nt,Dn[nn])}else Mt(nt,ue(Ge))},wt=(nt,Ge)=>{const St=unescape(encodeURIComponent(Ge)),nn=St.length;hn(nt,nn);for(let Nn=0;Nn<nn;Nn++)pt(nt,St.codePointAt(Nn))},Lt=Te&&Te.encodeInto?Kt:wt,mt=(nt,Ge)=>{const St=nt.cbuf.length,nn=nt.cpos,Nn=We(St-nn,Ge.length),hr=Ge.length-Nn;nt.cbuf.set(Ge.subarray(0,Nn),nn),nt.cpos+=Nn,hr>0&&(nt.bufs.push(nt.cbuf),nt.cbuf=new Uint8Array(qe(St*2,hr)),nt.cbuf.set(Ge.subarray(Nn)),nt.cpos=hr)},Mt=(nt,Ge)=>{hn(nt,Ge.byteLength),mt(nt,Ge)},Jt=nt=>new Error(nt),pn=Jt("Unexpected end of array"),An=Jt("Integer out of Range");class Fn{constructor(Ge){this.arr=Ge,this.pos=0}}const Un=nt=>new Fn(nt),Gt=(nt,Ge)=>{const St=rr(nt.arr.buffer,nt.pos+nt.arr.byteOffset,Ge);return nt.pos+=Ge,St},Zt=nt=>Gt(nt,Qn(nt)),_n=nt=>nt.arr[nt.pos++],Qn=nt=>{let Ge=0,St=1;const nn=nt.arr.length;for(;nt.pos<nn;){const Nn=nt.arr[nt.pos++];if(Ge=Ge+(Nn&qn)*St,St*=128,Nn<en)return Ge;if(Ge>cr)throw An}throw pn},At=nt=>{let Ge=nt.arr[nt.pos++],St=Ge&In,nn=64;const Nn=(Ge&Et)>0?-1:1;if(!(Ge&en))return Nn*St;const hr=nt.arr.length;for(;nt.pos<hr;){if(Ge=nt.arr[nt.pos++],St=St+(Ge&qn)*nn,nn*=128,Ge<en)return Nn*St;if(St>cr)throw An}throw pn},fn=nt=>{let Ge=Qn(nt);if(Ge===0)return"";{let St=String.fromCodePoint(_n(nt));if(--Ge<100)for(;Ge--;)St+=String.fromCodePoint(_n(nt));else for(;Ge>0;){const nn=Ge<1e4?Ge:1e4,Nn=nt.arr.subarray(nt.pos,nt.pos+nn);nt.pos+=nn,St+=String.fromCodePoint.apply(null,Nn),Ge-=nn}return decodeURIComponent(escape(St))}},gn=nt=>we.decode(Zt(nt)),Mn=null,Wn=nt=>new Uint8Array(nt),rr=(nt,Ge,St)=>new Uint8Array(nt,Ge,St),Zn=nt=>new Uint8Array(nt),ur=nt=>{let Ge="";for(let St=0;St<nt.byteLength;St++)Ge+=Se(nt[St]);return btoa(Ge)},Ar=nt=>Buffer.from(nt.buffer,nt.byteOffset,nt.byteLength).toString("base64"),so=nt=>{const Ge=atob(nt),St=Wn(Ge.length);for(let nn=0;nn<Ge.length;nn++)St[nn]=Ge.charCodeAt(nn);return St},io=nt=>{const Ge=Buffer.from(nt,"base64");return new Uint8Array(Ge.buffer,Ge.byteOffset,Ge.byteLength)},Qr=xn?ur:Ar,Eo=xn?so:io,So=new Map;class Wt{constructor(Ge){this.room=Ge,this.onmessage=null,this._onChange=St=>St.key===Ge&&this.onmessage!==null&&this.onmessage({data:Eo(St.newValue||"")}),Pe(this._onChange)}postMessage(Ge){Ve.setItem(this.room,Qr(Zn(Ge)))}close(){Ie(this._onChange)}}const jn=typeof BroadcastChannel=="undefined"?Wt:BroadcastChannel,bt=nt=>ln(So,nt,()=>{const Ge=ct(),St=new jn(nt);return St.onmessage=nn=>Ge.forEach(Nn=>Nn(nn.data,"broadcastchannel")),{bc:St,subs:Ge}}),Ut=(nt,Ge)=>(bt(nt).subs.add(Ge),Ge),qt=(nt,Ge)=>{const St=bt(nt),nn=St.subs.delete(Ge);return nn&&St.subs.size===0&&(St.bc.close(),So.delete(nt)),nn},Sn=(nt,Ge,St=null)=>{const nn=bt(nt);nn.bc.postMessage(Ge),nn.subs.forEach(Nn=>Nn(Ge,St))},at=()=>{let nt=!0;return(Ge,St)=>{if(nt){nt=!1;try{Ge()}finally{nt=!0}}else St!==void 0&&St()}},Pt=Date.now;class jt{constructor(){this._observers=Dt()}on(Ge,St){ln(this._observers,Ge,ct).add(St)}once(Ge,St){const nn=(...Nn)=>{this.off(Ge,nn),St(...Nn)};this.on(Ge,nn)}off(Ge,St){const nn=this._observers.get(Ge);nn!==void 0&&(nn.delete(St),nn.size===0&&this._observers.delete(Ge))}emit(Ge,St){return Oe((this._observers.get(Ge)||Dt()).values()).forEach(nn=>nn(...St))}destroy(){this._observers=Dt()}}const vn=3e4;class Pn extends null{constructor(Ge){super(),this.doc=Ge,this.clientID=Ge.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const St=Pt();this.getLocalState()!==null&&vn/2<=St-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const nn=[];this.meta.forEach((Nn,hr)=>{hr!==this.clientID&&vn<=St-Nn.lastUpdated&&this.states.has(hr)&&nn.push(hr)}),nn.length>0&&Rn(this,nn,"timeout")},be(vn/10)),Ge.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(Ge){const St=this.clientID,nn=this.meta.get(St),Nn=nn===void 0?0:nn.clock+1,hr=this.states.get(St);Ge===null?this.states.delete(St):this.states.set(St,Ge),this.meta.set(St,{clock:Nn,lastUpdated:Pt()});const jr=[],Xr=[],no=[],Mo=[];Ge===null?Mo.push(St):hr==null?Ge!=null&&jr.push(St):(Xr.push(St),zt(hr,Ge)||no.push(St)),(jr.length>0||no.length>0||Mo.length>0)&&this.emit("change",[{added:jr,updated:no,removed:Mo},"local"]),this.emit("update",[{added:jr,updated:Xr,removed:Mo},"local"])}setLocalStateField(Ge,St){const nn=this.getLocalState();nn!==null&&this.setLocalState(No(yr({},nn),{[Ge]:St}))}getStates(){return this.states}}const Rn=(nt,Ge,St)=>{const nn=[];for(let Nn=0;Nn<Ge.length;Nn++){const hr=Ge[Nn];if(nt.states.has(hr)){if(nt.states.delete(hr),hr===nt.clientID){const jr=nt.meta.get(hr);nt.meta.set(hr,{clock:jr.clock+1,lastUpdated:Pt()})}nn.push(hr)}}nn.length>0&&(nt.emit("change",[{added:[],updated:[],removed:nn},St]),nt.emit("update",[{added:[],updated:[],removed:nn},St]))},$n=(nt,Ge,St=nt.states)=>{const nn=Ge.length,Nn=wr();hn(Nn,nn);for(let hr=0;hr<nn;hr++){const jr=Ge[hr],Xr=St.get(jr)||null,no=nt.meta.get(jr).clock;hn(Nn,jr),hn(Nn,no),Lt(Nn,JSON.stringify(Xr))}return On(Nn)},ar=(nt,Ge,St)=>{const nn=Un(Ge),Nn=Pt(),hr=[],jr=[],Xr=[],no=[],Mo=Qn(nn);for(let ko=0;ko<Mo;ko++){const Bo=Qn(nn);let Wo=Qn(nn);const Jo=JSON.parse(Mn(nn)),Ho=nt.meta.get(Bo),Go=nt.states.get(Bo),Rt=Ho===void 0?0:Ho.clock;(Rt<Wo||Rt===Wo&&Jo===null&&nt.states.has(Bo))&&(Jo===null?Bo===nt.clientID&&nt.getLocalState()!=null?Wo++:nt.states.delete(Bo):nt.states.set(Bo,Jo),nt.meta.set(Bo,{clock:Wo,lastUpdated:Nn}),Ho===void 0&&Jo!==null?hr.push(Bo):Ho!==void 0&&Jo===null?no.push(Bo):Jo!==null&&(zt(Jo,Go)||Xr.push(Bo),jr.push(Bo)))}(hr.length>0||Xr.length>0||no.length>0)&&nt.emit("change",[{added:hr,updated:Xr,removed:no},St]),(hr.length>0||jr.length>0||no.length>0)&&nt.emit("update",[{added:hr,updated:jr,removed:no},St])};class lr{constructor(){this.callbacks={}}on(Ge,St){return this.callbacks[Ge]||(this.callbacks[Ge]=[]),this.callbacks[Ge].push(St),this}emit(Ge,...St){const nn=this.callbacks[Ge];return nn&&nn.forEach(Nn=>Nn.apply(this,St)),this}off(Ge,St){const nn=this.callbacks[Ge];return nn&&(St?this.callbacks[Ge]=nn.filter(Nn=>Nn!==St):delete this.callbacks[Ge]),this}removeAllListeners(){this.callbacks={}}}const sr=nt=>tt(nt,(Ge,St)=>`${encodeURIComponent(St)}=${encodeURIComponent(Ge)}`).join("&");var fr;(function(nt){nt[nt.Sync=0]="Sync",nt[nt.Awareness=1]="Awareness",nt[nt.Auth=2]="Auth",nt[nt.QueryAwareness=3]="QueryAwareness",nt[nt.Stateless=5]="Stateless",nt[nt.CLOSE=7]="CLOSE",nt[nt.SyncStatus=8]="SyncStatus"})(fr||(fr={}));var gr;(function(nt){nt.Connecting="connecting",nt.Connected="connected",nt.Disconnected="disconnected"})(gr||(gr={}));class Sr extends null{constructor(Ge){super(),this.messageQueue=[],this.configuration={url:"",document:void 0,WebSocketPolyfill:void 0,parameters:{},connect:!0,broadcast:!0,forceSyncInterval:!1,messageReconnectTimeout:3e4,delay:1e3,initialDelay:0,factor:2,maxAttempts:0,minDelay:1e3,maxDelay:3e4,jitter:!0,timeout:0,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,quiet:!1},this.subscribedToBroadcastChannel=!1,this.webSocket=null,this.shouldConnect=!0,this.status=gr.Disconnected,this.lastMessageReceived=0,this.mux=at(),this.intervals={forceSync:null,connectionChecker:null},this.connectionAttempt=null,this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.boundConnect=this.connect.bind(this),this.closeTries=0,this.setConfiguration(Ge),this.configuration.WebSocketPolyfill=Ge.WebSocketPolyfill?Ge.WebSocketPolyfill:WebSocket,this.on("open",this.configuration.onOpen),this.on("open",this.onOpen.bind(this)),this.on("connect",this.configuration.onConnect),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("status",this.configuration.onStatus),this.on("status",this.onStatus.bind(this)),this.on("disconnect",this.configuration.onDisconnect),this.on("close",this.configuration.onClose),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("close",this.onClose.bind(this)),this.on("message",this.onMessage.bind(this)),this.registerEventListeners(),this.intervals.connectionChecker=setInterval(this.checkConnection.bind(this),this.configuration.messageReconnectTimeout/10),typeof Ge.connect!="undefined"&&(this.shouldConnect=Ge.connect),this.shouldConnect&&this.connect()}onOpen(Ge){return Qi(this,null,function*(){this.receivedOnOpenPayload=Ge})}onStatus(Ge){return Qi(this,null,function*(){this.receivedOnStatusPayload=Ge})}attach(Ge){this.status===gr.Disconnected&&this.shouldConnect&&this.connect(),this.receivedOnOpenPayload&&Ge.onOpen(this.receivedOnOpenPayload),this.receivedOnStatusPayload&&Ge.onStatus(this.receivedOnStatusPayload)}detach(Ge){}setConfiguration(Ge={}){this.configuration=yr(yr({},this.configuration),Ge)}connect(){return Qi(this,null,function*(){if(this.status===gr.Connected)return;this.cancelWebsocketRetry&&(this.cancelWebsocketRetry(),this.cancelWebsocketRetry=void 0),this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.shouldConnect=!0;const Ge=()=>{let Nn=!1;return{retryPromise:retry(this.createWebSocketConnection.bind(this),{delay:this.configuration.delay,initialDelay:this.configuration.initialDelay,factor:this.configuration.factor,maxAttempts:this.configuration.maxAttempts,minDelay:this.configuration.minDelay,maxDelay:this.configuration.maxDelay,jitter:this.configuration.jitter,timeout:this.configuration.timeout,beforeAttempt:jr=>{(!this.shouldConnect||Nn)&&jr.abort()}}).catch(jr=>{if(jr&&jr.code!=="ATTEMPT_ABORTED")throw jr}),cancelFunc:()=>{Nn=!0}}},{retryPromise:St,cancelFunc:nn}=Ge();return this.cancelWebsocketRetry=nn,St})}createWebSocketConnection(){return new Promise((Ge,St)=>{this.webSocket&&(this.messageQueue=[],this.webSocket.close(),this.webSocket=null),this.lastMessageReceived=0;const nn=new this.configuration.WebSocketPolyfill(this.url);nn.binaryType="arraybuffer",nn.onmessage=Nn=>this.emit("message",Nn),nn.onclose=Nn=>this.emit("close",{event:Nn}),nn.onopen=Nn=>this.emit("open",Nn),nn.onerror=Nn=>{St(Nn)},this.webSocket=nn,this.status=gr.Connecting,this.emit("status",{status:gr.Connecting}),this.connectionAttempt={resolve:Ge,reject:St}})}onMessage(Ge){this.resolveConnectionAttempt(),this.lastMessageReceived=Pt()}resolveConnectionAttempt(){this.connectionAttempt&&(this.connectionAttempt.resolve(),this.connectionAttempt=null,this.status=gr.Connected,this.emit("status",{status:gr.Connected}),this.emit("connect"),this.messageQueue.forEach(Ge=>this.send(Ge)),this.messageQueue=[])}stopConnectionAttempt(){this.connectionAttempt=null}rejectConnectionAttempt(){var Ge;(Ge=this.connectionAttempt)===null||Ge===void 0||Ge.reject(),this.connectionAttempt=null}checkConnection(){var Ge;this.status===gr.Connected&&this.lastMessageReceived&&(this.configuration.messageReconnectTimeout>=Pt()-this.lastMessageReceived||(this.closeTries+=1,this.closeTries>2?(this.onClose({event:{code:4408,reason:"forced"}}),this.closeTries=0):((Ge=this.webSocket)===null||Ge===void 0||Ge.close(),this.messageQueue=[])))}registerEventListeners(){typeof window!="undefined"&&window.addEventListener("online",this.boundConnect)}get serverUrl(){for(;this.configuration.url[this.configuration.url.length-1]==="/";)return this.configuration.url.slice(0,this.configuration.url.length-1);return this.configuration.url}get url(){const Ge=sr(this.configuration.parameters);return`${this.serverUrl}${Ge.length===0?"":`?${Ge}`}`}disconnect(){if(this.shouldConnect=!1,this.webSocket!==null)try{this.webSocket.close(),this.messageQueue=[]}catch(Ge){}}send(Ge){var St;((St=this.webSocket)===null||St===void 0?void 0:St.readyState)===WsReadyStates.Open?this.webSocket.send(Ge):this.messageQueue.push(Ge)}onClose({event:Ge}){if(this.closeTries=0,this.webSocket=null,this.status===gr.Connected&&(this.status=gr.Disconnected,this.emit("status",{status:gr.Disconnected}),this.emit("disconnect",{event:Ge})),Ge.code===Unauthorized.code&&(Ge.reason===Unauthorized.reason?console.warn("[HocuspocusProvider] An authentication token is required, but you didn\u2019t send one. Try adding a `token` to your HocuspocusProvider configuration. Won\u2019t try again."):console.warn(`[HocuspocusProvider] Connection closed with status Unauthorized: ${Ge.reason}`),this.shouldConnect=!1),Ge.code===Forbidden.code&&!this.configuration.quiet){console.warn("[HocuspocusProvider] The provided authentication token isn\u2019t allowed to connect to this server. Will try again.");return}Ge.code===MessageTooBig.code&&(console.warn(`[HocuspocusProvider] Connection closed with status MessageTooBig: ${Ge.reason}`),this.shouldConnect=!1),this.connectionAttempt?this.rejectConnectionAttempt():this.shouldConnect&&this.connect(),!this.shouldConnect&&this.status!==gr.Disconnected&&(this.status=gr.Disconnected,this.emit("status",{status:gr.Disconnected}),this.emit("disconnect",{event:Ge}))}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),clearInterval(this.intervals.connectionChecker),this.stopConnectionAttempt(),this.disconnect(),this.removeAllListeners(),typeof window!="undefined"&&window.removeEventListener("online",this.boundConnect)}}class Gr{constructor(Ge){this.data=Ge,this.encoder=wr(),this.decoder=Un(new Uint8Array(this.data))}readVarUint(){return Qn(this.decoder)}readVarString(){return Mn(this.decoder)}readVarUint8Array(){return Zt(this.decoder)}writeVarUint(Ge){return hn(this.encoder,Ge)}writeVarString(Ge){return Lt(this.encoder,Ge)}writeVarUint8Array(Ge){return Mt(this.encoder,Ge)}length(){return Vr(this.encoder)}}const Oo=0,zr=1,yt=2,ft=(nt,Ge)=>{hn(nt,Oo);const St=Y.encodeStateVector(Ge);Mt(nt,St)},vt=(nt,Ge,St)=>{hn(nt,zr),Mt(nt,Y.encodeStateAsUpdate(Ge,St))},kt=(nt,Ge,St)=>vt(Ge,St,Zt(nt)),Qt=(nt,Ge,St)=>{try{Y.applyUpdate(Ge,Zt(nt),St)}catch(nn){console.error("Caught error while handling a Yjs update",nn)}},Cn=(nt,Ge)=>{hn(nt,yt),Mt(nt,Ge)},En=null,Kn=(nt,Ge,St,nn)=>{const Nn=Qn(nt);switch(Nn){case Oo:kt(nt,Ge,St);break;case zr:Qt(nt,St,nn);break;case yt:En(nt,St,nn);break;default:throw new Error("Unknown message type")}return Nn};class or{constructor(){this.encoder=wr()}get(Ge){return Ge.encoder}toUint8Array(){return On(this.encoder)}}class Yn{constructor(Ge){this.broadcasted=!1,this.message=Ge}setBroadcasted(Ge){return this.broadcasted=Ge,this}apply(Ge,St){const{message:nn}=this,Nn=nn.readVarUint(),hr=nn.length();switch(Nn){case fr.Sync:this.applySyncMessage(Ge,St);break;case fr.Awareness:this.applyAwarenessMessage(Ge);break;case fr.Auth:this.applyAuthMessage(Ge);break;case fr.QueryAwareness:this.applyQueryAwarenessMessage(Ge);break;case fr.Stateless:Ge.receiveStateless(Mn(nn.decoder));break;case fr.SyncStatus:this.applySyncStatusMessage(Ge,At(nn.decoder)===1);break;default:throw new Error(`Can\u2019t apply message of unknown type: ${Nn}`)}nn.length()>hr+1&&(this.broadcasted?Ge.broadcast(or,{encoder:nn.encoder}):Ge.send(or,{encoder:nn.encoder}))}applySyncMessage(Ge,St){const{message:nn}=this;nn.writeVarUint(fr.Sync);const Nn=Kn(nn.decoder,nn.encoder,Ge.document,Ge);St&&Nn===zr&&(Ge.synced=!0)}applySyncStatusMessage(Ge,St){St&&Ge.decrementUnsyncedChanges()}applyAwarenessMessage(Ge){if(!Ge.awareness)return;const{message:St}=this;ar(Ge.awareness,St.readVarUint8Array(),Ge)}applyAuthMessage(Ge){const{message:St}=this;readAuthMessage(St.decoder,Ge.permissionDeniedHandler.bind(Ge),Ge.authenticatedHandler.bind(Ge))}applyQueryAwarenessMessage(Ge){if(!Ge.awareness)return;const{message:St}=this;St.writeVarUint(fr.Awareness),St.writeVarUint8Array($n(Ge.awareness,Array.from(Ge.awareness.getStates().keys())))}}class Er{constructor(Ge,St={}){this.message=new Ge,this.encoder=this.message.get(St)}create(){return On(this.encoder)}send(Ge){Ge==null||Ge.send(this.create())}broadcast(Ge){Sn(Ge,this.create())}}class eo extends null{constructor(){super(...arguments),this.type=fr.Auth,this.description="Authentication"}get(Ge){if(typeof Ge.token=="undefined")throw new Error("The authentication message requires `token` as an argument.");return Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),writeAuthentication(this.encoder,Ge.token),this.encoder}}class Zr extends null{constructor(){super(...arguments),this.type=fr.Awareness,this.description="Awareness states update"}get(Ge){if(typeof Ge.awareness=="undefined")throw new Error("The awareness message requires awareness as an argument");if(typeof Ge.clients=="undefined")throw new Error("The awareness message requires clients as an argument");Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type);let St;return Ge.states===void 0?St=$n(Ge.awareness,Ge.clients):St=$n(Ge.awareness,Ge.clients,Ge.states),Mt(this.encoder,St),this.encoder}}class co extends null{constructor(){super(...arguments),this.type=fr.CLOSE,this.description="Ask the server to close the connection"}get(Ge){return Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),this.encoder}}class it extends null{constructor(){super(...arguments),this.type=fr.QueryAwareness,this.description="Queries awareness states"}get(Ge){return console.log("queryAwareness: writing string docName",Ge.documentName),console.log(this.encoder.cpos),Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),this.encoder}}class Ye extends null{constructor(){super(...arguments),this.type=fr.Stateless,this.description="A stateless message"}get(Ge){var St;return Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),Lt(this.encoder,(St=Ge.payload)!==null&&St!==void 0?St:""),this.encoder}}class lt extends null{constructor(){super(...arguments),this.type=fr.Sync,this.description="First sync step"}get(Ge){if(typeof Ge.document=="undefined")throw new Error("The sync step one message requires document as an argument");return Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),ft(this.encoder,Ge.document),this.encoder}}class Ot extends null{constructor(){super(...arguments),this.type=fr.Sync,this.description="Second sync step"}get(Ge){if(typeof Ge.document=="undefined")throw new Error("The sync step two message requires document as an argument");return Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),vt(this.encoder,Ge.document),this.encoder}}class tn extends null{constructor(){super(...arguments),this.type=fr.Sync,this.description="A document update"}get(Ge){return Lt(this.encoder,Ge.documentName),hn(this.encoder,this.type),Cn(this.encoder,Ge.update),this.encoder}}class an extends null{constructor(){super(...arguments),this.code=1001}}class bn extends null{constructor(Ge){var St,nn,Nn;super(),this.configuration={name:"",document:void 0,awareness:void 0,token:null,parameters:{},broadcast:!0,forceSyncInterval:!1,onAuthenticated:()=>null,onAuthenticationFailed:()=>null,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onSynced:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,onStateless:()=>null,quiet:!1,connect:!0,preserveConnection:!0},this.subscribedToBroadcastChannel=!1,this.isSynced=!1,this.unsyncedChanges=0,this.status=gr.Disconnected,this.isAuthenticated=!1,this.authorizedScope=void 0,this.mux=at(),this.intervals={forceSync:null},this.isConnected=!0,this.boundBroadcastChannelSubscriber=this.broadcastChannelSubscriber.bind(this),this.boundPageUnload=this.pageUnload.bind(this),this.boundOnOpen=this.onOpen.bind(this),this.boundOnMessage=this.onMessage.bind(this),this.boundOnClose=this.onClose.bind(this),this.boundOnStatus=this.onStatus.bind(this),this.forwardConnect=hr=>this.emit("connect",hr),this.forwardOpen=hr=>this.emit("open",hr),this.forwardClose=hr=>this.emit("close",hr),this.forwardDisconnect=hr=>this.emit("disconnect",hr),this.forwardDestroy=hr=>this.emit("destroy",hr),this.setConfiguration(Ge),this.configuration.document=Ge.document?Ge.document:new Y.Doc,this.configuration.awareness=Ge.awareness!==void 0?Ge.awareness:new Pn(this.document),this.on("open",this.configuration.onOpen),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("synced",this.configuration.onSynced),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("stateless",this.configuration.onStateless),this.on("authenticated",this.configuration.onAuthenticated),this.on("authenticationFailed",this.configuration.onAuthenticationFailed),this.configuration.websocketProvider.on("connect",this.configuration.onConnect),this.configuration.websocketProvider.on("connect",this.forwardConnect),this.configuration.websocketProvider.on("open",this.boundOnOpen),this.configuration.websocketProvider.on("open",this.forwardOpen),this.configuration.websocketProvider.on("message",this.boundOnMessage),this.configuration.websocketProvider.on("close",this.boundOnClose),this.configuration.websocketProvider.on("close",this.configuration.onClose),this.configuration.websocketProvider.on("close",this.forwardClose),this.configuration.websocketProvider.on("status",this.boundOnStatus),this.configuration.websocketProvider.on("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.on("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.on("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.on("destroy",this.forwardDestroy),(St=this.awareness)===null||St===void 0||St.on("update",()=>{this.emit("awarenessUpdate",{states:awarenessStatesToArray(this.awareness.getStates())})}),(nn=this.awareness)===null||nn===void 0||nn.on("change",()=>{this.emit("awarenessChange",{states:awarenessStatesToArray(this.awareness.getStates())})}),this.document.on("update",this.documentUpdateHandler.bind(this)),(Nn=this.awareness)===null||Nn===void 0||Nn.on("update",this.awarenessUpdateHandler.bind(this)),this.registerEventListeners(),this.configuration.forceSyncInterval&&(this.intervals.forceSync=setInterval(this.forceSync.bind(this),this.configuration.forceSyncInterval)),this.configuration.websocketProvider.attach(this)}onStatus({status:Ge}){this.status=Ge,this.configuration.onStatus({status:Ge}),this.emit("status",{status:Ge})}setConfiguration(Ge={}){if(!Ge.websocketProvider&&Ge.url){const St=Ge;this.configuration.websocketProvider=new Sr({url:St.url,connect:St.connect,parameters:St.parameters})}this.configuration=yr(yr({},this.configuration),Ge)}get document(){return this.configuration.document}get awareness(){return this.configuration.awareness}get hasUnsyncedChanges(){return this.unsyncedChanges>0}incrementUnsyncedChanges(){this.unsyncedChanges+=1,this.emit("unsyncedChanges",this.unsyncedChanges)}decrementUnsyncedChanges(){this.unsyncedChanges-=1,this.unsyncedChanges===0&&(this.synced=!0),this.emit("unsyncedChanges",this.unsyncedChanges)}forceSync(){this.send(lt,{document:this.document,documentName:this.configuration.name})}pageUnload(){this.awareness&&Rn(this.awareness,[this.document.clientID],"window unload")}registerEventListeners(){typeof window!="undefined"&&window.addEventListener("unload",this.boundPageUnload)}sendStateless(Ge){this.send(Ye,{documentName:this.configuration.name,payload:Ge})}documentUpdateHandler(Ge,St){St!==this&&(this.incrementUnsyncedChanges(),this.send(tn,{update:Ge,documentName:this.configuration.name},!0))}awarenessUpdateHandler({added:Ge,updated:St,removed:nn},Nn){const hr=Ge.concat(St).concat(nn);this.send(Zr,{awareness:this.awareness,clients:hr,documentName:this.configuration.name},!0)}get synced(){return this.isSynced}set synced(Ge){this.isSynced!==Ge&&(this.isSynced=Ge,this.emit("synced",{state:Ge}),this.emit("sync",{state:Ge}))}receiveStateless(Ge){this.emit("stateless",{payload:Ge})}get isAuthenticationRequired(){return!!this.configuration.token&&!this.isAuthenticated}connect(){return Qi(this,null,function*(){return this.configuration.websocketProvider.connect()})}disconnect(){this.disconnectBroadcastChannel(),this.configuration.websocketProvider.detach(this),this.configuration.preserveConnection||this.configuration.websocketProvider.disconnect()}onOpen(Ge){return Qi(this,null,function*(){this.isAuthenticated=!1,this.emit("open",{event:Ge}),this.isAuthenticationRequired&&this.send(eo,{token:yield this.getToken(),documentName:this.configuration.name}),this.startSync()})}getToken(){return Qi(this,null,function*(){return typeof this.configuration.token=="function"?yield this.configuration.token():this.configuration.token})}startSync(){this.incrementUnsyncedChanges(),this.send(lt,{document:this.document,documentName:this.configuration.name}),this.awareness&&this.awareness.getLocalState()!==null&&this.send(Zr,{awareness:this.awareness,clients:[this.document.clientID],documentName:this.configuration.name})}send(Ge,St,nn=!1){if(!this.isConnected)return;nn&&this.mux(()=>{this.broadcast(Ge,St)});const Nn=new Er(Ge,St);this.emit("outgoingMessage",{message:Nn.message}),Nn.send(this.configuration.websocketProvider)}onMessage(Ge){const St=new Gr(Ge.data),nn=St.readVarString();nn===this.configuration.name&&(St.writeVarString(nn),this.emit("message",{event:Ge,message:new Gr(Ge.data)}),new Yn(St).apply(this,!0))}onClose(Ge){this.isAuthenticated=!1,this.synced=!1,this.awareness&&Rn(this.awareness,Array.from(this.awareness.getStates().keys()).filter(St=>St!==this.document.clientID),this)}destroy(){var Ge;this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),this.awareness&&Rn(this.awareness,[this.document.clientID],"provider destroy"),this.disconnect(),(Ge=this.awareness)===null||Ge===void 0||Ge.off("update",this.awarenessUpdateHandler),this.document.off("update",this.documentUpdateHandler),this.removeAllListeners(),this.configuration.websocketProvider.off("connect",this.configuration.onConnect),this.configuration.websocketProvider.off("connect",this.forwardConnect),this.configuration.websocketProvider.off("open",this.boundOnOpen),this.configuration.websocketProvider.off("open",this.forwardOpen),this.configuration.websocketProvider.off("message",this.boundOnMessage),this.configuration.websocketProvider.off("close",this.boundOnClose),this.configuration.websocketProvider.off("close",this.configuration.onClose),this.configuration.websocketProvider.off("close",this.forwardClose),this.configuration.websocketProvider.off("status",this.boundOnStatus),this.configuration.websocketProvider.off("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.off("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.off("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.off("destroy",this.forwardDestroy),this.send(co,{documentName:this.configuration.name}),this.isConnected=!1,typeof window!="undefined"&&window.removeEventListener("unload",this.boundPageUnload)}permissionDeniedHandler(Ge){this.emit("authenticationFailed",{reason:Ge}),this.isAuthenticated=!1,this.disconnect(),this.status=gr.Disconnected}authenticatedHandler(Ge){this.isAuthenticated=!0,this.authorizedScope=Ge,this.emit("authenticated"),this.startSync()}get broadcastChannel(){return`${this.configuration.name}`}broadcastChannelSubscriber(Ge){this.mux(()=>{const St=new Gr(Ge),nn=St.readVarString();St.writeVarString(nn),new Yn(St).setBroadcasted(!0).apply(this,!1)})}subscribeToBroadcastChannel(){this.subscribedToBroadcastChannel||(Ut(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!0),this.mux(()=>{this.broadcast(lt,{document:this.document}),this.broadcast(Ot,{document:this.document}),this.broadcast(it,{document:this.document}),this.awareness&&this.broadcast(Zr,{awareness:this.awareness,clients:[this.document.clientID],document:this.document})})}disconnectBroadcastChannel(){this.awareness&&this.send(Zr,{awareness:this.awareness,clients:[this.document.clientID],states:new Map,documentName:this.configuration.name},!0),this.subscribedToBroadcastChannel&&(qt(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!1)}broadcast(Ge,St){this.configuration.broadcast&&this.subscribedToBroadcastChannel&&new Er(Ge,St).broadcast(this.broadcastChannel)}setAwarenessField(Ge,St){if(!this.awareness)throw new an(`Cannot set awareness field "${Ge}" to ${JSON.stringify(St)}. You have disabled Awareness for this provider by explicitly passing awareness: null in the provider configuration.`);this.awareness.setLocalStateField(Ge,St)}}class yn extends null{constructor(Ge){super(No(yr({},Ge),{url:`wss://${Ge.appId}.collab.tiptap.cloud`}))}}class Ln extends null{constructor(Ge){Ge.websocketProvider||(Ge.websocketProvider=new yn({appId:Ge.appId})),Ge.token||(Ge.token="notoken"),super(Ge),this.tiptapCollabConfigurationPrefix="__tiptapcollab__"}createVersion(Ge){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.sendStateless(JSON.stringify({action:"version.create",name:Ge}))}revertToVersion(Ge){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.sendStateless(JSON.stringify({action:"version.revert",version:Ge}))}getVersions(){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.configuration.document.getArray(`${this.tiptapCollabConfigurationPrefix}versions`).toArray()}watchVersions(Ge){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.configuration.document.getArray("__tiptapcollab__versions").observe(Ge)}unwatchVersions(Ge){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.configuration.document.getArray("__tiptapcollab__versions").unobserve(Ge)}isAutoVersioning(){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),!!this.configuration.document.getMap(`${this.tiptapCollabConfigurationPrefix}config`).get("autoVersioning")}enableAutoVersioning(){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.configuration.document.getMap(`${this.tiptapCollabConfigurationPrefix}config`).set("autoVersioning",1)}disableAutoVersioning(){return console.error("This doesnt work yet! If you want to join as a beta tester, send an email to humans@tiptap.dev"),this.configuration.document.getMap(`${this.tiptapCollabConfigurationPrefix}config`).set("autoVersioning",0)}}},5865:(K,f,e)=>{"use strict";e.d(f,{AW:()=>hn,Cf:()=>zr,DK:()=>Kn,DS:()=>vt,EG:()=>fn,Ig:()=>tt,J1:()=>On,Jo:()=>Et,K9:()=>or,ML:()=>Oo,NB:()=>Cn,Nl:()=>S,Ov:()=>Yn,P1:()=>o,QC:()=>Mt,S0:()=>kt,XP:()=>en,_4:()=>Gn,b5:()=>cr,eE:()=>Pe,hj:()=>ne,nU:()=>P,pr:()=>gn,tI:()=>pn,u9:()=>wt,vc:()=>Qt,x2:()=>yt,xh:()=>ct,zK:()=>ft});var t=e(2376),a=e(84348),i=e(7327),c=e(87823),p=e(16560),l=e(25804),v=e(53833);function _(it){const{state:Ye,transaction:lt}=it;let{selection:Ot}=lt,{doc:tn}=lt,{storedMarks:an}=lt;return No(yr({},Ye),{apply:Ye.apply.bind(Ye),applyTransaction:Ye.applyTransaction.bind(Ye),filterTransaction:Ye.filterTransaction,plugins:Ye.plugins,schema:Ye.schema,reconfigure:Ye.reconfigure.bind(Ye),toJSON:Ye.toJSON.bind(Ye),get storedMarks(){return an},get selection(){return Ot},get doc(){return tn},get tr(){return Ot=lt.selection,tn=lt.doc,an=lt.storedMarks,lt}})}class g{constructor(Ye){this.editor=Ye.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=Ye.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:Ye,editor:lt,state:Ot}=this,{view:tn}=lt,{tr:an}=Ot,bn=this.buildProps(an);return Object.fromEntries(Object.entries(Ye).map(([yn,Ln])=>[yn,(...Ge)=>{const St=Ln(...Ge)(bn);return!an.getMeta("preventDispatch")&&!this.hasCustomState&&tn.dispatch(an),St}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(Ye,lt=!0){const{rawCommands:Ot,editor:tn,state:an}=this,{view:bn}=tn,yn=[],Ln=!!Ye,nt=Ye||an.tr,Ge=()=>(!Ln&&lt&&!nt.getMeta("preventDispatch")&&!this.hasCustomState&&bn.dispatch(nt),yn.every(nn=>nn===!0)),St=No(yr({},Object.fromEntries(Object.entries(Ot).map(([nn,Nn])=>[nn,(...jr)=>{const Xr=this.buildProps(nt,lt),no=Nn(...jr)(Xr);return yn.push(no),St}]))),{run:Ge});return St}createCan(Ye){const{rawCommands:lt,state:Ot}=this,tn=!1,an=Ye||Ot.tr,bn=this.buildProps(an,tn),yn=Object.fromEntries(Object.entries(lt).map(([Ln,nt])=>[Ln,(...Ge)=>nt(...Ge)(No(yr({},bn),{dispatch:void 0}))]));return No(yr({},yn),{chain:()=>this.createChain(an,tn)})}buildProps(Ye,lt=!0){const{rawCommands:Ot,editor:tn,state:an}=this,{view:bn}=tn,yn={tr:Ye,editor:tn,view:bn,state:_({state:an,transaction:Ye}),dispatch:lt?()=>{}:void 0,chain:()=>this.createChain(Ye,lt),can:()=>this.createCan(Ye),get commands(){return Object.fromEntries(Object.entries(Ot).map(([Ln,nt])=>[Ln,(...Ge)=>nt(...Ge)(yn)]))}};return yn}}class E{constructor(){this.callbacks={}}on(Ye,lt){return this.callbacks[Ye]||(this.callbacks[Ye]=[]),this.callbacks[Ye].push(lt),this}emit(Ye,...lt){const Ot=this.callbacks[Ye];return Ot&&Ot.forEach(tn=>tn.apply(this,lt)),this}off(Ye,lt){const Ot=this.callbacks[Ye];return Ot&&(lt?this.callbacks[Ye]=Ot.filter(tn=>tn!==lt):delete this.callbacks[Ye]),this}removeAllListeners(){this.callbacks={}}}function S(it,Ye,lt){return it.config[Ye]===void 0&&it.parent?S(it.parent,Ye,lt):typeof it.config[Ye]=="function"?it.config[Ye].bind(No(yr({},lt),{parent:it.parent?S(it.parent,Ye,lt):null})):it.config[Ye]}function O(it){const Ye=it.filter(tn=>tn.type==="extension"),lt=it.filter(tn=>tn.type==="node"),Ot=it.filter(tn=>tn.type==="mark");return{baseExtensions:Ye,nodeExtensions:lt,markExtensions:Ot}}function A(it){const Ye=[],{nodeExtensions:lt,markExtensions:Ot}=O(it),tn=[...lt,...Ot],an={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return it.forEach(bn=>{const yn={name:bn.name,options:bn.options,storage:bn.storage},Ln=S(bn,"addGlobalAttributes",yn);if(!Ln)return;Ln().forEach(Ge=>{Ge.types.forEach(St=>{Object.entries(Ge.attributes).forEach(([nn,Nn])=>{Ye.push({type:St,name:nn,attribute:yr(yr({},an),Nn)})})})})}),tn.forEach(bn=>{const yn={name:bn.name,options:bn.options,storage:bn.storage},Ln=S(bn,"addAttributes",yn);if(!Ln)return;const nt=Ln();Object.entries(nt).forEach(([Ge,St])=>{const nn=yr(yr({},an),St);typeof(nn==null?void 0:nn.default)=="function"&&(nn.default=nn.default()),nn!=null&&nn.isRequired&&(nn==null?void 0:nn.default)===void 0&&delete nn.default,Ye.push({type:bn.name,name:Ge,attribute:nn})})}),Ye}function u(it,Ye){if(typeof it=="string"){if(!Ye.nodes[it])throw Error(`There is no node type named '${it}'. Maybe you forgot to add the extension?`);return Ye.nodes[it]}return it}function o(...it){return it.filter(Ye=>!!Ye).reduce((Ye,lt)=>{const Ot=yr({},Ye);return Object.entries(lt).forEach(([tn,an])=>{if(!Ot[tn]){Ot[tn]=an;return}if(tn==="class"){const yn=an?an.split(" "):[],Ln=Ot[tn]?Ot[tn].split(" "):[],nt=yn.filter(Ge=>!Ln.includes(Ge));Ot[tn]=[...Ln,...nt].join(" ")}else tn==="style"?Ot[tn]=[Ot[tn],an].join("; "):Ot[tn]=an}),Ot},{})}function s(it,Ye){return Ye.filter(lt=>lt.attribute.rendered).map(lt=>lt.attribute.renderHTML?lt.attribute.renderHTML(it.attrs)||{}:{[lt.name]:it.attrs[lt.name]}).reduce((lt,Ot)=>o(lt,Ot),{})}function w(it){return typeof it=="function"}function P(it,Ye=void 0,...lt){return w(it)?Ye?it.bind(Ye)(...lt):it(...lt):it}function C(it={}){return Object.keys(it).length===0&&it.constructor===Object}function x(it){return typeof it!="string"?it:it.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(it):it==="true"?!0:it==="false"?!1:it}function D(it,Ye){return it.style?it:No(yr({},it),{getAttrs:lt=>{const Ot=it.getAttrs?it.getAttrs(lt):it.attrs;if(Ot===!1)return!1;const tn=Ye.reduce((an,bn)=>{const yn=bn.attribute.parseHTML?bn.attribute.parseHTML(lt):x(lt.getAttribute(bn.name));return yn==null?an:No(yr({},an),{[bn.name]:yn})},{});return yr(yr({},Ot),tn)}})}function y(it){return Object.fromEntries(Object.entries(it).filter(([Ye,lt])=>Ye==="attrs"&&C(lt)?!1:lt!=null))}function M(it,Ye){var lt;const Ot=A(it),{nodeExtensions:tn,markExtensions:an}=O(it),bn=(lt=tn.find(nt=>S(nt,"topNode")))===null||lt===void 0?void 0:lt.name,yn=Object.fromEntries(tn.map(nt=>{const Ge=Ot.filter(no=>no.type===nt.name),St={name:nt.name,options:nt.options,storage:nt.storage,editor:Ye},nn=it.reduce((no,Mo)=>{const ko=S(Mo,"extendNodeSchema",St);return yr(yr({},no),ko?ko(nt):{})},{}),Nn=y(No(yr({},nn),{content:P(S(nt,"content",St)),marks:P(S(nt,"marks",St)),group:P(S(nt,"group",St)),inline:P(S(nt,"inline",St)),atom:P(S(nt,"atom",St)),selectable:P(S(nt,"selectable",St)),draggable:P(S(nt,"draggable",St)),code:P(S(nt,"code",St)),defining:P(S(nt,"defining",St)),isolating:P(S(nt,"isolating",St)),attrs:Object.fromEntries(Ge.map(no=>{var Mo;return[no.name,{default:(Mo=no==null?void 0:no.attribute)===null||Mo===void 0?void 0:Mo.default}]}))})),hr=P(S(nt,"parseHTML",St));hr&&(Nn.parseDOM=hr.map(no=>D(no,Ge)));const jr=S(nt,"renderHTML",St);jr&&(Nn.toDOM=no=>jr({node:no,HTMLAttributes:s(no,Ge)}));const Xr=S(nt,"renderText",St);return Xr&&(Nn.toText=Xr),[nt.name,Nn]})),Ln=Object.fromEntries(an.map(nt=>{const Ge=Ot.filter(Xr=>Xr.type===nt.name),St={name:nt.name,options:nt.options,storage:nt.storage,editor:Ye},nn=it.reduce((Xr,no)=>{const Mo=S(no,"extendMarkSchema",St);return yr(yr({},Xr),Mo?Mo(nt):{})},{}),Nn=y(No(yr({},nn),{inclusive:P(S(nt,"inclusive",St)),excludes:P(S(nt,"excludes",St)),group:P(S(nt,"group",St)),spanning:P(S(nt,"spanning",St)),code:P(S(nt,"code",St)),attrs:Object.fromEntries(Ge.map(Xr=>{var no;return[Xr.name,{default:(no=Xr==null?void 0:Xr.attribute)===null||no===void 0?void 0:no.default}]}))})),hr=P(S(nt,"parseHTML",St));hr&&(Nn.parseDOM=hr.map(Xr=>D(Xr,Ge)));const jr=S(nt,"renderHTML",St);return jr&&(Nn.toDOM=Xr=>jr({mark:Xr,HTMLAttributes:s(Xr,Ge)})),[nt.name,Nn]}));return new c.V_({topNode:bn,nodes:yn,marks:Ln})}function T(it,Ye){return Ye.nodes[it]||Ye.marks[it]||null}function R(it,Ye){return Array.isArray(Ye)?Ye.some(lt=>(typeof lt=="string"?lt:lt.name)===it.name):Ye}const F=(it,Ye=500)=>{let lt="";const Ot=it.parentOffset;return it.parent.nodesBetween(Math.max(0,Ot-Ye),Ot,(tn,an,bn,yn)=>{var Ln,nt;const Ge=((nt=(Ln=tn.type.spec).toText)===null||nt===void 0?void 0:nt.call(Ln,{node:tn,pos:an,parent:bn,index:yn}))||tn.textContent||"%leaf%";lt+=Ge.slice(0,Math.max(0,Ot-an))}),lt};function N(it){return Object.prototype.toString.call(it)==="[object RegExp]"}class U{constructor(Ye){this.find=Ye.find,this.handler=Ye.handler}}const V=(it,Ye)=>{if(N(Ye))return Ye.exec(it);const lt=Ye(it);if(!lt)return null;const Ot=[lt.text];return Ot.index=lt.index,Ot.input=it,Ot.data=lt.data,lt.replaceWith&&(lt.text.includes(lt.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),Ot.push(lt.replaceWith)),Ot};function W(it){var Ye;const{editor:lt,from:Ot,to:tn,text:an,rules:bn,plugin:yn}=it,{view:Ln}=lt;if(Ln.composing)return!1;const nt=Ln.state.doc.resolve(Ot);if(nt.parent.type.spec.code||!((Ye=nt.nodeBefore||nt.nodeAfter)===null||Ye===void 0)&&Ye.marks.find(nn=>nn.type.spec.code))return!1;let Ge=!1;const St=F(nt)+an;return bn.forEach(nn=>{if(Ge)return;const Nn=V(St,nn.find);if(!Nn)return;const hr=Ln.state.tr,jr=_({state:Ln.state,transaction:hr}),Xr={from:Ot-(Nn[0].length-an.length),to:tn},{commands:no,chain:Mo,can:ko}=new g({editor:lt,state:jr});nn.handler({state:jr,range:Xr,match:Nn,commands:no,chain:Mo,can:ko})===null||!hr.steps.length||(hr.setMeta(yn,{transform:hr,from:Ot,to:tn,text:an}),Ln.dispatch(hr),Ge=!0)}),Ge}function L(it){const{editor:Ye,rules:lt}=it,Ot=new t.Sy({state:{init(){return null},apply(tn,an){const bn=tn.getMeta(Ot);return bn||(tn.selectionSet||tn.docChanged?null:an)}},props:{handleTextInput(tn,an,bn,yn){return W({editor:Ye,from:an,to:bn,text:yn,rules:lt,plugin:Ot})},handleDOMEvents:{compositionend:tn=>(setTimeout(()=>{const{$cursor:an}=tn.state.selection;an&&W({editor:Ye,from:an.pos,to:an.pos,text:"",rules:lt,plugin:Ot})}),!1)},handleKeyDown(tn,an){if(an.key!=="Enter")return!1;const{$cursor:bn}=tn.state.selection;return bn?W({editor:Ye,from:bn.pos,to:bn.pos,text:`
`,rules:lt,plugin:Ot}):!1}},isInputRules:!0});return Ot}function k(it){return typeof it=="number"}class H{constructor(Ye){this.find=Ye.find,this.handler=Ye.handler}}const G=(it,Ye)=>{if(N(Ye))return[...it.matchAll(Ye)];const lt=Ye(it);return lt?lt.map(Ot=>{const tn=[Ot.text];return tn.index=Ot.index,tn.input=it,tn.data=Ot.data,Ot.replaceWith&&(Ot.text.includes(Ot.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),tn.push(Ot.replaceWith)),tn}):[]};function q(it){const{editor:Ye,state:lt,from:Ot,to:tn,rule:an}=it,{commands:bn,chain:yn,can:Ln}=new g({editor:Ye,state:lt}),nt=[];return lt.doc.nodesBetween(Ot,tn,(St,nn)=>{if(!St.isTextblock||St.type.spec.code)return;const Nn=Math.max(Ot,nn),hr=Math.min(tn,nn+St.content.size),jr=St.textBetween(Nn-nn,hr-nn,void 0,"\uFFFC");G(jr,an.find).forEach(no=>{if(no.index===void 0)return;const Mo=Nn+no.index+1,ko=Mo+no[0].length,Bo={from:lt.tr.mapping.map(Mo),to:lt.tr.mapping.map(ko)},Wo=an.handler({state:lt,range:Bo,match:no,commands:bn,chain:yn,can:Ln});nt.push(Wo)})}),nt.every(St=>St!==null)}function z(it){const{editor:Ye,rules:lt}=it;let Ot=null,tn=!1,an=!1;return lt.map(yn=>new t.Sy({view(Ln){const nt=Ge=>{var St;Ot=!((St=Ln.dom.parentElement)===null||St===void 0)&&St.contains(Ge.target)?Ln.dom.parentElement:null};return window.addEventListener("dragstart",nt),{destroy(){window.removeEventListener("dragstart",nt)}}},props:{handleDOMEvents:{drop:Ln=>(an=Ot===Ln.dom.parentElement,!1),paste:(Ln,nt)=>{var Ge;const St=(Ge=nt.clipboardData)===null||Ge===void 0?void 0:Ge.getData("text/html");return tn=!!(St!=null&&St.includes("data-pm-slice")),!1}}},appendTransaction:(Ln,nt,Ge)=>{const St=Ln[0],nn=St.getMeta("uiEvent")==="paste"&&!tn,Nn=St.getMeta("uiEvent")==="drop"&&!an;if(!nn&&!Nn)return;const hr=nt.doc.content.findDiffStart(Ge.doc.content),jr=nt.doc.content.findDiffEnd(Ge.doc.content);if(!k(hr)||!jr||hr===jr.b)return;const Xr=Ge.tr,no=_({state:Ge,transaction:Xr});if(!(!q({editor:Ye,state:no,from:Math.max(hr-1,0),to:jr.b-1,rule:yn})||!Xr.steps.length))return Xr}}))}function ee(it){const Ye=it.filter((lt,Ot)=>it.indexOf(lt)!==Ot);return[...new Set(Ye)]}class ${constructor(Ye,lt){this.splittableMarks=[],this.editor=lt,this.extensions=$.resolve(Ye),this.schema=M(this.extensions,lt),this.extensions.forEach(Ot=>{var tn;this.editor.extensionStorage[Ot.name]=Ot.storage;const an={name:Ot.name,options:Ot.options,storage:Ot.storage,editor:this.editor,type:T(Ot.name,this.schema)};Ot.type==="mark"&&(!((tn=P(S(Ot,"keepOnSplit",an)))!==null&&tn!==void 0)||tn)&&this.splittableMarks.push(Ot.name);const bn=S(Ot,"onBeforeCreate",an);bn&&this.editor.on("beforeCreate",bn);const yn=S(Ot,"onCreate",an);yn&&this.editor.on("create",yn);const Ln=S(Ot,"onUpdate",an);Ln&&this.editor.on("update",Ln);const nt=S(Ot,"onSelectionUpdate",an);nt&&this.editor.on("selectionUpdate",nt);const Ge=S(Ot,"onTransaction",an);Ge&&this.editor.on("transaction",Ge);const St=S(Ot,"onFocus",an);St&&this.editor.on("focus",St);const nn=S(Ot,"onBlur",an);nn&&this.editor.on("blur",nn);const Nn=S(Ot,"onDestroy",an);Nn&&this.editor.on("destroy",Nn)})}static resolve(Ye){const lt=$.sort($.flatten(Ye)),Ot=ee(lt.map(tn=>tn.name));return Ot.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${Ot.map(tn=>`'${tn}'`).join(", ")}]. This can lead to issues.`),lt}static flatten(Ye){return Ye.map(lt=>{const Ot={name:lt.name,options:lt.options,storage:lt.storage},tn=S(lt,"addExtensions",Ot);return tn?[lt,...this.flatten(tn())]:lt}).flat(10)}static sort(Ye){return Ye.sort((Ot,tn)=>{const an=S(Ot,"priority")||100,bn=S(tn,"priority")||100;return an>bn?-1:an<bn?1:0})}get commands(){return this.extensions.reduce((Ye,lt)=>{const Ot={name:lt.name,options:lt.options,storage:lt.storage,editor:this.editor,type:T(lt.name,this.schema)},tn=S(lt,"addCommands",Ot);return tn?yr(yr({},Ye),tn()):Ye},{})}get plugins(){const{editor:Ye}=this,lt=$.sort([...this.extensions].reverse()),Ot=[],tn=[],an=lt.map(bn=>{const yn={name:bn.name,options:bn.options,storage:bn.storage,editor:Ye,type:T(bn.name,this.schema)},Ln=[],nt=S(bn,"addKeyboardShortcuts",yn);let Ge={};if(bn.type==="mark"&&bn.config.exitable&&(Ge.ArrowRight=()=>Qt.handleExit({editor:Ye,mark:bn})),nt){const jr=Object.fromEntries(Object.entries(nt()).map(([Xr,no])=>[Xr,()=>no({editor:Ye})]));Ge=yr(yr({},Ge),jr)}const St=(0,i.h)(Ge);Ln.push(St);const nn=S(bn,"addInputRules",yn);R(bn,Ye.options.enableInputRules)&&nn&&Ot.push(...nn());const Nn=S(bn,"addPasteRules",yn);R(bn,Ye.options.enablePasteRules)&&Nn&&tn.push(...Nn());const hr=S(bn,"addProseMirrorPlugins",yn);if(hr){const jr=hr();Ln.push(...jr)}return Ln}).flat();return[L({editor:Ye,rules:Ot}),...z({editor:Ye,rules:tn}),...an]}get attributes(){return A(this.extensions)}get nodeViews(){const{editor:Ye}=this,{nodeExtensions:lt}=O(this.extensions);return Object.fromEntries(lt.filter(Ot=>!!S(Ot,"addNodeView")).map(Ot=>{const tn=this.attributes.filter(Ln=>Ln.type===Ot.name),an={name:Ot.name,options:Ot.options,storage:Ot.storage,editor:Ye,type:u(Ot.name,this.schema)},bn=S(Ot,"addNodeView",an);if(!bn)return[];const yn=(Ln,nt,Ge,St)=>{const nn=s(Ln,tn);return bn()({editor:Ye,node:Ln,getPos:Ge,decorations:St,HTMLAttributes:nn,extension:Ot})};return[Ot.name,yn]}))}}function J(it){return Object.prototype.toString.call(it).slice(8,-1)}function j(it){return J(it)!=="Object"?!1:it.constructor===Object&&Object.getPrototypeOf(it)===Object.prototype}function Z(it,Ye){const lt=yr({},it);return j(it)&&j(Ye)&&Object.keys(Ye).forEach(Ot=>{j(Ye[Ot])?Ot in it?lt[Ot]=Z(it[Ot],Ye[Ot]):Object.assign(lt,{[Ot]:Ye[Ot]}):Object.assign(lt,{[Ot]:Ye[Ot]})}),lt}class ne{constructor(Ye={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=yr(yr({},this.config),Ye),this.name=this.config.name,Ye.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(S(this,"addOptions",{name:this.name}))),this.storage=P(S(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Ye={}){return new ne(Ye)}configure(Ye={}){const lt=this.extend();return lt.options=Z(this.options,Ye),lt.storage=P(S(lt,"addStorage",{name:lt.name,options:lt.options})),lt}extend(Ye={}){const lt=new ne(Ye);return lt.parent=this,this.child=lt,lt.name=Ye.name?Ye.name:lt.parent.name,Ye.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${lt.name}".`),lt.options=P(S(lt,"addOptions",{name:lt.name})),lt.storage=P(S(lt,"addStorage",{name:lt.name,options:lt.options})),lt}}function ie(it,Ye,lt){const{from:Ot,to:tn}=Ye,{blockSeparator:an=`

`,textSerializers:bn={}}=lt||{};let yn="",Ln=!0;return it.nodesBetween(Ot,tn,(nt,Ge,St,nn)=>{var Nn;const hr=bn==null?void 0:bn[nt.type.name];hr?(nt.isBlock&&!Ln&&(yn+=an,Ln=!0),St&&(yn+=hr({node:nt,pos:Ge,parent:St,index:nn,range:Ye}))):nt.isText?(yn+=(Nn=nt==null?void 0:nt.text)===null||Nn===void 0?void 0:Nn.slice(Math.max(Ot,Ge)-Ge,tn-Ge),Ln=!1):nt.isBlock&&!Ln&&(yn+=an,Ln=!0)}),yn}function oe(it){return Object.fromEntries(Object.entries(it.nodes).filter(([,Ye])=>Ye.spec.toText).map(([Ye,lt])=>[Ye,lt.spec.toText]))}const re=ne.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new t.Sy({key:new t.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:it}=this,{state:Ye,schema:lt}=it,{doc:Ot,selection:tn}=Ye,{ranges:an}=tn,bn=Math.min(...an.map(Ge=>Ge.$from.pos)),yn=Math.max(...an.map(Ge=>Ge.$to.pos)),Ln=oe(lt);return ie(Ot,{from:bn,to:yn},{textSerializers:Ln})}}})]}}),ae=()=>({editor:it,view:Ye})=>(requestAnimationFrame(()=>{var lt;it.isDestroyed||(Ye.dom.blur(),(lt=window==null?void 0:window.getSelection())===null||lt===void 0||lt.removeAllRanges())}),!0),se=(it=!1)=>({commands:Ye})=>Ye.setContent("",it),fe=()=>({state:it,tr:Ye,dispatch:lt})=>{const{selection:Ot}=Ye,{ranges:tn}=Ot;return lt&&tn.forEach(({$from:an,$to:bn})=>{it.doc.nodesBetween(an.pos,bn.pos,(yn,Ln)=>{if(yn.type.isText)return;const{doc:nt,mapping:Ge}=Ye,St=nt.resolve(Ge.map(Ln)),nn=nt.resolve(Ge.map(Ln+yn.nodeSize)),Nn=St.blockRange(nn);if(!Nn)return;const hr=(0,p.k9)(Nn);if(yn.type.isTextblock){const{defaultType:jr}=St.parent.contentMatchAt(St.index());Ye.setNodeMarkup(Nn.start,jr)}(hr||hr===0)&&Ye.lift(Nn,hr)})}),!0},le=it=>Ye=>it(Ye),Ae=()=>({state:it,dispatch:Ye})=>(0,l.mD)(it,Ye),De=(it,Ye)=>({editor:lt,tr:Ot})=>{const{state:tn}=lt,an=tn.doc.slice(it.from,it.to);Ot.deleteRange(it.from,it.to);const bn=Ot.mapping.map(Ye);return Ot.insert(bn,an.content),Ot.setSelection(new t.Bs(Ot.doc.resolve(bn-1))),!0},je=()=>({tr:it,dispatch:Ye})=>{const{selection:lt}=it,Ot=lt.$anchor.node();if(Ot.content.size>0)return!1;const tn=it.selection.$anchor;for(let an=tn.depth;an>0;an-=1)if(tn.node(an).type===Ot.type){if(Ye){const yn=tn.before(an),Ln=tn.after(an);it.delete(yn,Ln).scrollIntoView()}return!0}return!1},Je=it=>({tr:Ye,state:lt,dispatch:Ot})=>{const tn=u(it,lt.schema),an=Ye.selection.$anchor;for(let bn=an.depth;bn>0;bn-=1)if(an.node(bn).type===tn){if(Ot){const Ln=an.before(bn),nt=an.after(bn);Ye.delete(Ln,nt).scrollIntoView()}return!0}return!1},Be=it=>({tr:Ye,dispatch:lt})=>{const{from:Ot,to:tn}=it;return lt&&Ye.delete(Ot,tn),!0},st=()=>({state:it,dispatch:Ye})=>(0,l.NE)(it,Ye),ht=()=>({commands:it})=>it.keyboardShortcut("Enter"),gt=()=>({state:it,dispatch:Ye})=>(0,l.uo)(it,Ye);function Xe(it,Ye,lt={strict:!0}){const Ot=Object.keys(Ye);return Ot.length?Ot.every(tn=>lt.strict?Ye[tn]===it[tn]:N(Ye[tn])?Ye[tn].test(it[tn]):Ye[tn]===it[tn]):!0}function Re(it,Ye,lt={}){return it.find(Ot=>Ot.type===Ye&&Xe(Ot.attrs,lt))}function Ne(it,Ye,lt={}){return!!Re(it,Ye,lt)}function ke(it,Ye,lt={}){if(!it||!Ye)return;let Ot=it.parent.childAfter(it.parentOffset);if(it.parentOffset===Ot.offset&&Ot.offset!==0&&(Ot=it.parent.childBefore(it.parentOffset)),!Ot.node)return;const tn=Re([...Ot.node.marks],Ye,lt);if(!tn)return;let an=Ot.index,bn=it.start()+Ot.offset,yn=an+1,Ln=bn+Ot.node.nodeSize;for(Re([...Ot.node.marks],Ye,lt);an>0&&tn.isInSet(it.parent.child(an-1).marks);)an-=1,bn-=it.parent.child(an).nodeSize;for(;yn<it.parent.childCount&&Ne([...it.parent.child(yn).marks],Ye,lt);)Ln+=it.parent.child(yn).nodeSize,yn+=1;return{from:bn,to:Ln}}function ot(it,Ye){if(typeof it=="string"){if(!Ye.marks[it])throw Error(`There is no mark type named '${it}'. Maybe you forgot to add the extension?`);return Ye.marks[it]}return it}const Dt=(it,Ye={})=>({tr:lt,state:Ot,dispatch:tn})=>{const an=ot(it,Ot.schema),{doc:bn,selection:yn}=lt,{$from:Ln,from:nt,to:Ge}=yn;if(tn){const St=ke(Ln,an,Ye);if(St&&St.from<=nt&&St.to>=Ge){const nn=t.Bs.create(bn,St.from,St.to);lt.setSelection(nn)}}return!0},ln=it=>Ye=>{const lt=typeof it=="function"?it(Ye):it;for(let Ot=0;Ot<lt.length;Ot+=1)if(lt[Ot](Ye))return!0;return!1};function ct(it){return it instanceof t.Bs}function Oe(it=0,Ye=0,lt=0){return Math.min(Math.max(it,Ye),lt)}function Se(it,Ye=null){if(!Ye)return null;const lt=t.Y1.atStart(it),Ot=t.Y1.atEnd(it);if(Ye==="start"||Ye===!0)return lt;if(Ye==="end")return Ot;const tn=lt.from,an=Ot.to;return Ye==="all"?t.Bs.create(it,Oe(0,tn,an),Oe(it.content.size,tn,an)):t.Bs.create(it,Oe(Ye,tn,an),Oe(Ye,tn,an))}function Ze(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Fe=(it=null,Ye={})=>({editor:lt,view:Ot,tr:tn,dispatch:an})=>{Ye=yr({scrollIntoView:!0},Ye);const bn=()=>{Ze()&&Ot.dom.focus(),requestAnimationFrame(()=>{lt.isDestroyed||(Ot.focus(),Ye!=null&&Ye.scrollIntoView&&lt.commands.scrollIntoView())})};if(Ot.hasFocus()&&it===null||it===!1)return!0;if(an&&it===null&&!ct(lt.state.selection))return bn(),!0;const yn=Se(tn.doc,it)||lt.state.selection,Ln=lt.state.selection.eq(yn);return an&&(Ln||tn.setSelection(yn),Ln&&tn.storedMarks&&tn.setStoredMarks(tn.storedMarks),bn()),!0},Ke=(it,Ye)=>lt=>it.every((Ot,tn)=>Ye(Ot,No(yr({},lt),{index:tn}))),et=(it,Ye)=>({tr:lt,commands:Ot})=>Ot.insertContentAt({from:lt.selection.from,to:lt.selection.to},it,Ye);function Qe(it){const Ye=`<body>${it}</body>`;return new window.DOMParser().parseFromString(Ye,"text/html").body}function $e(it,Ye,lt){if(lt=yr({slice:!0,parseOptions:{}},lt),typeof it=="object"&&it!==null)try{return Array.isArray(it)&&it.length>0?c.HY.fromArray(it.map(Ot=>Ye.nodeFromJSON(Ot))):Ye.nodeFromJSON(it)}catch(Ot){return console.warn("[tiptap warn]: Invalid content.","Passed value:",it,"Error:",Ot),$e("",Ye,lt)}if(typeof it=="string"){const Ot=c.aw.fromSchema(Ye);return lt.slice?Ot.parseSlice(Qe(it),lt.parseOptions).content:Ot.parse(Qe(it),lt.parseOptions)}return $e("",Ye,lt)}function Te(it,Ye,lt){const Ot=it.steps.length-1;if(Ot<Ye)return;const tn=it.steps[Ot];if(!(tn instanceof p.Pu||tn instanceof p.FC))return;const an=it.mapping.maps[Ot];let bn=0;an.forEach((yn,Ln,nt,Ge)=>{bn===0&&(bn=Ge)}),it.setSelection(t.Y1.near(it.doc.resolve(bn),lt))}const te=it=>it.toString().startsWith("<"),ue=(it,Ye,lt)=>({tr:Ot,dispatch:tn,editor:an})=>{if(tn){lt=yr({parseOptions:{},updateSelection:!0},lt);const bn=$e(Ye,an.schema,{parseOptions:yr({preserveWhitespace:"full"},lt.parseOptions)});if(bn.toString()==="<>")return!0;let{from:yn,to:Ln}=typeof it=="number"?{from:it,to:it}:{from:it.from,to:it.to},nt=!0,Ge=!0;if((te(bn)?bn:[bn]).forEach(nn=>{nn.check(),nt=nt?nn.isText&&nn.marks.length===0:!1,Ge=Ge?nn.isBlock:!1}),yn===Ln&&Ge){const{parent:nn}=Ot.doc.resolve(yn);nn.isTextblock&&!nn.type.spec.code&&!nn.childCount&&(yn-=1,Ln+=1)}nt?Array.isArray(Ye)?Ot.insertText(Ye.map(nn=>nn.text||"").join(""),yn,Ln):typeof Ye=="object"&&Ye&&Ye.text?Ot.insertText(Ye.text,yn,Ln):Ot.insertText(Ye,yn,Ln):Ot.replaceWith(yn,Ln,bn),lt.updateSelection&&Te(Ot,Ot.steps.length-1,-1)}return!0},we=()=>({state:it,dispatch:Ye})=>(0,l.MI)(it,Ye),me=()=>({state:it,dispatch:Ye})=>(0,l.Ig)(it,Ye),Ee=()=>({state:it,dispatch:Ye})=>(0,l.al)(it,Ye),he=()=>({state:it,dispatch:Ye})=>(0,l.Y_)(it,Ye),xe=()=>({tr:it,state:Ye,dispatch:lt})=>{try{const Ot=(0,p.GJ)(Ye.doc,Ye.selection.$from.pos,-1);return Ot==null?!1:(it.join(Ot,2),lt&&lt(it),!0)}catch(Ot){return!1}},Ve=()=>({state:it,dispatch:Ye,tr:lt})=>{try{const Ot=(0,p.GJ)(it.doc,it.selection.$from.pos,1);return Ot==null?!1:(lt.join(Ot,2),Ye&&Ye(lt),!0)}catch(Ot){return!1}};function Pe(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function Ie(it){const Ye=it.split(/-(?!$)/);let lt=Ye[Ye.length-1];lt==="Space"&&(lt=" ");let Ot,tn,an,bn;for(let yn=0;yn<Ye.length-1;yn+=1){const Ln=Ye[yn];if(/^(cmd|meta|m)$/i.test(Ln))bn=!0;else if(/^a(lt)?$/i.test(Ln))Ot=!0;else if(/^(c|ctrl|control)$/i.test(Ln))tn=!0;else if(/^s(hift)?$/i.test(Ln))an=!0;else if(/^mod$/i.test(Ln))Ze()||Pe()?bn=!0:tn=!0;else throw new Error(`Unrecognized modifier name: ${Ln}`)}return Ot&&(lt=`Alt-${lt}`),tn&&(lt=`Ctrl-${lt}`),bn&&(lt=`Meta-${lt}`),an&&(lt=`Shift-${lt}`),lt}const ze=it=>({editor:Ye,view:lt,tr:Ot,dispatch:tn})=>{const an=Ie(it).split(/-(?!$)/),bn=an.find(nt=>!["Alt","Ctrl","Meta","Shift"].includes(nt)),yn=new KeyboardEvent("keydown",{key:bn==="Space"?" ":bn,altKey:an.includes("Alt"),ctrlKey:an.includes("Ctrl"),metaKey:an.includes("Meta"),shiftKey:an.includes("Shift"),bubbles:!0,cancelable:!0}),Ln=Ye.captureTransaction(()=>{lt.someProp("handleKeyDown",nt=>nt(lt,yn))});return Ln==null||Ln.steps.forEach(nt=>{const Ge=nt.map(Ot.mapping);Ge&&tn&&Ot.maybeStep(Ge)}),!0};function tt(it,Ye,lt={}){const{from:Ot,to:tn,empty:an}=it.selection,bn=Ye?u(Ye,it.schema):null,yn=[];it.doc.nodesBetween(Ot,tn,(St,nn)=>{if(St.isText)return;const Nn=Math.max(Ot,nn),hr=Math.min(tn,nn+St.nodeSize);yn.push({node:St,from:Nn,to:hr})});const Ln=tn-Ot,nt=yn.filter(St=>bn?bn.name===St.node.type.name:!0).filter(St=>Xe(St.node.attrs,lt,{strict:!1}));return an?!!nt.length:nt.reduce((St,nn)=>St+nn.to-nn.from,0)>=Ln}const Le=(it,Ye={})=>({state:lt,dispatch:Ot})=>{const tn=u(it,lt.schema);return tt(lt,tn,Ye)?(0,l.xb)(lt,Ot):!1},It=()=>({state:it,dispatch:Ye})=>(0,l.X0)(it,Ye),on=it=>({state:Ye,dispatch:lt})=>{const Ot=u(it,Ye.schema);return(0,v.IB)(Ot)(Ye,lt)},zt=()=>({state:it,dispatch:Ye})=>(0,l.QK)(it,Ye);function $t(it,Ye){return Ye.nodes[it]?"node":Ye.marks[it]?"mark":null}function Bt(it,Ye){const lt=typeof Ye=="string"?[Ye]:Ye;return Object.keys(it).reduce((Ot,tn)=>(lt.includes(tn)||(Ot[tn]=it[tn]),Ot),{})}const xn=(it,Ye)=>({tr:lt,state:Ot,dispatch:tn})=>{let an=null,bn=null;const yn=$t(typeof it=="string"?it:it.name,Ot.schema);return yn?(yn==="node"&&(an=u(it,Ot.schema)),yn==="mark"&&(bn=ot(it,Ot.schema)),tn&&lt.selection.ranges.forEach(Ln=>{Ot.doc.nodesBetween(Ln.$from.pos,Ln.$to.pos,(nt,Ge)=>{an&&an===nt.type&&lt.setNodeMarkup(Ge,void 0,Bt(nt.attrs,Ye)),bn&&nt.marks.length&&nt.marks.forEach(St=>{bn===St.type&&lt.addMark(Ge,Ge+nt.nodeSize,bn.create(Bt(St.attrs,Ye)))})})}),!0):!1},Hn=()=>({tr:it,dispatch:Ye})=>(Ye&&it.scrollIntoView(),!0),ir=()=>({tr:it,commands:Ye})=>Ye.setTextSelection({from:0,to:it.doc.content.size}),Vn=()=>({state:it,dispatch:Ye})=>(0,l._M)(it,Ye),_t=()=>({state:it,dispatch:Ye})=>(0,l.o)(it,Ye),ut=()=>({state:it,dispatch:Ye})=>(0,l.N0)(it,Ye),Ce=()=>({state:it,dispatch:Ye})=>(0,l.nw)(it,Ye),be=()=>({state:it,dispatch:Ye})=>(0,l.U9)(it,Ye);function We(it,Ye,lt={}){return $e(it,Ye,{slice:!1,parseOptions:lt})}const qe=(it,Ye=!1,lt={})=>({tr:Ot,editor:tn,dispatch:an})=>{const{doc:bn}=Ot,yn=We(it,tn.schema,lt);return an&&Ot.replaceWith(0,bn.content.size,yn).setMeta("preventUpdate",!Ye),!0};function Et(it,Ye){const lt=ot(Ye,it.schema),{from:Ot,to:tn,empty:an}=it.selection,bn=[];an?(it.storedMarks&&bn.push(...it.storedMarks),bn.push(...it.selection.$head.marks())):it.doc.nodesBetween(Ot,tn,Ln=>{bn.push(...Ln.marks)});const yn=bn.find(Ln=>Ln.type.name===lt.name);return yn?yr({},yn.attrs):{}}function en(it,Ye){const lt=new p.wx(it);return Ye.forEach(Ot=>{Ot.steps.forEach(tn=>{lt.step(tn)})}),lt}function In(it){for(let Ye=0;Ye<it.edgeCount;Ye+=1){const{type:lt}=it.edge(Ye);if(lt.isTextblock&&!lt.hasRequiredAttrs())return lt}return null}function qn(it,Ye){const lt=[];return it.descendants((Ot,tn)=>{Ye(Ot)&&lt.push({node:Ot,pos:tn})}),lt}function cr(it,Ye,lt){const Ot=[];return it.nodesBetween(Ye.from,Ye.to,(tn,an)=>{lt(tn)&&Ot.push({node:tn,pos:an})}),Ot}function pr(it,Ye){for(let lt=it.depth;lt>0;lt-=1){const Ot=it.node(lt);if(Ye(Ot))return{pos:lt>0?it.before(lt):0,start:it.start(lt),depth:lt,node:Ot}}}function wr(it){return Ye=>pr(Ye.$from,it)}function Vr(it,Ye){const lt=c.PW.fromSchema(Ye).serializeFragment(it),tn=document.implementation.createHTMLDocument().createElement("div");return tn.appendChild(lt),tn.innerHTML}function On(it,Ye){const lt=$.resolve(it);return M(lt,Ye)}function pt(it,Ye){const lt=On(Ye),Ot=Node$1.fromJSON(lt,it);return Vr(Ot.content,lt)}function hn(it,Ye){const lt=On(Ye),Ot=Qe(it);return c.aw.fromSchema(lt).parse(Ot).toJSON()}function Dn(it,Ye){const lt={from:0,to:it.content.size};return ie(it,lt,Ye)}function Gn(it,Ye,lt){const{blockSeparator:Ot=`

`,textSerializers:tn={}}=lt||{},an=On(Ye),bn=c.NB.fromJSON(an,it);return Dn(bn,{blockSeparator:Ot,textSerializers:yr(yr({},oe(an)),tn)})}function Kt(it,Ye){const lt=u(Ye,it.schema),{from:Ot,to:tn}=it.selection,an=[];it.doc.nodesBetween(Ot,tn,yn=>{an.push(yn)});const bn=an.reverse().find(yn=>yn.type.name===lt.name);return bn?yr({},bn.attrs):{}}function wt(it,Ye){const lt=$t(typeof Ye=="string"?Ye:Ye.name,it.schema);return lt==="node"?Kt(it,Ye):lt==="mark"?Et(it,Ye):{}}function Lt(it,Ye=JSON.stringify){const lt={};return it.filter(Ot=>{const tn=Ye(Ot);return Object.prototype.hasOwnProperty.call(lt,tn)?!1:lt[tn]=!0})}function mt(it){const Ye=Lt(it);return Ye.length===1?Ye:Ye.filter((lt,Ot)=>!Ye.filter((an,bn)=>bn!==Ot).some(an=>lt.oldRange.from>=an.oldRange.from&&lt.oldRange.to<=an.oldRange.to&&lt.newRange.from>=an.newRange.from&&lt.newRange.to<=an.newRange.to))}function Mt(it){const{mapping:Ye,steps:lt}=it,Ot=[];return Ye.maps.forEach((tn,an)=>{const bn=[];if(tn.ranges.length)tn.forEach((yn,Ln)=>{bn.push({from:yn,to:Ln})});else{const{from:yn,to:Ln}=lt[an];if(yn===void 0||Ln===void 0)return;bn.push({from:yn,to:Ln})}bn.forEach(({from:yn,to:Ln})=>{const nt=Ye.slice(an).map(yn,-1),Ge=Ye.slice(an).map(Ln),St=Ye.invert().map(nt,-1),nn=Ye.invert().map(Ge);Ot.push({oldRange:{from:St,to:nn},newRange:{from:nt,to:Ge}})})}),mt(Ot)}function Jt(it,Ye=0){const Ot=it.type===it.type.schema.topNodeType?0:1,tn=Ye,an=tn+it.nodeSize,bn=it.marks.map(nt=>{const Ge={type:nt.type.name};return Object.keys(nt.attrs).length&&(Ge.attrs=yr({},nt.attrs)),Ge}),yn=yr({},it.attrs),Ln={type:it.type.name,from:tn,to:an};return Object.keys(yn).length&&(Ln.attrs=yn),bn.length&&(Ln.marks=bn),it.content.childCount&&(Ln.content=[],it.forEach((nt,Ge)=>{var St;(St=Ln.content)===null||St===void 0||St.push(Jt(nt,Ye+Ge+Ot))})),it.text&&(Ln.text=it.text),Ln}function pn(it,Ye,lt){const Ot=[];return it===Ye?lt.resolve(it).marks().forEach(tn=>{const an=lt.resolve(it-1),bn=ke(an,tn.type);bn&&Ot.push(yr({mark:tn},bn))}):lt.nodesBetween(it,Ye,(tn,an)=>{Ot.push(...tn.marks.map(bn=>({from:an,to:an+tn.nodeSize,mark:bn})))}),Ot}const An=(it,Ye,lt,Ot=20)=>{const tn=it.doc.resolve(lt);let an=Ot,bn=null;for(;an>0&&bn===null;){const yn=tn.node(an);(yn==null?void 0:yn.type.name)===Ye?bn=yn:an-=1}return[bn,an]};function Fn(it,Ye,lt){return Object.fromEntries(Object.entries(lt).filter(([Ot])=>{const tn=it.find(an=>an.type===Ye&&an.name===Ot);return tn?tn.attribute.keepOnSplit:!1}))}function Un(it,Ye,lt={}){const{empty:Ot,ranges:tn}=it.selection,an=Ye?ot(Ye,it.schema):null;if(Ot)return!!(it.storedMarks||it.selection.$from.marks()).filter(St=>an?an.name===St.type.name:!0).find(St=>Xe(St.attrs,lt,{strict:!1}));let bn=0;const yn=[];if(tn.forEach(({$from:St,$to:nn})=>{const Nn=St.pos,hr=nn.pos;it.doc.nodesBetween(Nn,hr,(jr,Xr)=>{if(!jr.isText&&!jr.marks.length)return;const no=Math.max(Nn,Xr),Mo=Math.min(hr,Xr+jr.nodeSize),ko=Mo-no;bn+=ko,yn.push(...jr.marks.map(Bo=>({mark:Bo,from:no,to:Mo})))})}),bn===0)return!1;const Ln=yn.filter(St=>an?an.name===St.mark.type.name:!0).filter(St=>Xe(St.mark.attrs,lt,{strict:!1})).reduce((St,nn)=>St+nn.to-nn.from,0),nt=yn.filter(St=>an?St.mark.type!==an&&St.mark.type.excludes(an):!0).reduce((St,nn)=>St+nn.to-nn.from,0);return(Ln>0?Ln+nt:Ln)>=bn}function Gt(it,Ye,lt={}){if(!Ye)return tt(it,null,lt)||Un(it,null,lt);const Ot=$t(Ye,it.schema);return Ot==="node"?tt(it,Ye,lt):Ot==="mark"?Un(it,Ye,lt):!1}const Zt=(it,Ye)=>{const{$from:lt,$to:Ot,$anchor:tn}=it.selection;if(Ye){const an=wr(yn=>yn.type.name===Ye)(it.selection);if(!an)return!1;const bn=it.doc.resolve(an.pos+1);return tn.pos+1===bn.end()}return!(Ot.parentOffset<Ot.parent.nodeSize-2||lt.pos!==Ot.pos)},_n=it=>{const{$from:Ye,$to:lt}=it.selection;return!(Ye.parentOffset>0||Ye.pos!==lt.pos)};function Qn(it,Ye){const{nodeExtensions:lt}=O(Ye),Ot=lt.find(bn=>bn.name===it);if(!Ot)return!1;const tn={name:Ot.name,options:Ot.options,storage:Ot.storage},an=P(S(Ot,"group",tn));return typeof an!="string"?!1:an.split(" ").includes("list")}function At(it){var Ye;const lt=(Ye=it.type.createAndFill())===null||Ye===void 0?void 0:Ye.toJSON(),Ot=it.toJSON();return JSON.stringify(lt)===JSON.stringify(Ot)}function fn(it){return it instanceof t.qv}function gn(it,Ye,lt){const tn=it.state.doc.content.size,an=Oe(Ye,0,tn),bn=Oe(lt,0,tn),yn=it.coordsAtPos(an),Ln=it.coordsAtPos(bn,-1),nt=Math.min(yn.top,Ln.top),Ge=Math.max(yn.bottom,Ln.bottom),St=Math.min(yn.left,Ln.left),nn=Math.max(yn.right,Ln.right),Nn=nn-St,hr=Ge-nt,no={top:nt,bottom:Ge,left:St,right:nn,width:Nn,height:hr,x:St,y:nt};return No(yr({},no),{toJSON:()=>no})}function Mn(it,Ye,lt){var Ot;const{selection:tn}=Ye;let an=null;if(ct(tn)&&(an=tn.$cursor),an){const yn=(Ot=it.storedMarks)!==null&&Ot!==void 0?Ot:an.marks();return!!lt.isInSet(yn)||!yn.some(Ln=>Ln.type.excludes(lt))}const{ranges:bn}=tn;return bn.some(({$from:yn,$to:Ln})=>{let nt=yn.depth===0?it.doc.inlineContent&&it.doc.type.allowsMarkType(lt):!1;return it.doc.nodesBetween(yn.pos,Ln.pos,(Ge,St,nn)=>{if(nt)return!1;if(Ge.isInline){const Nn=!nn||nn.type.allowsMarkType(lt),hr=!!lt.isInSet(Ge.marks)||!Ge.marks.some(jr=>jr.type.excludes(lt));nt=Nn&&hr}return!nt}),nt})}const Wn=(it,Ye={})=>({tr:lt,state:Ot,dispatch:tn})=>{const{selection:an}=lt,{empty:bn,ranges:yn}=an,Ln=ot(it,Ot.schema);if(tn)if(bn){const nt=Et(Ot,Ln);lt.addStoredMark(Ln.create(yr(yr({},nt),Ye)))}else yn.forEach(nt=>{const Ge=nt.$from.pos,St=nt.$to.pos;Ot.doc.nodesBetween(Ge,St,(nn,Nn)=>{const hr=Math.max(Nn,Ge),jr=Math.min(Nn+nn.nodeSize,St);nn.marks.find(no=>no.type===Ln)?nn.marks.forEach(no=>{Ln===no.type&&lt.addMark(hr,jr,Ln.create(yr(yr({},no.attrs),Ye)))}):lt.addMark(hr,jr,Ln.create(Ye))})});return Mn(Ot,lt,Ln)},rr=(it,Ye)=>({tr:lt})=>(lt.setMeta(it,Ye),!0),Zn=(it,Ye={})=>({state:lt,dispatch:Ot,chain:tn})=>{const an=u(it,lt.schema);return an.isTextblock?tn().command(({commands:bn})=>(0,l.uJ)(an,Ye)(lt)?!0:bn.clearNodes()).command(({state:bn})=>(0,l.uJ)(an,Ye)(bn,Ot)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ur=it=>({tr:Ye,dispatch:lt})=>{if(lt){const{doc:Ot}=Ye,tn=Oe(it,0,Ot.content.size),an=t.qv.create(Ot,tn);Ye.setSelection(an)}return!0},Ar=it=>({tr:Ye,dispatch:lt})=>{if(lt){const{doc:Ot}=Ye,{from:tn,to:an}=typeof it=="number"?{from:it,to:it}:it,bn=t.Bs.atStart(Ot).from,yn=t.Bs.atEnd(Ot).to,Ln=Oe(tn,bn,yn),nt=Oe(an,bn,yn),Ge=t.Bs.create(Ot,Ln,nt);Ye.setSelection(Ge)}return!0},so=it=>({state:Ye,dispatch:lt})=>{const Ot=u(it,Ye.schema);return(0,v.bw)(Ot)(Ye,lt)};function io(it,Ye){const lt=it.storedMarks||it.selection.$to.parentOffset&&it.selection.$from.marks();if(lt){const Ot=lt.filter(tn=>Ye==null?void 0:Ye.includes(tn.type.name));it.tr.ensureMarks(Ot)}}const Qr=({keepMarks:it=!0}={})=>({tr:Ye,state:lt,dispatch:Ot,editor:tn})=>{const{selection:an,doc:bn}=Ye,{$from:yn,$to:Ln}=an,nt=tn.extensionManager.attributes,Ge=Fn(nt,yn.node().type.name,yn.node().attrs);if(an instanceof t.qv&&an.node.isBlock)return!yn.parentOffset||!(0,p.Ax)(bn,yn.pos)?!1:(Ot&&(it&&io(lt,tn.extensionManager.splittableMarks),Ye.split(yn.pos).scrollIntoView()),!0);if(!yn.parent.isBlock)return!1;if(Ot){const St=Ln.parentOffset===Ln.parent.content.size;an instanceof t.Bs&&Ye.deleteSelection();const nn=yn.depth===0?void 0:In(yn.node(-1).contentMatchAt(yn.indexAfter(-1)));let Nn=St&&nn?[{type:nn,attrs:Ge}]:void 0,hr=(0,p.Ax)(Ye.doc,Ye.mapping.map(yn.pos),1,Nn);if(!Nn&&!hr&&(0,p.Ax)(Ye.doc,Ye.mapping.map(yn.pos),1,nn?[{type:nn}]:void 0)&&(hr=!0,Nn=nn?[{type:nn,attrs:Ge}]:void 0),hr&&(Ye.split(Ye.mapping.map(yn.pos),1,Nn),nn&&!St&&!yn.parentOffset&&yn.parent.type!==nn)){const jr=Ye.mapping.map(yn.before()),Xr=Ye.doc.resolve(jr);yn.node(-1).canReplaceWith(Xr.index(),Xr.index()+1,nn)&&Ye.setNodeMarkup(Ye.mapping.map(yn.before()),nn)}it&&io(lt,tn.extensionManager.splittableMarks),Ye.scrollIntoView()}return!0},Eo=it=>({tr:Ye,state:lt,dispatch:Ot,editor:tn})=>{var an;const bn=u(it,lt.schema),{$from:yn,$to:Ln}=lt.selection,nt=lt.selection.node;if(nt&&nt.isBlock||yn.depth<2||!yn.sameParent(Ln))return!1;const Ge=yn.node(-1);if(Ge.type!==bn)return!1;const St=tn.extensionManager.attributes;if(yn.parent.content.size===0&&yn.node(-1).childCount===yn.indexAfter(-1)){if(yn.depth===2||yn.node(-3).type!==bn||yn.index(-2)!==yn.node(-2).childCount-1)return!1;if(Ot){let Xr=c.HY.empty;const no=yn.index(-1)?1:yn.index(-2)?2:3;for(let Ho=yn.depth-no;Ho>=yn.depth-3;Ho-=1)Xr=c.HY.from(yn.node(Ho).copy(Xr));const Mo=yn.indexAfter(-1)<yn.node(-2).childCount?1:yn.indexAfter(-2)<yn.node(-3).childCount?2:3,ko=Fn(St,yn.node().type.name,yn.node().attrs),Bo=((an=bn.contentMatch.defaultType)===null||an===void 0?void 0:an.createAndFill(ko))||void 0;Xr=Xr.append(c.HY.from(bn.createAndFill(null,Bo)||void 0));const Wo=yn.before(yn.depth-(no-1));Ye.replace(Wo,yn.after(-Mo),new c.p2(Xr,4-no,0));let Jo=-1;Ye.doc.nodesBetween(Wo,Ye.doc.content.size,(Ho,Go)=>{if(Jo>-1)return!1;Ho.isTextblock&&Ho.content.size===0&&(Jo=Go+1)}),Jo>-1&&Ye.setSelection(t.Bs.near(Ye.doc.resolve(Jo))),Ye.scrollIntoView()}return!0}const nn=Ln.pos===yn.end()?Ge.contentMatchAt(0).defaultType:null,Nn=Fn(St,Ge.type.name,Ge.attrs),hr=Fn(St,yn.node().type.name,yn.node().attrs);Ye.delete(yn.pos,Ln.pos);const jr=nn?[{type:bn,attrs:Nn},{type:nn,attrs:hr}]:[{type:bn,attrs:Nn}];if(!(0,p.Ax)(Ye.doc,yn.pos,2))return!1;if(Ot){const{selection:Xr,storedMarks:no}=lt,{splittableMarks:Mo}=tn.extensionManager,ko=no||Xr.$to.parentOffset&&Xr.$from.marks();if(Ye.split(yn.pos,2,jr).scrollIntoView(),!ko||!Ot)return!0;const Bo=ko.filter(Wo=>Mo.includes(Wo.type.name));Ye.ensureMarks(Bo)}return!0},So=(it,Ye)=>{const lt=wr(bn=>bn.type===Ye)(it.selection);if(!lt)return!0;const Ot=it.doc.resolve(Math.max(0,lt.pos-1)).before(lt.depth);if(Ot===void 0)return!0;const tn=it.doc.nodeAt(Ot);return lt.node.type===(tn==null?void 0:tn.type)&&(0,p.Mn)(it.doc,lt.pos)&&it.join(lt.pos),!0},Wt=(it,Ye)=>{const lt=wr(bn=>bn.type===Ye)(it.selection);if(!lt)return!0;const Ot=it.doc.resolve(lt.start).after(lt.depth);if(Ot===void 0)return!0;const tn=it.doc.nodeAt(Ot);return lt.node.type===(tn==null?void 0:tn.type)&&(0,p.Mn)(it.doc,Ot)&&it.join(Ot),!0};var Rn=Object.freeze({__proto__:null,blur:ae,clearContent:se,clearNodes:fe,command:le,createParagraphNear:Ae,cut:De,deleteCurrentNode:je,deleteNode:Je,deleteRange:Be,deleteSelection:st,enter:ht,exitCode:gt,extendMarkRange:Dt,first:ln,focus:Fe,forEach:Ke,insertContent:et,insertContentAt:ue,joinUp:we,joinDown:me,joinBackward:Ee,joinForward:he,joinItemBackward:xe,joinItemForward:Ve,keyboardShortcut:ze,lift:Le,liftEmptyBlock:It,liftListItem:on,newlineInCode:zt,resetAttributes:xn,scrollIntoView:Hn,selectAll:ir,selectNodeBackward:Vn,selectNodeForward:_t,selectParentNode:ut,selectTextblockEnd:Ce,selectTextblockStart:be,setContent:qe,setMark:Wn,setMeta:rr,setNode:Zn,setNodeSelection:ur,setTextSelection:Ar,sinkListItem:so,splitBlock:Qr,splitListItem:Eo,toggleList:(it,Ye,lt,Ot={})=>({editor:tn,tr:an,state:bn,dispatch:yn,chain:Ln,commands:nt,can:Ge})=>{const{extensions:St,splittableMarks:nn}=tn.extensionManager,Nn=u(it,bn.schema),hr=u(Ye,bn.schema),{selection:jr,storedMarks:Xr}=bn,{$from:no,$to:Mo}=jr,ko=no.blockRange(Mo),Bo=Xr||jr.$to.parentOffset&&jr.$from.marks();if(!ko)return!1;const Wo=wr(Jo=>Qn(Jo.type.name,St))(jr);if(ko.depth>=1&&Wo&&ko.depth-Wo.depth<=1){if(Wo.node.type===Nn)return nt.liftListItem(hr);if(Qn(Wo.node.type.name,St)&&Nn.validContent(Wo.node.content)&&yn)return Ln().command(()=>(an.setNodeMarkup(Wo.pos,Nn),!0)).command(()=>So(an,Nn)).command(()=>Wt(an,Nn)).run()}return!lt||!Bo||!yn?Ln().command(()=>Ge().wrapInList(Nn,Ot)?!0:nt.clearNodes()).wrapInList(Nn,Ot).command(()=>So(an,Nn)).command(()=>Wt(an,Nn)).run():Ln().command(()=>{const Jo=Ge().wrapInList(Nn,Ot),Ho=Bo.filter(Go=>nn.includes(Go.type.name));return an.ensureMarks(Ho),Jo?!0:nt.clearNodes()}).wrapInList(Nn,Ot).command(()=>So(an,Nn)).command(()=>Wt(an,Nn)).run()},toggleMark:(it,Ye={},lt={})=>({state:Ot,commands:tn})=>{const{extendEmptyMarkRange:an=!1}=lt,bn=ot(it,Ot.schema);return Un(Ot,bn,Ye)?tn.unsetMark(bn,{extendEmptyMarkRange:an}):tn.setMark(bn,Ye)},toggleNode:(it,Ye,lt={})=>({state:Ot,commands:tn})=>{const an=u(it,Ot.schema),bn=u(Ye,Ot.schema);return tt(Ot,an,lt)?tn.setNode(bn):tn.setNode(an,lt)},toggleWrap:(it,Ye={})=>({state:lt,commands:Ot})=>{const tn=u(it,lt.schema);return tt(lt,tn,Ye)?Ot.lift(tn):Ot.wrapIn(tn,Ye)},undoInputRule:()=>({state:it,dispatch:Ye})=>{const lt=it.plugins;for(let Ot=0;Ot<lt.length;Ot+=1){const tn=lt[Ot];let an;if(tn.spec.isInputRules&&(an=tn.getState(it))){if(Ye){const bn=it.tr,yn=an.transform;for(let Ln=yn.steps.length-1;Ln>=0;Ln-=1)bn.step(yn.steps[Ln].invert(yn.docs[Ln]));if(an.text){const Ln=bn.doc.resolve(an.from).marks();bn.replaceWith(an.from,an.to,it.schema.text(an.text,Ln))}else bn.delete(an.from,an.to)}return!0}}return!1},unsetAllMarks:()=>({tr:it,dispatch:Ye})=>{const{selection:lt}=it,{empty:Ot,ranges:tn}=lt;return Ot||Ye&&tn.forEach(an=>{it.removeMark(an.$from.pos,an.$to.pos)}),!0},unsetMark:(it,Ye={})=>({tr:lt,state:Ot,dispatch:tn})=>{var an;const{extendEmptyMarkRange:bn=!1}=Ye,{selection:yn}=lt,Ln=ot(it,Ot.schema),{$from:nt,empty:Ge,ranges:St}=yn;if(!tn)return!0;if(Ge&&bn){let{from:nn,to:Nn}=yn;const hr=(an=nt.marks().find(Xr=>Xr.type===Ln))===null||an===void 0?void 0:an.attrs,jr=ke(nt,Ln,hr);jr&&(nn=jr.from,Nn=jr.to),lt.removeMark(nn,Nn,Ln)}else St.forEach(nn=>{lt.removeMark(nn.$from.pos,nn.$to.pos,Ln)});return lt.removeStoredMark(Ln),!0},updateAttributes:(it,Ye={})=>({tr:lt,state:Ot,dispatch:tn})=>{let an=null,bn=null;const yn=$t(typeof it=="string"?it:it.name,Ot.schema);return yn?(yn==="node"&&(an=u(it,Ot.schema)),yn==="mark"&&(bn=ot(it,Ot.schema)),tn&&lt.selection.ranges.forEach(Ln=>{const nt=Ln.$from.pos,Ge=Ln.$to.pos;Ot.doc.nodesBetween(nt,Ge,(St,nn)=>{an&&an===St.type&&lt.setNodeMarkup(nn,void 0,yr(yr({},St.attrs),Ye)),bn&&St.marks.length&&St.marks.forEach(Nn=>{if(bn===Nn.type){const hr=Math.max(nn,nt),jr=Math.min(nn+St.nodeSize,Ge);lt.addMark(hr,jr,bn.create(yr(yr({},Nn.attrs),Ye)))}})})}),!0):!1},wrapIn:(it,Ye={})=>({state:lt,dispatch:Ot})=>{const tn=u(it,lt.schema);return(0,l.ym)(tn,Ye)(lt,Ot)},wrapInList:(it,Ye={})=>({state:lt,dispatch:Ot})=>{const tn=u(it,lt.schema);return(0,v.KI)(tn,Ye)(lt,Ot)}});const $n=ne.create({name:"commands",addCommands(){return yr({},Rn)}}),ar=ne.create({name:"editable",addProseMirrorPlugins(){return[new t.Sy({key:new t.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),lr=ne.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:it}=this;return[new t.Sy({key:new t.H$("focusEvents"),props:{handleDOMEvents:{focus:(Ye,lt)=>{it.isFocused=!0;const Ot=it.state.tr.setMeta("focus",{event:lt}).setMeta("addToHistory",!1);return Ye.dispatch(Ot),!1},blur:(Ye,lt)=>{it.isFocused=!1;const Ot=it.state.tr.setMeta("blur",{event:lt}).setMeta("addToHistory",!1);return Ye.dispatch(Ot),!1}}}})]}}),sr=ne.create({name:"keymap",addKeyboardShortcuts(){const it=()=>this.editor.commands.first(({commands:bn})=>[()=>bn.undoInputRule(),()=>bn.command(({tr:yn})=>{const{selection:Ln,doc:nt}=yn,{empty:Ge,$anchor:St}=Ln,{pos:nn,parent:Nn}=St,hr=St.parent.isTextblock?yn.doc.resolve(nn-1):St,jr=hr.parent.type.spec.isolating,Xr=St.pos-St.parentOffset,no=jr&&hr.parent.childCount===1?Xr===St.pos:t.Y1.atStart(nt).from===nn;return!Ge||!no||!Nn.type.isTextblock||Nn.textContent.length?!1:bn.clearNodes()}),()=>bn.deleteSelection(),()=>bn.joinBackward(),()=>bn.selectNodeBackward()]),Ye=()=>this.editor.commands.first(({commands:bn})=>[()=>bn.deleteSelection(),()=>bn.deleteCurrentNode(),()=>bn.joinForward(),()=>bn.selectNodeForward()]),Ot={Enter:()=>this.editor.commands.first(({commands:bn})=>[()=>bn.newlineInCode(),()=>bn.createParagraphNear(),()=>bn.liftEmptyBlock(),()=>bn.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:it,"Mod-Backspace":it,"Shift-Backspace":it,Delete:Ye,"Mod-Delete":Ye,"Mod-a":()=>this.editor.commands.selectAll()},tn=yr({},Ot),an=No(yr({},Ot),{"Ctrl-h":it,"Alt-Backspace":it,"Ctrl-d":Ye,"Ctrl-Alt-Backspace":Ye,"Alt-Delete":Ye,"Alt-d":Ye,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return Ze()||Pe()?an:tn},addProseMirrorPlugins(){return[new t.Sy({key:new t.H$("clearDocument"),appendTransaction:(it,Ye,lt)=>{if(!(it.some(hr=>hr.docChanged)&&!Ye.doc.eq(lt.doc)))return;const{empty:tn,from:an,to:bn}=Ye.selection,yn=t.Y1.atStart(Ye.doc).from,Ln=t.Y1.atEnd(Ye.doc).to;if(tn||!(an===yn&&bn===Ln)||!(lt.doc.textBetween(0,lt.doc.content.size," "," ").length===0))return;const St=lt.tr,nn=_({state:lt,transaction:St}),{commands:Nn}=new g({editor:this.editor,state:nn});if(Nn.clearNodes(),!!St.steps.length)return St}})]}}),fr=ne.create({name:"tabindex",addProseMirrorPlugins(){return[new t.Sy({key:new t.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var gr=Object.freeze({__proto__:null,ClipboardTextSerializer:re,Commands:$n,Editable:ar,FocusEvents:lr,Keymap:sr,Tabindex:fr});const Sr=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Gr(it,Ye,lt){const Ot=document.querySelector(`style[data-tiptap-style${lt?`-${lt}`:""}]`);if(Ot!==null)return Ot;const tn=document.createElement("style");return Ye&&tn.setAttribute("nonce",Ye),tn.setAttribute(`data-tiptap-style${lt?`-${lt}`:""}`,""),tn.innerHTML=it,document.getElementsByTagName("head")[0].appendChild(tn),tn}class Oo extends E{constructor(Ye={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(Ye),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Gr(Sr,this.options.injectNonce))}setOptions(Ye={}){this.options=yr(yr({},this.options),Ye),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(Ye,lt=!0){this.setOptions({editable:Ye}),lt&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(Ye,lt){const Ot=w(lt)?lt(Ye,[...this.state.plugins]):[...this.state.plugins,Ye],tn=this.state.reconfigure({plugins:Ot});this.view.updateState(tn)}unregisterPlugin(Ye){if(this.isDestroyed)return;const lt=typeof Ye=="string"?`${Ye}$`:Ye.key,Ot=this.state.reconfigure({plugins:this.state.plugins.filter(tn=>!tn.key.startsWith(lt))});this.view.updateState(Ot)}createExtensionManager(){const lt=[...this.options.enableCoreExtensions?Object.values(gr):[],...this.options.extensions].filter(Ot=>["extension","node","mark"].includes(Ot==null?void 0:Ot.type));this.extensionManager=new $(lt,this)}createCommandManager(){this.commandManager=new g({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const Ye=We(this.options.content,this.schema,this.options.parseOptions),lt=Se(Ye,this.options.autofocus);this.view=new a.tk(this.options.element,No(yr({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:t.yy.create({doc:Ye,selection:lt||void 0})}));const Ot=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(Ot),this.createNodeViews(),this.prependClass();const tn=this.view.dom;tn.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(Ye){this.isCapturingTransaction=!0,Ye(),this.isCapturingTransaction=!1;const lt=this.capturedTransaction;return this.capturedTransaction=null,lt}dispatchTransaction(Ye){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=Ye;return}Ye.steps.forEach(bn=>{var yn;return(yn=this.capturedTransaction)===null||yn===void 0?void 0:yn.step(bn)});return}const lt=this.state.apply(Ye),Ot=!this.state.selection.eq(lt.selection);this.view.updateState(lt),this.emit("transaction",{editor:this,transaction:Ye}),Ot&&this.emit("selectionUpdate",{editor:this,transaction:Ye});const tn=Ye.getMeta("focus"),an=Ye.getMeta("blur");tn&&this.emit("focus",{editor:this,event:tn.event,transaction:Ye}),an&&this.emit("blur",{editor:this,event:an.event,transaction:Ye}),!(!Ye.docChanged||Ye.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:Ye})}getAttributes(Ye){return wt(this.state,Ye)}isActive(Ye,lt){const Ot=typeof Ye=="string"?Ye:null,tn=typeof Ye=="string"?lt:Ye;return Gt(this.state,Ot,tn)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Vr(this.state.doc.content,this.schema)}getText(Ye){const{blockSeparator:lt=`

`,textSerializers:Ot={}}=Ye||{};return Dn(this.state.doc,{blockSeparator:lt,textSerializers:yr(yr({},oe(this.schema)),Ot)})}get isEmpty(){return At(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var Ye;return!(!((Ye=this.view)===null||Ye===void 0)&&Ye.docView)}}function zr(it){return new U({find:it.find,handler:({state:Ye,range:lt,match:Ot})=>{const tn=P(it.getAttributes,void 0,Ot);if(tn===!1||tn===null)return null;const{tr:an}=Ye,bn=Ot[Ot.length-1],yn=Ot[0];if(bn){const Ln=yn.search(/\S/),nt=lt.from+yn.indexOf(bn),Ge=nt+bn.length;if(pn(lt.from,lt.to,Ye.doc).filter(Nn=>Nn.mark.type.excluded.find(jr=>jr===it.type&&jr!==Nn.mark.type)).filter(Nn=>Nn.to>nt).length)return null;Ge<lt.to&&an.delete(Ge,lt.to),nt>lt.from&&an.delete(lt.from+Ln,nt);const nn=lt.from+Ln+bn.length;an.addMark(lt.from+Ln,nn,it.type.create(tn||{})),an.removeStoredMark(it.type)}}})}function yt(it){return new U({find:it.find,handler:({state:Ye,range:lt,match:Ot})=>{const tn=P(it.getAttributes,void 0,Ot)||{},{tr:an}=Ye,bn=lt.from;let yn=lt.to;const Ln=it.type.create(tn);if(Ot[1]){const nt=Ot[0].lastIndexOf(Ot[1]);let Ge=bn+nt;Ge>yn?Ge=yn:yn=Ge+Ot[1].length;const St=Ot[0][Ot[0].length-1];an.insertText(St,bn+Ot[0].length-1),an.replaceWith(Ge,yn,Ln)}else Ot[0]&&an.insert(bn-1,it.type.create(tn)).delete(an.mapping.map(bn),an.mapping.map(yn));an.scrollIntoView()}})}function ft(it){return new U({find:it.find,handler:({state:Ye,range:lt,match:Ot})=>{const tn=Ye.doc.resolve(lt.from),an=P(it.getAttributes,void 0,Ot)||{};if(!tn.node(-1).canReplaceWith(tn.index(-1),tn.indexAfter(-1),it.type))return null;Ye.tr.delete(lt.from,lt.to).setBlockType(lt.from,lt.from,it.type,an)}})}function vt(it){return new U({find:it.find,handler:({state:Ye,range:lt,match:Ot})=>{let tn=it.replace,an=lt.from;const bn=lt.to;if(Ot[1]){const yn=Ot[0].lastIndexOf(Ot[1]);tn+=Ot[0].slice(yn+Ot[1].length),an+=yn;const Ln=an-bn;Ln>0&&(tn=Ot[0].slice(yn-Ln,yn)+tn,an=bn)}Ye.tr.insertText(tn,an,bn)}})}function kt(it){return new U({find:it.find,handler:({state:Ye,range:lt,match:Ot,chain:tn})=>{const an=P(it.getAttributes,void 0,Ot)||{},bn=Ye.tr.delete(lt.from,lt.to),Ln=bn.doc.resolve(lt.from).blockRange(),nt=Ln&&(0,p.nd)(Ln,it.type,an);if(!nt)return null;if(bn.wrap(Ln,nt),it.keepMarks&&it.editor){const{selection:St,storedMarks:nn}=Ye,{splittableMarks:Nn}=it.editor.extensionManager,hr=nn||St.$to.parentOffset&&St.$from.marks();if(hr){const jr=hr.filter(Xr=>Nn.includes(Xr.type.name));bn.ensureMarks(jr)}}if(it.keepAttributes){const St=it.type.name==="bulletList"||it.type.name==="orderedList"?"listItem":"taskList";tn().updateAttributes(St,an).run()}const Ge=bn.doc.resolve(lt.from-1).nodeBefore;Ge&&Ge.type===it.type&&(0,p.Mn)(bn.doc,lt.from-1)&&(!it.joinPredicate||it.joinPredicate(Ot,Ge))&&bn.join(lt.from-1)}})}class Qt{constructor(Ye={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=yr(yr({},this.config),Ye),this.name=this.config.name,Ye.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(S(this,"addOptions",{name:this.name}))),this.storage=P(S(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Ye={}){return new Qt(Ye)}configure(Ye={}){const lt=this.extend();return lt.options=Z(this.options,Ye),lt.storage=P(S(lt,"addStorage",{name:lt.name,options:lt.options})),lt}extend(Ye={}){const lt=new Qt(Ye);return lt.parent=this,this.child=lt,lt.name=Ye.name?Ye.name:lt.parent.name,Ye.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${lt.name}".`),lt.options=P(S(lt,"addOptions",{name:lt.name})),lt.storage=P(S(lt,"addStorage",{name:lt.name,options:lt.options})),lt}static handleExit({editor:Ye,mark:lt}){const{tr:Ot}=Ye.state,tn=Ye.state.selection.$from;if(tn.pos===tn.end()){const bn=tn.marks();if(!!!bn.find(nt=>(nt==null?void 0:nt.type.name)===lt.name))return!1;const Ln=bn.find(nt=>(nt==null?void 0:nt.type.name)===lt.name);return Ln&&Ot.removeStoredMark(Ln),Ot.insertText(" ",tn.pos),Ye.view.dispatch(Ot),!0}return!1}}class Cn{constructor(Ye={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=yr(yr({},this.config),Ye),this.name=this.config.name,Ye.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=P(S(this,"addOptions",{name:this.name}))),this.storage=P(S(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Ye={}){return new Cn(Ye)}configure(Ye={}){const lt=this.extend();return lt.options=Z(this.options,Ye),lt.storage=P(S(lt,"addStorage",{name:lt.name,options:lt.options})),lt}extend(Ye={}){const lt=new Cn(Ye);return lt.parent=this,this.child=lt,lt.name=Ye.name?Ye.name:lt.parent.name,Ye.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${lt.name}".`),lt.options=P(S(lt,"addOptions",{name:lt.name})),lt.storage=P(S(lt,"addStorage",{name:lt.name,options:lt.options})),lt}}function En(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class Kn{constructor(Ye,lt,Ot){this.isDragging=!1,this.component=Ye,this.editor=lt.editor,this.options=yr({stopEvent:null,ignoreMutation:null},Ot),this.extension=lt.extension,this.node=lt.node,this.decorations=lt.decorations,this.getPos=lt.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(Ye){var lt,Ot,tn,an,bn,yn,Ln;const{view:nt}=this.editor,Ge=Ye.target,St=Ge.nodeType===3?(lt=Ge.parentElement)===null||lt===void 0?void 0:lt.closest("[data-drag-handle]"):Ge.closest("[data-drag-handle]");if(!this.dom||!((Ot=this.contentDOM)===null||Ot===void 0)&&Ot.contains(Ge)||!St)return;let nn=0,Nn=0;if(this.dom!==St){const Xr=this.dom.getBoundingClientRect(),no=St.getBoundingClientRect(),Mo=(tn=Ye.offsetX)!==null&&tn!==void 0?tn:(an=Ye.nativeEvent)===null||an===void 0?void 0:an.offsetX,ko=(bn=Ye.offsetY)!==null&&bn!==void 0?bn:(yn=Ye.nativeEvent)===null||yn===void 0?void 0:yn.offsetY;nn=no.x-Xr.x+Mo,Nn=no.y-Xr.y+ko}(Ln=Ye.dataTransfer)===null||Ln===void 0||Ln.setDragImage(this.dom,nn,Nn);const hr=t.qv.create(nt.state.doc,this.getPos()),jr=nt.state.tr.setSelection(hr);nt.dispatch(jr)}stopEvent(Ye){var lt;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:Ye});const Ot=Ye.target;if(!(this.dom.contains(Ot)&&!(!((lt=this.contentDOM)===null||lt===void 0)&&lt.contains(Ot))))return!1;const an=Ye.type.startsWith("drag"),bn=Ye.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(Ot.tagName)||Ot.isContentEditable)&&!bn&&!an)return!0;const{isEditable:Ln}=this.editor,{isDragging:nt}=this,Ge=!!this.node.type.spec.draggable,St=t.qv.isSelectable(this.node),nn=Ye.type==="copy",Nn=Ye.type==="paste",hr=Ye.type==="cut",jr=Ye.type==="mousedown";if(!Ge&&St&&an&&Ye.preventDefault(),Ge&&an&&!nt)return Ye.preventDefault(),!1;if(Ge&&Ln&&!nt&&jr){const Xr=Ot.closest("[data-drag-handle]");Xr&&(this.dom===Xr||this.dom.contains(Xr))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(nt||bn||nn||Nn||hr||jr&&St)}ignoreMutation(Ye){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:Ye}):this.node.isLeaf||this.node.isAtom?!0:Ye.type==="selection"||this.dom.contains(Ye.target)&&Ye.type==="childList"&&(Ze()||En())&&this.editor.isFocused&&[...Array.from(Ye.addedNodes),...Array.from(Ye.removedNodes)].every(Ot=>Ot.isContentEditable)?!1:this.contentDOM===Ye.target&&Ye.type==="attributes"?!0:!this.contentDOM.contains(Ye.target)}updateAttributes(Ye){this.editor.commands.command(({tr:lt})=>{const Ot=this.getPos();return lt.setNodeMarkup(Ot,void 0,yr(yr({},this.node.attrs),Ye)),!0})}deleteNode(){const Ye=this.getPos(),lt=Ye+this.node.nodeSize;this.editor.commands.deleteRange({from:Ye,to:lt})}}function or(it){return new H({find:it.find,handler:({state:Ye,range:lt,match:Ot})=>{const tn=P(it.getAttributes,void 0,Ot);if(tn===!1||tn===null)return null;const{tr:an}=Ye,bn=Ot[Ot.length-1],yn=Ot[0];let Ln=lt.to;if(bn){const nt=yn.search(/\S/),Ge=lt.from+yn.indexOf(bn),St=Ge+bn.length;if(pn(lt.from,lt.to,Ye.doc).filter(Nn=>Nn.mark.type.excluded.find(jr=>jr===it.type&&jr!==Nn.mark.type)).filter(Nn=>Nn.to>Ge).length)return null;St<lt.to&&an.delete(St,lt.to),Ge>lt.from&&an.delete(lt.from+nt,Ge),Ln=lt.from+nt+bn.length,an.addMark(lt.from+nt,Ln,it.type.create(tn||{})),an.removeStoredMark(it.type)}}})}function Yn(it){return it.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Er(it){return typeof it=="string"}function eo(it){return new H({find:it.find,handler({match:Ye,chain:lt,range:Ot}){const tn=P(it.getAttributes,void 0,Ye);if(tn===!1||tn===null)return null;Ye.input&&lt().deleteRange(Ot).insertContentAt(Ot.from,{type:it.type.name,attrs:tn})}})}function Zr(it){return new H({find:it.find,handler:({state:Ye,range:lt,match:Ot})=>{let tn=it.replace,an=lt.from;const bn=lt.to;if(Ot[1]){const yn=Ot[0].lastIndexOf(Ot[1]);tn+=Ot[0].slice(yn+Ot[1].length),an+=yn;const Ln=an-bn;Ln>0&&(tn=Ot[0].slice(yn-Ln,yn)+tn,an=bn)}Ye.tr.insertText(tn,an,bn)}})}class co{constructor(Ye){this.transaction=Ye,this.currentStep=this.transaction.steps.length}map(Ye){let lt=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((tn,an)=>{const bn=an.getMap().mapResult(tn);return bn.deleted&&(lt=!0),bn.pos},Ye),deleted:lt}}}},99734:(K,f,e)=>{"use strict";e.d(f,{V6:()=>i,ZP:()=>i});var t=e(5865);const a=/^\s*>\s$/,i=t.NB.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:c}){return["blockquote",(0,t.P1)(this.options.HTMLAttributes,c),0]},addCommands(){return{setBlockquote:()=>({commands:c})=>c.wrapIn(this.name),toggleBlockquote:()=>({commands:c})=>c.toggleWrap(this.name),unsetBlockquote:()=>({commands:c})=>c.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,t.S0)({find:a,type:this.type})]}})},67937:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>l,d8:()=>l});var t=e(5865);const a=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,i=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,c=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,p=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,l=t.vc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:v=>v.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:v=>/^(bold(er)?|[5-9]\d{2,})$/.test(v)&&null}]},renderHTML({HTMLAttributes:v}){return["strong",(0,t.P1)(this.options.HTMLAttributes,v),0]},addCommands(){return{setBold:()=>({commands:v})=>v.setMark(this.name),toggleBold:()=>({commands:v})=>v.toggleMark(this.name),unsetBold:()=>({commands:v})=>v.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,t.Cf)({find:a,type:this.type}),(0,t.Cf)({find:c,type:this.type})]},addPasteRules(){return[(0,t.K9)({find:i,type:this.type}),(0,t.K9)({find:p,type:this.type})]}})},30561:(K,f,e)=>{"use strict";e.d(f,{DY:()=>p,ZP:()=>p});var t=e(5865);const a=t.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:l}){return["li",(0,t.P1)(this.options.HTMLAttributes,l),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),i=t.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:l=>l.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:l}){return["span",(0,t.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:l,commands:v})=>{const _=(0,t.Jo)(l,this.type);return Object.entries(_).some(([,E])=>!!E)?!0:v.unsetMark(this.name)}}}}),c=/^\s*([-+*])\s$/,p=t.NB.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:l}){return["ul",(0,t.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{toggleBulletList:()=>({commands:l,chain:v})=>this.options.keepAttributes?v().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a.name,this.editor.getAttributes(i.name)).run():l.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let l=(0,t.S0)({find:c,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(l=(0,t.S0)({find:c,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(i.name),editor:this.editor})),[l]}})},83416:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>p,dn:()=>p});var t=e(5865),a=e(2376);const i=/^```([a-z]+)?[\s\n]$/,c=/^~~~([a-z]+)?[\s\n]$/,p=t.NB.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:l=>{var v;const{languageClassPrefix:_}=this.options,S=[...((v=l.firstElementChild)===null||v===void 0?void 0:v.classList)||[]].filter(O=>O.startsWith(_)).map(O=>O.replace(_,""))[0];return S||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:l,HTMLAttributes:v}){return["pre",(0,t.P1)(this.options.HTMLAttributes,v),["code",{class:l.attrs.language?this.options.languageClassPrefix+l.attrs.language:null},0]]},addCommands(){return{setCodeBlock:l=>({commands:v})=>v.setNode(this.name,l),toggleCodeBlock:l=>({commands:v})=>v.toggleNode(this.name,"paragraph",l)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:l,$anchor:v}=this.editor.state.selection,_=v.pos===1;return!l||v.parent.type.name!==this.name?!1:_||!v.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:l})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:v}=l,{selection:_}=v,{$from:g,empty:E}=_;if(!E||g.parent.type!==this.type)return!1;const S=g.parentOffset===g.parent.nodeSize-2,O=g.parent.textContent.endsWith(`

`);return!S||!O?!1:l.chain().command(({tr:A})=>(A.delete(g.pos-2,g.pos),!0)).exitCode().run()},ArrowDown:({editor:l})=>{if(!this.options.exitOnArrowDown)return!1;const{state:v}=l,{selection:_,doc:g}=v,{$from:E,empty:S}=_;if(!S||E.parent.type!==this.type||!(E.parentOffset===E.parent.nodeSize-2))return!1;const A=E.after();return A===void 0||g.nodeAt(A)?!1:l.commands.exitCode()}}},addInputRules(){return[(0,t.zK)({find:i,type:this.type,getAttributes:l=>({language:l[1]})}),(0,t.zK)({find:c,type:this.type,getAttributes:l=>({language:l[1]})})]},addProseMirrorPlugins(){return[new a.Sy({key:new a.H$("codeBlockVSCodeHandler"),props:{handlePaste:(l,v)=>{if(!v.clipboardData||this.editor.isActive(this.type.name))return!1;const _=v.clipboardData.getData("text/plain"),g=v.clipboardData.getData("vscode-editor-data"),E=g?JSON.parse(g):void 0,S=E==null?void 0:E.mode;if(!_||!S)return!1;const{tr:O}=l.state;return O.replaceSelectionWith(this.type.create({language:S})),O.setSelection(a.Bs.near(O.doc.resolve(Math.max(0,O.selection.from-2)))),O.insertText(_.replace(/\r\n?/g,`
`)),O.setMeta("paste",!0),l.dispatch(O),!0}}})]}})},57355:(K,f,e)=>{"use strict";e.d(f,{EK:()=>c,ZP:()=>c});var t=e(5865);const a=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,i=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,c=t.vc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:p}){return["code",(0,t.P1)(this.options.HTMLAttributes,p),0]},addCommands(){return{setCode:()=>({commands:p})=>p.setMark(this.name),toggleCode:()=>({commands:p})=>p.toggleMark(this.name),unsetCode:()=>({commands:p})=>p.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,t.Cf)({find:a,type:this.type})]},addPasteRules(){return[(0,t.K9)({find:i,type:this.type})]}})},20336:(K,f,e)=>{"use strict";e.d(f,{B:()=>a,Z:()=>a});var t=e(5865);const a=t.NB.create({name:"doc",topNode:!0,content:"block+"})},82973:(K,f,e)=>{"use strict";e.d(f,{m:()=>i});var t=e(5865),a=e(24251);const i=t.hj.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[(0,a.q)(this.options)]}})},35525:(K,f,e)=>{"use strict";e.d(f,{U:()=>a});var t=e(5865);const a=t.NB.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",(0,t.P1)(this.options.HTMLAttributes,i)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:i,chain:c,state:p,editor:l})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:v,storedMarks:_}=p;if(v.$from.parent.type.spec.isolating)return!1;const{keepMarks:g}=this.options,{splittableMarks:E}=l.extensionManager,S=_||v.$to.parentOffset&&v.$from.marks();return c().insertContent({type:this.name}).command(({tr:O,dispatch:A})=>{if(A&&S&&g){const u=S.filter(o=>E.includes(o.type.name));O.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},7490:(K,f,e)=>{"use strict";e.d(f,{X:()=>a,Z:()=>a});var t=e(5865);const a=t.NB.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:c}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,(0,t.P1)(this.options.HTMLAttributes,c),0]},addCommands(){return{setHeading:i=>({commands:c})=>this.options.levels.includes(i.level)?c.setNode(this.name,i):!1,toggleHeading:i=>({commands:c})=>this.options.levels.includes(i.level)?c.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,c)=>No(yr({},i),{[`Mod-Alt-${c}`]:()=>this.editor.commands.toggleHeading({level:c})}),{})},addInputRules(){return this.options.levels.map(i=>(0,t.zK)({find:new RegExp(`^(#{1,${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}})},21902:(K,f,e)=>{"use strict";e.d(f,{A:()=>i,Z:()=>i});var t=e(5865),a=e(5284);const i=t.hj.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:c,dispatch:p})=>(0,a.Yw)(c,p),redo:()=>({state:c,dispatch:p})=>(0,a.KX)(c,p)}},addProseMirrorPlugins(){return[(0,a.m8)(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}})},25748:(K,f,e)=>{"use strict";e.d(f,{Z:()=>i,b:()=>i});var t=e(5865),a=e(2376);const i=t.NB.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:c}){return["hr",(0,t.P1)(this.options.HTMLAttributes,c)]},addCommands(){return{setHorizontalRule:()=>({chain:c,state:p})=>{const{$to:l}=p.selection,v=c();return l.parentOffset===0?v.insertContentAt(l.pos-2,{type:this.name}):v.insertContent({type:this.name}),v.command(({tr:_,dispatch:g})=>{var E;if(g){const{$to:S}=_.selection,O=S.end();if(S.nodeAfter)S.nodeAfter.isTextblock?_.setSelection(a.Bs.create(_.doc,S.pos+1)):S.nodeAfter.isBlock?_.setSelection(a.qv.create(_.doc,S.pos)):_.setSelection(a.Bs.create(_.doc,S.pos));else{const A=(E=S.parent.type.contentMatch.defaultType)===null||E===void 0?void 0:E.create();A&&(_.insert(O,A),_.setSelection(a.Bs.create(_.doc,O+1)))}_.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,t.x2)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}})},73816:(K,f,e)=>{"use strict";e.d(f,{Tx:()=>l,ZP:()=>l});var t=e(5865);const a=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,i=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,c=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,p=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,l=t.vc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:v=>v.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:v}){return["em",(0,t.P1)(this.options.HTMLAttributes,v),0]},addCommands(){return{setItalic:()=>({commands:v})=>v.setMark(this.name),toggleItalic:()=>({commands:v})=>v.toggleMark(this.name),unsetItalic:()=>({commands:v})=>v.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,t.Cf)({find:a,type:this.type}),(0,t.Cf)({find:c,type:this.type})]},addPasteRules(){return[(0,t.K9)({find:i,type:this.type}),(0,t.K9)({find:p,type:this.type})]}})},71462:(K,f,e)=>{"use strict";e.d(f,{r:()=>Gn,Z:()=>Gn});var t=e(5865);const a="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",i="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",c=(Kt,wt)=>{for(const Lt in wt)Kt[Lt]=wt[Lt];return Kt},p="numeric",l="ascii",v="alpha",_="asciinumeric",g="alphanumeric",E="domain",S="emoji",O="scheme",A="slashscheme",u="whitespace";function o(Kt,wt){return Kt in wt||(wt[Kt]=[]),wt[Kt]}function s(Kt,wt,Lt){wt[p]&&(wt[_]=!0,wt[g]=!0),wt[l]&&(wt[_]=!0,wt[v]=!0),wt[_]&&(wt[g]=!0),wt[v]&&(wt[g]=!0),wt[g]&&(wt[E]=!0),wt[S]&&(wt[E]=!0);for(const mt in wt){const Mt=o(mt,Lt);Mt.indexOf(Kt)<0&&Mt.push(Kt)}}function w(Kt,wt){const Lt={};for(const mt in wt)wt[mt].indexOf(Kt)>=0&&(Lt[mt]=!0);return Lt}function P(Kt){Kt===void 0&&(Kt=null),this.j={},this.jr=[],this.jd=null,this.t=Kt}P.groups={},P.prototype={accepts(){return!!this.t},go(Kt){const wt=this,Lt=wt.j[Kt];if(Lt)return Lt;for(let mt=0;mt<wt.jr.length;mt++){const Mt=wt.jr[mt][0],Jt=wt.jr[mt][1];if(Jt&&Mt.test(Kt))return Jt}return wt.jd},has(Kt,wt){return wt===void 0&&(wt=!1),wt?Kt in this.j:!!this.go(Kt)},ta(Kt,wt,Lt,mt){for(let Mt=0;Mt<Kt.length;Mt++)this.tt(Kt[Mt],wt,Lt,mt)},tr(Kt,wt,Lt,mt){mt=mt||P.groups;let Mt;return wt&&wt.j?Mt=wt:(Mt=new P(wt),Lt&&mt&&s(wt,Lt,mt)),this.jr.push([Kt,Mt]),Mt},ts(Kt,wt,Lt,mt){let Mt=this;const Jt=Kt.length;if(!Jt)return Mt;for(let pn=0;pn<Jt-1;pn++)Mt=Mt.tt(Kt[pn]);return Mt.tt(Kt[Jt-1],wt,Lt,mt)},tt(Kt,wt,Lt,mt){mt=mt||P.groups;const Mt=this;if(wt&&wt.j)return Mt.j[Kt]=wt,wt;const Jt=wt;let pn,An=Mt.go(Kt);if(An?(pn=new P,c(pn.j,An.j),pn.jr.push.apply(pn.jr,An.jr),pn.jd=An.jd,pn.t=An.t):pn=new P,Jt){if(mt)if(pn.t&&typeof pn.t=="string"){const Fn=c(w(pn.t,mt),Lt);s(Jt,Fn,mt)}else Lt&&s(Jt,Lt,mt);pn.t=Jt}return Mt.j[Kt]=pn,pn}};const C=(Kt,wt,Lt,mt,Mt)=>Kt.ta(wt,Lt,mt,Mt),x=(Kt,wt,Lt,mt,Mt)=>Kt.tr(wt,Lt,mt,Mt),D=(Kt,wt,Lt,mt,Mt)=>Kt.ts(wt,Lt,mt,Mt),y=(Kt,wt,Lt,mt,Mt)=>Kt.tt(wt,Lt,mt,Mt),M="WORD",T="UWORD",R="LOCALHOST",F="TLD",N="UTLD",U="SCHEME",V="SLASH_SCHEME",W="NUM",L="WS",k="NL",H="OPENBRACE",G="OPENBRACKET",q="OPENANGLEBRACKET",z="OPENPAREN",ee="CLOSEBRACE",$="CLOSEBRACKET",J="CLOSEANGLEBRACKET",j="CLOSEPAREN",Z="AMPERSAND",ne="APOSTROPHE",ie="ASTERISK",oe="AT",re="BACKSLASH",ae="BACKTICK",se="CARET",fe="COLON",le="COMMA",Ae="DOLLAR",De="DOT",je="EQUALS",Je="EXCLAMATION",Be="HYPHEN",st="PERCENT",ht="PIPE",gt="PLUS",Xe="POUND",Re="QUERY",Ne="QUOTE",ke="SEMI",ot="SLASH",Dt="TILDE",ln="UNDERSCORE",ct="EMOJI",Oe="SYM";var Se=Object.freeze({__proto__:null,WORD:M,UWORD:T,LOCALHOST:R,TLD:F,UTLD:N,SCHEME:U,SLASH_SCHEME:V,NUM:W,WS:L,NL:k,OPENBRACE:H,OPENBRACKET:G,OPENANGLEBRACKET:q,OPENPAREN:z,CLOSEBRACE:ee,CLOSEBRACKET:$,CLOSEANGLEBRACKET:J,CLOSEPAREN:j,AMPERSAND:Z,APOSTROPHE:ne,ASTERISK:ie,AT:oe,BACKSLASH:re,BACKTICK:ae,CARET:se,COLON:fe,COMMA:le,DOLLAR:Ae,DOT:De,EQUALS:je,EXCLAMATION:Je,HYPHEN:Be,PERCENT:st,PIPE:ht,PLUS:gt,POUND:Xe,QUERY:Re,QUOTE:Ne,SEMI:ke,SLASH:ot,TILDE:Dt,UNDERSCORE:ln,EMOJI:ct,SYM:Oe});const Ze=/[a-z]/,Fe=new RegExp("\\p{L}","u"),Ke=new RegExp("\\p{Emoji}","u"),et=/\ufe0f/,Qe=/\d/,$e=/\s/;var Te=Object.freeze({__proto__:null,ASCII_LETTER:Ze,LETTER:Fe,EMOJI:Ke,EMOJI_VARIATION:et,DIGIT:Qe,SPACE:$e});const te=`
`,ue="\uFE0F",we="\u200D";let me=null,Ee=null;function he(Kt){Kt===void 0&&(Kt=[]);const wt={};P.groups=wt;const Lt=new P;me==null&&(me=Ie(a)),Ee==null&&(Ee=Ie(i)),y(Lt,"'",ne),y(Lt,"{",H),y(Lt,"[",G),y(Lt,"<",q),y(Lt,"(",z),y(Lt,"}",ee),y(Lt,"]",$),y(Lt,">",J),y(Lt,")",j),y(Lt,"&",Z),y(Lt,"*",ie),y(Lt,"@",oe),y(Lt,"`",ae),y(Lt,"^",se),y(Lt,":",fe),y(Lt,",",le),y(Lt,"$",Ae),y(Lt,".",De),y(Lt,"=",je),y(Lt,"!",Je),y(Lt,"-",Be),y(Lt,"%",st),y(Lt,"|",ht),y(Lt,"+",gt),y(Lt,"#",Xe),y(Lt,"?",Re),y(Lt,'"',Ne),y(Lt,"/",ot),y(Lt,";",ke),y(Lt,"~",Dt),y(Lt,"_",ln),y(Lt,"\\",re);const mt=x(Lt,Qe,W,{[p]:!0});x(mt,Qe,mt);const Mt=x(Lt,Ze,M,{[l]:!0});x(Mt,Ze,Mt);const Jt=x(Lt,Fe,T,{[v]:!0});x(Jt,Ze),x(Jt,Fe,Jt);const pn=x(Lt,$e,L,{[u]:!0});y(Lt,te,k,{[u]:!0}),y(pn,te),x(pn,$e,pn);const An=x(Lt,Ke,ct,{[S]:!0});x(An,Ke,An),y(An,ue,An);const Fn=y(An,we);x(Fn,Ke,An);const Un=[[Ze,Mt]],Gt=[[Ze,null],[Fe,Jt]];for(let Zt=0;Zt<me.length;Zt++)Pe(Lt,me[Zt],F,M,Un);for(let Zt=0;Zt<Ee.length;Zt++)Pe(Lt,Ee[Zt],N,T,Gt);s(F,{tld:!0,ascii:!0},wt),s(N,{utld:!0,alpha:!0},wt),Pe(Lt,"file",U,M,Un),Pe(Lt,"mailto",U,M,Un),Pe(Lt,"http",V,M,Un),Pe(Lt,"https",V,M,Un),Pe(Lt,"ftp",V,M,Un),Pe(Lt,"ftps",V,M,Un),s(U,{scheme:!0,ascii:!0},wt),s(V,{slashscheme:!0,ascii:!0},wt),Kt=Kt.sort((Zt,_n)=>Zt[0]>_n[0]?1:-1);for(let Zt=0;Zt<Kt.length;Zt++){const _n=Kt[Zt][0],At=Kt[Zt][1]?{[O]:!0}:{[A]:!0};_n.indexOf("-")>=0?At[E]=!0:Ze.test(_n)?Qe.test(_n)?At[_]=!0:At[l]=!0:At[p]=!0,D(Lt,_n,_n,At)}return D(Lt,"localhost",R,{ascii:!0}),Lt.jd=new P(Oe),{start:Lt,tokens:c({groups:wt},Se)}}function xe(Kt,wt){const Lt=Ve(wt.replace(/[A-Z]/g,An=>An.toLowerCase())),mt=Lt.length,Mt=[];let Jt=0,pn=0;for(;pn<mt;){let An=Kt,Fn=null,Un=0,Gt=null,Zt=-1,_n=-1;for(;pn<mt&&(Fn=An.go(Lt[pn]));)An=Fn,An.accepts()?(Zt=0,_n=0,Gt=An):Zt>=0&&(Zt+=Lt[pn].length,_n++),Un+=Lt[pn].length,Jt+=Lt[pn].length,pn++;Jt-=Zt,pn-=_n,Un-=Zt,Mt.push({t:Gt.t,v:wt.slice(Jt-Un,Jt),s:Jt-Un,e:Jt})}return Mt}function Ve(Kt){const wt=[],Lt=Kt.length;let mt=0;for(;mt<Lt;){let Mt=Kt.charCodeAt(mt),Jt,pn=Mt<55296||Mt>56319||mt+1===Lt||(Jt=Kt.charCodeAt(mt+1))<56320||Jt>57343?Kt[mt]:Kt.slice(mt,mt+2);wt.push(pn),mt+=pn.length}return wt}function Pe(Kt,wt,Lt,mt,Mt){let Jt;const pn=wt.length;for(let An=0;An<pn-1;An++){const Fn=wt[An];Kt.j[Fn]?Jt=Kt.j[Fn]:(Jt=new P(mt),Jt.jr=Mt.slice(),Kt.j[Fn]=Jt),Kt=Jt}return Jt=new P(Lt),Jt.jr=Mt.slice(),Kt.j[wt[pn-1]]=Jt,Jt}function Ie(Kt){const wt=[],Lt=[];let mt=0,Mt="0123456789";for(;mt<Kt.length;){let Jt=0;for(;Mt.indexOf(Kt[mt+Jt])>=0;)Jt++;if(Jt>0){wt.push(Lt.join(""));for(let pn=parseInt(Kt.substring(mt,mt+Jt),10);pn>0;pn--)Lt.pop();mt+=Jt}else Lt.push(Kt[mt]),mt++}return wt}const ze={defaultProtocol:"http",events:null,format:Le,formatHref:Le,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tt(Kt,wt){wt===void 0&&(wt=null);let Lt=c({},ze);Kt&&(Lt=c(Lt,Kt instanceof tt?Kt.o:Kt));const mt=Lt.ignoreTags,Mt=[];for(let Jt=0;Jt<mt.length;Jt++)Mt.push(mt[Jt].toUpperCase());this.o=Lt,wt&&(this.defaultRender=wt),this.ignoreTags=Mt}tt.prototype={o:ze,ignoreTags:[],defaultRender(Kt){return Kt},check(Kt){return this.get("validate",Kt.toString(),Kt)},get(Kt,wt,Lt){const mt=wt!=null;let Mt=this.o[Kt];return Mt&&(typeof Mt=="object"?(Mt=Lt.t in Mt?Mt[Lt.t]:ze[Kt],typeof Mt=="function"&&mt&&(Mt=Mt(wt,Lt))):typeof Mt=="function"&&mt&&(Mt=Mt(wt,Lt.t,Lt)),Mt)},getObj(Kt,wt,Lt){let mt=this.o[Kt];return typeof mt=="function"&&wt!=null&&(mt=mt(wt,Lt.t,Lt)),mt},render(Kt){const wt=Kt.render(this);return(this.get("render",null,Kt)||this.defaultRender)(wt,Kt.t,Kt)}};function Le(Kt){return Kt}var It=Object.freeze({__proto__:null,defaults:ze,Options:tt,assign:c});function on(Kt,wt){this.t="token",this.v=Kt,this.tk=wt}on.prototype={isLink:!1,toString(){return this.v},toHref(Kt){return this.toString()},toFormattedString(Kt){const wt=this.toString(),Lt=Kt.get("truncate",wt,this),mt=Kt.get("format",wt,this);return Lt&&mt.length>Lt?mt.substring(0,Lt)+"\u2026":mt},toFormattedHref(Kt){return Kt.get("formatHref",this.toHref(Kt.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(Kt){return Kt===void 0&&(Kt=ze.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(Kt),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(Kt){return{type:this.t,value:this.toFormattedString(Kt),isLink:this.isLink,href:this.toFormattedHref(Kt),start:this.startIndex(),end:this.endIndex()}},validate(Kt){return Kt.get("validate",this.toString(),this)},render(Kt){const wt=this,Lt=this.toHref(Kt.get("defaultProtocol")),mt=Kt.get("formatHref",Lt,this),Mt=Kt.get("tagName",Lt,wt),Jt=this.toFormattedString(Kt),pn={},An=Kt.get("className",Lt,wt),Fn=Kt.get("target",Lt,wt),Un=Kt.get("rel",Lt,wt),Gt=Kt.getObj("attributes",Lt,wt),Zt=Kt.getObj("events",Lt,wt);return pn.href=mt,An&&(pn.class=An),Fn&&(pn.target=Fn),Un&&(pn.rel=Un),Gt&&c(pn,Gt),{tagName:Mt,attributes:pn,content:Jt,eventListeners:Zt}}};function zt(Kt,wt){class Lt extends on{constructor(Mt,Jt){super(Mt,Jt),this.t=Kt}}for(const mt in wt)Lt.prototype[mt]=wt[mt];return Lt.t=Kt,Lt}const $t=zt("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Bt=zt("text"),xn=zt("nl"),Hn=zt("url",{isLink:!0,toHref(Kt){return Kt===void 0&&(Kt=ze.defaultProtocol),this.hasProtocol()?this.v:`${Kt}://${this.v}`},hasProtocol(){const Kt=this.tk;return Kt.length>=2&&Kt[0].t!==R&&Kt[1].t===fe}});var ir=Object.freeze({__proto__:null,MultiToken:on,Base:on,createTokenClass:zt,Email:$t,Text:Bt,Nl:xn,Url:Hn});const Vn=Kt=>new P(Kt);function _t(Kt){let{groups:wt}=Kt;const Lt=wt.domain.concat([Z,ie,oe,re,ae,se,Ae,je,Be,W,st,ht,gt,Xe,ot,Oe,Dt,ln]),mt=[ne,J,ee,$,j,fe,le,De,Je,q,H,G,z,Re,Ne,ke],Mt=[Z,ne,ie,re,ae,se,ee,Ae,je,Be,H,st,ht,gt,Xe,Re,ot,Oe,Dt,ln],Jt=Vn(),pn=y(Jt,Dt);C(pn,Mt,pn),C(pn,wt.domain,pn);const An=Vn(),Fn=Vn(),Un=Vn();C(Jt,wt.domain,An),C(Jt,wt.scheme,Fn),C(Jt,wt.slashscheme,Un),C(An,Mt,pn),C(An,wt.domain,An);const Gt=y(An,oe);y(pn,oe,Gt),y(Fn,oe,Gt),y(Un,oe,Gt);const Zt=y(pn,De);C(Zt,Mt,pn),C(Zt,wt.domain,pn);const _n=Vn();C(Gt,wt.domain,_n),C(_n,wt.domain,_n);const Qn=y(_n,De);C(Qn,wt.domain,_n);const At=Vn($t);C(Qn,wt.tld,At),C(Qn,wt.utld,At),y(Gt,R,At);const fn=y(_n,Be);C(fn,wt.domain,_n),C(At,wt.domain,_n),y(At,De,Qn),y(At,Be,fn);const gn=y(At,fe);C(gn,wt.numeric,$t);const Mn=y(An,Be),Wn=y(An,De);C(Mn,wt.domain,An),C(Wn,Mt,pn),C(Wn,wt.domain,An);const rr=Vn(Hn);C(Wn,wt.tld,rr),C(Wn,wt.utld,rr),C(rr,wt.domain,An),C(rr,Mt,pn),y(rr,De,Wn),y(rr,Be,Mn),y(rr,oe,Gt);const Zn=y(rr,fe),ur=Vn(Hn);C(Zn,wt.numeric,ur);const Ar=Vn(Hn),so=Vn();C(Ar,Lt,Ar),C(Ar,mt,so),C(so,Lt,Ar),C(so,mt,so),y(rr,ot,Ar),y(ur,ot,Ar);const io=y(Fn,fe),Qr=y(Un,fe),Eo=y(Qr,ot),So=y(Eo,ot);C(Fn,wt.domain,An),y(Fn,De,Wn),y(Fn,Be,Mn),C(Un,wt.domain,An),y(Un,De,Wn),y(Un,Be,Mn),C(io,wt.domain,Ar),y(io,ot,Ar),C(So,wt.domain,Ar),C(So,Lt,Ar),y(So,ot,Ar);const Wt=y(Ar,H),jn=y(Ar,G),bt=y(Ar,q),Ut=y(Ar,z);y(so,H,Wt),y(so,G,jn),y(so,q,bt),y(so,z,Ut),y(Wt,ee,Ar),y(jn,$,Ar),y(bt,J,Ar),y(Ut,j,Ar),y(Wt,ee,Ar);const qt=Vn(Hn),Sn=Vn(Hn),at=Vn(Hn),Pt=Vn(Hn);C(Wt,Lt,qt),C(jn,Lt,Sn),C(bt,Lt,at),C(Ut,Lt,Pt);const jt=Vn(),vn=Vn(),Pn=Vn(),Rn=Vn();return C(Wt,mt),C(jn,mt),C(bt,mt),C(Ut,mt),C(qt,Lt,qt),C(Sn,Lt,Sn),C(at,Lt,at),C(Pt,Lt,Pt),C(qt,mt,qt),C(Sn,mt,Sn),C(at,mt,at),C(Pt,mt,Pt),C(jt,Lt,jt),C(vn,Lt,Sn),C(Pn,Lt,at),C(Rn,Lt,Pt),C(jt,mt,jt),C(vn,mt,vn),C(Pn,mt,Pn),C(Rn,mt,Rn),y(Sn,$,Ar),y(at,J,Ar),y(Pt,j,Ar),y(qt,ee,Ar),y(vn,$,Ar),y(Pn,J,Ar),y(Rn,j,Ar),y(jt,j,Ar),y(Jt,R,rr),y(Jt,k,xn),{start:Jt,tokens:Se}}function ut(Kt,wt,Lt){let mt=Lt.length,Mt=0,Jt=[],pn=[];for(;Mt<mt;){let An=Kt,Fn=null,Un=null,Gt=0,Zt=null,_n=-1;for(;Mt<mt&&!(Fn=An.go(Lt[Mt].t));)pn.push(Lt[Mt++]);for(;Mt<mt&&(Un=Fn||An.go(Lt[Mt].t));)Fn=null,An=Un,An.accepts()?(_n=0,Zt=An):_n>=0&&_n++,Mt++,Gt++;if(_n<0)Mt-=Gt,Mt<mt&&(pn.push(Lt[Mt]),Mt++);else{pn.length>0&&(Jt.push(Ce(Bt,wt,pn)),pn=[]),Mt-=_n,Gt-=_n;const Qn=Zt.t,At=Lt.slice(Mt-Gt,Mt);Jt.push(Ce(Qn,wt,At))}}return pn.length>0&&Jt.push(Ce(Bt,wt,pn)),Jt}function Ce(Kt,wt,Lt){const mt=Lt[0].s,Mt=Lt[Lt.length-1].e,Jt=wt.slice(mt,Mt);return new Kt(Jt,Lt)}const be=typeof console!="undefined"&&console&&console.warn||(()=>{}),We="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",qe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Et(){P.groups={},qe.scanner=null,qe.parser=null,qe.tokenQueue=[],qe.pluginQueue=[],qe.customSchemes=[],qe.initialized=!1}function en(Kt,wt){if(typeof wt!="function")throw new Error(`linkifyjs: Invalid token plugin ${wt} (expects function)`);for(let Lt=0;Lt<qe.tokenQueue.length;Lt++)if(Kt===qe.tokenQueue[Lt][0]){be(`linkifyjs: token plugin "${Kt}" already registered - will be overwritten`),qe.tokenQueue[Lt]=[Kt,wt];return}qe.tokenQueue.push([Kt,wt]),qe.initialized&&be(`linkifyjs: already initialized - will not register token plugin "${Kt}" ${We}`)}function In(Kt,wt){if(typeof wt!="function")throw new Error(`linkifyjs: Invalid plugin ${wt} (expects function)`);for(let Lt=0;Lt<qe.pluginQueue.length;Lt++)if(Kt===qe.pluginQueue[Lt][0]){be(`linkifyjs: plugin "${Kt}" already registered - will be overwritten`),qe.pluginQueue[Lt]=[Kt,wt];return}qe.pluginQueue.push([Kt,wt]),qe.initialized&&be(`linkifyjs: already initialized - will not register plugin "${Kt}" ${We}`)}function qn(Kt,wt){if(wt===void 0&&(wt=!1),qe.initialized&&be(`linkifyjs: already initialized - will not register custom scheme "${Kt}" ${We}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(Kt))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);qe.customSchemes.push([Kt,wt])}function cr(){qe.scanner=he(qe.customSchemes);for(let Kt=0;Kt<qe.tokenQueue.length;Kt++)qe.tokenQueue[Kt][1]({scanner:qe.scanner});qe.parser=_t(qe.scanner.tokens);for(let Kt=0;Kt<qe.pluginQueue.length;Kt++)qe.pluginQueue[Kt][1]({scanner:qe.scanner,parser:qe.parser});qe.initialized=!0}function pr(Kt){return qe.initialized||cr(),ut(qe.parser.start,Kt,xe(qe.scanner.start,Kt))}function wr(Kt,wt,Lt){if(wt===void 0&&(wt=null),Lt===void 0&&(Lt=null),wt&&typeof wt=="object"){if(Lt)throw Error(`linkifyjs: Invalid link type ${wt}; must be a string`);Lt=wt,wt=null}const mt=new tt(Lt),Mt=pr(Kt),Jt=[];for(let pn=0;pn<Mt.length;pn++){const An=Mt[pn];An.isLink&&(!wt||An.t===wt)&&Jt.push(An.toFormattedObject(mt))}return Jt}function Vr(Kt,wt){wt===void 0&&(wt=null);const Lt=pr(Kt);return Lt.length===1&&Lt[0].isLink&&(!wt||Lt[0].t===wt)}var On=e(2376);function pt(Kt){return new On.Sy({key:new On.H$("autolink"),appendTransaction:(wt,Lt,mt)=>{const Mt=wt.some(Un=>Un.docChanged)&&!Lt.doc.eq(mt.doc),Jt=wt.some(Un=>Un.getMeta("preventAutolink"));if(!Mt||Jt)return;const{tr:pn}=mt,An=(0,t.XP)(Lt.doc,[...wt]);if((0,t.QC)(An).forEach(({newRange:Un})=>{const Gt=(0,t.b5)(mt.doc,Un,Qn=>Qn.isTextblock);let Zt,_n;if(Gt.length>1?(Zt=Gt[0],_n=mt.doc.textBetween(Zt.pos,Zt.pos+Zt.node.nodeSize,void 0," ")):Gt.length&&mt.doc.textBetween(Un.from,Un.to," "," ").endsWith(" ")&&(Zt=Gt[0],_n=mt.doc.textBetween(Zt.pos,Un.to,void 0," ")),Zt&&_n){const Qn=_n.split(" ").filter(gn=>gn!=="");if(Qn.length<=0)return!1;const At=Qn[Qn.length-1],fn=Zt.pos+_n.lastIndexOf(At);if(!At)return!1;wr(At).filter(gn=>gn.isLink).map(gn=>No(yr({},gn),{from:fn+gn.start+1,to:fn+gn.end+1})).filter(gn=>mt.schema.marks.code?!mt.doc.rangeHasMark(gn.from,gn.to,mt.schema.marks.code):!0).filter(gn=>Kt.validate?Kt.validate(gn.value):!0).forEach(gn=>{(0,t.tI)(gn.from,gn.to,mt.doc).some(Mn=>Mn.mark.type===Kt.type)||pn.addMark(gn.from,gn.to,Kt.type.create({href:gn.href}))})}}),!!pn.steps.length)return pn}})}function hn(Kt){return new On.Sy({key:new On.H$("handleClickLink"),props:{handleClick:(wt,Lt,mt)=>{var Mt,Jt;if(mt.button!==0)return!1;const pn=(0,t.u9)(wt.state,Kt.type.name),An=mt.target,Fn=(Mt=An==null?void 0:An.href)!==null&&Mt!==void 0?Mt:pn.href,Un=(Jt=An==null?void 0:An.target)!==null&&Jt!==void 0?Jt:pn.target;return An&&Fn?(wt.editable&&window.open(Fn,Un),!0):!1}}})}function Dn(Kt){return new On.Sy({key:new On.H$("handlePasteLink"),props:{handlePaste:(wt,Lt,mt)=>{var Mt,Jt;const{state:pn}=wt,{selection:An}=pn;if(pn.doc.resolve(An.from).parent.type.spec.code)return!1;let Fn="";mt.content.forEach(Wn=>{Fn+=Wn.textContent});let Un=!1;if(mt.content.descendants(Wn=>{Wn.marks.some(rr=>rr.type.name===Kt.type.name)&&(Un=!0)}),Un)return;const Gt=wr(Fn).find(Wn=>Wn.isLink&&Wn.value===Fn);if(!An.empty&&Kt.linkOnPaste){const Wn=(Gt==null?void 0:Gt.href)||null;if(Wn)return Kt.editor.commands.setMark(Kt.type,{href:Wn}),!0}const Zt=((Mt=mt.content.firstChild)===null||Mt===void 0?void 0:Mt.type.name)==="text",_n=(Jt=mt.content.firstChild)===null||Jt===void 0?void 0:Jt.marks.some(Wn=>Wn.type.name===Kt.type.name);if(Zt&&_n||!Kt.linkOnPaste)return!1;if(Gt&&An.empty)return Kt.editor.commands.insertContent(`<a href="${Gt.href}">${Gt.href}</a>`),!0;const{tr:Qn}=pn;let At=!1;An.empty||(At=!0,Qn.delete(An.from,An.to));let fn=An.from,gn=[];mt.content.forEach(Wn=>{gn=wr(Wn.textContent),Qn.insert(fn-1,Wn),gn.length>0&&(At=!1,gn.forEach(rr=>{const Zn=fn+rr.start,ur=fn+rr.end;Qn.doc.rangeHasMark(Zn,ur,Kt.type)||Qn.addMark(Zn,ur,Kt.type.create({href:rr.href}))})),fn+=Wn.nodeSize});const Mn=gn.length>0;return Qn.docChanged&&!At&&Mn?(Kt.editor.view.dispatch(Qn),!0):!1}}})}const Gn=t.vc.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(Kt=>{if(typeof Kt=="string"){qn(Kt);return}qn(Kt.scheme,Kt.optionalSlashes)})},onDestroy(){Et()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:Kt}){return["a",(0,t.P1)(this.options.HTMLAttributes,Kt),0]},addCommands(){return{setLink:Kt=>({chain:wt})=>wt().setMark(this.name,Kt).setMeta("preventAutolink",!0).run(),toggleLink:Kt=>({chain:wt})=>wt().toggleMark(this.name,Kt,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:Kt})=>Kt().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addProseMirrorPlugins(){const Kt=[];return this.options.autolink&&Kt.push(pt({type:this.type,validate:this.options.validate})),this.options.openOnClick&&Kt.push(hn({type:this.type})),Kt.push(Dn({editor:this.editor,type:this.type,linkOnPaste:this.options.linkOnPaste})),Kt}})},34565:(K,f,e)=>{"use strict";e.d(f,{H:()=>a,Z:()=>a});var t=e(5865);const a=t.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",(0,t.P1)(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}})},94198:(K,f,e)=>{"use strict";e.d(f,{pf:()=>_,ZP:()=>_});var t=e(5865),a=e(2376),i=e(84348);function c(g){var E;const{char:S,allowSpaces:O,allowedPrefixes:A,startOfLine:u,$position:o}=g,s=(0,t.Ov)(S),w=new RegExp(`\\s${s}$`),P=u?"^":"",C=O?new RegExp(`${P}${s}.*?(?=\\s${s}|$)`,"gm"):new RegExp(`${P}(?:^)?${s}[^\\s${s}]*`,"gm"),x=((E=o.nodeBefore)===null||E===void 0?void 0:E.isText)&&o.nodeBefore.text;if(!x)return null;const D=o.pos-x.length,y=Array.from(x.matchAll(C)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const M=y.input.slice(Math.max(0,y.index-1),y.index),T=new RegExp(`^[${A==null?void 0:A.join("")}\0]?$`).test(M);if(A!==null&&!T)return null;const R=D+y.index;let F=R+y[0].length;return O&&w.test(x.slice(F-1,F+1))&&(y[0]+=" ",F+=1),R<o.pos&&F>=o.pos?{range:{from:R,to:F},query:y[0].slice(S.length),text:y[0]}:null}const p=new a.H$("suggestion");function l({pluginKey:g=p,editor:E,char:S="@",allowSpaces:O=!1,allowedPrefixes:A=[" "],startOfLine:u=!1,decorationTag:o="span",decorationClass:s="suggestion",command:w=()=>null,items:P=()=>[],render:C=()=>({}),allow:x=()=>!0}){let D;const y=C==null?void 0:C(),M=new a.Sy({key:g,view(){return{update:(T,R)=>Qi(this,null,function*(){var F,N,U,V,W,L,k;const H=(F=this.key)===null||F===void 0?void 0:F.getState(R),G=(N=this.key)===null||N===void 0?void 0:N.getState(T.state),q=H.active&&G.active&&H.range.from!==G.range.from,z=!H.active&&G.active,ee=H.active&&!G.active,$=!z&&!ee&&H.query!==G.query,J=z||q,j=$&&!q,Z=ee||q;if(!J&&!j&&!Z)return;const ne=Z&&!J?H:G,ie=T.dom.querySelector(`[data-decoration-id="${ne.decorationId}"]`);D={editor:E,range:ne.range,query:ne.query,text:ne.text,items:[],command:oe=>{w({editor:E,range:ne.range,props:oe})},decorationNode:ie,clientRect:ie?()=>{var oe;const{decorationId:re}=(oe=this.key)===null||oe===void 0?void 0:oe.getState(E.state),ae=T.dom.querySelector(`[data-decoration-id="${re}"]`);return(ae==null?void 0:ae.getBoundingClientRect())||null}:null},J&&((U=y==null?void 0:y.onBeforeStart)===null||U===void 0||U.call(y,D)),j&&((V=y==null?void 0:y.onBeforeUpdate)===null||V===void 0||V.call(y,D)),(j||J)&&(D.items=yield P({editor:E,query:ne.query})),Z&&((W=y==null?void 0:y.onExit)===null||W===void 0||W.call(y,D)),j&&((L=y==null?void 0:y.onUpdate)===null||L===void 0||L.call(y,D)),J&&((k=y==null?void 0:y.onStart)===null||k===void 0||k.call(y,D))}),destroy:()=>{var T;D&&((T=y==null?void 0:y.onExit)===null||T===void 0||T.call(y,D))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(T,R,F,N){const{isEditable:U}=E,{composing:V}=E.view,{selection:W}=T,{empty:L,from:k}=W,H=yr({},R);if(H.composing=V,U&&(L||E.view.composing)){(k<R.range.from||k>R.range.to)&&!V&&!R.composing&&(H.active=!1);const G=c({char:S,allowSpaces:O,allowedPrefixes:A,startOfLine:u,$position:W.$from}),q=`id_${Math.floor(Math.random()*4294967295)}`;G&&x({editor:E,state:N,range:G.range})?(H.active=!0,H.decorationId=R.decorationId?R.decorationId:q,H.range=G.range,H.query=G.query,H.text=G.text):H.active=!1}else H.active=!1;return H.active||(H.decorationId=null,H.range={from:0,to:0},H.query=null,H.text=null),H}},props:{handleKeyDown(T,R){var F;const{active:N,range:U}=M.getState(T.state);return N&&((F=y==null?void 0:y.onKeyDown)===null||F===void 0?void 0:F.call(y,{view:T,event:R,range:U}))||!1},decorations(T){const{active:R,range:F,decorationId:N}=M.getState(T);return R?i.EH.create(T.doc,[i.p.inline(F.from,F.to,{nodeName:o,class:s,"data-decoration-id":N})]):null}}});return M}const v=new a.H$("mention"),_=t.NB.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:g,node:E}){var S;return`${g.suggestion.char}${(S=E.attrs.label)!==null&&S!==void 0?S:E.attrs.id}`},suggestion:{char:"@",pluginKey:v,command:({editor:g,range:E,props:S})=>{var O,A;const u=g.view.state.selection.$to.nodeAfter;((O=u==null?void 0:u.text)===null||O===void 0?void 0:O.startsWith(" "))&&(E.to+=1),g.chain().focus().insertContentAt(E,[{type:this.name,attrs:S},{type:"text",text:" "}]).run(),(A=window.getSelection())===null||A===void 0||A.collapseToEnd()},allow:({state:g,range:E})=>{const S=g.doc.resolve(E.from),O=g.schema.nodes[this.name];return!!S.parent.type.contentMatch.matchType(O)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:g=>g.getAttribute("data-id"),renderHTML:g=>g.id?{"data-id":g.id}:{}},label:{default:null,parseHTML:g=>g.getAttribute("data-label"),renderHTML:g=>g.label?{"data-label":g.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:g,HTMLAttributes:E}){return["span",(0,t.P1)({"data-type":this.name},this.options.HTMLAttributes,E),this.options.renderLabel({options:this.options,node:g})]},renderText({node:g}){return this.options.renderLabel({options:this.options,node:g})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:g,state:E})=>{let S=!1;const{selection:O}=E,{empty:A,anchor:u}=O;return A?(E.doc.nodesBetween(u-1,u,(o,s)=>{if(o.type.name===this.name)return S=!0,g.insertText(this.options.suggestion.char||"",s,s+o.nodeSize),!1}),S):!1})}},addProseMirrorPlugins(){return[l(yr({editor:this.editor},this.options.suggestion))]}})},51575:(K,f,e)=>{"use strict";e.d(f,{GS:()=>p,ZP:()=>p});var t=e(5865);const a=t.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:l}){return["li",(0,t.P1)(this.options.HTMLAttributes,l),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),i=t.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:l=>l.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:l}){return["span",(0,t.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:l,commands:v})=>{const _=(0,t.Jo)(l,this.type);return Object.entries(_).some(([,E])=>!!E)?!0:v.unsetMark(this.name)}}}}),c=/^(\d+)\.\s$/,p=t.NB.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:l=>l.hasAttribute("start")?parseInt(l.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:l}){const g=l,{start:v}=g,_=ai(g,["start"]);return v===1?["ol",(0,t.P1)(this.options.HTMLAttributes,_),0]:["ol",(0,t.P1)(this.options.HTMLAttributes,l),0]},addCommands(){return{toggleOrderedList:()=>({commands:l,chain:v})=>this.options.keepAttributes?v().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a.name,this.editor.getAttributes(i.name)).run():l.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let l=(0,t.S0)({find:c,type:this.type,getAttributes:v=>({start:+v[1]}),joinPredicate:(v,_)=>_.childCount+_.attrs.start===+v[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(l=(0,t.S0)({find:c,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:v=>yr({start:+v[1]},this.editor.getAttributes(i.name)),joinPredicate:(v,_)=>_.childCount+_.attrs.start===+v[1],editor:this.editor})),[l]}})},26022:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a,n:()=>a});var t=e(5865);const a=t.NB.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",(0,t.P1)(this.options.HTMLAttributes,i),0]},addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})},4281:(K,f,e)=>{"use strict";e.d(f,{Re:()=>c,ZP:()=>c});var t=e(5865);const a=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,i=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,c=t.vc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:p=>p.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:p}){return["s",(0,t.P1)(this.options.HTMLAttributes,p),0]},addCommands(){return{setStrike:()=>({commands:p})=>p.setMark(this.name),toggleStrike:()=>({commands:p})=>p.toggleMark(this.name),unsetStrike:()=>({commands:p})=>p.unsetMark(this.name)}},addKeyboardShortcuts(){const p={};return(0,t.eE)()?p["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():p["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),p},addInputRules(){return[(0,t.Cf)({find:a,type:this.type})]},addPasteRules(){return[(0,t.K9)({find:i,type:this.type})]}})},18151:(K,f,e)=>{"use strict";e.d(f,{a:()=>a});var t=e(5865);const a=t.vc.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(i){return i!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:i}){return["sub",(0,t.P1)(this.options.HTMLAttributes,i),0]},addCommands(){return{setSubscript:()=>({commands:i})=>i.setMark(this.name),toggleSubscript:()=>({commands:i})=>i.toggleMark(this.name),unsetSubscript:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}})},69984:(K,f,e)=>{"use strict";e.d(f,{$:()=>a});var t=e(5865);const a=t.vc.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(i){return i!=="super"?!1:null}}]},renderHTML({HTMLAttributes:i}){return["sup",(0,t.P1)(this.options.HTMLAttributes,i),0]},addCommands(){return{setSuperscript:()=>({commands:i})=>i.setMark(this.name),toggleSuperscript:()=>({commands:i})=>i.toggleMark(this.name),unsetSuperscript:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}})},52701:(K,f,e)=>{"use strict";e.d(f,{Z:()=>a,x:()=>a});var t=e(5865);const a=t.NB.create({name:"text",group:"inline"})},90214:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>T});var t=e(5865);const a=R=>(0,t.DS)({find:/--$/,replace:R!=null?R:"\u2014"}),i=R=>(0,t.DS)({find:/\.\.\.$/,replace:R!=null?R:"\u2026"}),c=R=>(0,t.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:R!=null?R:"\u201C"}),p=R=>(0,t.DS)({find:/"$/,replace:R!=null?R:"\u201D"}),l=R=>(0,t.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:R!=null?R:"\u2018"}),v=R=>(0,t.DS)({find:/'$/,replace:R!=null?R:"\u2019"}),_=R=>(0,t.DS)({find:/<-$/,replace:R!=null?R:"\u2190"}),g=R=>(0,t.DS)({find:/->$/,replace:R!=null?R:"\u2192"}),E=R=>(0,t.DS)({find:/\(c\)$/,replace:R!=null?R:"\xA9"}),S=R=>(0,t.DS)({find:/\(tm\)$/,replace:R!=null?R:"\u2122"}),O=R=>(0,t.DS)({find:/\(sm\)$/,replace:R!=null?R:"\u2120"}),A=R=>(0,t.DS)({find:/\(r\)$/,replace:R!=null?R:"\xAE"}),u=R=>(0,t.DS)({find:/(?:^|\s)(1\/2)$/,replace:R!=null?R:"\xBD"}),o=R=>(0,t.DS)({find:/\+\/-$/,replace:R!=null?R:"\xB1"}),s=R=>(0,t.DS)({find:/!=$/,replace:R!=null?R:"\u2260"}),w=R=>(0,t.DS)({find:/<<$/,replace:R!=null?R:"\xAB"}),P=R=>(0,t.DS)({find:/>>$/,replace:R!=null?R:"\xBB"}),C=R=>(0,t.DS)({find:/\d+\s?([*x])\s?\d+$/,replace:R!=null?R:"\xD7"}),x=R=>(0,t.DS)({find:/\^2$/,replace:R!=null?R:"\xB2"}),D=R=>(0,t.DS)({find:/\^3$/,replace:R!=null?R:"\xB3"}),y=R=>(0,t.DS)({find:/(?:^|\s)(1\/4)$/,replace:R!=null?R:"\xBC"}),M=R=>(0,t.DS)({find:/(?:^|\s)(3\/4)$/,replace:R!=null?R:"\xBE"}),T=t.hj.create({name:"typography",addInputRules(){const R=[];return this.options.emDash!==!1&&R.push(a(this.options.emDash)),this.options.ellipsis!==!1&&R.push(i(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&R.push(c(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&R.push(p(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&R.push(l(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&R.push(v(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&R.push(_(this.options.leftArrow)),this.options.rightArrow!==!1&&R.push(g(this.options.rightArrow)),this.options.copyright!==!1&&R.push(E(this.options.copyright)),this.options.trademark!==!1&&R.push(S(this.options.trademark)),this.options.servicemark!==!1&&R.push(O(this.options.servicemark)),this.options.registeredTrademark!==!1&&R.push(A(this.options.registeredTrademark)),this.options.oneHalf!==!1&&R.push(u(this.options.oneHalf)),this.options.plusMinus!==!1&&R.push(o(this.options.plusMinus)),this.options.notEqual!==!1&&R.push(s(this.options.notEqual)),this.options.laquo!==!1&&R.push(w(this.options.laquo)),this.options.raquo!==!1&&R.push(P(this.options.raquo)),this.options.multiplication!==!1&&R.push(C(this.options.multiplication)),this.options.superscriptTwo!==!1&&R.push(x(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&R.push(D(this.options.superscriptThree)),this.options.oneQuarter!==!1&&R.push(y(this.options.oneQuarter)),this.options.threeQuarters!==!1&&R.push(M(this.options.threeQuarters)),R}})},24706:(K,f,e)=>{"use strict";e.d(f,{NM:()=>C,kg:()=>S,T5:()=>T,fW:()=>V,M_:()=>N,jE:()=>u});var t=e(5865),a=e(2376),i=e(79253);class c{constructor({editor:L,element:k,view:H,tippyOptions:G={},updateDelay:q=250,shouldShow:z}){this.preventHide=!1,this.shouldShow=({view:ee,state:$,from:J,to:j})=>{const{doc:Z,selection:ne}=$,{empty:ie}=ne,oe=!Z.textBetween(J,j).length&&(0,t.xh)($.selection),re=this.element.contains(document.activeElement);return!(!(ee.hasFocus()||re)||ie||oe||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:ee})=>{var $;if(this.preventHide){this.preventHide=!1;return}ee!=null&&ee.relatedTarget&&(!(($=this.element.parentNode)===null||$===void 0)&&$.contains(ee.relatedTarget))||this.hide()},this.tippyBlurHandler=ee=>{this.blurHandler({event:ee})},this.handleDebouncedUpdate=(ee,$)=>{const J=!($!=null&&$.selection.eq(ee.state.selection)),j=!($!=null&&$.doc.eq(ee.state.doc));!J&&!j||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(ee,J,j,$)},this.updateDelay))},this.updateHandler=(ee,$,J,j)=>{var Z,ne,ie;const{state:oe,composing:re}=ee,{selection:ae}=oe;if(re||!$&&!J)return;this.createTooltip();const{ranges:fe}=ae,le=Math.min(...fe.map(je=>je.$from.pos)),Ae=Math.max(...fe.map(je=>je.$to.pos));if(!((Z=this.shouldShow)===null||Z===void 0?void 0:Z.call(this,{editor:this.editor,view:ee,state:oe,oldState:j,from:le,to:Ae}))){this.hide();return}(ne=this.tippy)===null||ne===void 0||ne.setProps({getReferenceClientRect:((ie=this.tippyOptions)===null||ie===void 0?void 0:ie.getReferenceClientRect)||(()=>{if((0,t.EG)(oe.selection)){let je=ee.nodeDOM(le);const Je=je.dataset.nodeViewWrapper?je:je.querySelector("[data-node-view-wrapper]");if(Je&&(je=Je.firstChild),je)return je.getBoundingClientRect()}return(0,t.pr)(ee,le,Ae)})}),this.show()},this.editor=L,this.element=k,this.view=H,this.updateDelay=q,z&&(this.shouldShow=z),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=G,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:L}=this.editor.options,k=!!L.parentElement;this.tippy||!k||(this.tippy=(0,i.ZP)(L,yr({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(L,k){const{state:H}=L,G=H.selection.$from.pos!==H.selection.$to.pos;if(this.updateDelay>0&&G){this.handleDebouncedUpdate(L,k);return}const q=!(k!=null&&k.selection.eq(L.state.selection)),z=!(k!=null&&k.doc.eq(L.state.doc));this.updateHandler(L,q,z,k)}show(){var L;(L=this.tippy)===null||L===void 0||L.show()}hide(){var L;(L=this.tippy)===null||L===void 0||L.hide()}destroy(){var L,k;!((L=this.tippy)===null||L===void 0)&&L.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(k=this.tippy)===null||k===void 0||k.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const p=W=>new a.Sy({key:typeof W.pluginKey=="string"?new a.H$(W.pluginKey):W.pluginKey,view:L=>new c(yr({view:L},W))}),l=t.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[p({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var v=e(98661);const _=({renderers:W})=>v.default.createElement(v.default.Fragment,null,Object.entries(W).map(([L,k])=>v.default.createPortal(k.reactElement,k.element,L)));class g extends v.default.Component{constructor(L){super(L),this.editorContentRef=v.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:L}=this.props;if(L&&L.options.element){if(L.contentComponent)return;const k=this.editorContentRef.current;k.append(...L.options.element.childNodes),L.setOptions({element:k}),L.contentComponent=this,L.createNodeViews(),this.initialized=!0}}maybeFlushSync(L){this.initialized?(0,v.flushSync)(L):L()}setRenderer(L,k){this.maybeFlushSync(()=>{this.setState(({renderers:H})=>({renderers:No(yr({},H),{[L]:k})}))})}removeRenderer(L){this.maybeFlushSync(()=>{this.setState(({renderers:k})=>{const H=yr({},k);return delete H[L],{renderers:H}})})}componentWillUnmount(){const{editor:L}=this.props;if(!L||(this.initialized=!1,L.isDestroyed||L.view.setProps({nodeViews:{}}),L.contentComponent=null,!L.options.element.firstChild))return;const k=document.createElement("div");k.append(...L.options.element.childNodes),L.setOptions({element:k})}render(){const H=this.props,{editor:L}=H,k=ai(H,["editor"]);return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",yr({ref:this.editorContentRef},k)),v.default.createElement(_,{renderers:this.state.renderers}))}}const E=W=>{const L=v.default.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[W.editor]);return v.default.createElement(g,yr({key:L},W))},S=v.default.memo(E);class O extends t.ML{constructor(){super(...arguments),this.contentComponent=null}}function A(){const[,W]=(0,v.useState)(0);return()=>W(L=>L+1)}const u=(W={},L=[])=>{const[k,H]=(0,v.useState)(null),G=A(),{onBeforeCreate:q,onBlur:z,onCreate:ee,onDestroy:$,onFocus:J,onSelectionUpdate:j,onTransaction:Z,onUpdate:ne}=W,ie=(0,v.useRef)(q),oe=(0,v.useRef)(z),re=(0,v.useRef)(ee),ae=(0,v.useRef)($),se=(0,v.useRef)(J),fe=(0,v.useRef)(j),le=(0,v.useRef)(Z),Ae=(0,v.useRef)(ne);return(0,v.useEffect)(()=>{k&&(q&&(k.off("beforeCreate",ie.current),k.on("beforeCreate",q),ie.current=q),z&&(k.off("blur",oe.current),k.on("blur",z),oe.current=z),ee&&(k.off("create",re.current),k.on("create",ee),re.current=ee),$&&(k.off("destroy",ae.current),k.on("destroy",$),ae.current=$),J&&(k.off("focus",se.current),k.on("focus",J),se.current=J),j&&(k.off("selectionUpdate",fe.current),k.on("selectionUpdate",j),fe.current=j),Z&&(k.off("transaction",le.current),k.on("transaction",Z),le.current=Z),ne&&(k.off("update",Ae.current),k.on("update",ne),Ae.current=ne))},[q,z,ee,$,J,j,Z,ne,k]),(0,v.useEffect)(()=>{let De=!0;const je=new O(W);return H(je),je.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{De&&G()})})}),()=>{De=!1}},L),(0,v.useEffect)(()=>()=>{k==null||k.destroy()},[k]),k},o=(0,v.createContext)({editor:null}),s=o.Consumer,w=()=>(0,v.useContext)(o),P=G=>{var q=G,{children:W,slotAfter:L,slotBefore:k}=q,H=ai(q,["children","slotAfter","slotBefore"]);const z=u(H);return z?React.createElement(o.Provider,{value:{editor:z}},k,React.createElement(s,null,({editor:ee})=>React.createElement(S,{editor:ee})),W,L):null},C=W=>{const[L,k]=(0,v.useState)(null),{editor:H}=w();return(0,v.useEffect)(()=>{var G;if(!L||!((G=W.editor)===null||G===void 0)&&G.isDestroyed||H!=null&&H.isDestroyed)return;const{pluginKey:q="bubbleMenu",editor:z,tippyOptions:ee={},updateDelay:$,shouldShow:J=null}=W,j=z||H;if(!j){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const Z=p({updateDelay:$,editor:j,element:L,pluginKey:q,shouldShow:J,tippyOptions:ee});return j.registerPlugin(Z),()=>j.unregisterPlugin(q)},[W.editor,H,L]),v.default.createElement("div",{ref:k,className:W.className,style:{visibility:"hidden"}},W.children)},x=W=>{const[L,k]=useState(null),{editor:H}=w();return useEffect(()=>{var G;if(!L||!((G=W.editor)===null||G===void 0)&&G.isDestroyed||H!=null&&H.isDestroyed)return;const{pluginKey:q="floatingMenu",editor:z,tippyOptions:ee={},shouldShow:$=null}=W,J=z||H;if(!J){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const j=FloatingMenuPlugin({pluginKey:q,editor:J,element:L,tippyOptions:ee,shouldShow:$});return J.registerPlugin(j),()=>J.unregisterPlugin(q)},[W.editor,H,L]),React.createElement("div",{ref:k,className:W.className,style:{visibility:"hidden"}},W.children)},D=(0,v.createContext)({onDragStart:void 0}),y=()=>(0,v.useContext)(D),M=W=>{const L=W.as||"div",{nodeViewContentRef:k}=y();return React.createElement(L,No(yr({},W),{ref:k,"data-node-view-content":"",style:yr({whiteSpace:"pre-wrap"},W.style)}))},T=v.default.forwardRef((W,L)=>{const{onDragStart:k}=y(),H=W.as||"div";return v.default.createElement(H,No(yr({},W),{ref:L,"data-node-view-wrapper":"",onDragStart:k,style:yr({whiteSpace:"normal"},W.style)}))});function R(W){return!!(typeof W=="function"&&W.prototype&&W.prototype.isReactComponent)}function F(W){var L;return typeof W=="object"&&((L=W.$$typeof)===null||L===void 0?void 0:L.toString())==="Symbol(react.forward_ref)"}class N{constructor(L,{editor:k,props:H={},as:G="div",className:q="",attrs:z}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=L,this.editor=k,this.props=H,this.element=document.createElement(G),this.element.classList.add("react-renderer"),q&&this.element.classList.add(...q.split(" ")),z&&Object.keys(z).forEach(ee=>{this.element.setAttribute(ee,z[ee])}),this.render()}render(){var L,k;const H=this.component,G=this.props;(R(H)||F(H))&&(G.ref=q=>{this.ref=q}),this.reactElement=v.default.createElement(H,yr({},G)),(k=(L=this.editor)===null||L===void 0?void 0:L.contentComponent)===null||k===void 0||k.setRenderer(this.id,this)}updateProps(L={}){this.props=yr(yr({},this.props),L),this.render()}destroy(){var L,k;(k=(L=this.editor)===null||L===void 0?void 0:L.contentComponent)===null||k===void 0||k.removeRenderer(this.id)}}class U extends t.DK{mount(){const L={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(q={})=>this.updateAttributes(q),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const q=z=>z.charAt(0).toUpperCase()+z.substring(1);this.component.displayName=q(this.extension.name)}const k=q=>{const z=this.component,ee=this.onDragStart.bind(this),$=J=>{J&&this.contentDOMElement&&J.firstChild!==this.contentDOMElement&&J.appendChild(this.contentDOMElement)};return v.default.createElement(v.default.Fragment,null,v.default.createElement(D.Provider,{value:{onDragStart:ee,nodeViewContentRef:$}},v.default.createElement(z,yr({},q))))};k.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let H=this.node.isInline?"span":"div";this.options.as&&(H=this.options.as);const{className:G=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new N(k,{editor:this.editor,props:L,as:H,className:`node-${this.node.type.name} ${G}`.trim(),attrs:this.options.attrs})}get dom(){var L;if(this.renderer.element.firstElementChild&&!(!((L=this.renderer.element.firstElementChild)===null||L===void 0)&&L.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:L,to:k}=this.editor.state.selection;L<=this.getPos()&&k>=this.getPos()+this.node.nodeSize?this.selectNode():this.deselectNode()}update(L,k){const H=G=>{this.renderer.updateProps(G)};if(L.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const G=this.node,q=this.decorations;return this.node=L,this.decorations=k,this.options.update({oldNode:G,oldDecorations:q,newNode:L,newDecorations:k,updateProps:()=>H({node:L,decorations:k})})}return L===this.node&&this.decorations===k||(this.node=L,this.decorations=k,H({node:L,decorations:k})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function V(W,L){return k=>k.editor.contentComponent?new U(W,k,L):{}}},73752:(K,f,e)=>{"use strict";var t=e(5865),a=e(99734),i=e(67937),c=e(30561),p=e(57355),l=e(83416),v=e(20336),_=e(82973),g=e(50915);const E=t.hj.create({name:"gapCursor",addProseMirrorPlugins(){return[(0,g.d)()]},extendNodeSchema(y){var M;const T={name:y.name,options:y.options,storage:y.storage};return{allowGapCursor:(M=(0,t.nU)((0,t.Nl)(y,"allowGapCursor",T)))!==null&&M!==void 0?M:null}}});var S=e(35525),O=e(7490),A=e(21902),u=e(25748),o=e(73816),s=e(34565),w=e(51575),P=e(26022),C=e(4281),x=e(52701);const D=t.hj.create({name:"starterKit",addExtensions(){var y,M,T,R,F,N,U,V,W,L,k,H,G,q,z,ee,$,J;const j=[];return this.options.blockquote!==!1&&j.push(a.V6.configure((y=this.options)===null||y===void 0?void 0:y.blockquote)),this.options.bold!==!1&&j.push(i.d8.configure((M=this.options)===null||M===void 0?void 0:M.bold)),this.options.bulletList!==!1&&j.push(c.DY.configure((T=this.options)===null||T===void 0?void 0:T.bulletList)),this.options.code!==!1&&j.push(p.EK.configure((R=this.options)===null||R===void 0?void 0:R.code)),this.options.codeBlock!==!1&&j.push(l.dn.configure((F=this.options)===null||F===void 0?void 0:F.codeBlock)),this.options.document!==!1&&j.push(v.B.configure((N=this.options)===null||N===void 0?void 0:N.document)),this.options.dropcursor!==!1&&j.push(_.m.configure((U=this.options)===null||U===void 0?void 0:U.dropcursor)),this.options.gapcursor!==!1&&j.push(E.configure((V=this.options)===null||V===void 0?void 0:V.gapcursor)),this.options.hardBreak!==!1&&j.push(S.U.configure((W=this.options)===null||W===void 0?void 0:W.hardBreak)),this.options.heading!==!1&&j.push(O.X.configure((L=this.options)===null||L===void 0?void 0:L.heading)),this.options.history!==!1&&j.push(A.A.configure((k=this.options)===null||k===void 0?void 0:k.history)),this.options.horizontalRule!==!1&&j.push(u.b.configure((H=this.options)===null||H===void 0?void 0:H.horizontalRule)),this.options.italic!==!1&&j.push(o.Tx.configure((G=this.options)===null||G===void 0?void 0:G.italic)),this.options.listItem!==!1&&j.push(s.H.configure((q=this.options)===null||q===void 0?void 0:q.listItem)),this.options.orderedList!==!1&&j.push(w.GS.configure((z=this.options)===null||z===void 0?void 0:z.orderedList)),this.options.paragraph!==!1&&j.push(P.n.configure((ee=this.options)===null||ee===void 0?void 0:ee.paragraph)),this.options.strike!==!1&&j.push(C.Re.configure(($=this.options)===null||$===void 0?void 0:$.strike)),this.options.text!==!1&&j.push(x.x.configure((J=this.options)===null||J===void 0?void 0:J.text)),j}})},48583:(K,f,e)=>{"use strict";e.d(f,{Dv:()=>_,KO:()=>E,b9:()=>g});var t=e(98661),a=e(15103);const i=(0,t.createContext)(void 0),c=S=>{const O=(0,t.useContext)(i);return(S==null?void 0:S.store)||O||(0,a.K7)()},p=({children:S,store:O})=>{const A=useRef();return!O&&!A.current&&(A.current=createStore()),createElement(i.Provider,{value:O||A.current},S)},l=S=>S instanceof Promise,v=t.default.use||(S=>{if(S.status==="pending")throw S;if(S.status==="fulfilled")return S.value;throw S.status==="rejected"?S.reason:(S.status="pending",S.then(O=>{S.status="fulfilled",S.value=O},O=>{S.status="rejected",S.reason=O}),S)});function _(S,O){const A=c(O),[[u,o,s],w]=(0,t.useReducer)(x=>{const D=A.get(S);return Object.is(x[0],D)&&x[1]===A&&x[2]===S?x:[D,A,S]},void 0,()=>[A.get(S),A,S]);let P=u;(o!==A||s!==S)&&(w(),P=A.get(S));const C=O==null?void 0:O.delay;return(0,t.useEffect)(()=>{const x=A.sub(S,()=>{if(typeof C=="number"){setTimeout(w,C);return}w()});return w(),x},[A,S,C]),(0,t.useDebugValue)(P),l(P)?v(P):P}function g(S,O){const A=c(O);return(0,t.useCallback)((...o)=>{if(!("write"in S))throw new Error("not writable atom");return A.set(S,...o)},[A,S])}function E(S,O){return[_(S,O),g(S,O)]}},15103:(K,f,e)=>{"use strict";e.d(f,{K7:()=>s,cn:()=>a});let t=0;function a(w,P){const C=`atom${++t}`,x={toString:()=>C};return typeof w=="function"?x.read=w:(x.init=w,x.read=D=>D(x),x.write=(D,y,M)=>y(x,typeof M=="function"?M(D(x)):M)),P&&(x.write=P),x}const i=w=>"init"in w,c=w=>!!w.write,p=new WeakMap,l=(w,P)=>{p.set(w,P),w.catch(()=>{}).finally(()=>p.delete(w))},v=(w,P)=>{const C=p.get(w);C&&(p.delete(w),C(P))},_=(w,P)=>{w.status="fulfilled",w.value=P},g=(w,P)=>{w.status="rejected",w.reason=P},E=(w,P)=>"v"in w&&"v"in P&&Object.is(w.v,P.v),S=(w,P)=>"e"in w&&"e"in P&&Object.is(w.e,P.e),O=w=>"v"in w&&w.v instanceof Promise,A=w=>{if("e"in w)throw w.e;return w.v},u=()=>{const w=new WeakMap,P=new WeakMap,C=new Map;let x,D,y;x=new Set,D=new Set,y=new Set;const M=Z=>w.get(Z),T=(Z,ne)=>{Object.freeze(ne);const ie=w.get(Z);if(w.set(Z,ne),C.has(Z)||C.set(Z,ie),ie&&O(ie)){const oe="v"in ne?ne.v instanceof Promise?ne.v:Promise.resolve(ne.v):Promise.reject(ne.e);v(ie.v,oe)}},R=(Z,ne,ie)=>{const oe=new Map;let re=!1;ie.forEach(ae=>{const se=ae===Z?ne:M(ae);se?(oe.set(ae,se),ne.d.get(ae)!==se&&(re=!0)):console.warn("[Bug] atom state not found")}),(re||ne.d.size!==oe.size)&&(ne.d=oe)},F=(Z,ne,ie)=>{const oe=M(Z),re={d:(oe==null?void 0:oe.d)||new Map,v:ne};return ie&&R(Z,re,ie),oe&&E(oe,re)&&oe.d===re.d?oe:(T(Z,re),re)},N=(Z,ne,ie)=>{const oe=M(Z),re={d:(oe==null?void 0:oe.d)||new Map,e:ne};return ie&&R(Z,re,ie),oe&&S(oe,re)&&oe.d===re.d?oe:(T(Z,re),re)},U=Z=>{const ne=M(Z);if(ne&&(ne.d.forEach((le,Ae)=>{Ae!==Z&&!P.has(Ae)&&U(Ae)}),Array.from(ne.d).every(([le,Ae])=>le===Z||M(le)===Ae)))return ne;const ie=new Set;let oe=!0;const re=le=>{if(ie.add(le),le===Z){const De=M(le);if(De)return A(De);if(i(le))return le.init;throw new Error("no atom init")}const Ae=U(le);return A(Ae)};let ae,se;const fe={get signal(){return ae||(ae=new AbortController),ae.signal},get setSelf(){return c(Z)||console.warn("setSelf function cannot be used with read-only atom"),!se&&c(Z)&&(se=(...le)=>{if(oe&&console.warn("setSelf function cannot be called in sync"),!oe)return q(Z,...le)}),se}};try{const le=Z.read(re,fe);if(le instanceof Promise){let Ae;const De=new Promise((je,Je)=>{let Be=!1;le.then(st=>{Be||(Be=!0,F(Z,De,ie),_(De,st),je(st))},st=>{Be||(Be=!0,F(Z,De,ie),g(De,st),Je(st))}),Ae=st=>{Be||(Be=!0,st.then(ht=>_(De,ht),ht=>g(De,ht)),je(st))}});return De.status="pending",l(De,je=>{je&&Ae(je),ae==null||ae.abort()}),F(Z,De,ie)}return F(Z,le,ie)}catch(le){return N(Z,le,ie)}finally{oe=!1}},V=Z=>A(U(Z)),W=Z=>{let ne=P.get(Z);return ne||(ne=z(Z)),ne},L=(Z,ne)=>!ne.l.size&&(!ne.t.size||ne.t.size===1&&ne.t.has(Z)),k=Z=>{const ne=P.get(Z);ne&&L(Z,ne)&&ee(Z)},H=Z=>{const ne=P.get(Z);ne==null||ne.t.forEach(ie=>{if(ie!==Z){const oe=M(ie),re=U(ie);(!oe||!E(oe,re))&&H(ie)}})},G=(Z,...ne)=>{let ie=!0;const oe=se=>A(U(se)),re=(se,...fe)=>{let le;if(se===Z){if(!i(se))throw new Error("atom not writable");const Ae=M(se),De=F(se,fe[0]);(!Ae||!E(Ae,De))&&H(se)}else le=G(se,...fe);return ie||J(),le},ae=Z.write(oe,re,...ne);return ie=!1,ae},q=(Z,...ne)=>{const ie=G(Z,...ne);return J(),ie},z=(Z,ne)=>{const ie={t:new Set(ne&&[ne]),l:new Set};if(P.set(Z,ie),y.add(Z),U(Z).d.forEach((oe,re)=>{const ae=P.get(re);ae?ae.t.add(Z):re!==Z&&z(re,Z)}),U(Z),c(Z)&&Z.onMount){const oe=Z.onMount((...re)=>q(Z,...re));oe&&(ie.u=oe)}return ie},ee=Z=>{var ne;const ie=(ne=P.get(Z))==null?void 0:ne.u;ie&&ie(),P.delete(Z),y.delete(Z);const oe=M(Z);oe?(O(oe)&&v(oe.v),oe.d.forEach((re,ae)=>{if(ae!==Z){const se=P.get(ae);se&&(se.t.delete(Z),L(ae,se)&&ee(ae))}})):console.warn("[Bug] could not find atom state to unmount",Z)},$=(Z,ne,ie)=>{const oe=new Set(ne.d.keys());ie==null||ie.forEach((re,ae)=>{if(oe.has(ae)){oe.delete(ae);return}const se=P.get(ae);se&&(se.t.delete(Z),L(ae,se)&&ee(ae))}),oe.forEach(re=>{const ae=P.get(re);ae?ae.t.add(Z):P.has(Z)&&z(re,Z)})},J=()=>{for(;C.size;){const Z=Array.from(C);C.clear(),Z.forEach(([ne,ie])=>{const oe=M(ne);if(oe){oe.d!==(ie==null?void 0:ie.d)&&$(ne,oe,ie==null?void 0:ie.d);const re=P.get(ne);re&&!(ie&&!O(ie)&&(E(ie,oe)||S(ie,oe)))&&re.l.forEach(ae=>ae())}else console.warn("[Bug] no atom state to flush")})}x.forEach(Z=>Z()),D.forEach(Z=>Z("state"))},j=(Z,ne)=>{const ie=W(Z);J();const oe=ie.l;return oe.add(ne),D.forEach(re=>re("sub")),()=>{oe.delete(ne),k(Z),D.forEach(re=>re("unsub"))}};return{get:V,set:q,sub:j,dev_subscribe_state:Z=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),x.add(Z),()=>{x.delete(Z)}),dev_subscribe_store:Z=>(D.add(Z),()=>{D.delete(Z)}),dev_get_mounted_atoms:()=>y.values(),dev_get_atom_state:Z=>w.get(Z),dev_get_mounted:Z=>P.get(Z),dev_restore_atoms:Z=>{for(const[ne,ie]of Z)i(ne)&&(F(ne,ie),H(ne));J()}}};let o;const s=()=>(o||(o=u()),o)},95495:(K,f,e)=>{"use strict";e.d(f,{kv:()=>g,qs:()=>M,xu:()=>p});var t=e(15103);const a=Symbol();function i($){const J=atom($,(j,Z,ne)=>{const ie=typeof ne=="function"?ne(j(J)):ne;Z(J,ie===a?$:ie)});return J}function c($,J){const j=atom($,(Z,ne,ie)=>ne(j,J(Z(j),ie)));return j}function p($,J){let j=null;const Z=new Map,ne=ie=>{let oe;if(J===void 0)oe=Z.get(ie);else for(const[ae,se]of Z)if(J(ae,ie)){oe=se;break}if(oe!==void 0)if(j!=null&&j(oe[1],ie))ne.remove(ie);else return oe[0];const re=$(ie);return Z.set(ie,[re,Date.now()]),re};return ne.remove=ie=>{if(J===void 0)Z.delete(ie);else for(const[oe]of Z)if(J(oe,ie)){Z.delete(oe);break}},ne.setShouldRemove=ie=>{if(j=ie,!!j)for(const[oe,re]of Z)j(re[1],oe)&&Z.delete(oe)},ne}const l=($,J,j)=>(J.has(j)?J:J.set(j,$())).get(j),v=new WeakMap,_=($,J,j,Z)=>{const ne=l(()=>new WeakMap,v,J),ie=l(()=>new WeakMap,ne,j);return l($,ie,Z)};function g($,J,j=Object.is){return _(()=>{const Z=Symbol(),ne=([oe,re])=>{if(re===Z)return J(oe);const ae=J(oe,re);return j(re,ae)?re:ae},ie=(0,t.cn)(oe=>{const re=oe(ie),ae=oe($);return ae instanceof Promise||re instanceof Promise?Promise.all([ae,re]).then(ne):ne([ae,re])});return ie.init=Z,ie},$,J,j)}const E=new WeakMap,S=($,J)=>(E.has(J)?E:E.set(J,$())).get(J),O=$=>{if(typeof $!="object"||$===null)return;Object.freeze($);const J=Object.getOwnPropertyNames($);for(const j of J){const Z=$[j];O(Z)}return $};function A($){return S(()=>atom(j=>O(j($)),(j,Z,ne)=>Z($,ne)),$)}function u($){return(...J)=>{const j=$(...J),Z=j.read;return j.read=(ne,ie)=>O(Z(ne,ie)),j}}const o=($,J,j)=>(J.has(j)?J:J.set(j,$())).get(j),s=new WeakMap,w=($,J,j)=>{const Z=o(()=>new WeakMap,s,J);return o($,Z,j)},P={},C=$=>!!$.write,x=$=>typeof $=="function";function D($,J){return w(()=>{const j=new WeakMap,Z=(oe,re)=>{let ae=j.get(oe);if(ae)return ae;const se=re&&j.get(re),fe=[],le=[];return oe.forEach((Ae,De)=>{const je=J?J(Ae):De;le[De]=je;const Je=se&&se.atomList[se.keyList.indexOf(je)];if(Je){fe[De]=Je;return}const Be=ht=>{const gt=ht(ne),Xe=ht($),Ne=Z(Xe,gt==null?void 0:gt.arr).keyList.indexOf(je);if(Ne<0||Ne>=Xe.length){const ke=oe[Z(oe).keyList.indexOf(je)];if(ke)return ke;throw new Error("splitAtom: index out of bounds for read")}return Xe[Ne]},st=(ht,gt,Xe)=>{const Re=ht(ne),Ne=ht($),ot=Z(Ne,Re==null?void 0:Re.arr).keyList.indexOf(je);if(ot<0||ot>=Ne.length)throw new Error("splitAtom: index out of bounds for write");const Dt=x(Xe)?Xe(Ne[ot]):Xe;gt($,[...Ne.slice(0,ot),Dt,...Ne.slice(ot+1)])};fe[De]=C($)?atom(Be,st):atom(Be)}),se&&se.keyList.length===le.length&&se.keyList.every((Ae,De)=>Ae===le[De])?ae=se:ae={arr:oe,atomList:fe,keyList:le},j.set(oe,ae),ae},ne=atom(oe=>{const re=oe(ne),ae=oe($);return Z(ae,re==null?void 0:re.arr)});ne.debugPrivate=!0,ne.init=void 0;const ie=C($)?atom(oe=>oe(ne).atomList,(oe,re,ae)=>{switch(ae.type){case"remove":{const se=oe(ie).indexOf(ae.atom);if(se>=0){const fe=oe($);re($,[...fe.slice(0,se),...fe.slice(se+1)])}break}case"insert":{const se=ae.before?oe(ie).indexOf(ae.before):oe(ie).length;if(se>=0){const fe=oe($);re($,[...fe.slice(0,se),ae.value,...fe.slice(se)])}break}case"move":{const se=oe(ie).indexOf(ae.atom),fe=ae.before?oe(ie).indexOf(ae.before):oe(ie).length;if(se>=0&&fe>=0){const le=oe($);se<fe?re($,[...le.slice(0,se),...le.slice(se+1,fe),le[se],...le.slice(fe)]):re($,[...le.slice(0,fe),le[se],...le.slice(fe,se),...le.slice(se+1)])}break}}}):atom(oe=>oe(ne).atomList);return ie},$,J||P)}const y=($,J)=>typeof J=="function"?J($):J;function M($){const J=Symbol(),j=(0,t.cn)(J);j.debugPrivate=!0;const Z=(0,t.cn)((ne,ie)=>{const oe=ne(j);return oe!==J?oe:$(ne,ie)},(ne,ie,oe)=>{if(oe===a)return ie(j,J);const re=ne(Z);return re instanceof Promise?re.then(ae=>ie(j,y(ae,oe))):ie(j,y(re,oe))});return Z}const T=Symbol();function R($){let J,j;const Z={getItem:ne=>{var ie,oe;const re=se=>{if(se=se||"",J!==se){try{j=JSON.parse(se)}catch(fe){return T}J=se}return j},ae=(oe=(ie=$())==null?void 0:ie.getItem(ne))!=null?oe:null;return ae instanceof Promise?ae.then(re):re(ae)},setItem:(ne,ie)=>{var oe;return(oe=$())==null?void 0:oe.setItem(ne,JSON.stringify(ie))},removeItem:ne=>{var ie;return(ie=$())==null?void 0:ie.removeItem(ne)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(Z.subscribe=(ne,ie)=>{const oe=re=>{re.storageArea===$()&&re.key===ne&&re.newValue&&ie(JSON.parse(re.newValue))};return window.addEventListener("storage",oe),()=>{window.removeEventListener("storage",oe)}}),Z}const F=R(()=>typeof window!="undefined"?window.localStorage:void 0);function N($,J,j=F){const Z=atom(J);return Z.debugPrivate=!0,Z.onMount=ie=>{const oe=j.getItem($);oe instanceof Promise?oe.then(ae=>ie(ae===T?J:ae)):ie(oe===T?J:oe);let re;return j.subscribe&&(re=j.subscribe($,ie)),re},atom(ie=>ie(Z),(ie,oe,re)=>{const ae=typeof re=="function"?re(ie(Z)):re;return ae===a?(oe(Z,J),j.removeItem($)):(oe(Z,ae),j.setItem($,ae))})}function U($,J){const j=ie=>{if("e"in ie)throw ie.e;return ie.d},Z=atom(ie=>{var oe;let re=$(ie);const ae=(oe=re[Symbol.observable])==null?void 0:oe.call(re);ae&&(re=ae);let se;const fe=()=>new Promise(Xe=>{se=Xe}),le=J&&"initialValue"in J?{d:typeof J.initialValue=="function"?J.initialValue():J.initialValue}:fe();let Ae,De;const je=Xe=>{De=Xe,se==null||se(Xe),Ae==null||Ae(Xe)};let Je,Be;const st=()=>!Ae,ht=()=>{Je&&(clearTimeout(Be),Je.unsubscribe()),Je=re.subscribe({next:Xe=>je({d:Xe}),error:Xe=>je({e:Xe}),complete:()=>{}}),st()&&(J!=null&&J.unstable_timeout)&&(Be=setTimeout(()=>{Je&&(Je.unsubscribe(),Je=void 0)},J.unstable_timeout))};ht();const gt=atom(De||le);return gt.debugPrivate=!0,gt.onMount=Xe=>(Ae=Xe,De&&Xe(De),Je?clearTimeout(Be):ht(),()=>{Ae=void 0,Je&&(Je.unsubscribe(),Je=void 0)}),[gt,re,fe,ht,st]});return Z.debugPrivate=!0,atom(ie=>{const[oe]=ie(Z),re=ie(oe);return re instanceof Promise?re.then(j):j(re)},(ie,oe,re)=>{const[ae,se,fe,le,Ae]=ie(Z);if("next"in se)Ae()&&(oe(ae,fe()),le()),se.next(re);else throw new Error("observable is not subject")})}const V=new WeakMap,W=($,J)=>(V.has(J)?V:V.set(J,$())).get(J),L={state:"loading"};function k($){return W(()=>{const J=new WeakMap,j=atom(0);j.debugPrivate=!0;const Z=atom((ne,{setSelf:ie})=>{ne(j);const oe=ne($);if(!(oe instanceof Promise))return{state:"hasData",data:oe};const re=J.get(oe);return re||(J.set(oe,L),oe.then(ae=>{J.set(oe,{state:"hasData",data:ae})},ae=>{J.set(oe,{state:"hasError",error:ae})}).finally(ie),L)},(ne,ie)=>{ie(j,oe=>oe+1)});return Z.debugPrivate=!0,atom(ne=>ne(Z))},$)}const H=($,J,j)=>(J.has(j)?J:J.set(j,$())).get(j),G=new WeakMap,q=($,J,j)=>{const Z=H(()=>new WeakMap,G,J);return H($,Z,j)},z=()=>{};function ee($,J=z){return q(()=>{const j=new WeakMap,Z=new WeakMap,ne=atom(0);ne.debugPrivate=!0;const ie=atom((oe,{setSelf:re})=>{oe(ne);const ae=oe(ie),se=oe($);if(se===(ae==null?void 0:ae.p)){if(j.has(se))throw j.get(se);if(Z.has(se))return{p:se,v:Z.get(se)}}return se!==(ae==null?void 0:ae.p)&&se.then(fe=>Z.set(se,fe),fe=>j.set(se,fe)).finally(re),ae&&"v"in ae?{p:se,f:J(ae.v)}:{p:se,f:J()}},(oe,re)=>{re(ne,ae=>ae+1)});return ie.init=void 0,ie.debugPrivate=!0,atom(oe=>{const re=oe(ie);return"v"in re?re.v:re.f})},$,J)}},25804:(K,f,e)=>{"use strict";e.d(f,{Ig:()=>P,MI:()=>w,N0:()=>U,NE:()=>c,QF:()=>Z,QK:()=>x,U9:()=>H,X0:()=>T,Y_:()=>u,_M:()=>S,al:()=>l,mD:()=>M,nw:()=>G,o:()=>o,uJ:()=>z,uo:()=>y,w9:()=>$,xb:()=>C,ym:()=>q});var t=e(16560),a=e(87823),i=e(2376);const c=(fe,le)=>fe.selection.empty?!1:(le&&le(fe.tr.deleteSelection().scrollIntoView()),!0);function p(fe,le){let{$cursor:Ae}=fe.selection;return!Ae||(le?!le.endOfTextblock("backward",fe):Ae.parentOffset>0)?null:Ae}const l=(fe,le,Ae)=>{let De=p(fe,Ae);if(!De)return!1;let je=O(De);if(!je){let Be=De.blockRange(),st=Be&&(0,t.k9)(Be);return st==null?!1:(le&&le(fe.tr.lift(Be,st).scrollIntoView()),!0)}let Je=je.nodeBefore;if(!Je.type.spec.isolating&&L(fe,je,le))return!0;if(De.parent.content.size==0&&(E(Je,"end")||i.qv.isSelectable(Je))){let Be=(0,t.dR)(fe.doc,De.before(),De.after(),a.p2.empty);if(Be&&Be.slice.size<Be.to-Be.from){if(le){let st=fe.tr.step(Be);st.setSelection(E(Je,"end")?i.Y1.findFrom(st.doc.resolve(st.mapping.map(je.pos,-1)),-1):i.qv.create(st.doc,je.pos-Je.nodeSize)),le(st.scrollIntoView())}return!0}}return Je.isAtom&&je.depth==De.depth-1?(le&&le(fe.tr.delete(je.pos-Je.nodeSize,je.pos).scrollIntoView()),!0):!1},v=(fe,le,Ae)=>{let De=p(fe,Ae);if(!De)return!1;let je=O(De);return je?g(fe,je,le):!1},_=(fe,le,Ae)=>{let De=A(fe,Ae);if(!De)return!1;let je=s(De);return je?g(fe,je,le):!1};function g(fe,le,Ae){let De=le.nodeBefore,je=De,Je=le.pos-1;for(;!je.isTextblock;Je--){if(je.type.spec.isolating)return!1;let Xe=je.lastChild;if(!Xe)return!1;je=Xe}let Be=le.nodeAfter,st=Be,ht=le.pos+1;for(;!st.isTextblock;ht++){if(st.type.spec.isolating)return!1;let Xe=st.firstChild;if(!Xe)return!1;st=Xe}let gt=replaceStep(fe.doc,Je,ht,Slice.empty);if(!gt||gt.from!=Je||gt.slice.size>=ht-Je)return!1;if(Ae){let Xe=fe.tr.step(gt);Xe.setSelection(TextSelection.create(Xe.doc,Je)),Ae(Xe.scrollIntoView())}return!0}function E(fe,le,Ae=!1){for(let De=fe;De;De=le=="start"?De.firstChild:De.lastChild){if(De.isTextblock)return!0;if(Ae&&De.childCount!=1)return!1}return!1}const S=(fe,le,Ae)=>{let{$head:De,empty:je}=fe.selection,Je=De;if(!je)return!1;if(De.parent.isTextblock){if(Ae?!Ae.endOfTextblock("backward",fe):De.parentOffset>0)return!1;Je=O(De)}let Be=Je&&Je.nodeBefore;return!Be||!i.qv.isSelectable(Be)?!1:(le&&le(fe.tr.setSelection(i.qv.create(fe.doc,Je.pos-Be.nodeSize)).scrollIntoView()),!0)};function O(fe){if(!fe.parent.type.spec.isolating)for(let le=fe.depth-1;le>=0;le--){if(fe.index(le)>0)return fe.doc.resolve(fe.before(le+1));if(fe.node(le).type.spec.isolating)break}return null}function A(fe,le){let{$cursor:Ae}=fe.selection;return!Ae||(le?!le.endOfTextblock("forward",fe):Ae.parentOffset<Ae.parent.content.size)?null:Ae}const u=(fe,le,Ae)=>{let De=A(fe,Ae);if(!De)return!1;let je=s(De);if(!je)return!1;let Je=je.nodeAfter;if(L(fe,je,le))return!0;if(De.parent.content.size==0&&(E(Je,"start")||i.qv.isSelectable(Je))){let Be=(0,t.dR)(fe.doc,De.before(),De.after(),a.p2.empty);if(Be&&Be.slice.size<Be.to-Be.from){if(le){let st=fe.tr.step(Be);st.setSelection(E(Je,"start")?i.Y1.findFrom(st.doc.resolve(st.mapping.map(je.pos)),1):i.qv.create(st.doc,st.mapping.map(je.pos))),le(st.scrollIntoView())}return!0}}return Je.isAtom&&je.depth==De.depth-1?(le&&le(fe.tr.delete(je.pos,je.pos+Je.nodeSize).scrollIntoView()),!0):!1},o=(fe,le,Ae)=>{let{$head:De,empty:je}=fe.selection,Je=De;if(!je)return!1;if(De.parent.isTextblock){if(Ae?!Ae.endOfTextblock("forward",fe):De.parentOffset<De.parent.content.size)return!1;Je=s(De)}let Be=Je&&Je.nodeAfter;return!Be||!i.qv.isSelectable(Be)?!1:(le&&le(fe.tr.setSelection(i.qv.create(fe.doc,Je.pos)).scrollIntoView()),!0)};function s(fe){if(!fe.parent.type.spec.isolating)for(let le=fe.depth-1;le>=0;le--){let Ae=fe.node(le);if(fe.index(le)+1<Ae.childCount)return fe.doc.resolve(fe.after(le+1));if(Ae.type.spec.isolating)break}return null}const w=(fe,le)=>{let Ae=fe.selection,De=Ae instanceof i.qv,je;if(De){if(Ae.node.isTextblock||!(0,t.Mn)(fe.doc,Ae.from))return!1;je=Ae.from}else if(je=(0,t.GJ)(fe.doc,Ae.from,-1),je==null)return!1;if(le){let Je=fe.tr.join(je);De&&Je.setSelection(i.qv.create(Je.doc,je-fe.doc.resolve(je).nodeBefore.nodeSize)),le(Je.scrollIntoView())}return!0},P=(fe,le)=>{let Ae=fe.selection,De;if(Ae instanceof i.qv){if(Ae.node.isTextblock||!(0,t.Mn)(fe.doc,Ae.to))return!1;De=Ae.to}else if(De=(0,t.GJ)(fe.doc,Ae.to,1),De==null)return!1;return le&&le(fe.tr.join(De).scrollIntoView()),!0},C=(fe,le)=>{let{$from:Ae,$to:De}=fe.selection,je=Ae.blockRange(De),Je=je&&(0,t.k9)(je);return Je==null?!1:(le&&le(fe.tr.lift(je,Je).scrollIntoView()),!0)},x=(fe,le)=>{let{$head:Ae,$anchor:De}=fe.selection;return!Ae.parent.type.spec.code||!Ae.sameParent(De)?!1:(le&&le(fe.tr.insertText(`
`).scrollIntoView()),!0)};function D(fe){for(let le=0;le<fe.edgeCount;le++){let{type:Ae}=fe.edge(le);if(Ae.isTextblock&&!Ae.hasRequiredAttrs())return Ae}return null}const y=(fe,le)=>{let{$head:Ae,$anchor:De}=fe.selection;if(!Ae.parent.type.spec.code||!Ae.sameParent(De))return!1;let je=Ae.node(-1),Je=Ae.indexAfter(-1),Be=D(je.contentMatchAt(Je));if(!Be||!je.canReplaceWith(Je,Je,Be))return!1;if(le){let st=Ae.after(),ht=fe.tr.replaceWith(st,st,Be.createAndFill());ht.setSelection(i.Y1.near(ht.doc.resolve(st),1)),le(ht.scrollIntoView())}return!0},M=(fe,le)=>{let Ae=fe.selection,{$from:De,$to:je}=Ae;if(Ae instanceof i.C1||De.parent.inlineContent||je.parent.inlineContent)return!1;let Je=D(je.parent.contentMatchAt(je.indexAfter()));if(!Je||!Je.isTextblock)return!1;if(le){let Be=(!De.parentOffset&&je.index()<je.parent.childCount?De:je).pos,st=fe.tr.insert(Be,Je.createAndFill());st.setSelection(i.Bs.create(st.doc,Be+1)),le(st.scrollIntoView())}return!0},T=(fe,le)=>{let{$cursor:Ae}=fe.selection;if(!Ae||Ae.parent.content.size)return!1;if(Ae.depth>1&&Ae.after()!=Ae.end(-1)){let Je=Ae.before();if((0,t.Ax)(fe.doc,Je))return le&&le(fe.tr.split(Je).scrollIntoView()),!0}let De=Ae.blockRange(),je=De&&(0,t.k9)(De);return je==null?!1:(le&&le(fe.tr.lift(De,je).scrollIntoView()),!0)};function R(fe){return(le,Ae)=>{let{$from:De,$to:je}=le.selection;if(le.selection instanceof i.qv&&le.selection.node.isBlock)return!De.parentOffset||!(0,t.Ax)(le.doc,De.pos)?!1:(Ae&&Ae(le.tr.split(De.pos).scrollIntoView()),!0);if(!De.parent.isBlock)return!1;if(Ae){let Je=je.parentOffset==je.parent.content.size,Be=le.tr;(le.selection instanceof i.Bs||le.selection instanceof i.C1)&&Be.deleteSelection();let st=De.depth==0?null:D(De.node(-1).contentMatchAt(De.indexAfter(-1))),ht=fe&&fe(je.parent,Je),gt=ht?[ht]:Je&&st?[{type:st}]:void 0,Xe=(0,t.Ax)(Be.doc,Be.mapping.map(De.pos),1,gt);if(!gt&&!Xe&&(0,t.Ax)(Be.doc,Be.mapping.map(De.pos),1,st?[{type:st}]:void 0)&&(st&&(gt=[{type:st}]),Xe=!0),Xe&&(Be.split(Be.mapping.map(De.pos),1,gt),!Je&&!De.parentOffset&&De.parent.type!=st)){let Re=Be.mapping.map(De.before()),Ne=Be.doc.resolve(Re);st&&De.node(-1).canReplaceWith(Ne.index(),Ne.index()+1,st)&&Be.setNodeMarkup(Be.mapping.map(De.before()),st)}Ae(Be.scrollIntoView())}return!0}}const F=R(),N=(fe,le)=>F(fe,le&&(Ae=>{let De=fe.storedMarks||fe.selection.$to.parentOffset&&fe.selection.$from.marks();De&&Ae.ensureMarks(De),le(Ae)})),U=(fe,le)=>{let{$from:Ae,to:De}=fe.selection,je,Je=Ae.sharedDepth(De);return Je==0?!1:(je=Ae.before(Je),le&&le(fe.tr.setSelection(i.qv.create(fe.doc,je))),!0)},V=(fe,le)=>(le&&le(fe.tr.setSelection(new i.C1(fe.doc))),!0);function W(fe,le,Ae){let De=le.nodeBefore,je=le.nodeAfter,Je=le.index();return!De||!je||!De.type.compatibleContent(je.type)?!1:!De.content.size&&le.parent.canReplace(Je-1,Je)?(Ae&&Ae(fe.tr.delete(le.pos-De.nodeSize,le.pos).scrollIntoView()),!0):!le.parent.canReplace(Je,Je+1)||!(je.isTextblock||(0,t.Mn)(fe.doc,le.pos))?!1:(Ae&&Ae(fe.tr.clearIncompatible(le.pos,De.type,De.contentMatchAt(De.childCount)).join(le.pos).scrollIntoView()),!0)}function L(fe,le,Ae){let De=le.nodeBefore,je=le.nodeAfter,Je,Be;if(De.type.spec.isolating||je.type.spec.isolating)return!1;if(W(fe,le,Ae))return!0;let st=le.parent.canReplace(le.index(),le.index()+1);if(st&&(Je=(Be=De.contentMatchAt(De.childCount)).findWrapping(je.type))&&Be.matchType(Je[0]||je.type).validEnd){if(Ae){let Re=le.pos+je.nodeSize,Ne=a.HY.empty;for(let Dt=Je.length-1;Dt>=0;Dt--)Ne=a.HY.from(Je[Dt].create(null,Ne));Ne=a.HY.from(De.copy(Ne));let ke=fe.tr.step(new t.FC(le.pos-1,Re,le.pos,Re,new a.p2(Ne,1,0),Je.length,!0)),ot=Re+2*Je.length;(0,t.Mn)(ke.doc,ot)&&ke.join(ot),Ae(ke.scrollIntoView())}return!0}let ht=i.Y1.findFrom(le,1),gt=ht&&ht.$from.blockRange(ht.$to),Xe=gt&&(0,t.k9)(gt);if(Xe!=null&&Xe>=le.depth)return Ae&&Ae(fe.tr.lift(gt,Xe).scrollIntoView()),!0;if(st&&E(je,"start",!0)&&E(De,"end")){let Re=De,Ne=[];for(;Ne.push(Re),!Re.isTextblock;)Re=Re.lastChild;let ke=je,ot=1;for(;!ke.isTextblock;ke=ke.firstChild)ot++;if(Re.canReplace(Re.childCount,Re.childCount,ke.content)){if(Ae){let Dt=a.HY.empty;for(let ct=Ne.length-1;ct>=0;ct--)Dt=a.HY.from(Ne[ct].copy(Dt));let ln=fe.tr.step(new t.FC(le.pos-Ne.length,le.pos+je.nodeSize,le.pos+ot,le.pos+je.nodeSize-ot,new a.p2(Dt,Ne.length,0),0,!0));Ae(ln.scrollIntoView())}return!0}}return!1}function k(fe){return function(le,Ae){let De=le.selection,je=fe<0?De.$from:De.$to,Je=je.depth;for(;je.node(Je).isInline;){if(!Je)return!1;Je--}return je.node(Je).isTextblock?(Ae&&Ae(le.tr.setSelection(i.Bs.create(le.doc,fe<0?je.start(Je):je.end(Je)))),!0):!1}}const H=k(-1),G=k(1);function q(fe,le=null){return function(Ae,De){let{$from:je,$to:Je}=Ae.selection,Be=je.blockRange(Je),st=Be&&(0,t.nd)(Be,fe,le);return st?(De&&De(Ae.tr.wrap(Be,st).scrollIntoView()),!0):!1}}function z(fe,le=null){return function(Ae,De){let je=!1;for(let Je=0;Je<Ae.selection.ranges.length&&!je;Je++){let{$from:{pos:Be},$to:{pos:st}}=Ae.selection.ranges[Je];Ae.doc.nodesBetween(Be,st,(ht,gt)=>{if(je)return!1;if(!(!ht.isTextblock||ht.hasMarkup(fe,le)))if(ht.type==fe)je=!0;else{let Xe=Ae.doc.resolve(gt),Re=Xe.index();je=Xe.parent.canReplaceWith(Re,Re+1,fe)}})}if(!je)return!1;if(De){let Je=Ae.tr;for(let Be=0;Be<Ae.selection.ranges.length;Be++){let{$from:{pos:st},$to:{pos:ht}}=Ae.selection.ranges[Be];Je.setBlockType(st,ht,fe,le)}De(Je.scrollIntoView())}return!0}}function ee(fe,le,Ae){for(let De=0;De<le.length;De++){let{$from:je,$to:Je}=le[De],Be=je.depth==0?fe.inlineContent&&fe.type.allowsMarkType(Ae):!1;if(fe.nodesBetween(je.pos,Je.pos,st=>{if(Be)return!1;Be=st.inlineContent&&st.type.allowsMarkType(Ae)}),Be)return!0}return!1}function $(fe,le=null){return function(Ae,De){let{empty:je,$cursor:Je,ranges:Be}=Ae.selection;if(je&&!Je||!ee(Ae.doc,Be,fe))return!1;if(De)if(Je)fe.isInSet(Ae.storedMarks||Je.marks())?De(Ae.tr.removeStoredMark(fe)):De(Ae.tr.addStoredMark(fe.create(le)));else{let st=!1,ht=Ae.tr;for(let gt=0;!st&&gt<Be.length;gt++){let{$from:Xe,$to:Re}=Be[gt];st=Ae.doc.rangeHasMark(Xe.pos,Re.pos,fe)}for(let gt=0;gt<Be.length;gt++){let{$from:Xe,$to:Re}=Be[gt];if(st)ht.removeMark(Xe.pos,Re.pos,fe);else{let Ne=Xe.pos,ke=Re.pos,ot=Xe.nodeAfter,Dt=Re.nodeBefore,ln=ot&&ot.isText?/^\s*/.exec(ot.text)[0].length:0,ct=Dt&&Dt.isText?/\s*$/.exec(Dt.text)[0].length:0;Ne+ln<ke&&(Ne+=ln,ke-=ct),ht.addMark(Ne,ke,fe.create(le))}}De(ht.scrollIntoView())}return!0}}function J(fe,le){return Ae=>{if(!Ae.isGeneric)return fe(Ae);let De=[];for(let Je=0;Je<Ae.mapping.maps.length;Je++){let Be=Ae.mapping.maps[Je];for(let st=0;st<De.length;st++)De[st]=Be.map(De[st]);Be.forEach((st,ht,gt,Xe)=>De.push(gt,Xe))}let je=[];for(let Je=0;Je<De.length;Je+=2){let Be=De[Je],st=De[Je+1],ht=Ae.doc.resolve(Be),gt=ht.sharedDepth(st),Xe=ht.node(gt);for(let Re=ht.indexAfter(gt),Ne=ht.after(gt+1);Ne<=st;++Re){let ke=Xe.maybeChild(Re);if(!ke)break;if(Re&&je.indexOf(Ne)==-1){let ot=Xe.child(Re-1);ot.type==ke.type&&le(ot,ke)&&je.push(Ne)}Ne+=ke.nodeSize}}je.sort((Je,Be)=>Je-Be);for(let Je=je.length-1;Je>=0;Je--)canJoin(Ae.doc,je[Je])&&Ae.join(je[Je]);fe(Ae)}}function j(fe,le){let Ae=Array.isArray(le)?De=>le.indexOf(De.type.name)>-1:le;return(De,je,Je)=>fe(De,je&&J(je,Ae),Je)}function Z(...fe){return function(le,Ae,De){for(let je=0;je<fe.length;je++)if(fe[je](le,Ae,De))return!0;return!1}}let ne=Z(c,l,S),ie=Z(c,u,o);const oe={Enter:Z(x,M,T,F),"Mod-Enter":y,Backspace:ne,"Mod-Backspace":ne,"Shift-Backspace":ne,Delete:ie,"Mod-Delete":ie,"Mod-a":V},re={"Ctrl-h":oe.Backspace,"Alt-Backspace":oe["Mod-Backspace"],"Ctrl-d":oe.Delete,"Ctrl-Alt-Backspace":oe["Mod-Delete"],"Alt-Delete":oe["Mod-Delete"],"Alt-d":oe["Mod-Delete"],"Ctrl-a":H,"Ctrl-e":G};for(let fe in oe)re[fe]=oe[fe];const ae=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,se=null},24251:(K,f,e)=>{"use strict";e.d(f,{q:()=>i});var t=e(2376),a=e(16560);function i(p={}){return new t.Sy({view(l){return new c(l,p)}})}class c{constructor(l,v){this.editorView=l,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=v.width||1,this.color=v.color||"black",this.class=v.class,this.handlers=["dragover","dragend","drop","dragleave"].map(_=>{let g=E=>{this[_](E)};return l.dom.addEventListener(_,g),{name:_,handler:g}})}destroy(){this.handlers.forEach(({name:l,handler:v})=>this.editorView.dom.removeEventListener(l,v))}update(l,v){this.cursorPos!=null&&v.doc!=l.state.doc&&(this.cursorPos>l.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(l){l!=this.cursorPos&&(this.cursorPos=l,l==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let l=this.editorView.state.doc.resolve(this.cursorPos),v=!l.parent.inlineContent,_;if(v){let O=l.nodeBefore,A=l.nodeAfter;if(O||A){let u=this.editorView.nodeDOM(this.cursorPos-(O?O.nodeSize:0));if(u){let o=u.getBoundingClientRect(),s=O?o.bottom:o.top;O&&A&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),_={left:o.left,right:o.right,top:s-this.width/2,bottom:s+this.width/2}}}}if(!_){let O=this.editorView.coordsAtPos(this.cursorPos);_={left:O.left-this.width/2,right:O.left+this.width/2,top:O.top,bottom:O.bottom}}let g=this.editorView.dom.offsetParent;this.element||(this.element=g.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",v),this.element.classList.toggle("prosemirror-dropcursor-inline",!v);let E,S;if(!g||g==document.body&&getComputedStyle(g).position=="static")E=-pageXOffset,S=-pageYOffset;else{let O=g.getBoundingClientRect();E=O.left-g.scrollLeft,S=O.top-g.scrollTop}this.element.style.left=_.left-E+"px",this.element.style.top=_.top-S+"px",this.element.style.width=_.right-_.left+"px",this.element.style.height=_.bottom-_.top+"px"}scheduleRemoval(l){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),l)}dragover(l){if(!this.editorView.editable)return;let v=this.editorView.posAtCoords({left:l.clientX,top:l.clientY}),_=v&&v.inside>=0&&this.editorView.state.doc.nodeAt(v.inside),g=_&&_.type.spec.disableDropCursor,E=typeof g=="function"?g(this.editorView,v,l):g;if(v&&!E){let S=v.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(S=(0,a.nj)(this.editorView.state.doc,S,this.editorView.dragging.slice),S==null))return this.setCursor(null);this.setCursor(S),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(l){(l.target==this.editorView.dom||!this.editorView.dom.contains(l.relatedTarget))&&this.setCursor(null)}}},50915:(K,f,e)=>{"use strict";e.d(f,{d:()=>g});var t=e(7327),a=e(2376),i=e(87823),c=e(84348);class p extends a.Y1{constructor(s){super(s,s)}map(s,w){let P=s.resolve(w.map(this.head));return p.valid(P)?new p(P):a.Y1.near(P)}content(){return i.p2.empty}eq(s){return s instanceof p&&s.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(s,w){if(typeof w.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new p(s.resolve(w.pos))}getBookmark(){return new l(this.anchor)}static valid(s){let w=s.parent;if(w.isTextblock||!v(s)||!_(s))return!1;let P=w.type.spec.allowGapCursor;if(P!=null)return P;let C=w.contentMatchAt(s.index()).defaultType;return C&&C.isTextblock}static findGapCursorFrom(s,w,P=!1){e:for(;;){if(!P&&p.valid(s))return s;let C=s.pos,x=null;for(let D=s.depth;;D--){let y=s.node(D);if(w>0?s.indexAfter(D)<y.childCount:s.index(D)>0){x=y.child(w>0?s.indexAfter(D):s.index(D)-1);break}else if(D==0)return null;C+=w;let M=s.doc.resolve(C);if(p.valid(M))return M}for(;;){let D=w>0?x.firstChild:x.lastChild;if(!D){if(x.isAtom&&!x.isText&&!a.qv.isSelectable(x)){s=s.doc.resolve(C+x.nodeSize*w),P=!1;continue e}break}x=D,C+=w;let y=s.doc.resolve(C);if(p.valid(y))return y}return null}}}p.prototype.visible=!1,p.findFrom=p.findGapCursorFrom,a.Y1.jsonID("gapcursor",p);class l{constructor(s){this.pos=s}map(s){return new l(s.map(this.pos))}resolve(s){let w=s.resolve(this.pos);return p.valid(w)?new p(w):a.Y1.near(w)}}function v(o){for(let s=o.depth;s>=0;s--){let w=o.index(s),P=o.node(s);if(w==0){if(P.type.spec.isolating)return!0;continue}for(let C=P.child(w-1);;C=C.lastChild){if(C.childCount==0&&!C.inlineContent||C.isAtom||C.type.spec.isolating)return!0;if(C.inlineContent)return!1}}return!0}function _(o){for(let s=o.depth;s>=0;s--){let w=o.indexAfter(s),P=o.node(s);if(w==P.childCount){if(P.type.spec.isolating)return!0;continue}for(let C=P.child(w);;C=C.firstChild){if(C.childCount==0&&!C.inlineContent||C.isAtom||C.type.spec.isolating)return!0;if(C.inlineContent)return!1}}return!0}function g(){return new a.Sy({props:{decorations:u,createSelectionBetween(o,s,w){return s.pos==w.pos&&p.valid(w)?new p(w):null},handleClick:O,handleKeyDown:E,handleDOMEvents:{beforeinput:A}}})}const E=(0,t.$)({ArrowLeft:S("horiz",-1),ArrowRight:S("horiz",1),ArrowUp:S("vert",-1),ArrowDown:S("vert",1)});function S(o,s){const w=o=="vert"?s>0?"down":"up":s>0?"right":"left";return function(P,C,x){let D=P.selection,y=s>0?D.$to:D.$from,M=D.empty;if(D instanceof a.Bs){if(!x.endOfTextblock(w)||y.depth==0)return!1;M=!1,y=P.doc.resolve(s>0?y.after():y.before())}let T=p.findGapCursorFrom(y,s,M);return T?(C&&C(P.tr.setSelection(new p(T))),!0):!1}}function O(o,s,w){if(!o||!o.editable)return!1;let P=o.state.doc.resolve(s);if(!p.valid(P))return!1;let C=o.posAtCoords({left:w.clientX,top:w.clientY});return C&&C.inside>-1&&a.qv.isSelectable(o.state.doc.nodeAt(C.inside))?!1:(o.dispatch(o.state.tr.setSelection(new p(P))),!0)}function A(o,s){if(s.inputType!="insertCompositionText"||!(o.state.selection instanceof p))return!1;let{$from:w}=o.state.selection,P=w.parent.contentMatchAt(w.index()).findWrapping(o.state.schema.nodes.text);if(!P)return!1;let C=i.HY.empty;for(let D=P.length-1;D>=0;D--)C=i.HY.from(P[D].createAndFill(null,C));let x=o.state.tr.replace(w.pos,w.pos,new i.p2(C,0,0));return x.setSelection(a.Bs.near(x.doc.resolve(w.pos+1))),o.dispatch(x),!1}function u(o){if(!(o.selection instanceof p))return null;let s=document.createElement("div");return s.className="ProseMirror-gapcursor",c.EH.create(o.doc,[c.p.widget(o.selection.head,s,{key:"gapcursor"})])}},5284:(K,f,e)=>{"use strict";e.d(f,{m8:()=>F,KX:()=>U,Yw:()=>N});var t=200,a=function(){};a.prototype.append=function(k){return k.length?(k=a.from(k),!this.length&&k||k.length<t&&this.leafAppend(k)||this.length<t&&k.leafPrepend(this)||this.appendInner(k)):this},a.prototype.prepend=function(k){return k.length?a.from(k).append(this):this},a.prototype.appendInner=function(k){return new c(this,k)},a.prototype.slice=function(k,H){return k===void 0&&(k=0),H===void 0&&(H=this.length),k>=H?a.empty:this.sliceInner(Math.max(0,k),Math.min(this.length,H))},a.prototype.get=function(k){if(!(k<0||k>=this.length))return this.getInner(k)},a.prototype.forEach=function(k,H,G){H===void 0&&(H=0),G===void 0&&(G=this.length),H<=G?this.forEachInner(k,H,G,0):this.forEachInvertedInner(k,H,G,0)},a.prototype.map=function(k,H,G){H===void 0&&(H=0),G===void 0&&(G=this.length);var q=[];return this.forEach(function(z,ee){return q.push(k(z,ee))},H,G),q},a.from=function(k){return k instanceof a?k:k&&k.length?new i(k):a.empty};var i=function(L){function k(G){L.call(this),this.values=G}L&&(k.__proto__=L),k.prototype=Object.create(L&&L.prototype),k.prototype.constructor=k;var H={length:{configurable:!0},depth:{configurable:!0}};return k.prototype.flatten=function(){return this.values},k.prototype.sliceInner=function(q,z){return q==0&&z==this.length?this:new k(this.values.slice(q,z))},k.prototype.getInner=function(q){return this.values[q]},k.prototype.forEachInner=function(q,z,ee,$){for(var J=z;J<ee;J++)if(q(this.values[J],$+J)===!1)return!1},k.prototype.forEachInvertedInner=function(q,z,ee,$){for(var J=z-1;J>=ee;J--)if(q(this.values[J],$+J)===!1)return!1},k.prototype.leafAppend=function(q){if(this.length+q.length<=t)return new k(this.values.concat(q.flatten()))},k.prototype.leafPrepend=function(q){if(this.length+q.length<=t)return new k(q.flatten().concat(this.values))},H.length.get=function(){return this.values.length},H.depth.get=function(){return 0},Object.defineProperties(k.prototype,H),k}(a);a.empty=new i([]);var c=function(L){function k(H,G){L.call(this),this.left=H,this.right=G,this.length=H.length+G.length,this.depth=Math.max(H.depth,G.depth)+1}return L&&(k.__proto__=L),k.prototype=Object.create(L&&L.prototype),k.prototype.constructor=k,k.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},k.prototype.getInner=function(G){return G<this.left.length?this.left.get(G):this.right.get(G-this.left.length)},k.prototype.forEachInner=function(G,q,z,ee){var $=this.left.length;if(q<$&&this.left.forEachInner(G,q,Math.min(z,$),ee)===!1||z>$&&this.right.forEachInner(G,Math.max(q-$,0),Math.min(this.length,z)-$,ee+$)===!1)return!1},k.prototype.forEachInvertedInner=function(G,q,z,ee){var $=this.left.length;if(q>$&&this.right.forEachInvertedInner(G,q-$,Math.max(z,$)-$,ee+$)===!1||z<$&&this.left.forEachInvertedInner(G,Math.min(q,$),z,ee)===!1)return!1},k.prototype.sliceInner=function(G,q){if(G==0&&q==this.length)return this;var z=this.left.length;return q<=z?this.left.slice(G,q):G>=z?this.right.slice(G-z,q-z):this.left.slice(G,z).append(this.right.slice(0,q-z))},k.prototype.leafAppend=function(G){var q=this.right.leafAppend(G);if(q)return new k(this.left,q)},k.prototype.leafPrepend=function(G){var q=this.left.leafPrepend(G);if(q)return new k(q,this.right)},k.prototype.appendInner=function(G){return this.left.depth>=Math.max(this.right.depth,G.depth)+1?new k(this.left,new k(this.right,G)):new k(this,G)},k}(a),p=a;const l=p;var v=e(16560),_=e(2376);const g=500;class E{constructor(k,H){this.items=k,this.eventCount=H}popEvent(k,H){if(this.eventCount==0)return null;let G=this.items.length;for(;;G--)if(this.items.get(G-1).selection){--G;break}let q,z;H&&(q=this.remapping(G,this.items.length),z=q.maps.length);let ee=k.tr,$,J,j=[],Z=[];return this.items.forEach((ne,ie)=>{if(!ne.step){q||(q=this.remapping(G,ie+1),z=q.maps.length),z--,Z.push(ne);return}if(q){Z.push(new O(ne.map));let oe=ne.step.map(q.slice(z)),re;oe&&ee.maybeStep(oe).doc&&(re=ee.mapping.maps[ee.mapping.maps.length-1],j.push(new O(re,void 0,void 0,j.length+Z.length))),z--,re&&q.appendMap(re,z)}else ee.maybeStep(ne.step);if(ne.selection)return $=q?ne.selection.map(q.slice(z)):ne.selection,J=new E(this.items.slice(0,G).append(Z.reverse().concat(j)),this.eventCount-1),!1},this.items.length,0),{remaining:J,transform:ee,selection:$}}addTransform(k,H,G,q){let z=[],ee=this.eventCount,$=this.items,J=!q&&$.length?$.get($.length-1):null;for(let Z=0;Z<k.steps.length;Z++){let ne=k.steps[Z].invert(k.docs[Z]),ie=new O(k.mapping.maps[Z],ne,H),oe;(oe=J&&J.merge(ie))&&(ie=oe,Z?z.pop():$=$.slice(0,$.length-1)),z.push(ie),H&&(ee++,H=void 0),q||(J=ie)}let j=ee-G.depth;return j>u&&($=S($,j),ee-=j),new E($.append(z),ee)}remapping(k,H){let G=new v.vs;return this.items.forEach((q,z)=>{let ee=q.mirrorOffset!=null&&z-q.mirrorOffset>=k?G.maps.length-q.mirrorOffset:void 0;G.appendMap(q.map,ee)},k,H),G}addMaps(k){return this.eventCount==0?this:new E(this.items.append(k.map(H=>new O(H))),this.eventCount)}rebased(k,H){if(!this.eventCount)return this;let G=[],q=Math.max(0,this.items.length-H),z=k.mapping,ee=k.steps.length,$=this.eventCount;this.items.forEach(ie=>{ie.selection&&$--},q);let J=H;this.items.forEach(ie=>{let oe=z.getMirror(--J);if(oe==null)return;ee=Math.min(ee,oe);let re=z.maps[oe];if(ie.step){let ae=k.steps[oe].invert(k.docs[oe]),se=ie.selection&&ie.selection.map(z.slice(J+1,oe));se&&$++,G.push(new O(re,ae,se))}else G.push(new O(re))},q);let j=[];for(let ie=H;ie<ee;ie++)j.push(new O(z.maps[ie]));let Z=this.items.slice(0,q).append(j).append(G),ne=new E(Z,$);return ne.emptyItemCount()>g&&(ne=ne.compress(this.items.length-G.length)),ne}emptyItemCount(){let k=0;return this.items.forEach(H=>{H.step||k++}),k}compress(k=this.items.length){let H=this.remapping(0,k),G=H.maps.length,q=[],z=0;return this.items.forEach((ee,$)=>{if($>=k)q.push(ee),ee.selection&&z++;else if(ee.step){let J=ee.step.map(H.slice(G)),j=J&&J.getMap();if(G--,j&&H.appendMap(j,G),J){let Z=ee.selection&&ee.selection.map(H.slice(G));Z&&z++;let ne=new O(j.invert(),J,Z),ie,oe=q.length-1;(ie=q.length&&q[oe].merge(ne))?q[oe]=ie:q.push(ne)}}else ee.map&&G--},this.items.length,0),new E(l.from(q.reverse()),z)}}E.empty=new E(l.empty,0);function S(L,k){let H;return L.forEach((G,q)=>{if(G.selection&&k--==0)return H=q,!1}),L.slice(H)}class O{constructor(k,H,G,q){this.map=k,this.step=H,this.selection=G,this.mirrorOffset=q}merge(k){if(this.step&&k.step&&!k.selection){let H=k.step.merge(this.step);if(H)return new O(H.getMap().invert(),H,this.selection)}}}class A{constructor(k,H,G,q){this.done=k,this.undone=H,this.prevRanges=G,this.prevTime=q}}const u=20;function o(L,k,H,G){let q=H.getMeta(T),z;if(q)return q.historyState;H.getMeta(R)&&(L=new A(L.done,L.undone,null,0));let ee=H.getMeta("appendedTransaction");if(H.steps.length==0)return L;if(ee&&ee.getMeta(T))return ee.getMeta(T).redo?new A(L.done.addTransform(H,void 0,G,y(k)),L.undone,w(H.mapping.maps[H.steps.length-1]),L.prevTime):new A(L.done,L.undone.addTransform(H,void 0,G,y(k)),null,L.prevTime);if(H.getMeta("addToHistory")!==!1&&!(ee&&ee.getMeta("addToHistory")===!1)){let $=L.prevTime==0||!ee&&(L.prevTime<(H.time||0)-G.newGroupDelay||!s(H,L.prevRanges)),J=ee?P(L.prevRanges,H.mapping):w(H.mapping.maps[H.steps.length-1]);return new A(L.done.addTransform(H,$?k.selection.getBookmark():void 0,G,y(k)),E.empty,J,H.time)}else return(z=H.getMeta("rebased"))?new A(L.done.rebased(H,z),L.undone.rebased(H,z),P(L.prevRanges,H.mapping),L.prevTime):new A(L.done.addMaps(H.mapping.maps),L.undone.addMaps(H.mapping.maps),P(L.prevRanges,H.mapping),L.prevTime)}function s(L,k){if(!k)return!1;if(!L.docChanged)return!0;let H=!1;return L.mapping.maps[0].forEach((G,q)=>{for(let z=0;z<k.length;z+=2)G<=k[z+1]&&q>=k[z]&&(H=!0)}),H}function w(L){let k=[];return L.forEach((H,G,q,z)=>k.push(q,z)),k}function P(L,k){if(!L)return null;let H=[];for(let G=0;G<L.length;G+=2){let q=k.map(L[G],1),z=k.map(L[G+1],-1);q<=z&&H.push(q,z)}return H}function C(L,k,H,G){let q=y(k),z=T.get(k).spec.config,ee=(G?L.undone:L.done).popEvent(k,q);if(!ee)return;let $=ee.selection.resolve(ee.transform.doc),J=(G?L.done:L.undone).addTransform(ee.transform,k.selection.getBookmark(),z,q),j=new A(G?J:ee.remaining,G?ee.remaining:J,null,0);H(ee.transform.setSelection($).setMeta(T,{redo:G,historyState:j}).scrollIntoView())}let x=!1,D=null;function y(L){let k=L.plugins;if(D!=k){x=!1,D=k;for(let H=0;H<k.length;H++)if(k[H].spec.historyPreserveItems){x=!0;break}}return x}function M(L){return L.setMeta(R,!0)}const T=new _.H$("history"),R=new _.H$("closeHistory");function F(L={}){return L={depth:L.depth||100,newGroupDelay:L.newGroupDelay||500},new _.Sy({key:T,state:{init(){return new A(E.empty,E.empty,null,0)},apply(k,H,G){return o(H,G,k,L)}},config:L,props:{handleDOMEvents:{beforeinput(k,H){let G=H.inputType,q=G=="historyUndo"?N:G=="historyRedo"?U:null;return q?(H.preventDefault(),q(k.state,k.dispatch)):!1}}}})}const N=(L,k)=>{let H=T.getState(L);return!H||H.done.eventCount==0?!1:(k&&C(H,L,k,!1),!0)},U=(L,k)=>{let H=T.getState(L);return!H||H.undone.eventCount==0?!1:(k&&C(H,L,k,!0),!0)};function V(L){let k=T.getState(L);return k?k.done.eventCount:0}function W(L){let k=T.getState(L);return k?k.undone.eventCount:0}},36912:(K,f,e)=>{"use strict";e.d(f,{dU:()=>l});class t{constructor(w,P){this.match=w,this.match=w,this.handler=typeof P=="string"?a(P):P}}function a(s){return function(w,P,C,x){let D=s;if(P[1]){let y=P[0].lastIndexOf(P[1]);D+=P[0].slice(y+P[1].length),C+=y;let M=C-x;M>0&&(D=P[0].slice(y-M,y)+D,C=x)}return w.tr.insertText(D,C,x)}}const i=500;function c({rules:s}){let w=new Plugin({state:{init(){return null},apply(P,C){let x=P.getMeta(this);return x||(P.selectionSet||P.docChanged?null:C)}},props:{handleTextInput(P,C,x,D){return p(P,C,x,D,s,w)},handleDOMEvents:{compositionend:P=>{setTimeout(()=>{let{$cursor:C}=P.state.selection;C&&p(P,C.pos,C.pos,"",s,w)})}}},isInputRules:!0});return w}function p(s,w,P,C,x,D){if(s.composing)return!1;let y=s.state,M=y.doc.resolve(w);if(M.parent.type.spec.code)return!1;let T=M.parent.textBetween(Math.max(0,M.parentOffset-i),M.parentOffset,null,"\uFFFC")+C;for(let R=0;R<x.length;R++){let F=x[R].match.exec(T),N=F&&x[R].handler(y,F,w-(F[0].length-C.length),P);if(N)return s.dispatch(N.setMeta(D,{transform:N,from:w,to:P,text:C})),!0}return!1}const l=(s,w)=>{let P=s.plugins;for(let C=0;C<P.length;C++){let x=P[C],D;if(x.spec.isInputRules&&(D=x.getState(s))){if(w){let y=s.tr,M=D.transform;for(let T=M.steps.length-1;T>=0;T--)y.step(M.steps[T].invert(M.docs[T]));if(D.text){let T=y.doc.resolve(D.from).marks();y.replaceWith(D.from,D.to,s.schema.text(D.text,T))}else y.delete(D.from,D.to);w(y)}return!0}}return!1},v=new t(/--$/,"\u2014"),_=new t(/\.\.\.$/,"\u2026"),g=new t(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C"),E=new t(/"$/,"\u201D"),S=new t(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),O=new t(/'$/,"\u2019"),A=[g,E,S,O];function u(s,w,P=null,C){return new t(s,(x,D,y,M)=>{let T=P instanceof Function?P(D):P,R=x.tr.delete(y,M),F=R.doc.resolve(y),N=F.blockRange(),U=N&&findWrapping(N,w,T);if(!U)return null;R.wrap(N,U);let V=R.doc.resolve(y-1).nodeBefore;return V&&V.type==w&&canJoin(R.doc,y-1)&&(!C||C(D,V))&&R.join(y-1),R})}function o(s,w,P=null){return new t(s,(C,x,D,y)=>{let M=C.doc.resolve(D),T=P instanceof Function?P(x):P;return M.node(-1).canReplaceWith(M.index(-1),M.indexAfter(-1),w)?C.tr.delete(D,y).setBlockType(D,D,w,T):null})}},7327:(K,f,e)=>{"use strict";e.d(f,{$:()=>P,h:()=>w});for(var t={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},a={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),c=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),p=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),l=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),v=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),_=i&&(l||+i[1]<57)||p&&l,g=0;g<10;g++)t[48+g]=t[96+g]=String(g);for(var g=1;g<=24;g++)t[g+111]="F"+g;for(var g=65;g<=90;g++)t[g]=String.fromCharCode(g+32),a[g]=String.fromCharCode(g);for(var E in t)a.hasOwnProperty(E)||(a[E]=t[E]);function S(C){var x=_&&(C.ctrlKey||C.altKey||C.metaKey)||(c||v)&&C.shiftKey&&C.key&&C.key.length==1,D=!x&&C.key||(C.shiftKey?a:t)[C.keyCode]||C.key||"Unidentified";return D=="Esc"&&(D="Escape"),D=="Del"&&(D="Delete"),D=="Left"&&(D="ArrowLeft"),D=="Up"&&(D="ArrowUp"),D=="Right"&&(D="ArrowRight"),D=="Down"&&(D="ArrowDown"),D}var O=e(2376);const A=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function u(C){let x=C.split(/-(?!$)/),D=x[x.length-1];D=="Space"&&(D=" ");let y,M,T,R;for(let F=0;F<x.length-1;F++){let N=x[F];if(/^(cmd|meta|m)$/i.test(N))R=!0;else if(/^a(lt)?$/i.test(N))y=!0;else if(/^(c|ctrl|control)$/i.test(N))M=!0;else if(/^s(hift)?$/i.test(N))T=!0;else if(/^mod$/i.test(N))A?R=!0:M=!0;else throw new Error("Unrecognized modifier name: "+N)}return y&&(D="Alt-"+D),M&&(D="Ctrl-"+D),R&&(D="Meta-"+D),T&&(D="Shift-"+D),D}function o(C){let x=Object.create(null);for(let D in C)x[u(D)]=C[D];return x}function s(C,x,D=!0){return x.altKey&&(C="Alt-"+C),x.ctrlKey&&(C="Ctrl-"+C),x.metaKey&&(C="Meta-"+C),D&&x.shiftKey&&(C="Shift-"+C),C}function w(C){return new O.Sy({props:{handleKeyDown:P(C)}})}function P(C){let x=o(C);return function(D,y){let M=S(y),T,R=x[s(M,y)];if(R&&R(D.state,D.dispatch,D))return!0;if(M.length==1&&M!=" "){if(y.shiftKey){let F=x[s(M,y,!1)];if(F&&F(D.state,D.dispatch,D))return!0}if((y.shiftKey||y.altKey||y.metaKey||M.charCodeAt(0)>127)&&(T=t[y.keyCode])&&T!=M){let F=x[s(T,y)];if(F&&F(D.state,D.dispatch,D))return!0}}return!1}}},55963:(K,f,e)=>{"use strict";e.d(f,{fK:()=>i});var t=e(87823),a=e(17568);const i=new t.V_({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(C){return["h"+C.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:C=>({params:C.getAttribute("data-params")||""})}],toDOM(C){return["pre",C.attrs.params?{"data-params":C.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(C){return{order:C.hasAttribute("start")?+C.getAttribute("start"):1,tight:C.hasAttribute("data-tight")}}}],toDOM(C){return["ol",{start:C.attrs.order==1?null:C.attrs.order,"data-tight":C.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:C=>({tight:C.hasAttribute("data-tight")})}],toDOM(C){return["ul",{"data-tight":C.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(C){return{src:C.getAttribute("src"),title:C.getAttribute("title"),alt:C.getAttribute("alt")}}}],toDOM(C){return["img",C.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:C=>C=="italic"&&null}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:C=>/^(bold(er)?|[5-9]\d{2,})$/.test(C)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(C){return{href:C.getAttribute("href"),title:C.getAttribute("title")}}}],toDOM(C){return["a",C.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function c(C,x){if(C.isText&&x.isText&&t.vc.sameSet(C.marks,x.marks))return C.withText(C.text+x.text)}class p{constructor(x,D){this.schema=x,this.tokenHandlers=D,this.stack=[{type:x.topNodeType,attrs:null,content:[],marks:t.vc.none}]}top(){return this.stack[this.stack.length-1]}push(x){this.stack.length&&this.top().content.push(x)}addText(x){if(!x)return;let D=this.top(),y=D.content,M=y[y.length-1],T=this.schema.text(x,D.marks),R;M&&(R=c(M,T))?y[y.length-1]=R:y.push(T)}openMark(x){let D=this.top();D.marks=x.addToSet(D.marks)}closeMark(x){let D=this.top();D.marks=x.removeFromSet(D.marks)}parseTokens(x){for(let D=0;D<x.length;D++){let y=x[D],M=this.tokenHandlers[y.type];if(!M)throw new Error("Token type `"+y.type+"` not supported by Markdown parser");M(this,y,x,D)}}addNode(x,D,y){let M=this.top(),T=x.createAndFill(D,y,M?M.marks:[]);return T?(this.push(T),T):null}openNode(x,D){this.stack.push({type:x,attrs:D,content:[],marks:t.vc.none})}closeNode(){let x=this.stack.pop();return this.addNode(x.type,x.attrs,x.content)}}function l(C,x,D,y){return C.getAttrs?C.getAttrs(x,D,y):C.attrs instanceof Function?C.attrs(x):C.attrs}function v(C,x){return C.noCloseToken||x=="code_inline"||x=="code_block"||x=="fence"}function _(C){return C[C.length-1]==`
`?C.slice(0,C.length-1):C}function g(){}function E(C,x){let D=Object.create(null);for(let y in x){let M=x[y];if(M.block){let T=C.nodeType(M.block);v(M,y)?D[y]=(R,F,N,U)=>{R.openNode(T,l(M,F,N,U)),R.addText(_(F.content)),R.closeNode()}:(D[y+"_open"]=(R,F,N,U)=>R.openNode(T,l(M,F,N,U)),D[y+"_close"]=R=>R.closeNode())}else if(M.node){let T=C.nodeType(M.node);D[y]=(R,F,N,U)=>R.addNode(T,l(M,F,N,U))}else if(M.mark){let T=C.marks[M.mark];v(M,y)?D[y]=(R,F,N,U)=>{R.openMark(T.create(l(M,F,N,U))),R.addText(_(F.content)),R.closeMark(T)}:(D[y+"_open"]=(R,F,N,U)=>R.openMark(T.create(l(M,F,N,U))),D[y+"_close"]=R=>R.closeMark(T))}else if(M.ignore)v(M,y)?D[y]=g:(D[y+"_open"]=g,D[y+"_close"]=g);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(M))}return D.text=(y,M)=>y.addText(M.content),D.inline=(y,M)=>y.parseTokens(M.children),D.softbreak=D.softbreak||(y=>y.addText(`
`)),D}class S{constructor(x,D,y){this.schema=x,this.tokenizer=D,this.tokens=y,this.tokenHandlers=E(x,y)}parse(x,D={}){let y=new p(this.schema,this.tokenHandlers),M;y.parseTokens(this.tokenizer.parse(x,D));do M=y.closeNode();while(y.stack.length);return M||this.schema.topNodeType.createAndFill()}}function O(C,x){for(;++x<C.length;)if(C[x].type!="list_item_open")return C[x].hidden;return!1}const A=new S(i,a("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(C,x,D)=>({tight:O(x,D)})},ordered_list:{block:"ordered_list",getAttrs:(C,x,D)=>({order:+C.attrGet("start")||1,tight:O(x,D)})},heading:{block:"heading",getAttrs:C=>({level:+C.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:C=>({params:C.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:C=>({src:C.attrGet("src"),title:C.attrGet("title")||null,alt:C.children[0]&&C.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:C=>({href:C.attrGet("href"),title:C.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});class u{constructor(x,D,y={}){this.nodes=x,this.marks=D,this.options=y}serialize(x,D={}){D=Object.assign(this.options,D);let y=new P(this.nodes,this.marks,D);return y.renderContent(x),y.out}}const o=new u({blockquote(C,x){C.wrapBlock("> ",null,x,()=>C.renderContent(x))},code_block(C,x){const D=x.textContent.match(/`{3,}/gm),y=D?D.sort().slice(-1)[0]+"`":"```";C.write(y+(x.attrs.params||"")+`
`),C.text(x.textContent,!1),C.ensureNewLine(),C.write(y),C.closeBlock(x)},heading(C,x){C.write(C.repeat("#",x.attrs.level)+" "),C.renderInline(x),C.closeBlock(x)},horizontal_rule(C,x){C.write(x.attrs.markup||"---"),C.closeBlock(x)},bullet_list(C,x){C.renderList(x,"  ",()=>(x.attrs.bullet||"*")+" ")},ordered_list(C,x){let D=x.attrs.order||1,y=String(D+x.childCount-1).length,M=C.repeat(" ",y+2);C.renderList(x,M,T=>{let R=String(D+T);return C.repeat(" ",y-R.length)+R+". "})},list_item(C,x){C.renderContent(x)},paragraph(C,x){C.renderInline(x),C.closeBlock(x)},image(C,x){C.write("!["+C.esc(x.attrs.alt||"")+"]("+x.attrs.src.replace(/[\(\)]/g,"\\$&")+(x.attrs.title?' "'+x.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(C,x,D,y){for(let M=y+1;M<D.childCount;M++)if(D.child(M).type!=x.type){C.write(`\\
`);return}},text(C,x){C.text(x.text,!C.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(C,x,D,y){return C.inAutolink=w(x,D,y),C.inAutolink?"<":"["},close(C,x,D,y){let{inAutolink:M}=C;return C.inAutolink=void 0,M?">":"]("+x.attrs.href.replace(/[\(\)"]/g,"\\$&")+(x.attrs.title?` "${x.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(C,x,D,y){return s(D.child(y),-1)},close(C,x,D,y){return s(D.child(y-1),1)},escape:!1}});function s(C,x){let D=/`+/g,y,M=0;if(C.isText)for(;y=D.exec(C.text);)M=Math.max(M,y[0].length);let T=M>0&&x>0?" `":"`";for(let R=0;R<M;R++)T+="`";return M>0&&x<0&&(T+=" "),T}function w(C,x,D){if(C.attrs.title||!/^\w+:/.test(C.attrs.href))return!1;let y=x.child(D);return!y.isText||y.text!=C.attrs.href||y.marks[y.marks.length-1]!=C?!1:D==x.childCount-1||!C.isInSet(x.child(D+1).marks)}class P{constructor(x,D,y){this.nodes=x,this.marks=D,this.options=y,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists=="undefined"&&(this.options.tightLists=!1)}flushClose(x=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),x>1){let D=this.delim,y=/\s+$/.exec(D);y&&(D=D.slice(0,D.length-y[0].length));for(let M=1;M<x;M++)this.out+=D+`
`}this.closed=null}}wrapBlock(x,D,y,M){let T=this.delim;this.write(D!=null?D:x),this.delim+=x,M(),this.delim=T,this.closeBlock(y)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(x){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),x&&(this.out+=x)}closeBlock(x){this.closed=x}text(x,D=!0){let y=x.split(`
`);for(let M=0;M<y.length;M++)this.write(),!D&&y[M][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=D?this.esc(y[M],this.atBlockStart):y[M],M!=y.length-1&&(this.out+=`
`)}render(x,D,y){if(typeof D=="number")throw new Error("!");if(!this.nodes[x.type.name])throw new Error("Token type `"+x.type.name+"` not supported by Markdown renderer");this.nodes[x.type.name](this,x,D,y)}renderContent(x){x.forEach((D,y,M)=>this.render(D,x,M))}renderInline(x){this.atBlockStart=!0;let D=[],y="",M=(T,R,F)=>{let N=T?T.marks:[];T&&T.type.name==="hard_break"&&(N=N.filter(H=>{if(F+1==x.childCount)return!1;let G=x.child(F+1);return H.isInSet(G.marks)&&(!G.isText||/\S/.test(G.text))}));let U=y;if(y="",T&&T.isText&&N.some(H=>{let G=this.marks[H.type.name];return G&&G.expelEnclosingWhitespace&&!(H.isInSet(D)||F<x.childCount-1&&H.isInSet(x.child(F+1).marks))})){let[H,G,q,z]=/^(\s*)(.*?)(\s*)$/m.exec(T.text);U+=G,y=z,(G||z)&&(T=q?T.withText(q):null,T||(N=D))}let V=N.length?N[N.length-1]:null,W=V&&this.marks[V.type.name].escape===!1,L=N.length-(W?1:0);e:for(let H=0;H<L;H++){let G=N[H];if(!this.marks[G.type.name].mixable)break;for(let q=0;q<D.length;q++){let z=D[q];if(!this.marks[z.type.name].mixable)break;if(G.eq(z)){H>q?N=N.slice(0,q).concat(G).concat(N.slice(q,H)).concat(N.slice(H+1,L)):q>H&&(N=N.slice(0,H).concat(N.slice(H+1,q)).concat(G).concat(N.slice(q,L)));continue e}}}let k=0;for(;k<Math.min(D.length,L)&&N[k].eq(D[k]);)++k;for(;k<D.length;)this.text(this.markString(D.pop(),!1,x,F),!1);if(U&&this.text(U),T){for(;D.length<L;){let H=N[D.length];D.push(H),this.text(this.markString(H,!0,x,F),!1)}W&&T.isText?this.text(this.markString(V,!0,x,F)+T.text+this.markString(V,!1,x,F+1),!1):this.render(T,x,F)}};x.forEach(M),M(null,0,x.childCount),this.atBlockStart=!1}renderList(x,D,y){this.closed&&this.closed.type==x.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let M=typeof x.attrs.tight!="undefined"?x.attrs.tight:this.options.tightLists,T=this.inTightList;this.inTightList=M,x.forEach((R,F,N)=>{N&&M&&this.flushClose(1),this.wrapBlock(D,y(N),x,()=>this.render(R,x,N))}),this.inTightList=T}esc(x,D=!1){return x=x.replace(/[`*\\~\[\]_]/g,(y,M)=>y=="_"&&M>0&&M+1<x.length&&x[M-1].match(/\w/)&&x[M+1].match(/\w/)?y:"\\"+y),D&&(x=x.replace(/^[#\-*+>]/,"\\$&").replace(/^(\s*\d+)\./,"$1\\.")),this.options.escapeExtraCharacters&&(x=x.replace(this.options.escapeExtraCharacters,"\\$&")),x}quote(x){let D=x.indexOf('"')==-1?'""':x.indexOf("'")==-1?"''":"()";return D[0]+x+D[1]}repeat(x,D){let y="";for(let M=0;M<D;M++)y+=x;return y}markString(x,D,y,M){let T=this.marks[x.type.name],R=D?T.open:T.close;return typeof R=="string"?R:R(this,x,y,M)}getEnclosingWhitespace(x){return{leading:(x.match(/^(\s+)/)||[void 0])[0],trailing:(x.match(/(\s+)$/)||[void 0])[0]}}}},87823:(K,f,e)=>{"use strict";e.d(f,{aw:()=>st,PW:()=>et,HY:()=>p,vc:()=>g,ZU:()=>je,NB:()=>W,Ts:()=>U,e4:()=>E,V_:()=>Je,p2:()=>S});function t(Te){this.content=Te}t.prototype={constructor:t,find:function(Te){for(var te=0;te<this.content.length;te+=2)if(this.content[te]===Te)return te;return-1},get:function(Te){var te=this.find(Te);return te==-1?void 0:this.content[te+1]},update:function(Te,te,ue){var we=ue&&ue!=Te?this.remove(ue):this,me=we.find(Te),Ee=we.content.slice();return me==-1?Ee.push(ue||Te,te):(Ee[me+1]=te,ue&&(Ee[me]=ue)),new t(Ee)},remove:function(Te){var te=this.find(Te);if(te==-1)return this;var ue=this.content.slice();return ue.splice(te,2),new t(ue)},addToStart:function(Te,te){return new t([Te,te].concat(this.remove(Te).content))},addToEnd:function(Te,te){var ue=this.remove(Te).content.slice();return ue.push(Te,te),new t(ue)},addBefore:function(Te,te,ue){var we=this.remove(te),me=we.content.slice(),Ee=we.find(Te);return me.splice(Ee==-1?me.length:Ee,0,te,ue),new t(me)},forEach:function(Te){for(var te=0;te<this.content.length;te+=2)Te(this.content[te],this.content[te+1])},prepend:function(Te){return Te=t.from(Te),Te.size?new t(Te.content.concat(this.subtract(Te).content)):this},append:function(Te){return Te=t.from(Te),Te.size?new t(this.subtract(Te).content.concat(Te.content)):this},subtract:function(Te){var te=this;Te=t.from(Te);for(var ue=0;ue<Te.content.length;ue+=2)te=te.remove(Te.content[ue]);return te},toObject:function(){var Te={};return this.forEach(function(te,ue){Te[te]=ue}),Te},get size(){return this.content.length>>1}},t.from=function(Te){if(Te instanceof t)return Te;var te=[];if(Te)for(var ue in Te)te.push(ue,Te[ue]);return new t(te)};const a=t;function i(Te,te,ue){for(let we=0;;we++){if(we==Te.childCount||we==te.childCount)return Te.childCount==te.childCount?null:ue;let me=Te.child(we),Ee=te.child(we);if(me==Ee){ue+=me.nodeSize;continue}if(!me.sameMarkup(Ee))return ue;if(me.isText&&me.text!=Ee.text){for(let he=0;me.text[he]==Ee.text[he];he++)ue++;return ue}if(me.content.size||Ee.content.size){let he=i(me.content,Ee.content,ue+1);if(he!=null)return he}ue+=me.nodeSize}}function c(Te,te,ue,we){for(let me=Te.childCount,Ee=te.childCount;;){if(me==0||Ee==0)return me==Ee?null:{a:ue,b:we};let he=Te.child(--me),xe=te.child(--Ee),Ve=he.nodeSize;if(he==xe){ue-=Ve,we-=Ve;continue}if(!he.sameMarkup(xe))return{a:ue,b:we};if(he.isText&&he.text!=xe.text){let Pe=0,Ie=Math.min(he.text.length,xe.text.length);for(;Pe<Ie&&he.text[he.text.length-Pe-1]==xe.text[xe.text.length-Pe-1];)Pe++,ue--,we--;return{a:ue,b:we}}if(he.content.size||xe.content.size){let Pe=c(he.content,xe.content,ue-1,we-1);if(Pe)return Pe}ue-=Ve,we-=Ve}}class p{constructor(te,ue){if(this.content=te,this.size=ue||0,ue==null)for(let we=0;we<te.length;we++)this.size+=te[we].nodeSize}nodesBetween(te,ue,we,me=0,Ee){for(let he=0,xe=0;xe<ue;he++){let Ve=this.content[he],Pe=xe+Ve.nodeSize;if(Pe>te&&we(Ve,me+xe,Ee||null,he)!==!1&&Ve.content.size){let Ie=xe+1;Ve.nodesBetween(Math.max(0,te-Ie),Math.min(Ve.content.size,ue-Ie),we,me+Ie)}xe=Pe}}descendants(te){this.nodesBetween(0,this.size,te)}textBetween(te,ue,we,me){let Ee="",he=!0;return this.nodesBetween(te,ue,(xe,Ve)=>{xe.isText?(Ee+=xe.text.slice(Math.max(te,Ve)-Ve,ue-Ve),he=!we):xe.isLeaf?(me?Ee+=typeof me=="function"?me(xe):me:xe.type.spec.leafText&&(Ee+=xe.type.spec.leafText(xe)),he=!we):!he&&xe.isBlock&&(Ee+=we,he=!0)},0),Ee}append(te){if(!te.size)return this;if(!this.size)return te;let ue=this.lastChild,we=te.firstChild,me=this.content.slice(),Ee=0;for(ue.isText&&ue.sameMarkup(we)&&(me[me.length-1]=ue.withText(ue.text+we.text),Ee=1);Ee<te.content.length;Ee++)me.push(te.content[Ee]);return new p(me,this.size+te.size)}cut(te,ue=this.size){if(te==0&&ue==this.size)return this;let we=[],me=0;if(ue>te)for(let Ee=0,he=0;he<ue;Ee++){let xe=this.content[Ee],Ve=he+xe.nodeSize;Ve>te&&((he<te||Ve>ue)&&(xe.isText?xe=xe.cut(Math.max(0,te-he),Math.min(xe.text.length,ue-he)):xe=xe.cut(Math.max(0,te-he-1),Math.min(xe.content.size,ue-he-1))),we.push(xe),me+=xe.nodeSize),he=Ve}return new p(we,me)}cutByIndex(te,ue){return te==ue?p.empty:te==0&&ue==this.content.length?this:new p(this.content.slice(te,ue))}replaceChild(te,ue){let we=this.content[te];if(we==ue)return this;let me=this.content.slice(),Ee=this.size+ue.nodeSize-we.nodeSize;return me[te]=ue,new p(me,Ee)}addToStart(te){return new p([te].concat(this.content),this.size+te.nodeSize)}addToEnd(te){return new p(this.content.concat(te),this.size+te.nodeSize)}eq(te){if(this.content.length!=te.content.length)return!1;for(let ue=0;ue<this.content.length;ue++)if(!this.content[ue].eq(te.content[ue]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(te){let ue=this.content[te];if(!ue)throw new RangeError("Index "+te+" out of range for "+this);return ue}maybeChild(te){return this.content[te]||null}forEach(te){for(let ue=0,we=0;ue<this.content.length;ue++){let me=this.content[ue];te(me,we,ue),we+=me.nodeSize}}findDiffStart(te,ue=0){return i(this,te,ue)}findDiffEnd(te,ue=this.size,we=te.size){return c(this,te,ue,we)}findIndex(te,ue=-1){if(te==0)return v(0,te);if(te==this.size)return v(this.content.length,te);if(te>this.size||te<0)throw new RangeError(`Position ${te} outside of fragment (${this})`);for(let we=0,me=0;;we++){let Ee=this.child(we),he=me+Ee.nodeSize;if(he>=te)return he==te||ue>0?v(we+1,he):v(we,me);me=he}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(te=>te.toJSON()):null}static fromJSON(te,ue){if(!ue)return p.empty;if(!Array.isArray(ue))throw new RangeError("Invalid input for Fragment.fromJSON");return new p(ue.map(te.nodeFromJSON))}static fromArray(te){if(!te.length)return p.empty;let ue,we=0;for(let me=0;me<te.length;me++){let Ee=te[me];we+=Ee.nodeSize,me&&Ee.isText&&te[me-1].sameMarkup(Ee)?(ue||(ue=te.slice(0,me)),ue[ue.length-1]=Ee.withText(ue[ue.length-1].text+Ee.text)):ue&&ue.push(Ee)}return new p(ue||te,we)}static from(te){if(!te)return p.empty;if(te instanceof p)return te;if(Array.isArray(te))return this.fromArray(te);if(te.attrs)return new p([te],te.nodeSize);throw new RangeError("Can not convert "+te+" to a Fragment"+(te.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}p.empty=new p([],0);const l={index:0,offset:0};function v(Te,te){return l.index=Te,l.offset=te,l}function _(Te,te){if(Te===te)return!0;if(!(Te&&typeof Te=="object")||!(te&&typeof te=="object"))return!1;let ue=Array.isArray(Te);if(Array.isArray(te)!=ue)return!1;if(ue){if(Te.length!=te.length)return!1;for(let we=0;we<Te.length;we++)if(!_(Te[we],te[we]))return!1}else{for(let we in Te)if(!(we in te)||!_(Te[we],te[we]))return!1;for(let we in te)if(!(we in Te))return!1}return!0}class g{constructor(te,ue){this.type=te,this.attrs=ue}addToSet(te){let ue,we=!1;for(let me=0;me<te.length;me++){let Ee=te[me];if(this.eq(Ee))return te;if(this.type.excludes(Ee.type))ue||(ue=te.slice(0,me));else{if(Ee.type.excludes(this.type))return te;!we&&Ee.type.rank>this.type.rank&&(ue||(ue=te.slice(0,me)),ue.push(this),we=!0),ue&&ue.push(Ee)}}return ue||(ue=te.slice()),we||ue.push(this),ue}removeFromSet(te){for(let ue=0;ue<te.length;ue++)if(this.eq(te[ue]))return te.slice(0,ue).concat(te.slice(ue+1));return te}isInSet(te){for(let ue=0;ue<te.length;ue++)if(this.eq(te[ue]))return!0;return!1}eq(te){return this==te||this.type==te.type&&_(this.attrs,te.attrs)}toJSON(){let te={type:this.type.name};for(let ue in this.attrs){te.attrs=this.attrs;break}return te}static fromJSON(te,ue){if(!ue)throw new RangeError("Invalid input for Mark.fromJSON");let we=te.marks[ue.type];if(!we)throw new RangeError(`There is no mark type ${ue.type} in this schema`);return we.create(ue.attrs)}static sameSet(te,ue){if(te==ue)return!0;if(te.length!=ue.length)return!1;for(let we=0;we<te.length;we++)if(!te[we].eq(ue[we]))return!1;return!0}static setFrom(te){if(!te||Array.isArray(te)&&te.length==0)return g.none;if(te instanceof g)return[te];let ue=te.slice();return ue.sort((we,me)=>we.type.rank-me.type.rank),ue}}g.none=[];class E extends Error{}class S{constructor(te,ue,we){this.content=te,this.openStart=ue,this.openEnd=we}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(te,ue){let we=A(this.content,te+this.openStart,ue);return we&&new S(we,this.openStart,this.openEnd)}removeBetween(te,ue){return new S(O(this.content,te+this.openStart,ue+this.openStart),this.openStart,this.openEnd)}eq(te){return this.content.eq(te.content)&&this.openStart==te.openStart&&this.openEnd==te.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let te={content:this.content.toJSON()};return this.openStart>0&&(te.openStart=this.openStart),this.openEnd>0&&(te.openEnd=this.openEnd),te}static fromJSON(te,ue){if(!ue)return S.empty;let we=ue.openStart||0,me=ue.openEnd||0;if(typeof we!="number"||typeof me!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new S(p.fromJSON(te,ue.content),we,me)}static maxOpen(te,ue=!0){let we=0,me=0;for(let Ee=te.firstChild;Ee&&!Ee.isLeaf&&(ue||!Ee.type.spec.isolating);Ee=Ee.firstChild)we++;for(let Ee=te.lastChild;Ee&&!Ee.isLeaf&&(ue||!Ee.type.spec.isolating);Ee=Ee.lastChild)me++;return new S(te,we,me)}}S.empty=new S(p.empty,0,0);function O(Te,te,ue){let{index:we,offset:me}=Te.findIndex(te),Ee=Te.maybeChild(we),{index:he,offset:xe}=Te.findIndex(ue);if(me==te||Ee.isText){if(xe!=ue&&!Te.child(he).isText)throw new RangeError("Removing non-flat range");return Te.cut(0,te).append(Te.cut(ue))}if(we!=he)throw new RangeError("Removing non-flat range");return Te.replaceChild(we,Ee.copy(O(Ee.content,te-me-1,ue-me-1)))}function A(Te,te,ue,we){let{index:me,offset:Ee}=Te.findIndex(te),he=Te.maybeChild(me);if(Ee==te||he.isText)return we&&!we.canReplace(me,me,ue)?null:Te.cut(0,te).append(ue).append(Te.cut(te));let xe=A(he.content,te-Ee-1,ue);return xe&&Te.replaceChild(me,he.copy(xe))}function u(Te,te,ue){if(ue.openStart>Te.depth)throw new E("Inserted content deeper than insertion position");if(Te.depth-ue.openStart!=te.depth-ue.openEnd)throw new E("Inconsistent open depths");return o(Te,te,ue,0)}function o(Te,te,ue,we){let me=Te.index(we),Ee=Te.node(we);if(me==te.index(we)&&we<Te.depth-ue.openStart){let he=o(Te,te,ue,we+1);return Ee.copy(Ee.content.replaceChild(me,he))}else if(ue.content.size)if(!ue.openStart&&!ue.openEnd&&Te.depth==we&&te.depth==we){let he=Te.parent,xe=he.content;return x(he,xe.cut(0,Te.parentOffset).append(ue.content).append(xe.cut(te.parentOffset)))}else{let{start:he,end:xe}=M(ue,Te);return x(Ee,D(Te,he,xe,te,we))}else return x(Ee,y(Te,te,we))}function s(Te,te){if(!te.type.compatibleContent(Te.type))throw new E("Cannot join "+te.type.name+" onto "+Te.type.name)}function w(Te,te,ue){let we=Te.node(ue);return s(we,te.node(ue)),we}function P(Te,te){let ue=te.length-1;ue>=0&&Te.isText&&Te.sameMarkup(te[ue])?te[ue]=Te.withText(te[ue].text+Te.text):te.push(Te)}function C(Te,te,ue,we){let me=(te||Te).node(ue),Ee=0,he=te?te.index(ue):me.childCount;Te&&(Ee=Te.index(ue),Te.depth>ue?Ee++:Te.textOffset&&(P(Te.nodeAfter,we),Ee++));for(let xe=Ee;xe<he;xe++)P(me.child(xe),we);te&&te.depth==ue&&te.textOffset&&P(te.nodeBefore,we)}function x(Te,te){return Te.type.checkContent(te),Te.copy(te)}function D(Te,te,ue,we,me){let Ee=Te.depth>me&&w(Te,te,me+1),he=we.depth>me&&w(ue,we,me+1),xe=[];return C(null,Te,me,xe),Ee&&he&&te.index(me)==ue.index(me)?(s(Ee,he),P(x(Ee,D(Te,te,ue,we,me+1)),xe)):(Ee&&P(x(Ee,y(Te,te,me+1)),xe),C(te,ue,me,xe),he&&P(x(he,y(ue,we,me+1)),xe)),C(we,null,me,xe),new p(xe)}function y(Te,te,ue){let we=[];if(C(null,Te,ue,we),Te.depth>ue){let me=w(Te,te,ue+1);P(x(me,y(Te,te,ue+1)),we)}return C(te,null,ue,we),new p(we)}function M(Te,te){let ue=te.depth-Te.openStart,me=te.node(ue).copy(Te.content);for(let Ee=ue-1;Ee>=0;Ee--)me=te.node(Ee).copy(p.from(me));return{start:me.resolveNoCache(Te.openStart+ue),end:me.resolveNoCache(me.content.size-Te.openEnd-ue)}}class T{constructor(te,ue,we){this.pos=te,this.path=ue,this.parentOffset=we,this.depth=ue.length/3-1}resolveDepth(te){return te==null?this.depth:te<0?this.depth+te:te}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(te){return this.path[this.resolveDepth(te)*3]}index(te){return this.path[this.resolveDepth(te)*3+1]}indexAfter(te){return te=this.resolveDepth(te),this.index(te)+(te==this.depth&&!this.textOffset?0:1)}start(te){return te=this.resolveDepth(te),te==0?0:this.path[te*3-1]+1}end(te){return te=this.resolveDepth(te),this.start(te)+this.node(te).content.size}before(te){if(te=this.resolveDepth(te),!te)throw new RangeError("There is no position before the top-level node");return te==this.depth+1?this.pos:this.path[te*3-1]}after(te){if(te=this.resolveDepth(te),!te)throw new RangeError("There is no position after the top-level node");return te==this.depth+1?this.pos:this.path[te*3-1]+this.path[te*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let te=this.parent,ue=this.index(this.depth);if(ue==te.childCount)return null;let we=this.pos-this.path[this.path.length-1],me=te.child(ue);return we?te.child(ue).cut(we):me}get nodeBefore(){let te=this.index(this.depth),ue=this.pos-this.path[this.path.length-1];return ue?this.parent.child(te).cut(0,ue):te==0?null:this.parent.child(te-1)}posAtIndex(te,ue){ue=this.resolveDepth(ue);let we=this.path[ue*3],me=ue==0?0:this.path[ue*3-1]+1;for(let Ee=0;Ee<te;Ee++)me+=we.child(Ee).nodeSize;return me}marks(){let te=this.parent,ue=this.index();if(te.content.size==0)return g.none;if(this.textOffset)return te.child(ue).marks;let we=te.maybeChild(ue-1),me=te.maybeChild(ue);if(!we){let xe=we;we=me,me=xe}let Ee=we.marks;for(var he=0;he<Ee.length;he++)Ee[he].type.spec.inclusive===!1&&(!me||!Ee[he].isInSet(me.marks))&&(Ee=Ee[he--].removeFromSet(Ee));return Ee}marksAcross(te){let ue=this.parent.maybeChild(this.index());if(!ue||!ue.isInline)return null;let we=ue.marks,me=te.parent.maybeChild(te.index());for(var Ee=0;Ee<we.length;Ee++)we[Ee].type.spec.inclusive===!1&&(!me||!we[Ee].isInSet(me.marks))&&(we=we[Ee--].removeFromSet(we));return we}sharedDepth(te){for(let ue=this.depth;ue>0;ue--)if(this.start(ue)<=te&&this.end(ue)>=te)return ue;return 0}blockRange(te=this,ue){if(te.pos<this.pos)return te.blockRange(this);for(let we=this.depth-(this.parent.inlineContent||this.pos==te.pos?1:0);we>=0;we--)if(te.pos<=this.end(we)&&(!ue||ue(this.node(we))))return new U(this,te,we);return null}sameParent(te){return this.pos-this.parentOffset==te.pos-te.parentOffset}max(te){return te.pos>this.pos?te:this}min(te){return te.pos<this.pos?te:this}toString(){let te="";for(let ue=1;ue<=this.depth;ue++)te+=(te?"/":"")+this.node(ue).type.name+"_"+this.index(ue-1);return te+":"+this.parentOffset}static resolve(te,ue){if(!(ue>=0&&ue<=te.content.size))throw new RangeError("Position "+ue+" out of range");let we=[],me=0,Ee=ue;for(let he=te;;){let{index:xe,offset:Ve}=he.content.findIndex(Ee),Pe=Ee-Ve;if(we.push(he,xe,me+Ve),!Pe||(he=he.child(xe),he.isText))break;Ee=Pe-1,me+=Ve+1}return new T(ue,we,Ee)}static resolveCached(te,ue){for(let me=0;me<R.length;me++){let Ee=R[me];if(Ee.pos==ue&&Ee.doc==te)return Ee}let we=R[F]=T.resolve(te,ue);return F=(F+1)%N,we}}let R=[],F=0,N=12;class U{constructor(te,ue,we){this.$from=te,this.$to=ue,this.depth=we}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const V=Object.create(null);class W{constructor(te,ue,we,me=g.none){this.type=te,this.attrs=ue,this.marks=me,this.content=we||p.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(te){return this.content.child(te)}maybeChild(te){return this.content.maybeChild(te)}forEach(te){this.content.forEach(te)}nodesBetween(te,ue,we,me=0){this.content.nodesBetween(te,ue,we,me,this)}descendants(te){this.nodesBetween(0,this.content.size,te)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(te,ue,we,me){return this.content.textBetween(te,ue,we,me)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(te){return this==te||this.sameMarkup(te)&&this.content.eq(te.content)}sameMarkup(te){return this.hasMarkup(te.type,te.attrs,te.marks)}hasMarkup(te,ue,we){return this.type==te&&_(this.attrs,ue||te.defaultAttrs||V)&&g.sameSet(this.marks,we||g.none)}copy(te=null){return te==this.content?this:new W(this.type,this.attrs,te,this.marks)}mark(te){return te==this.marks?this:new W(this.type,this.attrs,this.content,te)}cut(te,ue=this.content.size){return te==0&&ue==this.content.size?this:this.copy(this.content.cut(te,ue))}slice(te,ue=this.content.size,we=!1){if(te==ue)return S.empty;let me=this.resolve(te),Ee=this.resolve(ue),he=we?0:me.sharedDepth(ue),xe=me.start(he),Pe=me.node(he).content.cut(me.pos-xe,Ee.pos-xe);return new S(Pe,me.depth-he,Ee.depth-he)}replace(te,ue,we){return u(this.resolve(te),this.resolve(ue),we)}nodeAt(te){for(let ue=this;;){let{index:we,offset:me}=ue.content.findIndex(te);if(ue=ue.maybeChild(we),!ue)return null;if(me==te||ue.isText)return ue;te-=me+1}}childAfter(te){let{index:ue,offset:we}=this.content.findIndex(te);return{node:this.content.maybeChild(ue),index:ue,offset:we}}childBefore(te){if(te==0)return{node:null,index:0,offset:0};let{index:ue,offset:we}=this.content.findIndex(te);if(we<te)return{node:this.content.child(ue),index:ue,offset:we};let me=this.content.child(ue-1);return{node:me,index:ue-1,offset:we-me.nodeSize}}resolve(te){return T.resolveCached(this,te)}resolveNoCache(te){return T.resolve(this,te)}rangeHasMark(te,ue,we){let me=!1;return ue>te&&this.nodesBetween(te,ue,Ee=>(we.isInSet(Ee.marks)&&(me=!0),!me)),me}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let te=this.type.name;return this.content.size&&(te+="("+this.content.toStringInner()+")"),k(this.marks,te)}contentMatchAt(te){let ue=this.type.contentMatch.matchFragment(this.content,0,te);if(!ue)throw new Error("Called contentMatchAt on a node with invalid content");return ue}canReplace(te,ue,we=p.empty,me=0,Ee=we.childCount){let he=this.contentMatchAt(te).matchFragment(we,me,Ee),xe=he&&he.matchFragment(this.content,ue);if(!xe||!xe.validEnd)return!1;for(let Ve=me;Ve<Ee;Ve++)if(!this.type.allowsMarks(we.child(Ve).marks))return!1;return!0}canReplaceWith(te,ue,we,me){if(me&&!this.type.allowsMarks(me))return!1;let Ee=this.contentMatchAt(te).matchType(we),he=Ee&&Ee.matchFragment(this.content,ue);return he?he.validEnd:!1}canAppend(te){return te.content.size?this.canReplace(this.childCount,this.childCount,te.content):this.type.compatibleContent(te.type)}check(){this.type.checkContent(this.content);let te=g.none;for(let ue=0;ue<this.marks.length;ue++)te=this.marks[ue].addToSet(te);if(!g.sameSet(te,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(ue=>ue.type.name)}`);this.content.forEach(ue=>ue.check())}toJSON(){let te={type:this.type.name};for(let ue in this.attrs){te.attrs=this.attrs;break}return this.content.size&&(te.content=this.content.toJSON()),this.marks.length&&(te.marks=this.marks.map(ue=>ue.toJSON())),te}static fromJSON(te,ue){if(!ue)throw new RangeError("Invalid input for Node.fromJSON");let we=null;if(ue.marks){if(!Array.isArray(ue.marks))throw new RangeError("Invalid mark data for Node.fromJSON");we=ue.marks.map(te.markFromJSON)}if(ue.type=="text"){if(typeof ue.text!="string")throw new RangeError("Invalid text node in JSON");return te.text(ue.text,we)}let me=p.fromJSON(te,ue.content);return te.nodeType(ue.type).create(ue.attrs,me,we)}}W.prototype.text=void 0;class L extends W{constructor(te,ue,we,me){if(super(te,ue,null,me),!we)throw new RangeError("Empty text nodes are not allowed");this.text=we}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):k(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(te,ue){return this.text.slice(te,ue)}get nodeSize(){return this.text.length}mark(te){return te==this.marks?this:new L(this.type,this.attrs,this.text,te)}withText(te){return te==this.text?this:new L(this.type,this.attrs,te,this.marks)}cut(te=0,ue=this.text.length){return te==0&&ue==this.text.length?this:this.withText(this.text.slice(te,ue))}eq(te){return this.sameMarkup(te)&&this.text==te.text}toJSON(){let te=super.toJSON();return te.text=this.text,te}}function k(Te,te){for(let ue=Te.length-1;ue>=0;ue--)te=Te[ue].type.name+"("+te+")";return te}class H{constructor(te){this.validEnd=te,this.next=[],this.wrapCache=[]}static parse(te,ue){let we=new G(te,ue);if(we.next==null)return H.empty;let me=q(we);we.next&&we.err("Unexpected trailing text");let Ee=re(ne(me));return ae(Ee,we),Ee}matchType(te){for(let ue=0;ue<this.next.length;ue++)if(this.next[ue].type==te)return this.next[ue].next;return null}matchFragment(te,ue=0,we=te.childCount){let me=this;for(let Ee=ue;me&&Ee<we;Ee++)me=me.matchType(te.child(Ee).type);return me}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let te=0;te<this.next.length;te++){let{type:ue}=this.next[te];if(!(ue.isText||ue.hasRequiredAttrs()))return ue}return null}compatible(te){for(let ue=0;ue<this.next.length;ue++)for(let we=0;we<te.next.length;we++)if(this.next[ue].type==te.next[we].type)return!0;return!1}fillBefore(te,ue=!1,we=0){let me=[this];function Ee(he,xe){let Ve=he.matchFragment(te,we);if(Ve&&(!ue||Ve.validEnd))return p.from(xe.map(Pe=>Pe.createAndFill()));for(let Pe=0;Pe<he.next.length;Pe++){let{type:Ie,next:ze}=he.next[Pe];if(!(Ie.isText||Ie.hasRequiredAttrs())&&me.indexOf(ze)==-1){me.push(ze);let tt=Ee(ze,xe.concat(Ie));if(tt)return tt}}return null}return Ee(this,[])}findWrapping(te){for(let we=0;we<this.wrapCache.length;we+=2)if(this.wrapCache[we]==te)return this.wrapCache[we+1];let ue=this.computeWrapping(te);return this.wrapCache.push(te,ue),ue}computeWrapping(te){let ue=Object.create(null),we=[{match:this,type:null,via:null}];for(;we.length;){let me=we.shift(),Ee=me.match;if(Ee.matchType(te)){let he=[];for(let xe=me;xe.type;xe=xe.via)he.push(xe.type);return he.reverse()}for(let he=0;he<Ee.next.length;he++){let{type:xe,next:Ve}=Ee.next[he];!xe.isLeaf&&!xe.hasRequiredAttrs()&&!(xe.name in ue)&&(!me.type||Ve.validEnd)&&(we.push({match:xe.contentMatch,type:xe,via:me}),ue[xe.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(te){if(te>=this.next.length)throw new RangeError(`There's no ${te}th edge in this content match`);return this.next[te]}toString(){let te=[];function ue(we){te.push(we);for(let me=0;me<we.next.length;me++)te.indexOf(we.next[me].next)==-1&&ue(we.next[me].next)}return ue(this),te.map((we,me)=>{let Ee=me+(we.validEnd?"*":" ")+" ";for(let he=0;he<we.next.length;he++)Ee+=(he?", ":"")+we.next[he].type.name+"->"+te.indexOf(we.next[he].next);return Ee}).join(`
`)}}H.empty=new H(!0);class G{constructor(te,ue){this.string=te,this.nodeTypes=ue,this.inline=null,this.pos=0,this.tokens=te.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(te){return this.next==te&&(this.pos++||!0)}err(te){throw new SyntaxError(te+" (in content expression '"+this.string+"')")}}function q(Te){let te=[];do te.push(z(Te));while(Te.eat("|"));return te.length==1?te[0]:{type:"choice",exprs:te}}function z(Te){let te=[];do te.push(ee(Te));while(Te.next&&Te.next!=")"&&Te.next!="|");return te.length==1?te[0]:{type:"seq",exprs:te}}function ee(Te){let te=Z(Te);for(;;)if(Te.eat("+"))te={type:"plus",expr:te};else if(Te.eat("*"))te={type:"star",expr:te};else if(Te.eat("?"))te={type:"opt",expr:te};else if(Te.eat("{"))te=J(Te,te);else break;return te}function $(Te){/\D/.test(Te.next)&&Te.err("Expected number, got '"+Te.next+"'");let te=Number(Te.next);return Te.pos++,te}function J(Te,te){let ue=$(Te),we=ue;return Te.eat(",")&&(Te.next!="}"?we=$(Te):we=-1),Te.eat("}")||Te.err("Unclosed braced range"),{type:"range",min:ue,max:we,expr:te}}function j(Te,te){let ue=Te.nodeTypes,we=ue[te];if(we)return[we];let me=[];for(let Ee in ue){let he=ue[Ee];he.groups.indexOf(te)>-1&&me.push(he)}return me.length==0&&Te.err("No node type or group '"+te+"' found"),me}function Z(Te){if(Te.eat("(")){let te=q(Te);return Te.eat(")")||Te.err("Missing closing paren"),te}else if(/\W/.test(Te.next))Te.err("Unexpected token '"+Te.next+"'");else{let te=j(Te,Te.next).map(ue=>(Te.inline==null?Te.inline=ue.isInline:Te.inline!=ue.isInline&&Te.err("Mixing inline and block content"),{type:"name",value:ue}));return Te.pos++,te.length==1?te[0]:{type:"choice",exprs:te}}}function ne(Te){let te=[[]];return me(Ee(Te,0),ue()),te;function ue(){return te.push([])-1}function we(he,xe,Ve){let Pe={term:Ve,to:xe};return te[he].push(Pe),Pe}function me(he,xe){he.forEach(Ve=>Ve.to=xe)}function Ee(he,xe){if(he.type=="choice")return he.exprs.reduce((Ve,Pe)=>Ve.concat(Ee(Pe,xe)),[]);if(he.type=="seq")for(let Ve=0;;Ve++){let Pe=Ee(he.exprs[Ve],xe);if(Ve==he.exprs.length-1)return Pe;me(Pe,xe=ue())}else if(he.type=="star"){let Ve=ue();return we(xe,Ve),me(Ee(he.expr,Ve),Ve),[we(Ve)]}else if(he.type=="plus"){let Ve=ue();return me(Ee(he.expr,xe),Ve),me(Ee(he.expr,Ve),Ve),[we(Ve)]}else{if(he.type=="opt")return[we(xe)].concat(Ee(he.expr,xe));if(he.type=="range"){let Ve=xe;for(let Pe=0;Pe<he.min;Pe++){let Ie=ue();me(Ee(he.expr,Ve),Ie),Ve=Ie}if(he.max==-1)me(Ee(he.expr,Ve),Ve);else for(let Pe=he.min;Pe<he.max;Pe++){let Ie=ue();we(Ve,Ie),me(Ee(he.expr,Ve),Ie),Ve=Ie}return[we(Ve)]}else{if(he.type=="name")return[we(xe,void 0,he.value)];throw new Error("Unknown expr type")}}}}function ie(Te,te){return te-Te}function oe(Te,te){let ue=[];return we(te),ue.sort(ie);function we(me){let Ee=Te[me];if(Ee.length==1&&!Ee[0].term)return we(Ee[0].to);ue.push(me);for(let he=0;he<Ee.length;he++){let{term:xe,to:Ve}=Ee[he];!xe&&ue.indexOf(Ve)==-1&&we(Ve)}}}function re(Te){let te=Object.create(null);return ue(oe(Te,0));function ue(we){let me=[];we.forEach(he=>{Te[he].forEach(({term:xe,to:Ve})=>{if(!xe)return;let Pe;for(let Ie=0;Ie<me.length;Ie++)me[Ie][0]==xe&&(Pe=me[Ie][1]);oe(Te,Ve).forEach(Ie=>{Pe||me.push([xe,Pe=[]]),Pe.indexOf(Ie)==-1&&Pe.push(Ie)})})});let Ee=te[we.join(",")]=new H(we.indexOf(Te.length-1)>-1);for(let he=0;he<me.length;he++){let xe=me[he][1].sort(ie);Ee.next.push({type:me[he][0],next:te[xe.join(",")]||ue(xe)})}return Ee}}function ae(Te,te){for(let ue=0,we=[Te];ue<we.length;ue++){let me=we[ue],Ee=!me.validEnd,he=[];for(let xe=0;xe<me.next.length;xe++){let{type:Ve,next:Pe}=me.next[xe];he.push(Ve.name),Ee&&!(Ve.isText||Ve.hasRequiredAttrs())&&(Ee=!1),we.indexOf(Pe)==-1&&we.push(Pe)}Ee&&te.err("Only non-generatable nodes ("+he.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function se(Te){let te=Object.create(null);for(let ue in Te){let we=Te[ue];if(!we.hasDefault)return null;te[ue]=we.default}return te}function fe(Te,te){let ue=Object.create(null);for(let we in Te){let me=te&&te[we];if(me===void 0){let Ee=Te[we];if(Ee.hasDefault)me=Ee.default;else throw new RangeError("No value supplied for attribute "+we)}ue[we]=me}return ue}function le(Te){let te=Object.create(null);if(Te)for(let ue in Te)te[ue]=new De(Te[ue]);return te}class Ae{constructor(te,ue,we){this.name=te,this.schema=ue,this.spec=we,this.markSet=null,this.groups=we.group?we.group.split(" "):[],this.attrs=le(we.attrs),this.defaultAttrs=se(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(we.inline||te=="text"),this.isText=te=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==H.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let te in this.attrs)if(this.attrs[te].isRequired)return!0;return!1}compatibleContent(te){return this==te||this.contentMatch.compatible(te.contentMatch)}computeAttrs(te){return!te&&this.defaultAttrs?this.defaultAttrs:fe(this.attrs,te)}create(te=null,ue,we){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new W(this,this.computeAttrs(te),p.from(ue),g.setFrom(we))}createChecked(te=null,ue,we){return ue=p.from(ue),this.checkContent(ue),new W(this,this.computeAttrs(te),ue,g.setFrom(we))}createAndFill(te=null,ue,we){if(te=this.computeAttrs(te),ue=p.from(ue),ue.size){let he=this.contentMatch.fillBefore(ue);if(!he)return null;ue=he.append(ue)}let me=this.contentMatch.matchFragment(ue),Ee=me&&me.fillBefore(p.empty,!0);return Ee?new W(this,te,ue.append(Ee),g.setFrom(we)):null}validContent(te){let ue=this.contentMatch.matchFragment(te);if(!ue||!ue.validEnd)return!1;for(let we=0;we<te.childCount;we++)if(!this.allowsMarks(te.child(we).marks))return!1;return!0}checkContent(te){if(!this.validContent(te))throw new RangeError(`Invalid content for node ${this.name}: ${te.toString().slice(0,50)}`)}allowsMarkType(te){return this.markSet==null||this.markSet.indexOf(te)>-1}allowsMarks(te){if(this.markSet==null)return!0;for(let ue=0;ue<te.length;ue++)if(!this.allowsMarkType(te[ue].type))return!1;return!0}allowedMarks(te){if(this.markSet==null)return te;let ue;for(let we=0;we<te.length;we++)this.allowsMarkType(te[we].type)?ue&&ue.push(te[we]):ue||(ue=te.slice(0,we));return ue?ue.length?ue:g.none:te}static compile(te,ue){let we=Object.create(null);te.forEach((Ee,he)=>we[Ee]=new Ae(Ee,ue,he));let me=ue.spec.topNode||"doc";if(!we[me])throw new RangeError("Schema is missing its top node type ('"+me+"')");if(!we.text)throw new RangeError("Every schema needs a 'text' type");for(let Ee in we.text.attrs)throw new RangeError("The text node type should not have attributes");return we}}class De{constructor(te){this.hasDefault=Object.prototype.hasOwnProperty.call(te,"default"),this.default=te.default}get isRequired(){return!this.hasDefault}}class je{constructor(te,ue,we,me){this.name=te,this.rank=ue,this.schema=we,this.spec=me,this.attrs=le(me.attrs),this.excluded=null;let Ee=se(this.attrs);this.instance=Ee?new g(this,Ee):null}create(te=null){return!te&&this.instance?this.instance:new g(this,fe(this.attrs,te))}static compile(te,ue){let we=Object.create(null),me=0;return te.forEach((Ee,he)=>we[Ee]=new je(Ee,me++,ue,he)),we}removeFromSet(te){for(var ue=0;ue<te.length;ue++)te[ue].type==this&&(te=te.slice(0,ue).concat(te.slice(ue+1)),ue--);return te}isInSet(te){for(let ue=0;ue<te.length;ue++)if(te[ue].type==this)return te[ue]}excludes(te){return this.excluded.indexOf(te)>-1}}class Je{constructor(te){this.cached=Object.create(null);let ue=this.spec={};for(let me in te)ue[me]=te[me];ue.nodes=a.from(te.nodes),ue.marks=a.from(te.marks||{}),this.nodes=Ae.compile(this.spec.nodes,this),this.marks=je.compile(this.spec.marks,this);let we=Object.create(null);for(let me in this.nodes){if(me in this.marks)throw new RangeError(me+" can not be both a node and a mark");let Ee=this.nodes[me],he=Ee.spec.content||"",xe=Ee.spec.marks;Ee.contentMatch=we[he]||(we[he]=H.parse(he,this.nodes)),Ee.inlineContent=Ee.contentMatch.inlineContent,Ee.markSet=xe=="_"?null:xe?Be(this,xe.split(" ")):xe==""||!Ee.inlineContent?[]:null}for(let me in this.marks){let Ee=this.marks[me],he=Ee.spec.excludes;Ee.excluded=he==null?[Ee]:he==""?[]:Be(this,he.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(te,ue=null,we,me){if(typeof te=="string")te=this.nodeType(te);else if(te instanceof Ae){if(te.schema!=this)throw new RangeError("Node type from different schema used ("+te.name+")")}else throw new RangeError("Invalid node type: "+te);return te.createChecked(ue,we,me)}text(te,ue){let we=this.nodes.text;return new L(we,we.defaultAttrs,te,g.setFrom(ue))}mark(te,ue){return typeof te=="string"&&(te=this.marks[te]),te.create(ue)}nodeFromJSON(te){return W.fromJSON(this,te)}markFromJSON(te){return g.fromJSON(this,te)}nodeType(te){let ue=this.nodes[te];if(!ue)throw new RangeError("Unknown node type: "+te);return ue}}function Be(Te,te){let ue=[];for(let we=0;we<te.length;we++){let me=te[we],Ee=Te.marks[me],he=Ee;if(Ee)ue.push(Ee);else for(let xe in Te.marks){let Ve=Te.marks[xe];(me=="_"||Ve.spec.group&&Ve.spec.group.split(" ").indexOf(me)>-1)&&ue.push(he=Ve)}if(!he)throw new SyntaxError("Unknown mark type: '"+te[we]+"'")}return ue}class st{constructor(te,ue){this.schema=te,this.rules=ue,this.tags=[],this.styles=[],ue.forEach(we=>{we.tag?this.tags.push(we):we.style&&this.styles.push(we)}),this.normalizeLists=!this.tags.some(we=>{if(!/^(ul|ol)\b/.test(we.tag)||!we.node)return!1;let me=te.nodes[we.node];return me.contentMatch.matchType(me)})}parse(te,ue={}){let we=new ln(this,ue,!1);return we.addAll(te,ue.from,ue.to),we.finish()}parseSlice(te,ue={}){let we=new ln(this,ue,!0);return we.addAll(te,ue.from,ue.to),S.maxOpen(we.finish())}matchTag(te,ue,we){for(let me=we?this.tags.indexOf(we)+1:0;me<this.tags.length;me++){let Ee=this.tags[me];if(Oe(te,Ee.tag)&&(Ee.namespace===void 0||te.namespaceURI==Ee.namespace)&&(!Ee.context||ue.matchesContext(Ee.context))){if(Ee.getAttrs){let he=Ee.getAttrs(te);if(he===!1)continue;Ee.attrs=he||void 0}return Ee}}}matchStyle(te,ue,we,me){for(let Ee=me?this.styles.indexOf(me)+1:0;Ee<this.styles.length;Ee++){let he=this.styles[Ee],xe=he.style;if(!(xe.indexOf(te)!=0||he.context&&!we.matchesContext(he.context)||xe.length>te.length&&(xe.charCodeAt(te.length)!=61||xe.slice(te.length+1)!=ue))){if(he.getAttrs){let Ve=he.getAttrs(ue);if(Ve===!1)continue;he.attrs=Ve||void 0}return he}}}static schemaRules(te){let ue=[];function we(me){let Ee=me.priority==null?50:me.priority,he=0;for(;he<ue.length;he++){let xe=ue[he];if((xe.priority==null?50:xe.priority)<Ee)break}ue.splice(he,0,me)}for(let me in te.marks){let Ee=te.marks[me].spec.parseDOM;Ee&&Ee.forEach(he=>{we(he=Ze(he)),he.mark||he.ignore||he.clearMark||(he.mark=me)})}for(let me in te.nodes){let Ee=te.nodes[me].spec.parseDOM;Ee&&Ee.forEach(he=>{we(he=Ze(he)),he.node||he.ignore||he.mark||(he.node=me)})}return ue}static fromSchema(te){return te.cached.domParser||(te.cached.domParser=new st(te,st.schemaRules(te)))}}const ht={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Xe={ol:!0,ul:!0},Re=1,Ne=2,ke=4;function ot(Te,te,ue){return te!=null?(te?Re:0)|(te==="full"?Ne:0):Te&&Te.whitespace=="pre"?Re|Ne:ue&~ke}class Dt{constructor(te,ue,we,me,Ee,he,xe){this.type=te,this.attrs=ue,this.marks=we,this.pendingMarks=me,this.solid=Ee,this.options=xe,this.content=[],this.activeMarks=g.none,this.stashMarks=[],this.match=he||(xe&ke?null:te.contentMatch)}findWrapping(te){if(!this.match){if(!this.type)return[];let ue=this.type.contentMatch.fillBefore(p.from(te));if(ue)this.match=this.type.contentMatch.matchFragment(ue);else{let we=this.type.contentMatch,me;return(me=we.findWrapping(te.type))?(this.match=we,me):null}}return this.match.findWrapping(te.type)}finish(te){if(!(this.options&Re)){let we=this.content[this.content.length-1],me;if(we&&we.isText&&(me=/[ \t\r\n\u000c]+$/.exec(we.text))){let Ee=we;we.text.length==me[0].length?this.content.pop():this.content[this.content.length-1]=Ee.withText(Ee.text.slice(0,Ee.text.length-me[0].length))}}let ue=p.from(this.content);return!te&&this.match&&(ue=ue.append(this.match.fillBefore(p.empty,!0))),this.type?this.type.create(this.attrs,ue,this.marks):ue}popFromStashMark(te){for(let ue=this.stashMarks.length-1;ue>=0;ue--)if(te.eq(this.stashMarks[ue]))return this.stashMarks.splice(ue,1)[0]}applyPending(te){for(let ue=0,we=this.pendingMarks;ue<we.length;ue++){let me=we[ue];(this.type?this.type.allowsMarkType(me.type):Fe(me.type,te))&&!me.isInSet(this.activeMarks)&&(this.activeMarks=me.addToSet(this.activeMarks),this.pendingMarks=me.removeFromSet(this.pendingMarks))}}inlineContext(te){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:te.parentNode&&!ht.hasOwnProperty(te.parentNode.nodeName.toLowerCase())}}class ln{constructor(te,ue,we){this.parser=te,this.options=ue,this.isOpen=we,this.open=0;let me=ue.topNode,Ee,he=ot(null,ue.preserveWhitespace,0)|(we?ke:0);me?Ee=new Dt(me.type,me.attrs,g.none,g.none,!0,ue.topMatch||me.type.contentMatch,he):we?Ee=new Dt(null,null,g.none,g.none,!0,null,he):Ee=new Dt(te.schema.topNodeType,null,g.none,g.none,!0,null,he),this.nodes=[Ee],this.find=ue.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(te){if(te.nodeType==3)this.addTextNode(te);else if(te.nodeType==1){let ue=te.getAttribute("style");if(!ue)this.addElement(te);else{let we=this.readStyles(Se(ue));if(!we)return;let[me,Ee]=we,he=this.top;for(let xe=0;xe<Ee.length;xe++)this.removePendingMark(Ee[xe],he);for(let xe=0;xe<me.length;xe++)this.addPendingMark(me[xe]);this.addElement(te);for(let xe=0;xe<me.length;xe++)this.removePendingMark(me[xe],he);for(let xe=0;xe<Ee.length;xe++)this.addPendingMark(Ee[xe])}}}addTextNode(te){let ue=te.nodeValue,we=this.top;if(we.options&Ne||we.inlineContext(te)||/[^ \t\r\n\u000c]/.test(ue)){if(we.options&Re)we.options&Ne?ue=ue.replace(/\r\n?/g,`
`):ue=ue.replace(/\r?\n|\r/g," ");else if(ue=ue.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(ue)&&this.open==this.nodes.length-1){let me=we.content[we.content.length-1],Ee=te.previousSibling;(!me||Ee&&Ee.nodeName=="BR"||me.isText&&/[ \t\r\n\u000c]$/.test(me.text))&&(ue=ue.slice(1))}ue&&this.insertNode(this.parser.schema.text(ue)),this.findInText(te)}else this.findInside(te)}addElement(te,ue){let we=te.nodeName.toLowerCase(),me;Xe.hasOwnProperty(we)&&this.parser.normalizeLists&&ct(te);let Ee=this.options.ruleFromNode&&this.options.ruleFromNode(te)||(me=this.parser.matchTag(te,this,ue));if(Ee?Ee.ignore:gt.hasOwnProperty(we))this.findInside(te),this.ignoreFallback(te);else if(!Ee||Ee.skip||Ee.closeParent){Ee&&Ee.closeParent?this.open=Math.max(0,this.open-1):Ee&&Ee.skip.nodeType&&(te=Ee.skip);let he,xe=this.top,Ve=this.needsBlock;if(ht.hasOwnProperty(we))xe.content.length&&xe.content[0].isInline&&this.open&&(this.open--,xe=this.top),he=!0,xe.type||(this.needsBlock=!0);else if(!te.firstChild){this.leafFallback(te);return}this.addAll(te),he&&this.sync(xe),this.needsBlock=Ve}else this.addElementByRule(te,Ee,Ee.consuming===!1?me:void 0)}leafFallback(te){te.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(te.ownerDocument.createTextNode(`
`))}ignoreFallback(te){te.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(te){let ue=g.none,we=g.none;e:for(let me=0;me<te.length;me+=2)for(let Ee=void 0;;){let he=this.parser.matchStyle(te[me],te[me+1],this,Ee);if(!he)continue e;if(he.ignore)return null;if(he.clearMark?this.top.pendingMarks.forEach(xe=>{he.clearMark(xe)&&(we=xe.addToSet(we))}):ue=this.parser.schema.marks[he.mark].create(he.attrs).addToSet(ue),he.consuming===!1)Ee=he;else break}return[ue,we]}addElementByRule(te,ue,we){let me,Ee,he;ue.node?(Ee=this.parser.schema.nodes[ue.node],Ee.isLeaf?this.insertNode(Ee.create(ue.attrs))||this.leafFallback(te):me=this.enter(Ee,ue.attrs||null,ue.preserveWhitespace)):(he=this.parser.schema.marks[ue.mark].create(ue.attrs),this.addPendingMark(he));let xe=this.top;if(Ee&&Ee.isLeaf)this.findInside(te);else if(we)this.addElement(te,we);else if(ue.getContent)this.findInside(te),ue.getContent(te,this.parser.schema).forEach(Ve=>this.insertNode(Ve));else{let Ve=te;typeof ue.contentElement=="string"?Ve=te.querySelector(ue.contentElement):typeof ue.contentElement=="function"?Ve=ue.contentElement(te):ue.contentElement&&(Ve=ue.contentElement),this.findAround(te,Ve,!0),this.addAll(Ve)}me&&this.sync(xe)&&this.open--,he&&this.removePendingMark(he,xe)}addAll(te,ue,we){let me=ue||0;for(let Ee=ue?te.childNodes[ue]:te.firstChild,he=we==null?null:te.childNodes[we];Ee!=he;Ee=Ee.nextSibling,++me)this.findAtPoint(te,me),this.addDOM(Ee);this.findAtPoint(te,me)}findPlace(te){let ue,we;for(let me=this.open;me>=0;me--){let Ee=this.nodes[me],he=Ee.findWrapping(te);if(he&&(!ue||ue.length>he.length)&&(ue=he,we=Ee,!he.length)||Ee.solid)break}if(!ue)return!1;this.sync(we);for(let me=0;me<ue.length;me++)this.enterInner(ue[me],null,!1);return!0}insertNode(te){if(te.isInline&&this.needsBlock&&!this.top.type){let ue=this.textblockFromContext();ue&&this.enterInner(ue)}if(this.findPlace(te)){this.closeExtra();let ue=this.top;ue.applyPending(te.type),ue.match&&(ue.match=ue.match.matchType(te.type));let we=ue.activeMarks;for(let me=0;me<te.marks.length;me++)(!ue.type||ue.type.allowsMarkType(te.marks[me].type))&&(we=te.marks[me].addToSet(we));return ue.content.push(te.mark(we)),!0}return!1}enter(te,ue,we){let me=this.findPlace(te.create(ue));return me&&this.enterInner(te,ue,!0,we),me}enterInner(te,ue=null,we=!1,me){this.closeExtra();let Ee=this.top;Ee.applyPending(te),Ee.match=Ee.match&&Ee.match.matchType(te);let he=ot(te,me,Ee.options);Ee.options&ke&&Ee.content.length==0&&(he|=ke),this.nodes.push(new Dt(te,ue,Ee.activeMarks,Ee.pendingMarks,we,null,he)),this.open++}closeExtra(te=!1){let ue=this.nodes.length-1;if(ue>this.open){for(;ue>this.open;ue--)this.nodes[ue-1].content.push(this.nodes[ue].finish(te));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(te){for(let ue=this.open;ue>=0;ue--)if(this.nodes[ue]==te)return this.open=ue,!0;return!1}get currentPos(){this.closeExtra();let te=0;for(let ue=this.open;ue>=0;ue--){let we=this.nodes[ue].content;for(let me=we.length-1;me>=0;me--)te+=we[me].nodeSize;ue&&te++}return te}findAtPoint(te,ue){if(this.find)for(let we=0;we<this.find.length;we++)this.find[we].node==te&&this.find[we].offset==ue&&(this.find[we].pos=this.currentPos)}findInside(te){if(this.find)for(let ue=0;ue<this.find.length;ue++)this.find[ue].pos==null&&te.nodeType==1&&te.contains(this.find[ue].node)&&(this.find[ue].pos=this.currentPos)}findAround(te,ue,we){if(te!=ue&&this.find)for(let me=0;me<this.find.length;me++)this.find[me].pos==null&&te.nodeType==1&&te.contains(this.find[me].node)&&ue.compareDocumentPosition(this.find[me].node)&(we?2:4)&&(this.find[me].pos=this.currentPos)}findInText(te){if(this.find)for(let ue=0;ue<this.find.length;ue++)this.find[ue].node==te&&(this.find[ue].pos=this.currentPos-(te.nodeValue.length-this.find[ue].offset))}matchesContext(te){if(te.indexOf("|")>-1)return te.split(/\s*\|\s*/).some(this.matchesContext,this);let ue=te.split("/"),we=this.options.context,me=!this.isOpen&&(!we||we.parent.type==this.nodes[0].type),Ee=-(we?we.depth+1:0)+(me?0:1),he=(xe,Ve)=>{for(;xe>=0;xe--){let Pe=ue[xe];if(Pe==""){if(xe==ue.length-1||xe==0)continue;for(;Ve>=Ee;Ve--)if(he(xe-1,Ve))return!0;return!1}else{let Ie=Ve>0||Ve==0&&me?this.nodes[Ve].type:we&&Ve>=Ee?we.node(Ve-Ee).type:null;if(!Ie||Ie.name!=Pe&&Ie.groups.indexOf(Pe)==-1)return!1;Ve--}}return!0};return he(ue.length-1,this.open)}textblockFromContext(){let te=this.options.context;if(te)for(let ue=te.depth;ue>=0;ue--){let we=te.node(ue).contentMatchAt(te.indexAfter(ue)).defaultType;if(we&&we.isTextblock&&we.defaultAttrs)return we}for(let ue in this.parser.schema.nodes){let we=this.parser.schema.nodes[ue];if(we.isTextblock&&we.defaultAttrs)return we}}addPendingMark(te){let ue=Ke(te,this.top.pendingMarks);ue&&this.top.stashMarks.push(ue),this.top.pendingMarks=te.addToSet(this.top.pendingMarks)}removePendingMark(te,ue){for(let we=this.open;we>=0;we--){let me=this.nodes[we];if(me.pendingMarks.lastIndexOf(te)>-1)me.pendingMarks=te.removeFromSet(me.pendingMarks);else{me.activeMarks=te.removeFromSet(me.activeMarks);let he=me.popFromStashMark(te);he&&me.type&&me.type.allowsMarkType(he.type)&&(me.activeMarks=he.addToSet(me.activeMarks))}if(me==ue)break}}}function ct(Te){for(let te=Te.firstChild,ue=null;te;te=te.nextSibling){let we=te.nodeType==1?te.nodeName.toLowerCase():null;we&&Xe.hasOwnProperty(we)&&ue?(ue.appendChild(te),te=ue):we=="li"?ue=te:we&&(ue=null)}}function Oe(Te,te){return(Te.matches||Te.msMatchesSelector||Te.webkitMatchesSelector||Te.mozMatchesSelector).call(Te,te)}function Se(Te){let te=/\s*([\w-]+)\s*:\s*([^;]+)/g,ue,we=[];for(;ue=te.exec(Te);)we.push(ue[1],ue[2].trim());return we}function Ze(Te){let te={};for(let ue in Te)te[ue]=Te[ue];return te}function Fe(Te,te){let ue=te.schema.nodes;for(let we in ue){let me=ue[we];if(!me.allowsMarkType(Te))continue;let Ee=[],he=xe=>{Ee.push(xe);for(let Ve=0;Ve<xe.edgeCount;Ve++){let{type:Pe,next:Ie}=xe.edge(Ve);if(Pe==te||Ee.indexOf(Ie)<0&&he(Ie))return!0}};if(he(me.contentMatch))return!0}}function Ke(Te,te){for(let ue=0;ue<te.length;ue++)if(Te.eq(te[ue]))return te[ue]}class et{constructor(te,ue){this.nodes=te,this.marks=ue}serializeFragment(te,ue={},we){we||(we=$e(ue).createDocumentFragment());let me=we,Ee=[];return te.forEach(he=>{if(Ee.length||he.marks.length){let xe=0,Ve=0;for(;xe<Ee.length&&Ve<he.marks.length;){let Pe=he.marks[Ve];if(!this.marks[Pe.type.name]){Ve++;continue}if(!Pe.eq(Ee[xe][0])||Pe.type.spec.spanning===!1)break;xe++,Ve++}for(;xe<Ee.length;)me=Ee.pop()[1];for(;Ve<he.marks.length;){let Pe=he.marks[Ve++],Ie=this.serializeMark(Pe,he.isInline,ue);Ie&&(Ee.push([Pe,me]),me.appendChild(Ie.dom),me=Ie.contentDOM||Ie.dom)}}me.appendChild(this.serializeNodeInner(he,ue))}),we}serializeNodeInner(te,ue){let{dom:we,contentDOM:me}=et.renderSpec($e(ue),this.nodes[te.type.name](te));if(me){if(te.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(te.content,ue,me)}return we}serializeNode(te,ue={}){let we=this.serializeNodeInner(te,ue);for(let me=te.marks.length-1;me>=0;me--){let Ee=this.serializeMark(te.marks[me],te.isInline,ue);Ee&&((Ee.contentDOM||Ee.dom).appendChild(we),we=Ee.dom)}return we}serializeMark(te,ue,we={}){let me=this.marks[te.type.name];return me&&et.renderSpec($e(we),me(te,ue))}static renderSpec(te,ue,we=null){if(typeof ue=="string")return{dom:te.createTextNode(ue)};if(ue.nodeType!=null)return{dom:ue};if(ue.dom&&ue.dom.nodeType!=null)return ue;let me=ue[0],Ee=me.indexOf(" ");Ee>0&&(we=me.slice(0,Ee),me=me.slice(Ee+1));let he,xe=we?te.createElementNS(we,me):te.createElement(me),Ve=ue[1],Pe=1;if(Ve&&typeof Ve=="object"&&Ve.nodeType==null&&!Array.isArray(Ve)){Pe=2;for(let Ie in Ve)if(Ve[Ie]!=null){let ze=Ie.indexOf(" ");ze>0?xe.setAttributeNS(Ie.slice(0,ze),Ie.slice(ze+1),Ve[Ie]):xe.setAttribute(Ie,Ve[Ie])}}for(let Ie=Pe;Ie<ue.length;Ie++){let ze=ue[Ie];if(ze===0){if(Ie<ue.length-1||Ie>Pe)throw new RangeError("Content hole must be the only child of its parent node");return{dom:xe,contentDOM:xe}}else{let{dom:tt,contentDOM:Le}=et.renderSpec(te,ze,we);if(xe.appendChild(tt),Le){if(he)throw new RangeError("Multiple content holes");he=Le}}}return{dom:xe,contentDOM:he}}static fromSchema(te){return te.cached.domSerializer||(te.cached.domSerializer=new et(this.nodesFromSchema(te),this.marksFromSchema(te)))}static nodesFromSchema(te){let ue=Qe(te.nodes);return ue.text||(ue.text=we=>we.text),ue}static marksFromSchema(te){return Qe(te.marks)}}function Qe(Te){let te={};for(let ue in Te){let we=Te[ue].spec.toDOM;we&&(te[ue]=we)}return te}function $e(Te){return Te.document||window.document}},53833:(K,f,e)=>{"use strict";e.d(f,{IB:()=>o,KI:()=>O,bw:()=>P,s6:()=>u});var t=e(16560),a=e(87823),i=e(2376);const c=["ol",0],p=["ul",0],l=["li",0],v={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(C){return{order:C.hasAttribute("start")?+C.getAttribute("start"):1}}}],toDOM(C){return C.attrs.order==1?c:["ol",{start:C.attrs.order},0]}},_={parseDOM:[{tag:"ul"}],toDOM(){return p}},g={parseDOM:[{tag:"li"}],toDOM(){return l},defining:!0};function E(C,x){let D={};for(let y in C)D[y]=C[y];for(let y in x)D[y]=x[y];return D}function S(C,x,D){return C.append({ordered_list:E(v,{content:"list_item+",group:D}),bullet_list:E(_,{content:"list_item+",group:D}),list_item:E(g,{content:x})})}function O(C,x=null){return function(D,y){let{$from:M,$to:T}=D.selection,R=M.blockRange(T),F=!1,N=R;if(!R)return!1;if(R.depth>=2&&M.node(R.depth-1).type.compatibleContent(C)&&R.startIndex==0){if(M.index(R.depth-1)==0)return!1;let V=D.doc.resolve(R.start-2);N=new a.Ts(V,V,R.depth),R.endIndex<R.parent.childCount&&(R=new a.Ts(M,D.doc.resolve(T.end(R.depth)),R.depth)),F=!0}let U=(0,t.nd)(N,C,x,R);return U?(y&&y(A(D.tr,R,U,F,C).scrollIntoView()),!0):!1}}function A(C,x,D,y,M){let T=a.HY.empty;for(let V=D.length-1;V>=0;V--)T=a.HY.from(D[V].type.create(D[V].attrs,T));C.step(new t.FC(x.start-(y?2:0),x.end,x.start,x.end,new a.p2(T,0,0),D.length,!0));let R=0;for(let V=0;V<D.length;V++)D[V].type==M&&(R=V+1);let F=D.length-R,N=x.start+D.length-(y?2:0),U=x.parent;for(let V=x.startIndex,W=x.endIndex,L=!0;V<W;V++,L=!1)!L&&(0,t.Ax)(C.doc,N,F)&&(C.split(N,F),N+=2*F),N+=U.child(V).nodeSize;return C}function u(C){return function(x,D){let{$from:y,$to:M,node:T}=x.selection;if(T&&T.isBlock||y.depth<2||!y.sameParent(M))return!1;let R=y.node(-1);if(R.type!=C)return!1;if(y.parent.content.size==0&&y.node(-1).childCount==y.indexAfter(-1)){if(y.depth==3||y.node(-3).type!=C||y.index(-2)!=y.node(-2).childCount-1)return!1;if(D){let V=a.HY.empty,W=y.index(-1)?1:y.index(-2)?2:3;for(let q=y.depth-W;q>=y.depth-3;q--)V=a.HY.from(y.node(q).copy(V));let L=y.indexAfter(-1)<y.node(-2).childCount?1:y.indexAfter(-2)<y.node(-3).childCount?2:3;V=V.append(a.HY.from(C.createAndFill()));let k=y.before(y.depth-(W-1)),H=x.tr.replace(k,y.after(-L),new a.p2(V,4-W,0)),G=-1;H.doc.nodesBetween(k,H.doc.content.size,(q,z)=>{if(G>-1)return!1;q.isTextblock&&q.content.size==0&&(G=z+1)}),G>-1&&H.setSelection(i.Y1.near(H.doc.resolve(G))),D(H.scrollIntoView())}return!0}let F=M.pos==y.end()?R.contentMatchAt(0).defaultType:null,N=x.tr.delete(y.pos,M.pos),U=F?[null,{type:F}]:void 0;return(0,t.Ax)(N.doc,y.pos,2,U)?(D&&D(N.split(y.pos,2,U).scrollIntoView()),!0):!1}}function o(C){return function(x,D){let{$from:y,$to:M}=x.selection,T=y.blockRange(M,R=>R.childCount>0&&R.firstChild.type==C);return T?D?y.node(T.depth-1).type==C?s(x,D,C,T):w(x,D,T):!0:!1}}function s(C,x,D,y){let M=C.tr,T=y.end,R=y.$to.end(y.depth);T<R&&(M.step(new t.FC(T-1,R,T,R,new a.p2(a.HY.from(D.create(null,y.parent.copy())),1,0),1,!0)),y=new a.Ts(M.doc.resolve(y.$from.pos),M.doc.resolve(R),y.depth));const F=(0,t.k9)(y);if(F==null)return!1;M.lift(y,F);let N=M.mapping.map(T,-1)-1;return(0,t.Mn)(M.doc,N)&&M.join(N),x(M.scrollIntoView()),!0}function w(C,x,D){let y=C.tr,M=D.parent;for(let k=D.end,H=D.endIndex-1,G=D.startIndex;H>G;H--)k-=M.child(H).nodeSize,y.delete(k-1,k+1);let T=y.doc.resolve(D.start),R=T.nodeAfter;if(y.mapping.map(D.end)!=D.start+T.nodeAfter.nodeSize)return!1;let F=D.startIndex==0,N=D.endIndex==M.childCount,U=T.node(-1),V=T.index(-1);if(!U.canReplace(V+(F?0:1),V+1,R.content.append(N?a.HY.empty:a.HY.from(M))))return!1;let W=T.pos,L=W+R.nodeSize;return y.step(new t.FC(W-(F?1:0),L+(N?1:0),W+1,L-1,new a.p2((F?a.HY.empty:a.HY.from(M.copy(a.HY.empty))).append(N?a.HY.empty:a.HY.from(M.copy(a.HY.empty))),F?0:1,N?0:1),F?0:1)),x(y.scrollIntoView()),!0}function P(C){return function(x,D){let{$from:y,$to:M}=x.selection,T=y.blockRange(M,U=>U.childCount>0&&U.firstChild.type==C);if(!T)return!1;let R=T.startIndex;if(R==0)return!1;let F=T.parent,N=F.child(R-1);if(N.type!=C)return!1;if(D){let U=N.lastChild&&N.lastChild.type==F.type,V=a.HY.from(U?C.create():null),W=new a.p2(a.HY.from(C.create(null,a.HY.from(F.type.create(null,V)))),U?3:1,0),L=T.start,k=T.end;D(x.tr.step(new t.FC(L-(U?3:1),k,L,k,W,1,!0)).scrollIntoView())}return!0}}},2376:(K,f,e)=>{"use strict";e.d(f,{Bs:()=>_,C1:()=>O,H$:()=>V,Sy:()=>F,Y1:()=>c,qv:()=>E,yy:()=>T});var t=e(87823),a=e(16560);const i=Object.create(null);class c{constructor(L,k,H){this.$anchor=L,this.$head=k,this.ranges=H||[new p(L.min(k),L.max(k))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let L=this.ranges;for(let k=0;k<L.length;k++)if(L[k].$from.pos!=L[k].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(L,k=t.p2.empty){let H=k.content.lastChild,G=null;for(let ee=0;ee<k.openEnd;ee++)G=H,H=H.lastChild;let q=L.steps.length,z=this.ranges;for(let ee=0;ee<z.length;ee++){let{$from:$,$to:J}=z[ee],j=L.mapping.slice(q);L.replaceRange(j.map($.pos),j.map(J.pos),ee?t.p2.empty:k),ee==0&&o(L,q,(H?H.isInline:G&&G.isTextblock)?-1:1)}}replaceWith(L,k){let H=L.steps.length,G=this.ranges;for(let q=0;q<G.length;q++){let{$from:z,$to:ee}=G[q],$=L.mapping.slice(H),J=$.map(z.pos),j=$.map(ee.pos);q?L.deleteRange(J,j):(L.replaceRangeWith(J,j,k),o(L,H,k.isInline?-1:1))}}static findFrom(L,k,H=!1){let G=L.parent.inlineContent?new _(L):u(L.node(0),L.parent,L.pos,L.index(),k,H);if(G)return G;for(let q=L.depth-1;q>=0;q--){let z=k<0?u(L.node(0),L.node(q),L.before(q+1),L.index(q),k,H):u(L.node(0),L.node(q),L.after(q+1),L.index(q)+1,k,H);if(z)return z}return null}static near(L,k=1){return this.findFrom(L,k)||this.findFrom(L,-k)||new O(L.node(0))}static atStart(L){return u(L,L,0,0,1)||new O(L)}static atEnd(L){return u(L,L,L.content.size,L.childCount,-1)||new O(L)}static fromJSON(L,k){if(!k||!k.type)throw new RangeError("Invalid input for Selection.fromJSON");let H=i[k.type];if(!H)throw new RangeError(`No selection type ${k.type} defined`);return H.fromJSON(L,k)}static jsonID(L,k){if(L in i)throw new RangeError("Duplicate use of selection JSON ID "+L);return i[L]=k,k.prototype.jsonID=L,k}getBookmark(){return _.between(this.$anchor,this.$head).getBookmark()}}c.prototype.visible=!0;class p{constructor(L,k){this.$from=L,this.$to=k}}let l=!1;function v(W){!l&&!W.parent.inlineContent&&(l=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+W.parent.type.name+")"))}class _ extends c{constructor(L,k=L){v(L),v(k),super(L,k)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(L,k){let H=L.resolve(k.map(this.head));if(!H.parent.inlineContent)return c.near(H);let G=L.resolve(k.map(this.anchor));return new _(G.parent.inlineContent?G:H,H)}replace(L,k=t.p2.empty){if(super.replace(L,k),k==t.p2.empty){let H=this.$from.marksAcross(this.$to);H&&L.ensureMarks(H)}}eq(L){return L instanceof _&&L.anchor==this.anchor&&L.head==this.head}getBookmark(){return new g(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(L,k){if(typeof k.anchor!="number"||typeof k.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _(L.resolve(k.anchor),L.resolve(k.head))}static create(L,k,H=k){let G=L.resolve(k);return new this(G,H==k?G:L.resolve(H))}static between(L,k,H){let G=L.pos-k.pos;if((!H||G)&&(H=G>=0?1:-1),!k.parent.inlineContent){let q=c.findFrom(k,H,!0)||c.findFrom(k,-H,!0);if(q)k=q.$head;else return c.near(k,H)}return L.parent.inlineContent||(G==0?L=k:(L=(c.findFrom(L,-H,!0)||c.findFrom(L,H,!0)).$anchor,L.pos<k.pos!=G<0&&(L=k))),new _(L,k)}}c.jsonID("text",_);class g{constructor(L,k){this.anchor=L,this.head=k}map(L){return new g(L.map(this.anchor),L.map(this.head))}resolve(L){return _.between(L.resolve(this.anchor),L.resolve(this.head))}}class E extends c{constructor(L){let k=L.nodeAfter,H=L.node(0).resolve(L.pos+k.nodeSize);super(L,H),this.node=k}map(L,k){let{deleted:H,pos:G}=k.mapResult(this.anchor),q=L.resolve(G);return H?c.near(q):new E(q)}content(){return new t.p2(t.HY.from(this.node),0,0)}eq(L){return L instanceof E&&L.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new S(this.anchor)}static fromJSON(L,k){if(typeof k.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new E(L.resolve(k.anchor))}static create(L,k){return new E(L.resolve(k))}static isSelectable(L){return!L.isText&&L.type.spec.selectable!==!1}}E.prototype.visible=!1,c.jsonID("node",E);class S{constructor(L){this.anchor=L}map(L){let{deleted:k,pos:H}=L.mapResult(this.anchor);return k?new g(H,H):new S(H)}resolve(L){let k=L.resolve(this.anchor),H=k.nodeAfter;return H&&E.isSelectable(H)?new E(k):c.near(k)}}class O extends c{constructor(L){super(L.resolve(0),L.resolve(L.content.size))}replace(L,k=t.p2.empty){if(k==t.p2.empty){L.delete(0,L.doc.content.size);let H=c.atStart(L.doc);H.eq(L.selection)||L.setSelection(H)}else super.replace(L,k)}toJSON(){return{type:"all"}}static fromJSON(L){return new O(L)}map(L){return new O(L)}eq(L){return L instanceof O}getBookmark(){return A}}c.jsonID("all",O);const A={map(){return this},resolve(W){return new O(W)}};function u(W,L,k,H,G,q=!1){if(L.inlineContent)return _.create(W,k);for(let z=H-(G>0?0:1);G>0?z<L.childCount:z>=0;z+=G){let ee=L.child(z);if(ee.isAtom){if(!q&&E.isSelectable(ee))return E.create(W,k-(G<0?ee.nodeSize:0))}else{let $=u(W,ee,k+G,G<0?ee.childCount:0,G,q);if($)return $}k+=ee.nodeSize*G}return null}function o(W,L,k){let H=W.steps.length-1;if(H<L)return;let G=W.steps[H];if(!(G instanceof a.Pu||G instanceof a.FC))return;let q=W.mapping.maps[H],z;q.forEach((ee,$,J,j)=>{z==null&&(z=j)}),W.setSelection(c.near(W.doc.resolve(z),k))}const s=1,w=2,P=4;class C extends a.wx{constructor(L){super(L.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=L.selection,this.storedMarks=L.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(L){if(L.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=L,this.curSelectionFor=this.steps.length,this.updated=(this.updated|s)&~w,this.storedMarks=null,this}get selectionSet(){return(this.updated&s)>0}setStoredMarks(L){return this.storedMarks=L,this.updated|=w,this}ensureMarks(L){return t.vc.sameSet(this.storedMarks||this.selection.$from.marks(),L)||this.setStoredMarks(L),this}addStoredMark(L){return this.ensureMarks(L.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(L){return this.ensureMarks(L.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&w)>0}addStep(L,k){super.addStep(L,k),this.updated=this.updated&~w,this.storedMarks=null}setTime(L){return this.time=L,this}replaceSelection(L){return this.selection.replace(this,L),this}replaceSelectionWith(L,k=!0){let H=this.selection;return k&&(L=L.mark(this.storedMarks||(H.empty?H.$from.marks():H.$from.marksAcross(H.$to)||t.vc.none))),H.replaceWith(this,L),this}deleteSelection(){return this.selection.replace(this),this}insertText(L,k,H){let G=this.doc.type.schema;if(k==null)return L?this.replaceSelectionWith(G.text(L),!0):this.deleteSelection();{if(H==null&&(H=k),H=H==null?k:H,!L)return this.deleteRange(k,H);let q=this.storedMarks;if(!q){let z=this.doc.resolve(k);q=H==k?z.marks():z.marksAcross(this.doc.resolve(H))}return this.replaceRangeWith(k,H,G.text(L,q)),this.selection.empty||this.setSelection(c.near(this.selection.$to)),this}}setMeta(L,k){return this.meta[typeof L=="string"?L:L.key]=k,this}getMeta(L){return this.meta[typeof L=="string"?L:L.key]}get isGeneric(){for(let L in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=P,this}get scrolledIntoView(){return(this.updated&P)>0}}function x(W,L){return!L||!W?W:W.bind(L)}class D{constructor(L,k,H){this.name=L,this.init=x(k.init,H),this.apply=x(k.apply,H)}}const y=[new D("doc",{init(W){return W.doc||W.schema.topNodeType.createAndFill()},apply(W){return W.doc}}),new D("selection",{init(W,L){return W.selection||c.atStart(L.doc)},apply(W){return W.selection}}),new D("storedMarks",{init(W){return W.storedMarks||null},apply(W,L,k,H){return H.selection.$cursor?W.storedMarks:null}}),new D("scrollToSelection",{init(){return 0},apply(W,L){return W.scrolledIntoView?L+1:L}})];class M{constructor(L,k){this.schema=L,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=y.slice(),k&&k.forEach(H=>{if(this.pluginsByKey[H.key])throw new RangeError("Adding different instances of a keyed plugin ("+H.key+")");this.plugins.push(H),this.pluginsByKey[H.key]=H,H.spec.state&&this.fields.push(new D(H.key,H.spec.state,H))})}}class T{constructor(L){this.config=L}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(L){return this.applyTransaction(L).state}filterTransaction(L,k=-1){for(let H=0;H<this.config.plugins.length;H++)if(H!=k){let G=this.config.plugins[H];if(G.spec.filterTransaction&&!G.spec.filterTransaction.call(G,L,this))return!1}return!0}applyTransaction(L){if(!this.filterTransaction(L))return{state:this,transactions:[]};let k=[L],H=this.applyInner(L),G=null;for(;;){let q=!1;for(let z=0;z<this.config.plugins.length;z++){let ee=this.config.plugins[z];if(ee.spec.appendTransaction){let $=G?G[z].n:0,J=G?G[z].state:this,j=$<k.length&&ee.spec.appendTransaction.call(ee,$?k.slice($):k,J,H);if(j&&H.filterTransaction(j,z)){if(j.setMeta("appendedTransaction",L),!G){G=[];for(let Z=0;Z<this.config.plugins.length;Z++)G.push(Z<z?{state:H,n:k.length}:{state:this,n:0})}k.push(j),H=H.applyInner(j),q=!0}G&&(G[z]={state:H,n:k.length})}}if(!q)return{state:H,transactions:k}}}applyInner(L){if(!L.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let k=new T(this.config),H=this.config.fields;for(let G=0;G<H.length;G++){let q=H[G];k[q.name]=q.apply(L,this[q.name],this,k)}return k}get tr(){return new C(this)}static create(L){let k=new M(L.doc?L.doc.type.schema:L.schema,L.plugins),H=new T(k);for(let G=0;G<k.fields.length;G++)H[k.fields[G].name]=k.fields[G].init(L,H);return H}reconfigure(L){let k=new M(this.schema,L.plugins),H=k.fields,G=new T(k);for(let q=0;q<H.length;q++){let z=H[q].name;G[z]=this.hasOwnProperty(z)?this[z]:H[q].init(L,G)}return G}toJSON(L){let k={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(k.storedMarks=this.storedMarks.map(H=>H.toJSON())),L&&typeof L=="object")for(let H in L){if(H=="doc"||H=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let G=L[H],q=G.spec.state;q&&q.toJSON&&(k[H]=q.toJSON.call(G,this[G.key]))}return k}static fromJSON(L,k,H){if(!k)throw new RangeError("Invalid input for EditorState.fromJSON");if(!L.schema)throw new RangeError("Required config field 'schema' missing");let G=new M(L.schema,L.plugins),q=new T(G);return G.fields.forEach(z=>{if(z.name=="doc")q.doc=t.NB.fromJSON(L.schema,k.doc);else if(z.name=="selection")q.selection=c.fromJSON(q.doc,k.selection);else if(z.name=="storedMarks")k.storedMarks&&(q.storedMarks=k.storedMarks.map(L.schema.markFromJSON));else{if(H)for(let ee in H){let $=H[ee],J=$.spec.state;if($.key==z.name&&J&&J.fromJSON&&Object.prototype.hasOwnProperty.call(k,ee)){q[z.name]=J.fromJSON.call($,L,k[ee],q);return}}q[z.name]=z.init(L,q)}}),q}}function R(W,L,k){for(let H in W){let G=W[H];G instanceof Function?G=G.bind(L):H=="handleDOMEvents"&&(G=R(G,L,{})),k[H]=G}return k}class F{constructor(L){this.spec=L,this.props={},L.props&&R(L.props,this,this.props),this.key=L.key?L.key.key:U("plugin")}getState(L){return L[this.key]}}const N=Object.create(null);function U(W){return W in N?W+"$"+ ++N[W]:(N[W]=0,W+"$")}class V{constructor(L="key"){this.key=U(L)}get(L){return L.config.pluginsByKey[this.key]}getState(L){return L[this.key]}}},16560:(K,f,e)=>{"use strict";e.d(f,{Ax:()=>J,FC:()=>M,GJ:()=>ie,Mn:()=>Z,Pu:()=>y,dR:()=>se,k9:()=>V,nd:()=>L,nj:()=>ae,vs:()=>A,wx:()=>ln});var t=e(87823);const a=65535,i=Math.pow(2,16);function c(ct,Oe){return ct+Oe*i}function p(ct){return ct&a}function l(ct){return(ct-(ct&a))/i}const v=1,_=2,g=4,E=8;class S{constructor(Oe,Se,Ze){this.pos=Oe,this.delInfo=Se,this.recover=Ze}get deleted(){return(this.delInfo&E)>0}get deletedBefore(){return(this.delInfo&(v|g))>0}get deletedAfter(){return(this.delInfo&(_|g))>0}get deletedAcross(){return(this.delInfo&g)>0}}class O{constructor(Oe,Se=!1){if(this.ranges=Oe,this.inverted=Se,!Oe.length&&O.empty)return O.empty}recover(Oe){let Se=0,Ze=p(Oe);if(!this.inverted)for(let Fe=0;Fe<Ze;Fe++)Se+=this.ranges[Fe*3+2]-this.ranges[Fe*3+1];return this.ranges[Ze*3]+Se+l(Oe)}mapResult(Oe,Se=1){return this._map(Oe,Se,!1)}map(Oe,Se=1){return this._map(Oe,Se,!0)}_map(Oe,Se,Ze){let Fe=0,Ke=this.inverted?2:1,et=this.inverted?1:2;for(let Qe=0;Qe<this.ranges.length;Qe+=3){let $e=this.ranges[Qe]-(this.inverted?Fe:0);if($e>Oe)break;let Te=this.ranges[Qe+Ke],te=this.ranges[Qe+et],ue=$e+Te;if(Oe<=ue){let we=Te?Oe==$e?-1:Oe==ue?1:Se:Se,me=$e+Fe+(we<0?0:te);if(Ze)return me;let Ee=Oe==(Se<0?$e:ue)?null:c(Qe/3,Oe-$e),he=Oe==$e?_:Oe==ue?v:g;return(Se<0?Oe!=$e:Oe!=ue)&&(he|=E),new S(me,he,Ee)}Fe+=te-Te}return Ze?Oe+Fe:new S(Oe+Fe,0,null)}touches(Oe,Se){let Ze=0,Fe=p(Se),Ke=this.inverted?2:1,et=this.inverted?1:2;for(let Qe=0;Qe<this.ranges.length;Qe+=3){let $e=this.ranges[Qe]-(this.inverted?Ze:0);if($e>Oe)break;let Te=this.ranges[Qe+Ke],te=$e+Te;if(Oe<=te&&Qe==Fe*3)return!0;Ze+=this.ranges[Qe+et]-Te}return!1}forEach(Oe){let Se=this.inverted?2:1,Ze=this.inverted?1:2;for(let Fe=0,Ke=0;Fe<this.ranges.length;Fe+=3){let et=this.ranges[Fe],Qe=et-(this.inverted?Ke:0),$e=et+(this.inverted?0:Ke),Te=this.ranges[Fe+Se],te=this.ranges[Fe+Ze];Oe(Qe,Qe+Te,$e,$e+te),Ke+=te-Te}}invert(){return new O(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(Oe){return Oe==0?O.empty:new O(Oe<0?[0,-Oe,0]:[0,0,Oe])}}O.empty=new O([]);class A{constructor(Oe=[],Se,Ze=0,Fe=Oe.length){this.maps=Oe,this.mirror=Se,this.from=Ze,this.to=Fe}slice(Oe=0,Se=this.maps.length){return new A(this.maps,this.mirror,Oe,Se)}copy(){return new A(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(Oe,Se){this.to=this.maps.push(Oe),Se!=null&&this.setMirror(this.maps.length-1,Se)}appendMapping(Oe){for(let Se=0,Ze=this.maps.length;Se<Oe.maps.length;Se++){let Fe=Oe.getMirror(Se);this.appendMap(Oe.maps[Se],Fe!=null&&Fe<Se?Ze+Fe:void 0)}}getMirror(Oe){if(this.mirror){for(let Se=0;Se<this.mirror.length;Se++)if(this.mirror[Se]==Oe)return this.mirror[Se+(Se%2?-1:1)]}}setMirror(Oe,Se){this.mirror||(this.mirror=[]),this.mirror.push(Oe,Se)}appendMappingInverted(Oe){for(let Se=Oe.maps.length-1,Ze=this.maps.length+Oe.maps.length;Se>=0;Se--){let Fe=Oe.getMirror(Se);this.appendMap(Oe.maps[Se].invert(),Fe!=null&&Fe>Se?Ze-Fe-1:void 0)}}invert(){let Oe=new A;return Oe.appendMappingInverted(this),Oe}map(Oe,Se=1){if(this.mirror)return this._map(Oe,Se,!0);for(let Ze=this.from;Ze<this.to;Ze++)Oe=this.maps[Ze].map(Oe,Se);return Oe}mapResult(Oe,Se=1){return this._map(Oe,Se,!1)}_map(Oe,Se,Ze){let Fe=0;for(let Ke=this.from;Ke<this.to;Ke++){let et=this.maps[Ke],Qe=et.mapResult(Oe,Se);if(Qe.recover!=null){let $e=this.getMirror(Ke);if($e!=null&&$e>Ke&&$e<this.to){Ke=$e,Oe=this.maps[$e].recover(Qe.recover);continue}}Fe|=Qe.delInfo,Oe=Qe.pos}return Ze?Oe:new S(Oe,Fe,null)}}const u=Object.create(null);class o{getMap(){return O.empty}merge(Oe){return null}static fromJSON(Oe,Se){if(!Se||!Se.stepType)throw new RangeError("Invalid input for Step.fromJSON");let Ze=u[Se.stepType];if(!Ze)throw new RangeError(`No step type ${Se.stepType} defined`);return Ze.fromJSON(Oe,Se)}static jsonID(Oe,Se){if(Oe in u)throw new RangeError("Duplicate use of step JSON ID "+Oe);return u[Oe]=Se,Se.prototype.jsonID=Oe,Se}}class s{constructor(Oe,Se){this.doc=Oe,this.failed=Se}static ok(Oe){return new s(Oe,null)}static fail(Oe){return new s(null,Oe)}static fromReplace(Oe,Se,Ze,Fe){try{return s.ok(Oe.replace(Se,Ze,Fe))}catch(Ke){if(Ke instanceof t.e4)return s.fail(Ke.message);throw Ke}}}function w(ct,Oe,Se){let Ze=[];for(let Fe=0;Fe<ct.childCount;Fe++){let Ke=ct.child(Fe);Ke.content.size&&(Ke=Ke.copy(w(Ke.content,Oe,Ke))),Ke.isInline&&(Ke=Oe(Ke,Se,Fe)),Ze.push(Ke)}return t.HY.fromArray(Ze)}class P extends o{constructor(Oe,Se,Ze){super(),this.from=Oe,this.to=Se,this.mark=Ze}apply(Oe){let Se=Oe.slice(this.from,this.to),Ze=Oe.resolve(this.from),Fe=Ze.node(Ze.sharedDepth(this.to)),Ke=new t.p2(w(Se.content,(et,Qe)=>!et.isAtom||!Qe.type.allowsMarkType(this.mark.type)?et:et.mark(this.mark.addToSet(et.marks)),Fe),Se.openStart,Se.openEnd);return s.fromReplace(Oe,this.from,this.to,Ke)}invert(){return new C(this.from,this.to,this.mark)}map(Oe){let Se=Oe.mapResult(this.from,1),Ze=Oe.mapResult(this.to,-1);return Se.deleted&&Ze.deleted||Se.pos>=Ze.pos?null:new P(Se.pos,Ze.pos,this.mark)}merge(Oe){return Oe instanceof P&&Oe.mark.eq(this.mark)&&this.from<=Oe.to&&this.to>=Oe.from?new P(Math.min(this.from,Oe.from),Math.max(this.to,Oe.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Oe,Se){if(typeof Se.from!="number"||typeof Se.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new P(Se.from,Se.to,Oe.markFromJSON(Se.mark))}}o.jsonID("addMark",P);class C extends o{constructor(Oe,Se,Ze){super(),this.from=Oe,this.to=Se,this.mark=Ze}apply(Oe){let Se=Oe.slice(this.from,this.to),Ze=new t.p2(w(Se.content,Fe=>Fe.mark(this.mark.removeFromSet(Fe.marks)),Oe),Se.openStart,Se.openEnd);return s.fromReplace(Oe,this.from,this.to,Ze)}invert(){return new P(this.from,this.to,this.mark)}map(Oe){let Se=Oe.mapResult(this.from,1),Ze=Oe.mapResult(this.to,-1);return Se.deleted&&Ze.deleted||Se.pos>=Ze.pos?null:new C(Se.pos,Ze.pos,this.mark)}merge(Oe){return Oe instanceof C&&Oe.mark.eq(this.mark)&&this.from<=Oe.to&&this.to>=Oe.from?new C(Math.min(this.from,Oe.from),Math.max(this.to,Oe.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Oe,Se){if(typeof Se.from!="number"||typeof Se.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new C(Se.from,Se.to,Oe.markFromJSON(Se.mark))}}o.jsonID("removeMark",C);class x extends o{constructor(Oe,Se){super(),this.pos=Oe,this.mark=Se}apply(Oe){let Se=Oe.nodeAt(this.pos);if(!Se)return s.fail("No node at mark step's position");let Ze=Se.type.create(Se.attrs,null,this.mark.addToSet(Se.marks));return s.fromReplace(Oe,this.pos,this.pos+1,new t.p2(t.HY.from(Ze),0,Se.isLeaf?0:1))}invert(Oe){let Se=Oe.nodeAt(this.pos);if(Se){let Ze=this.mark.addToSet(Se.marks);if(Ze.length==Se.marks.length){for(let Fe=0;Fe<Se.marks.length;Fe++)if(!Se.marks[Fe].isInSet(Ze))return new x(this.pos,Se.marks[Fe]);return new x(this.pos,this.mark)}}return new D(this.pos,this.mark)}map(Oe){let Se=Oe.mapResult(this.pos,1);return Se.deletedAfter?null:new x(Se.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Oe,Se){if(typeof Se.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new x(Se.pos,Oe.markFromJSON(Se.mark))}}o.jsonID("addNodeMark",x);class D extends o{constructor(Oe,Se){super(),this.pos=Oe,this.mark=Se}apply(Oe){let Se=Oe.nodeAt(this.pos);if(!Se)return s.fail("No node at mark step's position");let Ze=Se.type.create(Se.attrs,null,this.mark.removeFromSet(Se.marks));return s.fromReplace(Oe,this.pos,this.pos+1,new t.p2(t.HY.from(Ze),0,Se.isLeaf?0:1))}invert(Oe){let Se=Oe.nodeAt(this.pos);return!Se||!this.mark.isInSet(Se.marks)?this:new x(this.pos,this.mark)}map(Oe){let Se=Oe.mapResult(this.pos,1);return Se.deletedAfter?null:new D(Se.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Oe,Se){if(typeof Se.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new D(Se.pos,Oe.markFromJSON(Se.mark))}}o.jsonID("removeNodeMark",D);class y extends o{constructor(Oe,Se,Ze,Fe=!1){super(),this.from=Oe,this.to=Se,this.slice=Ze,this.structure=Fe}apply(Oe){return this.structure&&T(Oe,this.from,this.to)?s.fail("Structure replace would overwrite content"):s.fromReplace(Oe,this.from,this.to,this.slice)}getMap(){return new O([this.from,this.to-this.from,this.slice.size])}invert(Oe){return new y(this.from,this.from+this.slice.size,Oe.slice(this.from,this.to))}map(Oe){let Se=Oe.mapResult(this.from,1),Ze=Oe.mapResult(this.to,-1);return Se.deletedAcross&&Ze.deletedAcross?null:new y(Se.pos,Math.max(Se.pos,Ze.pos),this.slice)}merge(Oe){if(!(Oe instanceof y)||Oe.structure||this.structure)return null;if(this.from+this.slice.size==Oe.from&&!this.slice.openEnd&&!Oe.slice.openStart){let Se=this.slice.size+Oe.slice.size==0?t.p2.empty:new t.p2(this.slice.content.append(Oe.slice.content),this.slice.openStart,Oe.slice.openEnd);return new y(this.from,this.to+(Oe.to-Oe.from),Se,this.structure)}else if(Oe.to==this.from&&!this.slice.openStart&&!Oe.slice.openEnd){let Se=this.slice.size+Oe.slice.size==0?t.p2.empty:new t.p2(Oe.slice.content.append(this.slice.content),Oe.slice.openStart,this.slice.openEnd);return new y(Oe.from,this.to,Se,this.structure)}else return null}toJSON(){let Oe={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Oe.slice=this.slice.toJSON()),this.structure&&(Oe.structure=!0),Oe}static fromJSON(Oe,Se){if(typeof Se.from!="number"||typeof Se.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new y(Se.from,Se.to,t.p2.fromJSON(Oe,Se.slice),!!Se.structure)}}o.jsonID("replace",y);class M extends o{constructor(Oe,Se,Ze,Fe,Ke,et,Qe=!1){super(),this.from=Oe,this.to=Se,this.gapFrom=Ze,this.gapTo=Fe,this.slice=Ke,this.insert=et,this.structure=Qe}apply(Oe){if(this.structure&&(T(Oe,this.from,this.gapFrom)||T(Oe,this.gapTo,this.to)))return s.fail("Structure gap-replace would overwrite content");let Se=Oe.slice(this.gapFrom,this.gapTo);if(Se.openStart||Se.openEnd)return s.fail("Gap is not a flat range");let Ze=this.slice.insertAt(this.insert,Se.content);return Ze?s.fromReplace(Oe,this.from,this.to,Ze):s.fail("Content does not fit in gap")}getMap(){return new O([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(Oe){let Se=this.gapTo-this.gapFrom;return new M(this.from,this.from+this.slice.size+Se,this.from+this.insert,this.from+this.insert+Se,Oe.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(Oe){let Se=Oe.mapResult(this.from,1),Ze=Oe.mapResult(this.to,-1),Fe=Oe.map(this.gapFrom,-1),Ke=Oe.map(this.gapTo,1);return Se.deletedAcross&&Ze.deletedAcross||Fe<Se.pos||Ke>Ze.pos?null:new M(Se.pos,Ze.pos,Fe,Ke,this.slice,this.insert,this.structure)}toJSON(){let Oe={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Oe.slice=this.slice.toJSON()),this.structure&&(Oe.structure=!0),Oe}static fromJSON(Oe,Se){if(typeof Se.from!="number"||typeof Se.to!="number"||typeof Se.gapFrom!="number"||typeof Se.gapTo!="number"||typeof Se.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new M(Se.from,Se.to,Se.gapFrom,Se.gapTo,t.p2.fromJSON(Oe,Se.slice),Se.insert,!!Se.structure)}}o.jsonID("replaceAround",M);function T(ct,Oe,Se){let Ze=ct.resolve(Oe),Fe=Se-Oe,Ke=Ze.depth;for(;Fe>0&&Ke>0&&Ze.indexAfter(Ke)==Ze.node(Ke).childCount;)Ke--,Fe--;if(Fe>0){let et=Ze.node(Ke).maybeChild(Ze.indexAfter(Ke));for(;Fe>0;){if(!et||et.isLeaf)return!0;et=et.firstChild,Fe--}}return!1}function R(ct,Oe,Se,Ze){let Fe=[],Ke=[],et,Qe;ct.doc.nodesBetween(Oe,Se,($e,Te,te)=>{if(!$e.isInline)return;let ue=$e.marks;if(!Ze.isInSet(ue)&&te.type.allowsMarkType(Ze.type)){let we=Math.max(Te,Oe),me=Math.min(Te+$e.nodeSize,Se),Ee=Ze.addToSet(ue);for(let he=0;he<ue.length;he++)ue[he].isInSet(Ee)||(et&&et.to==we&&et.mark.eq(ue[he])?et.to=me:Fe.push(et=new C(we,me,ue[he])));Qe&&Qe.to==we?Qe.to=me:Ke.push(Qe=new P(we,me,Ze))}}),Fe.forEach($e=>ct.step($e)),Ke.forEach($e=>ct.step($e))}function F(ct,Oe,Se,Ze){let Fe=[],Ke=0;ct.doc.nodesBetween(Oe,Se,(et,Qe)=>{if(!et.isInline)return;Ke++;let $e=null;if(Ze instanceof t.ZU){let Te=et.marks,te;for(;te=Ze.isInSet(Te);)($e||($e=[])).push(te),Te=te.removeFromSet(Te)}else Ze?Ze.isInSet(et.marks)&&($e=[Ze]):$e=et.marks;if($e&&$e.length){let Te=Math.min(Qe+et.nodeSize,Se);for(let te=0;te<$e.length;te++){let ue=$e[te],we;for(let me=0;me<Fe.length;me++){let Ee=Fe[me];Ee.step==Ke-1&&ue.eq(Fe[me].style)&&(we=Ee)}we?(we.to=Te,we.step=Ke):Fe.push({style:ue,from:Math.max(Qe,Oe),to:Te,step:Ke})}}}),Fe.forEach(et=>ct.step(new C(et.from,et.to,et.style)))}function N(ct,Oe,Se,Ze=Se.contentMatch){let Fe=ct.doc.nodeAt(Oe),Ke=[],et=Oe+1;for(let Qe=0;Qe<Fe.childCount;Qe++){let $e=Fe.child(Qe),Te=et+$e.nodeSize,te=Ze.matchType($e.type);if(!te)Ke.push(new y(et,Te,t.p2.empty));else{Ze=te;for(let ue=0;ue<$e.marks.length;ue++)Se.allowsMarkType($e.marks[ue].type)||ct.step(new C(et,Te,$e.marks[ue]))}et=Te}if(!Ze.validEnd){let Qe=Ze.fillBefore(t.HY.empty,!0);ct.replace(et,et,new t.p2(Qe,0,0))}for(let Qe=Ke.length-1;Qe>=0;Qe--)ct.step(Ke[Qe])}function U(ct,Oe,Se){return(Oe==0||ct.canReplace(Oe,ct.childCount))&&(Se==ct.childCount||ct.canReplace(0,Se))}function V(ct){let Se=ct.parent.content.cutByIndex(ct.startIndex,ct.endIndex);for(let Ze=ct.depth;;--Ze){let Fe=ct.$from.node(Ze),Ke=ct.$from.index(Ze),et=ct.$to.indexAfter(Ze);if(Ze<ct.depth&&Fe.canReplace(Ke,et,Se))return Ze;if(Ze==0||Fe.type.spec.isolating||!U(Fe,Ke,et))break}return null}function W(ct,Oe,Se){let{$from:Ze,$to:Fe,depth:Ke}=Oe,et=Ze.before(Ke+1),Qe=Fe.after(Ke+1),$e=et,Te=Qe,te=t.HY.empty,ue=0;for(let Ee=Ke,he=!1;Ee>Se;Ee--)he||Ze.index(Ee)>0?(he=!0,te=t.HY.from(Ze.node(Ee).copy(te)),ue++):$e--;let we=t.HY.empty,me=0;for(let Ee=Ke,he=!1;Ee>Se;Ee--)he||Fe.after(Ee+1)<Fe.end(Ee)?(he=!0,we=t.HY.from(Fe.node(Ee).copy(we)),me++):Te++;ct.step(new M($e,Te,et,Qe,new t.p2(te.append(we),ue,me),te.size-ue,!0))}function L(ct,Oe,Se=null,Ze=ct){let Fe=H(ct,Oe),Ke=Fe&&G(Ze,Oe);return Ke?Fe.map(k).concat({type:Oe,attrs:Se}).concat(Ke.map(k)):null}function k(ct){return{type:ct,attrs:null}}function H(ct,Oe){let{parent:Se,startIndex:Ze,endIndex:Fe}=ct,Ke=Se.contentMatchAt(Ze).findWrapping(Oe);if(!Ke)return null;let et=Ke.length?Ke[0]:Oe;return Se.canReplaceWith(Ze,Fe,et)?Ke:null}function G(ct,Oe){let{parent:Se,startIndex:Ze,endIndex:Fe}=ct,Ke=Se.child(Ze),et=Oe.contentMatch.findWrapping(Ke.type);if(!et)return null;let $e=(et.length?et[et.length-1]:Oe).contentMatch;for(let Te=Ze;$e&&Te<Fe;Te++)$e=$e.matchType(Se.child(Te).type);return!$e||!$e.validEnd?null:et}function q(ct,Oe,Se){let Ze=t.HY.empty;for(let et=Se.length-1;et>=0;et--){if(Ze.size){let Qe=Se[et].type.contentMatch.matchFragment(Ze);if(!Qe||!Qe.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}Ze=t.HY.from(Se[et].type.create(Se[et].attrs,Ze))}let Fe=Oe.start,Ke=Oe.end;ct.step(new M(Fe,Ke,Fe,Ke,new t.p2(Ze,0,0),Se.length,!0))}function z(ct,Oe,Se,Ze,Fe){if(!Ze.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let Ke=ct.steps.length;ct.doc.nodesBetween(Oe,Se,(et,Qe)=>{if(et.isTextblock&&!et.hasMarkup(Ze,Fe)&&ee(ct.doc,ct.mapping.slice(Ke).map(Qe),Ze)){ct.clearIncompatible(ct.mapping.slice(Ke).map(Qe,1),Ze);let $e=ct.mapping.slice(Ke),Te=$e.map(Qe,1),te=$e.map(Qe+et.nodeSize,1);return ct.step(new M(Te,te,Te+1,te-1,new t.p2(t.HY.from(Ze.create(Fe,null,et.marks)),0,0),1,!0)),!1}})}function ee(ct,Oe,Se){let Ze=ct.resolve(Oe),Fe=Ze.index();return Ze.parent.canReplaceWith(Fe,Fe+1,Se)}function $(ct,Oe,Se,Ze,Fe){let Ke=ct.doc.nodeAt(Oe);if(!Ke)throw new RangeError("No node at given position");Se||(Se=Ke.type);let et=Se.create(Ze,null,Fe||Ke.marks);if(Ke.isLeaf)return ct.replaceWith(Oe,Oe+Ke.nodeSize,et);if(!Se.validContent(Ke.content))throw new RangeError("Invalid content for node type "+Se.name);ct.step(new M(Oe,Oe+Ke.nodeSize,Oe+1,Oe+Ke.nodeSize-1,new t.p2(t.HY.from(et),0,0),1,!0))}function J(ct,Oe,Se=1,Ze){let Fe=ct.resolve(Oe),Ke=Fe.depth-Se,et=Ze&&Ze[Ze.length-1]||Fe.parent;if(Ke<0||Fe.parent.type.spec.isolating||!Fe.parent.canReplace(Fe.index(),Fe.parent.childCount)||!et.type.validContent(Fe.parent.content.cutByIndex(Fe.index(),Fe.parent.childCount)))return!1;for(let Te=Fe.depth-1,te=Se-2;Te>Ke;Te--,te--){let ue=Fe.node(Te),we=Fe.index(Te);if(ue.type.spec.isolating)return!1;let me=ue.content.cutByIndex(we,ue.childCount),Ee=Ze&&Ze[te]||ue;if(Ee!=ue&&(me=me.replaceChild(0,Ee.type.create(Ee.attrs))),!ue.canReplace(we+1,ue.childCount)||!Ee.type.validContent(me))return!1}let Qe=Fe.indexAfter(Ke),$e=Ze&&Ze[0];return Fe.node(Ke).canReplaceWith(Qe,Qe,$e?$e.type:Fe.node(Ke+1).type)}function j(ct,Oe,Se=1,Ze){let Fe=ct.doc.resolve(Oe),Ke=t.HY.empty,et=t.HY.empty;for(let Qe=Fe.depth,$e=Fe.depth-Se,Te=Se-1;Qe>$e;Qe--,Te--){Ke=t.HY.from(Fe.node(Qe).copy(Ke));let te=Ze&&Ze[Te];et=t.HY.from(te?te.type.create(te.attrs,et):Fe.node(Qe).copy(et))}ct.step(new y(Oe,Oe,new t.p2(Ke.append(et),Se,Se),!0))}function Z(ct,Oe){let Se=ct.resolve(Oe),Ze=Se.index();return ne(Se.nodeBefore,Se.nodeAfter)&&Se.parent.canReplace(Ze,Ze+1)}function ne(ct,Oe){return!!(ct&&Oe&&!ct.isLeaf&&ct.canAppend(Oe))}function ie(ct,Oe,Se=-1){let Ze=ct.resolve(Oe);for(let Fe=Ze.depth;;Fe--){let Ke,et,Qe=Ze.index(Fe);if(Fe==Ze.depth?(Ke=Ze.nodeBefore,et=Ze.nodeAfter):Se>0?(Ke=Ze.node(Fe+1),Qe++,et=Ze.node(Fe).maybeChild(Qe)):(Ke=Ze.node(Fe).maybeChild(Qe-1),et=Ze.node(Fe+1)),Ke&&!Ke.isTextblock&&ne(Ke,et)&&Ze.node(Fe).canReplace(Qe,Qe+1))return Oe;if(Fe==0)break;Oe=Se<0?Ze.before(Fe):Ze.after(Fe)}}function oe(ct,Oe,Se){let Ze=new y(Oe-Se,Oe+Se,t.p2.empty,!0);ct.step(Ze)}function re(ct,Oe,Se){let Ze=ct.resolve(Oe);if(Ze.parent.canReplaceWith(Ze.index(),Ze.index(),Se))return Oe;if(Ze.parentOffset==0)for(let Fe=Ze.depth-1;Fe>=0;Fe--){let Ke=Ze.index(Fe);if(Ze.node(Fe).canReplaceWith(Ke,Ke,Se))return Ze.before(Fe+1);if(Ke>0)return null}if(Ze.parentOffset==Ze.parent.content.size)for(let Fe=Ze.depth-1;Fe>=0;Fe--){let Ke=Ze.indexAfter(Fe);if(Ze.node(Fe).canReplaceWith(Ke,Ke,Se))return Ze.after(Fe+1);if(Ke<Ze.node(Fe).childCount)return null}return null}function ae(ct,Oe,Se){let Ze=ct.resolve(Oe);if(!Se.content.size)return Oe;let Fe=Se.content;for(let Ke=0;Ke<Se.openStart;Ke++)Fe=Fe.firstChild.content;for(let Ke=1;Ke<=(Se.openStart==0&&Se.size?2:1);Ke++)for(let et=Ze.depth;et>=0;et--){let Qe=et==Ze.depth?0:Ze.pos<=(Ze.start(et+1)+Ze.end(et+1))/2?-1:1,$e=Ze.index(et)+(Qe>0?1:0),Te=Ze.node(et),te=!1;if(Ke==1)te=Te.canReplace($e,$e,Fe);else{let ue=Te.contentMatchAt($e).findWrapping(Fe.firstChild.type);te=ue&&Te.canReplaceWith($e,$e,ue[0])}if(te)return Qe==0?Ze.pos:Qe<0?Ze.before(et+1):Ze.after(et+1)}return null}function se(ct,Oe,Se=Oe,Ze=t.p2.empty){if(Oe==Se&&!Ze.size)return null;let Fe=ct.resolve(Oe),Ke=ct.resolve(Se);return fe(Fe,Ke,Ze)?new y(Oe,Se,Ze):new le(Fe,Ke,Ze).fit()}function fe(ct,Oe,Se){return!Se.openStart&&!Se.openEnd&&ct.start()==Oe.start()&&ct.parent.canReplace(ct.index(),Oe.index(),Se.content)}class le{constructor(Oe,Se,Ze){this.$from=Oe,this.$to=Se,this.unplaced=Ze,this.frontier=[],this.placed=t.HY.empty;for(let Fe=0;Fe<=Oe.depth;Fe++){let Ke=Oe.node(Fe);this.frontier.push({type:Ke.type,match:Ke.contentMatchAt(Oe.indexAfter(Fe))})}for(let Fe=Oe.depth;Fe>0;Fe--)this.placed=t.HY.from(Oe.node(Fe).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Te=this.findFittable();Te?this.placeNodes(Te):this.openMore()||this.dropNode()}let Oe=this.mustMoveInline(),Se=this.placed.size-this.depth-this.$from.depth,Ze=this.$from,Fe=this.close(Oe<0?this.$to:Ze.doc.resolve(Oe));if(!Fe)return null;let Ke=this.placed,et=Ze.depth,Qe=Fe.depth;for(;et&&Qe&&Ke.childCount==1;)Ke=Ke.firstChild.content,et--,Qe--;let $e=new t.p2(Ke,et,Qe);return Oe>-1?new M(Ze.pos,Oe,this.$to.pos,this.$to.end(),$e,Se):$e.size||Ze.pos!=this.$to.pos?new y(Ze.pos,Fe.pos,$e):null}findFittable(){let Oe=this.unplaced.openStart;for(let Se=this.unplaced.content,Ze=0,Fe=this.unplaced.openEnd;Ze<Oe;Ze++){let Ke=Se.firstChild;if(Se.childCount>1&&(Fe=0),Ke.type.spec.isolating&&Fe<=Ze){Oe=Ze;break}Se=Ke.content}for(let Se=1;Se<=2;Se++)for(let Ze=Se==1?Oe:this.unplaced.openStart;Ze>=0;Ze--){let Fe,Ke=null;Ze?(Ke=je(this.unplaced.content,Ze-1).firstChild,Fe=Ke.content):Fe=this.unplaced.content;let et=Fe.firstChild;for(let Qe=this.depth;Qe>=0;Qe--){let{type:$e,match:Te}=this.frontier[Qe],te,ue=null;if(Se==1&&(et?Te.matchType(et.type)||(ue=Te.fillBefore(t.HY.from(et),!1)):Ke&&$e.compatibleContent(Ke.type)))return{sliceDepth:Ze,frontierDepth:Qe,parent:Ke,inject:ue};if(Se==2&&et&&(te=Te.findWrapping(et.type)))return{sliceDepth:Ze,frontierDepth:Qe,parent:Ke,wrap:te};if(Ke&&Te.matchType(Ke.type))break}}}openMore(){let{content:Oe,openStart:Se,openEnd:Ze}=this.unplaced,Fe=je(Oe,Se);return!Fe.childCount||Fe.firstChild.isLeaf?!1:(this.unplaced=new t.p2(Oe,Se+1,Math.max(Ze,Fe.size+Se>=Oe.size-Ze?Se+1:0)),!0)}dropNode(){let{content:Oe,openStart:Se,openEnd:Ze}=this.unplaced,Fe=je(Oe,Se);if(Fe.childCount<=1&&Se>0){let Ke=Oe.size-Se<=Se+Fe.size;this.unplaced=new t.p2(Ae(Oe,Se-1,1),Se-1,Ke?Se-1:Ze)}else this.unplaced=new t.p2(Ae(Oe,Se,1),Se,Ze)}placeNodes({sliceDepth:Oe,frontierDepth:Se,parent:Ze,inject:Fe,wrap:Ke}){for(;this.depth>Se;)this.closeFrontierNode();if(Ke)for(let he=0;he<Ke.length;he++)this.openFrontierNode(Ke[he]);let et=this.unplaced,Qe=Ze?Ze.content:et.content,$e=et.openStart-Oe,Te=0,te=[],{match:ue,type:we}=this.frontier[Se];if(Fe){for(let he=0;he<Fe.childCount;he++)te.push(Fe.child(he));ue=ue.matchFragment(Fe)}let me=Qe.size+Oe-(et.content.size-et.openEnd);for(;Te<Qe.childCount;){let he=Qe.child(Te),xe=ue.matchType(he.type);if(!xe)break;Te++,(Te>1||$e==0||he.content.size)&&(ue=xe,te.push(Je(he.mark(we.allowedMarks(he.marks)),Te==1?$e:0,Te==Qe.childCount?me:-1)))}let Ee=Te==Qe.childCount;Ee||(me=-1),this.placed=De(this.placed,Se,t.HY.from(te)),this.frontier[Se].match=ue,Ee&&me<0&&Ze&&Ze.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let he=0,xe=Qe;he<me;he++){let Ve=xe.lastChild;this.frontier.push({type:Ve.type,match:Ve.contentMatchAt(Ve.childCount)}),xe=Ve.content}this.unplaced=Ee?Oe==0?t.p2.empty:new t.p2(Ae(et.content,Oe-1,1),Oe-1,me<0?et.openEnd:Oe-1):new t.p2(Ae(et.content,Oe,Te),et.openStart,et.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let Oe=this.frontier[this.depth],Se;if(!Oe.type.isTextblock||!Be(this.$to,this.$to.depth,Oe.type,Oe.match,!1)||this.$to.depth==this.depth&&(Se=this.findCloseLevel(this.$to))&&Se.depth==this.depth)return-1;let{depth:Ze}=this.$to,Fe=this.$to.after(Ze);for(;Ze>1&&Fe==this.$to.end(--Ze);)++Fe;return Fe}findCloseLevel(Oe){e:for(let Se=Math.min(this.depth,Oe.depth);Se>=0;Se--){let{match:Ze,type:Fe}=this.frontier[Se],Ke=Se<Oe.depth&&Oe.end(Se+1)==Oe.pos+(Oe.depth-(Se+1)),et=Be(Oe,Se,Fe,Ze,Ke);if(et){for(let Qe=Se-1;Qe>=0;Qe--){let{match:$e,type:Te}=this.frontier[Qe],te=Be(Oe,Qe,Te,$e,!0);if(!te||te.childCount)continue e}return{depth:Se,fit:et,move:Ke?Oe.doc.resolve(Oe.after(Se+1)):Oe}}}}close(Oe){let Se=this.findCloseLevel(Oe);if(!Se)return null;for(;this.depth>Se.depth;)this.closeFrontierNode();Se.fit.childCount&&(this.placed=De(this.placed,Se.depth,Se.fit)),Oe=Se.move;for(let Ze=Se.depth+1;Ze<=Oe.depth;Ze++){let Fe=Oe.node(Ze),Ke=Fe.type.contentMatch.fillBefore(Fe.content,!0,Oe.index(Ze));this.openFrontierNode(Fe.type,Fe.attrs,Ke)}return Oe}openFrontierNode(Oe,Se=null,Ze){let Fe=this.frontier[this.depth];Fe.match=Fe.match.matchType(Oe),this.placed=De(this.placed,this.depth,t.HY.from(Oe.create(Se,Ze))),this.frontier.push({type:Oe,match:Oe.contentMatch})}closeFrontierNode(){let Se=this.frontier.pop().match.fillBefore(t.HY.empty,!0);Se.childCount&&(this.placed=De(this.placed,this.frontier.length,Se))}}function Ae(ct,Oe,Se){return Oe==0?ct.cutByIndex(Se,ct.childCount):ct.replaceChild(0,ct.firstChild.copy(Ae(ct.firstChild.content,Oe-1,Se)))}function De(ct,Oe,Se){return Oe==0?ct.append(Se):ct.replaceChild(ct.childCount-1,ct.lastChild.copy(De(ct.lastChild.content,Oe-1,Se)))}function je(ct,Oe){for(let Se=0;Se<Oe;Se++)ct=ct.firstChild.content;return ct}function Je(ct,Oe,Se){if(Oe<=0)return ct;let Ze=ct.content;return Oe>1&&(Ze=Ze.replaceChild(0,Je(Ze.firstChild,Oe-1,Ze.childCount==1?Se-1:0))),Oe>0&&(Ze=ct.type.contentMatch.fillBefore(Ze).append(Ze),Se<=0&&(Ze=Ze.append(ct.type.contentMatch.matchFragment(Ze).fillBefore(t.HY.empty,!0)))),ct.copy(Ze)}function Be(ct,Oe,Se,Ze,Fe){let Ke=ct.node(Oe),et=Fe?ct.indexAfter(Oe):ct.index(Oe);if(et==Ke.childCount&&!Se.compatibleContent(Ke.type))return null;let Qe=Ze.fillBefore(Ke.content,!0,et);return Qe&&!st(Se,Ke.content,et)?Qe:null}function st(ct,Oe,Se){for(let Ze=Se;Ze<Oe.childCount;Ze++)if(!ct.allowsMarks(Oe.child(Ze).marks))return!0;return!1}function ht(ct){return ct.spec.defining||ct.spec.definingForContent}function gt(ct,Oe,Se,Ze){if(!Ze.size)return ct.deleteRange(Oe,Se);let Fe=ct.doc.resolve(Oe),Ke=ct.doc.resolve(Se);if(fe(Fe,Ke,Ze))return ct.step(new y(Oe,Se,Ze));let et=ke(Fe,ct.doc.resolve(Se));et[et.length-1]==0&&et.pop();let Qe=-(Fe.depth+1);et.unshift(Qe);for(let we=Fe.depth,me=Fe.pos-1;we>0;we--,me--){let Ee=Fe.node(we).type.spec;if(Ee.defining||Ee.definingAsContext||Ee.isolating)break;et.indexOf(we)>-1?Qe=we:Fe.before(we)==me&&et.splice(1,0,-we)}let $e=et.indexOf(Qe),Te=[],te=Ze.openStart;for(let we=Ze.content,me=0;;me++){let Ee=we.firstChild;if(Te.push(Ee),me==Ze.openStart)break;we=Ee.content}for(let we=te-1;we>=0;we--){let me=Te[we].type,Ee=ht(me);if(Ee&&Fe.node($e).type!=me)te=we;else if(Ee||!me.isTextblock)break}for(let we=Ze.openStart;we>=0;we--){let me=(we+te+1)%(Ze.openStart+1),Ee=Te[me];if(Ee)for(let he=0;he<et.length;he++){let xe=et[(he+$e)%et.length],Ve=!0;xe<0&&(Ve=!1,xe=-xe);let Pe=Fe.node(xe-1),Ie=Fe.index(xe-1);if(Pe.canReplaceWith(Ie,Ie,Ee.type,Ee.marks))return ct.replace(Fe.before(xe),Ve?Ke.after(xe):Se,new t.p2(Xe(Ze.content,0,Ze.openStart,me),me,Ze.openEnd))}}let ue=ct.steps.length;for(let we=et.length-1;we>=0&&(ct.replace(Oe,Se,Ze),!(ct.steps.length>ue));we--){let me=et[we];me<0||(Oe=Fe.before(me),Se=Ke.after(me))}}function Xe(ct,Oe,Se,Ze,Fe){if(Oe<Se){let Ke=ct.firstChild;ct=ct.replaceChild(0,Ke.copy(Xe(Ke.content,Oe+1,Se,Ze,Ke)))}if(Oe>Ze){let Ke=Fe.contentMatchAt(0),et=Ke.fillBefore(ct).append(ct);ct=et.append(Ke.matchFragment(et).fillBefore(t.HY.empty,!0))}return ct}function Re(ct,Oe,Se,Ze){if(!Ze.isInline&&Oe==Se&&ct.doc.resolve(Oe).parent.content.size){let Fe=re(ct.doc,Oe,Ze.type);Fe!=null&&(Oe=Se=Fe)}ct.replaceRange(Oe,Se,new t.p2(t.HY.from(Ze),0,0))}function Ne(ct,Oe,Se){let Ze=ct.doc.resolve(Oe),Fe=ct.doc.resolve(Se),Ke=ke(Ze,Fe);for(let et=0;et<Ke.length;et++){let Qe=Ke[et],$e=et==Ke.length-1;if($e&&Qe==0||Ze.node(Qe).type.contentMatch.validEnd)return ct.delete(Ze.start(Qe),Fe.end(Qe));if(Qe>0&&($e||Ze.node(Qe-1).canReplace(Ze.index(Qe-1),Fe.indexAfter(Qe-1))))return ct.delete(Ze.before(Qe),Fe.after(Qe))}for(let et=1;et<=Ze.depth&&et<=Fe.depth;et++)if(Oe-Ze.start(et)==Ze.depth-et&&Se>Ze.end(et)&&Fe.end(et)-Se!=Fe.depth-et)return ct.delete(Ze.before(et),Se);ct.delete(Oe,Se)}function ke(ct,Oe){let Se=[],Ze=Math.min(ct.depth,Oe.depth);for(let Fe=Ze;Fe>=0;Fe--){let Ke=ct.start(Fe);if(Ke<ct.pos-(ct.depth-Fe)||Oe.end(Fe)>Oe.pos+(Oe.depth-Fe)||ct.node(Fe).type.spec.isolating||Oe.node(Fe).type.spec.isolating)break;(Ke==Oe.start(Fe)||Fe==ct.depth&&Fe==Oe.depth&&ct.parent.inlineContent&&Oe.parent.inlineContent&&Fe&&Oe.start(Fe-1)==Ke-1)&&Se.push(Fe)}return Se}class ot extends o{constructor(Oe,Se,Ze){super(),this.pos=Oe,this.attr=Se,this.value=Ze}apply(Oe){let Se=Oe.nodeAt(this.pos);if(!Se)return s.fail("No node at attribute step's position");let Ze=Object.create(null);for(let Ke in Se.attrs)Ze[Ke]=Se.attrs[Ke];Ze[this.attr]=this.value;let Fe=Se.type.create(Ze,null,Se.marks);return s.fromReplace(Oe,this.pos,this.pos+1,new t.p2(t.HY.from(Fe),0,Se.isLeaf?0:1))}getMap(){return O.empty}invert(Oe){return new ot(this.pos,this.attr,Oe.nodeAt(this.pos).attrs[this.attr])}map(Oe){let Se=Oe.mapResult(this.pos,1);return Se.deletedAfter?null:new ot(Se.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(Oe,Se){if(typeof Se.pos!="number"||typeof Se.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ot(Se.pos,Se.attr,Se.value)}}o.jsonID("attr",ot);let Dt=class extends Error{};Dt=function ct(Oe){let Se=Error.call(this,Oe);return Se.__proto__=ct.prototype,Se},Dt.prototype=Object.create(Error.prototype),Dt.prototype.constructor=Dt,Dt.prototype.name="TransformError";class ln{constructor(Oe){this.doc=Oe,this.steps=[],this.docs=[],this.mapping=new A}get before(){return this.docs.length?this.docs[0]:this.doc}step(Oe){let Se=this.maybeStep(Oe);if(Se.failed)throw new Dt(Se.failed);return this}maybeStep(Oe){let Se=Oe.apply(this.doc);return Se.failed||this.addStep(Oe,Se.doc),Se}get docChanged(){return this.steps.length>0}addStep(Oe,Se){this.docs.push(this.doc),this.steps.push(Oe),this.mapping.appendMap(Oe.getMap()),this.doc=Se}replace(Oe,Se=Oe,Ze=t.p2.empty){let Fe=se(this.doc,Oe,Se,Ze);return Fe&&this.step(Fe),this}replaceWith(Oe,Se,Ze){return this.replace(Oe,Se,new t.p2(t.HY.from(Ze),0,0))}delete(Oe,Se){return this.replace(Oe,Se,t.p2.empty)}insert(Oe,Se){return this.replaceWith(Oe,Oe,Se)}replaceRange(Oe,Se,Ze){return gt(this,Oe,Se,Ze),this}replaceRangeWith(Oe,Se,Ze){return Re(this,Oe,Se,Ze),this}deleteRange(Oe,Se){return Ne(this,Oe,Se),this}lift(Oe,Se){return W(this,Oe,Se),this}join(Oe,Se=1){return oe(this,Oe,Se),this}wrap(Oe,Se){return q(this,Oe,Se),this}setBlockType(Oe,Se=Oe,Ze,Fe=null){return z(this,Oe,Se,Ze,Fe),this}setNodeMarkup(Oe,Se,Ze=null,Fe){return $(this,Oe,Se,Ze,Fe),this}setNodeAttribute(Oe,Se,Ze){return this.step(new ot(Oe,Se,Ze)),this}addNodeMark(Oe,Se){return this.step(new x(Oe,Se)),this}removeNodeMark(Oe,Se){if(!(Se instanceof t.vc)){let Ze=this.doc.nodeAt(Oe);if(!Ze)throw new RangeError("No node at position "+Oe);if(Se=Se.isInSet(Ze.marks),!Se)return this}return this.step(new D(Oe,Se)),this}split(Oe,Se=1,Ze){return j(this,Oe,Se,Ze),this}addMark(Oe,Se,Ze){return R(this,Oe,Se,Ze),this}removeMark(Oe,Se,Ze){return F(this,Oe,Se,Ze),this}clearIncompatible(Oe,Se,Ze){return N(this,Oe,Se,Ze),this}}},84348:(K,f,e)=>{"use strict";e.d(f,{EH:()=>an,p:()=>lt,tk:()=>Po});var t=e(2376),a=e(87823),i=e(16560);const c=function(de){for(var pe=0;;pe++)if(de=de.previousSibling,!de)return pe},p=function(de){let pe=de.assignedSlot||de.parentNode;return pe&&pe.nodeType==11?pe.host:pe};let l=null;const v=function(de,pe,ve){let Me=l||(l=document.createRange());return Me.setEnd(de,ve==null?de.nodeValue.length:ve),Me.setStart(de,pe||0),Me},_=function(de,pe,ve,Me){return ve&&(E(de,pe,ve,Me,-1)||E(de,pe,ve,Me,1))},g=/^(img|br|input|textarea|hr)$/i;function E(de,pe,ve,Me,rt){for(;;){if(de==ve&&pe==Me)return!0;if(pe==(rt<0?0:S(de))){let dt=de.parentNode;if(!dt||dt.nodeType!=1||A(de)||g.test(de.nodeName)||de.contentEditable=="false")return!1;pe=c(de)+(rt<0?0:1),de=dt}else if(de.nodeType==1){if(de=de.childNodes[pe+(rt<0?-1:0)],de.contentEditable=="false")return!1;pe=rt<0?S(de):0}else return!1}}function S(de){return de.nodeType==3?de.nodeValue.length:de.childNodes.length}function O(de,pe,ve){for(let Me=pe==0,rt=pe==S(de);Me||rt;){if(de==ve)return!0;let dt=c(de);if(de=de.parentNode,!de)return!1;Me=Me&&dt==0,rt=rt&&dt==S(de)}}function A(de){let pe;for(let ve=de;ve&&!(pe=ve.pmViewDesc);ve=ve.parentNode);return pe&&pe.node&&pe.node.isBlock&&(pe.dom==de||pe.contentDOM==de)}const u=function(de){return de.focusNode&&_(de.focusNode,de.focusOffset,de.anchorNode,de.anchorOffset)};function o(de,pe){let ve=document.createEvent("Event");return ve.initEvent("keydown",!0,!0),ve.keyCode=de,ve.key=ve.code=pe,ve}function s(de){let pe=de.activeElement;for(;pe&&pe.shadowRoot;)pe=pe.shadowRoot.activeElement;return pe}const w=typeof navigator!="undefined"?navigator:null,P=typeof document!="undefined"?document:null,C=w&&w.userAgent||"",x=/Edge\/(\d+)/.exec(C),D=/MSIE \d/.exec(C),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(C),M=!!(D||y||x),T=D?document.documentMode:y?+y[1]:x?+x[1]:0,R=!M&&/gecko\/(\d+)/i.test(C);R&&+(/Firefox\/(\d+)/.exec(C)||[0,0])[1];const F=!M&&/Chrome\/(\d+)/.exec(C),N=!!F,U=F?+F[1]:0,V=!M&&!!w&&/Apple Computer/.test(w.vendor),W=V&&(/Mobile\/\w+/.test(C)||!!w&&w.maxTouchPoints>2),L=W||(w?/Mac/.test(w.platform):!1),k=/Android \d/.test(C),H=!!P&&"webkitFontSmoothing"in P.documentElement.style,G=H?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function q(de){return{left:0,right:de.documentElement.clientWidth,top:0,bottom:de.documentElement.clientHeight}}function z(de,pe){return typeof de=="number"?de:de[pe]}function ee(de){let pe=de.getBoundingClientRect(),ve=pe.width/de.offsetWidth||1,Me=pe.height/de.offsetHeight||1;return{left:pe.left,right:pe.left+de.clientWidth*ve,top:pe.top,bottom:pe.top+de.clientHeight*Me}}function $(de,pe,ve){let Me=de.someProp("scrollThreshold")||0,rt=de.someProp("scrollMargin")||5,dt=de.dom.ownerDocument;for(let Tt=ve||de.dom;Tt;Tt=p(Tt)){if(Tt.nodeType!=1)continue;let Ft=Tt,rn=Ft==dt.body,Bn=rn?q(dt):ee(Ft),Jn=0,Lr=0;if(pe.top<Bn.top+z(Me,"top")?Lr=-(Bn.top-pe.top+z(rt,"top")):pe.bottom>Bn.bottom-z(Me,"bottom")&&(Lr=pe.bottom-Bn.bottom+z(rt,"bottom")),pe.left<Bn.left+z(Me,"left")?Jn=-(Bn.left-pe.left+z(rt,"left")):pe.right>Bn.right-z(Me,"right")&&(Jn=pe.right-Bn.right+z(rt,"right")),Jn||Lr)if(rn)dt.defaultView.scrollBy(Jn,Lr);else{let kr=Ft.scrollLeft,Rr=Ft.scrollTop;Lr&&(Ft.scrollTop+=Lr),Jn&&(Ft.scrollLeft+=Jn);let qr=Ft.scrollLeft-kr,xo=Ft.scrollTop-Rr;pe={left:pe.left-qr,top:pe.top-xo,right:pe.right-qr,bottom:pe.bottom-xo}}if(rn)break}}function J(de){let pe=de.dom.getBoundingClientRect(),ve=Math.max(0,pe.top),Me,rt;for(let dt=(pe.left+pe.right)/2,Tt=ve+1;Tt<Math.min(innerHeight,pe.bottom);Tt+=5){let Ft=de.root.elementFromPoint(dt,Tt);if(!Ft||Ft==de.dom||!de.dom.contains(Ft))continue;let rn=Ft.getBoundingClientRect();if(rn.top>=ve-20){Me=Ft,rt=rn.top;break}}return{refDOM:Me,refTop:rt,stack:j(de.dom)}}function j(de){let pe=[],ve=de.ownerDocument;for(let Me=de;Me&&(pe.push({dom:Me,top:Me.scrollTop,left:Me.scrollLeft}),de!=ve);Me=p(Me));return pe}function Z({refDOM:de,refTop:pe,stack:ve}){let Me=de?de.getBoundingClientRect().top:0;ne(ve,Me==0?0:Me-pe)}function ne(de,pe){for(let ve=0;ve<de.length;ve++){let{dom:Me,top:rt,left:dt}=de[ve];Me.scrollTop!=rt+pe&&(Me.scrollTop=rt+pe),Me.scrollLeft!=dt&&(Me.scrollLeft=dt)}}let ie=null;function oe(de){if(de.setActive)return de.setActive();if(ie)return de.focus(ie);let pe=j(de);de.focus(ie==null?{get preventScroll(){return ie={preventScroll:!0},!0}}:void 0),ie||(ie=!1,ne(pe,0))}function re(de,pe){let ve,Me=2e8,rt,dt=0,Tt=pe.top,Ft=pe.top;for(let rn=de.firstChild,Bn=0;rn;rn=rn.nextSibling,Bn++){let Jn;if(rn.nodeType==1)Jn=rn.getClientRects();else if(rn.nodeType==3)Jn=v(rn).getClientRects();else continue;for(let Lr=0;Lr<Jn.length;Lr++){let kr=Jn[Lr];if(kr.top<=Tt&&kr.bottom>=Ft){Tt=Math.max(kr.bottom,Tt),Ft=Math.min(kr.top,Ft);let Rr=kr.left>pe.left?kr.left-pe.left:kr.right<pe.left?pe.left-kr.right:0;if(Rr<Me){ve=rn,Me=Rr,rt=Rr&&ve.nodeType==3?{left:kr.right<pe.left?kr.right:kr.left,top:pe.top}:pe,rn.nodeType==1&&Rr&&(dt=Bn+(pe.left>=(kr.left+kr.right)/2?1:0));continue}}!ve&&(pe.left>=kr.right&&pe.top>=kr.top||pe.left>=kr.left&&pe.top>=kr.bottom)&&(dt=Bn+1)}}return ve&&ve.nodeType==3?ae(ve,rt):!ve||Me&&ve.nodeType==1?{node:de,offset:dt}:re(ve,rt)}function ae(de,pe){let ve=de.nodeValue.length,Me=document.createRange();for(let rt=0;rt<ve;rt++){Me.setEnd(de,rt+1),Me.setStart(de,rt);let dt=Je(Me,1);if(dt.top!=dt.bottom&&se(pe,dt))return{node:de,offset:rt+(pe.left>=(dt.left+dt.right)/2?1:0)}}return{node:de,offset:0}}function se(de,pe){return de.left>=pe.left-1&&de.left<=pe.right+1&&de.top>=pe.top-1&&de.top<=pe.bottom+1}function fe(de,pe){let ve=de.parentNode;return ve&&/^li$/i.test(ve.nodeName)&&pe.left<de.getBoundingClientRect().left?ve:de}function le(de,pe,ve){let{node:Me,offset:rt}=re(pe,ve),dt=-1;if(Me.nodeType==1&&!Me.firstChild){let Tt=Me.getBoundingClientRect();dt=Tt.left!=Tt.right&&ve.left>(Tt.left+Tt.right)/2?1:-1}return de.docView.posFromDOM(Me,rt,dt)}function Ae(de,pe,ve,Me){let rt=-1;for(let dt=pe;dt!=de.dom;){let Tt=de.docView.nearestDesc(dt,!0);if(!Tt)return null;if(Tt.dom.nodeType==1&&(Tt.node.isBlock&&Tt.parent||!Tt.contentDOM)){let Ft=Tt.dom.getBoundingClientRect();if(Tt.node.isBlock&&Tt.parent&&(Ft.left>Me.left||Ft.top>Me.top?rt=Tt.posBefore:(Ft.right<Me.left||Ft.bottom<Me.top)&&(rt=Tt.posAfter)),!Tt.contentDOM&&rt<0)return(Tt.node.isBlock?Me.top<(Ft.top+Ft.bottom)/2:Me.left<(Ft.left+Ft.right)/2)?Tt.posBefore:Tt.posAfter}dt=Tt.dom.parentNode}return rt>-1?rt:de.docView.posFromDOM(pe,ve,-1)}function De(de,pe,ve){let Me=de.childNodes.length;if(Me&&ve.top<ve.bottom)for(let rt=Math.max(0,Math.min(Me-1,Math.floor(Me*(pe.top-ve.top)/(ve.bottom-ve.top))-2)),dt=rt;;){let Tt=de.childNodes[dt];if(Tt.nodeType==1){let Ft=Tt.getClientRects();for(let rn=0;rn<Ft.length;rn++){let Bn=Ft[rn];if(se(pe,Bn))return De(Tt,pe,Bn)}}if((dt=(dt+1)%Me)==rt)break}return de}function je(de,pe){let ve=de.dom.ownerDocument,Me,rt=0;if(ve.caretPositionFromPoint)try{let rn=ve.caretPositionFromPoint(pe.left,pe.top);rn&&({offsetNode:Me,offset:rt}=rn)}catch(rn){}if(!Me&&ve.caretRangeFromPoint){let rn=ve.caretRangeFromPoint(pe.left,pe.top);rn&&({startContainer:Me,startOffset:rt}=rn)}let dt=(de.root.elementFromPoint?de.root:ve).elementFromPoint(pe.left,pe.top),Tt;if(!dt||!de.dom.contains(dt.nodeType!=1?dt.parentNode:dt)){let rn=de.dom.getBoundingClientRect();if(!se(pe,rn)||(dt=De(de.dom,pe,rn),!dt))return null}if(V)for(let rn=dt;Me&&rn;rn=p(rn))rn.draggable&&(Me=void 0);if(dt=fe(dt,pe),Me){if(R&&Me.nodeType==1&&(rt=Math.min(rt,Me.childNodes.length),rt<Me.childNodes.length)){let rn=Me.childNodes[rt],Bn;rn.nodeName=="IMG"&&(Bn=rn.getBoundingClientRect()).right<=pe.left&&Bn.bottom>pe.top&&rt++}Me==de.dom&&rt==Me.childNodes.length-1&&Me.lastChild.nodeType==1&&pe.top>Me.lastChild.getBoundingClientRect().bottom?Tt=de.state.doc.content.size:(rt==0||Me.nodeType!=1||Me.childNodes[rt-1].nodeName!="BR")&&(Tt=Ae(de,Me,rt,pe))}Tt==null&&(Tt=le(de,dt,pe));let Ft=de.docView.nearestDesc(dt,!0);return{pos:Tt,inside:Ft?Ft.posAtStart-Ft.border:-1}}function Je(de,pe){let ve=de.getClientRects();return ve.length?ve[pe<0?0:ve.length-1]:de.getBoundingClientRect()}const Be=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function st(de,pe,ve){let{node:Me,offset:rt,atom:dt}=de.docView.domFromPos(pe,ve<0?-1:1),Tt=H||R;if(Me.nodeType==3)if(Tt&&(Be.test(Me.nodeValue)||(ve<0?!rt:rt==Me.nodeValue.length))){let rn=Je(v(Me,rt,rt),ve);if(R&&rt&&/\s/.test(Me.nodeValue[rt-1])&&rt<Me.nodeValue.length){let Bn=Je(v(Me,rt-1,rt-1),-1);if(Bn.top==rn.top){let Jn=Je(v(Me,rt,rt+1),-1);if(Jn.top!=rn.top)return ht(Jn,Jn.left<Bn.left)}}return rn}else{let rn=rt,Bn=rt,Jn=ve<0?1:-1;return ve<0&&!rt?(Bn++,Jn=-1):ve>=0&&rt==Me.nodeValue.length?(rn--,Jn=1):ve<0?rn--:Bn++,ht(Je(v(Me,rn,Bn),1),Jn<0)}if(!de.state.doc.resolve(pe-(dt||0)).parent.inlineContent){if(dt==null&&rt&&(ve<0||rt==S(Me))){let rn=Me.childNodes[rt-1];if(rn.nodeType==1)return gt(rn.getBoundingClientRect(),!1)}if(dt==null&&rt<S(Me)){let rn=Me.childNodes[rt];if(rn.nodeType==1)return gt(rn.getBoundingClientRect(),!0)}return gt(Me.getBoundingClientRect(),ve>=0)}if(dt==null&&rt&&(ve<0||rt==S(Me))){let rn=Me.childNodes[rt-1],Bn=rn.nodeType==3?v(rn,S(rn)-(Tt?0:1)):rn.nodeType==1&&(rn.nodeName!="BR"||!rn.nextSibling)?rn:null;if(Bn)return ht(Je(Bn,1),!1)}if(dt==null&&rt<S(Me)){let rn=Me.childNodes[rt];for(;rn.pmViewDesc&&rn.pmViewDesc.ignoreForCoords;)rn=rn.nextSibling;let Bn=rn?rn.nodeType==3?v(rn,0,Tt?0:1):rn.nodeType==1?rn:null:null;if(Bn)return ht(Je(Bn,-1),!0)}return ht(Je(Me.nodeType==3?v(Me):Me,-ve),ve>=0)}function ht(de,pe){if(de.width==0)return de;let ve=pe?de.left:de.right;return{top:de.top,bottom:de.bottom,left:ve,right:ve}}function gt(de,pe){if(de.height==0)return de;let ve=pe?de.top:de.bottom;return{top:ve,bottom:ve,left:de.left,right:de.right}}function Xe(de,pe,ve){let Me=de.state,rt=de.root.activeElement;Me!=pe&&de.updateState(pe),rt!=de.dom&&de.focus();try{return ve()}finally{Me!=pe&&de.updateState(Me),rt!=de.dom&&rt&&rt.focus()}}function Re(de,pe,ve){let Me=pe.selection,rt=ve=="up"?Me.$from:Me.$to;return Xe(de,pe,()=>{let{node:dt}=de.docView.domFromPos(rt.pos,ve=="up"?-1:1);for(;;){let Ft=de.docView.nearestDesc(dt,!0);if(!Ft)break;if(Ft.node.isBlock){dt=Ft.contentDOM||Ft.dom;break}dt=Ft.dom.parentNode}let Tt=st(de,rt.pos,1);for(let Ft=dt.firstChild;Ft;Ft=Ft.nextSibling){let rn;if(Ft.nodeType==1)rn=Ft.getClientRects();else if(Ft.nodeType==3)rn=v(Ft,0,Ft.nodeValue.length).getClientRects();else continue;for(let Bn=0;Bn<rn.length;Bn++){let Jn=rn[Bn];if(Jn.bottom>Jn.top+1&&(ve=="up"?Tt.top-Jn.top>(Jn.bottom-Tt.top)*2:Jn.bottom-Tt.bottom>(Tt.bottom-Jn.top)*2))return!1}}return!0})}const Ne=/[\u0590-\u08ac]/;function ke(de,pe,ve){let{$head:Me}=pe.selection;if(!Me.parent.isTextblock)return!1;let rt=Me.parentOffset,dt=!rt,Tt=rt==Me.parent.content.size,Ft=de.domSelection();return!Ne.test(Me.parent.textContent)||!Ft.modify?ve=="left"||ve=="backward"?dt:Tt:Xe(de,pe,()=>{let{focusNode:rn,focusOffset:Bn,anchorNode:Jn,anchorOffset:Lr}=de.domSelectionRange(),kr=Ft.caretBidiLevel;Ft.modify("move",ve,"character");let Rr=Me.depth?de.docView.domAfterPos(Me.before()):de.dom,{focusNode:qr,focusOffset:xo}=de.domSelectionRange(),fo=qr&&!Rr.contains(qr.nodeType==1?qr:qr.parentNode)||rn==qr&&Bn==xo;try{Ft.collapse(Jn,Lr),rn&&(rn!=Jn||Bn!=Lr)&&Ft.extend&&Ft.extend(rn,Bn)}catch(He){}return kr!=null&&(Ft.caretBidiLevel=kr),fo})}let ot=null,Dt=null,ln=!1;function ct(de,pe,ve){return ot==pe&&Dt==ve?ln:(ot=pe,Dt=ve,ln=ve=="up"||ve=="down"?Re(de,pe,ve):ke(de,pe,ve))}const Oe=0,Se=1,Ze=2,Fe=3;class Ke{constructor(pe,ve,Me,rt){this.parent=pe,this.children=ve,this.dom=Me,this.contentDOM=rt,this.dirty=Oe,Me.pmViewDesc=this}matchesWidget(pe){return!1}matchesMark(pe){return!1}matchesNode(pe,ve,Me){return!1}matchesHack(pe){return!1}parseRule(){return null}stopEvent(pe){return!1}get size(){let pe=0;for(let ve=0;ve<this.children.length;ve++)pe+=this.children[ve].size;return pe}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let pe=0;pe<this.children.length;pe++)this.children[pe].destroy()}posBeforeChild(pe){for(let ve=0,Me=this.posAtStart;;ve++){let rt=this.children[ve];if(rt==pe)return Me;Me+=rt.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(pe,ve,Me){if(this.contentDOM&&this.contentDOM.contains(pe.nodeType==1?pe:pe.parentNode))if(Me<0){let dt,Tt;if(pe==this.contentDOM)dt=pe.childNodes[ve-1];else{for(;pe.parentNode!=this.contentDOM;)pe=pe.parentNode;dt=pe.previousSibling}for(;dt&&!((Tt=dt.pmViewDesc)&&Tt.parent==this);)dt=dt.previousSibling;return dt?this.posBeforeChild(Tt)+Tt.size:this.posAtStart}else{let dt,Tt;if(pe==this.contentDOM)dt=pe.childNodes[ve];else{for(;pe.parentNode!=this.contentDOM;)pe=pe.parentNode;dt=pe.nextSibling}for(;dt&&!((Tt=dt.pmViewDesc)&&Tt.parent==this);)dt=dt.nextSibling;return dt?this.posBeforeChild(Tt):this.posAtEnd}let rt;if(pe==this.dom&&this.contentDOM)rt=ve>c(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))rt=pe.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(ve==0)for(let dt=pe;;dt=dt.parentNode){if(dt==this.dom){rt=!1;break}if(dt.previousSibling)break}if(rt==null&&ve==pe.childNodes.length)for(let dt=pe;;dt=dt.parentNode){if(dt==this.dom){rt=!0;break}if(dt.nextSibling)break}}return(rt==null?Me>0:rt)?this.posAtEnd:this.posAtStart}nearestDesc(pe,ve=!1){for(let Me=!0,rt=pe;rt;rt=rt.parentNode){let dt=this.getDesc(rt),Tt;if(dt&&(!ve||dt.node))if(Me&&(Tt=dt.nodeDOM)&&!(Tt.nodeType==1?Tt.contains(pe.nodeType==1?pe:pe.parentNode):Tt==pe))Me=!1;else return dt}}getDesc(pe){let ve=pe.pmViewDesc;for(let Me=ve;Me;Me=Me.parent)if(Me==this)return ve}posFromDOM(pe,ve,Me){for(let rt=pe;rt;rt=rt.parentNode){let dt=this.getDesc(rt);if(dt)return dt.localPosFromDOM(pe,ve,Me)}return-1}descAt(pe){for(let ve=0,Me=0;ve<this.children.length;ve++){let rt=this.children[ve],dt=Me+rt.size;if(Me==pe&&dt!=Me){for(;!rt.border&&rt.children.length;)rt=rt.children[0];return rt}if(pe<dt)return rt.descAt(pe-Me-rt.border);Me=dt}}domFromPos(pe,ve){if(!this.contentDOM)return{node:this.dom,offset:0,atom:pe+1};let Me=0,rt=0;for(let dt=0;Me<this.children.length;Me++){let Tt=this.children[Me],Ft=dt+Tt.size;if(Ft>pe||Tt instanceof we){rt=pe-dt;break}dt=Ft}if(rt)return this.children[Me].domFromPos(rt-this.children[Me].border,ve);for(let dt;Me&&!(dt=this.children[Me-1]).size&&dt instanceof et&&dt.side>=0;Me--);if(ve<=0){let dt,Tt=!0;for(;dt=Me?this.children[Me-1]:null,!(!dt||dt.dom.parentNode==this.contentDOM);Me--,Tt=!1);return dt&&ve&&Tt&&!dt.border&&!dt.domAtom?dt.domFromPos(dt.size,ve):{node:this.contentDOM,offset:dt?c(dt.dom)+1:0}}else{let dt,Tt=!0;for(;dt=Me<this.children.length?this.children[Me]:null,!(!dt||dt.dom.parentNode==this.contentDOM);Me++,Tt=!1);return dt&&Tt&&!dt.border&&!dt.domAtom?dt.domFromPos(0,ve):{node:this.contentDOM,offset:dt?c(dt.dom):this.contentDOM.childNodes.length}}}parseRange(pe,ve,Me=0){if(this.children.length==0)return{node:this.contentDOM,from:pe,to:ve,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let rt=-1,dt=-1;for(let Tt=Me,Ft=0;;Ft++){let rn=this.children[Ft],Bn=Tt+rn.size;if(rt==-1&&pe<=Bn){let Jn=Tt+rn.border;if(pe>=Jn&&ve<=Bn-rn.border&&rn.node&&rn.contentDOM&&this.contentDOM.contains(rn.contentDOM))return rn.parseRange(pe,ve,Jn);pe=Tt;for(let Lr=Ft;Lr>0;Lr--){let kr=this.children[Lr-1];if(kr.size&&kr.dom.parentNode==this.contentDOM&&!kr.emptyChildAt(1)){rt=c(kr.dom)+1;break}pe-=kr.size}rt==-1&&(rt=0)}if(rt>-1&&(Bn>ve||Ft==this.children.length-1)){ve=Bn;for(let Jn=Ft+1;Jn<this.children.length;Jn++){let Lr=this.children[Jn];if(Lr.size&&Lr.dom.parentNode==this.contentDOM&&!Lr.emptyChildAt(-1)){dt=c(Lr.dom);break}ve+=Lr.size}dt==-1&&(dt=this.contentDOM.childNodes.length);break}Tt=Bn}return{node:this.contentDOM,from:pe,to:ve,fromOffset:rt,toOffset:dt}}emptyChildAt(pe){if(this.border||!this.contentDOM||!this.children.length)return!1;let ve=this.children[pe<0?0:this.children.length-1];return ve.size==0||ve.emptyChildAt(pe)}domAfterPos(pe){let{node:ve,offset:Me}=this.domFromPos(pe,0);if(ve.nodeType!=1||Me==ve.childNodes.length)throw new RangeError("No node after pos "+pe);return ve.childNodes[Me]}setSelection(pe,ve,Me,rt=!1){let dt=Math.min(pe,ve),Tt=Math.max(pe,ve);for(let kr=0,Rr=0;kr<this.children.length;kr++){let qr=this.children[kr],xo=Rr+qr.size;if(dt>Rr&&Tt<xo)return qr.setSelection(pe-Rr-qr.border,ve-Rr-qr.border,Me,rt);Rr=xo}let Ft=this.domFromPos(pe,pe?-1:1),rn=ve==pe?Ft:this.domFromPos(ve,ve?-1:1),Bn=Me.getSelection(),Jn=!1;if((R||V)&&pe==ve){let{node:kr,offset:Rr}=Ft;if(kr.nodeType==3){if(Jn=!!(Rr&&kr.nodeValue[Rr-1]==`
`),Jn&&Rr==kr.nodeValue.length)for(let qr=kr,xo;qr;qr=qr.parentNode){if(xo=qr.nextSibling){xo.nodeName=="BR"&&(Ft=rn={node:xo.parentNode,offset:c(xo)+1});break}let fo=qr.pmViewDesc;if(fo&&fo.node&&fo.node.isBlock)break}}else{let qr=kr.childNodes[Rr-1];Jn=qr&&(qr.nodeName=="BR"||qr.contentEditable=="false")}}if(R&&Bn.focusNode&&Bn.focusNode!=rn.node&&Bn.focusNode.nodeType==1){let kr=Bn.focusNode.childNodes[Bn.focusOffset];kr&&kr.contentEditable=="false"&&(rt=!0)}if(!(rt||Jn&&V)&&_(Ft.node,Ft.offset,Bn.anchorNode,Bn.anchorOffset)&&_(rn.node,rn.offset,Bn.focusNode,Bn.focusOffset))return;let Lr=!1;if((Bn.extend||pe==ve)&&!Jn){Bn.collapse(Ft.node,Ft.offset);try{pe!=ve&&Bn.extend(rn.node,rn.offset),Lr=!0}catch(kr){}}if(!Lr){if(pe>ve){let Rr=Ft;Ft=rn,rn=Rr}let kr=document.createRange();kr.setEnd(rn.node,rn.offset),kr.setStart(Ft.node,Ft.offset),Bn.removeAllRanges(),Bn.addRange(kr)}}ignoreMutation(pe){return!this.contentDOM&&pe.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(pe,ve){for(let Me=0,rt=0;rt<this.children.length;rt++){let dt=this.children[rt],Tt=Me+dt.size;if(Me==Tt?pe<=Tt&&ve>=Me:pe<Tt&&ve>Me){let Ft=Me+dt.border,rn=Tt-dt.border;if(pe>=Ft&&ve<=rn){this.dirty=pe==Me||ve==Tt?Ze:Se,pe==Ft&&ve==rn&&(dt.contentLost||dt.dom.parentNode!=this.contentDOM)?dt.dirty=Fe:dt.markDirty(pe-Ft,ve-Ft);return}else dt.dirty=dt.dom==dt.contentDOM&&dt.dom.parentNode==this.contentDOM&&!dt.children.length?Ze:Fe}Me=Tt}this.dirty=Ze}markParentsDirty(){let pe=1;for(let ve=this.parent;ve;ve=ve.parent,pe++){let Me=pe==1?Ze:Se;ve.dirty<Me&&(ve.dirty=Me)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class et extends Ke{constructor(pe,ve,Me,rt){let dt,Tt=ve.type.toDOM;if(typeof Tt=="function"&&(Tt=Tt(Me,()=>{if(!dt)return rt;if(dt.parent)return dt.parent.posBeforeChild(dt)})),!ve.type.spec.raw){if(Tt.nodeType!=1){let Ft=document.createElement("span");Ft.appendChild(Tt),Tt=Ft}Tt.contentEditable="false",Tt.classList.add("ProseMirror-widget")}super(pe,[],Tt,null),this.widget=ve,this.widget=ve,dt=this}matchesWidget(pe){return this.dirty==Oe&&pe.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(pe){let ve=this.widget.spec.stopEvent;return ve?ve(pe):!1}ignoreMutation(pe){return pe.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Qe extends Ke{constructor(pe,ve,Me,rt){super(pe,[],ve,null),this.textDOM=Me,this.text=rt}get size(){return this.text.length}localPosFromDOM(pe,ve){return pe!=this.textDOM?this.posAtStart+(ve?this.size:0):this.posAtStart+ve}domFromPos(pe){return{node:this.textDOM,offset:pe}}ignoreMutation(pe){return pe.type==="characterData"&&pe.target.nodeValue==pe.oldValue}}class $e extends Ke{constructor(pe,ve,Me,rt){super(pe,[],Me,rt),this.mark=ve}static create(pe,ve,Me,rt){let dt=rt.nodeViews[ve.type.name],Tt=dt&&dt(ve,rt,Me);return(!Tt||!Tt.dom)&&(Tt=a.PW.renderSpec(document,ve.type.spec.toDOM(ve,Me))),new $e(pe,ve,Tt.dom,Tt.contentDOM||Tt.dom)}parseRule(){return this.dirty&Fe||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(pe){return this.dirty!=Fe&&this.mark.eq(pe)}markDirty(pe,ve){if(super.markDirty(pe,ve),this.dirty!=Oe){let Me=this.parent;for(;!Me.node;)Me=Me.parent;Me.dirty<this.dirty&&(Me.dirty=this.dirty),this.dirty=Oe}}slice(pe,ve,Me){let rt=$e.create(this.parent,this.mark,!0,Me),dt=this.children,Tt=this.size;ve<Tt&&(dt=ir(dt,ve,Tt,Me)),pe>0&&(dt=ir(dt,0,pe,Me));for(let Ft=0;Ft<dt.length;Ft++)dt[Ft].parent=rt;return rt.children=dt,rt}}class Te extends Ke{constructor(pe,ve,Me,rt,dt,Tt,Ft,rn,Bn){super(pe,[],dt,Tt),this.node=ve,this.outerDeco=Me,this.innerDeco=rt,this.nodeDOM=Ft,Tt&&this.updateChildren(rn,Bn)}static create(pe,ve,Me,rt,dt,Tt){let Ft=dt.nodeViews[ve.type.name],rn,Bn=Ft&&Ft(ve,dt,()=>{if(!rn)return Tt;if(rn.parent)return rn.parent.posBeforeChild(rn)},Me,rt),Jn=Bn&&Bn.dom,Lr=Bn&&Bn.contentDOM;if(ve.isText){if(!Jn)Jn=document.createTextNode(ve.text);else if(Jn.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else Jn||({dom:Jn,contentDOM:Lr}=a.PW.renderSpec(document,ve.type.spec.toDOM(ve)));!Lr&&!ve.isText&&Jn.nodeName!="BR"&&(Jn.hasAttribute("contenteditable")||(Jn.contentEditable="false"),ve.type.spec.draggable&&(Jn.draggable=!0));let kr=Jn;return Jn=ze(Jn,Me,ve),Bn?rn=new me(pe,ve,Me,rt,Jn,Lr||null,kr,Bn,dt,Tt+1):ve.isText?new ue(pe,ve,Me,rt,Jn,kr,dt):new Te(pe,ve,Me,rt,Jn,Lr||null,kr,dt,Tt+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let pe={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(pe.preserveWhitespace="full"),!this.contentDOM)pe.getContent=()=>this.node.content;else if(!this.contentLost)pe.contentElement=this.contentDOM;else{for(let ve=this.children.length-1;ve>=0;ve--){let Me=this.children[ve];if(this.dom.contains(Me.dom.parentNode)){pe.contentElement=Me.dom.parentNode;break}}pe.contentElement||(pe.getContent=()=>a.HY.empty)}return pe}matchesNode(pe,ve,Me){return this.dirty==Oe&&pe.eq(this.node)&&tt(ve,this.outerDeco)&&Me.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(pe,ve){let Me=this.node.inlineContent,rt=ve,dt=pe.composing?this.localCompositionInfo(pe,ve):null,Tt=dt&&dt.pos>-1?dt:null,Ft=dt&&dt.pos<0,rn=new It(this,Tt&&Tt.node,pe);$t(this.node,this.innerDeco,(Bn,Jn,Lr)=>{Bn.spec.marks?rn.syncToMarks(Bn.spec.marks,Me,pe):Bn.type.side>=0&&!Lr&&rn.syncToMarks(Jn==this.node.childCount?a.vc.none:this.node.child(Jn).marks,Me,pe),rn.placeWidget(Bn,pe,rt)},(Bn,Jn,Lr,kr)=>{rn.syncToMarks(Bn.marks,Me,pe);let Rr;rn.findNodeMatch(Bn,Jn,Lr,kr)||Ft&&pe.state.selection.from>rt&&pe.state.selection.to<rt+Bn.nodeSize&&(Rr=rn.findIndexWithChild(dt.node))>-1&&rn.updateNodeAt(Bn,Jn,Lr,Rr,pe)||rn.updateNextNode(Bn,Jn,Lr,pe,kr)||rn.addNode(Bn,Jn,Lr,pe,rt),rt+=Bn.nodeSize}),rn.syncToMarks([],Me,pe),this.node.isTextblock&&rn.addTextblockHacks(),rn.destroyRest(),(rn.changed||this.dirty==Ze)&&(Tt&&this.protectLocalComposition(pe,Tt),Ee(this.contentDOM,this.children,pe),W&&Bt(this.dom))}localCompositionInfo(pe,ve){let{from:Me,to:rt}=pe.state.selection;if(!(pe.state.selection instanceof t.Bs)||Me<ve||rt>ve+this.node.content.size)return null;let dt=pe.domSelectionRange(),Tt=xn(dt.focusNode,dt.focusOffset);if(!Tt||!this.dom.contains(Tt.parentNode))return null;if(this.node.inlineContent){let Ft=Tt.nodeValue,rn=Hn(this.node.content,Ft,Me-ve,rt-ve);return rn<0?null:{node:Tt,pos:rn,text:Ft}}else return{node:Tt,pos:-1,text:""}}protectLocalComposition(pe,{node:ve,pos:Me,text:rt}){if(this.getDesc(ve))return;let dt=ve;for(;dt.parentNode!=this.contentDOM;dt=dt.parentNode){for(;dt.previousSibling;)dt.parentNode.removeChild(dt.previousSibling);for(;dt.nextSibling;)dt.parentNode.removeChild(dt.nextSibling);dt.pmViewDesc&&(dt.pmViewDesc=void 0)}let Tt=new Qe(this,dt,ve,rt);pe.input.compositionNodes.push(Tt),this.children=ir(this.children,Me,Me+rt.length,pe,Tt)}update(pe,ve,Me,rt){return this.dirty==Fe||!pe.sameMarkup(this.node)?!1:(this.updateInner(pe,ve,Me,rt),!0)}updateInner(pe,ve,Me,rt){this.updateOuterDeco(ve),this.node=pe,this.innerDeco=Me,this.contentDOM&&this.updateChildren(rt,this.posAtStart),this.dirty=Oe}updateOuterDeco(pe){if(tt(pe,this.outerDeco))return;let ve=this.nodeDOM.nodeType!=1,Me=this.dom;this.dom=Pe(this.dom,this.nodeDOM,Ve(this.outerDeco,this.node,ve),Ve(pe,this.node,ve)),this.dom!=Me&&(Me.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=pe}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function te(de,pe,ve,Me,rt){return ze(Me,pe,de),new Te(void 0,de,pe,ve,Me,Me,Me,rt,0)}class ue extends Te{constructor(pe,ve,Me,rt,dt,Tt,Ft){super(pe,ve,Me,rt,dt,null,Tt,Ft,0)}parseRule(){let pe=this.nodeDOM.parentNode;for(;pe&&pe!=this.dom&&!pe.pmIsDeco;)pe=pe.parentNode;return{skip:pe||!0}}update(pe,ve,Me,rt){return this.dirty==Fe||this.dirty!=Oe&&!this.inParent()||!pe.sameMarkup(this.node)?!1:(this.updateOuterDeco(ve),(this.dirty!=Oe||pe.text!=this.node.text)&&pe.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=pe.text,rt.trackWrites==this.nodeDOM&&(rt.trackWrites=null)),this.node=pe,this.dirty=Oe,!0)}inParent(){let pe=this.parent.contentDOM;for(let ve=this.nodeDOM;ve;ve=ve.parentNode)if(ve==pe)return!0;return!1}domFromPos(pe){return{node:this.nodeDOM,offset:pe}}localPosFromDOM(pe,ve,Me){return pe==this.nodeDOM?this.posAtStart+Math.min(ve,this.node.text.length):super.localPosFromDOM(pe,ve,Me)}ignoreMutation(pe){return pe.type!="characterData"&&pe.type!="selection"}slice(pe,ve,Me){let rt=this.node.cut(pe,ve),dt=document.createTextNode(rt.text);return new ue(this.parent,rt,this.outerDeco,this.innerDeco,dt,dt,Me)}markDirty(pe,ve){super.markDirty(pe,ve),this.dom!=this.nodeDOM&&(pe==0||ve==this.nodeDOM.nodeValue.length)&&(this.dirty=Fe)}get domAtom(){return!1}}class we extends Ke{parseRule(){return{ignore:!0}}matchesHack(pe){return this.dirty==Oe&&this.dom.nodeName==pe}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class me extends Te{constructor(pe,ve,Me,rt,dt,Tt,Ft,rn,Bn,Jn){super(pe,ve,Me,rt,dt,Tt,Ft,Bn,Jn),this.spec=rn}update(pe,ve,Me,rt){if(this.dirty==Fe)return!1;if(this.spec.update){let dt=this.spec.update(pe,ve,Me);return dt&&this.updateInner(pe,ve,Me,rt),dt}else return!this.contentDOM&&!pe.isLeaf?!1:super.update(pe,ve,Me,rt)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(pe,ve,Me,rt){this.spec.setSelection?this.spec.setSelection(pe,ve,Me):super.setSelection(pe,ve,Me,rt)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(pe){return this.spec.stopEvent?this.spec.stopEvent(pe):!1}ignoreMutation(pe){return this.spec.ignoreMutation?this.spec.ignoreMutation(pe):super.ignoreMutation(pe)}}function Ee(de,pe,ve){let Me=de.firstChild,rt=!1;for(let dt=0;dt<pe.length;dt++){let Tt=pe[dt],Ft=Tt.dom;if(Ft.parentNode==de){for(;Ft!=Me;)Me=Le(Me),rt=!0;Me=Me.nextSibling}else rt=!0,de.insertBefore(Ft,Me);if(Tt instanceof $e){let rn=Me?Me.previousSibling:de.lastChild;Ee(Tt.contentDOM,Tt.children,ve),Me=rn?rn.nextSibling:de.firstChild}}for(;Me;)Me=Le(Me),rt=!0;rt&&ve.trackWrites==de&&(ve.trackWrites=null)}const he=function(de){de&&(this.nodeName=de)};he.prototype=Object.create(null);const xe=[new he];function Ve(de,pe,ve){if(de.length==0)return xe;let Me=ve?xe[0]:new he,rt=[Me];for(let dt=0;dt<de.length;dt++){let Tt=de[dt].type.attrs;if(Tt){Tt.nodeName&&rt.push(Me=new he(Tt.nodeName));for(let Ft in Tt){let rn=Tt[Ft];rn!=null&&(ve&&rt.length==1&&rt.push(Me=new he(pe.isInline?"span":"div")),Ft=="class"?Me.class=(Me.class?Me.class+" ":"")+rn:Ft=="style"?Me.style=(Me.style?Me.style+";":"")+rn:Ft!="nodeName"&&(Me[Ft]=rn))}}}return rt}function Pe(de,pe,ve,Me){if(ve==xe&&Me==xe)return pe;let rt=pe;for(let dt=0;dt<Me.length;dt++){let Tt=Me[dt],Ft=ve[dt];if(dt){let rn;Ft&&Ft.nodeName==Tt.nodeName&&rt!=de&&(rn=rt.parentNode)&&rn.nodeName.toLowerCase()==Tt.nodeName||(rn=document.createElement(Tt.nodeName),rn.pmIsDeco=!0,rn.appendChild(rt),Ft=xe[0]),rt=rn}Ie(rt,Ft||xe[0],Tt)}return rt}function Ie(de,pe,ve){for(let Me in pe)Me!="class"&&Me!="style"&&Me!="nodeName"&&!(Me in ve)&&de.removeAttribute(Me);for(let Me in ve)Me!="class"&&Me!="style"&&Me!="nodeName"&&ve[Me]!=pe[Me]&&de.setAttribute(Me,ve[Me]);if(pe.class!=ve.class){let Me=pe.class?pe.class.split(" ").filter(Boolean):[],rt=ve.class?ve.class.split(" ").filter(Boolean):[];for(let dt=0;dt<Me.length;dt++)rt.indexOf(Me[dt])==-1&&de.classList.remove(Me[dt]);for(let dt=0;dt<rt.length;dt++)Me.indexOf(rt[dt])==-1&&de.classList.add(rt[dt]);de.classList.length==0&&de.removeAttribute("class")}if(pe.style!=ve.style){if(pe.style){let Me=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,rt;for(;rt=Me.exec(pe.style);)de.style.removeProperty(rt[1])}ve.style&&(de.style.cssText+=ve.style)}}function ze(de,pe,ve){return Pe(de,de,xe,Ve(pe,ve,de.nodeType!=1))}function tt(de,pe){if(de.length!=pe.length)return!1;for(let ve=0;ve<de.length;ve++)if(!de[ve].type.eq(pe[ve].type))return!1;return!0}function Le(de){let pe=de.nextSibling;return de.parentNode.removeChild(de),pe}class It{constructor(pe,ve,Me){this.lock=ve,this.view=Me,this.index=0,this.stack=[],this.changed=!1,this.top=pe,this.preMatch=on(pe.node.content,pe)}destroyBetween(pe,ve){if(pe!=ve){for(let Me=pe;Me<ve;Me++)this.top.children[Me].destroy();this.top.children.splice(pe,ve-pe),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(pe,ve,Me){let rt=0,dt=this.stack.length>>1,Tt=Math.min(dt,pe.length);for(;rt<Tt&&(rt==dt-1?this.top:this.stack[rt+1<<1]).matchesMark(pe[rt])&&pe[rt].type.spec.spanning!==!1;)rt++;for(;rt<dt;)this.destroyRest(),this.top.dirty=Oe,this.index=this.stack.pop(),this.top=this.stack.pop(),dt--;for(;dt<pe.length;){this.stack.push(this.top,this.index+1);let Ft=-1;for(let rn=this.index;rn<Math.min(this.index+3,this.top.children.length);rn++){let Bn=this.top.children[rn];if(Bn.matchesMark(pe[dt])&&!this.isLocked(Bn.dom)){Ft=rn;break}}if(Ft>-1)Ft>this.index&&(this.changed=!0,this.destroyBetween(this.index,Ft)),this.top=this.top.children[this.index];else{let rn=$e.create(this.top,pe[dt],ve,Me);this.top.children.splice(this.index,0,rn),this.top=rn,this.changed=!0}this.index=0,dt++}}findNodeMatch(pe,ve,Me,rt){let dt=-1,Tt;if(rt>=this.preMatch.index&&(Tt=this.preMatch.matches[rt-this.preMatch.index]).parent==this.top&&Tt.matchesNode(pe,ve,Me))dt=this.top.children.indexOf(Tt,this.index);else for(let Ft=this.index,rn=Math.min(this.top.children.length,Ft+5);Ft<rn;Ft++){let Bn=this.top.children[Ft];if(Bn.matchesNode(pe,ve,Me)&&!this.preMatch.matched.has(Bn)){dt=Ft;break}}return dt<0?!1:(this.destroyBetween(this.index,dt),this.index++,!0)}updateNodeAt(pe,ve,Me,rt,dt){let Tt=this.top.children[rt];return Tt.dirty==Fe&&Tt.dom==Tt.contentDOM&&(Tt.dirty=Ze),Tt.update(pe,ve,Me,dt)?(this.destroyBetween(this.index,rt),this.index++,!0):!1}findIndexWithChild(pe){for(;;){let ve=pe.parentNode;if(!ve)return-1;if(ve==this.top.contentDOM){let Me=pe.pmViewDesc;if(Me){for(let rt=this.index;rt<this.top.children.length;rt++)if(this.top.children[rt]==Me)return rt}return-1}pe=ve}}updateNextNode(pe,ve,Me,rt,dt){for(let Tt=this.index;Tt<this.top.children.length;Tt++){let Ft=this.top.children[Tt];if(Ft instanceof Te){let rn=this.preMatch.matched.get(Ft);if(rn!=null&&rn!=dt)return!1;let Bn=Ft.dom;if(!(this.isLocked(Bn)&&!(pe.isText&&Ft.node&&Ft.node.isText&&Ft.nodeDOM.nodeValue==pe.text&&Ft.dirty!=Fe&&tt(ve,Ft.outerDeco)))&&Ft.update(pe,ve,Me,rt))return this.destroyBetween(this.index,Tt),Ft.dom!=Bn&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(pe,ve,Me,rt,dt){this.top.children.splice(this.index++,0,Te.create(this.top,pe,ve,Me,rt,dt)),this.changed=!0}placeWidget(pe,ve,Me){let rt=this.index<this.top.children.length?this.top.children[this.index]:null;if(rt&&rt.matchesWidget(pe)&&(pe==rt.widget||!rt.widget.type.toDOM.parentNode))this.index++;else{let dt=new et(this.top,pe,ve,Me);this.top.children.splice(this.index++,0,dt),this.changed=!0}}addTextblockHacks(){let pe=this.top.children[this.index-1],ve=this.top;for(;pe instanceof $e;)ve=pe,pe=ve.children[ve.children.length-1];(!pe||!(pe instanceof ue)||/\n$/.test(pe.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(pe.node.text))&&((V||N)&&pe&&pe.dom.contentEditable=="false"&&this.addHackNode("IMG",ve),this.addHackNode("BR",this.top))}addHackNode(pe,ve){if(ve==this.top&&this.index<ve.children.length&&ve.children[this.index].matchesHack(pe))this.index++;else{let Me=document.createElement(pe);pe=="IMG"&&(Me.className="ProseMirror-separator",Me.alt=""),pe=="BR"&&(Me.className="ProseMirror-trailingBreak");let rt=new we(this.top,[],Me,null);ve!=this.top?ve.children.push(rt):ve.children.splice(this.index++,0,rt),this.changed=!0}}isLocked(pe){return this.lock&&(pe==this.lock||pe.nodeType==1&&pe.contains(this.lock.parentNode))}}function on(de,pe){let ve=pe,Me=ve.children.length,rt=de.childCount,dt=new Map,Tt=[];e:for(;rt>0;){let Ft;for(;;)if(Me){let Bn=ve.children[Me-1];if(Bn instanceof $e)ve=Bn,Me=Bn.children.length;else{Ft=Bn,Me--;break}}else{if(ve==pe)break e;Me=ve.parent.children.indexOf(ve),ve=ve.parent}let rn=Ft.node;if(rn){if(rn!=de.child(rt-1))break;--rt,dt.set(Ft,rt),Tt.push(Ft)}}return{index:rt,matched:dt,matches:Tt.reverse()}}function zt(de,pe){return de.type.side-pe.type.side}function $t(de,pe,ve,Me){let rt=pe.locals(de),dt=0;if(rt.length==0){for(let Bn=0;Bn<de.childCount;Bn++){let Jn=de.child(Bn);Me(Jn,rt,pe.forChild(dt,Jn),Bn),dt+=Jn.nodeSize}return}let Tt=0,Ft=[],rn=null;for(let Bn=0;;){if(Tt<rt.length&&rt[Tt].to==dt){let qr=rt[Tt++],xo;for(;Tt<rt.length&&rt[Tt].to==dt;)(xo||(xo=[qr])).push(rt[Tt++]);if(xo){xo.sort(zt);for(let fo=0;fo<xo.length;fo++)ve(xo[fo],Bn,!!rn)}else ve(qr,Bn,!!rn)}let Jn,Lr;if(rn)Lr=-1,Jn=rn,rn=null;else if(Bn<de.childCount)Lr=Bn,Jn=de.child(Bn++);else break;for(let qr=0;qr<Ft.length;qr++)Ft[qr].to<=dt&&Ft.splice(qr--,1);for(;Tt<rt.length&&rt[Tt].from<=dt&&rt[Tt].to>dt;)Ft.push(rt[Tt++]);let kr=dt+Jn.nodeSize;if(Jn.isText){let qr=kr;Tt<rt.length&&rt[Tt].from<qr&&(qr=rt[Tt].from);for(let xo=0;xo<Ft.length;xo++)Ft[xo].to<qr&&(qr=Ft[xo].to);qr<kr&&(rn=Jn.cut(qr-dt),Jn=Jn.cut(0,qr-dt),kr=qr,Lr=-1)}let Rr=Jn.isInline&&!Jn.isLeaf?Ft.filter(qr=>!qr.inline):Ft.slice();Me(Jn,Rr,pe.forChild(dt,Jn),Lr),dt=kr}}function Bt(de){if(de.nodeName=="UL"||de.nodeName=="OL"){let pe=de.style.cssText;de.style.cssText=pe+"; list-style: square !important",window.getComputedStyle(de).listStyle,de.style.cssText=pe}}function xn(de,pe){for(;;){if(de.nodeType==3)return de;if(de.nodeType==1&&pe>0){if(de.childNodes.length>pe&&de.childNodes[pe].nodeType==3)return de.childNodes[pe];de=de.childNodes[pe-1],pe=S(de)}else if(de.nodeType==1&&pe<de.childNodes.length)de=de.childNodes[pe],pe=0;else return null}}function Hn(de,pe,ve,Me){for(let rt=0,dt=0;rt<de.childCount&&dt<=Me;){let Tt=de.child(rt++),Ft=dt;if(dt+=Tt.nodeSize,!Tt.isText)continue;let rn=Tt.text;for(;rt<de.childCount;){let Bn=de.child(rt++);if(dt+=Bn.nodeSize,!Bn.isText)break;rn+=Bn.text}if(dt>=ve){let Bn=Ft<Me?rn.lastIndexOf(pe,Me-Ft-1):-1;if(Bn>=0&&Bn+pe.length+Ft>=ve)return Ft+Bn;if(ve==Me&&rn.length>=Me+pe.length-Ft&&rn.slice(Me-Ft,Me-Ft+pe.length)==pe)return Me}}return-1}function ir(de,pe,ve,Me,rt){let dt=[];for(let Tt=0,Ft=0;Tt<de.length;Tt++){let rn=de[Tt],Bn=Ft,Jn=Ft+=rn.size;Bn>=ve||Jn<=pe?dt.push(rn):(Bn<pe&&dt.push(rn.slice(0,pe-Bn,Me)),rt&&(dt.push(rt),rt=void 0),Jn>ve&&dt.push(rn.slice(ve-Bn,rn.size,Me)))}return dt}function Vn(de,pe=null){let ve=de.domSelectionRange(),Me=de.state.doc;if(!ve.focusNode)return null;let rt=de.docView.nearestDesc(ve.focusNode),dt=rt&&rt.size==0,Tt=de.docView.posFromDOM(ve.focusNode,ve.focusOffset,1);if(Tt<0)return null;let Ft=Me.resolve(Tt),rn,Bn;if(u(ve)){for(rn=Ft;rt&&!rt.node;)rt=rt.parent;let Jn=rt.node;if(rt&&Jn.isAtom&&t.qv.isSelectable(Jn)&&rt.parent&&!(Jn.isInline&&O(ve.focusNode,ve.focusOffset,rt.dom))){let Lr=rt.posBefore;Bn=new t.qv(Tt==Lr?Ft:Me.resolve(Lr))}}else{let Jn=de.docView.posFromDOM(ve.anchorNode,ve.anchorOffset,1);if(Jn<0)return null;rn=Me.resolve(Jn)}if(!Bn){let Jn=pe=="pointer"||de.state.selection.head<Ft.pos&&!dt?1:-1;Bn=cr(de,rn,Ft,Jn)}return Bn}function _t(de){return de.editable?de.hasFocus():wr(de)&&document.activeElement&&document.activeElement.contains(de.dom)}function ut(de,pe=!1){let ve=de.state.selection;if(In(de,ve),!!_t(de)){if(!pe&&de.input.mouseDown&&de.input.mouseDown.allowDefault&&N){let Me=de.domSelectionRange(),rt=de.domObserver.currentSelection;if(Me.anchorNode&&rt.anchorNode&&_(Me.anchorNode,Me.anchorOffset,rt.anchorNode,rt.anchorOffset)){de.input.mouseDown.delayedSelectionSync=!0,de.domObserver.setCurSelection();return}}if(de.domObserver.disconnectSelection(),de.cursorWrapper)en(de);else{let{anchor:Me,head:rt}=ve,dt,Tt;Ce&&!(ve instanceof t.Bs)&&(ve.$from.parent.inlineContent||(dt=be(de,ve.from)),!ve.empty&&!ve.$from.parent.inlineContent&&(Tt=be(de,ve.to))),de.docView.setSelection(Me,rt,de.root,pe),Ce&&(dt&&qe(dt),Tt&&qe(Tt)),ve.visible?de.dom.classList.remove("ProseMirror-hideselection"):(de.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Et(de))}de.domObserver.setCurSelection(),de.domObserver.connectSelection()}}const Ce=V||N&&U<63;function be(de,pe){let{node:ve,offset:Me}=de.docView.domFromPos(pe,0),rt=Me<ve.childNodes.length?ve.childNodes[Me]:null,dt=Me?ve.childNodes[Me-1]:null;if(V&&rt&&rt.contentEditable=="false")return We(rt);if((!rt||rt.contentEditable=="false")&&(!dt||dt.contentEditable=="false")){if(rt)return We(rt);if(dt)return We(dt)}}function We(de){return de.contentEditable="true",V&&de.draggable&&(de.draggable=!1,de.wasDraggable=!0),de}function qe(de){de.contentEditable="false",de.wasDraggable&&(de.draggable=!0,de.wasDraggable=null)}function Et(de){let pe=de.dom.ownerDocument;pe.removeEventListener("selectionchange",de.input.hideSelectionGuard);let ve=de.domSelectionRange(),Me=ve.anchorNode,rt=ve.anchorOffset;pe.addEventListener("selectionchange",de.input.hideSelectionGuard=()=>{(ve.anchorNode!=Me||ve.anchorOffset!=rt)&&(pe.removeEventListener("selectionchange",de.input.hideSelectionGuard),setTimeout(()=>{(!_t(de)||de.state.selection.visible)&&de.dom.classList.remove("ProseMirror-hideselection")},20))})}function en(de){let pe=de.domSelection(),ve=document.createRange(),Me=de.cursorWrapper.dom,rt=Me.nodeName=="IMG";rt?ve.setEnd(Me.parentNode,c(Me)+1):ve.setEnd(Me,0),ve.collapse(!1),pe.removeAllRanges(),pe.addRange(ve),!rt&&!de.state.selection.visible&&M&&T<=11&&(Me.disabled=!0,Me.disabled=!1)}function In(de,pe){if(pe instanceof t.qv){let ve=de.docView.descAt(pe.from);ve!=de.lastSelectedViewDesc&&(qn(de),ve&&ve.selectNode(),de.lastSelectedViewDesc=ve)}else qn(de)}function qn(de){de.lastSelectedViewDesc&&(de.lastSelectedViewDesc.parent&&de.lastSelectedViewDesc.deselectNode(),de.lastSelectedViewDesc=void 0)}function cr(de,pe,ve,Me){return de.someProp("createSelectionBetween",rt=>rt(de,pe,ve))||t.Bs.between(pe,ve,Me)}function pr(de){return de.editable&&!de.hasFocus()?!1:wr(de)}function wr(de){let pe=de.domSelectionRange();if(!pe.anchorNode)return!1;try{return de.dom.contains(pe.anchorNode.nodeType==3?pe.anchorNode.parentNode:pe.anchorNode)&&(de.editable||de.dom.contains(pe.focusNode.nodeType==3?pe.focusNode.parentNode:pe.focusNode))}catch(ve){return!1}}function Vr(de){let pe=de.docView.domFromPos(de.state.selection.anchor,0),ve=de.domSelectionRange();return _(pe.node,pe.offset,ve.anchorNode,ve.anchorOffset)}function On(de,pe){let{$anchor:ve,$head:Me}=de.selection,rt=pe>0?ve.max(Me):ve.min(Me),dt=rt.parent.inlineContent?rt.depth?de.doc.resolve(pe>0?rt.after():rt.before()):null:rt;return dt&&t.Y1.findFrom(dt,pe)}function pt(de,pe){return de.dispatch(de.state.tr.setSelection(pe).scrollIntoView()),!0}function hn(de,pe,ve){let Me=de.state.selection;if(Me instanceof t.Bs){if(!Me.empty||ve.indexOf("s")>-1)return!1;if(de.endOfTextblock(pe>0?"right":"left")){let rt=On(de.state,pe);return rt&&rt instanceof t.qv?pt(de,rt):!1}else if(!(L&&ve.indexOf("m")>-1)){let rt=Me.$head,dt=rt.textOffset?null:pe<0?rt.nodeBefore:rt.nodeAfter,Tt;if(!dt||dt.isText)return!1;let Ft=pe<0?rt.pos-dt.nodeSize:rt.pos;return dt.isAtom||(Tt=de.docView.descAt(Ft))&&!Tt.contentDOM?t.qv.isSelectable(dt)?pt(de,new t.qv(pe<0?de.state.doc.resolve(rt.pos-dt.nodeSize):rt)):H?pt(de,new t.Bs(de.state.doc.resolve(pe<0?Ft:Ft+dt.nodeSize))):!1:!1}}else{if(Me instanceof t.qv&&Me.node.isInline)return pt(de,new t.Bs(pe>0?Me.$to:Me.$from));{let rt=On(de.state,pe);return rt?pt(de,rt):!1}}}function Dn(de){return de.nodeType==3?de.nodeValue.length:de.childNodes.length}function Gn(de){let pe=de.pmViewDesc;return pe&&pe.size==0&&(de.nextSibling||de.nodeName!="BR")}function Kt(de){let pe=de.domSelectionRange(),ve=pe.focusNode,Me=pe.focusOffset;if(!ve)return;let rt,dt,Tt=!1;for(R&&ve.nodeType==1&&Me<Dn(ve)&&Gn(ve.childNodes[Me])&&(Tt=!0);;)if(Me>0){if(ve.nodeType!=1)break;{let Ft=ve.childNodes[Me-1];if(Gn(Ft))rt=ve,dt=--Me;else if(Ft.nodeType==3)ve=Ft,Me=ve.nodeValue.length;else break}}else{if(Lt(ve))break;{let Ft=ve.previousSibling;for(;Ft&&Gn(Ft);)rt=ve.parentNode,dt=c(Ft),Ft=Ft.previousSibling;if(Ft)ve=Ft,Me=Dn(ve);else{if(ve=ve.parentNode,ve==de.dom)break;Me=0}}}Tt?mt(de,ve,Me):rt&&mt(de,rt,dt)}function wt(de){let pe=de.domSelectionRange(),ve=pe.focusNode,Me=pe.focusOffset;if(!ve)return;let rt=Dn(ve),dt,Tt;for(;;)if(Me<rt){if(ve.nodeType!=1)break;let Ft=ve.childNodes[Me];if(Gn(Ft))dt=ve,Tt=++Me;else break}else{if(Lt(ve))break;{let Ft=ve.nextSibling;for(;Ft&&Gn(Ft);)dt=Ft.parentNode,Tt=c(Ft)+1,Ft=Ft.nextSibling;if(Ft)ve=Ft,Me=0,rt=Dn(ve);else{if(ve=ve.parentNode,ve==de.dom)break;Me=rt=0}}}dt&&mt(de,dt,Tt)}function Lt(de){let pe=de.pmViewDesc;return pe&&pe.node&&pe.node.isBlock}function mt(de,pe,ve){let Me=de.domSelection();if(u(Me)){let dt=document.createRange();dt.setEnd(pe,ve),dt.setStart(pe,ve),Me.removeAllRanges(),Me.addRange(dt)}else Me.extend&&Me.extend(pe,ve);de.domObserver.setCurSelection();let{state:rt}=de;setTimeout(()=>{de.state==rt&&ut(de)},50)}function Mt(de,pe,ve){let Me=de.state.selection;if(Me instanceof t.Bs&&!Me.empty||ve.indexOf("s")>-1||L&&ve.indexOf("m")>-1)return!1;let{$from:rt,$to:dt}=Me;if(!rt.parent.inlineContent||de.endOfTextblock(pe<0?"up":"down")){let Tt=On(de.state,pe);if(Tt&&Tt instanceof t.qv)return pt(de,Tt)}if(!rt.parent.inlineContent){let Tt=pe<0?rt:dt,Ft=Me instanceof t.C1?t.Y1.near(Tt,pe):t.Y1.findFrom(Tt,pe);return Ft?pt(de,Ft):!1}return!1}function Jt(de,pe){if(!(de.state.selection instanceof t.Bs))return!0;let{$head:ve,$anchor:Me,empty:rt}=de.state.selection;if(!ve.sameParent(Me))return!0;if(!rt)return!1;if(de.endOfTextblock(pe>0?"forward":"backward"))return!0;let dt=!ve.textOffset&&(pe<0?ve.nodeBefore:ve.nodeAfter);if(dt&&!dt.isText){let Tt=de.state.tr;return pe<0?Tt.delete(ve.pos-dt.nodeSize,ve.pos):Tt.delete(ve.pos,ve.pos+dt.nodeSize),de.dispatch(Tt),!0}return!1}function pn(de,pe,ve){de.domObserver.stop(),pe.contentEditable=ve,de.domObserver.start()}function An(de){if(!V||de.state.selection.$head.parentOffset>0)return!1;let{focusNode:pe,focusOffset:ve}=de.domSelectionRange();if(pe&&pe.nodeType==1&&ve==0&&pe.firstChild&&pe.firstChild.contentEditable=="false"){let Me=pe.firstChild;pn(de,Me,"true"),setTimeout(()=>pn(de,Me,"false"),20)}return!1}function Fn(de){let pe="";return de.ctrlKey&&(pe+="c"),de.metaKey&&(pe+="m"),de.altKey&&(pe+="a"),de.shiftKey&&(pe+="s"),pe}function Un(de,pe){let ve=pe.keyCode,Me=Fn(pe);return ve==8||L&&ve==72&&Me=="c"?Jt(de,-1)||Kt(de):ve==46||L&&ve==68&&Me=="c"?Jt(de,1)||wt(de):ve==13||ve==27?!0:ve==37||L&&ve==66&&Me=="c"?hn(de,-1,Me)||Kt(de):ve==39||L&&ve==70&&Me=="c"?hn(de,1,Me)||wt(de):ve==38||L&&ve==80&&Me=="c"?Mt(de,-1,Me)||Kt(de):ve==40||L&&ve==78&&Me=="c"?An(de)||Mt(de,1,Me)||wt(de):Me==(L?"m":"c")&&(ve==66||ve==73||ve==89||ve==90)}function Gt(de,pe){de.someProp("transformCopied",Rr=>{pe=Rr(pe,de)});let ve=[],{content:Me,openStart:rt,openEnd:dt}=pe;for(;rt>1&&dt>1&&Me.childCount==1&&Me.firstChild.childCount==1;){rt--,dt--;let Rr=Me.firstChild;ve.push(Rr.type.name,Rr.attrs!=Rr.type.defaultAttrs?Rr.attrs:null),Me=Rr.content}let Tt=de.someProp("clipboardSerializer")||a.PW.fromSchema(de.state.schema),Ft=ur(),rn=Ft.createElement("div");rn.appendChild(Tt.serializeFragment(Me,{document:Ft}));let Bn=rn.firstChild,Jn,Lr=0;for(;Bn&&Bn.nodeType==1&&(Jn=rr[Bn.nodeName.toLowerCase()]);){for(let Rr=Jn.length-1;Rr>=0;Rr--){let qr=Ft.createElement(Jn[Rr]);for(;rn.firstChild;)qr.appendChild(rn.firstChild);rn.appendChild(qr),Lr++}Bn=rn.firstChild}Bn&&Bn.nodeType==1&&Bn.setAttribute("data-pm-slice",`${rt} ${dt}${Lr?` -${Lr}`:""} ${JSON.stringify(ve)}`);let kr=de.someProp("clipboardTextSerializer",Rr=>Rr(pe,de))||pe.content.textBetween(0,pe.content.size,`

`);return{dom:rn,text:kr}}function Zt(de,pe,ve,Me,rt){let dt=rt.parent.type.spec.code,Tt,Ft;if(!ve&&!pe)return null;let rn=pe&&(Me||dt||!ve);if(rn){if(de.someProp("transformPastedText",kr=>{pe=kr(pe,dt||Me,de)}),dt)return pe?new a.p2(a.HY.from(de.state.schema.text(pe.replace(/\r\n?/g,`
`))),0,0):a.p2.empty;let Lr=de.someProp("clipboardTextParser",kr=>kr(pe,rt,Me,de));if(Lr)Ft=Lr;else{let kr=rt.marks(),{schema:Rr}=de.state,qr=a.PW.fromSchema(Rr);Tt=document.createElement("div"),pe.split(/(?:\r\n?|\n)+/).forEach(xo=>{let fo=Tt.appendChild(document.createElement("p"));xo&&fo.appendChild(qr.serializeNode(Rr.text(xo,kr)))})}}else de.someProp("transformPastedHTML",Lr=>{ve=Lr(ve,de)}),Tt=Ar(ve),H&&so(Tt);let Bn=Tt&&Tt.querySelector("[data-pm-slice]"),Jn=Bn&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Bn.getAttribute("data-pm-slice")||"");if(Jn&&Jn[3])for(let Lr=+Jn[3];Lr>0;Lr--){let kr=Tt.firstChild;for(;kr&&kr.nodeType!=1;)kr=kr.nextSibling;if(!kr)break;Tt=kr}if(Ft||(Ft=(de.someProp("clipboardParser")||de.someProp("domParser")||a.aw.fromSchema(de.state.schema)).parseSlice(Tt,{preserveWhitespace:!!(rn||Jn),context:rt,ruleFromNode(kr){return kr.nodeName=="BR"&&!kr.nextSibling&&kr.parentNode&&!_n.test(kr.parentNode.nodeName)?{ignore:!0}:null}})),Jn)Ft=io(Wn(Ft,+Jn[1],+Jn[2]),Jn[4]);else if(Ft=a.p2.maxOpen(Qn(Ft.content,rt),!0),Ft.openStart||Ft.openEnd){let Lr=0,kr=0;for(let Rr=Ft.content.firstChild;Lr<Ft.openStart&&!Rr.type.spec.isolating;Lr++,Rr=Rr.firstChild);for(let Rr=Ft.content.lastChild;kr<Ft.openEnd&&!Rr.type.spec.isolating;kr++,Rr=Rr.lastChild);Ft=Wn(Ft,Lr,kr)}return de.someProp("transformPasted",Lr=>{Ft=Lr(Ft,de)}),Ft}const _n=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Qn(de,pe){if(de.childCount<2)return de;for(let ve=pe.depth;ve>=0;ve--){let rt=pe.node(ve).contentMatchAt(pe.index(ve)),dt,Tt=[];if(de.forEach(Ft=>{if(!Tt)return;let rn=rt.findWrapping(Ft.type),Bn;if(!rn)return Tt=null;if(Bn=Tt.length&&dt.length&&fn(rn,dt,Ft,Tt[Tt.length-1],0))Tt[Tt.length-1]=Bn;else{Tt.length&&(Tt[Tt.length-1]=gn(Tt[Tt.length-1],dt.length));let Jn=At(Ft,rn);Tt.push(Jn),rt=rt.matchType(Jn.type),dt=rn}}),Tt)return a.HY.from(Tt)}return de}function At(de,pe,ve=0){for(let Me=pe.length-1;Me>=ve;Me--)de=pe[Me].create(null,a.HY.from(de));return de}function fn(de,pe,ve,Me,rt){if(rt<de.length&&rt<pe.length&&de[rt]==pe[rt]){let dt=fn(de,pe,ve,Me.lastChild,rt+1);if(dt)return Me.copy(Me.content.replaceChild(Me.childCount-1,dt));if(Me.contentMatchAt(Me.childCount).matchType(rt==de.length-1?ve.type:de[rt+1]))return Me.copy(Me.content.append(a.HY.from(At(ve,de,rt+1))))}}function gn(de,pe){if(pe==0)return de;let ve=de.content.replaceChild(de.childCount-1,gn(de.lastChild,pe-1)),Me=de.contentMatchAt(de.childCount).fillBefore(a.HY.empty,!0);return de.copy(ve.append(Me))}function Mn(de,pe,ve,Me,rt,dt){let Tt=pe<0?de.firstChild:de.lastChild,Ft=Tt.content;return rt<Me-1&&(Ft=Mn(Ft,pe,ve,Me,rt+1,dt)),rt>=ve&&(Ft=pe<0?Tt.contentMatchAt(0).fillBefore(Ft,de.childCount>1||dt<=rt).append(Ft):Ft.append(Tt.contentMatchAt(Tt.childCount).fillBefore(a.HY.empty,!0))),de.replaceChild(pe<0?0:de.childCount-1,Tt.copy(Ft))}function Wn(de,pe,ve){return pe<de.openStart&&(de=new a.p2(Mn(de.content,-1,pe,de.openStart,0,de.openEnd),pe,de.openEnd)),ve<de.openEnd&&(de=new a.p2(Mn(de.content,1,ve,de.openEnd,0,0),de.openStart,ve)),de}const rr={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Zn=null;function ur(){return Zn||(Zn=document.implementation.createHTMLDocument("title"))}function Ar(de){let pe=/^(\s*<meta [^>]*>)*/.exec(de);pe&&(de=de.slice(pe[0].length));let ve=ur().createElement("div"),Me=/<([a-z][^>\s]+)/i.exec(de),rt;if((rt=Me&&rr[Me[1].toLowerCase()])&&(de=rt.map(dt=>"<"+dt+">").join("")+de+rt.map(dt=>"</"+dt+">").reverse().join("")),ve.innerHTML=de,rt)for(let dt=0;dt<rt.length;dt++)ve=ve.querySelector(rt[dt])||ve;return ve}function so(de){let pe=de.querySelectorAll(N?"span:not([class]):not([style])":"span.Apple-converted-space");for(let ve=0;ve<pe.length;ve++){let Me=pe[ve];Me.childNodes.length==1&&Me.textContent=="\xA0"&&Me.parentNode&&Me.parentNode.replaceChild(de.ownerDocument.createTextNode(" "),Me)}}function io(de,pe){if(!de.size)return de;let ve=de.content.firstChild.type.schema,Me;try{Me=JSON.parse(pe)}catch(Ft){return de}let{content:rt,openStart:dt,openEnd:Tt}=de;for(let Ft=Me.length-2;Ft>=0;Ft-=2){let rn=ve.nodes[Me[Ft]];if(!rn||rn.hasRequiredAttrs())break;rt=a.HY.from(rn.create(Me[Ft+1],rt)),dt++,Tt++}return new a.p2(rt,dt,Tt)}const Qr={},Eo={},So={touchstart:!0,touchmove:!0};class Wt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function jn(de){for(let pe in Qr){let ve=Qr[pe];de.dom.addEventListener(pe,de.input.eventHandlers[pe]=Me=>{at(de,Me)&&!Sn(de,Me)&&(de.editable||!(Me.type in Eo))&&ve(de,Me)},So[pe]?{passive:!0}:void 0)}V&&de.dom.addEventListener("input",()=>null),qt(de)}function bt(de,pe){de.input.lastSelectionOrigin=pe,de.input.lastSelectionTime=Date.now()}function Ut(de){de.domObserver.stop();for(let pe in de.input.eventHandlers)de.dom.removeEventListener(pe,de.input.eventHandlers[pe]);clearTimeout(de.input.composingTimeout),clearTimeout(de.input.lastIOSEnterFallbackTimeout)}function qt(de){de.someProp("handleDOMEvents",pe=>{for(let ve in pe)de.input.eventHandlers[ve]||de.dom.addEventListener(ve,de.input.eventHandlers[ve]=Me=>Sn(de,Me))})}function Sn(de,pe){return de.someProp("handleDOMEvents",ve=>{let Me=ve[pe.type];return Me?Me(de,pe)||pe.defaultPrevented:!1})}function at(de,pe){if(!pe.bubbles)return!0;if(pe.defaultPrevented)return!1;for(let ve=pe.target;ve!=de.dom;ve=ve.parentNode)if(!ve||ve.nodeType==11||ve.pmViewDesc&&ve.pmViewDesc.stopEvent(pe))return!1;return!0}function Pt(de,pe){!Sn(de,pe)&&Qr[pe.type]&&(de.editable||!(pe.type in Eo))&&Qr[pe.type](de,pe)}Eo.keydown=(de,pe)=>{let ve=pe;if(de.input.shiftKey=ve.keyCode==16||ve.shiftKey,!zr(de,ve)&&(de.input.lastKeyCode=ve.keyCode,de.input.lastKeyCodeTime=Date.now(),!(k&&N&&ve.keyCode==13)))if(ve.keyCode!=229&&de.domObserver.forceFlush(),W&&ve.keyCode==13&&!ve.ctrlKey&&!ve.altKey&&!ve.metaKey){let Me=Date.now();de.input.lastIOSEnter=Me,de.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{de.input.lastIOSEnter==Me&&(de.someProp("handleKeyDown",rt=>rt(de,o(13,"Enter"))),de.input.lastIOSEnter=0)},200)}else de.someProp("handleKeyDown",Me=>Me(de,ve))||Un(de,ve)?ve.preventDefault():bt(de,"key")},Eo.keyup=(de,pe)=>{pe.keyCode==16&&(de.input.shiftKey=!1)},Eo.keypress=(de,pe)=>{let ve=pe;if(zr(de,ve)||!ve.charCode||ve.ctrlKey&&!ve.altKey||L&&ve.metaKey)return;if(de.someProp("handleKeyPress",rt=>rt(de,ve))){ve.preventDefault();return}let Me=de.state.selection;if(!(Me instanceof t.Bs)||!Me.$from.sameParent(Me.$to)){let rt=String.fromCharCode(ve.charCode);!/[\r\n]/.test(rt)&&!de.someProp("handleTextInput",dt=>dt(de,Me.$from.pos,Me.$to.pos,rt))&&de.dispatch(de.state.tr.insertText(rt).scrollIntoView()),ve.preventDefault()}};function jt(de){return{left:de.clientX,top:de.clientY}}function vn(de,pe){let ve=pe.x-de.clientX,Me=pe.y-de.clientY;return ve*ve+Me*Me<100}function Pn(de,pe,ve,Me,rt){if(Me==-1)return!1;let dt=de.state.doc.resolve(Me);for(let Tt=dt.depth+1;Tt>0;Tt--)if(de.someProp(pe,Ft=>Tt>dt.depth?Ft(de,ve,dt.nodeAfter,dt.before(Tt),rt,!0):Ft(de,ve,dt.node(Tt),dt.before(Tt),rt,!1)))return!0;return!1}function Rn(de,pe,ve){de.focused||de.focus();let Me=de.state.tr.setSelection(pe);ve=="pointer"&&Me.setMeta("pointer",!0),de.dispatch(Me)}function $n(de,pe){if(pe==-1)return!1;let ve=de.state.doc.resolve(pe),Me=ve.nodeAfter;return Me&&Me.isAtom&&t.qv.isSelectable(Me)?(Rn(de,new t.qv(ve),"pointer"),!0):!1}function ar(de,pe){if(pe==-1)return!1;let ve=de.state.selection,Me,rt;ve instanceof t.qv&&(Me=ve.node);let dt=de.state.doc.resolve(pe);for(let Tt=dt.depth+1;Tt>0;Tt--){let Ft=Tt>dt.depth?dt.nodeAfter:dt.node(Tt);if(t.qv.isSelectable(Ft)){Me&&ve.$from.depth>0&&Tt>=ve.$from.depth&&dt.before(ve.$from.depth+1)==ve.$from.pos?rt=dt.before(ve.$from.depth):rt=dt.before(Tt);break}}return rt!=null?(Rn(de,t.qv.create(de.state.doc,rt),"pointer"),!0):!1}function lr(de,pe,ve,Me,rt){return Pn(de,"handleClickOn",pe,ve,Me)||de.someProp("handleClick",dt=>dt(de,pe,Me))||(rt?ar(de,ve):$n(de,ve))}function sr(de,pe,ve,Me){return Pn(de,"handleDoubleClickOn",pe,ve,Me)||de.someProp("handleDoubleClick",rt=>rt(de,pe,Me))}function fr(de,pe,ve,Me){return Pn(de,"handleTripleClickOn",pe,ve,Me)||de.someProp("handleTripleClick",rt=>rt(de,pe,Me))||gr(de,ve,Me)}function gr(de,pe,ve){if(ve.button!=0)return!1;let Me=de.state.doc;if(pe==-1)return Me.inlineContent?(Rn(de,t.Bs.create(Me,0,Me.content.size),"pointer"),!0):!1;let rt=Me.resolve(pe);for(let dt=rt.depth+1;dt>0;dt--){let Tt=dt>rt.depth?rt.nodeAfter:rt.node(dt),Ft=rt.before(dt);if(Tt.inlineContent)Rn(de,t.Bs.create(Me,Ft+1,Ft+1+Tt.content.size),"pointer");else if(t.qv.isSelectable(Tt))Rn(de,t.qv.create(Me,Ft),"pointer");else continue;return!0}}function Sr(de){return Qt(de)}const Gr=L?"metaKey":"ctrlKey";Qr.mousedown=(de,pe)=>{let ve=pe;de.input.shiftKey=ve.shiftKey;let Me=Sr(de),rt=Date.now(),dt="singleClick";rt-de.input.lastClick.time<500&&vn(ve,de.input.lastClick)&&!ve[Gr]&&(de.input.lastClick.type=="singleClick"?dt="doubleClick":de.input.lastClick.type=="doubleClick"&&(dt="tripleClick")),de.input.lastClick={time:rt,x:ve.clientX,y:ve.clientY,type:dt};let Tt=de.posAtCoords(jt(ve));Tt&&(dt=="singleClick"?(de.input.mouseDown&&de.input.mouseDown.done(),de.input.mouseDown=new Oo(de,Tt,ve,!!Me)):(dt=="doubleClick"?sr:fr)(de,Tt.pos,Tt.inside,ve)?ve.preventDefault():bt(de,"pointer"))};class Oo{constructor(pe,ve,Me,rt){this.view=pe,this.pos=ve,this.event=Me,this.flushed=rt,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=pe.state.doc,this.selectNode=!!Me[Gr],this.allowDefault=Me.shiftKey;let dt,Tt;if(ve.inside>-1)dt=pe.state.doc.nodeAt(ve.inside),Tt=ve.inside;else{let Jn=pe.state.doc.resolve(ve.pos);dt=Jn.parent,Tt=Jn.depth?Jn.before():0}const Ft=rt?null:Me.target,rn=Ft?pe.docView.nearestDesc(Ft,!0):null;this.target=rn?rn.dom:null;let{selection:Bn}=pe.state;(Me.button==0&&dt.type.spec.draggable&&dt.type.spec.selectable!==!1||Bn instanceof t.qv&&Bn.from<=Tt&&Bn.to>Tt)&&(this.mightDrag={node:dt,pos:Tt,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&R&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),pe.root.addEventListener("mouseup",this.up=this.up.bind(this)),pe.root.addEventListener("mousemove",this.move=this.move.bind(this)),bt(pe,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ut(this.view)),this.view.input.mouseDown=null}up(pe){if(this.done(),!this.view.dom.contains(pe.target))return;let ve=this.pos;this.view.state.doc!=this.startDoc&&(ve=this.view.posAtCoords(jt(pe))),this.updateAllowDefault(pe),this.allowDefault||!ve?bt(this.view,"pointer"):lr(this.view,ve.pos,ve.inside,pe,this.selectNode)?pe.preventDefault():pe.button==0&&(this.flushed||V&&this.mightDrag&&!this.mightDrag.node.isAtom||N&&!this.view.state.selection.visible&&Math.min(Math.abs(ve.pos-this.view.state.selection.from),Math.abs(ve.pos-this.view.state.selection.to))<=2)?(Rn(this.view,t.Y1.near(this.view.state.doc.resolve(ve.pos)),"pointer"),pe.preventDefault()):bt(this.view,"pointer")}move(pe){this.updateAllowDefault(pe),bt(this.view,"pointer"),pe.buttons==0&&this.done()}updateAllowDefault(pe){!this.allowDefault&&(Math.abs(this.event.x-pe.clientX)>4||Math.abs(this.event.y-pe.clientY)>4)&&(this.allowDefault=!0)}}Qr.touchstart=de=>{de.input.lastTouch=Date.now(),Sr(de),bt(de,"pointer")},Qr.touchmove=de=>{de.input.lastTouch=Date.now(),bt(de,"pointer")},Qr.contextmenu=de=>Sr(de);function zr(de,pe){return de.composing?!0:V&&Math.abs(pe.timeStamp-de.input.compositionEndedAt)<500?(de.input.compositionEndedAt=-2e8,!0):!1}const yt=k?5e3:-1;Eo.compositionstart=Eo.compositionupdate=de=>{if(!de.composing){de.domObserver.flush();let{state:pe}=de,ve=pe.selection.$from;if(pe.selection.empty&&(pe.storedMarks||!ve.textOffset&&ve.parentOffset&&ve.nodeBefore.marks.some(Me=>Me.type.spec.inclusive===!1)))de.markCursor=de.state.storedMarks||ve.marks(),Qt(de,!0),de.markCursor=null;else if(Qt(de),R&&pe.selection.empty&&ve.parentOffset&&!ve.textOffset&&ve.nodeBefore.marks.length){let Me=de.domSelectionRange();for(let rt=Me.focusNode,dt=Me.focusOffset;rt&&rt.nodeType==1&&dt!=0;){let Tt=dt<0?rt.lastChild:rt.childNodes[dt-1];if(!Tt)break;if(Tt.nodeType==3){de.domSelection().collapse(Tt,Tt.nodeValue.length);break}else rt=Tt,dt=-1}}de.input.composing=!0}ft(de,yt)},Eo.compositionend=(de,pe)=>{de.composing&&(de.input.composing=!1,de.input.compositionEndedAt=pe.timeStamp,ft(de,20))};function ft(de,pe){clearTimeout(de.input.composingTimeout),pe>-1&&(de.input.composingTimeout=setTimeout(()=>Qt(de),pe))}function vt(de){for(de.composing&&(de.input.composing=!1,de.input.compositionEndedAt=kt());de.input.compositionNodes.length>0;)de.input.compositionNodes.pop().markParentsDirty()}function kt(){let de=document.createEvent("Event");return de.initEvent("event",!0,!0),de.timeStamp}function Qt(de,pe=!1){if(!(k&&de.domObserver.flushingSoon>=0)){if(de.domObserver.forceFlush(),vt(de),pe||de.docView&&de.docView.dirty){let ve=Vn(de);return ve&&!ve.eq(de.state.selection)?de.dispatch(de.state.tr.setSelection(ve)):de.updateState(de.state),!0}return!1}}function Cn(de,pe){if(!de.dom.parentNode)return;let ve=de.dom.parentNode.appendChild(document.createElement("div"));ve.appendChild(pe),ve.style.cssText="position: fixed; left: -10000px; top: 10px";let Me=getSelection(),rt=document.createRange();rt.selectNodeContents(pe),de.dom.blur(),Me.removeAllRanges(),Me.addRange(rt),setTimeout(()=>{ve.parentNode&&ve.parentNode.removeChild(ve),de.focus()},50)}const En=M&&T<15||W&&G<604;Qr.copy=Eo.cut=(de,pe)=>{let ve=pe,Me=de.state.selection,rt=ve.type=="cut";if(Me.empty)return;let dt=En?null:ve.clipboardData,Tt=Me.content(),{dom:Ft,text:rn}=Gt(de,Tt);dt?(ve.preventDefault(),dt.clearData(),dt.setData("text/html",Ft.innerHTML),dt.setData("text/plain",rn)):Cn(de,Ft),rt&&de.dispatch(de.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Kn(de){return de.openStart==0&&de.openEnd==0&&de.content.childCount==1?de.content.firstChild:null}function or(de,pe){if(!de.dom.parentNode)return;let ve=de.input.shiftKey||de.state.selection.$from.parent.type.spec.code,Me=de.dom.parentNode.appendChild(document.createElement(ve?"textarea":"div"));ve||(Me.contentEditable="true"),Me.style.cssText="position: fixed; left: -10000px; top: 10px",Me.focus(),setTimeout(()=>{de.focus(),Me.parentNode&&Me.parentNode.removeChild(Me),ve?Yn(de,Me.value,null,de.input.shiftKey,pe):Yn(de,Me.textContent,Me.innerHTML,de.input.shiftKey,pe)},50)}function Yn(de,pe,ve,Me,rt){let dt=Zt(de,pe,ve,Me,de.state.selection.$from);if(de.someProp("handlePaste",rn=>rn(de,rt,dt||a.p2.empty)))return!0;if(!dt)return!1;let Tt=Kn(dt),Ft=Tt?de.state.tr.replaceSelectionWith(Tt,de.input.shiftKey):de.state.tr.replaceSelection(dt);return de.dispatch(Ft.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Eo.paste=(de,pe)=>{let ve=pe;if(de.composing&&!k)return;let Me=En?null:ve.clipboardData;Me&&Yn(de,Me.getData("text/plain"),Me.getData("text/html"),de.input.shiftKey,ve)?ve.preventDefault():or(de,ve)};class Er{constructor(pe,ve){this.slice=pe,this.move=ve}}const eo=L?"altKey":"ctrlKey";Qr.dragstart=(de,pe)=>{let ve=pe,Me=de.input.mouseDown;if(Me&&Me.done(),!ve.dataTransfer)return;let rt=de.state.selection,dt=rt.empty?null:de.posAtCoords(jt(ve));if(!(dt&&dt.pos>=rt.from&&dt.pos<=(rt instanceof t.qv?rt.to-1:rt.to))){if(Me&&Me.mightDrag)de.dispatch(de.state.tr.setSelection(t.qv.create(de.state.doc,Me.mightDrag.pos)));else if(ve.target&&ve.target.nodeType==1){let Bn=de.docView.nearestDesc(ve.target,!0);Bn&&Bn.node.type.spec.draggable&&Bn!=de.docView&&de.dispatch(de.state.tr.setSelection(t.qv.create(de.state.doc,Bn.posBefore)))}}let Tt=de.state.selection.content(),{dom:Ft,text:rn}=Gt(de,Tt);ve.dataTransfer.clearData(),ve.dataTransfer.setData(En?"Text":"text/html",Ft.innerHTML),ve.dataTransfer.effectAllowed="copyMove",En||ve.dataTransfer.setData("text/plain",rn),de.dragging=new Er(Tt,!ve[eo])},Qr.dragend=de=>{let pe=de.dragging;window.setTimeout(()=>{de.dragging==pe&&(de.dragging=null)},50)},Eo.dragover=Eo.dragenter=(de,pe)=>pe.preventDefault(),Eo.drop=(de,pe)=>{let ve=pe,Me=de.dragging;if(de.dragging=null,!ve.dataTransfer)return;let rt=de.posAtCoords(jt(ve));if(!rt)return;let dt=de.state.doc.resolve(rt.pos),Tt=Me&&Me.slice;Tt?de.someProp("transformPasted",qr=>{Tt=qr(Tt,de)}):Tt=Zt(de,ve.dataTransfer.getData(En?"Text":"text/plain"),En?null:ve.dataTransfer.getData("text/html"),!1,dt);let Ft=!!(Me&&!ve[eo]);if(de.someProp("handleDrop",qr=>qr(de,ve,Tt||a.p2.empty,Ft))){ve.preventDefault();return}if(!Tt)return;ve.preventDefault();let rn=Tt?(0,i.nj)(de.state.doc,dt.pos,Tt):dt.pos;rn==null&&(rn=dt.pos);let Bn=de.state.tr;Ft&&Bn.deleteSelection();let Jn=Bn.mapping.map(rn),Lr=Tt.openStart==0&&Tt.openEnd==0&&Tt.content.childCount==1,kr=Bn.doc;if(Lr?Bn.replaceRangeWith(Jn,Jn,Tt.content.firstChild):Bn.replaceRange(Jn,Jn,Tt),Bn.doc.eq(kr))return;let Rr=Bn.doc.resolve(Jn);if(Lr&&t.qv.isSelectable(Tt.content.firstChild)&&Rr.nodeAfter&&Rr.nodeAfter.sameMarkup(Tt.content.firstChild))Bn.setSelection(new t.qv(Rr));else{let qr=Bn.mapping.map(rn);Bn.mapping.maps[Bn.mapping.maps.length-1].forEach((xo,fo,He,Ht)=>qr=Ht),Bn.setSelection(cr(de,Rr,Bn.doc.resolve(qr)))}de.focus(),de.dispatch(Bn.setMeta("uiEvent","drop"))},Qr.focus=de=>{de.input.lastFocus=Date.now(),de.focused||(de.domObserver.stop(),de.dom.classList.add("ProseMirror-focused"),de.domObserver.start(),de.focused=!0,setTimeout(()=>{de.docView&&de.hasFocus()&&!de.domObserver.currentSelection.eq(de.domSelectionRange())&&ut(de)},20))},Qr.blur=(de,pe)=>{let ve=pe;de.focused&&(de.domObserver.stop(),de.dom.classList.remove("ProseMirror-focused"),de.domObserver.start(),ve.relatedTarget&&de.dom.contains(ve.relatedTarget)&&de.domObserver.currentSelection.clear(),de.focused=!1)},Qr.beforeinput=(de,pe)=>{if(N&&k&&pe.inputType=="deleteContentBackward"){de.domObserver.flushSoon();let{domChangeCount:Me}=de.input;setTimeout(()=>{if(de.input.domChangeCount!=Me||(de.dom.blur(),de.focus(),de.someProp("handleKeyDown",dt=>dt(de,o(8,"Backspace")))))return;let{$cursor:rt}=de.state.selection;rt&&rt.pos>0&&de.dispatch(de.state.tr.delete(rt.pos-1,rt.pos).scrollIntoView())},50)}};for(let de in Eo)Qr[de]=Eo[de];function Zr(de,pe){if(de==pe)return!0;for(let ve in de)if(de[ve]!==pe[ve])return!1;for(let ve in pe)if(!(ve in de))return!1;return!0}class co{constructor(pe,ve){this.toDOM=pe,this.spec=ve||tn,this.side=this.spec.side||0}map(pe,ve,Me,rt){let{pos:dt,deleted:Tt}=pe.mapResult(ve.from+rt,this.side<0?-1:1);return Tt?null:new lt(dt-Me,dt-Me,this)}valid(){return!0}eq(pe){return this==pe||pe instanceof co&&(this.spec.key&&this.spec.key==pe.spec.key||this.toDOM==pe.toDOM&&Zr(this.spec,pe.spec))}destroy(pe){this.spec.destroy&&this.spec.destroy(pe)}}class it{constructor(pe,ve){this.attrs=pe,this.spec=ve||tn}map(pe,ve,Me,rt){let dt=pe.map(ve.from+rt,this.spec.inclusiveStart?-1:1)-Me,Tt=pe.map(ve.to+rt,this.spec.inclusiveEnd?1:-1)-Me;return dt>=Tt?null:new lt(dt,Tt,this)}valid(pe,ve){return ve.from<ve.to}eq(pe){return this==pe||pe instanceof it&&Zr(this.attrs,pe.attrs)&&Zr(this.spec,pe.spec)}static is(pe){return pe.type instanceof it}destroy(){}}class Ye{constructor(pe,ve){this.attrs=pe,this.spec=ve||tn}map(pe,ve,Me,rt){let dt=pe.mapResult(ve.from+rt,1);if(dt.deleted)return null;let Tt=pe.mapResult(ve.to+rt,-1);return Tt.deleted||Tt.pos<=dt.pos?null:new lt(dt.pos-Me,Tt.pos-Me,this)}valid(pe,ve){let{index:Me,offset:rt}=pe.content.findIndex(ve.from),dt;return rt==ve.from&&!(dt=pe.child(Me)).isText&&rt+dt.nodeSize==ve.to}eq(pe){return this==pe||pe instanceof Ye&&Zr(this.attrs,pe.attrs)&&Zr(this.spec,pe.spec)}destroy(){}}class lt{constructor(pe,ve,Me){this.from=pe,this.to=ve,this.type=Me}copy(pe,ve){return new lt(pe,ve,this.type)}eq(pe,ve=0){return this.type.eq(pe.type)&&this.from+ve==pe.from&&this.to+ve==pe.to}map(pe,ve,Me){return this.type.map(pe,this,ve,Me)}static widget(pe,ve,Me){return new lt(pe,pe,new co(ve,Me))}static inline(pe,ve,Me,rt){return new lt(pe,ve,new it(Me,rt))}static node(pe,ve,Me,rt){return new lt(pe,ve,new Ye(Me,rt))}get spec(){return this.type.spec}get inline(){return this.type instanceof it}}const Ot=[],tn={};class an{constructor(pe,ve){this.local=pe.length?pe:Ot,this.children=ve.length?ve:Ot}static create(pe,ve){return ve.length?Nn(ve,pe,0,tn):bn}find(pe,ve,Me){let rt=[];return this.findInner(pe==null?0:pe,ve==null?1e9:ve,rt,0,Me),rt}findInner(pe,ve,Me,rt,dt){for(let Tt=0;Tt<this.local.length;Tt++){let Ft=this.local[Tt];Ft.from<=ve&&Ft.to>=pe&&(!dt||dt(Ft.spec))&&Me.push(Ft.copy(Ft.from+rt,Ft.to+rt))}for(let Tt=0;Tt<this.children.length;Tt+=3)if(this.children[Tt]<ve&&this.children[Tt+1]>pe){let Ft=this.children[Tt]+1;this.children[Tt+2].findInner(pe-Ft,ve-Ft,Me,rt+Ft,dt)}}map(pe,ve,Me){return this==bn||pe.maps.length==0?this:this.mapInner(pe,ve,0,0,Me||tn)}mapInner(pe,ve,Me,rt,dt){let Tt;for(let Ft=0;Ft<this.local.length;Ft++){let rn=this.local[Ft].map(pe,Me,rt);rn&&rn.type.valid(ve,rn)?(Tt||(Tt=[])).push(rn):dt.onRemove&&dt.onRemove(this.local[Ft].spec)}return this.children.length?Ln(this.children,Tt||[],pe,ve,Me,rt,dt):Tt?new an(Tt.sort(hr),Ot):bn}add(pe,ve){return ve.length?this==bn?an.create(pe,ve):this.addInner(pe,ve,0):this}addInner(pe,ve,Me){let rt,dt=0;pe.forEach((Ft,rn)=>{let Bn=rn+Me,Jn;if(Jn=St(ve,Ft,Bn)){for(rt||(rt=this.children.slice());dt<rt.length&&rt[dt]<rn;)dt+=3;rt[dt]==rn?rt[dt+2]=rt[dt+2].addInner(Ft,Jn,Bn+1):rt.splice(dt,0,rn,rn+Ft.nodeSize,Nn(Jn,Ft,Bn+1,tn)),dt+=3}});let Tt=nt(dt?nn(ve):ve,-Me);for(let Ft=0;Ft<Tt.length;Ft++)Tt[Ft].type.valid(pe,Tt[Ft])||Tt.splice(Ft--,1);return new an(Tt.length?this.local.concat(Tt).sort(hr):this.local,rt||this.children)}remove(pe){return pe.length==0||this==bn?this:this.removeInner(pe,0)}removeInner(pe,ve){let Me=this.children,rt=this.local;for(let dt=0;dt<Me.length;dt+=3){let Tt,Ft=Me[dt]+ve,rn=Me[dt+1]+ve;for(let Jn=0,Lr;Jn<pe.length;Jn++)(Lr=pe[Jn])&&Lr.from>Ft&&Lr.to<rn&&(pe[Jn]=null,(Tt||(Tt=[])).push(Lr));if(!Tt)continue;Me==this.children&&(Me=this.children.slice());let Bn=Me[dt+2].removeInner(Tt,Ft+1);Bn!=bn?Me[dt+2]=Bn:(Me.splice(dt,3),dt-=3)}if(rt.length){for(let dt=0,Tt;dt<pe.length;dt++)if(Tt=pe[dt])for(let Ft=0;Ft<rt.length;Ft++)rt[Ft].eq(Tt,ve)&&(rt==this.local&&(rt=this.local.slice()),rt.splice(Ft--,1))}return Me==this.children&&rt==this.local?this:rt.length||Me.length?new an(rt,Me):bn}forChild(pe,ve){if(this==bn)return this;if(ve.isLeaf)return an.empty;let Me,rt;for(let Ft=0;Ft<this.children.length;Ft+=3)if(this.children[Ft]>=pe){this.children[Ft]==pe&&(Me=this.children[Ft+2]);break}let dt=pe+1,Tt=dt+ve.content.size;for(let Ft=0;Ft<this.local.length;Ft++){let rn=this.local[Ft];if(rn.from<Tt&&rn.to>dt&&rn.type instanceof it){let Bn=Math.max(dt,rn.from)-dt,Jn=Math.min(Tt,rn.to)-dt;Bn<Jn&&(rt||(rt=[])).push(rn.copy(Bn,Jn))}}if(rt){let Ft=new an(rt.sort(hr),Ot);return Me?new yn([Ft,Me]):Ft}return Me||bn}eq(pe){if(this==pe)return!0;if(!(pe instanceof an)||this.local.length!=pe.local.length||this.children.length!=pe.children.length)return!1;for(let ve=0;ve<this.local.length;ve++)if(!this.local[ve].eq(pe.local[ve]))return!1;for(let ve=0;ve<this.children.length;ve+=3)if(this.children[ve]!=pe.children[ve]||this.children[ve+1]!=pe.children[ve+1]||!this.children[ve+2].eq(pe.children[ve+2]))return!1;return!0}locals(pe){return jr(this.localsInner(pe))}localsInner(pe){if(this==bn)return Ot;if(pe.inlineContent||!this.local.some(it.is))return this.local;let ve=[];for(let Me=0;Me<this.local.length;Me++)this.local[Me].type instanceof it||ve.push(this.local[Me]);return ve}}an.empty=new an([],[]),an.removeOverlap=jr;const bn=an.empty;class yn{constructor(pe){this.members=pe}map(pe,ve){const Me=this.members.map(rt=>rt.map(pe,ve,tn));return yn.from(Me)}forChild(pe,ve){if(ve.isLeaf)return an.empty;let Me=[];for(let rt=0;rt<this.members.length;rt++){let dt=this.members[rt].forChild(pe,ve);dt!=bn&&(dt instanceof yn?Me=Me.concat(dt.members):Me.push(dt))}return yn.from(Me)}eq(pe){if(!(pe instanceof yn)||pe.members.length!=this.members.length)return!1;for(let ve=0;ve<this.members.length;ve++)if(!this.members[ve].eq(pe.members[ve]))return!1;return!0}locals(pe){let ve,Me=!0;for(let rt=0;rt<this.members.length;rt++){let dt=this.members[rt].localsInner(pe);if(dt.length)if(!ve)ve=dt;else{Me&&(ve=ve.slice(),Me=!1);for(let Tt=0;Tt<dt.length;Tt++)ve.push(dt[Tt])}}return ve?jr(Me?ve:ve.sort(hr)):Ot}static from(pe){switch(pe.length){case 0:return bn;case 1:return pe[0];default:return new yn(pe.every(ve=>ve instanceof an)?pe:pe.reduce((ve,Me)=>ve.concat(Me instanceof an?Me:Me.members),[]))}}}function Ln(de,pe,ve,Me,rt,dt,Tt){let Ft=de.slice();for(let Bn=0,Jn=dt;Bn<ve.maps.length;Bn++){let Lr=0;ve.maps[Bn].forEach((kr,Rr,qr,xo)=>{let fo=xo-qr-(Rr-kr);for(let He=0;He<Ft.length;He+=3){let Ht=Ft[He+1];if(Ht<0||kr>Ht+Jn-Lr)continue;let wn=Ft[He]+Jn-Lr;Rr>=wn?Ft[He+1]=kr<=wn?-2:-1:qr>=rt&&fo&&(Ft[He]+=fo,Ft[He+1]+=fo)}Lr+=fo}),Jn=ve.maps[Bn].map(Jn,-1)}let rn=!1;for(let Bn=0;Bn<Ft.length;Bn+=3)if(Ft[Bn+1]<0){if(Ft[Bn+1]==-2){rn=!0,Ft[Bn+1]=-1;continue}let Jn=ve.map(de[Bn]+dt),Lr=Jn-rt;if(Lr<0||Lr>=Me.content.size){rn=!0;continue}let kr=ve.map(de[Bn+1]+dt,-1),Rr=kr-rt,{index:qr,offset:xo}=Me.content.findIndex(Lr),fo=Me.maybeChild(qr);if(fo&&xo==Lr&&xo+fo.nodeSize==Rr){let He=Ft[Bn+2].mapInner(ve,fo,Jn+1,de[Bn]+dt+1,Tt);He!=bn?(Ft[Bn]=Lr,Ft[Bn+1]=Rr,Ft[Bn+2]=He):(Ft[Bn+1]=-2,rn=!0)}else rn=!0}if(rn){let Bn=Ge(Ft,de,pe,ve,rt,dt,Tt),Jn=Nn(Bn,Me,0,Tt);pe=Jn.local;for(let Lr=0;Lr<Ft.length;Lr+=3)Ft[Lr+1]<0&&(Ft.splice(Lr,3),Lr-=3);for(let Lr=0,kr=0;Lr<Jn.children.length;Lr+=3){let Rr=Jn.children[Lr];for(;kr<Ft.length&&Ft[kr]<Rr;)kr+=3;Ft.splice(kr,0,Jn.children[Lr],Jn.children[Lr+1],Jn.children[Lr+2])}}return new an(pe.sort(hr),Ft)}function nt(de,pe){if(!pe||!de.length)return de;let ve=[];for(let Me=0;Me<de.length;Me++){let rt=de[Me];ve.push(new lt(rt.from+pe,rt.to+pe,rt.type))}return ve}function Ge(de,pe,ve,Me,rt,dt,Tt){function Ft(rn,Bn){for(let Jn=0;Jn<rn.local.length;Jn++){let Lr=rn.local[Jn].map(Me,rt,Bn);Lr?ve.push(Lr):Tt.onRemove&&Tt.onRemove(rn.local[Jn].spec)}for(let Jn=0;Jn<rn.children.length;Jn+=3)Ft(rn.children[Jn+2],rn.children[Jn]+Bn+1)}for(let rn=0;rn<de.length;rn+=3)de[rn+1]==-1&&Ft(de[rn+2],pe[rn]+dt+1);return ve}function St(de,pe,ve){if(pe.isLeaf)return null;let Me=ve+pe.nodeSize,rt=null;for(let dt=0,Tt;dt<de.length;dt++)(Tt=de[dt])&&Tt.from>ve&&Tt.to<Me&&((rt||(rt=[])).push(Tt),de[dt]=null);return rt}function nn(de){let pe=[];for(let ve=0;ve<de.length;ve++)de[ve]!=null&&pe.push(de[ve]);return pe}function Nn(de,pe,ve,Me){let rt=[],dt=!1;pe.forEach((Ft,rn)=>{let Bn=St(de,Ft,rn+ve);if(Bn){dt=!0;let Jn=Nn(Bn,Ft,ve+rn+1,Me);Jn!=bn&&rt.push(rn,rn+Ft.nodeSize,Jn)}});let Tt=nt(dt?nn(de):de,-ve).sort(hr);for(let Ft=0;Ft<Tt.length;Ft++)Tt[Ft].type.valid(pe,Tt[Ft])||(Me.onRemove&&Me.onRemove(Tt[Ft].spec),Tt.splice(Ft--,1));return Tt.length||rt.length?new an(Tt,rt):bn}function hr(de,pe){return de.from-pe.from||de.to-pe.to}function jr(de){let pe=de;for(let ve=0;ve<pe.length-1;ve++){let Me=pe[ve];if(Me.from!=Me.to)for(let rt=ve+1;rt<pe.length;rt++){let dt=pe[rt];if(dt.from==Me.from){dt.to!=Me.to&&(pe==de&&(pe=de.slice()),pe[rt]=dt.copy(dt.from,Me.to),Xr(pe,rt+1,dt.copy(Me.to,dt.to)));continue}else{dt.from<Me.to&&(pe==de&&(pe=de.slice()),pe[ve]=Me.copy(Me.from,dt.from),Xr(pe,rt,Me.copy(dt.from,Me.to)));break}}}return pe}function Xr(de,pe,ve){for(;pe<de.length&&hr(ve,de[pe])>0;)pe++;de.splice(pe,0,ve)}function no(de){let pe=[];return de.someProp("decorations",ve=>{let Me=ve(de.state);Me&&Me!=bn&&pe.push(Me)}),de.cursorWrapper&&pe.push(an.create(de.state.doc,[de.cursorWrapper.deco])),yn.from(pe)}const Mo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ko=M&&T<=11;class Bo{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(pe){this.anchorNode=pe.anchorNode,this.anchorOffset=pe.anchorOffset,this.focusNode=pe.focusNode,this.focusOffset=pe.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(pe){return pe.anchorNode==this.anchorNode&&pe.anchorOffset==this.anchorOffset&&pe.focusNode==this.focusNode&&pe.focusOffset==this.focusOffset}}class Wo{constructor(pe,ve){this.view=pe,this.handleDOMChange=ve,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Bo,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(Me=>{for(let rt=0;rt<Me.length;rt++)this.queue.push(Me[rt]);M&&T<=11&&Me.some(rt=>rt.type=="childList"&&rt.removedNodes.length||rt.type=="characterData"&&rt.oldValue.length>rt.target.nodeValue.length)?this.flushSoon():this.flush()}),ko&&(this.onCharData=Me=>{this.queue.push({target:Me.target,type:"characterData",oldValue:Me.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Mo)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let pe=this.observer.takeRecords();if(pe.length){for(let ve=0;ve<pe.length;ve++)this.queue.push(pe[ve]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(pr(this.view)){if(this.suppressingSelectionUpdates)return ut(this.view);if(M&&T<=11&&!this.view.state.selection.empty){let pe=this.view.domSelectionRange();if(pe.focusNode&&_(pe.focusNode,pe.focusOffset,pe.anchorNode,pe.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(pe){if(!pe.focusNode)return!0;let ve=new Set,Me;for(let dt=pe.focusNode;dt;dt=p(dt))ve.add(dt);for(let dt=pe.anchorNode;dt;dt=p(dt))if(ve.has(dt)){Me=dt;break}let rt=Me&&this.view.docView.nearestDesc(Me);if(rt&&rt.ignoreMutation({type:"selection",target:Me.nodeType==3?Me.parentNode:Me}))return this.setCurSelection(),!0}flush(){let{view:pe}=this;if(!pe.docView||this.flushingSoon>-1)return;let ve=this.observer?this.observer.takeRecords():[];this.queue.length&&(ve=this.queue.concat(ve),this.queue.length=0);let Me=pe.domSelectionRange(),rt=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(Me)&&pr(pe)&&!this.ignoreSelectionChange(Me),dt=-1,Tt=-1,Ft=!1,rn=[];if(pe.editable)for(let Jn=0;Jn<ve.length;Jn++){let Lr=this.registerMutation(ve[Jn],rn);Lr&&(dt=dt<0?Lr.from:Math.min(Lr.from,dt),Tt=Tt<0?Lr.to:Math.max(Lr.to,Tt),Lr.typeOver&&(Ft=!0))}if(R&&rn.length>1){let Jn=rn.filter(Lr=>Lr.nodeName=="BR");if(Jn.length==2){let Lr=Jn[0],kr=Jn[1];Lr.parentNode&&Lr.parentNode.parentNode==kr.parentNode?kr.remove():Lr.remove()}}let Bn=null;dt<0&&rt&&pe.input.lastFocus>Date.now()-200&&Math.max(pe.input.lastTouch,pe.input.lastClick.time)<Date.now()-300&&u(Me)&&(Bn=Vn(pe))&&Bn.eq(t.Y1.near(pe.state.doc.resolve(0),1))?(pe.input.lastFocus=0,ut(pe),this.currentSelection.set(Me),pe.scrollToSelection()):(dt>-1||rt)&&(dt>-1&&(pe.docView.markDirty(dt,Tt),Go(pe)),this.handleDOMChange(dt,Tt,Ft,rn),pe.docView&&pe.docView.dirty?pe.updateState(pe.state):this.currentSelection.eq(Me)||ut(pe),this.currentSelection.set(Me))}registerMutation(pe,ve){if(ve.indexOf(pe.target)>-1)return null;let Me=this.view.docView.nearestDesc(pe.target);if(pe.type=="attributes"&&(Me==this.view.docView||pe.attributeName=="contenteditable"||pe.attributeName=="style"&&!pe.oldValue&&!pe.target.getAttribute("style"))||!Me||Me.ignoreMutation(pe))return null;if(pe.type=="childList"){for(let Jn=0;Jn<pe.addedNodes.length;Jn++)ve.push(pe.addedNodes[Jn]);if(Me.contentDOM&&Me.contentDOM!=Me.dom&&!Me.contentDOM.contains(pe.target))return{from:Me.posBefore,to:Me.posAfter};let rt=pe.previousSibling,dt=pe.nextSibling;if(M&&T<=11&&pe.addedNodes.length)for(let Jn=0;Jn<pe.addedNodes.length;Jn++){let{previousSibling:Lr,nextSibling:kr}=pe.addedNodes[Jn];(!Lr||Array.prototype.indexOf.call(pe.addedNodes,Lr)<0)&&(rt=Lr),(!kr||Array.prototype.indexOf.call(pe.addedNodes,kr)<0)&&(dt=kr)}let Tt=rt&&rt.parentNode==pe.target?c(rt)+1:0,Ft=Me.localPosFromDOM(pe.target,Tt,-1),rn=dt&&dt.parentNode==pe.target?c(dt):pe.target.childNodes.length,Bn=Me.localPosFromDOM(pe.target,rn,1);return{from:Ft,to:Bn}}else return pe.type=="attributes"?{from:Me.posAtStart-Me.border,to:Me.posAtEnd+Me.border}:{from:Me.posAtStart,to:Me.posAtEnd,typeOver:pe.target.nodeValue==pe.oldValue}}}let Jo=new WeakMap,Ho=!1;function Go(de){if(!Jo.has(de)&&(Jo.set(de,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(de.dom).whiteSpace)!==-1)){if(de.requiresGeckoHackNode=R,Ho)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ho=!0}}function Rt(de){let pe;function ve(rn){rn.preventDefault(),rn.stopImmediatePropagation(),pe=rn.getTargetRanges()[0]}de.dom.addEventListener("beforeinput",ve,!0),document.execCommand("indent"),de.dom.removeEventListener("beforeinput",ve,!0);let Me=pe.startContainer,rt=pe.startOffset,dt=pe.endContainer,Tt=pe.endOffset,Ft=de.domAtPos(de.state.selection.anchor);return _(Ft.node,Ft.offset,dt,Tt)&&([Me,rt,dt,Tt]=[dt,Tt,Me,rt]),{anchorNode:Me,anchorOffset:rt,focusNode:dt,focusOffset:Tt}}function Nt(de,pe,ve){let{node:Me,fromOffset:rt,toOffset:dt,from:Tt,to:Ft}=de.docView.parseRange(pe,ve),rn=de.domSelectionRange(),Bn,Jn=rn.anchorNode;if(Jn&&de.dom.contains(Jn.nodeType==1?Jn:Jn.parentNode)&&(Bn=[{node:Jn,offset:rn.anchorOffset}],u(rn)||Bn.push({node:rn.focusNode,offset:rn.focusOffset})),N&&de.input.lastKeyCode===8)for(let fo=dt;fo>rt;fo--){let He=Me.childNodes[fo-1],Ht=He.pmViewDesc;if(He.nodeName=="BR"&&!Ht){dt=fo;break}if(!Ht||Ht.size)break}let Lr=de.state.doc,kr=de.someProp("domParser")||a.aw.fromSchema(de.state.schema),Rr=Lr.resolve(Tt),qr=null,xo=kr.parse(Me,{topNode:Rr.parent,topMatch:Rr.parent.contentMatchAt(Rr.index()),topOpen:!0,from:rt,to:dt,preserveWhitespace:Rr.parent.type.whitespace=="pre"?"full":!0,findPositions:Bn,ruleFromNode:mn,context:Rr});if(Bn&&Bn[0].pos!=null){let fo=Bn[0].pos,He=Bn[1]&&Bn[1].pos;He==null&&(He=fo),qr={anchor:fo+Tt,head:He+Tt}}return{doc:xo,sel:qr,from:Tt,to:Ft}}function mn(de){let pe=de.pmViewDesc;if(pe)return pe.parseRule();if(de.nodeName=="BR"&&de.parentNode){if(V&&/^(ul|ol)$/i.test(de.parentNode.nodeName)){let ve=document.createElement("div");return ve.appendChild(document.createElement("li")),{skip:ve}}else if(de.parentNode.lastChild==de||V&&/^(tr|table)$/i.test(de.parentNode.nodeName))return{ignore:!0}}else if(de.nodeName=="IMG"&&de.getAttribute("mark-placeholder"))return{ignore:!0};return null}function tr(de,pe,ve,Me,rt){if(pe<0){let Fr=de.input.lastSelectionTime>Date.now()-50?de.input.lastSelectionOrigin:null,ro=Vn(de,Fr);if(ro&&!de.state.selection.eq(ro)){if(N&&k&&de.input.lastKeyCode===13&&Date.now()-100<de.input.lastKeyCodeTime&&de.someProp("handleKeyDown",si=>si(de,o(13,"Enter"))))return;let Ko=de.state.tr.setSelection(ro);Fr=="pointer"?Ko.setMeta("pointer",!0):Fr=="key"&&Ko.scrollIntoView(),de.dispatch(Ko)}return}let dt=de.state.doc.resolve(pe),Tt=dt.sharedDepth(ve);pe=dt.before(Tt+1),ve=de.state.doc.resolve(ve).after(Tt+1);let Ft=de.state.selection,rn=Nt(de,pe,ve),Bn=de.state.doc,Jn=Bn.slice(rn.from,rn.to),Lr,kr;de.input.lastKeyCode===8&&Date.now()-100<de.input.lastKeyCodeTime?(Lr=de.state.selection.to,kr="end"):(Lr=de.state.selection.from,kr="start"),de.input.lastKeyCode=null;let Rr=Hr(Jn.content,rn.doc.content,rn.from,Lr,kr);if((W&&de.input.lastIOSEnter>Date.now()-225||k)&&rt.some(Fr=>Fr.nodeName=="DIV"||Fr.nodeName=="P"||Fr.nodeName=="LI")&&(!Rr||Rr.endA>=Rr.endB)&&de.someProp("handleKeyDown",Fr=>Fr(de,o(13,"Enter")))){de.input.lastIOSEnter=0;return}if(!Rr)if(Me&&Ft instanceof t.Bs&&!Ft.empty&&Ft.$head.sameParent(Ft.$anchor)&&!de.composing&&!(rn.sel&&rn.sel.anchor!=rn.sel.head))Rr={start:Ft.from,endA:Ft.to,endB:Ft.to};else{if(rn.sel){let Fr=dr(de,de.state.doc,rn.sel);Fr&&!Fr.eq(de.state.selection)&&de.dispatch(de.state.tr.setSelection(Fr))}return}if(N&&de.cursorWrapper&&rn.sel&&rn.sel.anchor==de.cursorWrapper.deco.from&&rn.sel.head==rn.sel.anchor){let Fr=Rr.endB-Rr.start;rn.sel={anchor:rn.sel.anchor+Fr,head:rn.sel.anchor+Fr}}de.input.domChangeCount++,de.state.selection.from<de.state.selection.to&&Rr.start==Rr.endB&&de.state.selection instanceof t.Bs&&(Rr.start>de.state.selection.from&&Rr.start<=de.state.selection.from+2&&de.state.selection.from>=rn.from?Rr.start=de.state.selection.from:Rr.endA<de.state.selection.to&&Rr.endA>=de.state.selection.to-2&&de.state.selection.to<=rn.to&&(Rr.endB+=de.state.selection.to-Rr.endA,Rr.endA=de.state.selection.to)),M&&T<=11&&Rr.endB==Rr.start+1&&Rr.endA==Rr.start&&Rr.start>rn.from&&rn.doc.textBetween(Rr.start-rn.from-1,Rr.start-rn.from+1)==" \xA0"&&(Rr.start--,Rr.endA--,Rr.endB--);let qr=rn.doc.resolveNoCache(Rr.start-rn.from),xo=rn.doc.resolveNoCache(Rr.endB-rn.from),fo=Bn.resolve(Rr.start),He=qr.sameParent(xo)&&qr.parent.inlineContent&&fo.end()>=Rr.endA,Ht;if((W&&de.input.lastIOSEnter>Date.now()-225&&(!He||rt.some(Fr=>Fr.nodeName=="DIV"||Fr.nodeName=="P"))||!He&&qr.pos<rn.doc.content.size&&(Ht=t.Y1.findFrom(rn.doc.resolve(qr.pos+1),1,!0))&&Ht.head==xo.pos)&&de.someProp("handleKeyDown",Fr=>Fr(de,o(13,"Enter")))){de.input.lastIOSEnter=0;return}if(de.state.selection.anchor>Rr.start&&Or(Bn,Rr.start,Rr.endA,qr,xo)&&de.someProp("handleKeyDown",Fr=>Fr(de,o(8,"Backspace")))){k&&N&&de.domObserver.suppressSelectionUpdates();return}N&&k&&Rr.endB==Rr.start&&(de.input.lastAndroidDelete=Date.now()),k&&!He&&qr.start()!=xo.start()&&xo.parentOffset==0&&qr.depth==xo.depth&&rn.sel&&rn.sel.anchor==rn.sel.head&&rn.sel.head==Rr.endA&&(Rr.endB-=2,xo=rn.doc.resolveNoCache(Rr.endB-rn.from),setTimeout(()=>{de.someProp("handleKeyDown",function(Fr){return Fr(de,o(13,"Enter"))})},20));let wn=Rr.start,kn=Rr.endA,er,Nr,Wr;if(He){if(qr.pos==xo.pos)M&&T<=11&&qr.parentOffset==0&&(de.domObserver.suppressSelectionUpdates(),setTimeout(()=>ut(de),20)),er=de.state.tr.delete(wn,kn),Nr=Bn.resolve(Rr.start).marksAcross(Bn.resolve(Rr.endA));else if(Rr.endA==Rr.endB&&(Wr=Pr(qr.parent.content.cut(qr.parentOffset,xo.parentOffset),fo.parent.content.cut(fo.parentOffset,Rr.endA-fo.start()))))er=de.state.tr,Wr.type=="add"?er.addMark(wn,kn,Wr.mark):er.removeMark(wn,kn,Wr.mark);else if(qr.parent.child(qr.index()).isText&&qr.index()==xo.index()-(xo.textOffset?0:1)){let Fr=qr.parent.textBetween(qr.parentOffset,xo.parentOffset);if(de.someProp("handleTextInput",ro=>ro(de,wn,kn,Fr)))return;er=de.state.tr.insertText(Fr,wn,kn)}}if(er||(er=de.state.tr.replace(wn,kn,rn.doc.slice(Rr.start-rn.from,Rr.endB-rn.from))),rn.sel){let Fr=dr(de,er.doc,rn.sel);Fr&&!(N&&k&&de.composing&&Fr.empty&&(Rr.start!=Rr.endB||de.input.lastAndroidDelete<Date.now()-100)&&(Fr.head==wn||Fr.head==er.mapping.map(kn)-1)||M&&Fr.empty&&Fr.head==wn)&&er.setSelection(Fr)}Nr&&er.ensureMarks(Nr),de.dispatch(er.scrollIntoView())}function dr(de,pe,ve){return Math.max(ve.anchor,ve.head)>pe.content.size?null:cr(de,pe.resolve(ve.anchor),pe.resolve(ve.head))}function Pr(de,pe){let ve=de.firstChild.marks,Me=pe.firstChild.marks,rt=ve,dt=Me,Tt,Ft,rn;for(let Jn=0;Jn<Me.length;Jn++)rt=Me[Jn].removeFromSet(rt);for(let Jn=0;Jn<ve.length;Jn++)dt=ve[Jn].removeFromSet(dt);if(rt.length==1&&dt.length==0)Ft=rt[0],Tt="add",rn=Jn=>Jn.mark(Ft.addToSet(Jn.marks));else if(rt.length==0&&dt.length==1)Ft=dt[0],Tt="remove",rn=Jn=>Jn.mark(Ft.removeFromSet(Jn.marks));else return null;let Bn=[];for(let Jn=0;Jn<pe.childCount;Jn++)Bn.push(rn(pe.child(Jn)));if(a.HY.from(Bn).eq(de))return{mark:Ft,type:Tt}}function Or(de,pe,ve,Me,rt){if(!Me.parent.isTextblock||ve-pe<=rt.pos-Me.pos||Ur(Me,!0,!1)<rt.pos)return!1;let dt=de.resolve(pe);if(dt.parentOffset<dt.parent.content.size||!dt.parent.isTextblock)return!1;let Tt=de.resolve(Ur(dt,!0,!0));return!Tt.parent.isTextblock||Tt.pos>ve||Ur(Tt,!0,!1)<ve?!1:Me.parent.content.cut(Me.parentOffset).eq(Tt.parent.content)}function Ur(de,pe,ve){let Me=de.depth,rt=pe?de.end():de.pos;for(;Me>0&&(pe||de.indexAfter(Me)==de.node(Me).childCount);)Me--,rt++,pe=!1;if(ve){let dt=de.node(Me).maybeChild(de.indexAfter(Me));for(;dt&&!dt.isLeaf;)dt=dt.firstChild,rt++}return rt}function Hr(de,pe,ve,Me,rt){let dt=de.findDiffStart(pe,ve);if(dt==null)return null;let{a:Tt,b:Ft}=de.findDiffEnd(pe,ve+de.size,ve+pe.size);if(rt=="end"){let rn=Math.max(0,dt-Math.min(Tt,Ft));Me-=Tt+rn-dt}if(Tt<dt&&de.size<pe.size){let rn=Me<=dt&&Me>=Tt?dt-Me:0;dt-=rn,Ft=dt+(Ft-Tt),Tt=dt}else if(Ft<dt){let rn=Me<=dt&&Me>=Ft?dt-Me:0;dt-=rn,Tt=dt+(Tt-Ft),Ft=dt}return{start:dt,endA:Tt,endB:Ft}}const Br=null,Dr=null,bo=null;class Po{constructor(pe,ve){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Wt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=ve,this.state=ve.state,this.directPlugins=ve.plugins||[],this.directPlugins.forEach(To),this.dispatch=this.dispatch.bind(this),this.dom=pe&&pe.mount||document.createElement("div"),pe&&(pe.appendChild?pe.appendChild(this.dom):typeof pe=="function"?pe(this.dom):pe.mount&&(this.mounted=!0)),this.editable=go(this),lo(this),this.nodeViews=oo(this),this.docView=te(this.state.doc,uo(this),no(this),this.dom,this),this.domObserver=new Wo(this,(Me,rt,dt,Tt)=>tr(this,Me,rt,dt,Tt)),this.domObserver.start(),jn(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let pe=this._props;this._props={};for(let ve in pe)this._props[ve]=pe[ve];this._props.state=this.state}return this._props}update(pe){pe.handleDOMEvents!=this._props.handleDOMEvents&&qt(this);let ve=this._props;this._props=pe,pe.plugins&&(pe.plugins.forEach(To),this.directPlugins=pe.plugins),this.updateStateInner(pe.state,ve)}setProps(pe){let ve={};for(let Me in this._props)ve[Me]=this._props[Me];ve.state=this.state;for(let Me in pe)ve[Me]=pe[Me];this.update(ve)}updateState(pe){this.updateStateInner(pe,this._props)}updateStateInner(pe,ve){let Me=this.state,rt=!1,dt=!1;pe.storedMarks&&this.composing&&(vt(this),dt=!0),this.state=pe;let Tt=Me.plugins!=pe.plugins||this._props.plugins!=ve.plugins;if(Tt||this._props.plugins!=ve.plugins||this._props.nodeViews!=ve.nodeViews){let kr=oo(this);wo(kr,this.nodeViews)&&(this.nodeViews=kr,rt=!0)}(Tt||ve.handleDOMEvents!=this._props.handleDOMEvents)&&qt(this),this.editable=go(this),lo(this);let Ft=no(this),rn=uo(this),Bn=Me.plugins!=pe.plugins&&!Me.doc.eq(pe.doc)?"reset":pe.scrollToSelection>Me.scrollToSelection?"to selection":"preserve",Jn=rt||!this.docView.matchesNode(pe.doc,rn,Ft);(Jn||!pe.selection.eq(Me.selection))&&(dt=!0);let Lr=Bn=="preserve"&&dt&&this.dom.style.overflowAnchor==null&&J(this);if(dt){this.domObserver.stop();let kr=Jn&&(M||N)&&!this.composing&&!Me.selection.empty&&!pe.selection.empty&&_o(Me.selection,pe.selection);if(Jn){let Rr=N?this.trackWrites=this.domSelectionRange().focusNode:null;(rt||!this.docView.update(pe.doc,rn,Ft,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=te(pe.doc,rn,Ft,this.dom,this)),Rr&&!this.trackWrites&&(kr=!0)}kr||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Vr(this))?ut(this,kr):(In(this,pe.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(Me),Bn=="reset"?this.dom.scrollTop=0:Bn=="to selection"?this.scrollToSelection():Lr&&Z(Lr)}scrollToSelection(){let pe=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",ve=>ve(this)))if(this.state.selection instanceof t.qv){let ve=this.docView.domAfterPos(this.state.selection.from);ve.nodeType==1&&$(this,ve.getBoundingClientRect(),pe)}else $(this,this.coordsAtPos(this.state.selection.head,1),pe)}destroyPluginViews(){let pe;for(;pe=this.pluginViews.pop();)pe.destroy&&pe.destroy()}updatePluginViews(pe){if(!pe||pe.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let ve=0;ve<this.directPlugins.length;ve++){let Me=this.directPlugins[ve];Me.spec.view&&this.pluginViews.push(Me.spec.view(this))}for(let ve=0;ve<this.state.plugins.length;ve++){let Me=this.state.plugins[ve];Me.spec.view&&this.pluginViews.push(Me.spec.view(this))}}else for(let ve=0;ve<this.pluginViews.length;ve++){let Me=this.pluginViews[ve];Me.update&&Me.update(this,pe)}}someProp(pe,ve){let Me=this._props&&this._props[pe],rt;if(Me!=null&&(rt=ve?ve(Me):Me))return rt;for(let Tt=0;Tt<this.directPlugins.length;Tt++){let Ft=this.directPlugins[Tt].props[pe];if(Ft!=null&&(rt=ve?ve(Ft):Ft))return rt}let dt=this.state.plugins;if(dt)for(let Tt=0;Tt<dt.length;Tt++){let Ft=dt[Tt].props[pe];if(Ft!=null&&(rt=ve?ve(Ft):Ft))return rt}}hasFocus(){if(M){let pe=this.root.activeElement;if(pe==this.dom)return!0;if(!pe||!this.dom.contains(pe))return!1;for(;pe&&this.dom!=pe&&this.dom.contains(pe);){if(pe.contentEditable=="false")return!1;pe=pe.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&oe(this.dom),ut(this),this.domObserver.start()}get root(){let pe=this._root;if(pe==null){for(let ve=this.dom.parentNode;ve;ve=ve.parentNode)if(ve.nodeType==9||ve.nodeType==11&&ve.host)return ve.getSelection||(Object.getPrototypeOf(ve).getSelection=()=>ve.ownerDocument.getSelection()),this._root=ve}return pe||document}posAtCoords(pe){return je(this,pe)}coordsAtPos(pe,ve=1){return st(this,pe,ve)}domAtPos(pe,ve=0){return this.docView.domFromPos(pe,ve)}nodeDOM(pe){let ve=this.docView.descAt(pe);return ve?ve.nodeDOM:null}posAtDOM(pe,ve,Me=-1){let rt=this.docView.posFromDOM(pe,ve,Me);if(rt==null)throw new RangeError("DOM position not inside the editor");return rt}endOfTextblock(pe,ve){return ct(this,ve||this.state,pe)}pasteHTML(pe,ve){return Yn(this,"",pe,!1,ve||new ClipboardEvent("paste"))}pasteText(pe,ve){return Yn(this,pe,null,!0,ve||new ClipboardEvent("paste"))}destroy(){this.docView&&(Ut(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],no(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(pe){return Pt(this,pe)}dispatch(pe){let ve=this._props.dispatchTransaction;ve?ve.call(this,pe):this.updateState(this.state.apply(pe))}domSelectionRange(){return V&&this.root.nodeType===11&&s(this.dom.ownerDocument)==this.dom?Rt(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function uo(de){let pe=Object.create(null);return pe.class="ProseMirror",pe.contenteditable=String(de.editable),pe.translate="no",de.someProp("attributes",ve=>{if(typeof ve=="function"&&(ve=ve(de.state)),ve)for(let Me in ve)Me=="class"&&(pe.class+=" "+ve[Me]),Me=="style"?pe.style=(pe.style?pe.style+";":"")+ve[Me]:!pe[Me]&&Me!="contenteditable"&&Me!="nodeName"&&(pe[Me]=String(ve[Me]))}),[lt.node(0,de.state.doc.content.size,pe)]}function lo(de){if(de.markCursor){let pe=document.createElement("img");pe.className="ProseMirror-separator",pe.setAttribute("mark-placeholder","true"),pe.setAttribute("alt",""),de.cursorWrapper={dom:pe,deco:lt.widget(de.state.selection.head,pe,{raw:!0,marks:de.markCursor})}}else de.cursorWrapper=null}function go(de){return!de.someProp("editable",pe=>pe(de.state)===!1)}function _o(de,pe){let ve=Math.min(de.$anchor.sharedDepth(de.head),pe.$anchor.sharedDepth(pe.head));return de.$anchor.start(ve)!=pe.$anchor.start(ve)}function oo(de){let pe=Object.create(null);function ve(Me){for(let rt in Me)Object.prototype.hasOwnProperty.call(pe,rt)||(pe[rt]=Me[rt])}return de.someProp("nodeViews",ve),de.someProp("markViews",ve),pe}function wo(de,pe){let ve=0,Me=0;for(let rt in de){if(de[rt]!=pe[rt])return!0;ve++}for(let rt in pe)Me++;return ve!=Me}function To(de){if(de.spec.state||de.spec.filterTransaction||de.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},83757:(K,f,e)=>{"use strict";e.d(f,{ZP:()=>Qe,kY:()=>Re});var t=e(98661),a=e(61688);const i=()=>{},c=i(),p=Object,l=$e=>$e===c,v=$e=>typeof $e=="function",_=($e,Te)=>yr(yr({},$e),Te),g=$e=>v($e.then),E=new WeakMap;let S=0;const O=$e=>{const Te=typeof $e,te=$e&&$e.constructor,ue=te==Date;let we,me;if(p($e)===$e&&!ue&&te!=RegExp){if(we=E.get($e),we)return we;if(we=++S+"~",E.set($e,we),te==Array){for(we="@",me=0;me<$e.length;me++)we+=O($e[me])+",";E.set($e,we)}if(te==p){we="#";const Ee=p.keys($e).sort();for(;!l(me=Ee.pop());)l($e[me])||(we+=me+":"+O($e[me])+",");E.set($e,we)}}else we=ue?$e.toJSON():Te=="symbol"?$e.toString():Te=="string"?JSON.stringify($e):""+$e;return we},A=new WeakMap,u={},o={},s="undefined",w=typeof window!=s,P=typeof document!=s,C=()=>w&&typeof window.requestAnimationFrame!=s,x=($e,Te)=>{const te=A.get($e);return[()=>!l(Te)&&$e.get(Te)||u,ue=>{if(!l(Te)){const we=$e.get(Te);Te in o||(o[Te]=we),te[5](Te,_(we,ue),we||u)}},te[6],()=>!l(Te)&&Te in o?o[Te]:!l(Te)&&$e.get(Te)||u]};let D=!0;const y=()=>D,[M,T]=w&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],R=()=>{const $e=P&&document.visibilityState;return l($e)||$e!=="hidden"},F=$e=>(P&&document.addEventListener("visibilitychange",$e),M("focus",$e),()=>{P&&document.removeEventListener("visibilitychange",$e),T("focus",$e)}),N=$e=>{const Te=()=>{D=!0,$e()},te=()=>{D=!1};return M("online",Te),M("offline",te),()=>{T("online",Te),T("offline",te)}},U={isOnline:y,isVisible:R},V={initFocus:F,initReconnect:N},W=!t.default.useId,L=!w||"Deno"in window,k=$e=>C()?window.requestAnimationFrame($e):setTimeout($e,1),H=L?t.useEffect:t.useLayoutEffect,G=typeof navigator!="undefined"&&navigator.connection,q=!L&&G&&(["slow-2g","2g"].includes(G.effectiveType)||G.saveData),z=$e=>{if(v($e))try{$e=$e()}catch(te){$e=""}const Te=$e;return $e=typeof $e=="string"?$e:(Array.isArray($e)?$e.length:$e)?O($e):"",[$e,Te]};let ee=0;const $=()=>++ee,J=0,j=1,Z=2;var ie={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:J,MUTATE_EVENT:Z,RECONNECT_EVENT:j};function oe(...$e){return Qi(this,null,function*(){const[Te,te,ue,we]=$e,me=_({populateCache:!0,throwOnError:!0},typeof we=="boolean"?{revalidate:we}:we||{});let Ee=me.populateCache;const he=me.rollbackOnError;let xe=me.optimisticData;const Ve=me.revalidate!==!1,Pe=tt=>typeof he=="function"?he(tt):he!==!1,Ie=me.throwOnError;if(v(te)){const tt=te,Le=[],It=Te.keys();for(const on of It)!/^\$(inf|sub)\$/.test(on)&&tt(Te.get(on)._k)&&Le.push(on);return Promise.all(Le.map(ze))}return ze(te);function ze(tt){return Qi(this,null,function*(){const[Le]=z(tt);if(!Le)return;const[It,on]=x(Te,Le),[zt,$t,Bt,xn]=A.get(Te),Hn=zt[Le],ir=()=>Ve&&(delete Bt[Le],delete xn[Le],Hn&&Hn[0])?Hn[0](Z).then(()=>It().data):It().data;if($e.length<3)return ir();let Vn=ue,_t;const ut=$();$t[Le]=[ut,0];const Ce=!l(xe),be=It(),We=be.data,qe=be._c,Et=l(qe)?We:qe;if(Ce&&(xe=v(xe)?xe(Et,We):xe,on({data:xe,_c:Et})),v(Vn))try{Vn=Vn(Et)}catch(In){_t=In}if(Vn&&g(Vn))if(Vn=yield Vn.catch(In=>{_t=In}),ut!==$t[Le][0]){if(_t)throw _t;return Vn}else _t&&Ce&&Pe(_t)&&(Ee=!0,Vn=Et,on({data:Vn,_c:c}));Ee&&(_t||(v(Ee)&&(Vn=Ee(Vn,Et)),on({data:Vn,error:c,_c:c}))),$t[Le][1]=$();const en=yield ir();if(on({_c:c}),_t){if(Ie)throw _t;return}return Ee?en:Vn})}})}const re=($e,Te)=>{for(const te in $e)$e[te][0]&&$e[te][0](Te)},ae=($e,Te)=>{if(!A.has($e)){const te=_(V,Te),ue={},we=oe.bind(c,$e);let me=i;const Ee={},he=(Pe,Ie)=>{const ze=Ee[Pe]||[];return Ee[Pe]=ze,ze.push(Ie),()=>ze.splice(ze.indexOf(Ie),1)},xe=(Pe,Ie,ze)=>{$e.set(Pe,Ie);const tt=Ee[Pe];if(tt)for(const Le of tt)Le(Ie,ze)},Ve=()=>{if(!A.has($e)&&(A.set($e,[ue,{},{},{},we,xe,he]),!L)){const Pe=te.initFocus(setTimeout.bind(c,re.bind(c,ue,J))),Ie=te.initReconnect(setTimeout.bind(c,re.bind(c,ue,j)));me=()=>{Pe&&Pe(),Ie&&Ie(),A.delete($e)}}};return Ve(),[$e,we,Ve,me]}return[$e,A.get($e)[4]]},se=($e,Te,te,ue,we)=>{const me=te.errorRetryCount,Ee=we.retryCount,he=~~((Math.random()+.5)*(1<<(Ee<8?Ee:8)))*te.errorRetryInterval;!l(me)&&Ee>me||setTimeout(ue,he,we)},fe=($e,Te)=>O($e)==O(Te),[le,Ae]=ae(new Map),De=_({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:se,onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:q?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:q?5e3:3e3,compare:fe,isPaused:()=>!1,cache:le,mutate:Ae,fallback:{}},U),je=($e,Te)=>{const te=_($e,Te);if(Te){const{use:ue,fallback:we}=$e,{use:me,fallback:Ee}=Te;ue&&me&&(te.use=ue.concat(me)),we&&Ee&&(te.fallback=_(we,Ee))}return te},Je=(0,t.createContext)({}),Be=$e=>{const{value:Te}=$e,te=(0,t.useContext)(Je),ue=v(Te),we=(0,t.useMemo)(()=>ue?Te(te):Te,[ue,te,Te]),me=(0,t.useMemo)(()=>ue?we:je(te,we),[ue,te,we]),Ee=we&&we.provider,he=(0,t.useRef)(c);Ee&&!he.current&&(he.current=ae(Ee(me.cache||le),we));const xe=he.current;return xe&&(me.cache=xe[0],me.mutate=xe[1]),H(()=>{if(xe)return xe[2]&&xe[2](),xe[3]},[]),(0,t.createElement)(Je.Provider,_($e,{value:me}))},st=w&&window.__SWR_DEVTOOLS_USE__,ht=st?window.__SWR_DEVTOOLS_USE__:[],gt=()=>{st&&(window.__SWR_DEVTOOLS_REACT__=t.default)},Xe=$e=>v($e[1])?[$e[0],$e[1],$e[2]||{}]:[$e[0],null,($e[1]===null?$e[2]:$e[1])||{}],Re=()=>_(De,(0,t.useContext)(Je)),Ne=($e,Te)=>{const[te,ue]=z($e),[,,,we]=A.get(le);if(we[te])return we[te];const me=Te(ue);return we[te]=me,me},ke=$e=>(Te,te,ue)=>$e(Te,te&&((...me)=>{const[Ee]=z(Te),[,,,he]=A.get(le),xe=he[Ee];return l(xe)?te(...me):(delete he[Ee],xe)}),ue),ot=ht.concat(ke),Dt=$e=>function(...te){const ue=Re(),[we,me,Ee]=Xe(te),he=je(ue,Ee);let xe=$e;const{use:Ve}=he,Pe=(Ve||[]).concat(ot);for(let Ie=Pe.length;Ie--;)xe=Pe[Ie](xe);return xe(we,me||he.fetcher||null,he)},ln=$e=>{const Te=useState({})[1],te=useRef(!1),ue=useRef($e),we=useRef({data:!1,error:!1,isValidating:!1}),me=useCallback(Ee=>{let he=!1;const xe=ue.current;for(const Ve in Ee){const Pe=Ve;xe[Pe]!==Ee[Pe]&&(xe[Pe]=Ee[Pe],we.current[Pe]&&(he=!0))}he&&!te.current&&(W?Te({}):React.startTransition(()=>Te({})))},[Te]);return H(()=>(te.current=!1,()=>{te.current=!0})),[ue,we.current,me]},ct=($e,Te,te)=>{const ue=Te[$e]||(Te[$e]=[]);return ue.push(te),()=>{const we=ue.indexOf(te);we>=0&&(ue[we]=ue[ue.length-1],ue.pop())}},Oe=($e,Te)=>(...te)=>{const[ue,we,me]=Xe(te),Ee=(me.use||[]).concat(Te);return $e(ue,we,No(yr({},me),{use:Ee}))};gt();const Se=$e=>serialize($e)[0],Ze=t.default.use||($e=>{if($e.status==="pending")throw $e;if($e.status==="fulfilled")return $e.value;throw $e.status==="rejected"?$e.reason:($e.status="pending",$e.then(Te=>{$e.status="fulfilled",$e.value=Te},Te=>{$e.status="rejected",$e.reason=Te}),$e)}),Fe={dedupe:!0},Ke=($e,Te,te)=>{const{cache:ue,compare:we,suspense:me,fallbackData:Ee,revalidateOnMount:he,revalidateIfStale:xe,refreshInterval:Ve,refreshWhenHidden:Pe,refreshWhenOffline:Ie,keepPreviousData:ze}=te,[tt,Le,It,on]=A.get(ue),[zt,$t]=z($e),Bt=(0,t.useRef)(!1),xn=(0,t.useRef)(!1),Hn=(0,t.useRef)(zt),ir=(0,t.useRef)(Te),Vn=(0,t.useRef)(te),_t=()=>Vn.current,ut=()=>_t().isVisible()&&_t().isOnline(),[Ce,be,We,qe]=x(ue,zt),Et=(0,t.useRef)({}).current,en=l(Ee)?te.fallback[zt]:Ee,In=(Jt,pn)=>{for(const An in Et){const Fn=An;if(Fn==="data"){if(!we(Jt[Fn],pn[Fn])&&(!l(Jt[Fn])||!we(Dn,pn[Fn])))return!1}else if(pn[Fn]!==Jt[Fn])return!1}return!0},qn=(0,t.useMemo)(()=>{const Jt=(()=>!zt||!Te?!1:l(he)?_t().isPaused()||me?!1:l(xe)?!0:xe:he)(),pn=_n=>{const Qn=_(_n);return delete Qn._k,Jt?yr({isValidating:!0,isLoading:!0},Qn):Qn},An=Ce(),Fn=qe(),Un=pn(An),Gt=An===Fn?Un:pn(Fn);let Zt=Un;return[()=>{const _n=pn(Ce());return In(_n,Zt)?(Zt.data=_n.data,Zt.isLoading=_n.isLoading,Zt.isValidating=_n.isValidating,Zt.error=_n.error,Zt):(Zt=_n,_n)},()=>Gt]},[ue,zt]),cr=(0,a.useSyncExternalStore)((0,t.useCallback)(Jt=>We(zt,(pn,An)=>{In(An,pn)||Jt()}),[ue,zt]),qn[0],qn[1]),pr=!Bt.current,wr=tt[zt]&&tt[zt].length>0,Vr=cr.data,On=l(Vr)?en:Vr,pt=cr.error,hn=(0,t.useRef)(On),Dn=ze?l(Vr)?hn.current:Vr:On,Gn=(()=>wr&&!l(pt)?!1:pr&&!l(he)?he:_t().isPaused()?!1:me?l(On)?!1:xe:l(On)||xe)(),Kt=!!(zt&&Te&&pr&&Gn),wt=l(cr.isValidating)?Kt:cr.isValidating,Lt=l(cr.isLoading)?Kt:cr.isLoading,mt=(0,t.useCallback)(Jt=>Qi(Hd,null,function*(){const pn=ir.current;if(!zt||!pn||xn.current||_t().isPaused())return!1;let An,Fn,Un=!0;const Gt=Jt||{},Zt=!It[zt]||!Gt.dedupe,_n=()=>W?!xn.current&&zt===Hn.current&&Bt.current:zt===Hn.current,Qn={isValidating:!1,isLoading:!1},At=()=>{be(Qn)},fn=()=>{const Mn=It[zt];Mn&&Mn[1]===Fn&&delete It[zt]},gn={isValidating:!0};l(Ce().data)&&(gn.isLoading=!0);try{if(Zt&&(be(gn),te.loadingTimeout&&l(Ce().data)&&setTimeout(()=>{Un&&_n()&&_t().onLoadingSlow(zt,te)},te.loadingTimeout),It[zt]=[pn($t),$()]),[An,Fn]=It[zt],An=yield An,Zt&&setTimeout(fn,te.dedupingInterval),!It[zt]||It[zt][1]!==Fn)return Zt&&_n()&&_t().onDiscarded(zt),!1;Qn.error=c;const Mn=Le[zt];if(!l(Mn)&&(Fn<=Mn[0]||Fn<=Mn[1]||Mn[1]===0))return At(),Zt&&_n()&&_t().onDiscarded(zt),!1;const Wn=Ce().data;Qn.data=we(Wn,An)?Wn:An,Zt&&_n()&&_t().onSuccess(An,zt,te)}catch(Mn){fn();const Wn=_t(),{shouldRetryOnError:rr}=Wn;Wn.isPaused()||(Qn.error=Mn,Zt&&_n()&&(Wn.onError(Mn,zt,Wn),(rr===!0||v(rr)&&rr(Mn))&&ut()&&Wn.onErrorRetry(Mn,zt,Wn,Zn=>{const ur=tt[zt];ur&&ur[0]&&ur[0](ie.ERROR_REVALIDATE_EVENT,Zn)},{retryCount:(Gt.retryCount||0)+1,dedupe:!0})))}return Un=!1,At(),!0}),[zt,ue]),Mt=(0,t.useCallback)((...Jt)=>oe(ue,Hn.current,...Jt),[]);if(H(()=>{ir.current=Te,Vn.current=te,l(Vr)||(hn.current=Vr)}),H(()=>{if(!zt)return;const Jt=mt.bind(c,Fe);let pn=0;const Fn=ct(zt,tt,(Un,Gt={})=>{if(Un==ie.FOCUS_EVENT){const Zt=Date.now();_t().revalidateOnFocus&&Zt>pn&&ut()&&(pn=Zt+_t().focusThrottleInterval,Jt())}else if(Un==ie.RECONNECT_EVENT)_t().revalidateOnReconnect&&ut()&&Jt();else{if(Un==ie.MUTATE_EVENT)return mt();if(Un==ie.ERROR_REVALIDATE_EVENT)return mt(Gt)}});return xn.current=!1,Hn.current=zt,Bt.current=!0,be({_k:$t}),Gn&&(l(On)||L?Jt():k(Jt)),()=>{xn.current=!0,Fn()}},[zt]),H(()=>{let Jt;function pn(){const Fn=v(Ve)?Ve(Ce().data):Ve;Fn&&Jt!==-1&&(Jt=setTimeout(An,Fn))}function An(){!Ce().error&&(Pe||_t().isVisible())&&(Ie||_t().isOnline())?mt(Fe).then(pn):pn()}return pn(),()=>{Jt&&(clearTimeout(Jt),Jt=-1)}},[Ve,Pe,Ie,zt]),(0,t.useDebugValue)(Dn),me&&l(On)&&zt){if(!W&&L)throw new Error("Fallback data is required when using suspense in SSR.");ir.current=Te,Vn.current=te,xn.current=!1;const Jt=on[zt];if(!l(Jt)){const pn=Mt(Jt);Ze(pn)}if(l(pt)){const pn=mt(Fe);l(Dn)||(pn.status="fulfilled",pn.value=!0),Ze(pn)}else throw pt}return{mutate:Mt,get data(){return Et.data=!0,Dn},get error(){return Et.error=!0,pt},get isValidating(){return Et.isValidating=!0,wt},get isLoading(){return Et.isLoading=!0,Lt}}},et=p.defineProperty(Be,"defaultValue",{value:De}),Qe=Dt(Ke)},33600:K=>{"use strict";K.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:K=>{"use strict";K.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:K=>{"use strict";K.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:K=>{"use strict";K.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)},53765:K=>{"use strict";K.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},93854:K=>{"use strict";K.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')}},oi={};function dn(K){var f=oi[K];if(f!==void 0)return f.exports;var e=oi[K]={id:K,loaded:!1,exports:{}};return ti[K].call(e.exports,e,e.exports,dn),e.loaded=!0,e.exports}dn.m=ti,dn.n=K=>{var f=K&&K.__esModule?()=>K.default:()=>K;return dn.d(f,{a:f}),f},(()=>{var K=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,f;dn.t=function(e,t){if(t&1&&(e=this(e)),t&8||typeof e=="object"&&e&&(t&4&&e.__esModule||t&16&&typeof e.then=="function"))return e;var a=Object.create(null);dn.r(a);var i={};f=f||[null,K({}),K([]),K(K)];for(var c=t&2&&e;typeof c=="object"&&!~f.indexOf(c);c=K(c))Object.getOwnPropertyNames(c).forEach(p=>i[p]=()=>e[p]);return i.default=()=>e,dn.d(a,i),a}})(),dn.d=(K,f)=>{for(var e in f)dn.o(f,e)&&!dn.o(K,e)&&Object.defineProperty(K,e,{enumerable:!0,get:f[e]})},dn.f={},dn.e=K=>Promise.all(Object.keys(dn.f).reduce((f,e)=>(dn.f[e](K,f),f),[])),dn.u=K=>""+K+"."+{156:"985a754e890c54ad0b7e",301:"6a1d8f3ed389d60d2154",356:"f6822a87595117835591",486:"50db9ab78649648dd47b",492:"98f8c9cb6c9c90605174",525:"0641354c68d07902c485",563:"3b404bb3cc7ba6c0e3c4",631:"95955a2859bbdb1fd1a6",661:"033a66593a64d3b679a5",695:"3e5f576580876f543516",829:"09cbfbbb401e6d057c9b",853:"82003f4b67ab2357c326",902:"9989b2c7788beb9ae0cf",915:"04f12a278f258859fdf4",968:"17bd999e2e47a1505a13",994:"c7a26b14b7c48c37df93"}[K]+".chunk.js",dn.miniCssF=K=>""+K+"."+{156:"a4d0886bffe6aae9d79e",525:"c4947f5cc20e506f0b98",661:"f8f19cfac1ae955e7dd3",829:"620ff2ea405d85894bcf",853:"7f17ef46759c5d91e115",994:"a4d0886bffe6aae9d79e"}[K]+".css",dn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(K){if(typeof window=="object")return window}}(),dn.hmd=K=>(K=Object.create(K),K.children||(K.children=[]),Object.defineProperty(K,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+K.id)}}),K),dn.o=(K,f)=>Object.prototype.hasOwnProperty.call(K,f),(()=>{var K={},f="substack:";dn.l=(e,t,a,i)=>{if(K[e]){K[e].push(t);return}var c,p;if(a!==void 0)for(var l=document.getElementsByTagName("script"),v=0;v<l.length;v++){var _=l[v];if(_.getAttribute("src")==e||_.getAttribute("data-webpack")==f+a){c=_;break}}c||(p=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,dn.nc&&c.setAttribute("nonce",dn.nc),c.setAttribute("data-webpack",f+a),c.src=e),K[e]=[t];var g=(S,O)=>{c.onerror=c.onload=null,clearTimeout(E);var A=K[e];if(delete K[e],c.parentNode&&c.parentNode.removeChild(c),A&&A.forEach(u=>u(O)),S)return S(O)},E=setTimeout(g.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=g.bind(null,c.onerror),c.onload=g.bind(null,c.onload),p&&document.head.appendChild(c)}})(),dn.r=K=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},dn.nmd=K=>(K.paths=[],K.children||(K.children=[]),K),dn.j=179,dn.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var K=(a,i,c,p,l)=>{var v=document.createElement("link");v.rel="stylesheet",v.type="text/css";var _=g=>{if(v.onerror=v.onload=null,g.type==="load")p();else{var E=g&&(g.type==="load"?"missing":g.type),S=g&&g.target&&g.target.href||i,O=new Error("Loading CSS chunk "+a+` failed.
(`+S+")");O.code="CSS_CHUNK_LOAD_FAILED",O.type=E,O.request=S,v.parentNode&&v.parentNode.removeChild(v),l(O)}};return v.onerror=v.onload=_,v.href=i,c?c.parentNode.insertBefore(v,c.nextSibling):document.head.appendChild(v),v},f=(a,i)=>{for(var c=document.getElementsByTagName("link"),p=0;p<c.length;p++){var l=c[p],v=l.getAttribute("data-href")||l.getAttribute("href");if(l.rel==="stylesheet"&&(v===a||v===i))return l}for(var _=document.getElementsByTagName("style"),p=0;p<_.length;p++){var l=_[p],v=l.getAttribute("data-href");if(v===a||v===i)return l}},e=a=>new Promise((i,c)=>{var p=dn.miniCssF(a),l=dn.p+p;if(f(p,l))return i();K(a,l,null,i,c)}),t={179:0,661:0,492:0,902:0,689:0};dn.f.miniCss=(a,i)=>{var c={156:1,525:1,661:1,829:1,853:1,994:1};t[a]?i.push(t[a]):t[a]!==0&&c[a]&&i.push(t[a]=e(a).then(()=>{t[a]=0},p=>{throw delete t[a],p}))}}})(),(()=>{var K={179:0,661:0,492:0,902:0,689:0};dn.f.j=(t,a)=>{var i=dn.o(K,t)?K[t]:void 0;if(i!==0)if(i)a.push(i[2]);else{var c=new Promise((_,g)=>i=K[t]=[_,g]);a.push(i[2]=c);var p=dn.p+dn.u(t),l=new Error,v=_=>{if(dn.o(K,t)&&(i=K[t],i!==0&&(K[t]=void 0),i)){var g=_&&(_.type==="load"?"missing":_.type),E=_&&_.target&&_.target.src;l.message="Loading chunk "+t+` failed.
(`+g+": "+E+")",l.name="ChunkLoadError",l.type=g,l.request=E,i[1](l)}};dn.l(p,v,"chunk-"+t,t)}};var f=(t,a)=>{var[i,c,p]=a,l,v,_=0;if(i.some(E=>K[E]!==0)){for(l in c)dn.o(c,l)&&(dn.m[l]=c[l]);if(p)var g=p(dn)}for(t&&t(a);_<i.length;_++)v=i[_],dn.o(K,v)&&K[v]&&K[v][0](),K[v]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(f.bind(null,0)),e.push=f.bind(null,e.push.bind(e))})();var $i={};(()=>{"use strict";var K=dn(1824),f=dn(72496),e=dn(6400),t=dn(30396),a=dn(94184),i=dn.n(a),c=dn(1469),p=dn.n(c),l=dn(20042),v=dn(56232),_=dn(13045),g=dn(15045),E=dn(39419),S=dn(26059),O=dn(81243);const A=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function u(r,n,d){return!n||!r?!1:d==="owner"?r.author_id===n.id:n.email===`${d}_for_${r.subdomain}@example.com`}const o=({setExpanded:r})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>r(!0)},(0,e.h)(O.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),s=({pub:r,user:n,setExpanded:d})=>{const[B,Q]=(0,t.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>d(!1)},(0,e.h)(S.Z,{height:20}))),A.map(([ce,ye])=>(0,e.h)("div",null,(0,e.h)("a",{className:i()("button",u(r,n,ce)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,g.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:ce,orig_url:window.location.href})}},ye))),(0,e.h)("form",{onSubmit:ce=>{ce.preventDefault(),B&&(window.location.href=(0,g.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:B,orig_url:window.location.href}))}},(0,e.h)("input",{value:B,onChange:ce=>{var ye;Q((ye=ce.target)==null?void 0:ye.value)},type:"email"}),(0,e.h)("button",{type:"submit"},"Sign in as")))};class w extends e.Component{constructor(n,d){super(n,d),this.onDocumentMouseUp=B=>{!(0,E.isRootOrChild)(B.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:n,user:d},{expanded:B}){var Q;return null}}var P=dn(28488),C=dn(43887),x=dn(76193),D=dn(18597),y=dn(3258),M=dn(89018),T=dn(34755),R=Object.defineProperty,F=Object.defineProperties,N=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,L=(r,n,d)=>n in r?R(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,k=(r,n)=>{for(var d in n||(n={}))V.call(n,d)&&L(r,d,n[d]);if(U)for(var d of U(n))W.call(n,d)&&L(r,d,n[d]);return r},H=(r,n)=>F(r,N(n)),G=(r,n)=>{var d={};for(var B in r)V.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&U)for(var B of U(r))n.indexOf(B)<0&&W.call(r,B)&&(d[B]=r[B]);return d};const z=r=>{var n=r,{svgParams:d}=n,B=G(n,["svgParams"]);return(0,e.h)(T.l,H(k({},B),{name:"SubstackIcon",svgParams:k({height:1e3,width:1e3,fill:M.substack_color,stroke:"none"},d)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};var ee=dn(33705),$=dn(20501);function J(r,n){return[...Array(2*r.length-1)].map((d,B)=>B%2?n:r[B/2])}const j=({publication:r})=>{switch(r==null?void 0:r.subdomain){case"activisionblizzard":return(0,e.h)(ie,null);case"demographyunplugged":return(0,e.h)(oe,null);default:return(0,e.h)(ne,null)}},Z=({publication:r})=>{const{iString:n}=(0,P.M1)();if((r==null?void 0:r.subdomain)==="demographyunplugged")return(0,e.h)(e.Fragment,null,(0,e.h)(C.xv,{translated:!0,size:14,className:"tos"},"Substack's"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy"),","," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms")," ","and"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),(0,e.h)(C.xv,{translated:!0,size:14,className:"tos"},"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")));const d=[(0,e.h)("a",{href:(0,g.getPrivacyUrl)({pub:r,utm_source:""}),target:"__blank"},n("Privacy")),(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},n("Terms")),(0,e.h)("a",{href:`${(0,$.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"__blank"},n("Collection notice"))];return(r==null?void 0:r.subdomain)==="activisionblizzard"&&d.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"))),(r==null?void 0:r.subdomain)==="demographyunplugged"&&(d.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy"))),d.push((0,e.h)(e.Fragment,null,"Demography Unplugged's"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms")))),(0,e.h)(e.Fragment,null,J(d,(0,e.h)("span",null," \u2219 ")))},ne=()=>(0,e.h)(C.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),ie=()=>(0,e.h)(C.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),", and Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy")),oe=()=>(0,e.h)("div",{className:"tos"},(0,e.h)(C.xv,{translated:!0,size:14,color:"tertiary"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."),(0,e.h)(C.xv,{translated:!0,size:14,color:"tertiary"},"You also agree to receive marketing emails from Hedgeye Risk Management, LLC pursuant to its"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/privacy-policy",target:"__blank"},"Privacy Policy")," ","and"," ",(0,e.h)("a",{href:"https://www.demographyunplugged.com/p/terms-of-service",target:"__blank"},"Terms of Service"),"."),(0,e.h)(C.xv,{translated:!0,size:14,color:"tertiary"},"You may unsubscribe at any time by clicking the unsubscribe link in one of the emails."));var re=Object.defineProperty,ae=(r,n,d)=>n in r?re(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,se=(r,n,d)=>(ae(r,typeof n!="symbol"?n+"":n,d),d),fe=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class le extends e.Component{constructor(){super(...arguments),se(this,"checkVisibility",()=>{if(!this.ref)return;const n=this.ref.getBoundingClientRect(),d=this.props.threshold||0,B=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),Q=!(n.bottom<0-d||n.top>=B+d);(0,E.stateTransaction)(this,(ce,ye)=>fe(this,null,function*(){if(ce.isVisible!==Q)this.setState({isVisible:Q});else if(!ye.noDedupe)return;const ge=Q?"hadFirstVisible":"hadFirstInvisible",Ue=!ce[ge];Ue&&this.setState({[ge]:!0}),(yield Promise.all([Q&&ye.onVisible&&ye.onVisible(),Q&&ye.onFirstVisible&&Ue&&ye.onFirstVisible(),!Q&&ye.onInvisible&&ye.onInvisible(),!Q&&ye.onFirstInvisible&&Ue&&ye.onFirstInvisible()])).reduce((xt,Yt)=>Yt===!0||xt)&&this.checkVisibility()}))})}componentDidMount(){return fe(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(n=>setTimeout(n,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:n,children:d}){return(0,e.h)("div",{ref:B=>this.ref=B,className:i()("visibility-check",n)},d)}}const Ae={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},De=({publication:r,user:n,path:d,hideTerms:B,showIntrinioAttrib:Q})=>{const{iString:ce}=(0,P.M1)();typeof B=="undefined"&&(B=!1);const ye=(0,D.Tf)(),_e=(0,x.isMobile)(),ge=(0,x.isIos)(),Ue=(0,x.isAndroid)(),Ct=_e&&(ge||Ue),xt=n&&!n.reader_installed_at,Yt=Ct&&xt;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(le,{onVisible:()=>{(0,y.j)(y.FP.PUBLICATION_FOOTER_SEEN,{publication_id:r==null?void 0:r.id,user_id:n==null?void 0:n.id,source:je(d)})}}),(0,e.h)("div",{className:i()("footer",{"themed-background":ye})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",r&&r.copyright||"Substack Inc"),Q&&(0,e.h)(C.xv,{translated:!0,as:"div",className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!B&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(Z,{publication:r}))),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:i()("footer-substack-cta","start-publishing",Yt&&"app-upsell"),native:!0,href:n!=null&&n.has_publication?`${(0,g.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,g.getSubstackUrl)()}/signup?${(0,g.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(z,null)," ",ce("Start Writing")),!Yt&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,g.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},ce("Get the app")),Yt&&ge&&(0,e.h)("a",{className:Ae.appBadge,href:(0,g.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,g.imginary)("/img/app_page/app-store.png",160*2)})),Yt&&Ue&&(0,e.h)("a",{className:Ae.appBadge,href:(0,g.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,g.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)(C.xv,{translated:!0,as:"div",className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,g.getSubstackUrl)()}`,native:!0},"Substack")," ","is the home for great writing"))))};function je(r){return r?r==="/"?"pub-homepage":r.startsWith("/p")?"pub-post":r:"unknown"}const Je=({slug:r,categoriesMap:n,setExpandCategories:d,hide:B})=>{const{iString:Q,iTemplate:ce}=useI18N();return r==="collapse"?h("u",null,h("a",{onClick:()=>d(!1)},"See less categories")):r==="expand"?h("u",null,h("a",{onClick:()=>d(!0)},"See more categories")):n[r]?h("a",{href:`${getBaseUrl()}/top/${n[r].slug}`,native:!0,style:{display:B?"none":void 0}},ce`Top in ${Q(n[r].canonical_name)}`):null},Be=({categories:r})=>{const{iString:n,iTemplate:d}=useI18N(),[B,Q]=useState(!1),ce={culture:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer","food & drink":"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",finance:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",sports:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",politics:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",technology:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",faith:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",business:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer"},ye=["culture","food","finance","sports","politics","technology","faith","business"],_e=(r==null?void 0:r.length)>0?r==null?void 0:r.map(Ue=>Ue==null?void 0:Ue.slug).filter(Ue=>!ye.includes(Ue)):[],ge={};if((r==null?void 0:r.length)>0)for(const Ue of r)Ue&&(ge[Ue.slug]=Ue);return h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,n("Read")),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Discover")),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Get the app")),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Featured")),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Substack Reader")),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Top podcasts")),(r==null?void 0:r.length)>0?ye.concat(_e).concat(B?"collapse":"expand").filter(Ue=>Ue!=="podcast").map(Ue=>h(Je,{slug:Ue,categoriesMap:ge,setExpandCategories:Q,hide:_e.includes(Ue)&&!B})):Object.entries(ce).map(([Ue,Ct])=>h("a",{href:Ct,native:!0},d`Top in ${Ue}`))),h("div",{className:"footer-info-col"},h("h3",null,n("Writers")),h("a",{href:"/switch?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Switch to Substack")),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Switch from Ghost")),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Get started")),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Go paid")),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For podcasts")),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For bloggers")),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For finance writers")),h("a",{href:"/book?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For authors")),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For comic creators")),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For food writers")),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("For local news"))),h("div",{className:"footer-info-col"},h("h3",null,n("Company")),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},n("About")),h("a",{href:getSupportUrl()},n("Help")),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Jobs")),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Blog")),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Vulnerability Policy")),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Contact")),h("a",{href:"/sitemap",native:!0},n("Sitemap"))),h("div",{className:"footer-info-col"},h("h3",null,n("Resources")),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Resource center")),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Guide to going paid")),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},n("Help center")),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Community and programs")),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},n("Brand assets")))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},n("Substack is the home for great writing"))))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},n("Privacy")),h("a",{className:"bottom-item",href:"/tos",native:!0},n("Terms")),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},n("Collection notice")))))};class st extends e.Component{render({html:n,children:d,metadata:B}){return(0,e.h)("div",{className:"container-border"},(0,E.setMetaData)(B),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},d,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:n}}))))}}var ht=dn(36808);const gt="balance-text",Xe=100,Re=10,Ne=4;function ke(r){Dt(r)&&(r.style.maxWidth="",ot(r,r.clientHeight,0,r.clientWidth)),r.classList.add("visible")}function ot(r,n,d,B){if(B-d<Ne){r.clientHeight>n?r.style.maxWidth=`${B}px`:r.style.maxWidth=`${r.scrollWidth+1}px`;return}if(d>=B){r.style.maxWidth=`${B}px`;return}const Q=(d+B)/2;r.style.maxWidth=`${Q}px`,r.clientHeight>n?ot(r,n,Q,B):ot(r,n,d,Q)}function Dt(r){var n;const d=r.innerHTML,B=r.textContent.split(" "),Q=document.createElement("span");Q.id="element-first-word",Q.textContent=B.shift(),r.innerHTML="",r.appendChild(Q),r.appendChild(document.createTextNode(` ${B.join(" ")}`));const ce=((n=document.getElementById("element-first-word"))==null?void 0:n.offsetHeight)||Q.offsetHeight,ye=r.offsetHeight;return r.innerHTML=d,ye-Re>ce}class ln extends e.Component{constructor(n,d){super(n,d),this.debouncedRebalance=(0,E.debounce)(()=>this.rebalance(),Xe)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(n){return n.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&ke(this.base)}render({text:n}){return(0,e.h)("span",{"data-testid":"balanced-text",className:gt,style:{display:"inline-block"}},n)}}var ct=dn(7922),Oe=dn(84040),Se=dn(51126),Ze=dn(23890);const Ke=({allowAllDay:r,redirect:n,onCancel:d})=>{const[B,Q]=(0,t.eJ)(!1);return(0,e.h)(Ze.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=n||"/",autoLock:!0},(0,e.h)(Se.tu,{gap:8},(0,e.h)(C.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(C.xv.H2,null,"Support Mode"),(0,e.h)(C.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),r&&(0,e.h)("label",null,(0,e.h)(Se.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:ce=>Q(ce.target.checked)})," ",(0,e.h)(C.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),B&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:B?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Se.gq,{gap:8,paddingTop:8},(0,e.h)(Oe.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),d&&(0,e.h)(Oe.zx,{priority:"secondary",onClick:d},"Cancel"))))};var et=dn(41406),Qe=dn(11851),$e=Object.defineProperty,Te=Object.defineProperties,te=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,Ee=(r,n,d)=>n in r?$e(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,he=(r,n)=>{for(var d in n||(n={}))we.call(n,d)&&Ee(r,d,n[d]);if(ue)for(var d of ue(n))me.call(n,d)&&Ee(r,d,n[d]);return r},xe=(r,n)=>Te(r,te(n));const Pe=r=>(0,e.h)(T.l,xe(he({},r),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Ie({text:r,maxLines:n,ellipsesText:d="..."}){const B=(0,t.sO)(null),[Q,ce]=(0,t.eJ)(r);return(0,t.d4)(()=>{(()=>{if(!B.current)return;B.current.innerText="-";const ge=(B.current.clientHeight+1)*n+1;let Ue=0,Ct=0,xt=r.length;for(;Ue<=xt;){if(Ct=Math.floor((Ue+xt)/2),B.current.innerText=r.slice(0,Ct),Ct===r.length&&B.current.clientHeight<=ge){B.current.innerText="",ce(r);return}B.current.clientHeight<=ge?Ue=Ct+1:xt=Ct-1}const Yt=r.slice(0,Ct-d.length-2);B.current.innerText="",ce(Yt+d)})()},[B,r,n,d]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,Q),(0,e.h)("div",{ref:B,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var ze=dn(96789),tt=dn(79786),Le=dn(32076),It=dn(63270),on=dn(80569),zt=dn.n(on),$t=dn(94930),Bt=dn(83322),xn=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const Hn={};function ir(r,n,d,B,Q){return xn(this,arguments,function*(ce,ye,_e,{required:ge=!1,group:Ue=!1,gift:Ct=!1},xt){if(!_e){xt(null);return}_e in Hn||(xt({id:_e,required:ge,loading:!0}),Hn[_e]=yield _t(_e));const Yt=Hn[_e],sn=Yt&&Yt.type==="FREE_TRIAL"&&ye&&(yield ut(_e));sn&&sn.length&&ge?xt({id:Yt&&Yt.id||_e,code:Yt&&Yt.code,name:Yt&&Yt.name,required:ge,error:!0,message:"This coupon has already been redeemed by this user."}):(0,$t.isCouponValid)(Yt,{is_group:Ue,is_gift:Ct,paywallFreeTrialEnabled:ce.paywall_free_trial_enabled})&&(ce.plans||[]).filter(Xt=>(0,$t.isCouponValidForPlan)(Yt,Xt)).length>0?xt(Object.assign({required:ge},Yt)):xt(ge?{id:Yt&&Yt.id||_e,code:Yt&&Yt.code,name:Yt&&Yt.name,required:ge,error:!0,message:"The coupon is not valid or has expired."}:null)})}function Vn(r){return xn(this,null,function*(){let n;try{if(n=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,n&&n.length&&r){const B=yield ut(n[0].id);if(B&&B.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(d){return console.error("Failed to fetch coupons:",d),null}return n.length>0?n[0]:null})}function _t(r){return xn(this,null,function*(){try{return(yield zt().get(`/api/v1/coupon/${r}`)).body}catch(n){return console.error("Failed to fetch coupon:",n),null}})}function ut(r){return xn(this,null,function*(){try{return(yield zt().get(`/api/v1/coupon_redemption/${r}`).query()).body}catch(n){return console.error("Failed to fetch coupon redemptions:",n),null}})}function Ce(r){return xn(this,null,function*(){try{const d=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!d||d.length===0){const B={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(B)}else d[0].valid===!1?yield request.put(`/api/v1/coupon/${d[0].id}`).send(Object.assign({},d[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${d[0].id} already enabled but attempted to be enabled`);return 0}catch(n){return console.error("Failed to create free trial coupon:",n),1}})}function be(){return xn(this,null,function*(){try{const n=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!n||n.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${n[0].id}`).send(Object.assign({},n[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(r){return console.error("Failed to disable free trial coupon:",r),null}})}var We=dn(1852),qe=dn(56242),Et=Object.defineProperty,en=Object.defineProperties,In=Object.getOwnPropertyDescriptors,qn=Object.getOwnPropertySymbols,cr=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable,wr=(r,n,d)=>n in r?Et(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Vr=(r,n)=>{for(var d in n||(n={}))cr.call(n,d)&&wr(r,d,n[d]);if(qn)for(var d of qn(n))pr.call(n,d)&&wr(r,d,n[d]);return r},On=(r,n)=>en(r,In(n)),pt=(r,n)=>{var d={};for(var B in r)cr.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&qn)for(var B of qn(r))n.indexOf(B)<0&&pr.call(r,B)&&(d[B]=r[B]);return d};const hn=r=>{var n=r,{color:d="#1C110B",strokeWidth:B=1}=n,Q=pt(n,["color","strokeWidth"]);return h(SvgIcon,On(Vr({},Q),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),h("path",{d:"M1 13L7 7L1 1",stroke:d,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":B}))},Dn=null;var Gn=Object.defineProperty,Kt=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,Lt=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Jt=(r,n,d)=>n in r?Gn(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,pn=(r,n)=>{for(var d in n||(n={}))mt.call(n,d)&&Jt(r,d,n[d]);if(Lt)for(var d of Lt(n))Mt.call(n,d)&&Jt(r,d,n[d]);return r},An=(r,n)=>Kt(r,wt(n));const Fn=r=>h(SvgIcon,An(pn({},r),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),h("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),h("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"})),Un=null;var Gt=dn(59736),Zt=dn(65726),_n=dn(81671),Qn=dn(85564),At=dn(84753),fn=dn(43174),gn=dn(89734),Mn=dn.n(gn),Wn=dn(45578),rr=dn(85928),Zn=dn.n(rr),ur=Object.defineProperty,Ar=Object.defineProperties,so=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,Qr=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable,So=(r,n,d)=>n in r?ur(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Wt=(r,n)=>{for(var d in n||(n={}))Qr.call(n,d)&&So(r,d,n[d]);if(io)for(var d of io(n))Eo.call(n,d)&&So(r,d,n[d]);return r},jn=(r,n)=>Ar(r,so(n));const Ut=r=>(0,e.h)(T.l,jn(Wt({},r),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"})),qt=()=>h(Sn,null,h(PodcastIcon,{height:10,stroke:"white"}),"Podcast"),Sn=({children:r,className:n})=>h("div",{className:cn("pill",n)},h("span",null,r)),at=null,Pt=({publication:r,logo_size:n=60,isStatic:d=!1,children:B})=>d?h(jt,{publication:r,logo_size:n,children:B}):h("div",{className:"publication card"},n&&h("figure",{className:"logo"},h(PubIcon,{pub:r,logo_url:r.logo_url,size:n})),h("div",{className:"title"},h("div",{className:"name"},r.name),h("div",{className:"description"},r.hero_text),B)),jt=({publication:r,logo_size:n=60,className:d="",children:B})=>h("table",{role:"presentation",className:classnames("publication","card",d,r.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},h("tr",{cellpadding:"0",height:"100%"},n&&h("td",{rowspan:"3",className:"logo"},h("figure",{className:"logo"},r.logo_url?h(PubIcon,{pub:r,logo_url:r.logo_url,size:n,isStatic:!0}):h(SubstackIcon,{isStatic:!0,fill:r.theme_var_background_pop||substack_color,width:n,height:n}))),h("td",null,h("table",{cellpadding:"0",cellspacing:"0"},h("tr",null,h("td",{className:"title"},r.name)),h("tr",{cellpadding:"0",height:"80%"},h("td",{className:"description"},r.hero_text)),B)))),vn=null;var Pn=dn(84017),Rn=Object.defineProperty,$n=Object.defineProperties,ar=Object.getOwnPropertyDescriptors,lr=Object.getOwnPropertySymbols,sr=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,gr=(r,n,d)=>n in r?Rn(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Sr=(r,n)=>{for(var d in n||(n={}))sr.call(n,d)&&gr(r,d,n[d]);if(lr)for(var d of lr(n))fr.call(n,d)&&gr(r,d,n[d]);return r},Gr=(r,n)=>$n(r,ar(n)),Oo=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const zr=({onClick:r,checked:n})=>h("div",{className:"select-all"},h("input",{name:"all",type:"checkbox",onInput:r,checked:n}),h("label",{for:"all",onClick:r},"Select ",n?"none":"all")),yt=({disabled:r,onClick:n,children:d})=>h(Button,{type:"submit",className:"primary xl",disabled:r,onClick:n},d),ft=({isStatic:r=!1,extraProps:n={},linkType:d=null,discoverable:B=null,text:Q,icon:ce=!0,onClick:ye=null})=>{const _e={};d!==null&&(_e.type=d),B!==null&&(_e.discoverable=B);const ge=getFindTwitterPubsUrl(_e);return h("div",Sr({className:"twitter-discover"},n),h("a",Gr(Sr({className:"twitter-link",href:ge},ye&&{onClick:ye}),{native:!0}),h("div",{className:"inner"},ce&&h(TwitterIcon,{stroke:"white",fill:"white",isStatic:r}),h("span",{className:"twitter-link-text"},Q||"Find writers I follow"))))},vt=({pub:r,checked:n,onToggle:d,isSubscribed:B,author:Q,screenName:ce})=>h("li",{className:"linked-pub"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h("div",{className:"subscribed-status"},h("input",{type:"checkbox",checked:n||B,disabled:B,onInput:()=>d(r.id)})),h(UserProfilePhoto,{size:60,photo_url:Q.photo_url}),h("div",{className:"twitter-handle"},h("span",{className:"author"},Q==null?void 0:Q.name),h("span",{className:"handle"}," @",ce))),h("div",{className:"info"},h("div",{className:"publication-row"},h("a",{className:"publication",href:updateQuery(`${getBaseUrl(r)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},h(PubCard,{publication:r,logo_size:30},B?h("div",{className:"subscribed"},h(Pill,null,"Subscribed")):null)))))),kt=({result:r,selectedPubs:n,onToggle:d})=>{var B;const{publicationAuthor:Q,screen_name:ce,publication_id:ye}=r,{name:_e,ownedPublications:ge}=Q,Ue=uniqBy(ge,Yt=>Yt.id),Ct=sortBy(Ue,Yt=>Yt.latestPost[0]?dayjs(Yt.latestPost[0].post_date).toDate():dayjs.unix(1).toDate()).reverse(),xt=Q.photo_url||((B=ge.find(Yt=>Yt.id===ye))==null?void 0:B.logo_url);return Ct.map(Yt=>{const sn=Yt.subscriptions.length;return h(vt,{author:Q,screenName:ce,authorName:_e,showLogo:xt!==Q.photo_url,pub:Yt,checked:n.has(Yt.id),onToggle:d,isSubscribed:sn})})},Qt=({user:r,freeSignupEmail:n,twitterEmail:d,twitterToken:B,onConfirmed:Q,onSubscribed:ce,formAction:ye,pubIds:_e,subscribeToken:ge,redirect:Ue,showDiscover:Ct,editable:xt,showLogout:Yt})=>{const sn=(r==null?void 0:r.email)||n||d,[Xt,Vt]=useState(!1),[un,Tn]=useState(!0),[zn,nr]=useState(sn);_e?Ue=updateQuery(Ue,{pubIds:_e,t:B}):Ue=updateQuery(Ue,{t:B,d:un});const Xn=mr=>{const{userExists:vr,subscribed:_r}=mr.body;_r?ce(_r):vr?vr&&(window.location.href=pathWithQuery(`${getSubstackUrl()}/sign-in`,{with_password:!1,email:zn,redirect:Ue})):Q()};return h("div",{className:"twitter-publications container"},h("section",null,h("div",{className:"terms-check"},h(FancyForm,{onSuccess:mr=>Xn(mr),method:"post",action:ye,loading:!1,autoLock:!0},h("input",{name:"t",type:"hidden",value:B}),_e&&h("input",{name:"pubIds",type:"hidden",value:_e}),ge&&h("input",{name:"subscribeToken",type:"hidden",value:ge}),h("input",{name:"email",type:"text",disabled:!xt&&sn,value:zn,onInput:mr=>nr(mr.target.value)}),h("label",null,h("input",{type:"checkbox",checked:Xt,onInput:()=>Vt(!Xt)}),"I accept the"," ",h("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),Ct&&h("label",null,h("input",{name:"allow_discover",type:"checkbox",checked:un,onInput:()=>Tn(!Xt)}),"Allow people to find my publications via Twitter"),Yt&&h("label",null,h("a",{className:"login-button",href:getSignoutUrl(),native:!0},"Not you?")),h(yt,{disabled:!Xt},"Next \u2192")))))},Cn=()=>h("div",{className:"twitter-publications container landing"},h("h2",null,"Thousands of writers and readers are already on Substack"),h("section",null,h("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",h("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),h("div",{className:"banner"},h(ft,null)))),En=({user:r,stage:n,twitterEmail:d,freeSignupEmail:B,twitterToken:Q})=>!Q&&!r||n=="connect"?h(Cn,null):h(Kn,Sr({},{user:r,stage:n,twitterEmail:d,freeSignupEmail:B,twitterToken:Q})),Kn=({user:r,stage:n,twitterEmail:d,freeSignupEmail:B,twitterToken:Q,buttonText:ce=null,onSignup:ye=null,requireSignup:_e=!0,needsEmailConfirm:ge=!0,renderIfNoneFound:Ue=null,useProfilePrefix:Ct=!1})=>{const[xt,Yt]=useState(null),[sn,Xt]=useState(null),[Vt,un]=useState(null),[Tn,zn]=useState(null),[nr,Xn]=useState(!ge),[mr,vr]=useState(null),[_r,Tr]=useState(!1),[Ir,xr]=useState(new Set),[Mr,br]=useState(null),$r=getQueryItem("subscribed"),Yr=Ct?"/profile":"";$r?ye?ye():(un($r.split(",")),route("/discover-twitter/success")):n&&n!=="connect"&&!xt&&!Vt&&route("/discover-twitter");const Jr=po=>{const yo=new Set(Ir);Ir.has(po)?yo.delete(po):yo.add(po),xr(yo)},ao=po=>flatten(po.map(yo=>{var mo;return((mo=yo.publicationAuthor)==null?void 0:mo.ownedPublications)||[]}));useEffect(()=>Oo(void 0,null,function*(){if(!_r){Tr(!0);try{const po=yield request.get("/api/v1/twitter/publications"),{results:yo,subscribeToken:mo,needsConnect:Vo,needsTwitterConfirm:Zo}=po.body;if(Vo)route("/discover-twitter/connect");else{const $o=ao(yo),Qo=new Set($o.filter(ci=>ci.subscriptions.length===0).map(ci=>ci.id));let vi;Qo.size<=30?vi=new Set(Qo):vi=new Set,Yt(yo),vr(!1),br(mo),Xt(Qo),xr(vi),zn(!Zo)}}catch(po){vr(po)}Tr(!1)}}),[]);let Cr;xt&&(xt.length>0?Tn?Cr=`We found ${xt.length} account${xt.length>1?"s":""} you follow on Twitter`:Cr=`Confirm your email to see ${xt.length} account${xt.length>1?"s":""} you follow on Twitter`:Tn||(Cr="Confirm your email to continue")),n==="confirm"&&(Cr="Confirm your email"),Vt&&(Cr="Success!");const to=xt?ao(xt):null,ho=()=>{Xn(!0),zn(!0)},Co=()=>Oo(void 0,null,function*(){Tr(!0);try{const po=yield request.post("/api/v1/twitter/subscribe").send({pubIds:[...Ir].join(","),t:Q,subscribeToken:Mr});if(ye)ye();else{const{subscribed:yo}=po.body;un(yo),route("/discover-twitter/success")}}catch(po){console.error("error subscribing",po)}Tr(!1)}),vo=po=>{un(po),route("/discover-twitter/success")},Do=po=>{let yo;po?yo=new Set(sn):yo=new Set,xr(yo)},Uo=()=>{!ge||nr?Co():route("/discover-twitter/confirm")};return h("div",{className:"twitter-publications pub-list"},h("h2",{className:n},Cr),_r&&h("p",{className:"loading"},"Loading..."),mr&&h(Fragment,null,h("p",{className:"error"},"Sorry, there was an error getting your results!"),h("div",{className:"banner"},h(ft,null))),h(Router,null,xt&&!Vt&&Tn&&!_r&&h(eo,{path:`${Yr}/discover-twitter`,results:xt,selectedPubs:Ir,subscribablePubs:sn,onToggleChecked:Jr,onToggleAll:Do,onNext:Uo,loading:_r,buttonText:ce,requireSignup:_e,renderIfNoneFound:Ue}),Tn==!1&&h(Qt,{path:`${Yr}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:r,onConfirmed:ho,twitterEmail:d,twitterToken:Q,freeSignupEmail:B,pubIds:[...Ir],showDiscover:!0}),!nr&&h(Qt,{path:`${Yr}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:r,onSubscribed:vo,twitterEmail:d,twitterToken:Q,freeSignupEmail:B,pubIds:[...Ir],subscribeToken:Mr,editable:!1,showLogout:!0}),xt&&Vt&&h(Yn,{path:`${Yr}/discover-twitter/success`,user:r,subscribed:Vt,pubs:to,results:xt})))},or=({pub:r,result:n})=>{const{hero_text:d,stripeAccount:B,logo_url:Q}=r,{screen_name:ce,publicationAuthor:{name:ye,photo_url:_e}}=n,ge=B==null?void 0:B.plans;return h("li",{className:"linked-pub subscribed"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h(UserProfilePhoto,{size:60,photo_url:Q||_e})),h("div",{className:"info"},h("div",{className:"publication-row"},h("div",{className:"publication"},h("div",{className:"name"},"@",ce," - ",ye),h("div",{className:"description"},d)),h("div",null,ge&&h(LinkButton,{className:"outline small button",href:`${getBaseUrl(r)}/subscribe`,target:"_blank"},"Upgrade"))))))},Yn=({subscribed:r,pubs:n,results:d})=>{const B=uniqBy(n.filter(ge=>r.find(Ue=>Ue===ge.subdomain)),ge=>ge.id),[Q,ce]=partition(B,ge=>{var Ue;return(Ue=ge.stripeAccount)==null?void 0:Ue.plans}),ye=[...Q,...ce].length>1,_e=Q.length>1;return h("ul",null,h("div",{className:"sign-up"},Q.length>0?h(Fragment,null,_e?`${Q.length} of the newsletters`:ye?"One of the newsletters":"The newsletter"," ","you subscribed to ",_e?"have":"has"," a paid version. You can upgrade"," ",_e?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${ye?"these newsletters":"this newsletter"}.  Happy reading!`),[...Q,...ce].map(ge=>{const Ue=d.find(Ct=>Ct.screen_name===ge.twitterAccount.screen_name);return Ue?h(or,{pub:ge,result:Ue}):null}))},Er=({onNext:r})=>h("div",null,h("ul",null,h("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),h(LinkButton,{className:"primary button",onClick:()=>{r()}},"Continue"))),eo=({results:r,selectedPubs:n,onNext:d,onToggleChecked:B,onToggleAll:Q,subscribablePubs:ce,loading:ye,buttonText:_e,requireSignup:ge,renderIfNoneFound:Ue})=>{if(r.length===0)return Ue||h(Er,{onNext:d});const Ct=sortBy(r,Tn=>{var zn;let nr;return Tn.publicationAuthor.ownedPublications?nr=maxBy(Tn.publicationAuthor.ownedPublications,Xn=>Xn.latestPost[0]?dayjs(Xn.latestPost[0].post_date).toDate():null):nr=null,nr!=null&&nr.latestPost[0]?dayjs((zn=nr.latestPost[0])==null?void 0:zn.post_date).toDate():dayjs.unix(1).toDate()}).reverse(),[xt,Yt]=partition(Ct,Tn=>(Tn.publicationAuthor.ownedPublications||[]).some(zn=>zn.subscriptions.length===0)),sn=ce.size===n.size,Xt=()=>{Q(!sn)},Vt=(!ge||n.size>0)&&!ye,un=!ge||ce.size>0?h(yt,{onClick:d,disabled:!Vt},_e?(n.size>0?"Subscribe and ":"")+_e:"Sign up \u2192"):null;return h("div",null,h("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),h("ul",null,(!ge||ce.size>0)&&h(Fragment,null,(ce.size>3||!ge)&&un,h("li",null,ce.size<30&&h(zr,{checked:sn,onClick:Xt}))),[...xt,...Yt].map(Tn=>h(kt,{result:Tn,selectedPubs:n,onToggle:B})),un))};var Zr=Object.defineProperty,co=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,lt=(r,n,d)=>n in r?Zr(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ot=(r,n)=>{for(var d in n||(n={}))it.call(n,d)&&lt(r,d,n[d]);if(co)for(var d of co(n))Ye.call(n,d)&&lt(r,d,n[d]);return r};const tn=(0,e.createContext)({});tn.displayName="WWWContext";const an=r=>{const n=d=>{const B=useContext(tn);return h(r,Ot(Ot({},B),d))};return n.displayName=`withWWWContext(${r.name||r.displayName||"Anonymous"})`,n},bn=()=>useContext(tn);var yn=dn(8479),Ln=Object.defineProperty,nt=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,nn=(r,n,d)=>n in r?Ln(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Nn=(r,n)=>{for(var d in n||(n={}))Ge.call(n,d)&&nn(r,d,n[d]);if(nt)for(var d of nt(n))St.call(n,d)&&nn(r,d,n[d]);return r},hr=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function jr(r){const n=useWWWContext(),{categories:d,publications:B=[],categoryId:Q,featuredPublications:ce=[],user:ye,categorySlug:_e,rankingSlug:ge,hasMore:Ue,updateUrl:Ct=!1,maxPublications:xt,showTwitterBanner:Yt,readerOnboardingModal:sn}=Nn(Nn({},n),r),[Xt,Vt]=useState(d),[un,Tn]=useState(Xr(B,xt)),[zn,nr]=useState(Q),[Xn,mr]=useState(Xr(ce,xt)),[vr,_r]=useState(null),[Tr,Ir]=useState("paid"),[xr,Mr]=useState(null),[br,$r]=useState(0),[Yr,Jr]=useState(Ue);useEffect(()=>{const Co=ge||"paid";Ir(Co),Xt||no().then(({categories:vo,publications:Do,featuredPublications:Uo})=>{Vt(vo);const po=getCategoryIdFromSlug(_e,vo);return nr(po),mr(Xr(Uo,xt)),po==="featured"?Do:Mo(po,Co,0).then(({publications:yo,more:mo})=>($r(0),xt||Jr(mo),yo))}).then(vo=>{Tn(Xr(vo,xt))})},[Xt,_e,ge,xt]);const ao=useCallback(()=>{const Co=br+1;track(EVENTS.VIEWED_MORE_CATEGORY,{categoryId:zn,ranking:Tr,page:Co}),Mo(zn,Tr,Co).then(({publications:vo,more:Do})=>{const Uo=new Set(un.map(po=>po.id));$r(Co),Tn(un.concat(vo.filter(po=>!Uo.has(po.id)))),Jr(Do)})},[zn,Tr,br,un,$r,Tn,Jr]),Cr=({categoryId:Co,ranking:vo,categories:Do})=>{track(EVENTS.CLICKED_CATEGORY,{categoryId:Co,ranking:vo}),Ct&&route(ko({categoryId:Co,categories:Do,ranking:vo}),!0),ho({categoryId:Co,ranking:vo})},to=Co=>{Ir(Co),Ct&&route(ko({categoryId:zn,categories:Xt,ranking:Co}),!0),ho({categoryId:zn,ranking:Co})},ho=useCallback(Co=>hr(this,[Co],function*({categoryId:vo,ranking:Do}){if(nr(vo),$r(0),vo==="featured"||vo==="twitter"){_r(null),Mr(null),Jr(!1),vo==="featured"&&Tn(Xr(Xn,xt));return}_r(vo),Mr(Do),Tn([]),Jr(!1);const{publications:Uo,more:po}=yield Mo(vo,Do,0);nr(vo),_r(null),Mr(null),Ir(Do),$r(0),xt||Jr(po),Tn(Xr(Uo,xt))}),[_r,Mr,nr,$r,Jr,Tn,Xn,xt]);return{categories:Xt,publications:zn==="featured"?Xn:un,categoryId:zn,ranking:Tr,loadingCategoryId:vr,loadingRanking:xr,featuredPublications:Xn,user:ye,categorySlug:_e,rankingSlug:ge,hasMore:Yr,viewMore:ao,loadPublications:ho,onCategoryClicked:Cr,getCategoryIdFromSlug,setCategoryId:nr,setRanking:Ir,onRankingChange:to,maxPublications:xt,showTwitterBanner:Yt,readerOnboardingModal:sn}}const Xr=(r,n)=>n?r.slice(0,n):r,no=()=>fetchJson("/api/v1/homepage/initial-category-data"),Mo=(r,n="paid",d=0)=>fetchJson(`/api/v1/category/public/${r}/${n}?page=${d}`),ko=({categoryId:r,ranking:n,categories:d})=>{let B="";["twitter"].includes(r)&&(B=r);const Q=d.find(ce=>ce.id===r);return Q!=null&&Q.slug&&(B=`${Q.slug}/${n}`),B?`/discover/category/${B}`:"/discover"},Bo=({children:r,separator:n})=>{const d=[],B=(0,e.toChildArray)(r);return B.forEach((Q,ce)=>{d.push(Q),ce!==B.length-1&&d.push(n)}),(0,e.h)(e.Fragment,null,d)};var Wo=dn(95297),Jo=Object.defineProperty,Ho=Object.getOwnPropertySymbols,Go=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,Nt=(r,n,d)=>n in r?Jo(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,mn=(r,n)=>{for(var d in n||(n={}))Go.call(n,d)&&Nt(r,d,n[d]);if(Ho)for(var d of Ho(n))Rt.call(n,d)&&Nt(r,d,n[d]);return r},tr=(r,n)=>{var d={};for(var B in r)Go.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Ho)for(var B of Ho(r))n.indexOf(B)<0&&Rt.call(r,B)&&(d[B]=r[B]);return d};function dr(r){const n=!r.disable_monthly_subscriptions&&r.plans&&r.plans.filter(Q=>Q.interval==="month").sort((Q,ce)=>Q.amount-ce.amount)[0],d=r.plans&&r.plans.filter(Q=>Q.interval==="year").sort((Q,ce)=>Q.amount-ce.amount)[0],B=n||d;if(B)return(0,Bt.planBasePricing)(B)}const Pr={desktop:15,mobile:6};function Or(r,{includePrice:n=!0,includeRankingDetail:d=!0,includeByline:B=!0,includeBadge:Q=!1,rankingDetailOverrideText:ce=null,language:ye="en"}={}){const _e=ye||r.language,{iTemplate:ge}=I18N.i(ye||r.language),Ue=(0,Bt.getByLine)(r);let Ct=null;return d&&(Ct=ce||(r.rankingDetailByLanguage&&_e!=="en"&&r.rankingDetailByLanguage[_e]?r.rankingDetailByLanguage[_e].rankingDetail:r.rankingDetail)),(0,e.h)(Bo,{separator:" \xB7 "},B&&Ue&&(0,e.h)(Se.hs,{inline:!0,gap:4},ge`By ${Ue}`,Q&&(0,e.h)(Wo.s,{size:"sm",tier:r.author_bestseller_tier,userId:r.author_id})),Ct,n&&dr(r))}const Ur=({className:r,hasFeatured:n,categories:d,categoryId:B,categoryIds:Q,loadingCategoryId:ce,ranking:ye,onCategoryClicked:_e,defaultExpanded:ge})=>{const[Ue,Ct]=useState(ge||!1),xt=useMediaQuery({query:"only screen and (max-width: 650px)"}),Yt=Pr[xt?"mobile":"desktop"],sn=Ue?d:d.slice(0,Yt),Xt=Tn=>Tn.id===B||(Q==null?void 0:Q.includes(Tn.id)),{iString:Vt,iTemplate:un}=useI18N();return h("div",{className:cn("categories",r)},n?h(Button,{className:cn({active:B==="featured"&&(!ce||ce==="featured"),loading:ce==="featured"&&B!=="featured"}),onClick:()=>_e({categoryId:"featured",ranking:"all",categories:d})},Vt("Featured")):null,sn.map(Tn=>h(Button,{key:Tn.id,className:cn({active:Xt(Tn)&&(!ce||ce===Tn.id),loading:ce===Tn.id&&B!==Tn.id}),onClick:()=>_e({categoryId:Tn.id,ranking:ye,categories:d})},Tn.id==="twitter"&&h(TwitterIcon,{width:xt?12:15,height:xt?12:15,strokeWidth:0}),Vt(Tn.name||""))),d.length>Yt&&!Ue&&h(Button,{className:"show-more",onClick:()=>Ct(!0)},h(LargePlusIcon,null)))},Hr=({publications:r,explanations:n,ranking:d,openInNew:B,startRankAt:Q=0,source:ce,onPublicationVisited:ye=null,user:_e,categoryId:ge})=>{const{language:Ue}=useI18N();return h(Fragment,null,h("div",{className:"publications"},r.map((Ct,xt)=>{var Yt,sn,Xt;let Vt=n&&n[xt];if(!Ct)return;Vt||(Vt=[]);const un=Vt.filter(Tr=>["posts.title","posts.subtitle"].includes(Tr.type)),Tn=!!((sn=(Yt=un[0])==null?void 0:Yt.posts[0][0])!=null&&sn.slug);let zn;Tn&&(zn=(Xt=un[0])==null?void 0:Xt.posts[0][0]);const nr=Vt.filter(Tr=>Tr.type==="description")[0],Xn=Vt.filter(Tr=>["name","subdomain","hero_text","custom_domain","author_name"].includes(Tr.type)).length>0||!nr&&!zn,mr=Vt.filter(Tr=>Tr.type==="description").map(Tr=>Tr.keyword),vr=Vt.filter(Tr=>["posts.title","posts.subtitle"].includes(Tr.type)).map(Tr=>Tr.keyword),_r=getPubUrl(Ct,{params:{utm_source:ce||"discover"},signedIn:!!_e});return h("a",{key:Ct.id,className:"publication",href:_r,native:!0,target:B?"_blank":null,onClick:Tr=>{trackPublicationVisit(Ct,ce||"leaderboards",{position:xt+1,category:ge}),ye&&ye(Ct)},rel:"noopener"},d==="paid"?h("div",{className:"publication-rank"},xt+1+Q):null,h("div",{className:"publication-content"},h(PubIcon,{pub:Ct,href:_r,logo_url:Ct.logo_url||Ct.author_photo_url,linkify:!1,belowTheFold:!0}),h("div",{className:"publication-text-area"},h("div",{className:"publication-title"},Ct.name),(Xn||zn)&&h("div",{className:"publication-description"},Ct.editorial_bio||Br(Ct.hero_text,mr)),!Xn&&nr&&!zn&&h("div",{className:"publication-description"},Br(nr.sentence,mr)),!Xn&&zn&&h("div",{className:"publication-explanation-box"},Tn&&h("a",{className:"title",href:getPostUrl(Ct,zn)},h("div",{className:"post-preview-content"},h("div",{className:"left-flex"},h("p",{className:"title"},Br(zn.title,vr)),h("p",{className:"subtitle"},Br(zn.subtitle,vr))),h("div",{className:"right-flex"},h("img",{src:zn.cover_image,className:zn.cover_image?"":"no-preview"}))))),h("div",{className:"publication-author"},Or(Ct,{language:Ue})))))})))};function Br(r,n){if(!r)return"";const d=new RegExp(n.join("|"),"ig"),B=r.split(d),Q=[...r.matchAll(d)];return h("span",null,B.map((ce,ye)=>h(Fragment,null,ce,ye!==B.length-1&&h("b",null,Q[ye]))))}const Dr=({onCategoryClicked:r,categoryId:n,ranking:d,loadingRanking:B,categories:Q})=>["featured","twitter"].includes(n)?null:h("div",{className:"ranking-toggle"},h(LinkButton,{className:cn({active:d==="paid"&&!B||B==="paid",loading:B==="paid"&&d!=="paid"}),onClick:()=>r({categoryId:n,ranking:"paid",categories:Q})},"Top paid"),"  \xB7  ",h(LinkButton,{className:cn({active:d==="all"&&!B||B==="all",loading:B==="all"&&d!=="all"}),onClick:()=>r({categoryId:n,ranking:"all",categories:Q})},"All")),bo=r=>{var n=r,{Component:d=Po}=n,B=tr(n,["Component"]);const Q=useLeaderboards(B);return Q.categories?h(d,mn({},Q)):null};class Po extends null{componentDidUpdate(n){if(this.props.categorySlug===n.categorySlug&&this.props.rankingSlug===n.rankingSlug)return;const d=getCategoryIdFromSlug(this.props.categorySlug,this.props.categories),B=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:d,ranking:B})}startReading(n){window.sessionStorage.setItem("initialJoinSubstack","true"),track(EVENTS.HOMEPAGE_READER_LINK_CLICKED,{url:getBaseReaderUrl()}),redirect(getBaseReaderUrl(),{event:n})}render({categories:n,publications:d,categoryId:B,loadingCategoryId:Q,ranking:ce,loadingRanking:ye,onCategoryClicked:_e,hasMore:ge,viewMore:Ue,featuredPublications:Ct,maxPublications:xt,showTwitterBanner:Yt,user:sn}){const Xt=B==="featured",Vt=B==="twitter",un=n.find(Tn=>Tn.id===B);return h("div",{className:cn("new-landing-page reader-landing-page page",{"category-featured":Xt})},h("div",{className:"container"},h("div",{className:"landing-content"},h("div",{className:"landing-section landing-publications"},h("div",{className:"publications-header not-mobile"},h(Dr,{categories:n,categoryId:B,ranking:ce,onCategoryClicked:_e})),h(Hr,{publications:d,ranking:Xt?"all":ce,categoryId:B}),ce==="all"&&!Xt&&!Vt&&!xt&&ge&&h("div",{className:"view-more"},h(Button,{className:"primary top-pad",onClick:Ue},"View more")),xt&&B!=="featured"&&h("div",{className:"see-all",style:{paddingLeft:ce==="all"?"108px":"146px"}},h("a",{href:Xt?getDiscoverCategoryUrl():getDiscoverCategoryUrl(un,ce),native:!0},"See all"," ",h(CaretRightIcon,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),h("div",{className:"landing-section landing-categories"},h("div",{className:"only-mobile"},h("div",{className:"mobile-toggle"},h(Dr,{categories:n,categoryId:B,ranking:ce,onCategoryClicked:_e}))),h(Ur,{hasFeatured:Ct&&Ct.length>0,categories:n,categoryId:B,loadingCategoryId:Q,onCategoryClicked:_e,ranking:ce,loadingRanking:ye}))),Yt&&B==="featured"&&!(sn!=null&&sn.has_linked_twitter)?h(TwitterBanner,null):null))}}const uo=null;var lo=dn(6385),go=Object.defineProperty,_o=Object.defineProperties,oo=Object.getOwnPropertyDescriptors,wo=Object.getOwnPropertySymbols,To=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,pe=(r,n,d)=>n in r?go(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ve=(r,n)=>{for(var d in n||(n={}))To.call(n,d)&&pe(r,d,n[d]);if(wo)for(var d of wo(n))de.call(n,d)&&pe(r,d,n[d]);return r},Me=(r,n)=>_o(r,oo(n)),rt=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const dt="intro_popup_last_hidden_at";function Tt({publication:r,user:n,post:d,onHide:B,freeSignup:Q,hidden:ce,alwaysShow:ye,showOnMount:_e,freeSignupEmail:ge,coupon:Ue,email:Ct,referralCode:xt,noBalance:Yt,blurbs:sn,launchWelcomePage:Xt}){const[Vt,un]=(0,t.eJ)(null),[Tn,zn]=(0,t.eJ)(!1),[nr,Xn]=(0,t.eJ)(!!(Xt||ye));(0,t.d4)(()=>{if(Xt&&!Tr()||vr()){if(typeof window!="undefined"&&((0,E.addClass)(document.documentElement,"has-intro-popup"),ir(r,n,Ue,{required:!0},br=>un(br))),(0,g.getQueryItem)("r")){const br=(0,g.getQueryItem)("r");(!n||(0,Bt.userReferralKey)(n)!==br)&&(0,y.j)(y.FP.COVER_PAGE_REFERRAL_VISIT,{referral_key:br,referring_user:(0,Bt.userFromReferralKey)(br)})}mr()}else B&&B(),(0,K.a)({hide_intro_popup:!0});return()=>{typeof window!="undefined"&&(0,E.removeClass)(document.documentElement,"has-intro-popup"),_r(!0)}},[]);const mr=()=>{typeof window!="undefined"&&((0,E.addClass)(document.documentElement,"show-intro-popup"),(0,y.j)(y.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!r.cover_photo_url,has_free_signup_email:!!ge,has_free_signup:!!Q,functional_version:!0,launch_welcome_page:Xt,always_show:ye,hidden:ce}),ye||(0,y.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`})),Xn(!0)},vr=()=>ye?!0:ce?!1:_e||Tn?!0:!(Tr()||!(typeof d=="undefined"||d===null||d&&!(0,lo.isPaidAudience)(d.audience))||Q||n&&(n.is_free_subscribed||n.is_subscribed)),_r=br=>{br||(Ir(),setTimeout(()=>{(0,K.a)({hide_intro_popup:!0})},500)),B&&B(),!ye&&typeof window!="undefined"&&(0,E.hasClass)(document.documentElement,"show-intro-popup")&&(0,E.removeClass)(document.documentElement,"show-intro-popup")},Tr=()=>{const br=ht.get(dt);if(br){const $r=new Date(br),Yr=new Date(Date.now()-24*60*60*1e3);if($r>Yr)return!0}return!1},Ir=()=>{ht.set(dt,new Date().toJSON(),{expires:365*10})},xr=br=>rt(this,null,function*(){(0,y.j)(y.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!br.body.prompt_to_login,has_plans:!!r.plans,functional_version:!0}),Ir(),zn(!0),(0,K.a)({freeSignup:!0,freeSignupEmail:br.body.email});const $r=ye?"/":document.location.href;br.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,g.pathWithQuery)("/account/login",{redirect:$r,email:br.body.email})},30):document.location.href=(0,g.pathWithQuery)("/subscribe",Me(ve(ve({next:$r,later:!0,just_signed_up:!0},br.body.subscription_id&&{subscription_id:br.body.subscription_id}),br.body.referral_token&&{referral_token:br.body.referral_token}),{coupon:Ue,requires_confirmation:br.body.requires_confirmation?"true":"",utm_source:"cover_page",email:br.body.email,skip_redirect_check:!0}))}),Mr=()=>{(0,y.j)(y.FP.COVER_PAGE_MAYBE_LATER_CLICKED,{functional_version:!0}),_r()};return!nr||!vr()?null:(0,e.h)("div",{className:"intro-popup"},(0,e.h)("div",{className:"intro-popup-page"},(0,e.h)(rn,{source:"cover_page",email:Ct,pub:r,user:n,freeSignup:Q,freeSignupEmail:ge,referralCode:xt,forceSignup:(0,g.getQueryItem)("force"),coupon:Vt!=null?Vt:void 0,onMaybeLater:Mr,onFreeSignup:xr,markAsHidden:Ir,blurbs:sn,noBalance:Yt})))}const Ft=r=>h("div",{className:"intro-inline"},h(rn,ve({},r))),rn=({pub:r,user:n,email:d,freeSignup:B,freeSignupEmail:Q,referralCode:ce,source:ye,coupon:_e,forceSignup:ge,submitButtonText:Ue,onMaybeLater:Ct,onFreeSignup:xt,noBalance:Yt,markAsHidden:sn,blurbs:Xt})=>{const Vt=(0,t.qp)(Le.vz),{iString:un}=(0,P.M1)(),Tn=(0,g.getQueryItem)("referralCode"),zn=(0,g.getQueryItem)("refSource"),nr=un("Learn More"),Xn=(0,g.getAboutUrl)(r,{params:ve(ve({utm_source:"subscribe_email",utm_content:"learn_more"},Tn&&{referralCode:Tn}),zn&&{refSource:zn})});(0,t.d4)(()=>{ye==="subscribe_page"&&(0,y.j)(y.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN,{functional_version:!0}),(0,y.j)(y.FP.FULL_EMAIL_FORM_SHOWN,{source:ye,functional_version:!0})},[ye]);const mr=Xt?Xt.filter(vr=>vr.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},Ct&&!r.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:Ct,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(S.Z,null)),(0,e.h)(Lr,{pub:r,noBalance:Yt}),_e&&_e.required&&(0,e.h)("p",{className:`coupon ${_e.loading?"loading":""} ${_e.error?"error":""}`},_e.loading?un("Loading coupon"):_e.error?un("Invalid coupon!"):un("Valid coupon!"),` ${(_e.name||_e.id).toUpperCase()}`),r.invite_only&&(!n||!n.is_free_subscribed)?(0,e.h)(Jn,{pub:r,user:n,freeSignupEmail:Q}):(0,e.h)(e.Fragment,null,(0,e.h)(_.gq,{justifyContent:"center",style:{width:"100%"}},(0,e.h)(et.Z,{email:d,freeSignup:B,freeSignupEmail:Q,markWelcomePageAsHidden:sn,pub:r,referralCode:ce,source:ye,submitButtonText:Ue,user:n,onConfirmationRequired:r.payments_state==="enabled"?()=>null:void 0,onMaybeLater:Ct,onSuccess:xt||(()=>document.location.href="/")})),!ge&&(Ct?(0,e.h)("a",{onClick:vr=>vr.preventDefault(),className:"no-styles"},(0,e.h)(ct.Z,{className:"maybe-later",onClick:Ct},Vt.getSettingFor("welcome_page_opt_out_text")==="No thanks"?un("No thanks"):Vt.getSettingFor("welcome_page_opt_out_text"),(0,e.h)(Pe,null))):(0,e.h)(ct.Z,{className:"maybe-later",href:Xn},nr,(0,e.h)(Pe,null)))),!!(mr!=null&&mr.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(mr!=null&&mr.length)&&(0,e.h)(_.gq,{className:"blurbs",gap:20},mr.map(vr=>(0,e.h)(_.tu,{gap:8,className:"blurb"},(0,e.h)(_.xv.B4,{className:"blurb-text"},(0,e.h)(Ie,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${vr.description}\u201D`})),(0,e.h)(_.xv.B4,{weight:"semibold",className:"blurb-text"},vr.author_name||vr.recommendingPublication.email_from_name||vr.recommendingPublication.copyright,","," ",(0,e.h)("a",{href:(0,g.getBaseUrl)(vr.recommendingPublication)},vr.recommendingPublication.name)))))),(0,e.h)(j,{publication:r}))};class Bn extends e.Component{constructor(){super(...arguments),this.emailInput=null,this.customerSupportModeModal=null,this.form=null,this.canTurnOnCustomerSupportMode=()=>{const n=this.props.user;return(n==null?void 0:n.is_global_admin)&&!(n!=null&&n.is_admin)},this.showCustomerSupportModeModal=()=>{var n;this.canTurnOnCustomerSupportMode()&&((n=this.customerSupportModeModal)==null||n.open())}}componentDidMount(){const n=this.props.freeSignupEmail||this.props.user&&this.props.user.email;n&&this.emailInput&&(this.emailInput.value=n)}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(ze.p,{className:"account-info-customer-support-mode-modal",ref:n=>this.customerSupportModeModal=n},(0,e.h)(Ke,{redirect:(0,g.getQueryItem)("redirect")||"/publish/home",onCancel:n=>{var d;return(d=this.customerSupportModeModal)==null?void 0:d.close(n)},allowAllDay:!1}))}render({pub:n,user:d,freeSignupEmail:B,iString:Q},{loading:ce,success:ye}){const _e=B||d&&d.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(Ze.ZP,{className:"subscription-request-form",ref:ge=>this.form=ge,noInlineErrors:!0,action:(0,g.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,g.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:ge=>{this.setState({loading:!1}),alert((0,E.getNetworkErrorMessage)(ge,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:f.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:f.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:f.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:f.xU}),!!_e&&(0,E.inputPrefillHack)(),(0,e.h)(_.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:ge=>this.emailInput=ge,readOnly:!!(_e||ce),disabled:!!(ce||ye||_e),autoFocus:!_e&&!(0,E.isMobileBrowser)(),placeholder:Q("Type your email...")}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(ct.Z,{className:i()(ye?"secondary":"primary"),type:"submit",disabled:!!(ce||ye),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},Q(ye?"Requested":"Subscribe"))))),(0,e.h)(_.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(Qe.Z,{className:"private-lock-icon"}),(0,e.h)(_.tu,{gap:2},(0,e.h)(_.xv.B4,{translated:!0,weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(_.xv.B4,{translated:!0,className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:n.subdomain,redirect:"/",change_user:!!(d||B)}),native:!0},(0,e.h)(_.xv,{as:"span",translated:!0},"Already a member?")," ",d||B?(0,e.h)(_.xv,{weight:"bold",as:"span",translated:!0},"Switch accounts"):(0,e.h)(_.xv,{weight:"bold",as:"span",translated:!0},"Sign in")))}}Bn.state={loading:!1,success:!1};const Jn=(0,P.fz)(Bn),Lr=({pub:r,noBalance:n})=>{var d;const{getSettingFor:B}=(0,Le.So)(),{getConfigFor:Q}=(0,It.xR)(),ce=Q("section_specific_welcome_pages");let ye,_e,ge,Ue,Ct,xt;ce&&r.section?(ye=r.section.name,_e=r.section.description,ge=(d=r.section.logo_url)!=null?d:r.logo_url,Ue=r.section.cover_photo_url,Ct=!!(Ue&&r.section.hide_intro_title),xt=!!(Ue&&r.section.hide_intro_subtitle)):(ye=r.name,_e=r.hero_text,ge=r.logo_url,Ue=r.cover_photo_url,Ct=!!(Ue&&r.hide_intro_title),xt=!!(Ue&&r.hide_intro_subtitle));const Yt=B("display_welcome_page_details");return(0,e.h)(e.Fragment,null,Ue?(0,e.h)(tt.e,{className:"publication-cover-photo",src:Ue,imageProps:{quality:"auto:best"},maxWidth:1360,alt:ye,loading:"eager"}):ge&&(0,e.h)(tt.e,{className:"publication-logo",src:ge,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${ye} Logo`,loading:"eager"}),!Ct&&(0,e.h)("h1",{className:i()("publication-name",{"no-logo":!ge,"with-cover":Ue})},n?ye:(0,e.h)(ln,{text:ye})),!xt&&_e&&(0,e.h)("p",{className:i()("publication-tagline with-cover",{verbose:!0,"with-cover":Ue})},n?_e:(0,e.h)(ln,{text:_e})),(0,e.h)("div",{className:"publication-meta"},Or(r,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:r.rankingDetailFreeSubscriberCount,includeRankingDetail:!!Yt})))};function kr(r,n){for(const[d,B]of Object.entries(n))B!=null&&(r[d]=B);return r}function Rr(r){var n,d,B;return r.link_title||((n=r.postTag)==null?void 0:n.name)||((d=r.section)==null?void 0:d.name)||((B=r.post)==null?void 0:B.title)||""}function qr(r){var n;return r.postTag?"tag":r.section?"section":((n=r.post)==null?void 0:n.type)==="page"?"page":r.post?"post":"link"}function xo(r,{isPodcastActive:n,isChatActive:d,isMeetingsActive:B,hasMultipleNewsletters:Q,isChatEnabled:ce,isFeedEnabled:ye,isReaderReferralsLeaderboardActive:_e,language:ge="en"}){var Ue;const Ct=r.filter(Xt=>!Xt.standard_key),xt=new Map(r.filter(Xt=>Xt.standard_key).map(Xt=>[Xt.standard_key,Xt])),{iString:Yt}=I18N.i(ge);for(const Xt of Ct)(Ue=Xt.section)!=null&&Ue.hide_from_navbar&&(Xt.is_hidden=!0);const sn=[ye&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},ce&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!d},B&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...Ct,{standard_key:"archive",link_title:Yt("Archive"),link_url:"/archive"},Q&&{standard_key:"newsletters",link_title:Yt("Newsletters"),link_url:"/newsletters",is_hidden:!0},_e&&{standard_key:"leaderboard",link_title:Yt("Leaderboard"),link_url:"/leaderboard"},{standard_key:"about",link_title:Yt("About"),link_url:"/about"}].filter(Xt=>!!Xt);for(const Xt of sn)if(Xt.standard_key){const Vt=xt.get(Xt.standard_key);Vt&&kr(Xt,Vt)}return sn}var fo=dn(98661),He=dn(4190),Ht=Object.defineProperty,wn=Object.defineProperties,kn=Object.getOwnPropertyDescriptors,er=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,Fr=(r,n,d)=>n in r?Ht(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ro=(r,n)=>{for(var d in n||(n={}))Nr.call(n,d)&&Fr(r,d,n[d]);if(er)for(var d of er(n))Wr.call(n,d)&&Fr(r,d,n[d]);return r},Ko=(r,n)=>wn(r,kn(n)),si;const Xo=typeof window!="undefined"&&window._preloads||He.xu,Lo=typeof window!="undefined"?(si=window._preloads)==null?void 0:si.siteConfigs:{},Ao=(r,n)=>ro(ro({},(0,He.ng)(r,n)),(0,It.Xz)(r)),ji=(0,e.createContext)(Ao(Lo,Xo));ji.displayName="ExperimentsAndSiteConfigContext";function Ra({siteConfigs:r={},experimentInfo:n,children:d}){const B=n||Xo,Q=(0,t.Ye)(()=>Ao(r,B),[r,B]);return(0,e.h)(ji.Provider,{value:Q},d)}function La(){return useContext(ji)}const Ms=r=>{const n=forwardRef((d,B)=>{const Q=La();return h(r,Ko(ro(ro({},Q),d),{ref:B}))});return n.displayName=`withExperimentsAndSiteConfigContext(${r.displayName||r.name||"Anonymous"})`,n};var Ii=dn(44396),Si=dn(19826),na=dn(66120),di=dn(87021);const da=(0,di.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Na=(0,di.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var qa=Object.defineProperty,es=Object.defineProperties,ts=Object.getOwnPropertyDescriptors,ka=Object.getOwnPropertySymbols,ec=Object.prototype.hasOwnProperty,tc=Object.prototype.propertyIsEnumerable,Rl=(r,n,d)=>n in r?qa(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,nc=(r,n)=>{for(var d in n||(n={}))ec.call(n,d)&&Rl(r,d,n[d]);if(ka)for(var d of ka(n))tc.call(n,d)&&Rl(r,d,n[d]);return r},rc=(r,n)=>es(r,ts(n));const Io=r=>(0,e.h)(T.l,rc(nc({},r),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var Fo=Object.defineProperty,qo=Object.defineProperties,Yo=Object.getOwnPropertyDescriptors,Pi=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,Rs=(r,n,d)=>n in r?Fo(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,pa=(r,n)=>{for(var d in n||(n={}))ki.call(n,d)&&Rs(r,d,n[d]);if(Pi)for(var d of Pi(n))va.call(n,d)&&Rs(r,d,n[d]);return r},Ls=(r,n)=>qo(r,Yo(n));const _a=r=>(0,e.h)(T.l,Ls(pa({},r),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var oc=Object.defineProperty,ks=Object.defineProperties,ns=Object.getOwnPropertyDescriptors,Kd=Object.getOwnPropertySymbols,r1=Object.prototype.hasOwnProperty,o1=Object.prototype.propertyIsEnumerable,Vd=(r,n,d)=>n in r?oc(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,i1=(r,n)=>{for(var d in n||(n={}))r1.call(n,d)&&Vd(r,d,n[d]);if(Kd)for(var d of Kd(n))o1.call(n,d)&&Vd(r,d,n[d]);return r},a1=(r,n)=>ks(r,ns(n));const s1=r=>(0,e.h)(T.l,a1(i1({},r),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var l1=Object.defineProperty,u1=Object.defineProperties,c1=Object.getOwnPropertyDescriptors,zd=Object.getOwnPropertySymbols,d1=Object.prototype.hasOwnProperty,p1=Object.prototype.propertyIsEnumerable,$d=(r,n,d)=>n in r?l1(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,f1=(r,n)=>{for(var d in n||(n={}))d1.call(n,d)&&$d(r,d,n[d]);if(zd)for(var d of zd(n))p1.call(n,d)&&$d(r,d,n[d]);return r},h1=(r,n)=>u1(r,c1(n));const m1=r=>(0,e.h)(T.l,h1(f1({},r),{name:"LucideTabHome",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M3.00034 9.4876C3.00034 9.17901 3.14281 8.88919 3.3864 8.69973L12.0003 2L20.6143 8.69973C20.8579 8.88919 21.0003 9.17923 21.0003 9.48782C21.0003 12.4545 21.0003 22 21.0003 22H15V15C15 13.3431 13.6569 12 12 12V12C10.3431 12 9 13.3431 9 15V22H3C3 22 3.00032 13.9501 3.00034 9.4876Z","stroke-linecap":"round","stroke-linejoin":"round"}));var g1=Object.defineProperty,v1=Object.defineProperties,_1=Object.getOwnPropertyDescriptors,Gd=Object.getOwnPropertySymbols,y1=Object.prototype.hasOwnProperty,b1=Object.prototype.propertyIsEnumerable,Zd=(r,n,d)=>n in r?g1(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,E1=(r,n)=>{for(var d in n||(n={}))y1.call(n,d)&&Zd(r,d,n[d]);if(Gd)for(var d of Gd(n))b1.call(n,d)&&Zd(r,d,n[d]);return r},P1=(r,n)=>v1(r,_1(n));const Yd=r=>(0,e.h)(T.l,P1(E1({},r),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));var C1=Object.defineProperty,w1=Object.defineProperties,O1=Object.getOwnPropertyDescriptors,Jd=Object.getOwnPropertySymbols,S1=Object.prototype.hasOwnProperty,x1=Object.prototype.propertyIsEnumerable,Qd=(r,n,d)=>n in r?C1(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,A1=(r,n)=>{for(var d in n||(n={}))S1.call(n,d)&&Qd(r,d,n[d]);if(Jd)for(var d of Jd(n))x1.call(n,d)&&Qd(r,d,n[d]);return r},D1=(r,n)=>w1(r,O1(n));const T1=r=>(0,e.h)(T.l,D1(A1({},r),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"})),Xd=(0,e.createContext)(!1);var Ll=dn(85065);function I1(r,n){if(r){if(!r.has_publication&&!r.subdomain)return{type:"no-dashboard",url:(0,g.getStartPublishingUrl)(n)};if(r.subdomain)return{type:"dashboard",url:(0,g.getDashboardUrlForSubdomain)(r.subdomain,{params:n})}}return null}function M1(r,n){return r!=null&&r.profile_set_up_at?(0,g.getReaderProfileUrl)(r,n):(0,g.getProfileSetupUrl)(n!=null&&n.utm_source?{utm_source:n.utm_source}:void 0)}var qd=dn(47585);const ic={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function R1({className:r,responsive:n,count:d}){return(0,e.h)(Se.hs,{alignItems:"center",justifyContent:"center",radius:12,className:i()(ic.badge,n&&ic.responsive,!d&&ic.binary,r)},d&&(0,e.h)(C.xv.Digit,{color:"bg-light"},d<100?d:"99+"))}var Nl=dn(74285);const Mi="user-menu",L1=`https://support.substack.com/hc/en-us/?utm_source=${Mi}`,kl=40;function N1({className:r,user:n,pub:d,enableCustomerServiceMode:B,disableCustomerServiceMode:Q,freeSignup:ce,fixedTooltip:ye,showBadge:_e=!0}){const{iString:ge}=(0,P.M1)(),[Ue,Ct]=(0,Si.EJ)(),{activityUnreadCount:xt}=(0,Ll.lR)(),Yt=(0,t.qp)(Xd),sn=(0,It.xR)();let Xt="",Vt="";n&&(Xt=n!=null&&n.profile_set_up_at&&n.name?n.name:n.email,Vt=n!=null&&n.profile_set_up_at?n.name?n.email:null:ge("Set up your profile"));const un=({active:vr})=>{(0,y.j)(vr?y.FP.USER_MENU_OPENED:y.FP.USER_MENU_DISMISSED)},Tn=n?I1(n,{utm_source:Mi}):null,zn=d&&(ce||n&&(n.is_subscribed||n.is_free_subscribed)),nr=M1(n,{utm_source:Mi}),Xn=!1,mr=(0,Ii.XA)()&&!Yt;return(0,e.h)(e.Fragment,null,n?(0,e.h)(ct.Z,{className:i()(r,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":Yt}),onClick:Ct},mr&&_e&&xt>0&&(0,e.h)(qd.in,{className:i()("user-indicator-badge",xt<10&&"user-indicator-badge-circle")},(0,e.h)(_.hs,{alignItems:"center",justifyContent:"center"},xt<100?xt:"99+")),(0,e.h)(na.Z,{className:i()("user-indicator-icon",{"force-desktop":Yt}),size:20,strokeWidth:2}),(0,e.h)("img",{className:i()("menu-trigger-image",{"force-desktop":Yt}),src:(0,g.imginary)((0,g.getUserPhotoUrl)(n),2*kl,{height:2*kl,crop:"fill"})}),(0,e.h)(Nl.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(Si.ZP,{className:i()({"fixed-tooltip":ye}),ref:Ue,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:un},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:nr,className:"profile-header",onClick:()=>(0,y.j)(y.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,g.imginary)((0,g.getUserPhotoUrl)(n),2*kl,{height:2*kl,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},Xt),Vt&&(0,e.h)("div",{className:"h2"},Vt))),(0,e.h)("hr",null),n&&(0,e.h)(e.Fragment,null,sn.getConfigFor("enable_unified_home_web")?(0,e.h)(e.Fragment,null,(0,e.h)(Ai,{url:(0,g.getFeedUrl)({utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_FEED_CLICKED},(0,e.h)(ya,{Icon:m1})," ",ge("Home")),(0,e.h)(Ai,{url:(0,g.getBaseReaderUrl)({utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_READER_CLICKED},(0,e.h)(ya,{Icon:Yd})," ",ge("Inbox"))):(0,e.h)(e.Fragment,null,(0,e.h)(Ai,{url:(0,g.getBaseReaderUrl)({utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_READER_CLICKED},(0,e.h)(ya,{Icon:Yd})," ",ge("Inbox")),(0,e.h)(Ai,{url:(0,g.getFeedUrl)({utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_FEED_CLICKED},(0,e.h)(ya,{Icon:T1})," ",ge("Notes"))),(0,e.h)(Ai,{url:(0,g.getDiscoverCategoryUrl)(),analyticsEvent:y.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(ya,{Icon:s1})," ",ge("Explore")),(0,e.h)(Ai,{url:(0,g.getChatUrl)(),analyticsEvent:y.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(ya,{Icon:_a})," ",ge("Chat")),(0,e.h)(Ai,{url:(0,g.getNotificationsUrl)({utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(ya,{Icon:Io})," ",ge("Activity"),xt>0?(0,e.h)(R1,{className:"indicator-badge",count:xt}):null),(0,e.h)(Ai,{url:Tn.url},(0,e.h)(ya,{Icon:Tn.type==="no-dashboard"?da:Na,className:"start-writing-icon"})," ",Tn.type==="no-dashboard"?ge("Start writing"):ge("Writer dashboard"))),(0,e.h)("hr",null),zn&&(0,e.h)(Ai,{className:"secondary-item",url:(0,g.pathWithQuery)("/account",{utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},ge("Manage subscription")),(0,e.h)(Ai,{className:"secondary-item",url:(0,g.getGlobalAccountSettingsUrl)({utm_source:Mi}),analyticsEvent:y.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},ge("Settings")),(0,e.h)(Ai,{className:"secondary-item",url:L1},ge("Support")),(0,e.h)(Ai,{className:"secondary-item",url:(0,g.getSignoutUrl)({utm_source:Mi,for_pub:d==null?void 0:d.subdomain})},ge("Sign out")),B&&(0,e.h)(Ai,{className:"secondary-item",onClick:()=>{var vr;(vr=Ue.current)==null||vr.close(),B()}},"Enter support mode"),Q&&(0,e.h)(Ai,{className:"secondary-item",onClick:Q},"Exit support mode"),d&&(n==null?void 0:n.is_global_admin)&&(0,e.h)(Ai,{className:"secondary-item",url:`${(0,g.getBaseUrl)({subdomain:"admin"})}/publications/${d.id}`},"Open in underground"),!(n!=null&&n.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(Ai,{className:"special-item",url:(0,g.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},ge("Get the app")," ",(0,e.h)(ee.Z,{className:"item-badge branded",color:M.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,g.getHomeUrl)({utm_source:Mi})},ge("About")),(0,e.h)("a",{href:(0,g.getPrivacyUrl)({pub:d,utm_source:Mi})},ge("Privacy")),(0,e.h)("a",{href:(0,g.getTermsUrl)({utm_source:Mi})},ge("Terms")),(0,e.h)("a",{href:(0,g.getInfoCollectionUrl)({utm_source:Mi})},ge("Collection notice")))))))):(0,e.h)(ct.Z,{href:(0,g.getSigninUrl)({for_pub:d==null?void 0:d.subdomain}),native:"true",className:i()("sign-in-link outline-grayscale",{"rounded-btn":Xn,"force-desktop":Yt})},ge("Sign in")))}function Ai({className:r,url:n,analyticsEvent:d,onClick:B,children:Q}){return(0,e.h)("a",{className:`indicator-menu-item ${r}`,onClick:ce=>{d&&(0,y.j)(d),B&&B(ce)},href:n,native:!0},Q)}const k1=20;function ya({Icon:r,className:n}){return(0,e.h)(r,{className:i()(n,"indicator-item-icon"),height:k1,stroke:"var(--color-primary)",strokeWidth:2})}var B1=Object.defineProperty,U1=Object.defineProperties,F1=Object.getOwnPropertyDescriptors,Bl=Object.getOwnPropertySymbols,ep=Object.prototype.hasOwnProperty,tp=Object.prototype.propertyIsEnumerable,np=(r,n,d)=>n in r?B1(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,rp=(r,n)=>{for(var d in n||(n={}))ep.call(n,d)&&np(r,d,n[d]);if(Bl)for(var d of Bl(n))tp.call(n,d)&&np(r,d,n[d]);return r},W1=(r,n)=>U1(r,F1(n)),j1=(r,n)=>{var d={};for(var B in r)ep.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Bl)for(var B of Bl(r))n.indexOf(B)<0&&tp.call(r,B)&&(d[B]=r[B]);return d};const Ul=(0,e.createContext)({country:"US"});Ul.displayName="LocaleContext";function H1(){return useContext(Ul)}function K1(r){var n=r,{children:d}=n,B=j1(n,["children"]);const Q=(0,t.Ye)(()=>B,Object.values(B));return(0,e.h)(Ul.Provider,{value:Q},d)}function a8(r){const n=forwardRef((d,B)=>{const Q=H1();return h(r,W1(rp(rp({},Q),d),{ref:B}))});return n.displayName=`withLocaleContext(${r.displayName||r.name||"Anonymous"})`,n}const V1=(0,di.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var Di=dn(76235),Bs=dn(11688),z1=dn(5285),$1=dn(27484),rs=dn.n($1),is=dn(67963);const Ba={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},G1=r=>{const n=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,y.j)(y.FP.NOTIFICATIONS_ALERT_SHOWN,n.reduce((d,B)=>(d[B]=r==null?void 0:r[B],d),{}))};function Z1(){var r;const{activityUnreadCount:n}=(0,Ll.lR)(),{exposeExperiment:d,getExperimentVariant:B}=(0,He.jc)(),{isLoading:Q,result:ce,refetch:ye}=(0,yn.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,t.d4)(()=>{n>0&&ye()},[n]);const[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,t.eJ)(!1),{isLoading:xt,fetch:Yt,result:sn}=(0,Bs.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([dn.e(356),dn.e(525)]).then(dn.bind(dn,23525)),fetchImmediately:!1}),Xt=rs()(),{userSettings:Vt,changeSetting:un}=(0,is.SE)(),Tn=(r=ce==null?void 0:ce.activityItems)==null?void 0:r[0],zn=Tn!=null&&Tn.created_at?rs()(Tn==null?void 0:Tn.created_at):Xt.subtract(100,"year"),nr=Vt!=null&&Vt.last_notification_alert_shown_at?rs()(Vt.last_notification_alert_shown_at):Xt.subtract(100,"year"),Xn=Xt.diff(zn,"day")<7&&zn.diff(nr,"hour")>2,mr=(0,t.sO)(null),vr=2e3,_r=6e3,Tr=()=>{mr.current&&window.clearTimeout(mr.current)},Ir=()=>{Tr(),mr.current=window.setTimeout(()=>{ge(!1)},_r)};return(0,t.d4)(()=>{Xn&&n>0&&(d("notification_alert_improved"),B("notification_alert_improved")==="treatment"&&(sn&&!_e?window.setTimeout(()=>{ge(!0),un("last_notification_alert_shown_at",rs()().toISOString()),G1(Tn),Ir()},vr):!sn&&!xt&&Yt()))},[Q,ce,n,xt,Xn,_e,ge]),(0,e.h)(e.Fragment,null,(_e||Ue)&&(0,e.h)(z1.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:_e,beforeEnter:()=>Ct(!0),afterLeave:()=>Ct(!1),enter:Ba.transition,enterFrom:Ba.enterFrom,enterTo:Ba.enterTo,leave:Ba.transition,leaveFrom:Ba.leaveFrom,leaveTo:Ba.leaveTo},(0,e.h)(Se.hs,{radius:12,border:"detail",className:Ba.alert,onMouseEnter:Tr,onMouseLeave:Ir,shadow:"lg",bg:"elevated"},(0,e.h)(Bs.cr,{module:"./MiniNotificationsViewer",resolve:xr=>xr.MiniNotificationsStack,onRequest:()=>Promise.all([dn.e(356),dn.e(525)]).then(dn.bind(dn,23525)),result:ce,isReadOnly:!0,closeMenu:()=>{ge(!1)}}))))}var Fl=dn(95042);function Y1({fill:r="outline",canShowAlerts:n=!1}){const d=(0,Ll.lR)(),B=(0,It.xR)(),Q=(0,yn.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,t.d4)(()=>{d.activityUnreadCount>0&&(0,y.j)(y.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:d.activityUnreadCount})},[d.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(Di.v2,{trigger:(0,e.h)(Oe.hU,{className:Fl.Z.trigger,"aria-label":"View activity",size:40,fill:r,priority:"secondary",onMouseEnter:()=>Promise.all([dn.e(356),dn.e(525)]).then(dn.bind(dn,23525))},(0,e.h)(V1,{"aria-hidden":!0,size:20,strokeWidth:2}),d.activityUnreadCount>0&&(0,e.h)(qd.in,{className:i()(Fl.Z.badge,d.activityUnreadCount<10&&Fl.Z.circle)},(0,e.h)(Se.hs,{alignItems:"center",justifyContent:"center"},d.activityUnreadCount<100?d.activityUnreadCount:"99+"))),onOpen:()=>Q.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(Bs.cr,{module:"./activity/MiniNotificationsViewer",resolve:ce=>ce.MiniNotificationsViewer,onRequest:()=>Promise.all([dn.e(356),dn.e(525)]).then(dn.bind(dn,23525)),resource:Q,whileLoading:(0,e.h)(Se.hs,{style:{width:400}})})),n&&B.getConfigFor("show_first_notification_enabled")&&(0,e.h)(Z1,null))}var J1=dn(91041),pi=dn(75425);const op={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"};var Q1=dn(24840),X1=dn(89581),ip=dn(33510),ac=dn(63295),ap=dn(12650),li=dn(56838);const xi={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var q1=Object.defineProperty,ey=Object.defineProperties,ty=Object.getOwnPropertyDescriptors,sp=Object.getOwnPropertySymbols,ny=Object.prototype.hasOwnProperty,ry=Object.prototype.propertyIsEnumerable,lp=(r,n,d)=>n in r?q1(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,up=(r,n)=>{for(var d in n||(n={}))ny.call(n,d)&&lp(r,d,n[d]);if(sp)for(var d of sp(n))ry.call(n,d)&&lp(r,d,n[d]);return r},cp=(r,n)=>ey(r,ty(n));const dp=({pub:r,isSignedIn:n})=>{var d;const[B,Q]=(0,t.eJ)(!1),[ce,ye]=(0,t.eJ)(""),{getConfigFor:_e}=(0,It.xR)(),ge=!!((d=_e("platform_searcher_enabled"))!=null&&d),{result:Ue,refetch:Ct,error:xt,isLoading:Yt,hasLoadedOnce:sn}=(0,yn.ib)({pathname:"/api/v1/post/search",query:{query:ce,focusedPublicationId:r.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(ge)},deps:[ce],auto:!1}),Xt=(ge?Ue==null?void 0:Ue.focused:Ue==null?void 0:Ue.results)||[],Vt=ge?(Ue==null?void 0:Ue.results)||[]:[],un=(Ue==null?void 0:Ue.publications)||[],{triggerProps:Tn,layerProps:zn,renderLayer:nr,isOpen:Xn,setOpen:mr}=(0,X1.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}}),{iString:vr,iTemplate:_r}=(0,P.M1)();(0,t.d4)(()=>{if(ce.length){mr(!0);const xr=setTimeout(Ct,300);return()=>clearTimeout(xr)}mr(!1)},[ce,mr]);const Tr=(0,t.sO)(null),Ir=(0,t.I4)(xr=>{if(xr.key==="Enter"){if(!Xn||!ce||!B)return;window.location.href=(0,g.getDiscoverSearchUrl)({query:ce,params:{focusedPublicationId:r.id}})}else if(xr.key==="Escape"){if(!B)return;ye(""),Q(!1),mr(!1)}},[B,Xn,ce]);return(0,e.h)(e.Fragment,null,(0,e.h)(Se.gq,cp(up({},Tn),{className:i()(xi.searchWrapper,B&&xi.active,n?xi.marginLeft:xi.marginRight),style:{width:B?"400px":"40px"},paddingLeft:B?16:0,alignItems:"center",justifyContent:B?"space-between":"center",onClick:B?void 0:()=>{Q(!B),B||(setTimeout(()=>{var xr;(xr=Tr.current)==null||xr.focus()},10),ye(""))},gap:4}),(0,e.h)(Q1.Z,{className:xi.trigger,"area-hidden":!0,size:20,strokeWidth:2}),B&&(0,e.h)("input",{ref:Tr,className:i()(xi.searcher),placeholder:vr("Search..."),value:ce,onChange:xr=>{ye(xr.target.value)},onKeyDown:Ir})),Xn&&nr((0,e.h)(Se.tu,cp(up({},zn),{radius:12,className:xi.dropdown,border:"detail-themed"}),!sn||Yt&&!Xt.length&&!Vt.length?(0,e.h)(Se.gq,{radius:12,paddingY:20,className:xi.loading,justifyContent:"center"},(0,e.h)(ip.Sv,{size:40})):xt?(0,e.h)(Se.gq,{radius:12,className:xi.error,justifyContent:"start"},(0,e.h)(C.xv.B3,{translated:!0,color:"pub-primary-text"},"Something went wrong.")):!Xt.length&&!Vt.length?(0,e.h)(Se.gq,{radius:12,padding:20,className:xi.empty,justifyContent:"start"},(0,e.h)(C.xv.B3,{translated:!0,color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',I18N.p(ce),'"'))):(0,e.h)(e.Fragment,null,Xt.map((xr,Mr)=>(0,e.h)(pp,{key:xr.id,pub:r,post:xr,isFirst:Mr===0,isLast:!Vt.length&&Mr===Xt.length-1,hideBottomBorder:Vt.length>0})),Vt.length>0&&(0,e.h)(Se.gq,{className:xi.more,paddingX:24,paddingY:8},(0,e.h)(C.xv.B4,{weight:"semibold",color:"pub-primary-text"},Xt.length?_r`More results from across Substack`:_r`No results found on ${r.name}. More results from across Substack`)),Vt.map((xr,Mr)=>{const br=un.find($r=>$r.id===xr.publication_id);return br?(0,e.h)(pp,{key:xr.id,pub:br,post:xr,isLast:Mr===Vt.length-1,includePublication:!0}):null}),(0,e.h)(Se.gq,{className:xi.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,g.getDiscoverSearchUrl)({query:ce,params:{focusedPublicationId:r.id}})}},(0,e.h)(C.xv.B4,{translated:!0,color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},pp=({pub:r,post:n,includePublication:d=!1,hideBottomBorder:B=!1,isLast:Q=!1,isFirst:ce=!1})=>{var ye;const _e=(ye=n.reactions["\u2764"])!=null?ye:0,{language:ge}=(0,P.M1)();return(0,e.h)(Se.gq,{paddingX:12,onClick:()=>{window.location.href=(0,g.getPostUrl)(r,n)},width:"100%"},(0,e.h)(Se.tu,{marginHeight:4,paddingTop:ce?12:8,paddingBottom:Q?12:8,borderBottom:B?void 0:"detail-themed"},(0,e.h)(Se.gq,{className:xi.result,gap:16,padding:12,radius:12},n.cover_image&&(0,e.h)("img",{src:(0,g.imginary)(n.cover_image,120,{height:80,smartCrop:!0}),alt:n.cover_image_alt||"",className:xi.photo}),(0,e.h)(Se.tu,{gap:4,className:xi.metadata},d&&(0,e.h)(C.xv.Meta,null,r.name),(0,e.h)(C.xv.H4,{color:"pub-primary-text"},n.title),!!n.subtitle&&(0,e.h)(C.xv.B4,{color:"pub-primary-text"},n.subtitle),(0,e.h)(Se.gq,{alignItems:"center",gap:4},(0,e.h)(C.xv.Meta,{color:"pub-secondary-text",className:i()(xi.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:Zn()(n.post_date).toISOString()},(0,li.fh)({post:n,showDatetime:!1,language:ge}))),_e>0&&(0,e.h)(e.Fragment,null,(0,e.h)(ap.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(C.xv.Meta,{color:"pub-secondary-text",className:xi.paddingRight},_e)),n.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(ac.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(C.xv.Meta,{color:"pub-secondary-text"},n.comment_count)))))))};var fp=dn(96098);const oy={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function iy({children:r}){return(0,e.h)("div",{className:oy.pubAccentTheme},r)}var Wl=dn(32224),sc=dn(31131),ay=Object.defineProperty,sy=Object.defineProperties,ly=Object.getOwnPropertyDescriptors,hp=Object.getOwnPropertySymbols,uy=Object.prototype.hasOwnProperty,cy=Object.prototype.propertyIsEnumerable,mp=(r,n,d)=>n in r?ay(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,dy=(r,n)=>{for(var d in n||(n={}))uy.call(n,d)&&mp(r,d,n[d]);if(hp)for(var d of hp(n))cy.call(n,d)&&mp(r,d,n[d]);return r},py=(r,n)=>sy(r,ly(n));function gp({pub:r,fill:n,user:d}){const{popToast:B}=(0,_.pm)(),{iString:Q}=(0,P.M1)();return(0,e.h)(Oe.hU,{className:Fl.Z.trigger,"aria-label":Q("Share Publication"),size:40,fill:n,priority:"secondary",onClick:()=>{const ce=(0,$.getBaseUrl)(r),ye={utm_source:"navbar",utm_medium:"web",r:d!=null&&d.id?d.id.toString(36):null};navigator.clipboard.writeText((0,$.pathWithQuery)(ce,ye)),(0,y.j)(y.FP.SHARE_LINK_CLICKED,{pub_id:r.id,source:"navbar",name:"copy"}),B(_e=>(0,e.h)(_.FN,py(dy({},_e),{text:Q("Link copied")})))}},(0,e.h)(sc.Z,{size:20}))}var fy=Object.defineProperty,hy=Object.defineProperties,my=Object.getOwnPropertyDescriptors,jl=Object.getOwnPropertySymbols,vp=Object.prototype.hasOwnProperty,_p=Object.prototype.propertyIsEnumerable,yp=(r,n,d)=>n in r?fy(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,bp=(r,n)=>{for(var d in n||(n={}))vp.call(n,d)&&yp(r,d,n[d]);if(jl)for(var d of jl(n))_p.call(n,d)&&yp(r,d,n[d]);return r},Ep=(r,n)=>hy(r,my(n)),gy=(r,n)=>{var d={};for(var B in r)vp.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&jl)for(var B of jl(r))n.indexOf(B)<0&&_p.call(r,B)&&(d[B]=r[B]);return d},Hl=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const ba=dn(6378),vy=({baseRef:r,className:n,fixedTooltip:d=!0,freeSignup:B,freeSignupEmail:Q,hideCta:ce,hideNotifications:ye,hideSearch:_e,hideShare:ge,hideUserIndicator:Ue,hide_subscribe_cta:Ct,isAccountContext:xt=!1,isMeetingsActive:Yt,isPublishContext:sn,pub:Xt,showCustomerSupportModeModal:Vt,user:un})=>{const{iString:Tn,iTemplate:zn}=(0,P.M1)(),nr=(0,t.sO)(null),{getSettingFor:Xn}=(0,Le.So)(),[mr,vr]=(0,t.eJ)(!1),[_r,Tr]=(0,t.eJ)(!1),Ir=(0,pi.pm)(),xr=(un==null?void 0:un.is_global_admin)&&!(un!=null&&un.is_admin),Mr=(un==null?void 0:un.is_global_admin)&&(un==null?void 0:un.is_admin)&&!(un!=null&&un.is_author),br=(0,He.jc)(),$r=(0,t.I4)(()=>Hl(void 0,null,function*(){try{yield zt().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(Cr){alert((0,E.getNetworkErrorMessage)(Cr))}}),[]),Yr=()=>Hl(void 0,null,function*(){vr(!0);try{yield zt().post("/api/v1/subscription/reactivate").send({}),Tr(!0),Ir.popToast(Cr=>(0,e.h)(pi.FN,Ep(bp({},Cr),{text:Tn("Your subscription has been renewed!")})))}catch(Cr){console.error("Failed to set to renew:",Cr),alert((0,E.getNetworkErrorMessage)(Cr))}finally{vr(!1)}}),Jr=(0,t.I4)(()=>Hl(void 0,null,function*(){var Cr;(Cr=nr.current)==null||Cr.open()}),[nr]),ao=sn||xt?iy:fp.h;return(0,e.h)("div",{className:i()("navbar-buttons",n),ref:r},(0,e.h)(ao,null,(0,e.h)(It.QA.Consumer,null,Cr=>(0,e.h)(Ul.Consumer,null,to=>(0,e.h)(e.Fragment,null,!_e&&!(0,E.isMobileBrowser)()&&!un&&(0,e.h)(dp,{pub:Xt,isSignedIn:!1}),!ge&&!(0,E.isMobileBrowser)()&&!un&&(0,e.h)(gp,{pub:Xt,fill:"borderless",user:un}),!ce&&yy({pub:Xt,user:un,freeSignup:B,freeSignupEmail:Q,hide_subscribe_cta:Ct,viralGiftsConfig:Xt.viralGiftsConfig,isPublishContext:sn,localeContext:to,siteConfigContext:Cr,isMeetingsActive:Yt,getSettingFor:Xn,renewing:mr,renewed:_r,setToRenew:Yr,experiments:br}),!_e&&!(0,E.isMobileBrowser)()&&un&&(0,e.h)(dp,{pub:Xt,isSignedIn:!0}),!ge&&!(0,E.isMobileBrowser)()&&un&&(0,e.h)(gp,{pub:Xt,fill:"borderless",user:un}),!ye&&un&&!(0,E.isMobileBrowser)()&&(0,e.h)(Y1,{fill:"borderless",canShowAlerts:!Xt||sn}),!Ue&&(0,e.h)(N1,{pub:Xt,user:un,enableCustomerServiceMode:xr?Jr:null,disableCustomerServiceMode:Mr?$r:null,fixedTooltip:d}))))),xr&&(0,e.h)(Nl.h,null,(0,e.h)(ze.p,{className:"account-info-customer-support-mode-modal",ref:nr,openByDefault:Vt&&xr},(0,e.h)(Ke,{redirect:(0,g.getQueryItem)("redirect")||"/publish/home",onCancel:Cr=>{var to;return(to=nr.current)==null?void 0:to.close(Cr)}}))))},_y=({pub:r,dashboardPubs:n})=>{const d=(0,Ii.XA)(),{getConfigFor:B}=(0,It.xR)(),{iString:Q}=(0,P.M1)();return(0,e.h)(J1.a,{priority:"primary",fill:"outline",size:d?"small":"medium",menuItems:n.map(({logo_url:ce,name:ye,subdomain:_e})=>(0,e.h)(Di.sN,{className:op.menuItem,href:(0,g.getDashboardUrlForSubdomain)(_e,{params:{utm_source:"substack",utm_content:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:op.menuIcon,width:20,src:(0,g.imginary)(ce||"/img/substack-nomargin.png",20)}),priority:r.subdomain===_e?"selected":"primary"},ye)),href:(0,$.getDashboardHomeUrl)(r,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:Q("Dashboard"),mobileBottomSheetSubtitle:Q("Select a publication")}},Q("Dashboard"))},Pp=({dashboardPubs:r,pub:n})=>{const{iString:d}=(0,P.M1)();return r.length>1?(0,e.h)(_y,{pub:n,dashboardPubs:r}):(0,e.h)(Gi,{className:"outline",href:(0,$.getDashboardHomeUrl)(n,{addBase:!0}),"data-testid":"menu-dashboard-button"},d("Dashboard"))};function yy({user:r,pub:n,freeSignup:d,freeSignupEmail:B,hide_subscribe_cta:Q,isPublishContext:ce,isMeetingsActive:ye,siteConfigContext:_e,getSettingFor:ge,renewing:Ue,renewed:Ct,setToRenew:xt,experiments:Yt}){var sn,Xt,Vt,un,Tn,zn,nr,Xn,mr,vr;const{iString:_r,iPlural:Tr}=I18N.i({pub:n});n.invite_only&&!(r!=null&&r.subscription_id||r!=null&&r.is_free_subscribed)&&(Q=!0);const Ir=r==null?void 0:r.is_contributor,xr=(r==null?void 0:r.is_subscribed)||Ir,Mr=(r==null?void 0:r.is_free_subscribed)||d,{getExperimentVariant:br,exposeExperiment:$r}=Yt,Yr=ba.paymentsAreEnabled(n)&&xr&&["gift","comp"].includes(r.subscription_type)&&Zn()(r.subscription_expiry).subtract(30,"days").isBeforeNow(),Jr=ba.paymentsAreEnabled(n)&&ba.userIsFreeOnly(r)&&r.comp_expired_recently,ao=(r==null?void 0:r.is_free_subscribed)&&(r==null?void 0:r.is_paused),Cr=((sn=r==null?void 0:r.dashboard_pubs)==null?void 0:sn.length)===1,to=(r==null?void 0:r.subscription_type)==="ios_app";if(Ir){const ho=(r==null?void 0:r.dashboard_pubs)||[];return ce&&ho.length===1?[]:!n.has_posts&&!(0,E.isMobileBrowser)()?[(0,e.h)(Gi,{className:"primary fill new-post-btn",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,E.redirect)((0,g.getCreatePostUrl)(n,{type:"newsletter"}),{local_navigation:!1})}},_r("New post")),(0,e.h)(Pp,{dashboardPubs:ho,pub:n,useNewDashLink:Cr})]:(0,e.h)(Pp,{dashboardPubs:ho,pub:n,useNewDashLink:Cr})}else{if(ao)return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,E.redirect)((0,g.getCancelOrUncancelUrl)(n,{addBase:!0}),{local_navigation:!1})}},_r("Unpause my subscription"));if(Yr||Jr){if(!Q)return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,E.redirect)((0,g.getSubscribeUrl)(n,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,g.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:Yr&&(r!=null&&r.is_founding)?n.plans.find(ho=>ho.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},_r("Subscribe")),(0,e.h)("span",{className:"desktop-only"},_r("Continue your support")))}else if(ba.paymentsAreEnabled(n)&&Mr&&!xr&&!["thebulwark"].includes(n.subdomain)){if(!Q)return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,E.redirect)((0,g.getSubscribeUrl)(n,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,g.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Bt.getSubscribeText)(n,{isFreeSubscribed:!0,isMobile:(0,E.isMobileBrowser)()}))}else if(ba.paymentsAreEnabled(n)?!xr:!(Mr||xr)){if(!Q){const ho=(un=(Vt=(Xt=(0,g.getQueryItem)("referring_pub_ids"))==null?void 0:Xt.split)==null?void 0:Vt.call(Xt,","))==null?void 0:un[0],Co=(nr=(zn=(Tn=(0,g.getQueryItem)("referring_pub_ids"))==null?void 0:Tn.split)==null?void 0:zn.call(Tn,","))==null?void 0:nr.slice(1);return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",onClick:()=>Hl(this,null,function*(){const vo=r&&!r.is_magic&&r.email||B;if((0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),vo){let Do;try{Do=(yield zt().post("/api/v1/free").send({source:"menu",email:vo,first_url:f.xY,first_referrer:f.ip,current_url:f.UE,current_referrer:f.xU,referring_pub_id:ho,additional_referring_pub_ids:Co})).body.referral_token}catch(Uo){(0,y.j)(y.FP.FREE_SIGNUP_FAILED,{reason:Uo.message,source:"menu"})}window.location.href=(0,g.getSubscribeUrl)(n,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:Do})}else window.location.href=(0,g.getSubscribeUrl)(n,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,g.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(_.gq,{alignItems:"center",gap:8},(0,e.h)(Wl.Z,{size:20}),(0,Bt.getSubscribeText)(n,{isFreeSubscribed:Mr,isMobile:(0,E.isMobileBrowser)()})))}}else{if(n.invite_only&&xr&&r.invites<n.subscriber_invites)return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,E.redirect)((0,g.getInviteUrl)(n),{local_navigation:!1})}},(0,e.h)("span",null,Tr("1 invite left","%1 invites left",n.subscriber_invites-r.invites)));if(ba.paymentsAreEnabled(n)&&ye&&!_e.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,E.redirect)((0,$.getMeetingsUrl)(n,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},_r("Book meeting")),(0,e.h)("span",{className:"desktop-only"},_r("Book a meeting")));if(ba.paymentsAreEnabled(n)&&r.is_subscribed&&!to&&r.subscription_unsubscribed_at&&!["gift","comp"].includes(r.subscription_type))return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),xt()},disabled:Ue||Ct,style:{visibility:Ct?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},_r("Renew")),(0,e.h)("span",{className:"desktop-only"},_r("Renew subscription")));if(ba.paymentsAreEnabled(n)&&!r.is_founding&&!to&&Zn()(r.subscription_first_payment_at).isBefore(Zn()().subtract(48,"hours"))&&((vr=(mr=(Xn=n==null?void 0:n.plans)==null?void 0:Xn.find(ho=>ho.metadata.founding))==null?void 0:mr.metadata)==null?void 0:vr.short_description)==="Founding Member")return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,E.redirect)((0,g.getSubscribeUrl)(n,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:n.plans.find(ho=>ho.metadata.founding).id}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},_r("Upgrade")),(0,e.h)("span",{className:"desktop-only"},_r("Upgrade to founding")));if(n.payments_state==="disabled"&&!n.invite_only&&ge("payment_pledges_enabled")&&Mr&&!(r!=null&&r.is_pledged))return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,E.redirect)((0,g.getSubscribeUrl)(n,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},_r("Pledge your support"));if(n.is_on_substack&&!(r!=null&&r.has_publication))return(0,e.h)(Gi,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,y.j)(y.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,E.redirect)((0,g.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},_r("Start publishing"))}}return null}function Gi(r){var n=r,{className:d="primary subscribe-cta subscribe-btn"}=n,B=gy(n,["className"]);const Q=(0,t.qp)(Xd),ce=!1;return(0,e.h)(ct.Z,Ep(bp({},B),{className:i()(d,{"rounded-btn":ce,"force-desktop":Q})}))}const by=vy;var Ey=dn(49336),Py=dn(56743),lc=dn(2564);const Us={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},Cp=10,Cy=250;function wy({className:r,items:n,menuItemClassName:d,selectedMenuItemClassName:B,selectedSlug:Q,pub:ce}){const ye=(0,t.sO)(null),[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,t.eJ)(!1);function xt(Xt){const{scrollLeft:Vt,scrollWidth:un,clientWidth:Tn}=Xt;ge(Vt>Cp),Ct(un-(Tn+Vt)>Cp)}const Yt=Xt=>xt(Xt.target),sn=Xt=>()=>{const{current:Vt}=ye;Vt&&Vt.scrollBy({left:Xt*Cy,behavior:"smooth"})};return(0,t.d4)(()=>{xt(ye.current)},[]),(0,e.h)("div",{className:i()("overflow-list-container",r)},(0,e.h)("div",{className:i()("section-bar",{scroll:!0,"overflow-left":_e,"overflow-right":Ue})},(0,e.h)("div",{className:"overflow-items",ref:ye,onScroll:Yt},n.map(({label:Xt,href:Vt,slug:un,isNative:Tn,onClick:zn,noFollow:nr,subItems:Xn})=>Xn?(0,e.h)(Di.v2,{trigger:(0,e.h)("div",{className:i()("menu-item",{selected:un===Q},d,B&&{[B]:un===Q})},(0,e.h)(Zt.Z,{className:Us.subMenuTrigger,onClick:zn,native:Tn,rel:nr?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Xt),(0,e.h)(Ey.Z,{className:Us.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:Xt},Xn.map(({label:mr,href:vr,slug:_r,isNative:Tr,onClick:Ir,noFollow:xr,logoUrl:Mr})=>{const br=parseInt(_r)===(ce==null?void 0:ce.id);return(0,e.h)(Di.sN,{icon:(0,e.h)("img",{className:Us.logo,width:20,src:(0,g.imginary)(Mr||"/img/substack-nomargin.png",40)}),href:vr,onClick:Ir,native:Tr,rel:xr?"nofollow":void 0,priority:"primary",disabled:br,className:i()(Us.subMenuItem,{[Us.disabled]:br})},mr)})):(0,e.h)("div",{className:i()("menu-item",{selected:un===Q},d,B&&{[B]:un===Q})},(0,e.h)(Zt.Z,{href:Vt,onClick:zn,native:Tn,rel:nr?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},Xt))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:sn(-1)},(0,e.h)(Py.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:sn(1)},(0,e.h)(lc.Z,{strokeWidth:1.5})))))}const wp=(r,n)=>r.subItems?new Dy(r,n):r.base_url?new Oy(r):r.name&&r.id&&r.url?new Ay(r,n):r.isPodcast?new Sy(r):new xy(r,n);class Fs{constructor(n,d){this._obj=n,this._pub=d}truncatedName(){return(0,Bt.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(n,d){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class Oy extends Fs{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(n){return this._obj.id===n.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,$.getBaseUrl)(this._obj)}}class Sy extends Fs{isPodcast(){return!0}isSelected(n,d){return this._obj.id===d}isNative(){return!0}homepageUrl(){return(0,$.getBaseUrl)(this._obj)}}class xy extends Fs{constructor(n,d){super(n,d),this._homepageUrl=(0,$.getSectionUrl)(d,{section:n})}isPodcast(){return this._obj.is_podcast}isSelected(n,d){return this._obj.id===d}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var n,d,B;if(this._obj.is_podcast){const Q=(n=this._pub.sections)==null?void 0:n.find(ce=>ce.id===this._obj.id);return(B=(d=Q==null?void 0:Q.podcastSettings)==null?void 0:d.podcast_art_url)!=null?B:this._obj.logo_url}return this._obj.logo_url}}class Ay extends Fs{constructor(n,d){super(n,d),this._maybeNoFollow=n.noFollow,this._pubTier=(d==null?void 0:d.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(n,d){return[this._obj.id,this._obj.url].includes(d)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class Dy extends Fs{isNewsletter(){return!1}isPodcast(){return!1}isSelected(n,d){return[this._obj.id,this._obj.url].includes(d)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(n=>wp(n,this._pub))}}const Ty=({pub:r,selectedSectionId:n,sectionRawItems:d,isPublishContext:B})=>{const Q=d.map(ye=>wp(ye,r)),ce=ye=>{var _e,ge;return{label:ye.truncatedName(),href:ye.homepageUrl(),slug:ye.item.id,isNative:ye.isNative(),noFollow:ye.noFollow(),logoUrl:(_e=ye.logoUrl)==null?void 0:_e.call(ye),subItems:(ge=ye.subItems())==null?void 0:ge.map(ce)}};return(0,e.h)(wy,{items:Q.map(ce),className:i()("sections-overflow",{"publish-menu":B}),selectedSlug:n,useHorizontalScrolling:B,pub:r})};var Iy=Object.defineProperty,Op=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,Ry=Object.prototype.propertyIsEnumerable,uc=(r,n,d)=>n in r?Iy(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ly=(r,n)=>{for(var d in n||(n={}))My.call(n,d)&&uc(r,d,n[d]);if(Op)for(var d of Op(n))Ry.call(n,d)&&uc(r,d,n[d]);return r},Ea=(r,n,d)=>(uc(r,typeof n!="symbol"?n+"":n,d),d),cc,Sp,dc,xp;const pc=dn(6378),Ap=(r,n)=>{var d,B;return((d=r.sibling_rank)!=null?d:1/0)-((B=n.sibling_rank)!=null?B:1/0)||(r.name<n.name?-1:r.name>n.name?1:0)};class Kl extends e.Component{constructor(){super(...arguments),Ea(this,"menuHeight",0),Ea(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((Sp=(cc=window.location.hash)==null?void 0:cc.startsWith)!=null&&Sp.call(cc,"#footnote")||(xp=(dc=window.location.hash)==null?void 0:dc.startsWith)!=null&&xp.call(dc,"#tiktok")))}),Ea(this,"onClick",n=>{var d,B;((d=n.target)!=null&&d.classList.contains("footnote-number")||(B=n.target)!=null&&B.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),Ea(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const n=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,d=document.body.clientWidth,B=this.buttonsContainer.getBoundingClientRect().width,Q=d>630,ce=Q?24*2:12*2,ye=Q&&.5*d-B-ce>.5*n;this.setState({buttonsContainerWidth:ye?`${B}px`:"auto",centerTitle:ye})}),Ea(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const n=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const d=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,E.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,E.maxScroll)()))if(this.scrollTop<n){const B=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>d?(this.menuTop=d,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<B)&&(this.menuTop=B,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>n&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=d,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<d-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),Ea(this,"onHeadlineClick",n=>{this.publicationPicker?(n.preventDefault(),this.publicationPicker.open()):(0,y.j)(y.FP.NAV_BAR_HOME_LINK_CLICKED)}),Ea(this,"hide",()=>{const n=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=n-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return pc.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:n,freeSignup:d,freeSignupEmail:B,hideNavbarSearch:Q,hideTitle:ce,hide_subscribe_cta:ye,isAccountContext:_e,isMeetingsActive:ge,isPublishContext:Ue,lowChrome:Ct,pub:xt,publicationPicker:Yt,publicationPickerPath:sn,showCustomerSupportModeModal:Xt,signupForFreeVariant:Vt,user:un},{animated:Tn,buttonsContainerWidth:zn,centerTitle:nr}){const Xn=!Yt&&(xt==null?void 0:xt.parent_publication)||xt,mr=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:i()("main-menu",n,{animated:Tn,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":Ct})},(0,e.h)("div",{className:"main-menu-content",ref:vr=>this.menuContent=vr},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},Yt&&!Ct&&(xt.parent_publication||xt.child_publications.length>0)&&(0,e.h)(Si.ZP,{ref:vr=>this.publicationPicker=vr,className:"publication-picker",noPlace:!0,noTail:!0},[xt,xt.parent_publication].concat(xt.child_publications.concat(xt.sibling_publications).sort((vr,_r)=>vr.name.toLowerCase().localeCompare(_r.name.toLowerCase()))).filter(vr=>vr).map(vr=>(0,e.h)("a",{href:vr.base_url+(vr.id===xt.id?"/":sn||"/")},vr.name))),!Ct&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:i()("navbar-logo-container",Xn.logo_url?"":"no-logo"),style:{width:zn}},Xn.logo_url&&(0,e.h)("a",{href:(0,$.getBaseUrl)(Xn),onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,$.imginary)(Xn.logo_url,96)}))),!ce&&(0,e.h)("h1",{className:i()("navbar-title",{"left-align":!nr,loading:mr})},(0,e.h)("a",{className:"navbar-title-link",href:(0,$.getBaseUrl)(Xn),ref:vr=>this.largeMenuPubTitle=vr},Xn.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${Xn?"":"substack-logo-wordmark"}`,src:(0,$.imginary)(Xn?Xn.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:Xn?Xn.name:"Substack"}):Xn.name),!Ue&&xt.parent_publication&&(0,e.h)(Ny,{title:xt.name})),(0,e.h)(by,{baseRef:vr=>this.buttonsContainer=vr,freeSignup:d,freeSignupEmail:B,hideSearch:Ue||!!Q,hide_subscribe_cta:ye,isAccountContext:_e,isMeetingsActive:ge,isPublishContext:Ue,pub:xt,showCustomerSupportModeModal:Xt,signupForFreeVariant:Vt,user:un}))),this.shouldShowSectionsNavBar()&&(0,e.h)(ky,Ly({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}Ea(Kl,"contextType",ji);const Ny=({title:r})=>{const n=(0,Ii.XA)();return(0,e.h)(C.xv,{size:n?14:24,weight:"light",as:"span"},(0,e.h)("span",null," | "),r)};function ky({isPublishContext:r,pub:n,user:d,isChatActive:B,isMeetingsActive:Q,hasMeetingsBooked:ce,selectedSectionId:ye}){const{getSettingFor:_e}=(0,Le.So)(),ge=_e("notes_feed_enabled"),Ue=!!(_e("reader_referrals_enabled")&&_e("reader_referrals_leaderboard_enabled")),Ct=_e("group_sections_and_podcasts_in_menu_enabled"),xt=xo(n.navigationBarItems||[],{isFeedEnabled:ge,isPodcastActive:n.podcast_enabled&&n.show_pub_podcast_tab,isChatActive:B,isChatEnabled:!!n.threads_v2_enabled,isMeetingsActive:Q,hasMultipleNewsletters:n.sections&&n.sections.length>0,isReaderReferralsLeaderboardActive:Ue,language:n.language}).filter(sn=>!sn.is_hidden),Yt=r?By({isAdmin:!!(d!=null&&d.is_admin),pub:n,showMeetings:Q||ce}):Uy({groupNewsletters:Ct,navBarItems:xt,pub:n});return(0,e.h)(Ty,{pub:n,selectedSectionId:ye,sectionRawItems:Yt,isPublishContext:r})}const By=({isAdmin:r,pub:n,showMeetings:d})=>{const{iString:B}=I18N.i({pub:n}),Q=[];return Q.push({id:"/publish/home",url:(0,$.getDashboardHomeUrl)(n,{addBase:!0}),name:B("Home")}),Q.push({id:"/publish/posts",url:"/publish/posts",name:B("Posts")},{id:"/publish/podcasting",url:(0,g.getPodcastingUrl)(n,{addBase:!0}),name:B("Podcast")},{id:"/publish/subscribers",url:(0,g.getSubscriberStatsUrl)(n,{addBase:!0}),name:B("Subscribers")}),r&&(Q.push({id:"/publish/stats",url:"/publish/stats",name:B("Stats")}),Q.push({id:"/publish/recommendations",url:"/publish/recommendations",name:B("Recommendations")}),d&&Q.push({id:"/publish/meetings",url:"/publish/meetings",name:B("Meetings")}),Q.push({id:"/publish/settings",url:(0,$.getPublishSettingsUrl)(n,{addBase:!0}),name:B("Settings")})),Q},Uy=({groupNewsletters:r=!1,navBarItems:n,pub:d})=>{var B,Q;const{iString:ce,iTemplate:ye}=I18N.i({pub:d}),_e=[];let ge=[];if((B=d.child_publications)!=null&&B.length)_e.push({id:"/home",url:"/",name:ce("Home")}),ge.push(...d.child_publications.sort(Ap));else if(d.parent_publication||(Q=d.sibling_publications)!=null&&Q.length){const Ue=[d,...d.sibling_publications].sort(Ap).map(Ct=>Ct.id===d.id&&!pc.isBulwarkPub(d)?{id:"/home",url:"/",name:d.name}:Ct);_e.push({id:"/parent",url:(0,$.getBaseUrl)(d.parent_publication),name:ce("Home")}),ge.push(...Ue)}else _e.push({id:"/home",url:"/",name:ce("Home")}),d.podcast_enabled&&d.show_pub_podcast_tab&&ge.push({id:"/podcast",url:"/podcast",name:ce("Podcast"),isPodcast:!0});for(const Ue of n){const Ct=qr(Ue);Ue.section?ge.push(Ue.section):ge.push({id:(0,$.getNavigationBarItemUrl)(d.parent_publication||d,Ue,{addBase:!1}),url:(0,$.getNavigationBarItemUrl)(d.parent_publication||d,Ue,{addBase:!Ue.standard_key}),name:Rr(Ue),noFollow:!Ue.standard_key&&Ct==="link"})}return r?ge=Dp({items:ge,groups:[{name:ce("Newsletters"),condition:Ue=>Fy({item:Ue,pub:d})},{name:ce("Podcasts"),condition:Ue=>Wy(Ue)}]}):pc.isBulwarkPub(d)&&(ge=Dp({items:ge,groups:[{name:ce("Newsletters"),condition:Ue=>Ue.type==="newsletter"},{name:ce("Podcasts"),condition:Ue=>Ue.type==="podcast"}]})),[..._e,...ge]},Fy=({item:r,pub:n})=>(0,Bt.sectionIsSpecificallyMarkedAsNewsletter)({section:r,pub:n})?!0:!r.subItems&&!r.base_url&&!(r.name&&r.id&&r.url)&&!r.is_podcast,Wy=r=>r.isPodcast||!r.subItems&&!r.base_url&&!(r.name&&r.id&&r.url)&&r.is_podcast,Dp=({items:r,groups:n})=>{const d=[];let B=r;for(const Q of n){const ce=r.filter(Q.condition);ce.length>0&&(d.push({name:Q.name,subItems:ce}),B=B.filter(ye=>!Q.condition(ye)))}return[...d,...B]},Tp=({pub:r,url:n})=>{var d,B;if(!n.includes("api.substack.com"))return null;if(n.includes(`/feed/podcast/${r.id}.rss`))return r.podcast_title||r.name;if(n.includes(`/feed/podcast/${r.id}/s/`)){const Q=(B=(d=n.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:d.groups)==null?void 0:B.sectionId;if(!Q)return"Unknown section";const ce=r.sections.find(ye=>ye.id===parseInt(Q));return ce?ce.name:"Unknown Section"}return"another podcast"},Ip=({pub:r,url:n})=>n.includes("api.substack.com")?n.includes(`/feed/podcast/${r.id}/s/`)||n.includes(`/feed/podcast/${r.id}.rss`):!1,jy=r=>{if(!r)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!r.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!r.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const n=Tp({pub:r,url:r.podcast_feed_url});return n?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${n}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${r.podcast_feed_url}.`}},Hy=({pub:r,section:n})=>{var d;if(!n.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const B=((d=n.podcastSettings)==null?void 0:d.podcast_feed_url)||null;if(!B)return{can_syndicate:!0,hover_text:null};const Q=Tp({pub:r,url:B});return Q?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${Q}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${B}.`}},l8=({pub:r})=>{var n;const d=[];if(r.podcast_enabled||r.podcast_title){const B=jy(r);d.push({name:r.podcast_title||r.name,description:r.podcast_description||"",can_publish_to:B.can_syndicate,hover_text:B.hover_text,publication_id:r.id,section_id:null})}for(const B of(n=r.sections)!=null?n:[]){if(!B.is_podcast)continue;const Q=Hy({pub:r,section:B});d.push({name:B.name,description:B.description,can_publish_to:Q.can_syndicate,hover_text:Q.hover_text,publication_id:r.id,section_id:B.id})}return d},Ky=r=>!r||!r.podcast_enabled?!1:r.podcast_feed_url?!Ip({pub:r,url:r.podcast_feed_url}):!0,Vy=({pub:r,section:n})=>{var d;if(!n.is_podcast)return!1;const B=((d=n.podcastSettings)==null?void 0:d.podcast_feed_url)||null;return B?!Ip({pub:r,url:B}):!0},u8=(r,n=0)=>n?zy(r,n):r.email_disabled?"none":r.receive_podcast_emails?"all":"allButPodcasts",zy=(r,n)=>{var d;return!r.email_settings||!r.email_settings[n]?null:r.email_settings[n]==="disabled"?"none":(d=r.section_podcasts_enabled)!=null&&d.includes(n)?"all":"allButPodcasts"},$y=({pub:r,includeMainPub:n})=>{var d;if(!r)return[];const B=[];return n&&B.push({name:r.name,description:r.hero_text,logoUrl:r.logo_url,sectionId:null,linkUrl:(0,g.getArchiveUrl)(r),defaultOn:!0}),(d=r.sections)==null||d.forEach(Q=>{B.push({name:Q.name,description:Q.description,logoUrl:Q.logo_url,sectionId:Q.id,linkUrl:(0,$.getSectionUrl)(r,{section:Q}),defaultOn:Q.is_default_on})}),B},c8=r=>r.trial_period_days>0?"FREE_TRIAL":r.extra_seats>0?"EXTRA_SEATS":"PERCENT_OFF";var Gy=Object.defineProperty,Zy=Object.defineProperties,Yy=Object.getOwnPropertyDescriptors,Mp=Object.getOwnPropertySymbols,Jy=Object.prototype.hasOwnProperty,Qy=Object.prototype.propertyIsEnumerable,Rp=(r,n,d)=>n in r?Gy(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Xy=(r,n)=>{for(var d in n||(n={}))Jy.call(n,d)&&Rp(r,d,n[d]);if(Mp)for(var d of Mp(n))Qy.call(n,d)&&Rp(r,d,n[d]);return r},qy=(r,n)=>Zy(r,Yy(n));const Lp=r=>(0,e.h)(T.l,qy(Xy({},r),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:r.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var eb=Object.defineProperty,tb=Object.defineProperties,nb=Object.getOwnPropertyDescriptors,Np=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,ob=Object.prototype.propertyIsEnumerable,kp=(r,n,d)=>n in r?eb(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Bp=(r,n)=>{for(var d in n||(n={}))rb.call(n,d)&&kp(r,d,n[d]);if(Np)for(var d of Np(n))ob.call(n,d)&&kp(r,d,n[d]);return r},Up=(r,n)=>tb(r,nb(n)),fc=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const yi=()=>{const r=(0,We.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),n=(0,We.useMediaQuery)({query:"only screen and (max-width: 768px)"});let d;return typeof window=="undefined"?d=(0,x.isMobile)()?"mobile":"desktop":d=n?"mobile":r?"tablet":"desktop",{breakpoint:d,isMobile:d==="mobile",isTablet:d==="tablet",isDesktop:d==="desktop"}},p8=({pubId:r})=>{const[n,d]=useState([]),[B,Q]=useState([]),[ce,ye]=useState([]),[_e,ge]=useState([]),[Ue,Ct]=useState(!1),[xt,Yt]=useState([]),[sn,Xt]=useState([]);return useEffect(()=>{request.get("/api/v1/publication_user/homepage_preview").then(({body:Vt})=>{d(Vt)}),request.get("/api/v1/homepage_links").then(({body:Vt})=>Q(Vt)),request.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Vt})=>{ye(Vt),Ct(!0)}),request.get("/api/v1/archive").query({sort:"pinned"}).then(({body:Vt})=>ge(Vt)),request.get(`/api/v1/recommendations/from/${r}`).query({limit:5}).then(Vt=>{Yt(Vt.body)}),request.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Vt})=>Xt(Vt))},[r]),useMemo(()=>({contributors:n,homepageLinks:B,newPosts:ce,pinnedPosts:_e,postsLoaded:Ue,recommendations:xt,topPosts:sn}),[n,B,ce,_e,Ue,xt,sn])},f8=()=>{const[r,n]=useState([]),[d,B]=useState({}),[Q,ce]=useState({});return useEffect(()=>{(()=>fc(void 0,null,function*(){for(const _e of r){if(_e.post_source==="section"&&_e.section_id&&!d[_e.section_id]){const{body:ge}=yield request.get("/api/v1/archive").query({section_id:_e.section_id,sort:"new",limit:13});B(Ue=>Up(Bp({},Ue),{[String(_e.section_id)]:ge}))}if(_e.post_source==="tag"&&_e.post_tag_id&&!Q[_e.post_tag_id]){const{body:ge}=yield request.get("/api/v1/archive").query({post_tag_id:_e.post_tag_id,sort:"new",limit:13});ce(Ue=>Up(Bp({},Ue),{[String(_e.post_tag_id)]:ge}))}}}))()},[r,d,Q]),{contentBlocks:r,onChangeContentBlocks:n,postsBySectionId:d,postsByTagId:Q}},ib=r=>{const[n,d]=(0,t.eJ)(r.newPosts),[B,Q]=(0,t.eJ)(r.pinnedPosts),[ce,ye]=(0,t.eJ)(r.topPosts),_e=new Set((B||[]).map(Ct=>Ct.id)),ge=(B||[]).concat((n||[]).filter(Ct=>!_e.has(Ct.id)));(0,t.d4)(()=>{var Ct,xt,Yt;((Ct=r.newPosts)==null?void 0:Ct.length)!==n.length&&d(r.newPosts),((xt=r.pinnedPosts)==null?void 0:xt.length)!==B.length&&Q(r.pinnedPosts),((Yt=r.topPosts)==null?void 0:Yt.length)!==ce.length&&ye(r.topPosts)},[r.newPosts,r.pinnedPosts,r.topPosts,n==null?void 0:n.length,B==null?void 0:B.length,ce==null?void 0:ce.length]);const Ue=(0,t.I4)(({post:Ct})=>{if(!Ct)return;const xt=[{list:ce,setter:ye},{list:B,setter:Q},{list:n,setter:d}];for(const Yt of xt){if(!Yt.list)return;const sn=Yt.list.findIndex(Xt=>Xt.id===Ct.id);if(sn!==-1){const Xt=[...Yt.list];Xt.splice(sn,1,Ct),Yt.setter(Xt)}}},[n,B,ce]);return{posts:ge,topPosts:ce,onChange:Ue}},h8=({bodyId:r})=>{const[n,d]=useState(null),[B,Q]=useState(null);return useEffect(()=>{r==="grid-groups"&&(B||fc(void 0,null,function*(){try{const ye=yield request.get("/api/v1/publication/sections");Q(ye.body)}catch(ye){console.error(ye)}}),n||fc(void 0,null,function*(){try{const ye=yield request.get("/api/v1/publication/post-tag");d(ye.body)}catch(ye){console.error(ye)}}))},[r,n,B]),{postTags:n,sections:B}},Ci={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},ab=({newsletter:r,hideLink:n=!1,onToggle:d,onClick:B})=>{const{isMobile:Q}=yi();B&&d&&console.error("you cannot pass both onToggle and onClick");const ce=_e=>{_e.stopPropagation(),d==null||d({sectionId:r.sectionId,isSelected:!r.selected})},ye=!!d;return Q?(0,e.h)(sb,{newsletter:r,hideLink:n,onClick:B,onToggle:d}):(0,e.h)(_.tu,{className:i()(Ci.container,{[Ci.selectedContainer]:ye&&r.selected,[Ci.selectableContainer]:ye,[Ci.clickableContainer]:!!B}),justifyContent:"space-between",radius:12,padding:16,onClick:ye?ce:B!=null?B:void 0},ye&&r.selected?(0,e.h)(Lp,{className:i()(Ci.selector)}):ye?(0,e.h)("div",{className:i()(Ci.unselected,Ci.selector)}):null,(0,e.h)(_.tu,{gap:24},r.logoUrl&&(0,e.h)("div",{className:Ci.img},r.logoUrl&&(0,e.h)("img",{className:Ci.img,src:(0,g.imginary)(r.logoUrl,64)})),(0,e.h)(_.tu,{gap:8},(0,e.h)(_.xv.H3,{paddingRight:r.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},r.name),(0,e.h)(_.xv.B4,{color:"pub-secondary-text",clamp:4},r.description))),!n&&(0,e.h)(_.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:Ci.seeLatest,href:r.linkUrl,native:!0},"See the latest")))},sb=({newsletter:r,hideLink:n,onClick:d,onToggle:B})=>{const Q=!!B,ce=ye=>{ye.stopPropagation(),B==null||B({sectionId:r.sectionId,isSelected:!r.selected})};return(0,e.h)(_.tu,{className:i()(Ci.containerMobile,{[Ci.selectedContainer]:Q&&r.selected,[Ci.selectableContainer]:Q,[Ci.clickableContainer]:!!ce}),justifyContent:"space-between",radius:12,padding:16,onClick:Q?ce:d!=null?d:void 0},Q&&r.selected?(0,e.h)(Lp,{className:i()(Ci.selector)}):Q?(0,e.h)("div",{className:i()(Ci.unselected,Ci.selector)}):null,(0,e.h)(_.tu,{gap:8},(0,e.h)(_.gq,{gap:8},r.logoUrl&&(0,e.h)("img",{className:Ci.imgMobile,src:(0,g.imginary)(r.logoUrl,64)}),(0,e.h)(_.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},r.name)),(0,e.h)(_.xv.B4,{color:"secondary",clamp:2,font:"text"},r.description)),!n&&(0,e.h)(_.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:r.linkUrl,native:!0},"See the latest")))},lb={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},ub=({newsletters:r,hideLinks:n,onNewsletterClick:d,justifyItems:B})=>{const{iString:Q}=(0,P.M1)();return(0,e.h)(Se.gq,{className:lb.container,wrap:"wrap",justifyContent:B,gap:24},r.length===0&&(0,e.h)("div",null,Q("No additional newsletters")),r.map((ce,ye)=>(0,e.h)(ab,{newsletter:ce,key:ye,hideLink:n,onToggle:d?({sectionId:_e,isSelected:ge})=>{d({sectionId:_e,isSelected:ge})}:void 0,onClick:n?void 0:()=>{(0,E.redirect)(ce.linkUrl,{local_navigation:!1})}})))},hc={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var cb=Object.defineProperty,db=Object.defineProperties,pb=Object.getOwnPropertyDescriptors,Fp=Object.getOwnPropertySymbols,fb=Object.prototype.hasOwnProperty,hb=Object.prototype.propertyIsEnumerable,Wp=(r,n,d)=>n in r?cb(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,mb=(r,n)=>{for(var d in n||(n={}))fb.call(n,d)&&Wp(r,d,n[d]);if(Fp)for(var d of Fp(n))hb.call(n,d)&&Wp(r,d,n[d]);return r},gb=(r,n)=>db(r,pb(n));const vb=({pub:r,user:n})=>{const d=$y({pub:r,includeMainPub:!0}).map(B=>gb(mb({},B),{linkUrl:(0,g.updateQuery)(B.linkUrl,{utm_source:"newsletter_page"}),selected:B.defaultOn}));return d.length===0?(typeof window!="undefined"&&(window.location.href=(0,$.getBaseUrl)(r)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:i()("page","typography",hc.container)},(0,e.h)(_.tu,null,(0,e.h)(_.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(_.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(_.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(_.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",r.name," in your inbox.",n!=null&&n.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:hc.accountLink,href:(0,g.getPubAccountSettingsUrl)(r),native:!0},"account settings"),"."):"")),(!n||!n.is_subscribed)&&(0,e.h)(_.zx,{priority:"primary-theme",href:(0,g.getSubscribeUrl)(r,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(_.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:hc.newsletterList},(0,e.h)(ub,{newsletters:d,hideLinks:!1,justifyItems:"start"}))))};var _b=Object.defineProperty,yb=Object.defineProperties,bb=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,Eb=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable,Hp=(r,n,d)=>n in r?_b(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ws=(r,n)=>{for(var d in n||(n={}))Eb.call(n,d)&&Hp(r,d,n[d]);if(jp)for(var d of jp(n))Pb.call(n,d)&&Hp(r,d,n[d]);return r},Vl=(r,n)=>yb(r,bb(n)),Cb=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())}),Kp;const wb=typeof window!="undefined"?(Kp=window._preloads)==null?void 0:Kp.publicationUserSettings:{},Vp=r=>({getSettingForPubUser:d=>{if(!d||!r)return null;const B=r[d];return B===void 0?null:B}}),mc=(0,e.createContext)(Vl(Ws({},Vp(wb)),{changeUserSetting:()=>Promise.resolve(void 0)}));mc.displayName="PublicationUserSettingsContext";const m8=r=>{const n=forwardRef((d,B)=>{const Q=Sb();return h(r,Vl(Ws(Ws({},Q),d),{ref:B}))});return n.displayName=`withPubUserSettingsContext(${r.displayName||r.name||"Anonymous"})`,n};function Ob({preloadPubUserSettings:r={},children:n}){const[d,B]=(0,t.eJ)(r),Q=(0,t.I4)((ye,_e)=>Cb(this,null,function*(){B(ge=>Vl(Ws({},ge),{[ye]:_e}));try{yield(0,yn.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:ye,value:_e}})}catch(ge){console.error(ge)}}),[B]),ce=(0,t.Ye)(()=>Vl(Ws({},Vp(d)),{changeUserSetting:Q}),[d,Q]);return(0,e.h)(mc.Provider,{value:ce},n)}function Sb(){return useContext(mc)}var xb=dn(92643),js=dn(10174),zp=dn(72307),Ab=dn(71720);function Db({user:r=void 0,pub:n=null,children:d=void 0,siteConfigs:B={},hasThemedBackground:Q=void 0,language:ce="en",country:ye=void 0,experimentInfo:_e={},portalRoot:ge=void 0,shouldLoad:Ue=void 0,shouldPollNotifications:Ct=!1,publicationSettings:xt={},userSettings:Yt=void 0,publicationUserSettings:sn={}}){Ue===void 0&&(Ue=!!r);const Xt=(0,zp.lV)(!!r);return(0,e.h)(K1,{country:ye},(0,e.h)(P._7,{language:ce},(0,e.h)(D.ze,{value:{hasThemedBackground:Q}},(0,e.h)(It.vC,{siteConfigs:B},(0,e.h)(He.Vt,{siteConfigs:B,experimentInfo:_e},(0,e.h)(Ra,{siteConfigs:B,experimentInfo:_e},(0,e.h)(Le.Iz,{settings:xt},(0,e.h)(Ob,{preloadPubUserSettings:sn},(0,e.h)(Ll.N$,{shouldLoad:Ue,shouldPoll:Ct},(0,e.h)(Nl.X,{root:ge},(0,e.h)(is.dr,{defaultValue:r,settings:Yt},(0,e.h)(xb.am,null,(0,e.h)(pi.VW,null,(0,e.h)(zp.e.Provider,{value:Xt},(0,e.h)(js.Au,null,(0,e.h)(Ab.G.Provider,{value:n},d))))))))))))))))}var Ua=dn(4605);function Tb(){return(0,e.h)(Bs.cr,{module:"../feed/PublicationPage",onRequest:()=>dn.e(853).then(dn.bind(dn,88853)),resolve:r=>r.PublicationFeedPage,whileLoading:(0,e.h)(Ib,null)})}function Ib(){return(0,e.h)(fp.h,null,(0,e.h)(Se.hs,{bg:"primary",style:{minHeight:800}}))}var Mb=Object.defineProperty,Rb=Object.defineProperties,Lb=Object.getOwnPropertyDescriptors,$p=Object.getOwnPropertySymbols,Nb=Object.prototype.hasOwnProperty,kb=Object.prototype.propertyIsEnumerable,Gp=(r,n,d)=>n in r?Mb(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Bb=(r,n)=>{for(var d in n||(n={}))Nb.call(n,d)&&Gp(r,d,n[d]);if($p)for(var d of $p(n))kb.call(n,d)&&Gp(r,d,n[d]);return r},Ub=(r,n)=>Rb(r,Lb(n));function Fb(){const r=(0,pi.pm)();return(0,t.d4)(()=>{const n=new URL(location.toString());n.searchParams.get("founding-member-confirmation")&&(n.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",n),r.popToast(B=>(0,e.h)(pi.FN,Ub(Bb({},B),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var Hs=dn(63030),as=dn(71375),Zp=dn(16527),ra=dn(92271);const gc={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var Wb=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const jb=(r,n,d,B,Q)=>{if(!n)return null;switch(r){case"post-login":return n.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,g.getReaderProfileUrl)(n,{utm_source:"profile_toast",noBase:d}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return B?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,g.getReaderOnboardingUrl)(n,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:B?B.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!B||!n.profile_set_up_at?null:{title:`Welcome to ${B?B.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:B?(0,g.getArchiveUrl)(B):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,g.getReaderProfileUrl)(n,{utm_source:"profile_toast",noBase:d}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(Se.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,$.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(C.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(C.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Bt.numberToOrdinal)(Q)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,g.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function Hb({user:r,pub:n=null,noBase:d=!1}){const B=(0,pi.pm)();return(0,t.d4)(()=>{function Q(){return Wb(this,null,function*(){yield zt().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const ce=new URL(location.toString()),ye=ce.searchParams.get("profile-setup-message");if(!ye)return;const _e=ye==="start-writing"?Number(ce.searchParams.get("nthPub")):void 0;if(ce.searchParams.delete("nthPub"),ce.searchParams.delete("profile-setup-message"),history.replaceState({},"",ce),!(ye!=="post-subscribe-prompt"))return;const Ue=jb(ye,r,d,n,_e);Ue&&(ye==="start-writing"&&Q(),B.popToast(({onClose:Ct})=>(0,e.h)(Se.tu,{className:gc.wrapper,justifyContent:"space-between"},(0,e.h)(Se.tu,{gap:8},(0,e.h)(Se.gq,{className:gc.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(ra.z,{look:"flex",onClick:Ct},(0,e.h)(as.Z,{size:20}))),(0,e.h)(C.xv.H3,{className:gc.header},Ue.title),Ue.body),(0,e.h)(ra.z,{variant:Ue.ctaVariant,fill:"filled",onClick:xt=>{(0,Zp.Q)(xt,Ue.ctaLink,{native:!0}),Ct()}},Ue.ctaText)),{ttl:null}))},[]),null}var Bi=dn(58884);const Kb=["sort"],Vb=["sort","selection"];function Yp(r,n){let d;try{d=new URL(`${location.protocol}//${location.host}${r}`)}catch(B){d=new URL(r)}for(const B of d.searchParams.keys())(n?Vb:Kb).includes(B)||d.searchParams.delete(B);return d.toString()}function zb({previous:r,url:n}){var d,B;if(typeof window=="undefined")return;const Q=Yp(n,!1),ce=Yp(n,!0),{head:ye}=document;(d=ye.querySelector("link[rel=canonical]"))==null||d.setAttribute("href",Q),(B=ye.querySelector('meta[property="og:url"]'))==null||B.setAttribute("content",ce),(0,y.jA)({previous:r,url:n})}var Jp=dn(35225),$b=dn(3312),vc=dn.n($b),Gb=dn(92592),_c=dn(82771),Fa=dn(2181);function g8(){const[r,n]=useState(()=>typeof window!="undefined"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);return useEffect(()=>{const d=Q=>{n(Q.matches)},B=window.matchMedia("(prefers-color-scheme: dark)");return B.addEventListener("change",d),()=>{B.removeEventListener("change",d)}},[]),{darkMode:r}}var bi=dn(62246);function v8({utm_campaign:r,utm_source:n,utm_content:d,abTestingId:B}={}){const[Q,ce]=useState(!1);return{open:()=>{ce(!0),track(EVENTS.APP_INSTALL_MODAL_OPENED,{utm_campaign:r,utm_source:n,utm_content:d})},modal:h(Jb,{isOpen:Q,onClose:()=>ce(!1),utm_campaign:r,utm_source:n,utm_content:d,abTestingId:B})}}function Qp({label:r}){return(0,e.h)(Se.hs,{gap:16,alignItems:"center",className:Ae.divider},(0,e.h)("hr",{className:Ae.dividerLine}),r&&(0,e.h)(e.Fragment,null,(0,e.h)(C.xv.Meta,null,r),(0,e.h)("hr",{className:Ae.dividerLine})))}function Zb({utm_campaign:r,utm_source:n,utm_content:d,hideQrInstructions:B=!0,darkMode:Q=!1,abTestingId:ce,size:ye,gap:_e=32,padding:ge=32}){const{iString:Ue}=useI18N();return h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:_e,padding:ge},!isMobile()&&h(Fragment,null,!B&&h(Text.B3,{weight:"semibold",translated:!0},"Scan the QR code below"),h(FlexBox,{className:css.qrCode,padding:20},h(Qb,{size:ye,utm_campaign:r,utm_source:n,utm_content:d,abTestingId:ce})),h(Qp,{label:Ue("OR")})),h(Yb,{utm_campaign:r,utm_source:n,darkMode:Q}))}function Yb({utm_campaign:r,utm_source:n,darkMode:d=!1}){return h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:r,utm_source:n})},h("img",{src:imginary(d?"/img/app_page/app-store-white.png":"/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:r,utm_source:n})},h("img",{src:imginary(d?"/img/app_page/google-play-white.png":"/img/app_page/google-play.png",160*2),height:48})))}function Jb({isOpen:r,onClose:n,utm_campaign:d,utm_content:B,utm_source:Q,abTestingId:ce}){return h(Modal,{isOpen:r,onClose:n,width:500},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,{translated:!0},"Download the Substack app"),h(IconButton,{size:40,onClick:n,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(Zb,{utm_campaign:d,utm_source:Q,utm_content:B,abTestingId:ce})))}function Qb({utm_campaign:r,utm_source:n,utm_content:d,abTestingId:B,size:Q=240,width:ce,height:ye}){const _e=useRef(null),ge=getAppStoreRedirectUrl({utm_campaign:r,utm_source:n,utm_content:d,abti:B}),{darkMode:Ue}=useDarkMode(),Ct=Xb(xt=>{const Yt=xt.devicePixelRatio,sn=getComputedStyle(document.body),Xt=sn.getPropertyValue("--color-primary"),Vt=sn.getPropertyValue("--color-bg-elevated");return{width:(ce!=null?ce:Q)*Yt,height:(ye!=null?ye:Q)*Yt,type:"canvas",data:ge,dotsOptions:{color:Xt,type:"dots"},backgroundOptions:{color:Vt},cornersSquareOptions:{color:Xt,type:"extra-rounded"},cornersDotOptions:{color:Xt,type:"dot"},qrOptions:{errorCorrectionLevel:"L"}}},[ce,ye,ge,Ue]);return useEffect(()=>{const{current:xt}=_e;if(!xt||!Ct||!Ct._canvas)return;const Yt=Ct._canvas;return Yt.style.width=`${ce!=null?ce:Q}px`,Yt.style.height=`${ye!=null?ye:Q}px`,xt.appendChild(Yt),()=>{xt.removeChild(Yt)}},[Ct,ce,ye]),h("div",{ref:_e})}function Xb(r,n){const{result:d}=useResource(()=>dn.e(915).then(dn.t.bind(dn,91915,23)),[],{auto:!0}),B=d==null?void 0:d.default;return useMemo(()=>B&&typeof window!="undefined"?new B(r(window)):null,[B,...n])}var Xp=dn(96450);const Ui={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var qb=Object.defineProperty,zl=Object.getOwnPropertySymbols,qp=Object.prototype.hasOwnProperty,ef=Object.prototype.propertyIsEnumerable,tf=(r,n,d)=>n in r?qb(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,e2=(r,n)=>{for(var d in n||(n={}))qp.call(n,d)&&tf(r,d,n[d]);if(zl)for(var d of zl(n))ef.call(n,d)&&tf(r,d,n[d]);return r},t2=(r,n)=>{var d={};for(var B in r)qp.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&zl)for(var B of zl(r))n.indexOf(B)<0&&ef.call(r,B)&&(d[B]=r[B]);return d};function yc({children:r,pub:n,user:d,showHeader:B,layoutTop:Q}){return(0,e.h)("div",{className:i()(Ui.pageContainer,Q?Ui.layoutTop:Ui.layoutCentered)},(0,e.h)("div",{className:Ui.header},B&&n&&d&&(0,e.h)(Kl,{pub:n,user:d,hideSections:!0,hideTitle:!0})),r)}function n2({pub:r,utm_campaign:n}){return(0,e.h)(Se.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(of,{utm_campaign:n}),(0,e.h)(C.xv.B4,{translated:!0,size:12,color:"secondary",className:Ui.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,g.getThreadDeepLinkUrl)(r)},"Open now")))}function r2({pub:r,utm_campaign:n}){return(0,e.h)(Se.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(af,{utm_campaign:n}),(0,e.h)(C.xv.B4,{translated:!0,size:12,color:"secondary",className:Ui.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,g.getThreadDeepLinkUrl)(r)},"Open now")))}function nf({pub:r,communityAction:n}){var d,B;const{iString:Q,iTemplate:ce}=(0,P.M1)(),ye=n?ce`${n.author.name||Q("Someone")} started a thread`:ce`Join ${(0,Bt.possessive)(r.author_name)} subscriber chat `,_e=n!=null&&n.communityPost?(d=n.communityPost.body)==null?void 0:d.slice(0,128):`Subscribe to ${r.name} and join the conversation.`,ge=((B=n==null?void 0:n.communityPost)==null?void 0:B.type)==="media"&&!!(n!=null&&n.communityPost.media_assets),Ue=ge?n.communityPost.media_assets[0].url:r.logo_url,Ct=(0,$.getPublicationChatAppLinkUrl)({pubKey:r.subdomain});return(0,e.h)(e.Fragment,null,(0,E.setMetaData)({title:ye,socialTitle:ye,description:_e,image:Ue,isLargeImage:ge}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:vc()((0,_c.hd)(r,{name:ye,url:Ct,description:_e,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function o2({publication:r,communityAction:n,user:d,showHeader:B}){return(0,e.h)(yc,{pub:r,user:d,showHeader:B},(0,e.h)(Se.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Se.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(s2,{publication:r,communityAction:n,publicationAuthor:r.author||{id:r.author_id||0,name:r.author_name||"",photo_url:r.author_photo_url},utm_campaign:"threads-page"}))))}function i2({publication:r,communityAction:n,user:d,layoutTop:B,appModalOpenByDefault:Q}){const ce=(0,Ii.XA)(),[ye,_e]=(0,t.eJ)(!ce&&Q),ge="thread-page",{iString:Ue,iTemplate:Ct}=(0,P.M1)(),xt=(0,e.h)(Se.tu,{gap:8},(0,e.h)(Fa.dI,{href:(0,$.getCommunityPostAppLinkUrl)({postId:n.communityPost.id,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:ge}),onClick:ce?null:Yt=>{Yt.preventDefault(),_e(!0)}},Ue("Open in app")),(0,e.h)(bc,{publication:r,postId:n.communityPost.id,text:Ue("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(yc,{pub:r,user:d,layoutTop:B},(0,e.h)(Se.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Se.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(Se.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},n.status==="open"?(0,e.h)(Fa.Jg,{communityPost:n.communityPost,author:n.author,withAttribution:!0,extras:ce?null:xt,flex:"auto",isReadOnly:!0}):(0,e.h)(Se.tu,null,(0,e.h)(Fa.V8,{author:n.author,extras:ce?null:xt,commenters:n.communityPost.recent_commenters,count:n.communityPost.comment_count,audience:n.communityPost.audience})))),ce&&(0,e.h)(Se.tu,{className:Ui.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},xt),(0,e.h)(nf,{pub:r,communityAction:n})),(0,e.h)(sf,{utm_campaign:ge,isOpen:ye,postId:n.communityPost.id,onClose:()=>_e(!1),subdomain:r.subdomain}))}function a2({publication:r,communityAction:n,user:d,layoutTop:B,appModalOpenByDefault:Q}){var ce;const{iString:ye}=(0,P.M1)(),_e=(0,Ii.XA)(),[ge,Ue]=(0,t.eJ)(!_e&&Q),Ct="comment-page",xt=(ce=n.communityComment.parent_id)!=null?ce:n.communityComment.id,Yt=n.communityComment.parent_id?n.communityComment.id:void 0,sn=n.communityComment.post_id,Xt=(0,e.h)(Se.tu,{gap:8},(0,e.h)(Fa.dI,{href:(0,$.getCommunityCommentAppLinkUrl)({commentId:xt,targetReplyId:Yt,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:Ct}),onClick:_e?null:Vt=>{Vt.preventDefault(),Ue(!0)}},ye("Open in app")),(0,e.h)(bc,{publication:r,postId:sn,commentId:xt,targetReplyId:Yt,showTarget:Yt?!0:void 0,text:ye("Or join the conversation on web"),source:"post-permalink"}));return(0,e.h)(yc,{pub:r,user:d,layoutTop:B},(0,e.h)(Se.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(Se.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(Se.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},n.status==="VISIBLE"||!n.status?(0,e.h)(Fa.rk,{chatPublicationId:r.id,communityComment:n.communityComment,author:n.author,extras:_e?null:Xt,isReadOnly:!0,isBanned:!1,quoteReply:n.quote,chatAuthorNameAttribution:r.author_name,flex:"auto"}):n.status==="PAID_SUBSCRIPTION_REQUIRED"||n.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(Se.tu,null,(0,e.h)(Fa.V8,{author:n.author,extras:_e?null:Xt,commenters:n.communityComment.recent_commenters,count:n.communityComment.reply_count,audience:n.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(Se.tu,null,(0,e.h)(Fa.Q4,{author:n.author,extras:_e?null:Xt,commenters:n.communityComment.recent_commenters,count:n.communityComment.reply_count})))),_e&&(0,e.h)(Se.tu,{className:Ui.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Xt)),(0,e.h)(sf,{utm_campaign:Ct,isOpen:ge,postId:sn,commentId:xt,targetReplyId:Yt,onClose:()=>Ue(!1),subdomain:r.subdomain}))}function s2({publication:r,communityAction:n,publicationAuthor:d,noFallback:B,utm_campaign:Q}){const ce=(0,x.isMobile)(),ye=(0,x.isAndroid)();return(0,e.h)(Se.tu,{gap:ce?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)(Xp.q,{imageUrl:(0,g.getUserPhotoUrl)(d),size:"xxl",border:!0,badge:(0,e.h)("div",{className:i()(Ui.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(Se.tu,{gap:8},(0,e.h)(C.xv.H2,{translated:!0,size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",I18N.p(d.name||"Substack user"),"'s subscriber chat")),!ce&&(0,e.h)("div",{className:Ui.threadsLinkContainer},(0,e.h)(rf,{utm_campaign:Q,subdomain:r.subdomain})),ce&&(ye?(0,e.h)(r2,{pub:r,utm_campaign:Q}):(0,e.h)(n2,{pub:r,utm_campaign:Q})),(0,e.h)(bc,{publication:r,source:"pub-nav-bar"}),(0,e.h)(nf,{pub:r,communityAction:n}))}function bc({publication:r,source:n,postId:d,commentId:B,targetReplyId:Q,showTarget:ce,text:ye}){const{iString:_e}=(0,P.M1)();return ye||(ye=_e("Or open on web")),(0,e.h)("a",{href:(0,$.getWebChatUrl)({pubId:r.id,postId:d,commentId:B,params:{utm_source:n,targetReplyId:Q,showTarget:ce}}),className:Ui.webChatLink},(0,e.h)(C.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},ye))}function rf({utm_campaign:r,postId:n,subdomain:d,commentId:B,targetReplyId:Q}){return(0,e.h)(Se.tu,{gap:24,alignItems:"center"},(0,e.h)(Se.hs,{justifyContent:"center"},(0,e.h)(C.xv.B4,{translated:!0,as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(Se.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Ui.qrCode},(0,e.h)(l2,{utm_campaign:r,postId:n,subdomain:d,commentId:B,targetReplyId:Q})),(0,e.h)(Qp,{label:"OR"}),(0,e.h)(Se.hs,{gap:16,justifyContent:"center"},(0,e.h)(of,{utm_campaign:r}),(0,e.h)(af,{utm_campaign:r})))}function l2({utm_campaign:r,postId:n,subdomain:d,commentId:B,targetReplyId:Q}){const ce=(0,t.sO)(),ye=B?(0,$.getCommunityCommentAppLinkUrl)({commentId:B,targetReplyId:Q,utm_campaign:r}):n?(0,$.getCommunityPostAppLinkUrl)({postId:n,utm_campaign:r}):(0,$.getPublicationChatAppLinkUrl)({pubKey:d,redirect:"app-store",utm_campaign:r});return(0,t.d4)(()=>{const{current:_e}=ce;_e&&Gb.toCanvas(_e,ye,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:ce})}function of({utm_campaign:r}){return(0,e.h)("a",{className:Ui.appBadge,href:(0,g.getAppStoreUrl)({utm_campaign:r,utm_source:"substack"})},(0,e.h)("img",{src:(0,g.imginary)("/img/app_page/app-store.png",400),height:40}))}function af({utm_campaign:r}){return(0,e.h)("a",{className:Ui.appBadge,href:(0,g.getPlayStoreUrl)({utm_campaign:r,utm_source:"substack"})},(0,e.h)("img",{src:(0,g.imginary)("/img/app_page/google-play.png",400),height:40}))}function sf(r){var n=r,{postId:d,utm_campaign:B,subdomain:Q,commentId:ce,targetReplyId:ye}=n,_e=t2(n,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);const{iString:ge}=(0,P.M1)();return(0,e.h)(bi.u_,e2({},_e),(0,e.h)(bi.xB,{title:ge("Open in the Substack app"),includeClose:!0,onClose:_e.onClose,bottomBorder:!0}),(0,e.h)(Se.tu,{paddingY:32,paddingX:40},(0,e.h)(rf,{utm_campaign:B,postId:d,subdomain:Q,commentId:ce,targetReplyId:ye})))}var $l=dn(23237),fi=dn(6378),Xi=dn(80332),u2=dn(52720),c2=dn(23279),Ec=dn.n(c2),Ei=dn(39776),d2=dn(70109),p2=dn(15867),Ri=dn(82626),f2=dn(42395),wi=dn.n(f2),lf=dn(43088),uf=dn(4697),h2=dn(29417),m2=Object.defineProperty,g2=Object.defineProperties,v2=Object.getOwnPropertyDescriptors,cf=Object.getOwnPropertySymbols,_2=Object.prototype.hasOwnProperty,y2=Object.prototype.propertyIsEnumerable,df=(r,n,d)=>n in r?m2(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,b2=(r,n)=>{for(var d in n||(n={}))_2.call(n,d)&&df(r,d,n[d]);if(cf)for(var d of cf(n))y2.call(n,d)&&df(r,d,n[d]);return r},E2=(r,n)=>g2(r,v2(n));const P2=r=>(0,e.h)(T.l,E2(b2({},r),{name:"MoreIcon",svgParams:{height:24,width:24,fill:r.fill,stroke:r.stroke,strokeWidth:r.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var Ks=dn(31517),C2=dn(26240),gi=dn(18492),w2=dn(65024),ss=dn(84606),O2=dn(55687);const S2={note:"frontend-feed-EmailFeedItem-module__note--vNa7N"};function y8({item:r,utmSource:n}){const{comment:d}=r;return h(pf,{comment:d,utmSource:n})}function pf({comment:r,utmSource:n}){var d,B,Q,ce,ye,_e,ge,Ue;const Ct=(d=r.attachments)==null?void 0:d.find(Vt=>Vt.type==="image"),xt=(B=r.attachments)==null?void 0:B.find(Vt=>Vt.type==="post"),Yt=xt==null?void 0:xt.postSelection,sn=(Q=r.attachments)==null?void 0:Q.find(Vt=>Vt.type!=="image"),Xt=sn&&(0,w2.k)(sn);return(0,e.h)(ss.xu,{as:"a",href:(0,$.getFeedCommentUrl)(r,{urlParams:{utm_source:n}}),padding:16,radius:12,border:"detail",className:S2.note,"data-component-name":"EmailCommentEmbed"},(0,e.h)(gi.zK,{style:{width:"100%"},verticalAlign:"top",gap:12,growLastChild:!0},(0,e.h)(gi.NS,{src:(ye=r.photo_url)!=null?ye:(0,g.getDefaultUserPhotoById)((ce=r.user_id)!=null?ce:0),size:48}),(0,e.h)(gi.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(ss.xu,null,(0,e.h)(C.xv.B3,null,(0,e.h)(C.Zx,{weight:"semibold"},r.name)," ",(0,e.h)(C.Zx,{color:"secondary"},Zn()(r.date).fromNowShort())),(0,e.h)(C.xv.B3,null,(0,Bt.truncateWords)(r.body,420))),xt&&Yt&&(0,e.h)(C.xv.B3,null,(0,e.h)(x2,{attachment:xt,selection:Yt})),Xt&&!xt&&(0,e.h)(C.xv.B4,{color:"accent-blue"},Xt),Ct&&(0,e.h)(A2,{attachment:Ct}),(0,e.h)(gi.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(ap.Z,{width:16,height:16,strokeWidth:1.5,stroke:Vs,style:Gl,fill:"none",isStatic:!0}),(0,e.h)(Pc,{count:(_e=r.reaction_count)!=null?_e:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(C2.Z,{height:16,width:16,strokeWidth:1.5,stroke:Vs,style:Gl,isStatic:!0}),(0,e.h)(Pc,{count:(ge=r.children_count)!=null?ge:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(Ks.Z,{height:16,width:16,strokeWidth:1.5,stroke:Vs,style:Gl,isStatic:!0}),(0,e.h)(Pc,{count:(Ue=r.restacks)!=null?Ue:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(P2,{height:16,width:16,strokeWidth:2,stroke:Vs,fill:Vs,style:Gl,isStatic:!0})))))))}const Gl={display:"inline-block",verticalAlign:"middle"};function Pc({count:r}){return(0,e.h)(C.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},r>0?(0,O2.u)(r):" ")}const Vs="#808080";function x2({attachment:r,selection:n}){return(0,e.h)(ss.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(C.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,Bt.truncateWords)(n.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,lo.getPostAuthor)(r.publication,r.post).name))}function A2({attachment:r}){return(0,e.h)(ss.xu,{as:"img",src:(0,$.imginary)(r.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}var ff=dn(54853),hf=dn(94016),Pa=dn(58592),D2=dn(45094);const mf=({href:r,children:n})=>r?(0,e.h)("a",{href:r,target:"_blank",rel:"noopener",style:{textDecoration:"none"}},n):n;var qi=dn(89873);const T2=({align:r,width:n})=>{const d={};if(r==="center"||n==="100%"||n>=g.EMAIL_CONTENT_WIDTH)return d;const B=r==="left"?"paddingRight":"paddingLeft";return d[B]=g.EMAIL_CONTENT_WIDTH-n,d},I2=({src:r,alt:n,title:d,width:B,height:Q,align:ce,href:ye})=>{const _e=B==="100%"?g.EMAIL_CONTENT_WIDTH:B;return(0,e.h)("div",{className:i()(qi.Z.staticView),"data-component-name":"Image3Static"},(0,e.h)(mf,{href:ye},(0,e.h)("div",{style:T2({align:ce,width:B}),className:i()(qi.Z.staticImageWrap)},(0,e.h)("img",{width:_e,height:Q,src:(0,g.imginary)(r,2*g.EMAIL_CONTENT_WIDTH),alt:n}),d&&(0,e.h)("div",{className:i()(qi.Z.caption,qi.Z.static)},d))))};var gf=dn(55661);const M2=({src:r,alt:n,title:d,width:B,size:Q,align:ce,href:ye})=>{const[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,t.eJ)(0),xt=(0,t.sO)(null),Yt=()=>{xt.current&&(xt.current.onload=()=>{Ct(xt.current.naturalWidth/xt.current.naturalHeight)})};(0,t.d4)(()=>{Yt()});const sn=()=>{switch(Q){case"large":return g.LARGE_IMAGE_WIDTH;case"full":return typeof window!="undefined"?window.innerWidth:g.MAX_REASONABLE_SCREEN_WIDTH;default:return B==="100%"?g.WEB_CONTENT_WIDTH:B}};return(0,e.h)("figure",{className:i()(qi.Z.mediaNodeView,ce&&qi.Z[`align-${ce}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},(0,e.h)(mf,{href:ye},(0,e.h)(e.Fragment,null,(0,e.h)(Se.gq,{className:i()(qi.Z.imageContainer,!ye&&qi.Z.zoom,qi.Z[Q]),onClick:()=>!ye&&ge(!0)},(0,e.h)(Se.tu,{gap:8},(0,e.h)(tt.e,{className:qi.Z[Q],src:r,alt:n,title:d,maxWidth:sn(),imageRef:xt}),d&&(0,e.h)("figcaption",{className:qi.Z.caption},d))),(0,e.h)(gf.ImageViewerModal,{showModal:_e,modalContent:[{attrs:{src:r,alt:n,title:d}}],onClose:()=>ge(!1),step:0}))))};var vf=dn(51050),_f=dn(90618),R2=dn(96347),L2=dn(37660),yf=dn(14531),N2=dn(75935),k2=dn(40445),B2=dn(80375),Cc=dn(39232),bf=Object.getOwnPropertySymbols,U2=Object.prototype.hasOwnProperty,F2=Object.prototype.propertyIsEnumerable,W2=(r,n)=>{var d={};for(var B in r)U2.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&bf)for(var B of bf(r))n.indexOf(B)<0&&F2.call(r,B)&&(d[B]=r[B]);return d};const j2=r=>{var n=r,{caption:d,size:B}=n,Q=W2(n,["caption","size"]);return Q?(0,e.h)("div",{className:i()(Cc.Z.digestPostEmbed,yf.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},B==="sm"&&(0,e.h)(B2.o,{post:Q}),B==="md"&&(0,e.h)(k2._,{post:Q},(0,e.h)("p",{className:Cc.Z.caption,dangerouslySetInnerHTML:{__html:d}})),B==="lg"&&(0,e.h)(N2.Y,{post:Q},(0,e.h)("p",{className:Cc.Z.caption,dangerouslySetInnerHTML:{__html:d}}))):null};var ls=dn(87046);const H2=({mediaUpload:r,post:n,pub:d})=>{if(!r)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const B=(0,$.getLinkToVideo)({pub:d,post:n,mediaUploadId:r.id});return(0,e.h)(ls.Z,{mediaUpload:r,isStatic:!0,pub:d,href:B})};var K2=Object.defineProperty,V2=Object.defineProperties,z2=Object.getOwnPropertyDescriptors,Ef=Object.getOwnPropertySymbols,$2=Object.prototype.hasOwnProperty,G2=Object.prototype.propertyIsEnumerable,Pf=(r,n,d)=>n in r?K2(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,fa=(r,n)=>{for(var d in n||(n={}))$2.call(n,d)&&Pf(r,d,n[d]);if(Ef)for(var d of Ef(n))G2.call(n,d)&&Pf(r,d,n[d]);return r},zs=(r,n)=>V2(r,z2(n));const Z2=(r,{pub:n,props:{isStatic:d,post:B,dataForEmailRender:Q}})=>{var ce,ye;try{const _e=r.getAttribute("data-attrs");if(_e){const{mediaUploadId:ge}=JSON.parse(wi()(_e));return d?(0,e.h)(H2,{pub:n,post:B,mediaUpload:(ye=(ce=Q.idToMediaUpload)==null?void 0:ce[ge])!=null?ye:null}):(0,e.h)(R2.VideoEmbedPlayer,{pub:n,post:B,mediaUploadId:ge})}}catch(_e){console.error("Failed to parse video:",_e)}return(0,e.h)(e.Fragment,null)},Y2=(r,{pub:n,props:{isStatic:d}})=>{try{const B=r.getAttribute("data-attrs");if(B){const Q=JSON.parse(wi()(B));return d?(0,e.h)(j2,zs(fa({},Q),{isEditor:!1})):(0,e.h)(L2.DigestPostEmbedWeb,zs(fa({},Q),{isEditor:!1}))}}catch(B){console.error("Failed to parse digest post embed:",B)}return(0,e.h)(e.Fragment,null)},J2=(r,{pub:n,props:{isStatic:d}})=>{try{const B=r.getAttribute("data-attrs"),Q=JSON.parse(wi()(B));return d?(0,e.h)(_f.ReferralsTierCardStatic,zs(fa({},Q),{pub:n})):(0,e.h)(_f.ReferralsTierCard,zs(fa({},Q),{pub:n}))}catch(B){console.error("Failed to parse referrals card:",B)}return(0,e.h)(e.Fragment,null)},Q2=(r,{props:{isStatic:n}})=>{var d;try{const B=r.getAttribute("data-attrs");if(B){const ce=(d=JSON.parse(B))!=null?d:{};return n?(0,e.h)(I2,fa({},ce)):(0,e.h)(M2,fa({},ce))}}catch(B){console.error("Failed to parse image3:",B)}return(0,e.h)(e.Fragment,null)},X2=(r,{pub:n,props:{isStatic:d,post:B}})=>{try{const Q=r.getAttribute("data-attrs");if(Q){const ce=JSON.parse(Q),_e={node:{attrs:zs(fa({},ce),{isEditor:!1})}};return d?(0,e.h)(vf.ImageGalleryStatic,fa({},_e)):(0,e.h)(vf.ImageGallery,fa({},_e))}}catch(Q){console.error("Failed to parse image gallery embed:",Q)}return(0,e.h)(e.Fragment,null)};var us=dn(99869),Cf=dn(72985),wc=dn(46505),q2=dn(15748);function wf(r,n){return(0,Cf.cleanSlug)((0,Bt.truncateText)(r,500,{ellipsis:""}),{allowUnicode:n})}function eE({text:r,post:n,pub:d,offsetTop:B,isAboutPage:Q}){const{isStatic:ce}=(0,t.qp)(wc.E),ye=wf(r,!0),_e=wf(r,!1),ge=(0,q2.g)();if(!n&&!Q||!d||ce)return null;const Ue=Q?`${(0,g.getAboutUrl)(d,{addBase:!0})}#\xA7${ye}`:`${(0,g.getBaseUrl)(d)}/i/${n.id}/${ye}`,Ct=xt=>{location!=null&&location.href&&(xt.preventDefault(),(0,y.j)(y.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:Ue}),ge(Ue))};return(0,e.h)("div",{id:`\xA7${ye}`,className:i()("header-anchor-widget",{"offset-top":B})},(n==null?void 0:n.id)<66696300&&ye!==_e&&(0,e.h)("div",{id:`\xA7${_e}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:Ue,onClick:Ct},(0,e.h)(us.Z,{className:"header-anchor-widget-icon",size:20}))))}var Of=dn(86602),Sf=dn(85905),$s=dn(25380),tE=Object.defineProperty,nE=Object.defineProperties,rE=Object.getOwnPropertyDescriptors,xf=Object.getOwnPropertySymbols,oE=Object.prototype.hasOwnProperty,iE=Object.prototype.propertyIsEnumerable,Af=(r,n,d)=>n in r?tE(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,aE=(r,n)=>{for(var d in n||(n={}))oE.call(n,d)&&Af(r,d,n[d]);if(xf)for(var d of xf(n))iE.call(n,d)&&Af(r,d,n[d]);return r},sE=(r,n)=>nE(r,rE(n));const lE=r=>(0,e.h)(T.l,sE(aE({},r),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)($s.Z,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var uE=dn(29910),cE=Object.defineProperty,dE=Object.defineProperties,pE=Object.getOwnPropertyDescriptors,Df=Object.getOwnPropertySymbols,fE=Object.prototype.hasOwnProperty,hE=Object.prototype.propertyIsEnumerable,Tf=(r,n,d)=>n in r?cE(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Oc=(r,n)=>{for(var d in n||(n={}))fE.call(n,d)&&Tf(r,d,n[d]);if(Df)for(var d of Df(n))hE.call(n,d)&&Tf(r,d,n[d]);return r},mE=(r,n)=>dE(r,pE(n));const gE=["Subscribe","Subscribe now","Sign up","Sign up now"];function If({isStatic:r,pub:n,user:d,freeSignup:B,children:Q,pledgesEnabled:ce}){if(r)return(0,e.h)(wc.E.Consumer,null,({isFreemail:Ue,isFreeSubscribed:Ct,isPledged:xt})=>Q({isFreeSubscribed:Ct,isSubscribed:!Ue,isFullySubscribed:n.plans?!Ue:!ce||xt,isForPaidSubscription:!!n.plans&&Ue,isPledged:xt}));const ye=B||(d==null?void 0:d.is_free_subscribed),_e=d==null?void 0:d.is_subscribed,ge=d==null?void 0:d.is_pledged;return Q({isFreeSubscribed:ye,isSubscribed:_e,isFullySubscribed:n.plans?_e:ye&&(!ce||ge),isForPaidSubscription:!!n.plans&&ye&&!_e,isPledged:ge})}function Sc({pub:r,user:n,now:d,isStatic:B}){const{getExperimentVariant:Q,exposeExperiment:ce}=(0,He.jc)();return(0,e.h)(Le.vz.Consumer,null,({getSettingFor:ye})=>{const _e=r.payments_state==="disabled"&&!r.invite_only&&ye("payment_pledges_enabled");return(0,e.h)(If,{isStatic:B,user:n,pub:r,pledgesEnabled:_e},({isFreeSubscribed:ge,isPledged:Ue})=>B?(0,Bt.getSubscribeText)(r,{now:d,isFreeSubscribed:ge,isPledged:Ue,pledgesEnabled:_e}):(0,e.h)(_.gq,{alignItems:"center",gap:8},ge?null:(0,e.h)(Wl.Z,{size:20}),(0,Bt.getSubscribeText)(r,{now:d,isFreeSubscribed:ge,isPledged:Ue,pledgesEnabled:_e})))})}class Ca extends e.Component{onSignup(n){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(n):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,g.getSubscribeUrl)(this.props.pub,mE(Oc(Oc({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:n.body.requires_confirmation?"true":""},n.body.subscription_id&&{subscription_id:n.body.subscription_id}),n.body.referral_token&&{referral_token:n.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(n){const{pub:d,subscribeButtonAttrs:B,isStatic:Q,source:ce,post:ye,next:_e}=this.props,ge={utm_medium:Q?"email":"web",utm_source:ce||"subscribe-widget",utm_content:ye&&ye.id,next:_e,referring_pub_ids:Q?void 0:(0,g.getQueryItem)("referring_pub_ids")};return n?Q?Ri.Substitutions.ACCOUNT_URL:(0,g.getPubAccountSettingsUrl)(d,{params:ge}):(0,g.getSubscribeUrl)(d,Oc({addBase:!0,root:B?B.url:Q&&Ri.Substitutions.CHECKOUT_URL},ge))}getButtonLabel(n,d,{isPledged:B,pledgesEnabled:Q}){const{pub:ce,subscribeButtonAttrs:ye}=this.props,{iString:_e}=I18N.i({pub:ce});if(n||B)return _e("Subscribed");const ge=ye&&ye.text;if(ge&&!gE.includes(ge))return ge;const Ue=d;return(0,Bt.getSubscribeText)(ce,{now:!Ue,isFreeSubscribed:Ue,isPledged:B,pledgesEnabled:Q})}render({pub:n,user:d,freeSignup:B,freeSignupEmail:Q,source:ce,isStatic:ye,forceEmailInput:_e,expectTruncation:ge,onPrepareData:Ue,onError:Ct},{loading:xt}){const Yt=typeof window!="undefined"&&n.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(Le.vz.Consumer,null,({getSettingFor:sn})=>(0,e.h)(uE._j.Consumer,null,Xt=>(0,e.h)(If,{pub:n,user:d,isStatic:ye,freeSignup:B,pledgesEnabled:n.payments_state==="disabled"&&!n.invite_only&&sn("payment_pledges_enabled")},({isFreeSubscribed:Vt,isSubscribed:un,isFullySubscribed:Tn,isPledged:zn})=>{var nr;const Xn=this.getButtonLabel(un,Vt,{isPledged:zn,pledgesEnabled:n.payments_state==="disabled"&&!n.invite_only&&sn("payment_pledges_enabled")}),mr=Vt||un;return(0,e.h)("div",{className:i()("subscribe-widget",{"is-signed-up":mr,"is-fully-subscribed":Tn}),"data-component-name":"SubscribeWidget"},!_e&&(mr||ye)?(0,e.h)("p",{className:"button-wrapper"},ye?(0,e.h)("a",{className:i()("button subscribe-btn",Tn?"outline":"primary"),href:this.getHref(Tn),native:!ye},Tn&&(0,e.h)(lE,{stroke:((nr=n==null?void 0:n.theme)==null?void 0:nr.background_pop_color)||(n==null?void 0:n.theme_var_background_pop)||M.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,Xn)):(0,e.h)(ra.z,{className:"subscribe-btn",href:this.getHref(Tn),localNavigation:!1,variant:Tn?"themed-secondary":"themed-primary",leftIcon:Tn?(0,e.h)($s.Z,{size:20}):null},(0,e.h)("span",null,Xn))):(0,e.h)(_.gq,{justifyContent:"center"},(0,e.h)(et.Z,{disabled:mr||xt,freeSignup:B,freeSignupEmail:Q,expectTruncation:ge,next:Yt?window.location.href:null,pub:n,source:ce||"subscribe-widget",submitButtonText:mr?"\u2713":(0,Bt.getSubscribeText)(n),useSubscribeLink:(Xt==null?void 0:Xt.isSubstack)||Yt,user:d,utm_campaign:Xt!=null&&Xt.isSubstack?"reader2":Yt?"cross-post":null,onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0,onError:Ct,onPrepareData:Ue,onSuccess:vr=>this.onSignup(vr)})))})))}}var vE=Object.defineProperty,_E=Object.defineProperties,yE=Object.getOwnPropertyDescriptors,Mf=Object.getOwnPropertySymbols,bE=Object.prototype.hasOwnProperty,EE=Object.prototype.propertyIsEnumerable,Rf=(r,n,d)=>n in r?vE(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,oa=(r,n)=>{for(var d in n||(n={}))bE.call(n,d)&&Rf(r,d,n[d]);if(Mf)for(var d of Mf(n))EE.call(n,d)&&Rf(r,d,n[d]);return r},xc=(r,n)=>_E(r,yE(n));const PE=(r,n)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:r.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Ca,oa({pub:n.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},n.props)))),CE=(r,n)=>{try{const d=JSON.parse(wi()(r.getAttribute("data-attrs")));if([`${n.pub.base_url}/subscribe?`,`${n.pub.base_url}/subscribe?plan=founding`,Ri.Substitutions.CHECKOUT_URL,Ri.Substitutions.FOUNDING_CHECKOUT_URL].includes(d.url)){const B=JSON.parse(wi()(r.getAttribute("data-attrs")));return(0,e.h)(Ca,oa({pub:n.pub,subscribeButtonAttrs:B},n.props))}}catch(d){console.error("Failed to parse button:",d)}},wE=(r,{pub:n,props:{isStatic:d,post:B}})=>{try{const Q=r.getAttribute("data-attrs");if(Q){const ce=JSON.parse(wi()(Q));return d?(0,e.h)(Pa.AudioEmbedPlayerStatic,{label:ce.label,pub:n,post:B,duration:ce.duration}):(0,e.h)(Pa.AudioEmbedPlayer,{label:ce.label,pub:n,post:B,src:`/api/v1/audio/upload/${ce.mediaUploadId}/src`,duration:ce.duration,autoPlay:!1})}}catch(Q){console.error("Failed to parse audio:",Q)}},OE=(r,{pub:n,props:{isStatic:d,post:B}})=>{try{const Q=r.getAttribute("data-attrs");if(Q){const ce=JSON.parse(wi()(Q));return d?(0,e.h)(Pa.AudioEmbedPlayerStatic,{label:ce.label,pub:n,post:B,duration:ce.duration}):(0,e.h)(Pa.AudioEmbedPlayer,{label:ce.label,pub:n,post:B,src:ce.url,duration:ce.duration,autoPlay:!1})}}catch(Q){console.error("Failed to parse audio:",Q)}},SE=(r,{props:{isStatic:n}})=>{try{const d=r.getAttribute("data-attrs");if(d){const{name:B,avatarUrl:Q,url:ce}=JSON.parse(wi()(d));return n?(0,e.h)(ff.MeetingEmbedStatic,{name:B,avatarUrl:Q,url:ce}):(0,e.h)(ff.MeetingEmbed,{name:B,avatarUrl:Q,url:ce})}}catch(d){console.error("Failed to parse audio:",d)}},xE=r=>{try{const n=JSON.parse(r.dataset.attrs).symbol;return n?(0,e.h)(D2.default,{symbol:n,prependSymbol:JSON.parse(r.dataset.attrs).prependSymbol,isStatic:JSON.parse(r.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(n){return(0,e.h)(e.Fragment,null)}},AE=(r,{pub:n,props:{isStatic:d,post:B}})=>{const{iString:Q}=I18N.i({pub:n});try{if(d){const ce=r.getAttribute("data-attrs");if(ce){const ye=JSON.parse(wi()(ce)),_e=ye==null?void 0:ye.persistentExpression;return _e?(0,e.h)("img",{src:(0,g.getLatexUrl)(_e),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,Q("Failed to render LaTeX expression \u2014 no expression found in email"))}else return(0,e.h)("p",null,Q("Failed to render LaTeX expression \u2014 data attributes not found"))}else{const ce=r.getAttribute("data-attrs"),ye=JSON.parse(wi()(ce)),_e=ye==null?void 0:ye.persistentExpression;return _e?(0,e.h)(Se.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(Se.tu,{justifyContent:"center"},(0,e.h)(d2.Z,{inline:!1},`\\(${_e}\\)`))):(0,e.h)("p",null,Q("Failed to render LaTeX expression \u2014 no expression found"))}}catch(ce){return console.error("failed to render mathjax",ce),(0,e.h)("p",null,Q("Failed to render LaTeX expression \u2014 error"))}},DE=r=>{try{const n=JSON.parse(r.dataset.attrs),{name:d,id:B,type:Q,url:ce,photo_url:ye,uuid:_e,isStatic:ge}=n;return d?(0,e.h)(Of.default,{name:d,id:B,type:Q,url:ce,photo_url:ye,uuid:_e,isStatic:ge}):(0,e.h)(e.Fragment,null)}catch(n){return(0,e.h)(e.Fragment,null)}},TE=(r,n)=>{var d;try{const B=JSON.parse(wi()(r.getAttribute("data-attrs")));return B!=null&&B.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(Sf.StaticPoll,{id:B.id,embeddedPolls:(d=n.props.dataForEmailRender)==null?void 0:d.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:r.getAttribute("data-attrs")},(0,e.h)(Sf.Poll,{id:B.id,isEditor:!1,post:n.props.post,pub:n.pub,isVersionView:!!n.props.isVersionView}))}catch(B){return console.log("Failed to parse poll:",B),(0,e.h)(e.Fragment,null)}};function IE(r,{props:{isStatic:n}}){try{const d=r.getAttribute("data-attrs"),B=JSON.parse(wi()(d));return!B.pub||!B.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:d},n?(0,e.h)(lf.EmailCommunityChatEmbed,oa({},B)):(0,e.h)(lf.CommunityChatEmbed,{pub:B.pub,subdomain:B.subdomain}))}catch(d){return console.error("Failed to parse chat embed:",d),(0,e.h)(e.Fragment,null)}}function ME(r,n){const{props:{isStatic:d,is_freemail:B}}=n;try{const Q=r.getAttribute("data-attrs"),ce=JSON.parse(wi()(Q));return d?(0,e.h)(uf.EmailCommunityPostEmbed,oa({is_freemail:B},ce)):(0,e.h)(uf.CommunityPostEmbed,oa({},ce))}catch(Q){return console.error("Failed to parse chat post embed:",Q),(0,e.h)(e.Fragment,null)}}function RE(r,{props:{isStatic:n}}){try{const d=r.getAttribute("data-attrs"),B=JSON.parse(wi()(d));return n?(0,e.h)(pf,oa({},B)):(0,e.h)(h2.CommentEmbed,oa({},B))}catch(d){return console.error("Failed to parse chat post embed:",d),(0,e.h)(e.Fragment,null)}}const LE=(r,n,d)=>{var B;const Q=r.id,[ce,,ye]=Q.split("-"),_e=(B=d.wrapper.querySelector(`#${ce}-${ye}`))==null?void 0:B.nextElementSibling;return _e?((0,x.isMobile)()&&(r.href="javascript:void(0)"),(0,e.h)(hf.z,{content:(0,e.h)("div",{className:"markup"},Gs(_e,n,d)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},Gs(r,n,d))):Gs(r,n,d)},Zl=(r,n,{shallow:d}={})=>{var B,Q,ce;if(r.nodeName==="A"&&(r.getAttribute("rel")||r.setAttribute("rel",(B=n.pub)!=null&&B.no_follow?"nofollow ugc noopener":"")),n.pub&&r.nodeName==="P"&&(0,E.hasClass)(r,"button-wrapper")){const ye=CE(r,n);if(ye)return ye}return(0,E.hasClass)(r,"subscription-widget-wrap")?PE(r,n):(0,E.hasClass)(r,"cashtag-wrap")?xE(r):(0,E.hasClass)(r,"mention-wrap")?DE(r):n.pub&&(0,E.hasClass)(r,"native-audio-url-embed")?OE(r,n):n.pub&&(0,E.hasClass)(r,"native-audio-embed")?wE(r,n):n.pub&&(0,E.hasClass)(r,"native-video-embed")?Z2(r,n):n.pub&&(0,E.hasClass)(r,"meeting-embed")?SE(r,n):(0,E.hasClass)(r,"poll-embed")?TE(r,n):(0,E.hasClass)(r,"image-gallery-embed")?X2(r,n):(0,E.hasClass)(r,"image3")?Q2(r,n):(0,E.hasClass)(r,"latex-rendered")?AE(r,n):(0,E.hasClass)(r,"community-chat")?IE(r,n):(0,E.hasClass)(r,"community-post")?ME(r,n):(0,E.hasClass)(r,"digest-post-embed")?Y2(r,n):(0,E.hasClass)(r,"comment")&&!(0,E.hasClass)(r,"template-comment")?RE(r,n):(0,E.hasClass)(r,"referrals-tier-card")?J2(r,n):((ce=(Q=n.props)==null?void 0:Q.post)!=null&&ce.id&&(0,E.hasClass)(r,"footnote")&&(r.id&&(r.id+=`-${n.props.post.id}`),r.href&&(r.href+=`-${n.props.post.id}`)),(0,E.hasClass)(r,"footnote-anchor")?LE(r,Zl,n):d?null:Gs(r,Zl,n))},NE=function(r){const n={},d=Array.prototype.slice.call(r);for(const{name:B,value:Q}of d)n[B]=Q;return n},kE=(r,n)=>{let d=0;return function(){const B=[].slice.call(arguments,0),Q=++d>n;Q&&console.error("Too many post nodes to recurse",{postId:B[2].props.post.id,depth:d});const ce=r.apply(null,[...B,...Q?[!0]:[]]);return d--,ce}};function BE(r,n,d,B){var Q,ce,ye;const _e=i()("header-with-anchor-widget",n.className),ge=d.children.length?Array.prototype.map.call(d.childNodes,Ue=>Zl(Ue,B)):[d.textContent];return(0,e.h)(r,xc(oa({},n),{className:_e}),...ge,(0,e.h)(eE,{text:d.textContent,pub:B==null?void 0:B.pub,post:(Q=B==null?void 0:B.props)==null?void 0:Q.post,offsetTop:!0,isAboutPage:(ye=(ce=B==null?void 0:B.props)==null?void 0:ce.isAboutPage)!=null?ye:!1}))}const Gs=kE((r,n,d,B)=>{var Q,ce;if(!r)throw new Error("Empty node, cannot preactify!");const ye=r.nodeType===3?"span":r.nodeType===8?"x_preact_compatible_html_comment_x":r.tagName.toLowerCase(),_e=r.nodeType!==1?{}:NE(r.attributes),ge=r.children&&r.children.length>0?null:r.textContent;if(B)return(0,e.h)(ye,xc(oa({},_e),{dangerouslySetInnerHTML:{__html:r.innerHTML}}));if(ye==="script"&&r.innerHTML===p2.Nc)return(0,e.h)(ye,xc(oa({},_e),{dangerouslySetInnerHTML:{__html:r.innerHTML}}));const Ue=!!((Q=r.parentElement)!=null&&Q.getAttribute("data-prose-mirror-wrapper"));if(((ce=d==null?void 0:d.pub)==null?void 0:ce.type)!=="rss"&&Ue&&["h1","h2","h3","h4"].includes(ye)&&!r.className)return BE(ye,_e,r,d);if(ge)return(0,e.h)(ye,_e,ge);const Ct=n(r,d,{shallow:!0});return Ct||(0,e.h)(ye,_e,...Array.prototype.map.call(r.childNodes,xt=>n(xt,d)))},2500);function UE(r,n,d={}){const B=document.createElement("div");return B.setAttribute("data-prose-mirror-wrapper",1),B.innerHTML=r,Array.prototype.map.call(B.childNodes,Q=>Gs(Q,Zl,{wrapper:B,pub:n,props:d}))}var Lf=dn(35616),cs=dn(62017);const Nf=typeof window!="undefined";function kf(r,n,d=Nf?localStorage:void 0){var B;const[Q,ce]=(0,t.eJ)(typeof d!="undefined"&&(B=d.getItem(r))!=null?B:n);return[Q,_e=>{ce(ge=>{const Ue=typeof _e=="function"?_e(ge):_e;return d&&d.setItem(r,Ue),Ue})}]}function P8(r,n,d=Nf?localStorage:void 0){const B=useMemo(()=>JSON.stringify(n),[n]),[Q,ce]=kf(r,B,d);return[useMemo(()=>{try{return JSON.parse(Q)}catch(ge){return console.error("Failed to parse stored value:",ge),n}},[Q,n]),ge=>ce(JSON.stringify(ge))]}var Bf=dn(16742);const Oi={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS",mobileFooter:"frontend-components-selection_popover-module__mobileFooter--gk9tq"};var FE=Object.defineProperty,WE=Object.defineProperties,jE=Object.getOwnPropertyDescriptors,Yl=Object.getOwnPropertySymbols,Uf=Object.prototype.hasOwnProperty,Ff=Object.prototype.propertyIsEnumerable,Wf=(r,n,d)=>n in r?FE(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Wa=(r,n)=>{for(var d in n||(n={}))Uf.call(n,d)&&Wf(r,d,n[d]);if(Yl)for(var d of Yl(n))Ff.call(n,d)&&Wf(r,d,n[d]);return r},Zs=(r,n)=>WE(r,jE(n)),HE=(r,n)=>{var d={};for(var B in r)Uf.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Yl)for(var B of Yl(r))n.indexOf(B)<0&&Ff.call(r,B)&&(d[B]=r[B]);return d},ds=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const jf=2048;function KE(r){var n,d,B,Q;const{nuxModal:ce,showRestackNux:ye}=(0,Bf.y)("post");return(0,e.h)(e.Fragment,null,ce,((Q=(B=(d=(n=r.selection)==null?void 0:n.text)==null?void 0:d.split)==null?void 0:B.call(d," "))==null?void 0:Q.length)>=3&&(0,e.h)(VE,Wa({onShare:ye},r)))}function VE({pub:r,post:n,selection:d,onShare:B,onClose:Q,userInteractionDisabled:ce,selectingTextForQuote:ye}){var _e,ge,Ue;const Ct=(0,is.aF)(),xt=(0,pi.pm)(),Yt=(0,js.i3)(),sn=(0,Ii.XA)(),Xt="has_dismissed_restack_selection_explainer",[Vt]=kf(Xt),un=(0,is.SE)();(0,t.d4)(()=>{Vt==="true"&&(un!=null&&un.userSettings)&&!un.userSettings.has_seen_select_to_restack_tooltip_nux&&un.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const Tn=!n.is_draft&&!!Ct,zn=!n.is_draft,nr=()=>ds(this,null,function*(){const br=yield(0,yn.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:n.id,publication_id:r.id,startParagraph:d.startParagraph,endParagraph:d.endParagraph,startOffset:d.startOffset,endOffset:d.endOffset}});if(br instanceof Error)throw br;return br.selection.id}),Xn=()=>ds(this,null,function*(){const br=yield nr();return(0,g.getPostUrl)(r,n,{urlParams:{r:Ct?Ct.id.toString(36):null,selection:br,utm_campaign:"post_selection",utm_medium:"web"}})}),mr=()=>ds(this,null,function*(){if(!Tn)return;Q(),(0,y.j)(y.FP.RESTACK_SELECTION_CLICKED,{post_id:n.id});let br;try{br=yield Xn()}catch(Yr){xt.popToast(Jr=>(0,e.h)(pi.FN,Zs(Wa({},Jr),{text:"Failed to generate quote"})));return}const $r=yield Yt.open({restackUrl:br});$r instanceof Error?(console.error($r),xt.popToast(Yr=>(0,e.h)(pi.FN,Zs(Wa({},Yr),{text:"Failed to post"})))):(B(),xt.popToast(Yr=>(0,e.h)(pi.FN,Zs(Wa({},Yr),{text:"Note sent",cta:"View",href:(0,$.getFeedUrl)()}))))}),vr=()=>ds(this,null,function*(){(0,y.j)(y.FP.VIDEO_QUOTE_TEXT_SELECTED,{post_id:n.id,selection_id:d.id}),(0,E.redirect)((0,$.getPostDetailsShareCenterUrl)(r,n.id,{selectionForQuote:d.text}),{local_navigation:!1})}),_r=()=>ds(this,null,function*(){if(!zn)return;Q();let br;try{br=yield Xn()}catch($r){xt.popToast(Yr=>(0,e.h)(pi.FN,Zs(Wa({},Yr),{text:"Failed to copy link to quote"})));return}(0,E.copyToClipboard)(br),xt.popToast($r=>(0,e.h)(pi.FN,Zs(Wa({},$r),{text:"Link copied to clipboard"})))}),Tr=br=>ds(this,null,function*(){if(Ct)return;Q(),(0,y.j)(y.FP.RESTACK_SELECTION_CLICKED,{post_id:n.id});let $r;try{$r=yield nr()}catch(ao){}const Yr=(0,g.updateQuery)(document.location.href,{selection:$r}),Jr=(0,g.getSigninUrl)({redirect:Yr});(0,E.redirect)(Jr,{local_navigation:!1,event:br})});(0,t.d4)(()=>(window.addEventListener("scroll",Q,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",Q,{capture:!0,once:!0})}),[Q]);const Ir=(un==null?void 0:un.userSettings)&&!((_e=un.userSettings)!=null&&_e.has_seen_select_to_restack_tooltip_nux)&&!ye,xr=Ir?156:40,Mr=()=>{un.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(Se.tu,{style:{top:(0,Bt.isTouchDevice)()?d.y+d.height+8:d.y-xr-8,left:d.rect.x+d.rect.width/2,transform:"translateX(-50%)",pointerEvents:ce?"none":"auto",maxWidth:240},justifyContent:"center",className:Oi.popover,shadow:"md",radius:12},(0,e.h)(Se.tu,{className:i()(Oi.popoverButtons,sn&&Oi.isMobile),radius:12,padding:Ir?8:4,gap:8},Ir&&(0,e.h)(zE,{onDismiss:Mr}),(0,e.h)(Jl,{onClick:ye?vr:Ct?mr:Tr,disabled:!Tn&&!!Ct||ye&&((ge=d.text)==null?void 0:ge.length)>jf,isExplainer:Ir},!ye&&(0,e.h)(Ks.Z,{className:i()(Oi.icon,!Tn&&Oi.disabled)}),(0,e.h)(C.xv.B4,{color:Tn?"bg-light":"secondary",weight:"medium"},ye?((Ue=d.text)==null?void 0:Ue.length)>jf?"Selection too long":"Use this text":Tn?"Restack quote":Ct?n.is_draft?"Cannot quote a draft":r!=null&&r.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(n==null?void 0:n.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function Jl(r){var n=r,{isExplainer:d}=n,B=HE(n,["isExplainer"]);return(0,e.h)(Oe.kG,Wa({className:i()(Oi.button,d&&Oi.explainerButton),resetCss:!0},B))}function zE({onDismiss:r}){const n=(0,Lf.N)();return(0,e.h)(Se.tu,{className:Oi.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(Oe.kG,{resetCss:!0,className:Oi.dismissExplainer,onClick:r},(0,e.h)(as.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(C.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(C.xv.Detail,{size:14,color:"secondary"},n?(0,e.h)(e.Fragment,null,"Share your favorite part of this post as"," ",(0,e.h)(cs.hh,{color:"secondary",decoration:"underline",href:(0,$.getFeedUrl)(),target:"_blank"},"a note"),"."):(0,e.h)(e.Fragment,null,"Share your favorite part of this post to"," ",(0,e.h)(cs.hh,{color:"secondary",decoration:"underline",href:(0,$.getFeedUrl)(),target:"_blank"},"Notes"),".")))}var ps=dn(71212);const $E=(r,n=500)=>{const d=(0,t.sO)(null),B=(0,t.sO)({x:0,y:0}),Q=(0,t.sO)(!1),ce=(0,t.I4)(ge=>{B.current={x:ge.touches[0].clientX,y:ge.touches[0].clientY},d.current=window.setTimeout(()=>{Q.current=!0,r()},n)},[r,n]),ye=(0,t.I4)(()=>{d.current!==null&&clearTimeout(d.current),Q.current=!1},[]),_e=(0,t.I4)(ge=>{const Ue={x:ge.touches[0].clientX,y:ge.touches[0].clientY},Ct=Math.abs(Ue.x-B.current.x),xt=Math.abs(Ue.y-B.current.y),Yt=10;(Ct>Yt||xt>Yt)&&(d.current!==null&&clearTimeout(d.current),Q.current=!1)},[]);return(0,t.d4)(()=>()=>{d.current!==null&&clearTimeout(d.current)},[]),{onTouchStart:ce,onTouchEnd:ye,onTouchMove:_e,longPressActivated:Q}};var GE=dn(41487),ZE=dn(40946);const ia={root:"frontend-components-ShareSelectionImage-module__root--pmZjU",large:"frontend-components-ShareSelectionImage-module__large--KtLJ0",image:"frontend-components-ShareSelectionImage-module__image--A2mIB",imageLoading:"frontend-components-ShareSelectionImage-module__imageLoading--CWfsY",stories:"frontend-components-ShareSelectionImage-module__stories--GtFB9",small:"frontend-components-ShareSelectionImage-module__small--xwYwM",square:"frontend-components-ShareSelectionImage-module__square--ahhUC",link:"frontend-components-ShareSelectionImage-module__link--RAXSX",download:"frontend-components-ShareSelectionImage-module__download--d6vx_",secondaryBorder:"frontend-components-ShareSelectionImage-module__secondaryBorder--GZZF_",spinner:"frontend-components-ShareSelectionImage-module__spinner--Cngzw",text:"frontend-components-ShareSelectionImage-module__text--WP_9Y"};var YE=Object.defineProperty,Hf=Object.getOwnPropertySymbols,JE=Object.prototype.hasOwnProperty,QE=Object.prototype.propertyIsEnumerable,Kf=(r,n,d)=>n in r?YE(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,XE=(r,n)=>{for(var d in n||(n={}))JE.call(n,d)&&Kf(r,d,n[d]);if(Hf)for(var d of Hf(n))QE.call(n,d)&&Kf(r,d,n[d]);return r},qE=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const eP=({pub:r,post:n,style:d,text:B,selectionId:Q,size:ce,editButton:ye,wrapperClassName:_e})=>{const{img:ge,imgDownload:Ue,shareData:Ct,useNativeShare:xt}=(0,GE.Q)({shareTitle:"Share this post",shareText:n.title,shareUrl:(0,g.getPostUrl)(r,n),imageDownloadUrl:(0,g.getPostSelectionMediaUrl)(r,n,Q,d,`${B}${d.aspectRatio?` - ${d.aspectRatio}`:""}`),imageUrl:(0,g.getPostSelectionMediaUrl)(r,n,Q,d),imageUrlSameOrigin:(0,g.getPostSelectionMediaImageUrl)(r,n,Q,d)}),Yt=(0,t.I4)(()=>{(0,y.j)(y.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:n.id,selection_id:Q,type:B,aspect_ratio:d.aspectRatio,interaction:"longpress"})},[n.id,Q,B,d.aspectRatio]),sn=$E(Yt),Xt=(0,t.I4)(un=>qE(void 0,null,function*(){if(sn.longPressActivated.current){un.preventDefault();return}if((0,y.j)(y.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:n.id,selection_id:Q,type:B,aspect_ratio:d.aspectRatio,interaction:"click"}),xt&&Ct)try{yield navigator.share(Ct)}catch(Tn){}}),[sn.longPressActivated,n.id,Q,B,d.aspectRatio,xt,Ct]),Vt=(0,t.I4)(()=>{(0,y.j)(y.FP.IMAGE_CONTEXT_MENU_CLICKED,{post_id:n.id,clicked_from:"share_selection",selection_id:Q,type:B,aspect_ratio:d.aspectRatio,interaction:"click"})},[n.id,Q,B,d.aspectRatio]);return(0,e.h)("a",XE({href:(0,x.isMobile)()?void 0:Ue,alt:"Download Image",download:!0,className:i()(ia.link,_e),target:"_blank",onClick:Xt,onContextMenu:Vt},sn),(0,e.h)("div",{className:i()(ia.root,d.aspectRatio==="stories"?ia.stories:ia.square,ce&&ia[ce])},(0,x.isMobile)()&&ye,!(0,x.isMobile)()&&(0,e.h)("div",{className:ia.download},(0,e.h)(ZE.Z,{stroke:"white",fill:"none"})),!ge&&(0,e.h)("div",{className:i()(ia.image,ia.imageLoading),alt:"Loading"},(0,e.h)(ip.Sv,{className:ia.spinner})),ge&&(0,e.h)("img",{src:ge,className:ia.image})))};var Vf=dn(71765),zf=dn(64484),$f=dn(66839),Ql=dn(91004),Gf=dn(48042);const aa={root:"frontend-components-SelectionV2Modal-module__root--xQnU9",imageSmall:"frontend-components-SelectionV2Modal-module__imageSmall--R16_y",imageWrapper:"frontend-components-SelectionV2Modal-module__imageWrapper--KI6MA",modalWithFooter:"frontend-components-SelectionV2Modal-module__modalWithFooter--DhxFS",actionSheetMenu:"frontend-components-SelectionV2Modal-module__actionSheetMenu--ji2CC",actionSheetBody:"frontend-components-SelectionV2Modal-module__actionSheetBody--VAUMt",modalBody:"frontend-components-SelectionV2Modal-module__modalBody--KAht0",mediaAssetContainer:"frontend-components-SelectionV2Modal-module__mediaAssetContainer--ZwVNu",safeAreaInsetPaddingBottom:"frontend-components-SelectionV2Modal-module__safeAreaInsetPaddingBottom--RH4Gf",actionSheetContainer:"frontend-components-SelectionV2Modal-module__actionSheetContainer--BaWcS",actionSheetItems:"frontend-components-SelectionV2Modal-module__actionSheetItems--LLOEr",edit:"frontend-components-SelectionV2Modal-module__edit--PbhOl"};var tP=Object.defineProperty,nP=Object.defineProperties,rP=Object.getOwnPropertyDescriptors,Zf=Object.getOwnPropertySymbols,oP=Object.prototype.hasOwnProperty,iP=Object.prototype.propertyIsEnumerable,Yf=(r,n,d)=>n in r?tP(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,aP=(r,n)=>{for(var d in n||(n={}))oP.call(n,d)&&Yf(r,d,n[d]);if(Zf)for(var d of Zf(n))iP.call(n,d)&&Yf(r,d,n[d]);return r},sP=(r,n)=>nP(r,rP(n)),fs=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const lP=["stories","square"];function Jf(r){return((0,x.isMobile)({checkFirst4:!0})?{square:"1:1",stories:"9:16"}:{square:"Square",stories:"Vertical"})[r]}const uP=({pub:r,post:n,selectionId:d,style:B,showText:Q=!1,size:ce,editButton:ye})=>{const _e=Jf(B.aspectRatio);return(0,e.h)("div",{className:i()(aa.root,aa.imageWrapper,ce&&aa[ce])},(0,e.h)(eP,{pub:r,post:n,style:B,text:_e,selectionId:d,size:ce,editButton:ye,wrapperClassName:aa.imageWrapper}),Q&&_e&&(0,e.h)(_.xv.Meta,{paddingTop:ce==="small"?8:16},_e))},cP=({pub:r,post:n,isOpen:d,onClose:B,selection:Q,selectionId:ce,setSelectionId:ye,themeVariables:_e})=>{const{iString:ge}=(0,P.M1)(),[Ue,Ct]=(0,t.eJ)(!1),[xt,Yt]=(0,t.eJ)("stories"),sn=(n==null?void 0:n.cover_image)||(r==null?void 0:r.cover_photo_url),[Xt,Vt]=(0,t.eJ)(sn?"image":"accent"),[un,Tn]=(0,t.eJ)(!1),zn=(0,is.aF)(),nr=(0,_.pm)(),Xn=(0,x.isMobile)({checkFirst4:!0}),mr=d&&(!!ce||Ue);(0,t.d4)(()=>{mr&&(n!=null&&n.id)&&(0,y.j)(y.FP.SHARE_SELECTION_MODAL_OPENED,{post_id:n.id})},[mr,n]),(0,t.d4)(()=>{if(!Q||!n||!d)return;(()=>fs(void 0,null,function*(){Ct(!0);const Cr=yield(0,yn.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:n.id,publication_id:r.id,startParagraph:Q.startParagraph,endParagraph:Q.endParagraph,startOffset:Q.startOffset,endOffset:Q.endOffset}});if(Ct(!1),Cr instanceof Error)throw Cr;ye(Cr.selection.id.toString())}))()},[r,n,Q,d,ye]);const vr=(ao,Cr)=>{const to=(0,Ql.O1)(null,{pub:r,post:n,selectionId:ce,user:zn||void 0,medium:"web",utm_campaign:"post-share-selection"});(0,Ql.I)(ao,Cr,{shareUrl:to,post:n,pub:r,selectionId:ce,utm_campaign:"post-share-selection"})},_r=()=>fs(void 0,null,function*(){vr("copy",ao=>((0,E.copyToClipboard)(ao),nr.popToast(Cr=>(0,e.h)(_.FN,sP(aP({},Cr),{text:ge("Link copied to clipboard")}))),!1))}),Tr=()=>fs(void 0,null,function*(){vr("facebook",ao=>(0,$.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:ao}))}),Ir=()=>fs(void 0,null,function*(){n&&vr("twitter",ao=>(0,$.pathWithQuery)("https://twitter.com/share",{url:ao,text:n.title}))}),xr=()=>fs(void 0,null,function*(){vr("linkedin",ao=>(0,$.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:ao}))}),Mr=()=>{if(!_e)return{aspectRatio:xt};switch(Xt){case"image":return{aspectRatio:xt,textColor:"#ffffff",bgImage:!0};case"accent":return{aspectRatio:xt,bgColor:_e.background_pop,textColor:_e.print_on_pop};case"primary":default:return{aspectRatio:xt,bgColor:_e.web_bg_color||_e.cover_bg_color,textColor:_e.print_on_web_bg_color||_e.cover_print_primary||"#1a1a1a"}}},br=()=>fs(void 0,null,function*(){const ao=Mr(),Cr=`Share Selection - ${ao.aspectRatio}`;(0,y.j)(y.FP.SHARE_SELECTION_IMAGE_DOWNLOADED,{post_id:n==null?void 0:n.id,selection_id:ce,type:Cr,aspect_ratio:xt,interaction:"click"});const to=document.createElement("a");to.href=(0,g.getPostSelectionMediaUrl)(r,n,ce,ao,Cr),to.download=`Share Selection - ${xt}`,to.target="_blank",to.rel="noopener noreferrer",to.style.display="none",document.body.appendChild(to),to.click(),document.body.removeChild(to)}),$r=()=>{Tn(!1)},Yr=(0,e.h)(_.u_,{className:aa.actionSheetMenu,overflow:"hidden",renderOverReactLaagPortal:!0,fullscreenMobile:!0,isOpen:un,position:"bottom",onClose:$r},(0,e.h)(_.xB,{title:ge("Edit image"),includeClose:!0,onClose:$r}),(0,e.h)(_.fe,{className:aa.actionSheetBody},(0,e.h)(Qf,{assetStyle:Mr(),aspectRatio:xt,loadingSelection:Ue,post:n,pub:r,themeVariables:_e,setAspectRatio:Yt,assetTheme:Xt,setAssetTheme:Vt,selectionId:ce,setSelectionId:ye}))),Jr=(0,e.h)(_.zx,{rounded:!0,priority:"secondary",className:aa.edit,onClick:ao=>{ao.stopPropagation(),Tn(!0),(0,y.j)(y.FP.SHARE_SELECTION_EDIT_MODAL_OPENED,{post_id:n==null?void 0:n.id})}},ge("Edit"));return(0,e.h)(_.u_,{isOpen:mr,onClose:B,width:630,fullscreenMobile:!0,className:aa.modalWithFooter},Yr,(0,e.h)(_.xB,{title:ge("Share quote"),includeClose:!0,onClose:B}),(0,e.h)(_.xu,null,(0,e.h)(_.iz,{paddingY:20})),(0,e.h)(Qf,{assetStyle:Mr(),aspectRatio:xt,loadingSelection:Ue,post:n,pub:r,themeVariables:_e,setAspectRatio:Yt,assetTheme:Xt,setAssetTheme:Vt,selectionId:ce,setSelectionId:ye,editActionSheet:Jr}),(0,e.h)(_.xu,null,(0,e.h)(_.iz,null)),(0,e.h)(_.xu,{className:aa.safeAreaInsetPaddingBottom},(0,e.h)(_.gq,{padding:16,gap:8,justifyContent:"center"},(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:_r,disabled:!ce},(0,e.h)(us.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:Ir,disabled:!ce},(0,e.h)($f.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:Tr,disabled:!ce},(0,e.h)(Vf.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:xr,disabled:!ce},(0,e.h)(zf.Z,{height:20,width:20})),!Xn&&(0,e.h)(_.zx,{grow:!0,disabled:!ce,onClick:br,leftIcon:(0,e.h)(ps.Z,{stroke:"#404040",size:20})},ge("Download")))))},Qf=({assetStyle:r,aspectRatio:n,loadingSelection:d,post:B,pub:Q,themeVariables:ce,setAspectRatio:ye,assetTheme:_e,setAssetTheme:ge,selectionId:Ue,editActionSheet:Ct})=>{const{iString:xt}=(0,P.M1)(),Yt=[],sn=(B==null?void 0:B.cover_image)||(Q==null?void 0:Q.cover_photo_url);sn&&Yt.push("image"),ce.background_pop&&Yt.push("accent"),Yt.push("primary");const Xt=(0,x.isMobile)({checkFirst4:!0});return(0,e.h)(e.Fragment,null,Xt&&(0,e.h)(_.gq,{justifyContent:"center",alignItems:"center",paddingTop:Ct?8:0,paddingBottom:8},(0,e.h)(_.xv.B4,{color:"secondary"},xt("Long press to download image"))),(0,e.h)(_.tu,{justifyContent:"center",flex:"grow",className:aa.mediaAssetContainer,paddingBottom:16},B&&Ue&&!d&&(0,e.h)(uP,{pub:Q,post:B,selectionId:Ue,style:r,size:"large",editButton:Ct})),(!Xt||!Ct)&&(0,e.h)(_.gq,{gap:24,paddingX:{desktop:24,mobile:0},paddingBottom:{desktop:24,mobile:0}},(0,e.h)(_.tu,null,(0,e.h)(_.xv.Detail,{weight:"bold",color:"primary"},xt("Background")),(0,e.h)(_.gq,{paddingY:8},(0,e.h)(_.gq,{gap:8},Yt.map(Vt=>(0,e.h)(Gf.rn,{value:Vt,isSelected:Vt===_e,onClick:()=>ge(Vt),coverImageUrl:sn,themeVariables:ce}))))),(0,e.h)(_.tu,null,(0,e.h)(_.xv.Detail,{weight:"bold",color:"primary"},xt("Aspect ratio")),(0,e.h)(_.gq,{paddingY:8},(0,e.h)(_.gq,{gap:8},lP.map(Vt=>(0,e.h)(Gf.ar,{value:Vt,label:Jf(Vt),isSelected:Vt===n,onClick:()=>ye(Vt)})))))))},dP=cP;var pP=Object.defineProperty,fP=Object.defineProperties,hP=Object.getOwnPropertyDescriptors,Xf=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,gP=Object.prototype.propertyIsEnumerable,qf=(r,n,d)=>n in r?pP(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,eh=(r,n)=>{for(var d in n||(n={}))mP.call(n,d)&&qf(r,d,n[d]);if(Xf)for(var d of Xf(n))gP.call(n,d)&&qf(r,d,n[d]);return r},th=(r,n)=>fP(r,hP(n)),nh=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function vP({post:r,pub:n,selection:d,onClose:B,themeVariables:Q,userInteractionDisabled:ce}){var ye,_e,ge;const[Ue,Ct]=(0,t.eJ)(!1),[xt,Yt]=(0,t.eJ)(),sn=((ge=(_e=(ye=d==null?void 0:d.text)==null?void 0:ye.split)==null?void 0:_e.call(ye," "))==null?void 0:ge.length)||0,Vt=d&&sn>=3&&!r.is_draft&&!(n!=null&&n.invite_only)?(0,e.h)(_P,{selection:d,onClose:B,userInteractionDisabled:ce,onShowSelectionModal:Ct,post:r,pub:n}):null;return(0,e.h)(e.Fragment,null,Vt,(0,e.h)(dP,{selection:d,pub:n,post:r,isOpen:Ue,onClose:()=>Ct(!1),selectionId:xt,setSelectionId:Yt,themeVariables:Q}))}function _P({selection:r,onClose:n,userInteractionDisabled:d,onShowSelectionModal:B,post:Q,pub:ce}){const{iString:ye}=(0,P.M1)(),_e=(0,Ii.XA)(),ge=(0,is.aF)(),Ue=(0,js.i3)(),Ct=(0,_.pm)(),xt=!Q.is_draft&&!!ge,[Yt,sn]=(0,t.eJ)(!1),[Xt,Vt]=(0,t.eJ)(-1);(0,t.d4)(()=>(window.addEventListener("scroll",n,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",n,{capture:!0})}),[n,B]),(0,t.d4)(()=>{const Xn=()=>{const vr=window.innerHeight-(r.y+r.height)-(_e?57:0),_r=96,Tr=vr<_r;Vt(Tr?r.y-_r-12:r.y+r.height+12)};return window.addEventListener("resize",Xn),Xn(),()=>{window.removeEventListener("resize",Xn)}},[r,_e]);const un=()=>{B(!0)},Tn=()=>nh(this,null,function*(){sn(!0);const Xn=yield(0,yn.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:Q.id,publication_id:ce.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(sn(!1),Xn instanceof Error)throw Xn;return Xn.selection.id}),zn=()=>nh(this,null,function*(){const Xn=yield Tn();if((0,y.j)(y.FP.RESTACK_SELECTION_CLICKED,{post_id:Q.id}),!ge){const _r=(0,g.updateQuery)(document.location.href,{action:"restack-comment",selection:Xn}),Tr=(0,g.getSigninUrl)({redirect:_r});(0,E.redirect)(Tr,{local_navigation:!1,event});return}const mr=(0,g.getPostUrl)(ce,Q,{urlParams:{r:ge?ge.id.toString(36):null,selection:Xn,utm_campaign:"post-share-selection",utm_medium:"web"}});(yield Ue.open({restackUrl:mr}))instanceof Error?Ct.popToast(_r=>(0,e.h)(_.FN,th(eh({},_r),{text:"Failed to post"}))):Ct.popToast(_r=>(0,e.h)(_.FN,th(eh({},_r),{text:"Note sent",cta:"View",href:(0,$.getFeedUrl)()})))}),nr=!xt&&!Yt&&!!ge;return Xt<0?null:(0,e.h)(_.tu,{style:{top:Xt,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:d?"none":"auto",maxWidth:240},justifyContent:"center",className:Oi.popover,shadow:"md",radius:12},(0,e.h)(_.tu,{className:i()(Oi.popoverButtons,_e&&Oi.isMobile),radius:12,padding:4,gap:8},(0,e.h)(Jl,{onClick:un,isExplainer:!1},(0,e.h)(sc.Z,{className:Oi.icon}),(0,e.h)(_.xv.B4,{color:"bg-light",weight:"medium"},ye("Share quote"))),(0,e.h)(Jl,{onClick:zn,isExplainer:!1,disabled:nr},(0,e.h)(Ks.Z,{className:i()(Oi.icon,!xt&&Oi.disabled)}),(0,e.h)(_.xv.B4,{color:xt?"bg-light":"secondary",weight:"medium"},xt?ye("Restack quote"):ge?Q.is_draft?ye("Cannot quote a draft"):ce!=null&&ce.invite_only?ye("Cannot quote on invite-only publication"):["only_paid","founding"].includes(Q==null?void 0:Q.audience)?ye("Cannot quote paid post"):ye("Cannot quote this post"):ye("Sign in to restack quote")))))}var yP=Object.defineProperty,bP=Object.defineProperties,EP=Object.getOwnPropertyDescriptors,Xl=Object.getOwnPropertySymbols,rh=Object.prototype.hasOwnProperty,oh=Object.prototype.propertyIsEnumerable,Ac=(r,n,d)=>n in r?yP(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,PP=(r,n)=>{for(var d in n||(n={}))rh.call(n,d)&&Ac(r,d,n[d]);if(Xl)for(var d of Xl(n))oh.call(n,d)&&Ac(r,d,n[d]);return r},CP=(r,n)=>bP(r,EP(n)),wP=(r,n)=>{var d={};for(var B in r)rh.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Xl)for(var B of Xl(r))n.indexOf(B)<0&&oh.call(r,B)&&(d[B]=r[B]);return d},ha=(r,n,d)=>(Ac(r,typeof n!="symbol"?n+"":n,d),d),OP=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const ih=`
div.body.markup > p:not(.button-wrapper),
div.body.markup > h1,
div.body.markup > h2,
div.body.markup > h3,
div.body.markup > h4,
div.body.markup > h5,
div.body.markup > h6,
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,SP=".image-link.image2";class Ys extends e.Component{constructor(n,d){super(n,d),ha(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1,shouldUseSelectionV2Popover:!1}),ha(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),ha(this,"onMouseUp",()=>{this.setState((B,Q)=>B.selectionUserInteractionDisabled?(B.selection&&Q.trackSelection&&(0,y.j)(y.FP.POST_TEXT_SELECTED,{post_id:Q.post.id,post_audience:Q.post.audience,post_type:Q.post.type}),{selectionUserInteractionDisabled:!1}):null)}),ha(this,"onSelectionChange",Ec()(()=>{const B=this.getSelectionState();if(B){const Q=this.isTreatmentSelectionV2Popover();this.setState({selection:B,shouldUseSelectionV2Popover:Q})}else this.state.selection&&this.setState({selection:null})},100)),ha(this,"onDocumentClick",B=>{const Q=B.target.closest(".image-link.image2");if(Q&&this.originalImageState){const ce=Q.querySelector("img"),ye=this.originalImageState.findIndex(_e=>_e.src===ce.src);if(ye>=0){B.preventDefault(),this.setState({selectedImgIndex:ye});return}}if(!this.props.skipTrackClick)this.onLinkClick(B);else return null}),ha(this,"clearActiveSelection",()=>{this.setState({selection:null})}),ha(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),ha(this,"isTreatmentSelectionV2Popover",()=>{let B;if(typeof window!="undefined"&&(B=new URLSearchParams(window.location.search).get("selectQuote")==="true"),B||!this.props.themeVariables)return!1;let Q=(0,Ei.default)("share_selection_v2");return Q==="experiment"&&(this.context.exposeExperiment("share_selection_seed_3"),Q=this.context.getExperimentVariant("share_selection_seed_3")),Q==="treatment"}),this.body=(0,e.createRef)()}componentDidMount(){return OP(this,null,function*(){const n=Array.from(this.body.current.querySelectorAll(ih));this.originalParagraphState=n.map(_e=>({text:_e.textContent}));const d=new URL(window.location).searchParams.get("img");let B=Array.from(this.body.current.querySelectorAll(SP));B=B.map(_e=>{const ge=_e.querySelector("img"),Ue=JSON.parse(ge.getAttribute("data-attrs")),Ct=Ue.width/Ue.height,xt=Ue.resizeWidth?Ue.resizeWidth/Ct:Ue.height,Yt=Ue.resizeWidth?Ue.resizeWidth/xt:Ct;return{element:_e,image:ge,attrs:Ue,extraAttrs:{imageRatio:Ct,resizeHeight:xt,resizeRatio:Yt}}});let Q=0;if(d){const _e=B.find(ge=>ge.attrs.src===d);_e&&(Q=_e.image.getBoundingClientRect().top-65)}const ce=240,ye=4;if(B=B.filter(_e=>(0,g.unimginary)(_e.image.src)===(0,g.unimginary)(_e.element.href)),B=B.filter(_e=>_e.attrs.height>ce&&_e.extraAttrs.resizeHeight>ce),B=B.filter(_e=>_e.extraAttrs.imageRatio<ye&&_e.extraAttrs.resizeRatio<ye),this.originalImageState=B.map(_e=>{var ge;const Ue=_e.image.src;let Ct=null;const xt=_e.element.parentElement;return xt.tagName==="FIGURE"&&(Ct=(ge=xt.querySelector(":scope > figcaption"))==null?void 0:ge.textContent),{src:Ue,attrs:_e.attrs,caption:Ct}}),d){window.scrollTo({top:Q});const _e=this.originalImageState.findIndex(ge=>ge.attrs.src===d);_e>=0&&this.setState({selectedImgIndex:_e})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(n,d){return this.props.html!==n.html||this.state.selectedImgIndex!==d.selectedImgIndex||this.state.selection!==d.selection||this.state.selectionUserInteractionDisabled!==d.selectionUserInteractionDisabled||this.state.selectingTextForQuote!==d.selectingTextForQuote}onLinkClick(n){if(!n.target.nodeName||n.target.nodeName!=="A"&&n.target.parentNode.nodeName!=="A")return;const d=n.target.nodeName==="A"?n.target:n.target.parentNode;if((0,y.j)(y.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:d.href}),window.location.host===d.host){const B=(0,Bt.transformDocumentLink)(d.href);B!==d.href&&(0,E.redirect)(B,{local_navigation:!1,event:n});return}n.preventDefault(),(0,Bt.handleDocumentLinkClick)(d.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const n=window.getSelection();if(!n||n.isCollapsed||n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset)return;const d=this.findParentParagraph(n.anchorNode);if(!d)return;const B=this.findParentParagraph(n.focusNode);if(!B)return;const Q=Array.from(this.body.current.querySelectorAll(ih)),ce=Q.findIndex(xt=>xt.isSameNode(d));if(ce===-1)return;const ye=Q.findIndex(xt=>xt.isSameNode(B));if(ye===-1)return;const _e=this.getCharacterOffsetParagraph(d,n.anchorNode,n.anchorOffset);if(_e===null)return;const ge=this.getCharacterOffsetParagraph(B,n.focusNode,n.focusOffset);if(ge===null)return;const Ue=ce>ye||ce===ye&&_e>ge,Ct=n.getRangeAt(0).getBoundingClientRect();return{startParagraph:Ue?ye:ce,endParagraph:Ue?ce:ye,startOffset:Ue?ge:_e,endOffset:Ue?_e:ge,y:Ct.y,height:Ct.height,rect:Ct,text:n.toString()}}catch(n){console.error("Failed to parse selection:",n)}}findParentParagraph(n){return n?["P","H1","H2","H3","H4","H5","H6"].includes(n.nodeName)?n:this.findParentParagraph(n.parentNode):null}isAncestorOf(n,d){return n===null?!1:n.isSameNode(d)?!0:this.isAncestorOf(n.parentNode,d)}getCharacterOffsetParagraph(n,d,B){var Q;let ce=B;for(let ye=0;ye<n.childNodes.length;ye++){const _e=n.childNodes[ye];if(this.isAncestorOf(d,_e))return ce;_e.className!=="footnote-anchor"&&(ce+=((Q=_e.textContent)==null?void 0:Q.length)||0)}return ce}shouldShowImageViewerModal(){const{selectedImgIndex:n}=this.state;return n!=null}render(n){var d=n,{children:B,html:Q,pub:ce,skipTrackClick:ye,trackSelection:_e,paywall:ge,isAboutPage:Ue}=d,Ct=wP(d,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:xt,selectedImgIndex:Yt,shouldUseSelectionV2Popover:sn,selectingTextForQuote:Xt}=this.state;typeof window!="undefined"&&!Xt&&new URLSearchParams(window.location.search).get("selectQuote")==="true"&&this.setState({selectingTextForQuote:!0}),Q&&(B=UE(Q,ce,CP(PP({},Ct),{isAboutPage:Ue})),B&&(Q=null));const Vt=B?Array.from(B).some(Tn=>{var zn;return((zn=Tn.props)==null?void 0:zn.className)==="latex-rendered"}):!1,un=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:Q?{__html:Q}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},B),sn&&!Xt?(0,e.h)(vP,{pub:ce,post:this.props.post,selection:xt,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,themeVariables:this.props.themeVariables}):(0,e.h)(KE,{pub:ce,post:this.props.post,selection:xt,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled,selectingTextForQuote:Xt}),(0,e.h)(gf.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:Yt}));return Vt&&!Ct.isStatic?(0,e.h)(u2.Z,null,un):un}}ha(Ys,"contextType",He.kx);const xP=({tabs:r,tab:n,onTabClick:d})=>(0,e.h)("div",{className:"ui-tabs"},r.map(({id:B,title:Q})=>(0,e.h)("a",{className:`ui-tab ${B}-tab ${n===B?"active":""}`,onClick:()=>d&&d(B)},Q)));var Dc=dn(36868);const wa={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},Js=(r,n)=>({logoUrl:r.podcast_art_url||r.logo_url||(0,g.getDefaultPodcastArtUrl)(),mainClickUrl:(0,g.getPodcastLandingUrl)({pub:r,section:null,addBase:!0}),buttonClickUrl:n,name:r.podcast_title||r.name,description:r.podcast_description||r.hero_text}),AP=({logoUrl:r,mainClickUrl:n,buttonClickUrl:d,name:B,description:Q,showButton:ce,buttonText:ye,openInNewTab:_e=!1})=>(0,e.h)("div",{className:wa.childPublication},r&&(0,e.h)("img",{className:wa.logo,src:(0,g.imginary)(r,144),alt:`${B} logo`}),(0,e.h)("div",{className:wa.details},(0,e.h)("div",{className:wa.info},(0,e.h)("div",{className:wa.title},(0,e.h)("a",{className:wa.link,href:n},B)),(0,e.h)("div",{className:wa.description},Q)),ce&&(0,e.h)(Oe.zx,{priority:"primary",className:wa.subscribe,href:d,newTab:_e},ye))),ql=({showButton:r,items:n,openInNewTab:d=!1,buttonText:B})=>(0,e.h)("div",{"data-testid":"child-pub-container"},n.map(Q=>(0,e.h)(AP,{logoUrl:Q.logoUrl,mainClickUrl:Q.mainClickUrl,buttonClickUrl:Q.buttonClickUrl,name:Q.name,description:Q.description,buttonText:B,openInNewTab:d,showButton:r}))),Tc={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var DP=Object.defineProperty,TP=(r,n,d)=>n in r?DP(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,IP=(r,n,d)=>(TP(r,typeof n!="symbol"?n+"":n,d),d),eu=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function MP(r){if(typeof window=="undefined")return!0;const n=document.createElement("div");n.innerHTML=r;for(let d=n.childNodes.length-1;d>=0;d--){const B=n.childNodes[d];if((0,E.hasClass)(B,"button-wrapper")||(0,E.hasClass)(B,"subscription-widget-wrap"))return!1}return!0}const RP=({pub:r,user:n,freeSignup:d,freeSignupEmail:B})=>{const Q=r.payments_state==="enabled"&&(n!=null&&n.is_free_subscribed)&&!(n!=null&&n.is_subscribed)?"paid_upsell":"free_upsell";return(0,t.d4)(()=>{(0,y.j)(y.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:r.id,type:Q})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(le,{onVisible:()=>{(0,y.j)(y.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:r.id,type:Q})}}),(0,e.h)(Se.tu,{alignItems:"center",gap:16,padding:24,className:i()(Tc.container,"end-cta-container")},(0,e.h)("img",{src:(0,g.imginary)(r.author_photo_url||r.logo_url,64),className:Tc.authorPic}),(0,e.h)(Se.tu,{alignItems:"center"},(0,e.h)(C.xv.H2,{lineHeight:30,align:"center",color:"pub-primary-text"},"Subscribe to ",r.name),r.hero_text&&(0,e.h)(C.xv.Meta,{size:12,className:Tc.heroText,align:"center",color:"pub-secondary-text"},r.hero_text)),(0,e.h)(Ca,{pub:r,user:n,freeSignup:d,freeSignupEmail:B,isStatic:!1,source:"about-page-end-cta"})))};function LP({pub:r,user:n,freeSignup:d,freeSignupEmail:B,subscribeContent:Q}){return typeof Q!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(Ys,{html:Q,pub:r,user:n,freeSignup:d,freeSignupEmail:B,isAboutPage:!0}))}function NP({pub:r,people:n}){const d=(0,We.useMediaQuery)({maxWidth:540}),B=d?[[]]:[[],[]];for(let Q=0;Q<n.length;++Q)B[d?0:Q%2].push(n[Q]);return(0,e.h)("div",{className:"content-people"},B.map(Q=>(0,e.h)("div",{className:"people-column"},Q.map(ce=>(0,e.h)("div",{className:"content-person",onclick:ye=>(0,Zp.Q)(ye,(0,g.getProfileUrl)(ce,r,{utm_source:"about-page"}),{native:!0})},(0,e.h)(Xi.PP,{subject:ce,profile:ce,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class kP extends e.Component{constructor(n,d){if(super(n,d),IP(this,"onTabClick",B=>{this.loadTab({tabId:B})}),this.state={subscribeContent:n.subscribeContent,people:n.people,tabs:[]},(n.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const B=(0,Bt.group_by)(n.pub.child_publications,"type");for(const Q of Array.from(B.keys()).sort())this.state.tabs.push({id:Q,title:`${(0,Bt.toTitleCase)(Q)}s`});this.state.tab=this.state.tabs.find(Q=>Q.id===n.sort)||this.state.tabs[0]}}componentDidMount(){return eu(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){(0,E.redirect)((0,g.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return eu(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:n}=yield zt().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:n})}catch(n){console.error("Failed to load about content:",n)}})}loadPeople(){return eu(this,null,function*(){if(!this.state.people)try{const{body:n}=yield zt().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:n})}catch(n){console.error("Failed to load people:",n)}})}loadTab(){return eu(this,arguments,function*({tabId:n}={}){const d=n?this.state.tabs.find(B=>B.id===n):this.state.tab;this.state.tab.id!==d.id&&(this.setState({tab:d}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,g.updateQuery)({sort:d.id})))})}renderChildPublications({pub:n,user:d,freeSignup:B},{tab:Q}){let ce,ye;n.plans?(ye=d&&d.is_subscribed,ce=ye):(ce=B||d&&d.is_free_subscribed,ye=d&&d.is_free_subscribed);const _e=Ct=>`${(0,g.getBaseUrl)(Ct)}/?showWelcome=true`;if(Q.id==="podcast")if(ye){const Ct=fi.getMultiPubChildPodcasts(n).map(xt=>Js(xt,(0,g.getPodcatcherSetupUrl)(xt,{addBase:!0,user:null,section:null,noSection:null,params:null})));return(0,e.h)(ql,{pub:n,showButton:!0,buttonText:"Set up podcast",items:Ct})}else{const Ct=fi.getMultiPubChildPodcasts(n).map(xt=>Js(xt,_e(xt)));return(0,e.h)(ql,{pub:n,showButton:!ce,buttonText:"Subscribe",items:Ct})}const Ue=(n.child_publications?n.child_publications.filter(Ct=>Ct.type===Q.id):[]).map(Ct=>Js(Ct,_e(Ct)));return(0,e.h)(ql,{pub:n,showButton:!ce,buttonText:"Subscribe",items:Ue})}render({pub:n,user:d,freeSignup:B,freeSignupEmail:Q,metadata:ce},{subscribeContent:ye,people:_e,tabs:ge,tab:Ue}){const Ct=ge.length>0&&(Ue==null?void 0:Ue.id),xt=!Ct||(Ue==null?void 0:Ue.id)==="about",Yt=(!d||!(0,Dc.P)(d,n))&&MP(ye);return(0,e.h)("div",{className:"page typography about-page typography"},ce&&(0,E.setMetaData)(ce),(0,e.h)("div",{className:"container"},(d==null?void 0:d.is_contributor)&&xt&&(0,e.h)(ra.z,{variant:"themed-secondary",href:(0,g.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)($l.Z,{size:20})},(0,e.h)(C.xv,null,"Edit")),Ct&&(0,e.h)(xP,{tabs:ge,tab:Ue.id,onTabClick:this.onTabClick}),xt&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(LP,{pub:n,user:d,freeSignup:B,freeSignupEmail:Q,subscribeContent:ye})),Yt?(0,e.h)(RP,{pub:n,user:d,freeSignup:B,freeSignupEmail:Q}):null,(_e!=null?_e:[]).length>0&&(0,e.h)(Se.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(NP,{pub:n,people:_e}))),Ct&&["podcast","newsletter"].includes(Ue.id)&&this.renderChildPublications({pub:n,user:d,freeSignup:B},{tab:Ue})))}}var BP=Object.defineProperty,UP=Object.defineProperties,FP=Object.getOwnPropertyDescriptors,tu=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,sh=Object.prototype.propertyIsEnumerable,lh=(r,n,d)=>n in r?BP(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,WP=(r,n)=>{for(var d in n||(n={}))ah.call(n,d)&&lh(r,d,n[d]);if(tu)for(var d of tu(n))sh.call(n,d)&&lh(r,d,n[d]);return r},jP=(r,n)=>UP(r,FP(n)),HP=(r,n)=>{var d={};for(var B in r)ah.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&tu)for(var B of tu(r))n.indexOf(B)<0&&sh.call(r,B)&&(d[B]=r[B]);return d};const nu=r=>{var n=r,{stroke:d}=n,B=HP(n,["stroke"]);return(0,e.h)(T.l,jP(WP({},B),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:d||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:d||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},KP=(0,di.Z)("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]),uh=(0,di.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),VP=(0,di.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),ru={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},Zi=({animated:r=!0,width:n,height:d,aspectRatio:B,className:Q})=>B?(0,e.h)("div",{style:`aspect-ratio:${B}`},(0,e.h)("div",{className:i()(ru.container,Q,{[ru.containerAnimated]:r}),style:{width:n,height:d!=null?d:"100%"}})):(0,e.h)("div",{className:i()(ru.container,Q,{[ru.containerAnimated]:r}),style:{width:n,height:d}});var zP=dn(34518);const Ti={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",rowEditableText:"frontend-components-TranscriptionText-module__rowEditableText--njdfk",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var $P=Object.defineProperty,GP=Object.defineProperties,ZP=Object.getOwnPropertyDescriptors,ch=Object.getOwnPropertySymbols,YP=Object.prototype.hasOwnProperty,JP=Object.prototype.propertyIsEnumerable,dh=(r,n,d)=>n in r?$P(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ph=(r,n)=>{for(var d in n||(n={}))YP.call(n,d)&&dh(r,d,n[d]);if(ch)for(var d of ch(n))JP.call(n,d)&&dh(r,d,n[d]);return r},fh=(r,n)=>GP(r,ZP(n));function QP({transcription:r,player:n,postId:d,editable:B,onEdit:Q,use_draft:ce=!1}){var ye,_e;const[ge,Ue]=(0,t.eJ)(!1),[Ct,xt]=(0,t.eJ)(),[Yt,sn]=(0,t.eJ)(0),[Xt,Vt]=(0,t.eJ)(!1),[un,Tn]=(0,t.eJ)(!1),[zn,nr]=(0,t.eJ)(),[Xn,mr]=(0,t.eJ)(),[vr,_r]=(0,t.eJ)();if((0,t.d4)(()=>{r.cdn_url?(Ue(!0),zt().get(r.cdn_url).then(xr=>xr.text&&xt(JSON.parse(xr.text))).finally(()=>Ue(!1))):xt(void 0)},[r]),(0,t.d4)(()=>{var xr;const Mr=(xr=n.current)==null?void 0:xr.player;if(Mr){const br=ao=>{typeof ao.target.currentTime=="number"&&sn(ao.target.currentTime)},$r=()=>Vt(!0),Yr=()=>Vt(!1),Jr=()=>Vt(!1);return Mr.addEventListener("timeupdate",br),Mr.addEventListener("play",$r),Mr.addEventListener("pause",Yr),Mr.addEventListener("ended",Jr),()=>{Mr.removeEventListener("timeupdate",br),Mr.removeEventListener("play",$r),Mr.removeEventListener("pause",Yr),Mr.removeEventListener("ended",Jr)}}},[n]),(0,t.d4)(()=>{const xr=()=>{setTimeout(()=>{var Mr,br,$r;const Yr=window.getSelection();if(!Yr||Yr.rangeCount===0||Yr.isCollapsed){_r(void 0),mr(void 0);return}const Jr=Yr.getRangeAt(0),ao=Jr.startContainer.parentNode,Cr=Jr.endContainer.parentNode,to=(Mr=ao==null?void 0:ao.dataset)==null?void 0:Mr.chunkIndex,ho=(br=Cr==null?void 0:Cr.dataset)==null?void 0:br.chunkIndex;if(to&&ho){let Co=parseInt(to,10),vo=parseInt(ho,10);Jr.startOffset===(($r=ao==null?void 0:ao.textContent)==null?void 0:$r.length)&&(Co+=1),Jr.endOffset===0&&(vo-=1),_r(Yr),mr([Co,vo])}else _r(void 0),mr(void 0)},0)};return document.addEventListener("mouseup",xr),()=>{document.removeEventListener("mouseup",xr)}},[]),ge)return(0,e.h)(hh,null);if(!(Ct!=null&&Ct.length))return(0,e.h)("div",{className:Ti.transcriptionStatus},(0,e.h)("p",null,(r==null?void 0:r.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(hh,null));const Tr=((_e=(ye=n==null?void 0:n.current)==null?void 0:ye.player)==null?void 0:_e.tagName)==="VIDEO"?"videogram":"audiogram";function Ir(xr){return(0,y.j)(y.FP.AUDIOGRAM_DOWNLOAD_CLICKED,{post_id:d,audiogram_id:zn==null?void 0:zn.id,media_upload_id:r.media_upload_id}),fetch(xr,{method:"GET"}).then(Mr=>Mr.blob()).then(Mr=>{var br;const $r=(br=zn==null?void 0:zn.video_url)==null?void 0:br.split("/").pop(),Yr=$r==null?void 0:$r.match(/^([^-]+-[^_]+)_/),Jr=(Yr==null?void 0:Yr[1])||"",ao=URL.createObjectURL(Mr),Cr=document.createElement("a");Cr.href=ao,Cr.download=`substack-${Tr}-${d}-${Jr}.mp4`,document.body.appendChild(Cr),Cr.click(),URL.revokeObjectURL(ao),Cr.remove()})}return(0,e.h)(e.Fragment,null,!B&&vr&&Xn&&(0,e.h)(XP,{noun:Tr,selection:vr,onMakeAudiogram:()=>{if(Xn){const[xr,Mr]=Xn;Tn(!0),zt().post("/api/v1/audiogram").send({post_id:d,start_idx:xr,end_idx:Mr,use_draft:ce}).then(br=>{var $r,Yr;($r=br.body)!=null&&$r.data&&(nr(br.body.data),_r(void 0),mr(void 0),(Yr=n.current)!=null&&Yr.player&&n.current.player.pause())}).finally(()=>Tn(!1))}}}),Ct.map((xr,Mr)=>(0,e.h)(qP,{key:Mr,idx:Mr,row:xr,currentTime:Yt,isPlaying:Xt,isSelected:!!(Xn&&Mr>=Xn[0]&&Mr<=Xn[1]),onClick:()=>{_r(void 0),mr(void 0)},onPause:()=>{var br;(br=n.current)!=null&&br.player&&n.current.player.pause()},onPlay:()=>{var br;(br=n.current)!=null&&br.player&&(n.current.player.currentTime=xr.start+1e-4,n.current.player.play())},editable:B,onEdit:Q})),!!(un||zn)&&(0,e.h)(zP.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{nr(void 0)}},(0,e.h)(C.xv.H3,{style:{marginTop:22,paddingLeft:16}},un?`Generating ${Tr}...`:`Shareable ${Tr}...`),(0,e.h)(_.tu,{padding:16},zn?(0,e.h)(e.Fragment,null,(0,e.h)("video",{src:zn.cdn_url,style:{borderRadius:12,alignSelf:"center",marginBottom:12},controls:!0,download:!0,width:512}),(0,e.h)(_.zx,{priority:"secondary",leftIcon:(0,e.h)(ps.Z,{height:18}),onClick:()=>Ir(zn.cdn_url)},"Download")):(0,e.h)(_.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))))}function XP({selection:r,onMakeAudiogram:n,noun:d}){var B,Q;const ce=(0,Ii.XA)(),ye=(Q=(B=r.anchorNode)==null?void 0:B.parentElement)==null?void 0:Q.getBoundingClientRect();return ye?(0,e.h)(_.tu,{style:{top:(0,Bt.isTouchDevice)()?Math.max(ye.y,0)+ye.height+12:Math.max(ye.y,0)-48,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:Oi.popover,shadow:"md"},(0,e.h)(_.tu,{className:i()(Oi.popoverButtons,ce&&Oi.isMobile),radius:12,padding:4,gap:8},(0,e.h)(Jl,{onClick:n,disabled:!1,isExplainer:!1},(0,e.h)(KP,{color:"white"}),(0,e.h)(C.xv.B4,{color:"bg-light",weight:"medium"},"Make ",d)))):null}function hh(){return(0,e.h)(e.Fragment,null,(0,e.h)(Zi,{width:"80%",height:"24px",className:Ti.loadingSilhouette}),(0,e.h)(Zi,{width:"34%",height:"24px",className:Ti.loadingSilhouette}),(0,e.h)(Zi,{width:"75%",height:"24px",className:Ti.loadingSilhouette}),(0,e.h)(Zi,{width:"100%",height:"24px",className:Ti.loadingSilhouette}),(0,e.h)(Zi,{width:"68%",height:"24px",className:Ti.loadingSilhouette}))}function qP({row:r,currentTime:n,onPlay:d,isPlaying:B,onPause:Q,isSelected:ce,onClick:ye,idx:_e,editable:ge,onEdit:Ue}){const[Ct,xt]=(0,t.eJ)(!1),Yt=r.start<=n&&r.end>=n,sn=r.words.map(Vt=>Vt.word).join(" "),Xt=ge?sn:r.words.map(Vt=>Vt.start<=n&&Vt.end>=n?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Ti.activeWord},Vt.word)," "):`${Vt.word} `);return(0,e.h)("div",{onClick:ye,onMouseEnter:()=>xt(!0),onMouseLeave:()=>xt(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!B||Ct&&!Yt?(0,e.h)(uh,{onClick:d,size:24,className:Ti.playCircle,style:fh(ph({},Ct&&{color:"var(--color-accent-themed)"}),{visibility:Yt||Ct?"visible":"hidden"})}):(0,e.h)(VP,{onClick:Q,size:24,className:Ti.playCircle,style:fh(ph({},Ct&&{color:"var(--color-accent-themed)"}),{visibility:Yt||Ct?"visible":"hidden"})}),(0,e.h)("div",{className:i()(Ti.transcriptionChunk,{[Ti.activeRow]:Yt||ce,[Ti.hoverChunk]:Ct}),"data-chunk-index":_e},(0,e.h)("div",{className:i()(Ti.rowIndicator,{[Ti.hoverRow]:Ct})}),ge?(0,e.h)("div",{className:Ti.rowEditableText,"data-chunk-index":_e,contentEditable:!0,onInput:Vt=>{var un;const Tn=(un=Vt.target)==null?void 0:un.innerHTML;typeof Tn=="string"&&(Tn===sn?Ue==null||Ue({[String(_e)]:void 0}):Ue==null||Ue({[String(_e)]:Tn}))}},Xt):(0,e.h)("div",{className:Ti.rowText,"data-chunk-index":_e},Xt)))}var eC=Object.defineProperty,ou=Object.getOwnPropertySymbols,mh=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable,Ic=(r,n,d)=>n in r?eC(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,tC=(r,n)=>{for(var d in n||(n={}))mh.call(n,d)&&Ic(r,d,n[d]);if(ou)for(var d of ou(n))gh.call(n,d)&&Ic(r,d,n[d]);return r},nC=(r,n)=>{var d={};for(var B in r)mh.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&ou)for(var B of ou(r))n.indexOf(B)<0&&gh.call(r,B)&&(d[B]=r[B]);return d},Mc=(r,n,d)=>(Ic(r,typeof n!="symbol"?n+"":n,d),d),rC=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const Qs=({className:r=null,title:n,subtitle:d=null,reauthenticationTitle:B,publication:Q,post:ce,user:ye,freeSignup:_e=null,freeSignupEmail:ge=null,email_form:Ue=!1,autoFocus:Ct=!1,isStatic:xt=!1,coupon:Yt=null})=>{const{iString:sn,iTemplate:Xt}=(0,P.M1)(),Vt=ye&&ye.email||ge||null,un=!!(ye!=null&&ye.is_subscribed&&(ye!=null&&ye.is_magic)),Tn=(ce==null?void 0:ce.audience)==="founding",zn=!!(ye!=null&&ye.is_free_subscribed||_e),nr=(0,g.getPostUrl)(Q,ce),Xn=Yt&&Yt.id&&!Tn;let mr;return Xn?(ce==null?void 0:ce.type)==="podcast"?mr=sn("Listen to this episode with a 7-day free trial"):(ce==null?void 0:ce.type)==="video"?mr=sn("Watch with a 7-day free trial"):mr=sn("Keep reading with a 7-day free trial"):un?mr=B:mr=n,(0,e.h)("div",{className:i()("paywall",r),"data-testid":"paywall","data-component-name":"Paywall"},Vt&&(0,e.h)(C.xv,{translated:!0,as:"div",className:"paywall-intro"},"Hi ",(0,e.h)("b",null,I18N.p(Vt))),(0,e.h)("h2",{className:"paywall-title"},mr),d&&!Xn&&(0,e.h)("p",{className:"paywall-subtitle"},d),Xn&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(ce==null?void 0:ce.type)==="podcast"&&(0,e.h)(C.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(C.xv,{weight:"bold",fontStyle:"italic"},I18N.p(Q.name))," ","to listen to this episode and get 7 days of free access to the full post archives."),(ce==null?void 0:ce.type)==="video"&&(0,e.h)(C.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(C.xv,{weight:"bold",fontStyle:"italic"},I18N.p(Q.name))," ","to watch this video and get 7 days of free access to the full post archives."),(ce==null?void 0:ce.type)==="newsletter"&&(0,e.h)(C.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(C.xv,{weight:"bold",fontStyle:"italic"},I18N.p(Q.name))," ","to keep reading this post and get 7 days of free access to the full post archives."),(ce==null?void 0:ce.type)==="adhoc_email"&&(0,e.h)(C.xv,{translated:!0,as:"p",className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)(C.xv,{weight:"bold",fontStyle:"italic"},I18N.p(Q.name))," ","to keep reading this email and get 7 days of free access to the full post archives.")),Ue?!zn&&(0,e.h)(_.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(et.Z,{autoFocus:Ct!=null?Ct:!0,email:Vt,freeSignup:_e,freeSignupEmail:ge,onAccentBackground:!0,pub:Q,source:"post-unlock",submitButtonText:(ce==null?void 0:ce.type)==="podcast"?sn("Start listening"):(ce==null?void 0:ce.type)==="video"?sn("Start watching"):sn("Start reading"),user:ye,onSuccess:()=>document.location.reload()})):(0,e.h)(oC,{coupon:Yt,email:Vt,isStatic:xt,post:ce,postUrl:nr,publication:Q,useCoupon:Xn,user:ye}),!un&&!xt&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:Q.subdomain,change_user:!!Vt}),native:!0},sC({post:ce,publication:Q,isPaid:!Ue})," ",(0,e.h)("b",null,sn(Vt?"Switch accounts":"Sign in")))))},oC=({coupon:r,email:n,isStatic:d,post:B,postUrl:Q,publication:ce,useCoupon:ye,user:_e})=>{const ge=!!(_e!=null&&_e.is_founding),Ue=!!(_e!=null&&_e.is_subscribed),Ct=!!(_e!=null&&_e.is_subscribed&&(_e!=null&&_e.is_magic)),xt=(B==null?void 0:B.audience)==="founding",{exposeExperiment:Yt,getExperimentVariant:sn}=(0,He.jc)(),Xt=sn("autosubscribe_from_paywall")==="treatment",{iString:Vt,iTemplate:un}=(0,P.M1)();if(d){if(!ce.plans)return null;const Tn=xt?Ri.Substitutions.FOUNDING_CHECKOUT_URL:Ri.Substitutions.CHECKOUT_URL,zn=ye?`&coupon=${r.id}`:"",nr=xt?un`Upgrade to ${(0,fi.getFoundingTierName)(ce)}`:ye?Vt("Start trial"):(0,e.h)(Sc,{pub:ce,user:_e,isStatic:d});return(0,e.h)(iC,{href:`${Tn}simple=true&utm_source=paywall&utm_medium=email&utm_content=${B.id}&next=${Q}${zn}`},nr)}return!ge&&xt?ce.plans?(0,e.h)(iu,{href:(0,g.getCheckoutUrl)(ce,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:B?B.id:null,plan:"founding"})},un`Upgrade to ${(0,fi.getFoundingTierName)(ce)}`):null:Ue?Ct?(0,e.h)(iu,{href:(0,g.getSigninUrl)({for_pub:ce.subdomain,email:n})},Vt("Click here to sign in")):null:ce.plans?_e!=null&&_e.email&&!ye?(0,e.h)(iu,{onClick:()=>rC(void 0,null,function*(){yield Yt("autosubscribe_from_paywall");let Tn;if(Xt)try{Tn=(yield zt().post("/api/v1/free").send({source:"paywall",email:n,first_url:f.xY,first_referrer:f.ip,current_url:f.UE,current_referrer:f.xU})).body.referral_token}catch(zn){(0,y.j)(y.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:zn.message})}window.location.href=(0,g.getCheckoutUrl)(ce,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:d?"email":"web",utm_content:B?B.id:null,just_signed_up:Xt,referral_token:Tn})})},(0,e.h)(Sc,{pub:ce,user:_e,isStatic:d})):(0,e.h)(iu,{href:(0,g.getCheckoutUrl)(ce,{simple:!0,next:document.location.href,utm_source:ye?"paywall-free-trial":"paywall",utm_medium:d?"email":"web",utm_content:B?B.id:null,coupon:ye?r.id:null})},ye?Vt("Start trial"):(0,e.h)(Sc,{pub:ce,user:_e,isStatic:d})):null},iC=({children:r,href:n})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:n},(0,e.h)("span",null,r))),iu=({children:r,href:n,onClick:d})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:n,onClick:d,native:!0},(0,e.h)(ct.Z,{className:"subscribe-btn"},r)));class aC extends ze.p{renderChildren(){const n=this.props,{ref:d}=n,B=nC(n,["ref"]);return(0,e.h)(Qs,tC({className:"modal-paywall"},B))}}class vh extends ls.Z{constructor(){super(...arguments),Mc(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),Mc(this,"cta",()=>{const{iString:n}=I18N.i({pub:this.props.pub});return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?n("Subscribe for full video"):n("Subscribe and watch")}),Mc(this,"href",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,g.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:this.props.mediaUpload.post_id}))}}function sC({post:r,publication:n,isPaid:d=!0}={}){const{iString:B,iTemplate:Q}=I18N.i({pub:n});return d?(r==null?void 0:r.audience)==="founding"?(0,fi.getFoundingTierName)(n)?Q`Already in the ${(0,fi.getFoundingTierName)(n)} plan?`:Q`Already in the Founding Member plan?`:B("Already a paid subscriber?"):B("Already a subscriber?")}const _h=({post:r,pub:n,user:d,playerRef:B})=>{var Q,ce;const ye=!(0,Bt.canSeeTranscription)(d,r),_e=((Q=r==null?void 0:r.podcastUpload)==null?void 0:Q.transcription)||((ce=r==null?void 0:r.videoUpload)==null?void 0:ce.transcription),{iString:ge}=(0,P.M1)();return(0,t.d4)(()=>{(0,y.j)(y.FP.TRANSCRIPTION_PAGE_VIEWED,{post_id:r.id})},[r.id]),_e?ye?(0,e.h)(Qs,{user:d,publication:n,post:r,title:ge("Transcriptions on this episode are for paid subscribers"),reauthenticationTitle:ge("To see the transcription, please re-authenticate.")}):(0,e.h)(QP,{transcription:_e,player:B,postId:r.id}):null};var Xs=dn(43615);const hs=(0,e.createContext)({alwaysShowActions:!1,cropGravity:"center",overlapUfi:!1}),sa={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},ja=({className:r,hidePlaceholder:n,imageAspectRatio:d,imageWidth:B,isBelowTheFold:Q,post:ce,squareImageSize:ye})=>{const{cropGravity:_e}=(0,t.qp)(hs),{getConfigFor:ge}=(0,It.xR)(),{isMobile:Ue}=yi(),Ct=ge("show_entire_square_image"),xt=(0,lo.getCoverImageUrl)(ce);if(!xt&&n)return null;const Yt=!B&&!d?1.32:d,sn=B||336,Xt=!!xt&&ce.cover_image_is_square&&Ct,Vt=Xt&&!!ye&&!Ue,un=Q?"lazy":void 0;return Vt?(0,e.h)(lC,{aspectRatio:Yt,className:r,imageUrl:xt,loading:un,size:ye,width:sn}):(0,e.h)("div",{className:i()(r,sa.container,{"post-preview-cover-image-container--empty":!xt}),style:`aspect-ratio: ${Yt}`},xt?(0,e.h)(tt.e,{className:i()(sa.image,{[sa["image-square-legacy"]]:Xt}),src:xt,alt:"",maxWidth:sn,imageProps:Yt?{height:Math.round(sn/Yt),smartCrop:!0,gravity:_e}:{},loading:un,style:`aspect-ratio: ${Yt}`,imageSizingCss:"(min-width:768px) 50vw, 100vw"}):null)},lC=({aspectRatio:r,className:n,imageUrl:d,width:B,loading:Q,size:ce})=>(0,e.h)("div",{className:i()(n,sa.container,sa.containerSquare),style:`aspect-ratio: ${r}`},(0,e.h)("div",{className:i()(sa["inner-wrapper"],sa[`inner-wrapper-${ce}`])},(0,e.h)(tt.e,{className:i()(sa.image,sa["image-square"],sa[`image-square-${ce}`]),src:d,alt:"",maxWidth:B,imageProps:{height:B,smartCrop:!0,gravity:"center"},loading:Q})));var uC=dn(98913),cC=dn.n(uC),Ha=dn(69427),yh=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const dC={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},pC=({ban:r,onReply:n,showReplyLink:d,name:B})=>{const Q=Zn()(r.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},B," is banned until ",Q,"."," ",d&&(0,e.h)("span",null,(0,e.h)("a",{onClick:n,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function Rc({pub:r,sub:n,children:d,tab:B}){return!n||!n.email?d:(0,e.h)("a",{target:"_blank",href:(0,g.getSubscriberDetailsUrl)(r,n.email,{tab:B})},d)}const fC=({sub:r})=>r?r.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):r.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,hC=({bans:r,activeBans:n})=>r.length===0?(0,e.h)("span",null,"No previous bans"):n.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",Zn()(r[0].start).standardDatetimeWithYear()," to"," ",Zn()(r[0].expiry).standardDatetimeWithYear()),mC=({comment:r,pub:n,onReply:d,onBan:B,onClose:Q})=>{const[ce,ye]=(0,t.eJ)(null),[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,t.eJ)([]),[xt,Yt]=(0,t.eJ)(!1),[sn,Xt]=(0,t.eJ)("24h"),[Vt,un]=(0,t.eJ)(null),[Tn,zn]=(0,t.eJ)(!0),nr=(0,t.sO)(null),Xn=!!r||_e,mr=xr=>{const Mr=xr;xr.forEach(br=>{Mr.findIndex($r=>$r.id===br.id)==-1&&Mr.push(br)}),Ct(Mr)},vr=()=>{d(r.id),nr.current.close()};(0,t.d4)(()=>{nr!=null&&nr.current&&(Xn?nr.current.state.open||nr.current.open():nr.current.state.open&&nr.current.close())},[r,_e]),(0,t.d4)(()=>yh(void 0,null,function*(){if(r){Yt(!1),ge(!0),Ct([]),un(null),ye(null);try{const xr=yield zt().get(`/api/v1/user/${r.user_id}/bans`);Ct(xr.body.bans),ye(xr.body.sub)}catch(xr){console.error("Failed to get bans:",xr),un(!0)}ge(!1)}}),[r]);const _r=()=>yh(void 0,null,function*(){ge(!0);try{const xr=yield zt().post(`/api/v1/comment_ban/${r.id}`,{pub:n}).send({user_id:r.user_id,expiry:sn,removeAllComments:Tn});Tn&&document.location.reload(),mr(xr.body.bans),Yt(!0),ge(!1),B(r,Ue)}catch(xr){console.error("Failed to submit ban",xr),un(!0)}ge(!1)});if(!r)return null;const Tr=dC[sn],Ir=Ue.filter(xr=>Zn()(xr.expiry).isAfter(Zn()()));return(0,e.h)(ze.p,{ref:nr,noExitOnClick:!0,onClose:Q},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(Rc,{pub:n,sub:ce},(0,e.h)(Pn.fi,{photo_url:r.photo_url,size:80,banned:Ir.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(Rc,{pub:n,sub:ce},(0,e.h)("span",{className:"name"},r.name)),(0,e.h)(fC,{sub:ce}),(0,e.h)(hC,{bans:Ue,activeBans:Ir}))),Vt&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),_e?"Loading...":(0,e.h)("form",{className:"form"},Ir.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:xr=>Xt(xr.target.value),value:sn},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:Tn,onInput:xr=>zn(xr.target.checked)}),"Remove ",(0,Bt.guessFirstName)(r.name),"'s"," ",(0,e.h)(Rc,{pub:n,sub:ce,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(ct.Z,{className:"button primary",onClick:_r},"Ban for ",Tr))),Ir.length>0&&Ue.filter(xr=>xr.user_id).map(xr=>(0,e.h)(pC,{ban:xr,showReplyLink:xt,onReply:vr,name:r.name})))))},x8=null;var Li=dn(82622),Lc=dn(38441),gC=dn(7617),vC=dn(80587);const bh=(0,di.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),_C=(0,di.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]);var yC=dn(92027),bC=dn(66440),Eh=dn(81108),EC=dn(5149),PC=dn(17048),CC=Object.defineProperty,wC=Object.defineProperties,OC=Object.getOwnPropertyDescriptors,Ph=Object.getOwnPropertySymbols,SC=Object.prototype.hasOwnProperty,xC=Object.prototype.propertyIsEnumerable,Ch=(r,n,d)=>n in r?CC(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,AC=(r,n)=>{for(var d in n||(n={}))SC.call(n,d)&&Ch(r,d,n[d]);if(Ph)for(var d of Ph(n))xC.call(n,d)&&Ch(r,d,n[d]);return r},DC=(r,n)=>wC(r,OC(n));const TC=r=>(0,e.h)(T.l,DC(AC({},r),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Ka=dn(31533),IC=dn(48960),MC=dn(28175),RC=dn.n(MC),ms=dn(36250);const wh="comment-collapse-state",Oh=250,ma=FC(),LC=()=>{if(typeof window!="undefined"&&window.location.hash){const r=/^#comment-(\d+)/.exec(window.location.hash);if(r)return Number(r[1])}return null},NC=()=>typeof window!="undefined"&&window.location.hash==="#input",Sh=(r,n)=>{if(!r||!n||!n.length)return null;for(const d of n){if(d.id===r)return d;if(d.children&&d.children.length){const B=Sh(r,d.children);if(B)return B}}return null};function qs(r,n){return r.map(d=>d.id===n.id?n:(d.children=qs(d.children,n),d)).filter(d=>d)}function kC(r,n,{recurse:d=!0}={}){var B,Q,ce,ye;return!!(r.id!==n.id||((B=r==null?void 0:r.metadata)==null?void 0:B.is_author)!==((Q=n==null?void 0:n.metadata)==null?void 0:Q.is_author)||((ce=r==null?void 0:r.metadata)==null?void 0:ce.founding)!==((ye=n==null?void 0:n.metadata)==null?void 0:ye.founding)||(r==null?void 0:r.body)!==(n==null?void 0:n.body)||(r==null?void 0:r.status)!==(n==null?void 0:n.status)||r.reaction!==n.reaction||r.user_banned!==n.user_banned||r.reported_by_user!==n.reported_by_user||(r.reactor_names?r.reactor_names.length:0)!==(n.reactor_names?n.reactor_names.length:0)||Object.values(r.reactions).reduce((_e,ge)=>_e+ge,0)!==Object.values(n.reactions).reduce((_e,ge)=>_e+ge,0)||d&&BC(r.children,n.children,{recurse:d}))}function BC(r,n,{recurse:d=!0}={}){if((r?r.length:0)!==(n?n.length:0))return!0;if(r)for(const B of r){const Q=n.find(ce=>ce.id===B.id);if(!Q||d&&kC(B,Q,{recurse:d}))return!0}return!1}function el(r,n,d){return(0,g.pathWithQuery)((0,g.getPostUrl)(n,r,{comments:!(0,Bt.shouldUseInlineComments)(n,r)}),d)}function UC(r){return(r||"").split(`
`).filter(n=>n.trim()).map(n=>(0,e.h)("p",null,(0,e.h)(RC(),{options:{validate:{url:d=>d&&!d.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},n)))}const au=r=>{var n,d,B,Q;return{id:r.user_id,photo_url:r.photo_url,name:r.name,bestseller_tier:r.user_bestseller_tier,primary_publication:r.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((n=r.metadata)==null?void 0:n.membership_state),is_subscribed:((d=r.metadata)==null?void 0:d.membership_state)==="subscribed",is_founding:(B=r.metadata)==null?void 0:B.founding,is_author:(Q=r.metadata)==null?void 0:Q.is_author}};function FC(){try{return(0,Bi.mM)(wh,[])}catch(r){return console.error("Failed to load comment collapse state:",r),[]}}function WC(r,n){let d=!1;if(n)ma.includes(r)||(d=!0,ma.push(r),ma.length>Oh&&ma.splice(0,ma.length-Oh));else{const B=ma.indexOf(r);B>=0&&(d=!0,ma.splice(B,1))}if(d)try{(0,Bi.ex)(wh,ma)}catch(B){console.error("Failed to store comment collapse state:",B)}}function jC(r){return ma.includes(r)}const Nc={link:"frontend-main-comments-CommentActions-module__link--yWV0t",withShareButton:"frontend-main-comments-CommentActions-module__withShareButton--ftFtT"};var su=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const HC=({comment:r,pub:n,user:d,post:B,reaction_token:Q,commentsEnabledForPost:ce,hideContextMenu:ye,noRestack:_e,onChange:ge,startReply:Ue,startEdit:Ct,startReport:xt,openBan:Yt,shareComment:sn,updateCommentReacted:Xt})=>{var Vt;const{pinned_by_user_id:un}=r,Tn=!!un,zn=(0,t.sO)(),[nr,Xn]=(0,t.eJ)(!1),[mr,vr]=(0,t.eJ)(!1),[_r,Tr]=(0,t.eJ)(!1),{iString:Ir,iTemplate:xr}=(0,P.M1)(),Mr=()=>su(void 0,null,function*(){if(!_r&&window.confirm(Tn?xr`Are you sure you want to unpin this comment?`:xr`Are you sure you want to pin this comment?`)&&!_r){Tr(!0);try{yield zt().patch(`/api/v1/comment/${r.id}/pin`).send({pinned:!Tn}),ge({pinned:!Tn}),document.location.reload()}catch(ni){alert((0,E.getNetworkErrorMessage)(ni)),Tr(!1)}}}),br=()=>su(void 0,null,function*(){var ni;if(!nr&&window.confirm(Ir("Are you sure you want to remove this comment?"))&&!nr){Xn(!0);try{yield zt().patch(`/api/v1/comment/${r.id}/status`).send({status:Li.COMMENT_STATUS.moderator_removed}),ge({suppressed:!0,status:Li.COMMENT_STATUS.moderator_removed,body:null}),(ni=zn.current)==null||ni.close()}catch(Ro){alert((0,E.getNetworkErrorMessage)(Ro))}Xn(!1)}}),$r=()=>su(void 0,null,function*(){var ni;if(!mr&&window.confirm(Ir("Are you sure you want to delete this comment?"))&&!mr){vr(!0);try{yield zt().delete(`/api/v1/comment/${r.id}`).send(),ge({status:Li.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(ni=zn.current)==null||ni.close()}catch(Ro){alert((0,E.getNetworkErrorMessage)(Ro))}vr(!1)}}),Yr=()=>su(void 0,null,function*(){const ni=(0,ms.getCommentUrl)(B,r,n),Ro=`https://linear.app/substackinc/team/TPT/new?description=${r.body}%0A%0AComment%20author:%20[${r.name}](https://admin.substack.com/users/${r.user_id})%0A%0ALink:%20${ni}&status=Triage`;window.open(Ro,"_blank")}),Jr=!!(d&&d.id===r.user_id),ao=(d==null?void 0:d.is_contributor)&&(0,Li.Ng)(r)&&r.ancestor_path==="",Cr=(0,Bt.canEditComment)(d,r),to=(d==null?void 0:d.is_contributor)&&(0,Li.Ng)(r)&&r.ancestor_path==="",ho=!Jr&&r.metadata.eligibleForGift&&!r.metadata.is_author,Co=(d==null?void 0:d.is_contributor)&&(0,Li.Ng)(r),vo=!Jr&&n.moderation_enabled&&!r.reported_by_user&&!r.hidden&&!r.suppressed,Do=Jr,Uo=Co&&!Jr,po=Co&&d.is_global_admin,yo=d==null?void 0:d.is_global_admin,mo=Co&&!r.user_banned&&!Jr,Vo=Co&&r.email&&!Jr,Zo=Cr||to||ho||Vo,$o=mo||vo||Uo||Do||po,Qo=(0,Ei.default)("like_comments_enabled"),vi=!ye&&(Zo||$o),ci=`${n.base_url}/subscribe?gift=true&recipient=${r.user_id}-${(0,Cf.cleanSlug)(r.name,{hashIfEmpty:!0})}&comment_id=${r.id}}`;return(0,e.h)(Se.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:i()("comment-actions",{[Nc.withShareButton]:!!sn})},!r.deleted&&[Qo&&(0,e.h)(Ka.dJ,{user:d,pub:n,post:B,comment:r,height:16,countInParenthesesStyle:!0,token:Q,onChange:({comment:ni})=>ge(ni),onReactedChange:ni=>{Xt&&Xt(r.id,ni)},noSelfUpdate:!!Xt}),ce&&(0,e.h)(cs.hh,{onClick:()=>Ue(),className:Nc.link},(0,e.h)(Se.hs,{gap:6,alignItems:"center"},(0,e.h)(gC.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(C.xv.Meta,{color:"pub-secondary-text"},Ir("Reply"),((Vt=r.children)==null?void 0:Vt.length)>0&&` (${r.children.length})`))),!!sn&&(0,e.h)(cs.hh,{onClick:()=>sn(r.id),className:Nc.link},(0,e.h)(Se.hs,{gap:6,alignItems:"center"},(0,e.h)(sc.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(C.xv.Meta,{color:"pub-secondary-text"},Ir("Share")))),!_e&&(0,e.h)(VC,{pub:n,post:B,comment:r,onChange:ge}),vi&&(0,e.h)(Di.v2,{trigger:(0,e.h)(Oe.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(vC.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:Ir("More")},ao&&(0,e.h)(KC,{pub:n,post:B,comment:r}),Cr&&(0,e.h)(Di.sN,{icon:(0,e.h)($l.Z,null),onClick:Ct},Ir("Edit")),to&&(0,e.h)(Di.sN,{icon:(0,e.h)(bh,null),onClick:Mr},Ir(_r?Tn?"Unpinning...":"Pinning...":Tn?"Unpin":"Pin")),ho&&(0,e.h)(Di.sN,{icon:(0,e.h)(_C,null),href:ci},Ir("Gift a subscription")),yo&&(0,e.h)(Di.sN,{icon:(0,e.h)(TC,{strokeWidth:0,height:24,width:24}),onClick:Yr},Ir("Add comment to Linear")),Vo&&(0,e.h)(Di.sN,{icon:(0,e.h)(yC.Z,null),onClick:()=>window.open((0,g.getSubscriberDetailsUrl)(n,r.email),"_blank")},Ir("Subscriber details")),Zo&&$o&&(0,e.h)(IC.i,null),Do&&(0,e.h)(Di.sN,{icon:(0,e.h)(bC.Z,null),onClick:$r,priority:"destructive"},Ir(mr?"Deleting...":"Delete")),Uo&&(0,e.h)(Di.sN,{icon:(0,e.h)(Eh.Z,null),onClick:br,priority:"destructive"},Ir(nr?"Removing...":"Remove")),vo&&(0,e.h)(Di.sN,{icon:(0,e.h)(EC.Z,null),onClick:xt,priority:"destructive"},Ir("Report")),mo&&(0,e.h)(Di.sN,{icon:(0,e.h)(PC.Z,null),onClick:Yt,priority:"destructive"},Ir("Ban or suspend user")))])};function KC({pub:r,post:n,comment:d}){const B=(0,js.i3)(),{iString:Q}=(0,P.M1)();return(0,e.h)(Di.sN,{icon:(0,e.h)(Ks.Z,null),onClick:()=>{B.open({restackUrl:(0,ms.getCommentUrl)(n,d,r)})}},Q("Restack"))}function VC({pub:r,post:n,comment:d,onChange:B}){const{iString:Q}=(0,P.M1)(),{canRestack:ce,isRestacked:ye,restacks:_e,menuItems:ge,nuxModal:Ue}=(0,Bf.K)({pub:r,post:n,comment:d,onRestack:Ct=>{B({restacked:Ct,restacks:_e+(Ct?1:-1)})}});if(ce)return(0,e.h)("span",null,Ue,(0,e.h)(Di.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:i()("restack-button",ye&&"restacked"),href:"javascript:void(0)"},(0,e.h)(Ks.Z,null),Q("Restack"),_e>0&&` (${_e})`)},ge))}const zC=HC,$C=({comment:r,bodyRef:n,expandToggleClicked:d})=>{const[B,Q]=(0,t.eJ)(!1),ce=(r.user_banned_for_comment||r.reported_by_user)&&!B;return(0,e.h)("div",{className:"comment-body",ref:n},(0,e.h)(GC,{comment:r,showHiddenComment:B,setShowHiddenComment:Q}),r.hidden?(0,e.h)("i",null,"Comment hidden"):r.deleted?(0,e.h)("i",null,"Comment deleted"):ce?(0,e.h)("i",null):r.suppressed&&!B?(0,e.h)("i",null,"Comment removed"):r.type==="reply"?(0,e.h)(ZC,{comment:r}):UC(r.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>d()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},GC=({comment:r,showHiddenComment:n,setShowHiddenComment:d})=>{const B=(0,Li.Ng)(r)&&(r.user_banned_for_comment||r.reported_by_user),Q=r.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return B&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,Q,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>d(!n)},n?"Hide":"Show")))},ZC=({comment:r})=>{const{title:n,truncated_body_text:d,date:B,bylines:Q,like_count:ce,comment_count:ye,url:_e}=r.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,g.pathWithQuery)(_e,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},n),d&&(0,e.h)("div",{className:"reply-comment-body"},(0,Bt.formatEllipsis)(d)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Bt.getPostEmbedMeta)({date:B,bylines:Q,like_count:ce,comment_count:ye})))},YC=$C;var kc=dn(95847),xh=dn(61152),tl=dn(10186),JC=Object.defineProperty,QC=Object.defineProperties,XC=Object.getOwnPropertyDescriptors,Ah=Object.getOwnPropertySymbols,qC=Object.prototype.hasOwnProperty,ew=Object.prototype.propertyIsEnumerable,Dh=(r,n,d)=>n in r?JC(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,tw=(r,n)=>{for(var d in n||(n={}))qC.call(n,d)&&Dh(r,d,n[d]);if(Ah)for(var d of Ah(n))ew.call(n,d)&&Dh(r,d,n[d]);return r},nw=(r,n)=>QC(r,XC(n));const rw=r=>(0,e.h)(T.l,nw(tw({},r),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var ow=Object.defineProperty,iw=Object.defineProperties,aw=Object.getOwnPropertyDescriptors,Th=Object.getOwnPropertySymbols,sw=Object.prototype.hasOwnProperty,lw=Object.prototype.propertyIsEnumerable,Ih=(r,n,d)=>n in r?ow(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,uw=(r,n)=>{for(var d in n||(n={}))sw.call(n,d)&&Ih(r,d,n[d]);if(Th)for(var d of Th(n))lw.call(n,d)&&Ih(r,d,n[d]);return r},cw=(r,n)=>iw(r,aw(n));const dw=r=>(0,e.h)(T.l,cw(uw({},r),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var pw=Object.defineProperty,fw=Object.defineProperties,hw=Object.getOwnPropertyDescriptors,Mh=Object.getOwnPropertySymbols,mw=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable,Rh=(r,n,d)=>n in r?pw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,vw=(r,n)=>{for(var d in n||(n={}))mw.call(n,d)&&Rh(r,d,n[d]);if(Mh)for(var d of Mh(n))gw.call(n,d)&&Rh(r,d,n[d]);return r},_w=(r,n)=>fw(r,hw(n));const yw=r=>(0,e.h)(T.l,_w(vw({},r),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var bw=dn(18446),nl=dn.n(bw),Ew=Object.defineProperty,Lh=Object.getOwnPropertySymbols,Pw=Object.prototype.hasOwnProperty,Cw=Object.prototype.propertyIsEnumerable,Bc=(r,n,d)=>n in r?Ew(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ww=(r,n)=>{for(var d in n||(n={}))Pw.call(n,d)&&Bc(r,d,n[d]);if(Lh)for(var d of Lh(n))Cw.call(n,d)&&Bc(r,d,n[d]);return r},lu=(r,n,d)=>(Bc(r,typeof n!="symbol"?n+"":n,d),d);class Nh extends e.Component{constructor(n,d){super(n,d),lu(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),lu(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),lu(this,"onDocumentMouseUp",B=>{var Q;!(0,E.isRootOrChild)(B.target,this.portalRef.current,((Q=this.props.baseRef)==null?void 0:Q.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),lu(this,"onDocumentKeyDown",B=>{B.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=Ec()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const n=!this.state.open;n?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:n})}updateCoords(){var n,d,B,Q,ce,ye,_e;const ge=(Q=(d=((n=this.props.baseRef)==null?void 0:n.current)||this.props.baseRef)==null?void 0:d.getBoundingClientRect)==null?void 0:Q.call(((B=this.props.baseRef)==null?void 0:B.current)||this.props.baseRef);if(ge){let Ue=0,Ct=((ce=this.props.baseRef)==null?void 0:ce.current)||this.props.baseRef;for(;Ct=Ct==null?void 0:Ct.parentElement;)Ue+=Ct.scrollTop;this.setState({coords:{left:ge.x+(this.props.rightAlign?ge.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((ye=this.props.offset)==null?void 0:ye.x)||0),top:ge.y+Ue+(((_e=this.props.offset)==null?void 0:_e.y)||0),width:ge.width,height:ge.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var n,d,B,Q;(d=((n=this.props.baseRef)==null?void 0:n.current)||this.props.baseRef)==null||d.addEventListener("mouseenter",this.open),(Q=((B=this.props.baseRef)==null?void 0:B.current)||this.props.baseRef)==null||Q.addEventListener("mouseleave",this.close)}removeMouseListeners(){var n,d,B,Q;(d=((n=this.props.baseRef)==null?void 0:n.current)||this.props.baseRef)==null||d.removeEventListener("mouseenter",this.open),(Q=((B=this.props.baseRef)==null?void 0:B.current)||this.props.baseRef)==null||Q.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(n){var d,B;const Q=n==null?void 0:n.getBoundingClientRect(),ce=(B=((d=this.props.baseRef)==null?void 0:d.current)||this.props.baseRef)==null?void 0:B.getBoundingClientRect();if(!Q||!ce)return;const ye=({x:xt,y:Yt})=>Ue<=xt&&xt<=Ct&&_e<=Yt&&Yt<=ge,{top:_e,bottom:ge,left:Ue,right:Ct}=Q;ye({x:ce.left,y:ce.top})||ye({x:ce.right,y:ce.top})||ye({x:ce.left,y:ce.bottom})||ye({x:ce.right,y:ce.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(n=>n())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(n=>{const d=(n==null?void 0:n.current)||n,B=Ec()(()=>this.onScroll(d),10);return d==null||d.addEventListener("scroll",B),()=>d==null?void 0:d.removeEventListener("scroll",B)})}componentShouldUpdate(n,d){return!nl()(this.props,n)||!nl()(this.state,d)}componentDidUpdate(n){var d,B,Q,ce;!nl()(n.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),nl()(n.baseRef,this.props.baseRef)||((B=((d=n.baseRef)==null?void 0:d.current)||n.baseRef)==null||B.removeEventListener("mouseenter",this.open),(ce=((Q=n.baseRef)==null?void 0:Q.current)||n.baseRef)==null||ce.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:n,rootElement:d,className:B},{coords:Q}){return typeof window=="undefined"?null:(0,fo.createPortal)((0,e.h)("div",{style:ww({},Q),className:i()("tooltip-portal",B),ref:this.portalRef},n),d||document.body)}}Nh.defaultProps={scrollContainers:[]};const kh=Nh;var Ow=dn(48403),Sw=dn.n(Ow),xw=Object.defineProperty,Aw=Object.defineProperties,Dw=Object.getOwnPropertyDescriptors,Bh=Object.getOwnPropertySymbols,Tw=Object.prototype.hasOwnProperty,Iw=Object.prototype.propertyIsEnumerable,Uh=(r,n,d)=>n in r?xw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Mw=(r,n)=>{for(var d in n||(n={}))Tw.call(n,d)&&Uh(r,d,n[d]);if(Bh)for(var d of Bh(n))Iw.call(n,d)&&Uh(r,d,n[d]);return r},Rw=(r,n)=>Aw(r,Dw(n));const Fh=r=>(0,e.h)(T.l,Rw(Mw({},r),{name:"FoundingBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"6.37499",cy:"8.125",r:"2.875",fill:"none"}),(0,e.h)("path",{d:"M10.125 11.1366C10.125 12.7245 8.83782 14.0116 7.25 14.0116C5.66218 14.0116 4.375 12.7245 4.375 11.1366C4.375 9.54881 5.66218 8.26163 7.25 8.26163C8.83782 8.26163 10.125 9.54881 10.125 11.1366Z",fill:"none"}),(0,e.h)("path",{d:"M13.625 11.1366C13.625 12.7245 12.3379 14.0116 10.75 14.0116C9.16223 14.0116 7.87504 12.7245 7.87504 11.1366C7.87504 9.54881 9.16223 8.26163 10.75 8.26163C12.3379 8.26163 13.625 9.54881 13.625 11.1366Z",fill:"none"}),(0,e.h)("circle",{cx:"9",cy:"6.375",r:"2.875",fill:"none"}),(0,e.h)("circle",{cx:"11.625",cy:"8.125",r:"2.875",fill:"none"}));var Lw=Object.defineProperty,Nw=Object.defineProperties,kw=Object.getOwnPropertyDescriptors,Wh=Object.getOwnPropertySymbols,Bw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable,jh=(r,n,d)=>n in r?Lw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Fw=(r,n)=>{for(var d in n||(n={}))Bw.call(n,d)&&jh(r,d,n[d]);if(Wh)for(var d of Wh(n))Uw.call(n,d)&&jh(r,d,n[d]);return r},Ww=(r,n)=>Nw(r,kw(n));const Hh=r=>(0,e.h)(T.l,Ww(Fw({},r),{name:"SubscriberBadgeIconInCircle",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("circle",{cx:"9",cy:"9",r:"9",stroke:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"7.08219",cy:"10.9178",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"7.08219",r:"2.58219",fill:"none"}),(0,e.h)("circle",{cx:"10.9178",cy:"10.9178",r:"2.58219",fill:"none"})),gs={"hover-card-button":"frontend-components-SubscriberBadge-module__hover-card-button--uoeNv","hover-card-icon-section":"frontend-components-SubscriberBadge-module__hover-card-icon-section--eHOQJ","hover-card-icon":"frontend-components-SubscriberBadge-module__hover-card-icon--Hl0xm","hover-card-layer":"frontend-components-SubscriberBadge-module__hover-card-layer--xv2xd",badgeContainter:"frontend-components-SubscriberBadge-module__badgeContainter--GjZmD",badgeSVG:"frontend-components-SubscriberBadge-module__badgeSVG--jGAAs"};var jw=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function Hw({status:r,pub:n,user:d,freeSignup:B,freeSignupEmail:Q}){const[ce,ye]=r==="paid"?[Hh,Kw]:[Fh,Vw];return(0,e.h)(hf.z,{content:(0,e.h)(ye,{pub:n,user:d,freeSignup:B,freeSignupEmail:Q}),layerClassName:gs["hover-card-layer"],layerOptions:{placement:"bottom-start"},onFetch:()=>{(0,y.j)(y.FP.SUBSCRIBER_BADGE_INFO_SHOWN,{status:r})}},(0,e.h)(Se.gq,{className:gs.badgeContainter},(0,e.h)(ce,{className:gs.badgeSVG,height:16,strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none"})))}const Kh=({Icon:r,heading:n,body:d,buttonText:B,href:Q,user:ce,pub:ye,freeSignupEmail:_e})=>(0,e.h)(Se.tu,{alignItems:"center"},(0,e.h)(Se.gq,{alignItems:"center",className:gs["hover-card-icon-section"]},(0,e.h)(r,{className:gs["hover-card-icon"],strokeWidth:1,stroke:"var(--print_on_pop)",fill:"none",height:50})),(0,e.h)(Se.tu,{alignItems:"center",gap:20,paddingBottom:20,paddingX:20},(0,e.h)(Se.tu,{alignItems:"center",gap:6},(0,e.h)(C.xv.H3,{weight:"semibold"},n),(0,e.h)(C.xv.B3,{align:"center",color:"secondary"},d)),B&&(0,e.h)(Oe.zx,{className:gs["hover-card-button"],grow:!0,onClick:ce&&!ce.is_magic&&ce.email||_e?ge=>jw(void 0,null,function*(){ge.preventDefault();const Ue=ce&&!ce.is_magic&&ce.email||_e;let Ct;try{Ct=(yield zt().post("/api/v1/free").send({source:"subscriber_badge",email:Ue,first_url:f.xY,first_referrer:f.ip,current_url:f.UE,current_referrer:f.xU})).body.referral_token}catch(xt){(0,y.j)(y.FP.FREE_SIGNUP_FAILED,{reason:xt==null?void 0:xt.message,source:"subscriber_badge"})}window.location.href=(0,$.getSubscribeUrl)(ye,{addBase:!0,params:{next:document.location.href,utm_source:"subscriber_badge",simple:!0,just_signed_up:!0,skip_redirect_check:!0,referral_token:Ct}})}):void 0,href:Q,localNavigation:!1,priority:"primary-theme"},B)));function Kw({pub:r,user:n,freeSignup:d,freeSignupEmail:B}){const Q=!(n!=null&&n.is_subscribed)&&(0,fi.paymentsAreEnabled)(r);return(0,e.h)(Kh,{Icon:Hh,heading:`Paid ${(0,Bt.getSubscriptionWord)(r,"subscriber")}`,body:Q?`This badge is only available to paid members \u2014 ${n!=null&&n.is_free_subscribed||d?"upgrade":"subscribe"} to claim your own.`:"This badge is available to paid members.",buttonText:Q?(0,Bt.getSubscribeText)(r,{isFreeSubscribed:(n==null?void 0:n.is_free_subscribed)||d}):void 0,href:Q?(0,$.getSubscribeUrl)(r,{params:{next:window.location.href,utm_source:"subscriber_badge"}}):void 0,user:n,pub:r,freeSignupEmail:B})}function Vw({pub:r,user:n,freeSignup:d,freeSignupEmail:B}){var Q;const ce=!(n!=null&&n.is_founding)&&(0,fi.paymentsAreEnabled)(r)&&(0,fi.getFoundingTierPlan)(r),ye=(Q=(0,fi.getFoundingTierName)(r))!=null?Q:"Founding Member";return(0,e.h)(Kh,{Icon:Fh,heading:ye,body:`This badge is${ce?" only":""} available to paid ${(0,Bt.getSubscriptionWord)(r,"subscriber")}s under the "${ye}" plan${ce?` \u2014 ${n!=null&&n.is_free_subscribed||d?"upgrade":"subscribe"} to claim your own.`:"."}`,buttonText:ce?n!=null&&n.is_free_subscribed||d?Sw()((0,Bt.getSubscriptionWord)(r,"upgrade")):(0,Bt.getSubscribeText)(r):void 0,href:ce?(0,$.getSubscribeUrl)(r,{params:{next:window.location.href,plan:"founding",utm_source:"subscriber_badge"}}):void 0,user:n,pub:r,freeSignupEmail:B})}function zw({subject:r,pub:n,user:d,freeSignup:B,freeSignupEmail:Q,hoverDisabled:ce=!1,onClick:ye}){var _e;const{exposeExperiment:ge,getExperimentVariant:Ue}=(0,He.jc)(),Ct=(_e=Ue("subscriber_badges_2"))!=null?_e:"control",xt=r.is_founding&&!r.is_author?"founding":r.is_subscribed&&!r.is_author?"paid":null;return(0,e.h)(e.Fragment,null,(0,e.h)(le,{onVisible:()=>{xt&&ge("subscriber_badges_2")}}),(0,e.h)(Se.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(Xi.Ct,{subject:r,disabled:ce,utmSource:"comment"},(0,e.h)("a",{onClick:ye,href:ye?"javascript:void(0)":(0,$.getReaderProfileUrl)(r)},(0,e.h)(C.xv.B4,{color:"pub-primary-text",weight:"semibold"},r.name))),(0,e.h)(Wo.s,{size:"sm",tier:r.bestseller_tier,userId:r.id}),xt&&Ct!=="control"&&(0,e.h)(Hw,{status:xt,pub:n,user:d,freeSignup:B,freeSignupEmail:Q})))}var $w=dn(44695);const Vh=({post:r,pub:n,user:d,freeSignup:B,freeSignupEmail:Q,comment:ce,isCollapsed:ye,onProfileClick:_e,userBanned:ge,toggleCollapse:Ue,noHoverProfile:Ct,userPendingApproval:xt})=>{var Yt,sn;const{iString:Xt,iTemplate:Vt,language:un,iPlural:Tn}=(0,P.M1)(),zn=vr=>vr.children.length+vr.children.reduce((_r,Tr)=>_r+zn(Tr),0),nr=zn(ce),Xn=!!ce.edited_at,mr=!ce.hidden&&((Yt=ce.metadata.author_on_other_pub)==null?void 0:Yt.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},ce.name?(0,e.h)(zw,{subject:au(ce),pub:n,user:d,freeSignup:B,freeSignupEmail:Q,hoverDisabled:Ct||!(0,Li.Ng)(ce)||ce.hidden||ye,onClick:_e?()=>_e(ce):null}):ce.hidden?(0,e.h)("i",null,Xt("hidden")):ce.deleted?(0,e.h)("i",null,Xt("deleted")):(0,Li.Ng)(ce)?Xt("Anonymous"):Xt("Removed"),ge&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),xt&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${ce.user_id}`,target:"_blank",rel:"noopener"}," ","(",Xt("Awaiting New Commenter Approval"),")")),ce.metadata.author_on_other_pub&&!ce.metadata.is_author&&(mr?(0,e.h)($w.Sm,{publication_id:(sn=ce.metadata.author_on_other_pub)==null?void 0:sn.id},(0,e.h)(zh,{comment:ce})):(0,e.h)(zh,{comment:ce})),(0,e.h)("a",{className:"comment-timestamp",href:(0,ms.getCommentUrl)(r,ce,n),onClick:vr=>(void 0).onDateClick(vr),rel:"nofollow",native:!0},Zn()(ce.date).locale(un).standardDateOrTime()),Xn&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,Vt`edited ${Zn()(ce.edited_at).locale(un).standardDateOrTime()}`))],(0,e.h)(Gw,{comment:ce})),ye&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(ct.Z,{className:"outline comment-collapse-toggle",onClick:Ue},Tn("Expand comment reply","Expand comment replies",nr)))]};function zh({comment:r}){const{iTemplate:n}=(0,P.M1)();return(0,e.h)("a",{className:"commenter-publication",href:(0,g.updateQuery)(r.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},(0,e.h)("span",null,n`Writes ${(0,Bt.truncateText)(r.metadata.author_on_other_pub.name,32)}`," "))}const Gw=({comment:r})=>{const[n,d]=(0,t.eJ)(!1),B=(0,t.sO)(null),Q=(0,t.sO)(null),{iString:ce,iTemplate:ye}=(0,P.M1)(),_e=r.pinned_by_user_id?"pinned":r.metadata.is_author?"author":r.reactor_names.length>0?"liked":null;if(!_e)return null;const ge={pinned:(0,e.h)(dw,null),author:(0,e.h)(yw,null),liked:(0,e.h)(rw,null)},Ue={pinned:ce("Pinned"),author:ce("Author"),liked:ye`Liked by ${r.reactor_names.join(", ")}`},Ct=_e==="pinned"&&r.pinned_by_name;return(0,e.h)("span",{ref:B,className:i()("highlight",{hover:n}),onMouseEnter:()=>Ct&&d(!0),onMouseLeave:()=>Ct&&d(!1)},ge[_e],(0,e.h)("span",{className:"highlight-text"},Ue[_e]),Ct&&(0,e.h)(kh,{baseRef:B,hoverToggle:!0,onOpen:()=>{var xt;return(xt=Q.current)==null?void 0:xt.open()},onClose:()=>{var xt;return(xt=Q.current)==null?void 0:xt.close()}},(0,e.h)(Si.Fx,{ref:Q,noList:!0,className:"explanation above small thin"},(0,e.h)(C.xv,{as:"span",translated:!0},"Pinned by ",(0,e.h)("span",{className:"bold"},I18N.p(r.pinned_by_name))))))};var Zw=Object.defineProperty,Yw=Object.defineProperties,Jw=Object.getOwnPropertyDescriptors,$h=Object.getOwnPropertySymbols,Qw=Object.prototype.hasOwnProperty,Xw=Object.prototype.propertyIsEnumerable,Gh=(r,n,d)=>n in r?Zw(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Zh=(r,n)=>{for(var d in n||(n={}))Qw.call(n,d)&&Gh(r,d,n[d]);if($h)for(var d of $h(n))Xw.call(n,d)&&Gh(r,d,n[d]);return r},qw=(r,n)=>Yw(r,Jw(n)),rl=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const uu="commentInput";class eO extends e.Component{constructor(n){var d;super(n),this.state={value:(d=n.commentBeingEdited)==null?void 0:d.body,alsoShareToNotes:!1}}componentWillMount(){if(typeof localStorage!="undefined"){const n=JSON.parse(localStorage.getItem(uu)||"{}");n.postId===this.props.post.id&&this.setState({value:n.value,alsoShareToNotes:!!n.alsoShareToNotes}),localStorage.removeItem(uu)}}componentDidMount(){var n;this.props.autoFocus&&((n=this.bodyInput)==null||n.focus())}needsProfile(){const{user:n}=this.props;return!n||!n.name}onKeyDown(n){var d;if((d=this.props.user)!=null&&d.is_magic){n&&n.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Bt.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){n&&n.preventDefault(),this.showPaywall();return}n.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():n.key==="Enter"&&n.metaKey&&this.form.handleSubmit(n)}maybeSaveComment(){typeof localStorage!="undefined"&&localStorage.setItem(uu,JSON.stringify({postId:this.props.post.id,value:this.state.value,alsoShareToNotes:this.state.alsoShareToNotes}))}onInput(n){if(!(0,Bt.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){n&&n.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return rl(this,arguments,function*({profileUpdated:n}={}){const{user:d,pub:B,post:Q,parent:ce,token:ye,iString:_e}=this.props,{alsoShareToNotes:ge}=this.state;if(!(0,Bt.canPostComments)(d,Q,B).canReply)throw this.maybeSaveComment(),yield this.showPaywall(),yield new Promise(Ct=>setTimeout(Ct,600)),new Ze.ew(_e("Please sign in"));if(this.needsProfile()&&!n)throw this.maybeSaveComment(),yield this.showProfileUpdate(),yield new Promise(Ct=>setTimeout(Ct,600)),new Ze.ew(_e("Please update your profile"));const Ue={body:this.bodyInput.value,token:ye};try{let Ct;if(ge){const Yt=yield zt().post("/api/v1/comment/attachment").send({type:"link",url:(0,g.getPostUrl)(B,Q)});if(!(Yt!=null&&Yt.body))console.log("Error creating attachment");else{const sn=Zh({},Ue);sn.attachmentIds=[Yt.body.id],Ct=yield zt().post("/api/v1/comment/feed").send(sn)}}ce&&(Ue.parent_id=ce.id);const xt=yield zt().post(`/api/v1/post/${Q.id}/comment`).send(Ue);if(typeof localStorage!="undefined"&&localStorage.removeItem(uu),!(d!=null&&d.profile_set_up_at)){const{body:{count:Yt}}=yield zt().get("/api/v1/user/profile_role_count");if(Yt>=2)return window.location=(0,g.pathWithQuery)(`${(0,g.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,ms.getCommentUrl)(Q,xt.body,B)}),!1}return{notesComment:Ct,res:xt}}catch(Ct){throw Ct.response&&Ct.response.statusCode===403&&(d&&d.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),Ct}})}onSuccess(n){const{res:d,notesComment:B}=n,{iString:Q,getConfigFor:ce}=this.props;if(d!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&B){const ye=(0,$.getFeedCommentUrl)(B.body);this.props.popToast(_e=>(0,e.h)(_.FN,qw(Zh({},_e),{icon:$s.Z,text:ce("unified_home_emabled_web")?Q("Note shared"):Q("Shared to Notes"),cta:Q("View Now"),href:ye})))}this.setState({value:""}),this.props.onSuccess(d.body)}else{const ye=el(this.props.post,this.props.pub);window.location.pathname===ye?window.location.reload():window.location.href=el(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,$.getFeedCommentUrl)(d.body)}:{})}}showFinishMagicLoginModal(){return rl(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,y.j)(y.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return rl(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,y.j)(y.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return rl(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,y.j)(y.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return rl(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield zt().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(n){alert((0,E.getNetworkErrorMessage)(n))}}})}focus(){this.bodyInput.focus()}render({user:n,freeSignup:d,freeSignupEmail:B,pub:Q,post:ce,token:ye,onCancel:_e,autoFocus:ge,commentBeingEdited:Ue,saveEdit:Ct,formClassName:xt,bannedFromNotes:Yt,iString:sn},{value:Xt,alsoShareToNotes:Vt}){return(0,e.h)(Se.hs,{"data-test-id":"comment-input",flex:"grow",className:i()("comment-input-wrap",{comment:Ue})},(0,e.h)(Ze.ZP,{ref:un=>this.form=un,className:i()("comment-input",xt),performSubmit:un=>Ue?Ct(Xt):this.postComment(un),onSuccess:un=>this.onSuccess(un),noInlineErrors:!0,autoLock:!0},(0,e.h)(tl.qE,{user:n,size:32}),(0,e.h)(Se.tu,{flex:"grow",className:"comment-input-right"},Ue&&(0,e.h)(Vh,{post:ce,pub:Q,user:n,freeSignup:d,freeSignupEmail:B,comment:Ue,isCollapsed:!1,userBanned:!1}),(0,e.h)(xh.Z,{ref:un=>this.bodyInput=un&&un.base,name:"body",placeholder:sn("Write a comment..."),autoHeight:!0,maxLines:8,value:Xt||"",onInput:un=>this.onInput(un),onKeyDown:un=>this.onKeyDown(un)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Se.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!Xt&&!_e&&(0,e.h)(Se.hs,{gap:8,alignItems:"center",justifyContent:"center"},!Yt&&(0,e.h)(_.XZ,{name:"also_feed",size:"medium",as:"div",checked:Vt,onChange:()=>{this.setState({alsoShareToNotes:!Vt})},withTheme:!0}),!Yt&&(0,e.h)(C.xv.B4,{translated:!0,color:"pub-secondary-text"},this.props.getConfigFor("enable_unified_home_web")?(0,e.h)(e.Fragment,null,"Also share a"," ",(0,e.h)(cs.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,$.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"note")):(0,e.h)(e.Fragment,null,"Also share to"," ",(0,e.h)(cs.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,$.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes")))),(_e||!!Xt)&&(0,e.h)(ct.Z,{className:"primary",type:"submit"},sn(Ue?"Save":"Post")),_e&&(0,e.h)(ct.Z,{className:"cancel",onClick:_e},sn("Cancel"))))),(0,e.h)(Nl.h,null,(0,e.h)(kc.EB,{ref:un=>this.profileUpdater=un,user:n,freeSignup:d,freeSignupEmail:B,optionalPhoto:!0,token:ye,text:sn("Save & Post Comment"),onBeforeClose:un=>un&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(aC,{ref:un=>this.modalPaywall=un,user:n,freeSignup:d,freeSignupEmail:B,publication:Q,post:ce,title:sn("Only paid subscribers can comment on this post"),reauthenticationTitle:sn("To post a comment, please re-authenticate.")}),(0,e.h)(ze.p,{ref:un=>this.finishMagicLoginModal=un,className:"finish-magic-login-modal"},(0,e.h)("h4",null,sn("Check your email")),(0,e.h)("p",null,sn("For your security, we need to re-authenticate you.")),(0,e.h)(C.xv,{as:"p",translated:!0},"Click the link we sent to ",I18N.p(n==null?void 0:n.email),", or"," ",(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:Q.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const ol=(0,It.xY)((0,_.dd)((0,P.fz)(eO)));var tO=dn(702),nO=Object.defineProperty,rO=Object.defineProperties,oO=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertySymbols,iO=Object.prototype.hasOwnProperty,aO=Object.prototype.propertyIsEnumerable,Uc=(r,n,d)=>n in r?nO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,vs=(r,n)=>{for(var d in n||(n={}))iO.call(n,d)&&Uc(r,d,n[d]);if(Yh)for(var d of Yh(n))aO.call(n,d)&&Uc(r,d,n[d]);return r},Jh=(r,n)=>rO(r,oO(n)),Ni=(r,n,d)=>(Uc(r,typeof n!="symbol"?n+"":n,d),d),Qh=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const Xh=200,sO=50,lO=140,uO=728,cO=80;function dO(){const n=Math.min(uO,document.body.clientWidth)-lO;return Math.ceil(n/sO)}const qh=dO();class em extends e.Component{constructor(n,d){super(n,d),Ni(this,"bodyRef",(0,e.createRef)(null)),Ni(this,"headContainerRef",(0,e.createRef)(null)),Ni(this,"openBan",()=>{this.props.banComment()}),Ni(this,"setSelectedHighlight",()=>{const Q=LC()===this.props.comment.id;this.setState({isSelected:Q})}),Ni(this,"startEdit",()=>{this.setState({editing:!0})}),Ni(this,"saveEdit",B=>Qh(this,null,function*(){return this.state.editing?{res:yield zt().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:B})}:void 0})),Ni(this,"onSaveEditSuccess",({edited:B})=>{this.setState({editing:!1}),this.props.onChange(vs(vs({},this.props.comment),B))}),Ni(this,"startReport",()=>{this.setState({reporting:!0})}),Ni(this,"cancelReport",()=>{this.setState({reporting:!1})}),Ni(this,"onReportSuccess",()=>{this.props.onChange(Jh(vs({},this.props.comment),{reported_by_user:!0}))}),Ni(this,"expandToggleClicked",()=>{const B=this.bodyRef.current;B&&(B.classList.remove("long"),B.classList.add("expanded"),(0,y.j)(y.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:B.getAttribute("data-hidden-height")}))}),Ni(this,"onChange",B=>{this.props.onChange?this.props.onChange(vs(vs({},this.props.comment),B)):document.location.href=el(this.props.post,this.props.pub)}),Ni(this,"setComment",B=>{this.setState({comment:B})}),Ni(this,"setCollapsed",B=>{var Q,ce;if(this.setState({isCollapsed:B}),B&&((ce=(Q=this.headContainerRef)==null?void 0:Q.current)!=null&&ce.scrollIntoView)){const ye=this.headContainerRef.current.getBoundingClientRect();ye.top<0&&(document.documentElement.scrollTop+=ye.top-cO)}this.props.retainUserCollapseState&&WC(this.props.comment.id,B)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&jC(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(n){var d,B;((d=n.comment)==null?void 0:d.id)!==((B=this.props.comment)==null?void 0:B.id)&&this.setSelectedHighlight(),n.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const n=/^#comment-(\d+)-reply$/.exec(window.location.hash);!n||Number(n[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return Qh(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(n=>this.setState({replying:!0},n)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(n){const[d,B]=n.target.href.split("?")[0].split("#");d===window.location.href.split("?")[0].split("#")[0]&&B&&(n.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${B}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const n=this.bodyRef.current;if(!n)return;const d=n.scrollHeight-n.clientHeight;d>0&&d<Xh?n.classList.add("expanded"):d>=Xh&&(n.classList.add("long"),n.setAttribute("data-hidden-height",d))}render({user:n,comment:d,freeSignup:B,freeSignupEmail:Q,pub:ce,post:ye,reaction_token:_e,depth:ge,collapseAtDepth:Ue,onChange:Ct,scrollRef:xt,retainUserCollapseState:Yt,onStartReply:sn,noHoverProfile:Xt,onProfileClick:Vt,onShareComment:un,hideContextMenu:Tn,noRestack:zn,updateCommentReacted:nr,iString:Xn},{isSelected:mr,replying:vr,editing:_r,reporting:Tr,hideAnchors:Ir,isCollapsed:xr}){var Mr,br,$r,Yr;const Jr=ce.community_enabled&&ye&&ye.write_comment_permissions!=="none",{user_banned:ao}=d;let Cr=!1;return((Mr=this.context.getExperimentVariant("subscriber_badges_2"))!=null?Mr:"control")==="control"&&((br=d.metadata)!=null&&br.is_author?Cr="author":($r=d.metadata)!=null&&$r.founding&&(Cr="founding")),_r?(0,e.h)(ol,{autoFocus:!0,user:n,freeSignup:B,freeSignupEmail:Q,pub:ce,post:ye,commentBeingEdited:d,saveEdit:this.saveEdit,token:_e,onCancel:()=>this.setState({editing:!1}),onSuccess:Ct?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:i()("comment",{selected:mr,"post-reply":d.type==="reply",collapsed:xr}),key:`comment-${d.id}`},!Ir&&[(0,e.h)("div",{id:`comment-${d.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${d.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(Xi.Ct,{subject:au(d),disabled:Xt||!(0,Li.Ng)(d)||d.hidden||xr,utmSource:"comment"},(0,e.h)(Lc.ZP,{subject:au(d),pub:ce,user:n,freeSignup:B,freeSignupEmail:Q,token:_e,isBanned:ao,tooltip:{founding:(0,Bt.foundingMemberDescription)(ce),author_ons_other_pub:Xn("Author of another publication")}[Cr],badge:Cr,isAuthor:d.metadata.is_author,onClick:Vt?()=>Vt(d):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(Vh,{post:ye,pub:ce,user:n,freeSignup:B,freeSignupEmail:Q,comment:d,commentUser:au,isCollapsed:xr,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Vt,userBanned:ao,noHoverProfile:Xt,userPendingApproval:d.status===Li.COMMENT_STATUS.new_commenter_approval_required&&n.is_admin}),(0,e.h)(YC,{comment:d,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!vr&&(0,e.h)(zC,{comment:d,pub:ce,user:n,post:ye,reaction_token:_e,commentsEnabledForPost:Jr,hideContextMenu:Tn,noRestack:zn,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:nr,shareComment:un})))),vr&&Jr&&(0,e.h)(ol,{ref:to=>this.commentInput=to,user:n,freeSignup:B,freeSignupEmail:Q,pub:ce,post:ye,parent:d,token:_e,onCancel:()=>this.setState({replying:!1}),onSuccess:Ct?to=>{this.setState({replying:!1});const ho=Jh(vs({},d),{children:[to].concat(d.children)});Ct(ho)}:null}),d.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,ms.getCommentUrl)(ye,d,ce)},d.childrenSummary)),!d.childrenSummary&&ge>=qh&&!!d.children.length&&(0,e.h)(ct.Z,{className:"outline continue-thread-button",href:(0,ms.getCommentUrl)(ye,d,ce)},Xn("Continue Thread \u2192")),!d.childrenSummary&&ge<qh&&(0,e.h)(cu,{key:`comment:${d.id}`,user:n,freeSignup:B,freeSignupEmail:Q,pub:ce,post:ye,comments:(Yr=d.children)!=null?Yr:[],parent:d,reaction_token:_e,depth:(ge||0)+1,collapseAtDepth:Ue,onChange:Ct,isChild:!0,scrollRef:xt,retainUserCollapseState:Yt,onStartReply:sn,noHoverProfile:Xt,onProfileClick:Vt,hideContextMenu:Tn,updateCommentReacted:nr,noRestack:!0}),!xr&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),Tr&&(0,e.h)(tO.Z,{pub:ce,comment:d,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}Ni(em,"contextType",He.kx);const pO=(0,P.fz)(em);var fO=Object.defineProperty,hO=Object.defineProperties,mO=Object.getOwnPropertyDescriptors,tm=Object.getOwnPropertySymbols,gO=Object.prototype.hasOwnProperty,vO=Object.prototype.propertyIsEnumerable,nm=(r,n,d)=>n in r?fO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,_O=(r,n)=>{for(var d in n||(n={}))gO.call(n,d)&&nm(r,d,n[d]);if(tm)for(var d of tm(n))vO.call(n,d)&&nm(r,d,n[d]);return r},yO=(r,n)=>hO(r,mO(n));const bO=dn(43174),EO=5,PO=1,rm=16,CO=50,wO=200;function om(r){return r.reduce((n,d)=>n+1+om(d.children||[]),0)}function cu({user:r,freeSignup:n,freeSignupEmail:d,pub:B,post:Q,comments:ce,reaction_token:ye,depth:_e,collapseAtDepth:ge,onChange:Ue,pageSize:Ct,retainUserCollapseState:xt,updateCommentReacted:Yt,parent:sn,scrollRef:Xt,className:Vt,onStartReply:un,noHoverProfile:Tn,onProfileClick:zn,hideContextMenu:nr,noRestack:Xn}){const mr=Ct||rm,[vr,_r]=(0,t.eJ)(mr),[Tr,Ir]=(0,t.eJ)(-1),[xr,Mr]=(0,t.eJ)(null),[br,$r]=(0,t.eJ)(null),[Yr,Jr]=(0,t.eJ)(null),[ao,Cr]=(0,t.eJ)(new Set(ce.map(({id:yo})=>yo))),{iString:to,iPlural:ho}=(0,P.M1)(),Co=(0,t.sO)();if((0,t.d4)(()=>{Tr>=0&&window.scrollTo(window.scrollX,Tr)},[Tr]),(ce||[]).length===0)return;const[vo,Do]=bO(ce,({id:yo,user_id:mo})=>ao.has(yo)||mo===(r==null?void 0:r.id)),Uo=vo.slice(0,vr),po=yo=>{var mo;Jr(yo),(mo=Co.current)==null||mo.open()};return(0,e.h)("div",{className:i()("comment-list",Vt,{"has-new-comments":Do.length>0})},(0,e.h)(mC,{pub:B,comment:xr,onClose:()=>Mr(null),onReply:yo=>{$r(yo),Mr(null)},onBan:(yo,mo)=>{Ue?Ue(yO(_O({},yo),{user_banned:!0,bans:mo.concat(yo.bans)})):document.location.href=el(Q,B)}}),(0,e.h)(Ha.ZP,{ref:Co,pub:B,post:Q,commentId:Yr,utm_campaign:"comment-list-share-cta",comments:ce,user:r}),Do.length>0&&(0,e.h)(ct.Z,{className:"collapsed-reply outline",onClick:()=>Cr(new Set(ce.map(({id:yo})=>yo)))},ho("1 new reply","%1 new replies",om(Do))),(0,e.h)("div",{className:"comment-list-items"},Uo.map(yo=>(0,e.h)(pO,{banComment:()=>Mr(yo),key:`cmt-${yo.id}`,user:r,freeSignup:n,freeSignupEmail:d,pub:B,post:Q,comment:yo,parent:sn,reaction_token:ye,collapseAtDepth:ge,depth:_e||0,onChange:Ue,replying:br===yo.id,scrollRef:Xt,retainUserCollapseState:xt,onStartReply:un,noHoverProfile:Tn,onShareComment:po,onProfileClick:zn,hideContextMenu:nr,noRestack:Xn,updateCommentReacted:Yt}))),vo.length>Uo.length&&(0,e.h)(ct.Z,{className:"collapsed-reply outline",onClick:()=>{Ir(window.scrollY),_r(vr+mr)}},to("Load More")))}var Fc=dn(11628),im=dn(70444),OO=dn(35442),am=dn(31163),il=dn(85200);function SO({publication:r,siteConfigs:n={},twitterCardUrl:d=null}){var B;const{title:Q,description:ce}=du(r);let ye,_e;return d?(ye=d,_e=!0):[ye,_e]=fu(r,null),(0,E.setMetaData)({title:Q,description:ce,image:ye,isLargeImage:_e,pub:r,siteConfigs:n,themeColor:(B=r.theme)==null?void 0:B.web_bg_color})}function du(r,n,d){var B,Q;let ce;const ye=!!(0,Ei.default)("publication_author_display_override")&&String((0,Ei.default)("publication_author_display_override"))||((B=(0,il.Im)(r.contributors))==null?void 0:B.owner),_e=ye&&!((Q=r.name)!=null&&Q.toLowerCase().includes(ye==null?void 0:ye.toLowerCase())),ge=n!=null?n:r.name;return _e?ce=`${ge} | ${ye} | Substack`:ce=`${ge} | Substack`,{title:ce,description:wi()(sm(r,d))}}function sm(r,n){var d,B,Q;const ce=(d=r.name)==null?void 0:d.trim();let ye=ce;(0,Bt.endsWithPunctuation)(ce)&&(ye=`"${ce}"`);const _e=(0,il.Im)(r.contributors);let ge,Ue;return r.invite_only?(ge=null,Ue=null):(ge=(B=r.rankingDetailFreeIncluded)!=null&&B.toLowerCase().includes("subscribers")?r.rankingDetailFreeIncluded.toLowerCase():null,Ue=r.rankingDetailFreeIncluded||r.rankingDetail),(0,il.ab)(n!=null?n:(Q=r.hero_text)==null?void 0:Q.trim(),_e,ge,ye,Ue)}function pu({publication:r,post:n,clip:d,siteConfigs:B={},twitterCardUrl:Q=null,isCommentPage:ce=!1,selection:ye=null,pageCanShowSmartBanner:_e=!1}){var ge,Ue;const Ct=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||r.name,{title:xt,description:Yt}=lm(n,r,{isCommentPage:ce});let sn,Xt;Q?(sn=Q,Xt=!0):ye?(sn=(0,g.getPostSelectionPreviewUrl)(r,n,ye),Xt=!0):[sn,Xt]=fu(r,n);const Vt=ce&&n&&n.type!=="thread"&&n.comment_count===0||(n==null?void 0:n.type)==="restack";return(0,E.setMetaData)({title:xt,socialTitle:d?`\u2702\uFE0F ${(0,am.UB)((ge=d.duration)!=null?ge:0)} | ${Ct}`:Ct,searchDescription:n==null?void 0:n.search_engine_description,description:Yt,image:d&&(Ue=(0,g.getMediaUploadThumbnailUrl)(d))!=null?Ue:sn,isLargeImage:Xt,imageHeight:ye&&564,imageWidth:ye&&1128,seoProps:{noindex:Vt,noarchive:!!(n&&n.post_paywall_content_for_google)},isPodcast:(n==null?void 0:n.type)==="podcast",isVideo:(n==null?void 0:n.type)==="video",slug:n==null?void 0:n.slug,pub:r,post:n,siteConfigs:B,appUpsellLink:_e?(0,g.getPostAppLinkUrl)(r.subdomain,n==null?void 0:n.slug,{params:{comments:ce?!0:void 0,utm_source:"apple-smart-banner"}}):void 0})}function lm(r,n,{isCommentPage:d=!1}={}){var B,Q;const ce=(r==null?void 0:r.social_title)||(r==null?void 0:r.title)||n.name;let ye,_e;r?_e=(0,Bt.getPrintedByline)(n,r):_e=(0,Ei.default)("publication_author_display_override")||((B=(0,il.Im)(n.contributors))==null?void 0:B.owner);const ge=_e&&!((Q=n.name)!=null&&Q.toLowerCase().includes(_e==null?void 0:_e.toLowerCase()));r!=null&&r.title?(ye=(r==null?void 0:r.search_engine_title)||ce,d&&r.type!=="thread"&&(ye=`Comments - ${ye}`),`${ye} - by ${_e}`.length<60&&(_e&&ge&&(ye+=` - by ${_e}`),`${ye} - ${n.name}`.length<60&&(ye+=` - ${n.name}`))):ge?ye=`${n.name} | ${_e} | Substack`:ye=`${n.name} | Substack`;let Ue;return r?Ue=(0,Bt.postSocialDescription)(r,n):Ue=sm(n),Ue=wi()(Ue),{title:ye,description:Ue}}function fu(r,n){let d,B;return n!=null&&n.cover_image?(d=(0,g.imginary)(n.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),B=!0):r.subdomain==="numlock"?(d=(0,g.imginary)("/img/numlock_square.png?v=2",840),B=!1):(d=(0,g.getTwitterSubscribeCardUrl)(r),B=!0),[d,B]}var xO=Object.defineProperty,um=Object.getOwnPropertySymbols,AO=Object.prototype.hasOwnProperty,DO=Object.prototype.propertyIsEnumerable,cm=(r,n,d)=>n in r?xO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,TO=(r,n)=>{for(var d in n||(n={}))AO.call(n,d)&&cm(r,d,n[d]);if(um)for(var d of um(n))DO.call(n,d)&&cm(r,d,n[d]);return r};function IO({comment:r,post:n,publication:d,pageCanShowSmartBanner:B=!1}){var Q,ce,ye;const _e=(0,Lf.N)();let ge="Note on Substack";d&&r.name?ge=`Comment by ${r.name} on ${d.name}`:r.name?ge=`Note by ${r.name} on Substack`:d&&(ge=`Comment on ${d.name}`);const Ue=n&&d?lm(n,d,{isCommentPage:!0}).title:`${ge}: "${(0,Bt.truncateText)(r.body,280)}"`,Ct=(Q=r.attachments)==null?void 0:Q.find(Tn=>Tn.type==="image"),xt=Ct==null?void 0:Ct.imageUrl,Yt=!1,sn=Yt?680:void 0,Xt=Yt?680:void 0,Vt=xt!=null?xt:Yt?(0,$.imginary)((0,im.IY)(r.id),Xt,{height:sn}):n&&d?fu(d,n)[0]:null,un=!Yt||xt?r.body:"Subscribe to see all their notes.";return(0,e.h)(OO.Metadata,TO({},{title:Ue,socialTitle:ge,description:un,image:Vt,imageHeight:sn,imageWidth:Xt,isLargeImage:Vt?!0:void 0,siteName:d?d.name:_e?"Substack":"Notes",publishedTime:r.date.toString(),appUpsellLink:B?(0,$.pathWithQuery)(`substack://posts/${(n==null?void 0:n.id)||0}/comments/${r.id}`,{utm_source:"apple-smart-banner"}):void 0,meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((ce=r.reaction_count)!=null?ce:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((ye=r.children_count)!=null?ye:0)}]}))}var dm=dn(49786),MO=Object.defineProperty,RO=(r,n,d)=>n in r?MO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,LO=(r,n,d)=>(RO(r,typeof n!="symbol"?n+"":n,d),d),NO=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class pm extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,y.j)(y.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,y.j)(y.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return NO(this,null,function*(){try{yield zt().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(n){console.error("Failed to subscribe to email notifications:",n),alert((0,E.getNetworkErrorMessage)(n))}})}render({className:n,pub:d,post:B,user:Q,freeSignup:ce,freeSignupEmail:ye,isStatic:_e,hidden:ge,truncated:Ue,invisible:Ct,post_reaction_token:xt,onChange:Yt,showCta:sn=Ue,showUnsubscribeNotice:Xt,dataForEmailRender:Vt={},showReactions:un=!0,gap:Tn=16,iString:zn,iTemplate:nr,iPlural:Xn,language:mr,showShare:vr}){typeof ge!="boolean"&&(ge=B.hidden);let _r,Tr;ge?(_r=zn("Subscribe to view"),Tr=(0,g.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:B.id})):(Tr=(0,g.getPostUrl)(d,B,{noBase:!0}),B.type!=="thread"||Ue?_r=(0,Bt.getPostCtaText)(B,mr):B.comment_count?_r=Xn("View 1 comment","View %1 comments",B.comment_count):_r=zn("Reply"));const Ir=_e&&!this.context.isAmp;return(0,e.h)(gi.YF,{className:`thread-head typography ${n||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(gi.i$,{width:"100%"},!Ct&&!ge&&(0,e.h)(le,{onVisible:()=>this.onTopReached()}),(0,e.h)(gi.i$,{gap:Tn,width:"100%"},(0,e.h)(Tu,{pub:d,post:B,user:Q,isStatic:_e,freeSignup:ce,freeSignupEmail:ye,reaction_token:xt,allowEdit:!0,allowTruncate:Ue,showReactions:!!sn||un,showShare:vr,showComments:!!B.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Yt,showLabel:!0}),(0,e.h)(Ys,{user:Q,freeSignup:ce,freeSignupEmail:ye,pub:d,post:B,html:!ge&&!Ue&&B.body_html,isStatic:_e,dataForEmailRender:Vt},ge?(0,e.h)("p",null,(0,e.h)("i",null,nr`This thread is only visible to paid subscribers of ${d.name}`)):Ue?(0,e.h)("p",null,B.description):null),sn?(0,e.h)("a",{className:"thread-head-cta",href:Tr,native:!0},_r," \u2192"):ge&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,g.getSubscribeUrl)(d,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:B.id}),className:"button primary subscribe-btn",native:!_e},(0,Bt.getSubscribeText)(d)),(0,e.h)("a",{href:(0,g.getSigninUrl)({for_pub:d.subdomain}),className:"button",native:!0},zn("Sign in")))),Ir&&(0,e.h)(gi.i$,{gap:Tn,style:{width:"100%"}},(0,e.h)(gi.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:Ri.Substitutions.HALF_MAGIC_COMMENTS_URL},zn("See the discussion"))),(0,e.h)(li.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:un},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),Xt&&B.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},zn("Email notifications are disabled for this thread.")," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},zn("Re-enable"))),!Ct&&!ge&&(0,e.h)(le,{onVisible:()=>this.onBottomReached()})))))}}LO(pm,"contextType",wc.E);const fm=(0,P.fz)(pm);class kO extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const Wc=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var BO=Object.defineProperty,UO=Object.defineProperties,FO=Object.getOwnPropertyDescriptors,hm=Object.getOwnPropertySymbols,WO=Object.prototype.hasOwnProperty,jO=Object.prototype.propertyIsEnumerable,mm=(r,n,d)=>n in r?BO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,HO=(r,n)=>{for(var d in n||(n={}))WO.call(n,d)&&mm(r,d,n[d]);if(hm)for(var d of hm(n))jO.call(n,d)&&mm(r,d,n[d]);return r},KO=(r,n)=>UO(r,FO(n));const VO=r=>(0,e.h)(T.l,KO(HO({},r),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var zO=Object.defineProperty,$O=(r,n,d)=>n in r?zO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,GO=(r,n,d)=>($O(r,typeof n!="symbol"?n+"":n,d),d);class ZO extends e.Component{constructor(){super(...arguments),GO(this,"onSortCommentsClicked",n=>{this.sortMenuRef.toggle(),this.props.onSortSelected(n)})}render({sort:n,loading:d,pub:B}){const Q=(0,Ei.default)("like_comments_enabled");return(0,e.h)("div",{className:i()("comments-page-sort-controls",{loading:d})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Li.Sh)(n,B.language)),(0,e.h)(VO,{height:"6"})),(0,e.h)(Si.ZP,{className:"comments-page-sort-menu-dropdown",ref:ce=>this.sortMenuRef=ce},(0,Li.Hz)({likesEnabled:Q,language:B.language}).map(({key:ce,text:ye})=>(0,e.h)(Zt.Z,{className:n===ce?"selected":"",onClick:()=>this.onSortCommentsClicked(ce)},ye)))))}}const gm=ZO;var YO=Object.defineProperty,JO=Object.defineProperties,QO=Object.getOwnPropertyDescriptors,vm=Object.getOwnPropertySymbols,XO=Object.prototype.hasOwnProperty,qO=Object.prototype.propertyIsEnumerable,jc=(r,n,d)=>n in r?YO(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Hc=(r,n)=>{for(var d in n||(n={}))XO.call(n,d)&&jc(r,d,n[d]);if(vm)for(var d of vm(n))qO.call(n,d)&&jc(r,d,n[d]);return r},eS=(r,n)=>JO(r,QO(n)),Kc=(r,n,d)=>(jc(r,typeof n!="symbol"?n+"":n,d),d),_s=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const tS=30*1e3;class _m extends e.Component{constructor(n,d){super(n,d),Kc(this,"modalRef",(0,e.createRef)(null)),Kc(this,"onWindowVisibilityChange",()=>{(0,E.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},n.post&&n.post.slug===n.slug&&(this.state.post=n.post),this.state.sort=n.sort||this.state.post&&this.state.post.default_comment_sort||n.publication.default_comment_sort||"best_first",this.state.comments=n.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return _s(this,null,function*(){var n;const{iString:d,inline:B,user:Q}=this.props;if(yield this.shouldPageShowSmartBanner(),(0,E.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),this.emitAppleSmartAppBannerMetric(),(n=this.props.matches)!=null&&n.feedCommentUrl){const ce=this.props.matches.feedCommentUrl,ye=new URL(location.toString());ye.searchParams.delete("feedCommentUrl"),history.replaceState({},"",ye),this.props.popToast(_e=>(0,e.h)(_.FN,eS(Hc({},_e),{text:d("Note Shared."),cta:d("View Now"),href:ce})),{ttl:1e4})}})}componentWillUnmount(){(0,E.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(n,d){return _s(this,null,function*(){if(n.slug!==this.props.slug||d.sort!==this.state.sort){const B=this.props.post&&this.props.post.slug===this.props.slug;yield(0,E.setState)(this,{post:B?this.props.post:null,comments:null}),yield this.loadPost(),this.emitAppleSmartAppBannerMetric()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let B=0;(0,Li.hO)(this.state.comments,()=>B++),this.state.post.comment_count!==B&&(this.state.post.comment_count=B,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:n}=this.state;(0,y.j)(y.FP.COMMENTS_VIEWED,{post_id:n.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(n.type==="thread"||(0,Bt.canSeeComments)(this.props.user,n))&&(0,y.j)(y.FP.COMMENT_PAYWALL_SHOWN,{post_id:n.id,post_type:n.type}),n.type==="thread"&&this.props.user&&Promise.resolve(zt().post(`/api/v1/posts/${n.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),tS)}areCommentsSSRd(){return!!this.props.post}emitAppleSmartAppBannerMetric(){var n;this.state.pageCanShowSmartBanner&&(0,y.j)(y.FP.APPLE_SMART_APP_BANNER_MAYBE_SEEN,{post_id:(n=this.state.post)==null?void 0:n.id,comment_id:this.props.commentId,page:"post-comments"})}shouldPageShowSmartBanner(){return _s(this,null,function*(){var n,d;let B=!!document.querySelector('meta[name="apple-itunes-app"]');!B&&this.areCommentsSSRd()&&(0,x.isIos)()&&(0,E.isSafari)()&&(B=this.context.getExperimentVariant("apple_smart_banners_on_post_pages")==="treatment"||((n=this.props.user)==null?void 0:n.id)===263713||((d=this.props.publication)==null?void 0:d.subdomain)==="thirdcluster",this.context.exposeExperiment("apple_smart_banners_on_post_pages")),yield(0,E.setState)(this,{pageCanShowSmartBanner:B})})}loadPost(){return _s(this,null,function*(){if(this.state.comments&&!(0,E.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const n=this.state.comments&&this.state.comments.length>0;let d;this.state.comments&&(d=null,(0,Li.hO)(this.state.comments,B=>{!B.deleted&&B.date&&(!d||B.date>d)&&(d=B.date)}));try{const B=this.props.slug,Q=this.state.sort,ce={token:this.props.post_reaction_token||"",all_comments:!0,sort:Q,last_comment_at:d};this.state.post&&this.props.commentId&&(ce.comment_id=this.props.commentId);const ye=yield zt().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${B}`).query(ce);if(this.setState({loading:!1}),B!==this.props.slug||Q!==this.state.sort)return;let _e=this.state.sort;!this.state.post&&ye.body.default_comment_sort&&(_e=ye.body.default_comment_sort),(!this.state.post||!this.state.comments||ye.body.comments)&&(yield(0,E.setState)(this,{post:this.state.post||ye.body,comments:ye.body.comments||[],sort:_e}))}catch(B){console.error("Failed to load post:",B),B.statusCode===400&&(yield(0,E.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!n&&this.state.comments&&this.state.comments.length>0&&(0,E.scrollToHash)(),(0,E.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(n){this.setState({comments:qs(this.state.comments,n)})}onSortSelected(n){this.setState({sort:n}),(0,y.j)(y.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:n})}triggerShareOnLoad(){var n;(n=this.shareDialogRef)!=null&&n.current&&(0,g.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(n){var d;const{publication:B}=this.props;return((d=(B==null?void 0:B.parent_publication)||B)==null?void 0:d.subdomain)===n}render({slug:n,user:d,freeSignup:B,freeSignupEmail:Q,publication:ce,post_reaction_token:ye,inline:_e,commentId:ge,selectionFromQuery:Ue,freeTrialCoupon:Ct,show_reaction_upsell:xt,bannedFromNotes:Yt,iString:sn,iPlural:Xt,iTemplate:Vt},{sort:un,post:Tn,comments:zn,notAllowedToFetchComments:nr,reactionSigninComment:Xn,pageCanShowSmartBanner:mr}){if(!Tn||!ce.community_enabled)return!_e&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(kO,null)));const vr=ce.community_enabled&&Tn&&Tn.write_comment_permissions!=="none",_r=nr||vr&&!(0,Bt.canSeeComments)(d,Tn),Tr=(Ir,xr)=>_s(this,null,function*(){return bm({user:d,reactionToken:ye,comments:zn,id:Ir,reacted:xr,setComments:Mr=>this.setState({comments:Mr}),onNeedsSignin:Mr=>new Promise(br=>this.setState({reactionSigninComment:Mr},()=>this.modalRef.current.open(br)))})});return(0,e.h)("div",{className:"comments-page"},ge&&(zn==null?void 0:zn.length)>0?(0,e.h)(IO,{comment:zn[0],post:Tn,publication:ce,pageCanShowSmartBanner:mr}):(0,e.h)(pu,{post:Tn,publication:ce,isCommentPage:!this.props.inline,selection:Ue,pageCanShowSmartBanner:mr}),(0,e.h)(Ha.ZP,{ref:this.shareDialogRef,user:d,pub:ce,post:Tn,reaction_token:ye,comments:zn,commentId:ge}),!_e&&!ge&&(0,e.h)("div",{className:"container"},(0,e.h)(fm,{pub:ce,post:Object.assign({},Tn,{comment_url_override:(0,g.getPostUrl)(ce,Tn,{comments:!0})}),user:d,freeSignup:B,freeSignupEmail:Q,hidden:!(0,Bt.isUUID)(n)&&Tn.hidden,truncated:Tn.type!=="thread",post_reaction_token:ye,onChange:Ir=>this.setState(Ir),showUnsubscribeNotice:!0,gap:0,showShare:!1},(0,e.h)("div",{className:"full-container-border"}))),_r&&(0,e.h)("div",{className:"container"},(0,e.h)(Qs,{user:d,freeSignupEmail:Q,freeSignup:B,publication:ce,post:Tn,title:Tn.type==="podcast"?sn("Comments on this episode are for paid subscribers"):sn("Comments on this post are for paid subscribers"),reauthenticationTitle:sn("To see the comments, please re-authenticate."),coupon:Ct})),Tn.type==="thread"||(0,Bt.canSeeComments)(d,Tn)?(0,e.h)("div",{className:"container"},zn&&(0,e.h)(_.gq,{alignItems:"center",justifyContent:"space-between",paddingY:8},(0,e.h)("div",{className:"comments-heading"},Xt("1 Comment","%1 Comments",Tn.comment_count)),!_e&&!ce.invite_only&&(0,Bt.canSeeComments)(d,Tn)&&(0,e.h)(_.zx,{priority:"secondary-theme",leftIcon:(0,e.h)(Fc.Z,null),onClick:()=>{var Ir;(Ir=this.shareDialogRef.current)==null||Ir.open()}},sn("Share"))),zn&&zn.length>0&&!vr&&(0,e.h)(ym,{post:Tn}),vr&&(0,e.h)(ol,{user:d,freeSignup:B,freeSignupEmail:Q,pub:ce,post:Tn,token:ye,autoFocus:NC(),onSuccess:Ir=>this.setState({comments:[Ir].concat(zn)}),bannedFromNotes:Yt}),(!zn||zn.length>0)&&!nr&&!ge&&(0,e.h)(gm,{sort:un,loading:!zn,onSortSelected:Ir=>this.onSortSelected(Ir),pub:ce}),ge&&zn&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,g.getPostUrl)(ce,Tn,{comments:!0,commentId:ge,highlightComment:!0})},sn("\u2B60 Return to thread")),!zn&&!nr?[(0,e.h)(Wc,null),(0,e.h)(Wc,null)]:zn.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(cu,{key:`post:${Tn.id}`,user:d,freeSignup:B,freeSignupEmail:Q,pub:ce,post:Tn,comments:zn,reaction_token:ye,depth:0,collapseAtDepth:_e?10:zn.length>3&&un==="most_recent_first"?PO:EO,onChange:Ir=>this.onChange(Ir),pageSize:_e||this._isPub("astralcodexten")?wO:Tn.type==="thread"?CO:rm,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Tr,noRestack:!0}))]:null):null,Xn&&(0,e.h)(Ka.oq,{comment:Xn,pub:ce,user:d,react:()=>Tr(Xn.id,!0),modalRef:this.modalRef}),xt?(0,e.h)(dm.hF,{user:d,pub:ce,post:Tn}):null)}}Kc(_m,"contextType",He.kx);const Vc=(0,_.dd)((0,P.fz)(_m)),ym=({post:r})=>{const{iString:n}=(0,P.M1)();return(0,e.h)("div",{className:"locked-comments"},r.type==="podcast"?n("Commenting has been turned off for this episode"):r.type==="adhoc_email"?n("Commenting has been turned off for this email"):n("Commenting has been turned off for this post"))};function bm(r){return _s(this,arguments,function*({user:n,reactionToken:d,comments:B,id:Q,reacted:ce,setComments:ye,onNeedsSignin:_e}){var ge;const Ue=Sh(Q,B);if(!Ue)return;const Ct=Hc({},Ue);(0,Ka.E6)(n,Ct,ce),ye(qs(B.slice(0),Ct));try{yield(0,Ka.xl)(Ct,!0,ce,d)}catch(xt){if((0,Ka.E6)(n,Ct,!ce),ye(qs(B.slice(0),Hc({},Ct))),((ge=xt.response)==null?void 0:ge.statusCode)!==401){alert((0,E.getNetworkErrorMessage)(xt));return}yield _e({comment:Ct})}})}const nS=({comments:r,expectedCommentCount:n,inputRef:d,post:B,pub:Q,sort:ce,token:ye,user:_e,onAddComment:ge,onUpdateComment:Ue,onUpdateSort:Ct})=>{const xt=!(0,Bt.canSeeComments)(_e,B),{iString:Yt}=(0,P.M1)();return xt?(0,e.h)(Qs,{user:_e,publication:Q,post:B,title:Yt("Comments on this episode are for paid subscribers"),reauthenticationTitle:Yt("To see the comments, please re-authenticate.")}):(0,e.h)("div",null,(0,e.h)(ol,{ref:d,formClassName:"tw-m-0",user:_e,pub:Q,post:B,token:ye,onSuccess:ge}),n>0&&(0,e.h)(gm,{sort:ce,loading:!r,onSortSelected:Ct,pub:Q}),r?(0,e.h)(cu,{comments:r,post:B,pub:Q,reaction_token:ye,user:_e,onChange:Ue,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},cC()(Math.min(n,5),()=>(0,e.h)(Wc,null))))};var rS=dn(91613),Em=dn(25597),oS=Object.defineProperty,iS=Object.defineProperties,aS=Object.getOwnPropertyDescriptors,Pm=Object.getOwnPropertySymbols,sS=Object.prototype.hasOwnProperty,lS=Object.prototype.propertyIsEnumerable,Cm=(r,n,d)=>n in r?oS(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,uS=(r,n)=>{for(var d in n||(n={}))sS.call(n,d)&&Cm(r,d,n[d]);if(Pm)for(var d of Pm(n))lS.call(n,d)&&Cm(r,d,n[d]);return r},cS=(r,n)=>iS(r,aS(n));const wm=r=>(0,e.h)(T.l,cS(uS({},r),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function Om({post:r,pub:n,user:d,showDate:B,showDatetime:Q,isStatic:ce,className:ye,postReactionToken:_e,onChange:ge,allowEdit:Ue,hidePinning:Ct,showEmailSent:xt,allowSendEmail:Yt,allowMobileFooter:sn,reactors:Xt,onCommentsClick:Vt,onClipClick:un,useWashBackground:Tn,showRestackModal:zn,setFooterShown:nr}){const Xn=(0,x.isMobile)({checkFirst4:!0}),mr=typeof window=="undefined",vr=(0,It.xR)(),_r=(0,Bt.getBylineUsers)(r),{language:Tr}=(0,P.M1)(),Ir=Q?Zn()(r.post_date).locale(Tr).standardDatetime():ce?Zn()(r.post_date).locale(Tr).standardDate():Zn()(r.post_date).locale(Tr).standardDateOrTime(),{getSettingFor:xr}=(0,Le.So)(),Mr=n.bylines_enabled&&(0,Bt.getPrintedByline)(n,r)&&r.type!=="podcast",br=Mr&&n.byline_images_enabled&&_r.some(({photo_url:ho})=>!!ho),$r=r.type!=="page",Yr=Xn&&br&&_r.length>2,Jr=(n==null?void 0:n.community_enabled)&&r.slug&&!r.is_draft&&(0,Bt.showCommentsOnPost)({publication:n,post:r}),ao=Mr&&_r.length===1&&_r[0].is_guest&&_r[0].primaryPublicationSubscribeUrl&&_r[0].primaryPublicationId!==n.id&&!n.parent_publication&&!r.is_draft&&!(0,Ei.default)("dont_show_guest_byline"),Cr=(0,Bt.oxfordComma)(_r.map(ho=>ce?(0,e.h)("a",{className:"byline-profile-link",href:(0,g.getProfileUrl)(ho,n,{base:ce}),onClick:Co=>Co.stopPropagation()},ho.name):(0,e.h)(Se.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(Xi.Ct,{subject:ho,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,g.getProfileUrl)(ho,n,{base:ce}),onClick:Co=>Co.stopPropagation()},ho.name)),!ce&&(0,e.h)(Wo.s,{tier:ho.bestseller_tier,size:"sm",userId:ho.id})))),to=!r.is_draft&&(0,rS.x)(d,{enable_restacking:!!xr("enable_restacking")},r,n,ce);return(0,e.h)("div",{className:i()("post-subheader",ye)},(0,e.h)("div",{className:i()("left",{vertical:Yr})},br&&(ce?(0,e.h)(Xs.Pn,{pub:n,post:r}):(0,e.h)(Xs.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:_r.map(({id:ho,name:Co,photo_url:vo})=>({id:ho,name:Co,photo_url:vo})),faceUtmSource:"author-byline-face",elevated:Tn})),(0,e.h)("div",{className:"label-stack"},Mr&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},Cr)),ao&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:_r[0].primaryPublicationUrl,title:_r[0].primaryPublicationName},_r[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:_r[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},r.type==="adhoc_email"?(0,e.h)(wm,{className:"audience-icon adhoc-email-icon",height:16,isStatic:ce}):$r&&(0,lo.isPaidAudience)(r.audience)&&(0,e.h)(Em.Z,{audience:r.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:ce,thin:!0}),(B||Q)&&r.post_date&&!r.is_draft&&(0,e.h)("time",{dateTime:Zn()(r.post_date).toISOString()},Ir),r.is_draft&&(B||Q)&&"Draft"))),(0,e.h)("div",{className:"right"},Xn&&!mr&&sn&&(0,e.h)(li.mt,{post:r,pub:n,user:d,isStatic:ce,onChange:ge,allowEdit:Ue,hidePinning:Ct,showEmailSent:xt,allowSendEmail:Yt,hideComments:!Jr,onCommentsClick:Vt,showRestackButton:to,showRestackModal:zn,setFooterShown:nr}),!Xn&&(0,e.h)(li._2,{post:r,pub:n,user:d,isStatic:ce,style:"button",onChange:ge,allowEdit:Ue,hidePinning:Ct,showEmailSent:xt,allowSendEmail:Yt,labelStyle:"counts-or-none",hideComments:!Jr,onCommentsClick:Vt,onClipClick:un,position:"post-header",showRestackButton:to,showRestackModal:zn,showClipping:r.type==="podcast",editButtonIsLast:!0})))}var dS=dn(22939),pS=dn(99758),fS=Object.defineProperty,hS=Object.defineProperties,mS=Object.getOwnPropertyDescriptors,Sm=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,vS=Object.prototype.propertyIsEnumerable,xm=(r,n,d)=>n in r?fS(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,_S=(r,n)=>{for(var d in n||(n={}))gS.call(n,d)&&xm(r,d,n[d]);if(Sm)for(var d of Sm(n))vS.call(n,d)&&xm(r,d,n[d]);return r},yS=(r,n)=>hS(r,mS(n));const Am=r=>(0,e.h)(T.l,yS(_S({},r),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var bS=Object.defineProperty,ES=Object.defineProperties,PS=Object.getOwnPropertyDescriptors,hu=Object.getOwnPropertySymbols,Dm=Object.prototype.hasOwnProperty,Tm=Object.prototype.propertyIsEnumerable,Im=(r,n,d)=>n in r?bS(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,CS=(r,n)=>{for(var d in n||(n={}))Dm.call(n,d)&&Im(r,d,n[d]);if(hu)for(var d of hu(n))Tm.call(n,d)&&Im(r,d,n[d]);return r},wS=(r,n)=>ES(r,PS(n)),OS=(r,n)=>{var d={};for(var B in r)Dm.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&hu)for(var B of hu(r))n.indexOf(B)<0&&Tm.call(r,B)&&(d[B]=r[B]);return d};const SS=r=>{var n=r,{strokeWidth:d=1.5}=n,B=OS(n,["strokeWidth"]);return(0,e.h)(T.l,wS(CS({},B),{strokeWidth:d,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var Mm=dn(46209);const Rm=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:r=>{document.location.href=`itpc://${(0,g.stripProtocol)(r)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:r=>{document.location.href=`podcast://${(0,g.stripProtocol)(r)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:r=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(r).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:r=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(r)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:r=>{document.location.href=`pktc://subscribe/${(0,g.stripProtocol)(r)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:r=>{document.location.href=`downcast://${(0,g.stripProtocol)(r)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:r=>{document.location.href=`podcastaddict://${(0,g.stripProtocol)(r)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:r=>{(0,E.copyToClipboard)(r),document.location.href=`castros://subscribe/${(0,g.stripProtocol)(r)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:r=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(r)}`}}],Lm=({className:r,pub:n,utmSource:d})=>{const B=typeof window!="undefined"?window.location.href:"",Q=(0,$.getSubscribeUrl)(n,{params:{utm_source:d,simple:!0,next:B}});return(0,e.h)(ct.Z,{className:i()("primary tw-text-sm tw-font-semibold",r),href:Q},(0,Bt.getSubscribeText)(n))};var xS=Object.defineProperty,mu=Object.getOwnPropertySymbols,Nm=Object.prototype.hasOwnProperty,km=Object.prototype.propertyIsEnumerable,Bm=(r,n,d)=>n in r?xS(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Um=(r,n)=>{for(var d in n||(n={}))Nm.call(n,d)&&Bm(r,d,n[d]);if(mu)for(var d of mu(n))km.call(n,d)&&Bm(r,d,n[d]);return r},AS=(r,n)=>{var d={};for(var B in r)Nm.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&mu)for(var B of mu(r))n.indexOf(B)<0&&km.call(r,B)&&(d[B]=r[B]);return d},DS=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const TS=dn(39776),IS="hide_media_download_option",MS="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",zc=({feedUrl:r,post:n,pub:d,sectionId:B,hasAccessToPrivatePodcastFeed:Q,fileSrc:ce,icon:ye})=>{const[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,dS.E)(),{iString:xt}=(0,P.M1)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:i()("tw-font-sans audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",_e?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:Ct},ye,(0,e.h)("span",{className:"sm:tw-hidden"},xt("Open in player")),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},xt("Listen on")),(0,e.h)(pS.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(RS,{feedUrl:r,menuRef:Ue,post:n,pub:d,sectionId:B,onToggle:ge,hasAccessToPrivatePodcastFeed:Q,fileSrc:ce}))},Fm=({feedUrl:r,pub:n,post:d})=>{(0,y.j)(y.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:r}),document.location.href=(0,g.getPostAppLinkUrl)(n==null?void 0:n.subdomain,d==null?void 0:d.slug,{redirect:"app-marketing",source:"podcast-dropdown"})},RS=({feedUrl:r,menuRef:n,post:d,pub:B,sectionId:Q,onToggle:ce,hasAccessToPrivatePodcastFeed:ye,fileSrc:_e})=>{const ge=(0,E.isMobileBrowser)(),Ue=()=>{(0,y.j)(y.FP.PODCAST_FEED_URL_COPIED),(0,E.copyToClipboard)(r),alert("Copied")};return(0,e.h)(Si.ZP,{ref:n,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Ct})=>{(0,y.j)(y.FP.PODCAST_LISTEN_ON_CLICKED),ce(Ct)}},ge?(0,e.h)(kS,{feedUrl:r,pub:B,onCopyFeed:Ue,onClickSubstackApp:()=>Fm({feedUrl:r,pub:B,post:d}),hasAccessToPrivatePodcastFeed:ye,fileSrc:_e}):(0,e.h)(BS,{feedUrl:r,pub:B,sectionId:Q,onCopyFeed:Ue,onClickSubstackApp:()=>Fm({feedUrl:r,pub:B,post:d}),hasAccessToPrivatePodcastFeed:ye,fileSrc:_e}))},Wm=({fileSrc:r})=>TS.getConfigFor(IS)?null:(0,e.h)(al,{onClick:()=>{(0,E.downloadSrc)((0,g.updateQuery)(r,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(ps.Z,null)),(0,e.h)("span",null,"Download MP3")),LS=()=>{const r=["Podcast Addict"],n=["Apple Podcasts"];return Rm.filter(d=>(0,E.isIOs)()?n.includes(d.name):r.includes(d.name))},NS=()=>{const r=["Apple Podcasts"],n=[];return Rm.filter(d=>(0,E.isMac)()?r.includes(d.name):n.includes(d.name))},kS=({feedUrl:r,pub:n,onCopyFeed:d,onClickSubstackApp:B,hasAccessToPrivatePodcastFeed:Q,fileSrc:ce})=>{var ye;const{iString:_e}=(0,P.M1)();return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},_e("Listen in app")),(0,e.h)(al,{onClick:B},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Mm.Z,null)),(0,e.h)("span",null,_e("Substack App"))),r&&LS().map(({name:ge,icon:Ue,onClick:Ct})=>(0,e.h)(al,{key:ge,onClick:()=>{(0,y.j)(y.FP.PODCAST_APP_LINK_CLICK,{appName:ge,feedUrl:r}),Ct(r)}},(0,e.h)("img",{src:Ue,alt:`${ge} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},ge))),ce&&(0,e.h)(Wm,{fileSrc:ce}),r?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},_e("Private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},_e("Listen to paid episodes on your favorite podcast app with your private RSS feed.")," ",(0,e.h)(vu,null)),(0,e.h)("div",null,(0,e.h)(gu,{className:"tw-w-full",onClick:d},(0,e.h)(Am,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,_e("Copy link"))))):Q?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},_e("Private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},_e("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,e.h)("div",null,(0,e.h)(jm,{pub:n}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(ye=n.podcast_title)!=null?ye:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},_e("Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app.")," ",(0,e.h)(vu,null)),(0,e.h)(Lm,{className:"tw-w-full",pub:n,utmSource:"podcast_post_listen_on"})))},BS=({feedUrl:r,pub:n,sectionId:d,onCopyFeed:B,onClickSubstackApp:Q,hasAccessToPrivatePodcastFeed:ce,fileSrc:ye})=>{const[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,t.eJ)(null),{iString:xt,iTemplate:Yt}=(0,P.M1)(),sn=()=>DS(void 0,null,function*(){try{(0,y.j)(y.FP.PODCAST_EMAIL_LINK_CLICKED),yield zt().post("/api/v1/subscription/send_podcast_email").send({section_id:d}),alert(xt("Email sent")),ge(!0)}catch(Xt){console.error("Failed to send podcast setup email:",Xt),Ct(Xt)}});return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(al,{onClick:Q},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(Mm.Z,null)),(0,e.h)("span",null,"Substack App")),r&&NS().map(({name:Xt,icon:Vt,onClick:un})=>(0,e.h)(al,{key:Xt,onClick:()=>{(0,y.j)(y.FP.PODCAST_APP_LINK_CLICK,{appName:Xt,feedUrl:r}),un(r)}},(0,e.h)("img",{src:Vt,alt:`${Xt} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},Xt))),ye&&(0,e.h)(Wm,{fileSrc:ye})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},r?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},xt("Your private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},xt("Copy your RSS link and paste it in your podcast app.")," ",(0,e.h)(vu,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(gu,{onClick:B},(0,e.h)(Am,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,xt("Copy link"))),(0,e.h)(gu,{onClick:sn,disabled:_e},(0,e.h)(SS,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,xt("Email link")))),Ue&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,E.getNetworkErrorMessage)(Ue))):ce?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},xt("Your private RSS feed")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},xt("Listen to paid episodes on your favorite podcast app with your private RSS feed.")),(0,e.h)("div",null,(0,e.h)(jm,{pub:n}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},xt("Get a private RSS link for listening")),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},n.podcast_title?Yt`Subscribe to ${n.podcast_title} to get a private link for listening in your favorite podcast player.`:xt("Subscribe to this podcast to get a private link for listening in your favorite podcast player.")," ",(0,e.h)(vu,null)),(0,e.h)(Lm,{pub:n,utmSource:"podcast_post_listen_on"}))))},al=r=>{var n=r,{children:d,href:B}=n,Q=AS(n,["children","href"]);const ce="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return B?(0,e.h)("a",Um({className:i()("tw-no-underline",ce),href:B},Q),d):(0,e.h)("div",Um({className:i()("tw-cursor-pointer",ce),role:"button"},Q),d)},gu=({children:r,className:n="",disabled:d=!1,onClick:B})=>(0,e.h)(ct.Z,{className:i()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",n),onClick:B,disabled:d},r),vu=()=>{const{iString:r}=(0,P.M1)();return(0,e.h)("a",{href:MS,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},r("Learn about RSS."))},jm=({pub:r})=>{const{iString:n}=(0,P.M1)();return(0,e.h)(gu,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(Zt.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,g.getPodcatcherSetupUrl)(r),onClick:()=>{}},n("Set up feed")))};var US=dn(97864);const FS=({post:r})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,g.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:r.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(US.Z,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var Hm=dn(18165);const WS=({isFreeSubscribed:r,isSubscribed:n,pub:d,post:B,onGetDuration:Q,isPreview:ce,playerRef:ye,feedUrl:_e})=>(0,e.h)(Hm.Z,{ref:ye,feature:"Podcast",pub:d,src:B.podcast_url,duration:B.podcast_duration,autoPlay:!1,metricsPost:B,addToPodcastLink:null,onGetDuration:Q,render:({currentTime:ge,isPlaying:Ue,progress:Ct,progressBarRef:xt,progressBarOnMouseDown:Yt,remainingTime:sn,playbackRate:Xt,setPlaybackRate:Vt,skipBack:un,skipForward:Tn,togglePlayback:zn})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(Pa.PlayerControls,{isPlaying:Ue,onSkipBack:un,onSkipForward:Tn,onTogglePlayback:zn}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(Pa.PlaybackRateToggle,{onSetPlaybackRate:Vt,playbackRate:Xt,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(Pa.ProgressBar,{currentTime:ge,remainingTime:sn,containerRef:xt,progress:Ct,onMouseDown:Yt}),ce?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(zc,{feedUrl:_e,post:B,pub:d,sectionId:B.section_id,hasAccessToPrivatePodcastFeed:n||r,fileSrc:B.podcast_url}))}),jS=({expiry:r,podcastName:n,pub:d,postId:B})=>{const Q=Zn()(r).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",n," ends ",Q,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(ra.z,{look:"button",variant:"themed-primary",size:"medium",href:(0,g.getSubscribeUrl)(d,{utm_source:"continue_your_support",utm_medium:"web",utm_content:B,simple:!0,next:document.location.href})},"Continue your support"))},HS=({freeSignupEmail:r,pub:n,source:d,user:B,onSuccess:Q})=>{const ce=typeof window!="undefined"&&n.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(et.Z,{user:B,pub:n,freeSignupEmail:r,source:d,onSuccess:Q,useSubscribeLink:ce,submitButtonText:(0,Bt.getSubscribeText)(n)}))},$c="podcast_post_header",KS=({freeSignupEmail:r,isFreeSubscribed:n,pub:d,user:B})=>{const[Q,ce]=(0,t.eJ)(!1),[ye,_e]=(0,t.eJ)(!1),ge=(0,t.sO)(null),Ue=d.section?d.section.description:d.podcast_description,Ct=Yt=>{if(d.plans){let sn=(0,g.getSubscribeUrl)(d,{just_signed_up:!0,referral_token:Yt.body.referral_token});Yt.body.prompt_to_login&&(sn=`/account/login?redirect=${encodeURIComponent(sn)}&email=${encodeURIComponent(Yt.body.email)}`),document.location.href=sn}else window.location.reload()},xt=(0,t.I4)(()=>{ce(!Q)},[ce,Q]);return(0,t.bt)(()=>{const Yt=()=>{const Xt=ge.current&&ge.current.scrollHeight>ge.current.clientHeight;_e(Q||Xt)};Yt();const sn=(0,E.debounce)(Yt);return window.addEventListener("resize",sn),()=>{window.removeEventListener("resize",sn)}},[_e,ge,Q]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},Ue&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:ge,"data-testid":"podcast-description",className:i()({"podcast-description--clamped":!Q})},Ue),ye&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:xt},!Q&&(0,e.h)("span",null,"show more"),Q&&(0,e.h)("span",null," show less"))),n?(0,e.h)(ct.Z,{href:(0,g.getSubscribeUrl)(d,{utm_source:$c}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Bt.getSubscribeText)(d,{isFreeSubscribed:!0})):(0,E.isMobileBrowser)()?(0,e.h)(ct.Z,{href:(0,g.getSubscribeUrl)(d,{utm_source:$c,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Bt.getSubscribeText)(d)):(0,e.h)(Se.gq,{justifyContent:"center"},(0,e.h)(HS,{freeSignupEmail:r,pub:d,source:$c,user:B,onSuccess:Ct})))},_u={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou",backdrop:"frontend-podcast_post_page-PodcastPostHeader-module__backdrop--jaZvB",backdropHidden:"frontend-podcast_post_page-PodcastPostHeader-module__backdropHidden--Ebi0K",backdropVisible:"frontend-podcast_post_page-PodcastPostHeader-module__backdropVisible--ZT26O"};var Km=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const VS=({visible:r,className:n=void 0,style:d={}})=>{const[B,Q]=(0,t.eJ)(!1),[ce,ye]=(0,t.eJ)(r);(0,t.d4)(()=>{r?(ye(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Q(!0)})})):Q(!1)},[r]),(0,t.d4)(()=>{r&&ye(!0)},[r]);function _e(){r||ye(!1)}return ce?(0,e.h)("div",{className:`${_u.backdrop} ${B?_u.backdropVisible:_u.backdropHidden} ${n}`,onTransitionEnd:_e,style:d}):null},zS=({freeSignupEmail:r,isFreeSignup:n,isPaywall:d,post:B,pub:Q,magicToken:ce,user:ye,onChange:_e,onClickCommentButton:ge,onTopReached:Ue,playerRef:Ct,onFeedChange:xt,videoPlayerRef:Yt,reaction_token:sn})=>{var Xt;const Vt=(0,x.isMobile)({checkFirst4:!0}),un=!!(ye!=null&&ye.is_subscribed),Tn=!!(n||ye!=null&&ye.is_free_subscribed),[zn,nr]=(0,t.eJ)((Xt=B.podcast_duration)!=null?Xt:0),[Xn,mr]=(0,t.eJ)(null),[vr,_r]=(0,t.eJ)(!1);(0,t.d4)(()=>{if(!un&&!Tn)return;(()=>Km(void 0,null,function*(){const ao=yield zt().get("/api/v1/subscription/podcast_rss_url").query({token:ce,section_id:B.section_id});ao.body.podcast_rss_url&&(mr(ao.body.podcast_rss_url),xt(ao.body.podcast_rss_url))}))()},[Tn,un,ce]);const Tr=Jr=>{nr(Jr)},Ir=!Tn||!un&&!!Q.plans,xr=un&&(ye==null?void 0:ye.subscription_type)==="comp"&&Zn()(ye==null?void 0:ye.subscription_expiry).subtract(30,"days").isBeforeNow(),Mr=Tn&&!un&&(ye==null?void 0:ye.comp_expired_recently),br=(0,Bt.getBylineUsers)(B).sort((Jr,ao)=>Jr.id===Q.author_id?-1:ao.id===Q.author_id?1:Jr.is_guest&&!ao.is_guest?-1:!Jr.is_guest&&ao.is_guest?1:(Jr.name||"").localeCompare(ao.name||"")),$r=()=>{(0,y.j)(y.FP.VIDEO_CLIP_BUTTON_CLICKED,{post_id:B.id}),_r(!0)},Yr=d?vh:ls.Z;return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)(VS,{visible:vr,style:{zIndex:1}}),(0,e.h)("div",{className:"container"},(0,e.h)(le,{onVisible:Ue}),B.videoUpload&&(0,e.h)(Yr,{mediaUpload:B.videoUpload,pub:Q,post:B,autoPlay:!1,restorePlaybackLocation:!0,reaction_token:sn,ref:Yt,clippingMode:vr,onClippingModeCancel:()=>_r(!1)}),(0,e.h)($S,{post:B,podcastDuration:zn,hideEpisodeImage:!!B.videoUpload}),(0,e.h)(Om,{allowEdit:ye==null?void 0:ye.is_contributor,allowMobileFooter:!0,isStatic:!1,post:B,postReactionToken:ce,pub:Q,showDate:!0,showDatetime:!1,user:ye,onChange:_e,onCommentsClick:ge,onClipClick:$r,useWashBackground:!0}),B.videoUpload?null:d&&!(0,fi.podcastPostIsFreePreview)(B)?(0,e.h)(FS,{post:B}):(0,e.h)(WS,{isFreeSubscribed:Tn,isSubscribed:un,post:B,pub:Q,magicToken:ce,onGetDuration:Tr,isPreview:(0,fi.podcastPostIsFreePreview)(B),playerRef:Ct,feedUrl:Xn}),Vt&&(0,e.h)(zc,{feedUrl:Xn,post:B,pub:Q,sectionId:B.section_id,hasAccessToPrivatePodcastFeed:un||Tn,fileSrc:B.podcast_url}),Q.bylines_enabled&&br&&br.length?(0,e.h)(_.hs,{direction:"column",gap:24,paddingTop:B.videoUpload&&!Vt?0:24},(0,e.h)(_.xv.H4,{translated:!0,color:"pub-primary-text"},"Appears in this episode"),br.map(Jr=>(0,e.h)(_.hs,{direction:"column",gap:24},(0,e.h)(_.hs,{direction:"row",alignItems:"center",gap:16},(0,e.h)(_.hs,null,(0,e.h)(Xs.ZP,{className:_u.facepile,maximum:1,hoverProfiles:!0,faces:[Jr],faceUtmSource:"author-byline-face-podcast",elevated:!0})),(0,e.h)(_.hs,{direction:"column"},(0,e.h)(_.gq,{gap:4,alignItems:"center"},(0,e.h)(_.xv.B4,{color:"pub-primary-text",weight:"bold"},Jr.name),(0,e.h)(Wo.s,{userId:Jr.id,tier:Jr.bestseller_tier,size:"sm"})),Jr.primaryPublicationName&&(Jr.primaryPublicationUrl?(0,e.h)(_.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes"," ",(0,e.h)("a",{style:{textDecoration:"none"},href:Jr.primaryPublicationUrl},I18N.p(Jr.primaryPublicationName))," ",(0,e.h)("a",{href:`${Jr.primaryPublicationUrl}/subscribe`},"Subscribe")):(0,e.h)(_.xv.B4,{color:"pub-secondary-text",translated:!0},"Writes ",I18N.p(Jr.primaryPublicationName)))))))):null,xr||Mr?(0,e.h)(jS,{expiry:ye.subscription_expiry,postId:B.id,podcastName:Q.podcast_title,pub:Q}):Ir?(0,e.h)(KS,{freeSignupEmail:r,isFreeSubscribed:Tn,pub:Q,user:ye}):null))};function $S({post:r,podcastDuration:n,hideEpisodeImage:d}){const{language:B}=(0,P.M1)();return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},!d&&r.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,$.imginary)(r.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},r.post_date?Zn()(r.post_date).locale(B).standardDate():Zn()().locale(B).standardDate(),n>0&&` \u2022 ${(0,Bt.formatPodcastDuration)(n)}`),r.title&&(0,e.h)("h1",{className:i()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":r.title.length<60,"tw-text-3xl sm:tw-text-3xl":r.title.length>=60&&r.title.length<110,"tw-text-2xl sm:tw-text-2xl":r.title.length>=110&&r.title.length<140,"tw-text-xl sm:tw-text-xl":r.title.length>=140})},r.title),r.subtitle&&(0,e.h)("h3",{className:i()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":r.subtitle.length<110,"tw-text-base":r.subtitle.length>=110})},r.subtitle)))}function $8({post:r,pub:n,user:d,isPaywall:B}){const Q=!!(d!=null&&d.is_subscribed),ce=!!(d.is_subscribed||d.is_free_subscribed),ye="",[_e,ge]=useState(null);return useEffect(()=>{if(r.videoUpload||!Q&&!ce)return;(()=>Km(this,null,function*(){const Ct=yield request.get("/api/v1/subscription/podcast_rss_url").query({token:ye,section_id:r.section_id});Ct.body.podcast_rss_url&&ge(Ct.body.podcast_rss_url)}))()},[ce,Q,ye]),r.videoUpload?h(VideoPlayer,{mediaUpload:r.videoUpload,pub:n,autoPlay:!1,restorePlaybackLocation:!0}):B&&!podcastPostIsFreePreview(r)?h(PodcastAudioPaywall,{post:r}):h(PodcastPostAudioPlayer,{isFreeSubscribed:ce,isSubscribed:Q,post:r,pub:n,magicToken:ye,isPreview:podcastPostIsFreePreview(r),feedUrl:_e})}var GS=dn(62686),ZS=dn(77951);const YS=(0,di.Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),JS={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},QS=({label:r,icon:n,isActive:d=!1,size:B,onClick:Q,useSubstackTheme:ce=!1,isDisabled:ye=!1})=>{const _e=JS[B];return(0,e.h)("div",{className:i()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",_e,{"tw-cursor-pointer":!ye||d,"tw-cursor-not-allowed tw-opacity-50":ye&&!d,"tw-border-b-pub-primary-text tw-text-pub-primary-text":d&&!ce,"tw-text-pub-secondary-text":!d&&!ce,"tw-border-b-substack-primary tw-text-substack-primary":d&&ce,"tw-text-substack-secondary":!d&&ce,"hover:tw-bg-pub-wash":!ce&&!d&&!ye,"hover:tw-bg-substack-wash":ce&&!d&&!ye}),disabled:ye,onClick:ye?()=>{}:Q,role:"button"},typeof n=="function"?n({active:d}):n,(0,e.h)("span",null,r))},XS=({items:r,size:n="large",onSelect:d,activeTab:B,useSubstackTheme:Q=!1,className:ce})=>(0,e.h)("div",{className:i()("tw-flex",ce)},r.map(({key:ye,icon:_e,label:ge,isDisabled:Ue})=>(0,e.h)(QS,{isActive:ye==B,icon:_e,onClick:()=>{d(ye)},size:n,label:ge,useSubstackTheme:Q,isDisabled:Ue}))),qS=({activeTab:r,commentCount:n,onClickTab:d,loadedWithHeaderLink:B,transcription:Q,hideComments:ce,showPlayers:ye,feedUrl:_e,pub:ge,post:Ue})=>{const{iString:Ct,iPlural:xt}=(0,P.M1)(),[Yt,sn]=(0,t.eJ)(B);return(0,t.d4)(()=>{if(typeof window=="undefined"||Yt){sn(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${r}`):window.location.hash=`#${r}`},[r]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container tw-flex tw-justify-between tw-items-center"},(0,e.h)(XS,{items:[{key:"details",icon:(0,e.h)(GS.Z,{height:18}),label:Ct("Episode details")},...ce?[]:[{key:"comments",icon:({active:Xt})=>(0,e.h)(ac.Z,{className:i()("tw-fill-transparent",Xt?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:n===0?Ct("Comments"):xt("%1 comment","%1 comments",n)}],...Q?[{key:"transcription",icon:(0,e.h)(ZS.Z,{height:18}),label:Ct("Transcript")}]:[]],onSelect:d,activeTab:r}),ye&&_e&&(0,e.h)(zc,{feedUrl:_e,post:Ue,pub:ge,icon:(0,e.h)(YS,{size:16}),fileSrc:Ue.podcast_url})))},ex=({children:r,href:n})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:n,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},r))))),tx=({post:r,compAlreadyExpired:n=!1})=>{const d=`${Ri.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${r.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),n?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",Ri.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(ex,{href:d},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var yu=dn(43498);const sl={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var nx=Object.defineProperty,rx=Object.defineProperties,ox=Object.getOwnPropertyDescriptors,Vm=Object.getOwnPropertySymbols,ix=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable,zm=(r,n,d)=>n in r?nx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,sx=(r,n)=>{for(var d in n||(n={}))ix.call(n,d)&&zm(r,d,n[d]);if(Vm)for(var d of Vm(n))ax.call(n,d)&&zm(r,d,n[d]);return r},lx=(r,n)=>rx(r,ox(n));const ux=({postType:r,crossPostInfo:{introText:n,crossPostedPub:d,crossPostingByLine:B}})=>{const Q=B[0];return(0,e.h)(Se.tu,{className:i()(sl.container,r==="podcast"&&sl.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(Se.hs,{className:sl.attribution,gap:4,alignItems:"center"},(0,e.h)(yu.Z,{className:sl.icon,height:16})," ",(0,e.h)(C.xv.Meta,{translated:!0,color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:sl.pub,href:(0,$.getBaseUrl)(d)},I18N.p(d.name)))),(0,e.h)(C.xv.B2,{color:"pub-primary-text"},n," - ",(0,e.h)(Of.default,lx(sx({},Q),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var cx=dn(45809),dx=Object.defineProperty,px=Object.defineProperties,fx=Object.getOwnPropertyDescriptors,bu=Object.getOwnPropertySymbols,$m=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,Zm=(r,n,d)=>n in r?dx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,hx=(r,n)=>{for(var d in n||(n={}))$m.call(n,d)&&Zm(r,d,n[d]);if(bu)for(var d of bu(n))Gm.call(n,d)&&Zm(r,d,n[d]);return r},mx=(r,n)=>px(r,fx(n)),gx=(r,n)=>{var d={};for(var B in r)$m.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&bu)for(var B of bu(r))n.indexOf(B)<0&&Gm.call(r,B)&&(d[B]=r[B]);return d};const Gc=r=>{var n=r,{stroke:d="black"}=n,B=gx(n,["stroke"]);return(0,e.h)(T.l,mx(hx({},B),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:d,"stroke-linejoin":"round"}))};var vx=Object.defineProperty,_x=Object.defineProperties,yx=Object.getOwnPropertyDescriptors,Eu=Object.getOwnPropertySymbols,Ym=Object.prototype.hasOwnProperty,Jm=Object.prototype.propertyIsEnumerable,Qm=(r,n,d)=>n in r?vx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,bx=(r,n)=>{for(var d in n||(n={}))Ym.call(n,d)&&Qm(r,d,n[d]);if(Eu)for(var d of Eu(n))Jm.call(n,d)&&Qm(r,d,n[d]);return r},Ex=(r,n)=>_x(r,yx(n)),Px=(r,n)=>{var d={};for(var B in r)Ym.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Eu)for(var B of Eu(r))n.indexOf(B)<0&&Jm.call(r,B)&&(d[B]=r[B]);return d};const Xm=r=>{var n=r,{stroke:d="black",height:B=19,width:Q=19}=n,ce=Px(n,["stroke","height","width"]);return(0,e.h)(T.l,Ex(bx({},ce),{name:"VideoIcon",svgParams:{height:B,width:Q,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:d,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:d,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:d}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:d}),(0,e.h)("path",{d:"M8 4L11 7",stroke:d}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:d})))};var Zc=dn(50615),Cx=dn(12297),wx=dn.n(Cx),Ox=Object.defineProperty,Sx=Object.defineProperties,xx=Object.getOwnPropertyDescriptors,qm=Object.getOwnPropertySymbols,Ax=Object.prototype.hasOwnProperty,Dx=Object.prototype.propertyIsEnumerable,e0=(r,n,d)=>n in r?Ox(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Tx=(r,n)=>{for(var d in n||(n={}))Ax.call(n,d)&&e0(r,d,n[d]);if(qm)for(var d of qm(n))Dx.call(n,d)&&e0(r,d,n[d]);return r},Ix=(r,n)=>Sx(r,xx(n));const t0=r=>(0,e.h)(T.l,Ix(Tx({},r),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var Mx=Object.defineProperty,Rx=Object.defineProperties,Lx=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,n0=Object.prototype.hasOwnProperty,r0=Object.prototype.propertyIsEnumerable,o0=(r,n,d)=>n in r?Mx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Nx=(r,n)=>{for(var d in n||(n={}))n0.call(n,d)&&o0(r,d,n[d]);if(Pu)for(var d of Pu(n))r0.call(n,d)&&o0(r,d,n[d]);return r},kx=(r,n)=>Rx(r,Lx(n)),Bx=(r,n)=>{var d={};for(var B in r)n0.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Pu)for(var B of Pu(r))n.indexOf(B)<0&&r0.call(r,B)&&(d[B]=r[B]);return d};const Ux=r=>{var n=r,{color:d="#B6B6B6",height:B=18}=n,Q=Bx(n,["color","height"]);return(0,e.h)(T.l,kx(Nx({},Q),{height:B,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:d,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:d,stroke:d}))};var Fx=dn(15440);const i0=(0,di.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var Wx=Object.defineProperty,jx=Object.defineProperties,Hx=Object.getOwnPropertyDescriptors,a0=Object.getOwnPropertySymbols,Kx=Object.prototype.hasOwnProperty,Vx=Object.prototype.propertyIsEnumerable,s0=(r,n,d)=>n in r?Wx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,zx=(r,n)=>{for(var d in n||(n={}))Kx.call(n,d)&&s0(r,d,n[d]);if(a0)for(var d of a0(n))Vx.call(n,d)&&s0(r,d,n[d]);return r},$x=(r,n)=>jx(r,Hx(n));const Gx=r=>(0,e.h)(T.l,$x(zx({},r),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(i0,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var Zx=dn(11762);class Yx extends e.Component{onShare(n){this.props.position&&(0,y.j)(y.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(n&&n.stopPropagation(),this.props.sharedShareDialog?n.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:n,linkClassName:d,user:B,pub:Q,post:ce,reaction_token:ye,height:_e,onChange:ge,isStatic:Ue,children:Ct,sharedShareDialog:xt,noIcon:Yt}){let sn;return ce.share_url_override?sn=ce.share_url_override:Ue?ce?sn=Ri.Substitutions.SHARE_URL:sn=Ri.Substitutions.SHARE_PUB_URL:sn="javascript:void(0)",(0,e.h)("span",{className:n},(0,e.h)("a",{href:sn,onClick:Xt=>this.onShare(Xt),className:d},!Yt&&(0,e.h)(Fc.Z,{className:"recommend-icon post-meta-icon",isStatic:Ue,height:_e,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:Ue?1:1.5}),Ct),!Ue&&!xt&&(0,e.h)(Ha.ZP,{ref:Xt=>this.modal=Xt,user:B,pub:Q,post:ce,reaction_token:ye,onChange:ge}))}}const Jx=({children:r,content:n,baseRef:d=void 0,portalClass:B="",className:Q="",style:ce=void 0})=>{const ye=(0,t.sO)(null),_e=(0,t.sO)(null);return n?(0,e.h)("div",{ref:ye,className:Q,style:ce},r,(0,e.h)(kh,{baseRef:d||ye,hoverToggle:!0,onOpen:()=>{var ge;return(ge=_e.current)==null?void 0:ge.open()},onClose:()=>{var ge;return(ge=_e.current)==null?void 0:ge.close()},className:B},(0,e.h)(Si.Fx,{ref:_e,noList:!0,className:"explanation"},n))):r};var Qx=dn(73413),Xx=Object.defineProperty,qx=Object.defineProperties,e5=Object.getOwnPropertyDescriptors,l0=Object.getOwnPropertySymbols,t5=Object.prototype.hasOwnProperty,n5=Object.prototype.propertyIsEnumerable,Yc=(r,n,d)=>n in r?Xx(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Jc=(r,n)=>{for(var d in n||(n={}))t5.call(n,d)&&Yc(r,d,n[d]);if(l0)for(var d of l0(n))n5.call(n,d)&&Yc(r,d,n[d]);return r},u0=(r,n)=>qx(r,e5(n)),r5=(r,n,d)=>(Yc(r,typeof n!="symbol"?n+"":n,d),d);const{getPaidOrFoundingTierNameForPost:o5}=dn(6378),i5=46438;class a5 extends e.Component{constructor(n,d){if(super(n,d),r5(this,"withAuthorLine",(B,Q)=>{const{pub:ce,post:ye,showAuthor:_e,showPhoto:ge}=B,Ue=ye.type==="adhoc_email",Ct=(0,Bt.getBylineUsers)(ye).length,xt=Ct===1,Yt=xt&&(0,Bt.getBylineUsers)(ye)[0],sn=xt&&Yt.is_guest&&!(0,Ei.default)("dont_show_guest_byline")&&!Ue,Xt=B.showDate||B.showDatetime,Vt=!ye.is_published&&!B.inThreadHead&&Xt&&!Ue,un=B.isFreePreview&&B.showAudience&&Xt&&!Ue,Tn=(0,lo.isFoundingAudience)(ye.audience)&&B.showAudience&&!un&&Xt&&!Ue,zn=(0,lo.isPaidAudience)(ye.audience)&&B.showAudience&&!Tn&&!un&&Xt&&!Ue,nr=(0,li.F6)({pub:ce,post:ye,showAuthor:_e,showPhoto:ge});return(0,e.h)(gi.YF,{width:"100%",className:i()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(gi.i$,null,(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,{color:"primary",className:yf.A.postAuthor},Ct>0?(0,Bt.oxfordComma)((0,Bt.getBylineUsers)(ye).map(Xn=>(0,e.h)(C.xv.Meta,{as:"a",href:(0,g.getProfileUrl)(Xn,ce,{base:B.isStatic}),color:"primary",style:"text-decoration: none"},Xn.name))):(0,Bt.getPrintedByline)(ce,ye))),(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,null,(B.showDate||B.showDatetime)&&ye.post_date&&(0,e.h)("time",{dateTime:Zn()(ye.post_date).toISOString()},Zn()(ye.post_date).standardDate())),zn&&(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,null,"\u2219"),(0,e.h)(C.xv.Meta,{color:"accent-purple"},"Paid")),Tn&&(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,null,"\u2219"),(0,e.h)(C.xv.Meta,{color:"accent-purple"},o5(ce,ye))),un&&(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,null,"\u2219"),(0,e.h)(C.xv.Meta,{color:"accent-purple"},"Preview")),sn&&(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,null,"\u2219"),(0,e.h)(C.xv.Meta,null,"Guest post")),Vt&&(0,e.h)(gi.zK,{gap:4},(0,e.h)(C.xv.Meta,null,"\u2219"),(0,e.h)(C.xv.Meta,null,"Draft"))))),nr&&(0,e.h)("td",{align:"right"},(0,e.h)(gi.zK,{gap:4},Ct>0&&(0,Bt.getBylineUsers)(ye).map((Xn,mr)=>mr<4&&(0,e.h)("a",{href:(0,g.getProfileUrl)(Xn,ce,{base:B.isStatic})},(0,e.h)(gi.NS,{src:Xn.photo_url,size:Ct>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const B=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:B.matches};const Q=ce=>{this.unmounted||this.setState({isMobileWidth:ce.matches})};B.addEventListener?B.addEventListener("change",Q):B.addListener&&B.addListener(Q)}}componentWillUnmount(){this.unmounted=!0}render({pub:n,post:d,showAuthor:B,showPhoto:Q,fromPostPage:ce}){return(0,li.F6)({pub:n,post:d,showAuthor:B,showPhoto:Q})||(0,li.Cz)({pub:n,post:d,showAuthor:B})||(0,li.z5)({pub:n,post:d,showAuthor:B})?this.withAuthorLine(this.props,this.state):(0,e.h)(l5,u0(Jc({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:ce?"post-header-compact":"post-preview"}))}}const s5=({shouldShowFullWidthUfi:r,isMobileWidth:n,children:d})=>r?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},d):n?d:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},d),tR=({additionalCommentCount:r,user:n,pub:d,post:B,showReactions:Q,showComments:ce,reaction_token:ye,onChange:_e,shareTooltipText:ge,fromPostPage:Ue,onClickCommentButton:Ct,reactors:xt,isStatic:Yt,base_url:sn,className:Xt,showShare:Vt})=>{Q=Q&&d.community_enabled&&B.slug&&!B.is_draft;const un=useMediaQuery({maxWidth:540}),{getSettingFor:Tn}=usePublicationSettings(),zn=!Yt&&(B==null?void 0:B.id)&&d.community_enabled&&!B.is_draft&&B.slug,nr=sum(Object.values((B==null?void 0:B.reactions)||{})),Xn=zn&&!!nr&&Q,mr=!B.is_draft&&canPostBeRestacked(n,{enable_restacking:!!Tn("enable_restacking")},B,d,!1),vr=mr;return h(s5,{shouldShowFullWidthUfi:vr,isMobileWidth:un},h(PostUfi,{style:"button",post:B,pub:d,user:n,postReactionToken:ye,hideReactions:!Q||un&&mr,hideComments:!ce||un&&mr,hideSavePost:un&&mr,hideShare:!Vt||un&&mr,useShareLabel:un&&!vr,labelStyle:un&&!vr?"labels":"counts-or-none",onChange:_e,additionalCommentCount:r,showShare:Vt,onCommentsClick:Ct,position:vr?"post-footer-full-width":"post-footer",showRestackButton:mr}),Xn&&h(Fragment,null,(vr||un)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(Qc,{postId:B.id,totalLikes:nr,reactors:ys(xt,n,!!B.reaction,d),loading:!xt,hoverProfiles:!0,enableModal:!0,showFaces:d.post_reaction_faces_enabled}))))};function c0({pub:r,post:n,user:d,reactors:B,secondaryFaces:Q}){var ce;return(0,e.h)(Qc,{postId:n.id,totalLikes:Math.max((ce=n.reactions["\u2764"])!=null?ce:0,(B!=null?B:[]).length),reactors:ys(B,d,!!n.reaction,r),secondaryFaces:ys(Q,d,!!n.restacked,r),totalRestacks:n.restacks||0,loading:!B,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled})}function nR(r){const{post:n,user:d,pub:B}=r,{result:Q,isLoading:ce}=useFetch({pathname:`/api/v1/post/${n.id}/reactors`,auto:!0,deps:[n.id]}),{result:ye,isLoading:_e}=useFetch({pathname:`/api/v1/post/${n.id}/restackers`,auto:!0,deps:[n.id]});return h(c0,Jc({reactors:ys(Q,d,!!n.reaction,B),secondaryFaces:ys(ye,d,!!n.restacked,B)},r))}function ys(r,n,d,B){if(!r)return[];if(n){const Q=r.findIndex(ce=>ce.id===n.id);d&&(n.subscription_visibility!=="private"||B.id===i5)&&n.activity_likes_enabled&&Q<0?r.splice(0,0,{id:n.id,name:n.name,photo_url:n.photo_url}):!d&&Q>=0&&r.splice(Q,1)}return r}function l5({additionalCommentCount:r=0,className:n,user:d,pub:B,post:Q,showAudience:ce=!1,showDate:ye=!1,showEmailSent:_e=!1,showDatetime:ge=!1,showReactions:Ue=!0,showComments:Ct=!0,showShare:xt=!1,showRestack:Yt=!1,showPublicationName:sn=!1,hidePinning:Xt=!1,reaction_token:Vt,onClick:un,onChange:Tn,isStatic:zn=!1,isFreePreview:nr=!1,allowSendEmail:Xn=!1,allowEdit:mr=!1,shareTooltipText:vr,showPins:_r,sharedShareDialog:Tr,showUpdatedIcons:Ir,editOnRightSide:xr=!1,onClickCommentButton:Mr,reactors:br,showAuthor:$r,showPhoto:Yr,fromPostPage:Jr,isMobileWidth:ao,actionBarStyle:Cr="post-header-compact"}){var to;const ho=[B].concat(B.child_publications).find(Ro=>Ro.id===Q.publication_id),Co=ys(br,d,!!Q.reaction,B),vo=Cr==="post-footer",Do=vo?20:Cr==="post-preview"?14:18,Uo=Cr==="post-header-large"?20:Cr==="post-preview"?16:Cr==="thread-head"||vo?14:18;let po;Q.comment_url_override?po=Q.comment_url_override:zn?po=`${Ri.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:po=(0,g.getPostUrl)(B,Q,{comments:!0});const yo=r+((to=Q.comment_count)!=null?to:0),mo=Ct&&!nr&&(0,Bt.showCommentsOnPost)({publication:B,post:Q})&&Q.type!=="restack",Vo=Ue&&!nr&&!["adhoc_email","restack"].includes(Q.type),Zo=(ye||ge)&&Q.post_date&&!Q.is_draft,$o=_e?!!Q.email_sent_at:null,Qo=(0,Jp.S)({user:d,noBase:!1}),vi=Ro=>{var ui;(ui=Ro.post)!=null&&ui.reaction&&d&&Qo({user:d}),Tn(Ro)},ci=(0,e.h)(Ka.dJ,{user:d,pub:B,post:Q,token:Vt,onChange:vi,height:Uo,isStatic:zn,isFreePreview:nr,alt:"Like",buttonStyle:vo,className:"post-meta-icon like-reaction-button",hideReactionCount:vo&&!zn}),ni=[_e&&$o&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(t0,{className:"post-meta-icon",height:Do,isStatic:zn})},_r&&Q.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(Zx.Z,{className:"post-meta-icon",isStatic:zn})},Q.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(wm,{className:"post-meta-icon",isStatic:zn})}:ce&&(0,lo.isPaidAudience)(Q.audience)&&{className:"audience-lock",content:(0,e.h)(Ux,{color:"#666666",height:Do,isStatic:zn})},(0,li.Er)({pub:B,post:Q,showAuthor:$r,showPhoto:Yr,isMobileWidth:ao})&&{className:"author",content:(0,Bt.getBylineUsers)(Q).length>0?(0,Bt.oxfordComma)((0,Bt.getBylineUsers)(Q).map(Ro=>(0,e.h)(Xi.Ct,{disabled:zn,subject:Ro,utmSource:"byline"},(0,e.h)("a",{href:(0,g.getProfileUrl)(Ro,B,{base:zn}),onClick:ui=>ui.stopPropagation()},Ro.name)))):(0,Bt.getPrintedByline)(B,Q)},sn&&{className:"post-publication-name",content:B.name},Ir&&!xr&&mr&&!zn&&d&&d.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:Ro=>Ro.stopPropagation(),content:(0,e.h)(Zc.l,{pub:B,post:Q,iconHeight:Do,hidePinning:Xt,user:d,emailSent:$o,allowSendEmail:Xn,showUpdatedIcons:Ir})},Zo&&{className:"post-date",title:Zn()(Q.post_date).toISOString(),content:(0,e.h)(C.xv.Meta,null,(0,e.h)("time",{dateTime:Zn()(Q.post_date).toISOString()},(0,li.fh)({post:Q,showDatetime:ge,isStatic:zn,fromPostPage:Jr,showReactions:Vo})))},(ho==null?void 0:ho.community_enabled)&&Q.slug&&Vo&&!Q.is_draft&&{className:"icon",onClick:Ro=>Ro.stopPropagation(),content:!vo&&!zn&&Co.length?(0,e.h)(Jx,{portalClass:"facepile-tooltip",content:(0,e.h)(Qc,{postId:Q.id,totalLikes:wx()(Object.values(Q.reactions)),reactors:Co,loading:!br})},ci):ci},d&&{className:"icon",onClick:Ro=>Ro.stopPropagation(),content:(0,e.h)(u5,{post:Q,isPostFooter:vo,isStatic:zn,lucideIconHeight:Uo,onChange:Tn})},(ho==null?void 0:ho.community_enabled)&&Q.slug&&mo&&!Q.is_draft&&{className:"icon",onClick:Ro=>Ro.stopPropagation(),content:(0,e.h)("a",{className:vo?"post-meta-button button":"",href:po,native:ho&&(0,g.isPublishPath)(document.location.pathname,ho),onClick:Mr},(0,e.h)(ac.Z,{className:"comment-icon post-meta-icon",isStatic:zn,height:Uo,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:zn?1:1.5,ampProps:{layout:"fixed"}}),!yo&&vo&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),yo>0&&(0,e.h)("span",{className:"comment-count"},(0,Bt.numberToString)(yo)))},Yt&&!vo&&{className:"icon",onClick:Ro=>Ro.stopPropagation(),content:(0,e.h)("a",{href:Ri.Substitutions.RESTACK_URL,className:vo?"button post-meta-button":void 0},(0,e.h)(Gx,{className:"recommend-icon post-meta-icon",isStatic:zn,height:Uo,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:zn?1:1.5,ampProps:{layout:"fixed"}}),vo&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},xt&&Q.audience!=="only_free"&&!Q.is_draft&&!nr&&{className:"icon",onClick:Ro=>Ro.stopPropagation(),content:(0,e.h)(Yx,{user:d,pub:ho,post:Q,reaction_token:Vt,height:Uo,onChange:Tn,isStatic:zn,sharedShareDialog:Tr,position:Cr==="post-footer"?"post-footer":"post-header",linkClassName:vo?"button post-meta-button":void 0},vo&&(0,e.h)("span",{className:"meta-button-label"},"Share"),vr&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},vr)))},(!Ir||xr)&&mr&&!zn&&d&&d.is_contributor&&{className:"icon edit-icon",onClick:Ro=>Ro.stopPropagation(),content:(0,e.h)(Zc.l,{pub:B,post:Q,iconHeight:Do,hidePinning:Xt,user:d,emailSent:$o,allowSendEmail:Xn,showUpdatedIcons:Ir})}].filter(Ro=>!!Ro);return zn?(0,e.h)("table",{className:i()("post-meta custom",{big:vo},n),cellpadding:"0",cellspacing:"0",onClick:un},(0,e.h)("tr",null,ni.map(({className:Ro,title:ui,onClick:jo,content:zo})=>(0,e.h)("td",{className:i()("post-meta-item",Ro),title:ui,onClick:jo},zo)))):(0,e.h)("div",{className:i()("post-meta post-meta-actions-web custom",{big:vo},n),onClick:un},ni.map(({className:Ro,title:ui,onClick:jo,content:zo})=>(0,e.h)("div",{className:i()("post-meta-item",Ro),title:ui,onClick:jo},zo)))}function Qc({className:r,postId:n,reactors:d,secondaryFaces:B,totalLikes:Q,totalRestacks:ce,loading:ye,hoverProfiles:_e,enableModal:ge,showFaces:Ue}){const Ct=Q>0?(0,Bt.pluralize)(Q,"Like"):"";let xt="";return ce>0&&(xt=`${(0,Bt.pluralize)(ce,"Restack")}`),(0,e.h)(Xs.ZP,{className:r,loading:ye,faces:d,secondaryFaces:B,pileLabel:Ct,modalLabel:Ct,secondaryLabel:xt,secondaryHref:(0,im.Oi)(n,{noBase:Qx.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:Q,totalRestacks:ce,hoverProfiles:_e,enableModal:ge,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,y.j)(y.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:n})},showFaces:Ue})}function u5({post:r,isPostFooter:n,isStatic:d,isSaved:B,lucideIconHeight:Q,onChange:ce}){const{onSave:ye,isSaved:_e}=(0,li.vk)({post:r,isSaved:r.is_saved}),ge=()=>{const Ue=ye();ce({post:u0(Jc({},r),{is_saved:Ue})})};return(0,e.h)("a",{className:i()("post-meta-save-button",n?"post-meta-button button":"",{isSaved:_e}),href:d&&Ri.Substitutions.SAVE_POST_URL,onClick:ge},(0,e.h)(Fx.Z,{isStatic:d,height:Q,stroke:"#757575",strokeWidth:d?1:1.5}),n&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const c5=(0,di.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var d5=Object.defineProperty,p5=Object.defineProperties,f5=Object.getOwnPropertyDescriptors,d0=Object.getOwnPropertySymbols,h5=Object.prototype.hasOwnProperty,m5=Object.prototype.propertyIsEnumerable,p0=(r,n,d)=>n in r?d5(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,g5=(r,n)=>{for(var d in n||(n={}))h5.call(n,d)&&p0(r,d,n[d]);if(d0)for(var d of d0(n))m5.call(n,d)&&p0(r,d,n[d]);return r},v5=(r,n)=>p5(r,f5(n));const _5=r=>(0,e.h)(T.l,v5(g5({},r),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(c5,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var y5=dn(67749),b5=Object.defineProperty,E5=Object.defineProperties,P5=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertySymbols,C5=Object.prototype.hasOwnProperty,w5=Object.prototype.propertyIsEnumerable,h0=(r,n,d)=>n in r?b5(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,O5=(r,n)=>{for(var d in n||(n={}))C5.call(n,d)&&h0(r,d,n[d]);if(f0)for(var d of f0(n))w5.call(n,d)&&h0(r,d,n[d]);return r},S5=(r,n)=>E5(r,P5(n));const x5=r=>(0,e.h)(T.l,S5(O5({},r),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(y5.Z,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth})),m0=({post:r})=>{const n=(0,Le.So)().getSettingFor("enable_prev_next_nav"),d=(0,Ii.XA)(),{iString:B}=(0,P.M1)();return!n||!(r!=null&&r.previous_post_slug)&&!(r!=null&&r.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,r.previous_post_slug&&(0,e.h)(li.Ng,{icon:(0,e.h)(_5,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:d,onClick:()=>{(0,y.j)(y.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:r.id}),(0,l.route)(`/p/${r.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},B("Previous")))),(0,e.h)("div",null,r.next_post_slug&&(0,e.h)(li.Ng,{icon:(0,e.h)(x5,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:d,onClick:()=>{(0,y.j)(y.FP.NEXT_POST_LINK_CLICKED,{post_id:r.id}),(0,l.route)(`/p/${r.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},B("Next")))))};var A5=Object.defineProperty,D5=Object.defineProperties,T5=Object.getOwnPropertyDescriptors,Cu=Object.getOwnPropertySymbols,g0=Object.prototype.hasOwnProperty,v0=Object.prototype.propertyIsEnumerable,_0=(r,n,d)=>n in r?A5(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,I5=(r,n)=>{for(var d in n||(n={}))g0.call(n,d)&&_0(r,d,n[d]);if(Cu)for(var d of Cu(n))v0.call(n,d)&&_0(r,d,n[d]);return r},M5=(r,n)=>D5(r,T5(n)),R5=(r,n)=>{var d={};for(var B in r)g0.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Cu)for(var B of Cu(r))n.indexOf(B)<0&&v0.call(r,B)&&(d[B]=r[B]);return d};const L5=r=>{var n=r,{stroke:d="black",height:B=19,width:Q=19}=n,ce=R5(n,["stroke","height","width"]);return(0,e.h)(T.l,M5(I5({},ce),{name:"AdhocEmailIcon",svgParams:{height:B,width:Q,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:d}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:d,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:d}))};var N5=Object.defineProperty,k5=Object.defineProperties,B5=Object.getOwnPropertyDescriptors,wu=Object.getOwnPropertySymbols,y0=Object.prototype.hasOwnProperty,b0=Object.prototype.propertyIsEnumerable,E0=(r,n,d)=>n in r?N5(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,U5=(r,n)=>{for(var d in n||(n={}))y0.call(n,d)&&E0(r,d,n[d]);if(wu)for(var d of wu(n))b0.call(n,d)&&E0(r,d,n[d]);return r},F5=(r,n)=>k5(r,B5(n)),W5=(r,n)=>{var d={};for(var B in r)y0.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&wu)for(var B of wu(r))n.indexOf(B)<0&&b0.call(r,B)&&(d[B]=r[B]);return d};const j5=r=>{var n=r,{stroke:d="black",height:B=19,width:Q=19}=n,ce=W5(n,["stroke","height","width"]);return(0,e.h)(T.l,F5(U5({},ce),{name:"NewsletterIcon",svgParams:{height:B,width:Q,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:d,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:d,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:d,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:d,"stroke-linecap":"round","stroke-linejoin":"round"}))};var H5=Object.defineProperty,Ou=Object.getOwnPropertySymbols,P0=Object.prototype.hasOwnProperty,C0=Object.prototype.propertyIsEnumerable,w0=(r,n,d)=>n in r?H5(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,bs=(r,n)=>{for(var d in n||(n={}))P0.call(n,d)&&w0(r,d,n[d]);if(Ou)for(var d of Ou(n))C0.call(n,d)&&w0(r,d,n[d]);return r},K5=(r,n)=>{var d={};for(var B in r)P0.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Ou)for(var B of Ou(r))n.indexOf(B)<0&&C0.call(r,B)&&(d[B]=r[B]);return d};const V5=r=>{var n=r,{postType:d}=n,B=K5(n,["postType"]);switch(d){case"newsletter":return(0,e.h)(j5,bs({},B));case"adhoc_email":return(0,e.h)(L5,bs({},B));case"thread":return(0,e.h)(Gc,bs({},B));case"podcast":return(0,e.h)(Ut,bs({},B));case"video":return(0,e.h)(Xm,bs({},B));case"restack":return(0,e.h)(yu.Z,bs({},B));default:return console.warn(`Unrecognized post type: [${d}]`),null}};var z5=Object.defineProperty,O0=Object.getOwnPropertySymbols,$5=Object.prototype.hasOwnProperty,G5=Object.prototype.propertyIsEnumerable,S0=(r,n,d)=>n in r?z5(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,x0=(r,n)=>{for(var d in n||(n={}))$5.call(n,d)&&S0(r,d,n[d]);if(O0)for(var d of O0(n))G5.call(n,d)&&S0(r,d,n[d]);return r},Z5=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const Su=500,Y5={PUBLICATION:"publication",CHOOSE:"choose"},J5=({pubToRecommendBack:r,recommendingPub:n,recommendedPubs:d,setStep:B,close:Q,setLoading:ce,source:ye})=>{const{iString:_e,iTemplate:ge}=(0,P.M1)(),[Ue,Ct]=(0,t.eJ)(null);(0,t.d4)(()=>{var Yt;Ue==null&&(d!=null&&d.find(({id:sn})=>sn===r.id))&&Ct((Yt=d==null?void 0:d.find(({id:sn})=>sn===r.id))==null?void 0:Yt.blurb)},[Ue,d,r.id]);const xt=(0,Bt.getByLine)(r);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(_n.Z,{pub:r,logo_url:r.logo_url,size:84}),(0,e.h)("h2",null,ge`Recommend ${r.name}`),r.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},r.hero_text),(0,e.h)("p",{className:"pub-author-subs"},xt?ge`By ${xt}`:null,xt&&r.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,r.rankingDetail),(0,e.h)("p",{className:"why-recommend"},ge`Why are you recommending ${r.name}? (optional)`),(0,e.h)("textarea",x0({placeholder:_e("Share why your readers might enjoy it..."),onChange:Yt=>{Ct(Yt.target.value)},value:Ue},xh.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},_e("Recommendations are shown to readers after they subscribe to your publication.")," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,y.j)(y.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,_e("Learn more")))),(0,e.h)("button",{className:i()("continue-button button primary",{disabled:((Ue==null?void 0:Ue.length)||0)>Su}),disabled:((Ue==null?void 0:Ue.length)||0)>Su,title:((Ue==null?void 0:Ue.length)||0)>Su?ge`Please enter a description shorter than ${Su} characters`:"",onClick:()=>Z5(void 0,null,function*(){yield zt().put("/api/v1/recommendations").send(x0({recommended_publication_id:r.id,recommending_publication_id:n.id,source:ye||"recommendation_notification_email",suggested:!1},!!Ue&&{description:Ue.length>=2?Ue:null})),d!=null&&d.filter(({id:Yt})=>Yt!==r.id).length?Q():B(Y5.CHOOSE),ce?(ce(!0),Q()):((0,E.redirect)("/publish/settings/recommendations"),(0,Ua.ZP)(ge`Started recommending ${r.name}`,{timeout:1500}))})},_e("Continue"))))};var Q5=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const X5=({pub:r})=>{const[n,d]=(0,t.eJ)(!0),[B,Q]=(0,t.eJ)(null),[ce,ye]=(0,t.eJ)(!1),_e=(0,t.sO)(null),ge=()=>{_e.current.close()};if((0,t.d4)(()=>{!B&&n&&(()=>Q5(void 0,null,function*(){try{const xt=(yield zt().get("/api/v1/publication_user/default")).body;if(Q(xt),!xt||xt.id===r.id){ye(!0),d(!1);return}const Yt=yield zt().get(`/api/v1/recommendations/from/${xt.id}/to/${r.id}`);ye(!!Yt.body),d(!1)}catch(Ct){console.error("Failed to load recommend cta: ",Ct)}}))()},[r,n,d,B,Q]),!(n||ce||B&&B.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(_n.Z,{pub:r,size:54,openInNewTab:!0,logo_url:r.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",r.name," to the readers of ",B.name),(0,e.h)("p",{className:"publication-hero-text"},r.hero_text),(0,e.h)(ct.Z,{className:i()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,y.j)(y.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:r,recommending_pub_id:B==null?void 0:B.id}),_e.current.isOpen()?_e.current.close():_e.current.open()}},"Recommend")),(0,e.h)(q5,{pubToRecommend:r,recommendingPub:B,setLoading:d,setStep:ge,ref:_e}))};class q5 extends ze.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(J5,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:n=>{this.props.setLoading(n),(0,Ua.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var e3=dn(86804),Xc=dn(68842),A0=dn(92630),t3=Object.defineProperty,n3=Object.defineProperties,r3=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertySymbols,o3=Object.prototype.hasOwnProperty,i3=Object.prototype.propertyIsEnumerable,T0=(r,n,d)=>n in r?t3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,a3=(r,n)=>{for(var d in n||(n={}))o3.call(n,d)&&T0(r,d,n[d]);if(D0)for(var d of D0(n))i3.call(n,d)&&T0(r,d,n[d]);return r},s3=(r,n)=>n3(r,r3(n));const l3=r=>(0,e.h)(T.l,s3(a3({},r),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),(0,e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})),Es={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--vbdll",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--OeRIn",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--RO2Fw",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--xUFzY",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--F5mTT",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--BClJR"},lR=({amount:r,isSelected:n,outlineOnSelect:d,plan:B,usePer:Q,disableInput:ce=!1,onChangeAmount:ye})=>{const _e=useRef(null),ge=useCallback(sn=>{ye(sn.toString().replace(/[^\d.]/g,""))},[ye]),[Ue,Ct]=useState(!1);useEffect(()=>{n&&(_e.current.focus(),_e.current.select())},[_e,n]),useEffect(()=>{Ct(B.metadata.minimum&&(isZeroDecimalCurrency(B.currency)?r:r*100)<=B.metadata.minimum&&n)},[r]);const{iString:xt}=useI18N(),Yt=centsToPriceString(100,B.currency).replace(/\d/g,"");return h(FlexColumn,{className:"fancy-founding-input"},h(FlexRow,{className:"outer-price-select",alignItems:"center"},h("div",{className:"unified-input"},h(FlexBox,{className:"currency-symbol",justifyContent:"center",alignItems:"center"},h(Text,{size:14,color:"secondary"},Yt)),h("input",{disabled:ce,ref:_e,id:"",type:"text","aria-label":"",autoComplete:"off",value:typeof r=="string"?r:B.amount/100,onKeyDown:sn=>{sn.key==="ArrowUp"?(ge(Number(r||B.amount/100)+5),setTimeout(()=>{_e.current.selectionStart=_e.current.selectionEnd=_e.current.value.length},0)):sn.key==="ArrowDown"&&(!r||Number(r)>=5)&&(ge(Number(r||B.amount/100)-5),setTimeout(()=>{_e.current.selectionStart=_e.current.selectionEnd=_e.current.value.length},0))},onInput:sn=>{const Xt=sn.target;ge(Xt.value)}})),h(Text,{className:"year-label",size:14,lineHeight:20,color:"pub-secondary-text"},"/ ",xt("year"))),Ue&&h(Text,{translated:!0,size:14,lineHeight:20,color:"error",weight:"bold",className:"founding-error"},"Must be greater than"," ",I18N.p(Yt+(isZeroDecimalCurrency(B.currency)?B.metadata.minimum:B.metadata.minimum/100))))},u3=({amount:r,currency:n,isSelected:d,outlineOnSelect:B,plan:Q,usePer:ce,showDuration:ye=!0,disableInput:_e=!1,onChangeAmount:ge})=>{var Ue;const Ct=(0,t.sO)(null),xt=(0,t.I4)(Vt=>{ge(Vt.toString().replace(/[^\d.]/g,""))},[ge]);n||(n=Q.currency);const Yt=(0,Xc.foundingPlanMinimum)(Q,n)&&((0,Bt.isZeroDecimalCurrency)(n)?r:r*100)<(0,Xc.foundingPlanMinimum)(Q,n)&&d;(0,t.bt)(()=>{setTimeout(()=>{Ct.current&&(Ct.current.style.width="1px",Ct.current.style.width=`${Ct.current.scrollWidth}px`,Ct.current.scrollLeft=0)},0)},[r,Ct]),(0,t.d4)(()=>{d&&(Ct.current.focus(),Ct.current.select())},[Ct,d]);const{iTemplate:sn,iString:Xt}=(0,P.M1)();return(0,e.h)("span",{className:i()(Es.outlineWrapper,{[Es.outlineWrapperSelected]:B&&d,[Es.outlineWrapperWithWarning]:Yt})},(0,Bt.centsToPriceString)(100,n).replace("1",""),(0,e.h)("input",{disabled:_e,ref:Ct,className:i()(Es.amountInput,{[Es.amountInputDeselected]:!d}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof r=="string"?r:Q.amount/100,onKeyDown:Vt=>{Vt.key==="ArrowUp"?(xt(Number(r||Q.amount/100)+5),setTimeout(()=>{Ct.current.selectionStart=Ct.current.selectionEnd=Ct.current.value.length},0)):Vt.key==="ArrowDown"&&(!r||Number(r)>=5)&&(xt(Number(r||Q.amount/100)-5),setTimeout(()=>{Ct.current.selectionStart=Ct.current.selectionEnd=Ct.current.value.length},0))},onInput:Vt=>{const un=Vt.target;xt(un.value)}}),(0,e.h)("input",{name:"amount",type:"hidden",value:typeof r=="string"?(Number(r)||0)*100:Q.amount}),ye&&Q.interval!=="forever"&&(ce?sn` per ${Xt(Q.interval)}`:`/${Xt(Q.interval)}`),Yt&&(0,e.h)("div",{className:Es.warningContainer},(0,e.h)(A0.u,{text:sn`Amount must be greater than ${(0,Bt.centsToPriceString)((Ue=(0,Xc.foundingPlanMinimum)(Q,n))!=null?Ue:0,n)}`,dangerouslySetTooltipZIndex:12},(0,e.h)(l3,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))};var c3=Object.defineProperty,I0=Object.getOwnPropertySymbols,d3=Object.prototype.hasOwnProperty,p3=Object.prototype.propertyIsEnumerable,M0=(r,n,d)=>n in r?c3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,f3=(r,n)=>{for(var d in n||(n={}))d3.call(n,d)&&M0(r,d,n[d]);if(I0)for(var d of I0(n))p3.call(n,d)&&M0(r,d,n[d]);return r};const h3=r=>(0,e.h)(T.l,f3({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},r),(0,e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var m3=Object.defineProperty,R0=Object.getOwnPropertySymbols,g3=Object.prototype.hasOwnProperty,v3=Object.prototype.propertyIsEnumerable,L0=(r,n,d)=>n in r?m3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,_3=(r,n)=>{for(var d in n||(n={}))g3.call(n,d)&&L0(r,d,n[d]);if(R0)for(var d of R0(n))v3.call(n,d)&&L0(r,d,n[d]);return r};const y3=r=>(0,e.h)(T.l,_3({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},r),(0,e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var b3=Object.defineProperty,E3=Object.defineProperties,P3=Object.getOwnPropertyDescriptors,N0=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,w3=Object.prototype.propertyIsEnumerable,k0=(r,n,d)=>n in r?b3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,O3=(r,n)=>{for(var d in n||(n={}))C3.call(n,d)&&k0(r,d,n[d]);if(N0)for(var d of N0(n))w3.call(n,d)&&k0(r,d,n[d]);return r},S3=(r,n)=>E3(r,P3(n));const B0=r=>(0,e.h)(T.l,S3(O3({},r),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:r.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));var x3=dn(49619);const U0=r=>{try{return r!=null&&r.text?JSON.parse(r==null?void 0:r.text).error:"Something went wrong"}catch(n){return"Something went wrong"}},qc=r=>{var n;return((n=r==null?void 0:r.metadata)==null?void 0:n.founding)==="yes"||(r==null?void 0:r.id.includes("founding"))},hi={container:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__container--h0NUk",closeModal:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__closeModal--BTBok",subscribeButton:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__subscribeButton--YUyLO",radio:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__radio--HWCWT",circle:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__circle--BzRf4",selectedPlan:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__selectedPlan--TDQaA",planRow:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planRow--JyRia",publicationIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__publicationIcon--Vw7_m",benefitIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__benefitIcon--_cHY4",planOptions:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planOptions--poLpI",fancyStripe:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fancyStripe--iBwGQ",cardOnFileIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__cardOnFileIcon--qZGEa",tos_text:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__tos_text--WQNU8",fullWidth:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fullWidth--dXsZT",inputWrapper:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__inputWrapper--eN00v",spacing:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__spacing--j9imu",clickable:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__clickable--RWWu0"};var A3=Object.defineProperty,D3=Object.defineProperties,T3=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertySymbols,I3=Object.prototype.hasOwnProperty,M3=Object.prototype.propertyIsEnumerable,W0=(r,n,d)=>n in r?A3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ll=(r,n)=>{for(var d in n||(n={}))I3.call(n,d)&&W0(r,d,n[d]);if(F0)for(var d of F0(n))M3.call(n,d)&&W0(r,d,n[d]);return r},xu=(r,n)=>D3(r,T3(n)),Au=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const j0=({selected:r})=>(0,e.h)("span",{className:i()(hi.circle,r&&hi.selectedPlan)}),R3=({pub:r,includeHeaderCloseButton:n,close:d})=>{const B=r.logo_url||r.author_photo_url,Q=()=>{(0,E.redirect)((0,g.pathWithQuery)((0,$.getBaseUrl)(r),{utm_source:"suggest",utm_campaign:r.id}),{newTab:!0})};return(0,e.h)(Se.tu,{justifyContent:"center",alignItems:"center",gap:16},n&&(0,e.h)(as.Z,{className:hi.closeModal,onClick:d}),(0,e.h)("img",{src:(0,$.imginary)(B,40*2,{height:40*2,smartCrop:!0}),className:hi.publicationIcon,onClick:Q}),(0,e.h)("div",{onClick:Q,className:hi.clickable},(0,e.h)(C.xv,{as:"h3",size:20,font:"text",lineHeight:24,color:"pub-primary-text",align:"center"},"Choose a plan for ",r.name||r.author_name)))},L3=({plan:r,selected:n,currentPrice:d,foundingOnChange:B,setSelected:Q})=>{const{language:ce}=(0,P.M1)();return(0,e.h)(Se.gq,{as:"label",alignItems:"center",gap:8,className:hi.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:n,onChange:Q,className:hi.radio}),(0,e.h)(j0,{selected:n}),(0,e.h)(C.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:n?"pub-primary-text":"pub-secondary-text"},(0,Bt.getPlanTitle)(r,ce)),(0,e.h)("span",null,(0,e.h)(C.xv,{as:"span",weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20,className:i()(hi.inputWrapper,{[hi.spacing]:n})},(0,e.h)(u3,{amount:d!=null?d:0,disableInput:!n,isSelected:n,outlineOnSelect:!0,plan:r,showDuration:!1,onChangeAmount:B}),(0,e.h)(C.xv,{translated:!0},"per year"))))},H0=({plan:r,selected:n,isFreePlan:d,setSelected:B})=>{const{language:Q,iString:ce}=(0,P.M1)(),ye=d?ce("None"):(0,Bt.getPlanTitle)(r,Q),_e=d?"":(0,x3.t)(r);return(0,e.h)(Se.gq,{as:"label",alignItems:"center",gap:8,className:hi.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:n,onChange:B,className:hi.radio}),(0,e.h)(j0,{selected:n}),(0,e.h)(C.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:n?"pub-primary-text":"pub-secondary-text"},ye),(0,e.h)(C.xv,{weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20},_e))},K0=({benefit:r,ineligible:n})=>(0,e.h)(Se.gq,{alignItems:"center",justifyContent:"center",gap:8},(0,e.h)(Se.gq,{className:hi.benefitIcon},n?(0,e.h)(y3,{width:16,height:16}):(0,e.h)(h3,{width:16,height:16})),(0,e.h)(C.xv,{size:14,lineHeight:20,weight:"normal",font:"text",color:"pub-secondary-text",style:{textDecoration:n?"line-through":"none",overflow:"hidden"}},r)),N3=({plans:r,selectedPlan:n,paidBenefits:d,freeBenefits:B,foundingPlanPrice:Q,setSelectedPlan:ce,setFoundingPlanPrice:ye})=>{const _e=n==="free";return(0,e.h)(Se.tu,{alignItems:"start",justifyContent:"start",gap:16,className:hi.planOptions},r==null?void 0:r.map(ge=>{const Ue=qc(ge),Ct=ge.id===n;return Ue?(0,e.h)(L3,{plan:ge,currentPrice:Q,selected:Ct,foundingOnChange:ye,setSelected:()=>ce(ge.id)}):(0,e.h)(H0,{plan:ge,selected:Ct,isFreePlan:!1,setSelected:()=>ce(ge.id)})}),(0,e.h)(H0,{plan:null,selected:n==="free",isFreePlan:!0,setSelected:()=>ce("free")}),d.map(ge=>(0,e.h)(K0,{benefit:ge,ineligible:n==="free"})),_e&&(B==null?void 0:B.map(ge=>(0,e.h)(K0,{benefit:ge,ineligible:!1}))))},k3=({stripeCard:r,cardLast4:n})=>(0,e.h)(Se.tu,{gap:12,className:hi.fullWidth},(0,e.h)(Se.tu,{className:hi.fancyStripe,alignItems:"center",justifyContent:"center"},n?(0,e.h)("div",{className:"input card-on-file"},(0,e.h)(Se.gq,{paddingTop:12,paddingBottom:12,gap:12},(0,e.h)(B0,{className:hi.cardOnFileIcon}),(0,e.h)(C.xv.B4,{color:"pub-secondary-text"},n?`**** **** **** ${n}`:"Use card on file"))):r&&(0,e.h)(Ze.GP,{className:"input",element:r}))),B3=({pub:r})=>(0,e.h)(C.xv.B4,{color:"pub-secondary-text",align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:hi.tos_text,target:"_blank",rel:"noopener",href:(0,g.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:hi.tos_text,target:"_blank",rel:"noopener",href:(0,g.getPrivacyUrl)({pub:r,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:hi.tos_text,target:"_blank",rel:"noopener",href:(0,g.updateQuery)(`${(0,g.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),U3=({pub:r,isFreeSubscribed:n,loading:d,freePlanSelected:B,allowFreePlanReselection:Q,onSuccess:ce})=>{let ye="Subscribe";return d?ye="Subscribing...":B&&(ye=n?"You're already on the free plan":"Continue without paying"),(0,e.h)(e.Fragment,null,(0,e.h)(Oe.zx,{priority:"primary-theme",className:hi.subscribeButton,onClick:ce,disabled:d||!Q&&B&&n},ye),(0,e.h)(B3,{pub:r}))},F3=({error:r})=>(0,e.h)(C.xv.B4,{align:"center",color:"error"},r),W3=({isFreeSubscribed:r,pub:n,recommendingPubId:d,user:B,cardLast4:Q,stripe_publishable_key:ce,email:ye,includeHeaderCloseButton:_e=!1,source:ge,sameDomain:Ue=!0,allowFreePlanReselection:Ct=!0,onClose:xt,onSuccess:Yt,subscribe_auth_token:sn})=>{const[Xt,Vt]=(0,t.eJ)(""),[un,Tn]=(0,t.eJ)({}),[zn,nr]=(0,t.eJ)(!1),[Xn,mr]=(0,t.eJ)(null),[vr,_r]=(0,t.eJ)(null),[Tr,Ir]=(0,t.eJ)(""),[xr,Mr]=(0,t.eJ)(0),[br,$r]=(0,t.eJ)(!1),Yr=(0,t.sO)(null),Jr={publication_id:n.id,source:ge};d&&(Jr.recommending_publication_id=d,Jr.recommended_publication_id=n.id),(0,t.d4)(()=>{var po,yo;const mo=(0,Ze.lQ)(ce,n),Vo=mo&&(0,Ze.UD)(mo);mr(mo),_r(Vo);const Zo={};(po=n==null?void 0:n.plans)==null||po.forEach($o=>{qc($o)?Mr($o==null?void 0:$o.amount):$o.interval==="year"&&Vt($o.id),Zo[$o.id]=$o}),Zo.free={id:"free"},Xt||Vt((yo=n==null?void 0:n.plans[0])==null?void 0:yo.id),Tn(Zo),(0,y.j)(y.FP.PLAN_PURCHASE_BOX_SEEN,ll({},Jr))},[n,B==null?void 0:B.has_saved_payment]);const ao=()=>Au(void 0,null,function*(){return Xn?yield Xn.createToken(vr):{token:null,error:{message:""}}}),Cr=()=>Au(void 0,null,function*(){var po;const yo=un[Xt];let mo;if(!Q){const{token:$o,error:Qo}=yield ao();if(Qo)return nr(!1),Ir(Qo&&Qo.message),(0,y.j)(y.FP.PLAN_PURCHASE_BOX_STRIPE_ERROR,{type:Qo&&Qo.type,code:Qo&&Qo.code,decline_code:Qo&&Qo.decline_code,reason:Qo&&Qo.message}),{subscription_id:null,error:Qo};mo=$o}const Vo={email:ye,captcha_response:br&&((po=Yr==null?void 0:Yr.current)==null?void 0:po.getResponse()),amount:qc(yo)?xr*100:yo.amount,stripe_token:mo,plan:yo.id};return Ue||(Vo.subscribe_to_pub_id=n.id,Vo.subscribe_auth_token=sn),{subscription_id:(yield zt().post(`/api/v1/subscription?utm_source=${ge!=null?ge:"plan-purchase-box"}`).send(Vo)).body.subscription_id,error:null}}),to=()=>Au(void 0,null,function*(){try{return(yield zt().get("/api/v1/subscription/last4")).body.last4}catch(po){return""}}),ho=po=>{Mr(po.toString().replace(/[^\d.]/g,""))},Co=po=>{Vt(po)},vo=()=>Au(void 0,null,function*(){if(Xt==="free"){(0,y.j)(y.FP.PLAN_PURCHASE_BOX_SUBMITTED,xu(ll({},Jr),{plan_id:"free"})),xt();return}nr(!0);try{const{subscription_id:po,error:yo}=yield Cr();if(yo){nr(!1);return}(0,y.j)(y.FP.PLAN_PURCHASE_BOX_SUBMITTED,xu(ll({},Jr),{plan_id:Xt}));const mo=Q||(yield to());Yt(mo,po)}catch(po){if(po.response)switch(po.response.statusCode){case 400:Ir(U0(po.response));break;case 401:$r(!0);break;default:Ir("Something went wrong. Please try again."),(0,y.j)(y.FP.PLAN_PURCHASE_BOX_ERROR,xu(ll({},Jr),{errorMessage:U0(po.response)}))}else Ir("Something went wrong. Please try again."),(0,y.j)(y.FP.PLAN_PURCHASE_BOX_ERROR,xu(ll({},Jr),{errorMessage:po.message}))}nr(!1)}),Do=()=>{xt()},Uo=Xt==="free";return(0,e.h)(Se.tu,{justifyContent:"center",alignItems:"center",gap:32,className:hi.container},(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(R3,{pub:n,close:Do,includeHeaderCloseButton:_e}),(0,e.h)(N3,{plans:n.plans,paidBenefits:n==null?void 0:n.paid_subscription_benefits,freeBenefits:n==null?void 0:n.free_subscription_benefits,selectedPlan:Xt,foundingPlanPrice:xr,setSelectedPlan:Co,setFoundingPlanPrice:ho}),(0,e.h)(Se.tu,{justifyContent:"center",alignItems:"center",gap:0},Tr&&(0,e.h)(F3,{error:Tr}),br&&(0,e.h)(e3.Z,{ref:Yr}),!Uo&&(0,e.h)(k3,{cardLast4:Q,stripeCard:vr}),(0,e.h)(bi.mz,{alignment:"center",includeDivider:!1,primaryButton:(0,e.h)(U3,{pub:n,loading:zn,freePlanSelected:Uo,isFreeSubscribed:r,allowFreePlanReselection:Ct,onSuccess:vo})})))};var j3=dn(55886);const la={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var H3=Object.defineProperty,V0=Object.getOwnPropertySymbols,K3=Object.prototype.hasOwnProperty,V3=Object.prototype.propertyIsEnumerable,z0=(r,n,d)=>n in r?H3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,$0=(r,n)=>{for(var d in n||(n={}))K3.call(n,d)&&z0(r,d,n[d]);if(V0)for(var d of V0(n))V3.call(n,d)&&z0(r,d,n[d]);return r},z3=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const $3=300,G3=({pub:r,post:n,isTest:d,stripe_publishable_key:B,sharer:Q})=>{const[ce,ye]=(0,t.eJ)(!1),[_e,ge]=(0,t.eJ)(!1),[Ue,Ct]=(0,t.eJ)(!1),[xt,Yt]=(0,t.eJ)(""),[sn,Xt]=(0,t.eJ)([]),[Vt,un]=(0,t.eJ)(200),[Tn,zn]=(0,t.eJ)(0),[nr,Xn]=(0,t.eJ)(!1),[mr,vr]=(0,t.eJ)(!1),_r=(0,t.sO)(null),{exposeExperiment:Tr,getExperimentVariant:Ir}=(0,He.jc)(),xr=(0,Ii.XA)(),Mr=!xr&&Ir("post_page_modal_subscription_upsell"),br=Mr&&r.payments_state==="enabled",$r=br&&Mr==="treatment";let Yr=r.rankingDetailFreeSubscriberCount;const ao=!((0,g.getQueryItem)("utm_medium")==="email")&&Q&&Q.name&&r.rankingDetail;if(ao){const jo=Ir("referral_visit_post_modal_iteration");if(jo==="treatment_read")Yr=`Read by ${Q.name}`;else if(jo==="treatment_referral"){const zo=Q.subscriptions.find(ri=>ri.publication_id===r.id);r.author_id===Q.id||r.contributors.map(ri=>ri.user_id).includes(Q.id)?Yr=`${Q.name}, author of ${r.name}, shared this with you.`:zo&&zo.membership_state?Yr=`${Q.name}, a ${zo.membership_state==="subscribed"?"paid":""} subscriber of ${r.name}, shared this with you.`:Yr=`${Q.name} shared this with you.`}}const Cr=`pub-${r.id}-subscribe-prompt-next-shown-at`,to=`pub-${r.id}-takeover-next-shown-at`,ho=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,Co=document.getElementsByClassName("available-content"),vo=Co.length>0?Co[0].scrollHeight:0;let Do=600;Do=Math.max(Math.min(Do,vo-ho),600);const Uo=()=>{var jo;const{height:zo,width:ri}=((jo=_r.current)==null?void 0:jo.getBoundingClientRect())||{height:0,width:0};un(typeof window!="undefined"&&window&&_r.current?(window.innerHeight-zo)/2:200),zn(typeof window!="undefined"&&window&&_r.current?(window.innerWidth-ri)/2:0)};Uo(),(0,t.d4)(()=>{typeof window!="undefined"&&Uo()},[nr]);const[po,yo]=(0,t.eJ)(ho+Math.max(Vt,Do)),[mo,Vo]=(0,t.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[Zo,$o]=(0,t.eJ)("absolute"),[Qo,vi]=(0,t.eJ)(Zo==="fixed"||mo>po-ho),ci=Zo==="fixed"?60:Math.min(Math.max((mo-po+ho)/(ho-Vt)*60,0),60),ni=(0,t.I4)(()=>{!xr&&mo>=po-$3&&ge(!0)},[mo,xr,po,Vt,ge]);(0,t.d4)(()=>{if(d)return;let jo=!0;vo<=1.5*ho&&(ye(!0),jo=!1);let zo=null;if(document!=null&&document.referrer){try{zo=new URL(document.referrer)}catch(ri){}((zo==null?void 0:zo.hostname)==="news.ycombinator.com"||(zo==null?void 0:zo.hostname)==="hckrnews.com")&&(ye(!0),jo=!1)}(0,Bi.mM)(Cr)>Date.now()&&ye(!0),typeof window!="undefined"&&(window!=null&&window.Stripe)&&vr(!0)},[]),(0,t.d4)(()=>{Qo&&(ce||((0,y.j)(y.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:n.id}),ao&&Tr("referral_visit_post_modal_iteration"),(0,Bi.ex)(Cr,Zn()().add(1,"hour").valueOf()),(0,Bi.ex)(to,Zn()().add(1,"hour").valueOf())))},[Qo,ce]),(0,t.d4)(()=>{_e&&((0,y.j)(y.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:n.id}),(0,Bi.ex)(Cr,Zn()().add(1,"day").valueOf()),(0,Bi.ex)(to,Zn()().add(1,"hour").valueOf()))},[_e]);const Ro=jo=>{window.location.href=(0,g.getPostUrl)(r,n,{urlParams:{subscribe_prompt:jo}})},ui=(0,t.I4)(jo=>z3(void 0,null,function*(){var zo,ri,ta,Ji,ca;if(!Ue){Ct(!0),Xt([]),(0,y.j)(y.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:n.id});try{const ii=yield zt().post("/api/v1/free").send({email:jo,source:"post-subscribe-prompt"});br&&Tr("post_page_modal_subscription_upsell"),$r?Xn(!0):r.payments_state!=="enabled"&&!r.has_recommendations?Ro("free"):document.location.href=(0,g.getSubscribeUrl)(r,$0($0({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:n&&n.id,simple:!0,just_signed_up:!0,next:(0,g.getPostUrl)(r,n),requires_confirmation:ii.body.requires_confirmation?"true":""},ii.body.subscription_id&&{subscription_id:ii.body.subscription_id}),ii.body.referral_token&&{referral_token:ii.body.referral_token}))}catch(ii){(ri=(zo=ii==null?void 0:ii.response)==null?void 0:zo.body)!=null&&ri.error&&typeof ii.response.body.error=="string"?Xt([ii.response.body.error]):(Ji=(ta=ii==null?void 0:ii.response)==null?void 0:ta.body)!=null&&Ji.errors&&Array.isArray(ii.response.body.errors)&&ii.response.body.errors.length>0&&typeof((ca=ii.response.body.errors[0])==null?void 0:ca.msg)=="string"&&Xt(ii.response.body.errors.map(zi=>zi.msg))}finally{Ct(!1)}}}),[n,r,Ue,Ct]);return(0,t.d4)(()=>{if(ce||_e)return;const jo=()=>{const zo=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),ri=zo-mo;ri>0&&Zo==="absolute"&&zo>po-Vt&&$o("fixed"),ri<0&&Zo==="fixed"&&($o("absolute"),yo(mo+Vt)),ri<0&&Zo==="absolute"&&zo<po-ho&&yo(ho+Math.max(Vt,Do,mo)),Vo(zo),(Zo==="fixed"||ri>0&&zo>po-ho)&&vi(!0)};return window.addEventListener("scroll",jo),window.addEventListener("resize",jo),()=>{window.removeEventListener("scroll",jo),window.removeEventListener("resize",jo)}},[Zo,po,yo,mo,Vo,vi]),(0,t.d4)(()=>{if(ce||_e)return;const jo=zo=>{zo.key==="Escape"&&ge(!0)};return window.addEventListener("keydown",jo),()=>{window.removeEventListener("keydown",jo)}},[ce,_e,ge]),ce||_e?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,!mr&&$r&&(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(Se.tu,{ref:_r,className:la.subscribeDialog,style:{top:Zo==="absolute"?`${po}px`:`${Vt}px`,left:`${Tn}px`,position:Zo},alignItems:"center"},nr?(0,e.h)(W3,{email:xt,pub:r,stripe_publishable_key:B,isFreeSubscribed:!0,includeHeaderCloseButton:!0,allowFreePlanReselection:!0,onClose:()=>Ro("free"),onSuccess:()=>Ro("paid"),source:"subscribe-prompt"}):(0,e.h)(e.Fragment,null,(0,e.h)(Se.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:la.pictureBox},(0,e.h)(tl.qE,{user:{photo_url:r.author_photo_url},size:64,className:la.authorIcon}),r.logo_url&&(0,e.h)(j3.t,{src:r.logo_url,size:24,className:la.childPublicationIcon,alt:r.name}))),(0,e.h)(C.xv.H4,{paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",r.name),(0,e.h)(C.xv.B4,{color:"pub-secondary-text",paddingBottom:r.rankingDetail?4:24,align:"center"},r.hero_text),r.rankingDetail&&(0,e.h)(C.xv.Detail,{paddingBottom:24,align:"center",color:"pub-secondary-text"},Yr),(0,e.h)("form",{className:la.form,onSubmit:jo=>{jo.preventDefault(),ui(xt)}},(0,e.h)("input",{className:la.emailInput,placeholder:"Type your email...",value:xt,disabled:Ue,onChange:jo=>{jo.stopPropagation(),jo.preventDefault(),Yt(jo.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},sn&&sn.map(jo=>(0,e.h)("div",{className:la.error},jo))),(0,e.h)(Oe.zx,{type:"submit",disabled:Ue,grow:!0,priority:"primary-theme"},"Subscribe")),(0,e.h)(Se.gq,{gap:8,alignItems:"center",justifyContent:"center",className:la.dismissButton,onClick:()=>ge(!0)},(0,e.h)(C.xv.B4,{weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(lc.Z,null)),(0,e.h)(C.xv.B4,{align:"center",className:la.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,y.j)(y.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:n.id}),(0,E.redirect)((0,g.getSigninUrl)({for_pub:r.subdomain,redirect:(0,g.getPostUrl)(r,n)}))},style:{cursor:"pointer"}},"Sign in")," ")," ")),ci>0&&(0,e.h)("div",{className:la.background,onClick:ni,style:{opacity:`${ci}%`}}))};function Z3({postId:r,onClose:n}){return(0,t.d4)(()=>{(0,y.j)(y.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:r})},[]),(0,e.h)(bi.u_,{isOpen:!0,onClose:n},(0,e.h)(bi.xB,{includeClose:!0,onClose:n}),(0,e.h)(bi.fe,null,(0,e.h)(Se.tu,{alignItems:"center",gap:24},(0,e.h)(Se.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(bi.r6,null,"Listen to this post"),(0,e.h)(C.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(Y3,null))),(0,e.h)(bi.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(ra.z,{variant:"primary",href:(0,g.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,y.j)(y.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:r})},"Get the app")}))}function Y3(){const r="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${r}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${r}/1x.png`,srcset:Array.from(J3(1,4)).map(n=>`${r}/${n}x.png ${n}x`).join(", ")}))}function*J3(r,n){for(let d=r;d<n;d++)yield d}var Q3=Object.defineProperty,X3=Object.defineProperties,q3=Object.getOwnPropertyDescriptors,G0=Object.getOwnPropertySymbols,eA=Object.prototype.hasOwnProperty,tA=Object.prototype.propertyIsEnumerable,ed=(r,n,d)=>n in r?Q3(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ul=(r,n)=>{for(var d in n||(n={}))eA.call(n,d)&&ed(r,d,n[d]);if(G0)for(var d of G0(n))tA.call(n,d)&&ed(r,d,n[d]);return r},Du=(r,n)=>X3(r,q3(n)),Yi=(r,n,d)=>(ed(r,typeof n!="symbol"?n+"":n,d),d),td=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const nd="focus-comment-input",Z0=["details","comments"],nA=(r,n)=>r&&!r.invite_only&&n&&n.has_publication&&!n.is_admin&&!n.is_contributor&&!n.is_public_admin&&(0,Dc.P)(n,r),rA=(r,n,d,B)=>r.payments_state==="enabled"?!(n!=null&&n.is_subscribed):n!=null&&n.is_free_subscribed&&r.payments_state==="disabled"&&!r.invite_only?!B&&d&&!(n!=null&&n.is_pledged):!(n!=null&&n.is_free_subscribed);class rd extends e.Component{constructor(n,d){var B,Q,ce,ye,_e,ge;super(n,d),Yi(this,"onTopReached",Xt=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,y.jJ)({post:this.props.post,hasPaywall:Xt,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))}),Yi(this,"onTranscriptionClick",()=>{this.setState(Xt=>({showTranscription:!Xt.showTranscription}))}),Yi(this,"onCommentButtonClicked",Xt=>{var Vt,un;if(this.props.post.type==="podcast"){Xt.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),(un=(Vt=this.props)==null?void 0:Vt.setTab)==null||un.call(Vt,"comments"),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var Tn;(Tn=this.podcastCommentInput.current)==null||Tn.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(Xt.stopPropagation(),Xt.preventDefault(),document.dispatchEvent(new CustomEvent(nd)))}),Yi(this,"handleClickTab",Xt=>{var Vt,un;this.setState({activeTab:Xt}),(un=(Vt=this.props)==null?void 0:Vt.setTab)==null||un.call(Vt,Xt),Xt==="comments"&&!this.state.podcastComments&&this.loadComments()}),Yi(this,"handleAddPodcastComment",Xt=>{this.setState({podcastComments:[Xt].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),Yi(this,"handleUpdatePodcastComments",Xt=>{let Vt=0;const un=(zn,nr)=>zn.map(Xn=>Xn.id===nr.id?(nr.status==="deleted"?Vt-=1:Vt+=nr.children.length-Xn.children.length,nr):Du(ul({},Xn),{children:un(Xn.children,nr)})),Tn=un(this.state.podcastComments,Xt);this.setState({podcastComments:Tn,addedPodcastComments:this.state.addedPodcastComments+Vt})}),Yi(this,"handleUpdateSortPodcastComments",Xt=>{(0,y.j)(y.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:Xt}),this.setState({commentSort:Xt},()=>{this.loadComments()})});const Ue=(0,E.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(B=n.post.default_comment_sort)!=null?B:"best_first",activeTab:Z0.includes(Ue)?Ue:"details",loadedWithHeaderLink:typeof window!="undefined"&&((Q=window.location.hash)==null?void 0:Q.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null,feedUrl:null},(ye=(ce=this.props)==null?void 0:ce.setTab)==null||ye.call(ce,Z0.includes(Ue)?Ue:"details"),!n.paywall&&!n.post.hidden&&n.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=lA(n.post.body_html),this.state.truncated=n.truncateAt?sA(n.post.body_html,n.truncateAt,n.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,g.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,g.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=nA(n.pub,n.user);const Ct=this.props.getSettingFor("enable_post_page_conversion")===!0,xt=this.props.getExperimentVariant("referral_visit_post_modal_iteration"),Yt=this.props.referringUser&&this.props.user&&!this.props.user.is_free_subscribed&&((_e=this.props.referringUser)==null?void 0:_e.id)!==((ge=this.props.user)==null?void 0:ge.id),sn=xt&&["treatment_read","treatment_referral"].includes(xt)&&Yt;if(xt==="control"&&Yt){const Xt=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,Vt=document.getElementsByClassName("available-content");(Vt.length>0?Vt[0].scrollHeight:0)>=1.5*Xt&&this.props.exposeExperiment("referral_visit_post_modal_iteration")}this.shouldShowSubscribePrompt=n.post.type==="newsletter"&&Ct&&!n.disableSubscribePrompt&&!n.paywall&&!n.freeSignup&&(!n.user||sn)&&!Ue&&!n.readerIsSearchCrawler}loadReactors(){return td(this,null,function*(){const[n,d]=yield Promise.all([zt().get(`/api/v1/post/${this.props.post.id}/reactors`),zt().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:n.body,restackers:d.body})})}componentDidMount(){return td(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Bt.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,y.j)(y.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,y.K8)({post:this.props.post});const n=(0,g.getQueryItem)("subscribe_prompt");n&&(n==="paid"?this.props.popToast(d=>(0,e.h)(_.FN,Du(ul({},d),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(d=>(0,e.h)(_.FN,Du(ul({},d),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return td(this,null,function*(){const n={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const d=yield zt().get(`/api/v1/post/${this.props.post.id}/comments`).query(n);this.setState({podcastComments:d.body.comments})}catch(d){alert((0,E.getNetworkErrorMessage)(d))}})}triggerShare({fromEmail:n}={}){n?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(n){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,y.xG)({post:this.props.post,hasPaywall:n,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:n,user:d,pub:B,getSettingFor:Q}=this.props,{canShowSubscribeFooterAfterPost:ce}=this.state;return n&&ce?rA(B,d,Q("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const n=document.createElement("div");n.innerHTML=this.props.post.body_html;const d=this.props.pub.post_preview_limit||Bt.DEFAULT_PREVIEW_LIMIT;let B="",Q=!1;for(let ce=n.childNodes.length-1;ce>=0;ce--){const ye=n.childNodes[ce];if(B+=ye.textContent,B.length>d){Q=!0;break}}return Q}render({commentsEnabled:n,user:d,pub:B,post:Q,freeSignup:ce,freeSignupEmail:ye,reaction_token:_e,invisible:ge,paywall:Ue,onChange:Ct,hideTitle:xt,noTitleLink:Yt,showComments:sn,fromPostPage:Xt,freeTrialCoupon:Vt,showRestackModal:un,stripe_publishable_key:Tn,crossPostInfo:zn,iString:nr,iTemplate:Xn,themeVariables:mr,referringUser:vr},{showTranscription:_r,activeTab:Tr,loadedWithHeaderLink:Ir,truncated:xr,coupon:Mr,autoPlay:br,autoPlayVoiceOver:$r,podcastComments:Yr,commentSort:Jr,addedPodcastComments:ao,reactors:Cr,restackers:to}){var ho,Co,vo,Do,Uo,po;const yo=(0,x.isMobile)({checkFirst4:!0}),mo=(0,Ei.default)("like_posts_enabled"),Vo=(0,Ei.default)("allow_video_transcription");let Zo=null;(d&&(d.is_subscribed||d.is_free_subscribed)||ce||B.podcast_feed_url||(Co=(ho=Q.section)==null?void 0:ho.podcastSettings)!=null&&Co.podcast_feed_url)&&(Zo=(0,g.getPodcatcherSetupUrl)(B));const $o=!Ue||Ue&&this.shouldTrackPaywallPostSeen(),Qo=Q.type==="video"&&(Ue?vh:ls.Z),vi=Q.type==="video"&&Vo&&!Ue&&((vo=Q.videoUpload)==null?void 0:vo.transcription),ci=Q.type==="podcast"&&(n||!!((Do=Q.podcastUpload)!=null&&Do.transcription)||!!Q.videoUpload),ni=Q.comment_count+ao,Ro=this.shouldShowUFI(),ui=Q0(Q),jo=Cr?Cr.length>0:!1;let zo="";return Q.type==="podcast"?zo=Q.audience==="founding"&&(0,fi.getFoundingTierName)(B)?Xn`This episode is for subscribers in the ${(0,fi.getFoundingTierName)(B)} plan`:Q.audience==="founding"?Xn`This episode is for subscribers in the Founding Member plan`:Xn`This episode is for paid subscribers`:Q.type==="video"?zo=Q.audience==="founding"&&(0,fi.getFoundingTierName)(B)?Xn`The full video is for subscribers in the ${(0,fi.getFoundingTierName)(B)} plan`:Q.audience==="founding"?Xn`The full video is for subscribers in the Founding Member plan`:Xn`The full video is for paid subscribers`:Q.type==="adhoc_email"?zo=Q.audience==="founding"&&(0,fi.getFoundingTierName)(B)?Xn`This email is for subscribers in the ${(0,fi.getFoundingTierName)(B)} plan`:Q.audience==="founding"?Xn`This email is for subscribers in the Founding Member plan`:Xn`This email is for paid subscribers`:zo=Q.audience==="founding"&&(0,fi.getFoundingTierName)(B)?Xn`This post is for subscribers in the ${(0,fi.getFoundingTierName)(B)} plan`:Q.audience==="founding"?Xn`This post is for subscribers in the Founding Member plan`:Xn`This post is for paid subscribers`,(0,e.h)("article",{className:i()(`typography ${Q.type}-post post`,{"tw-p-0":Q.type==="podcast"}),ref:this.containerRef},(d==null?void 0:d.is_contributor)&&(Q==null?void 0:Q.id)&&(Q==null?void 0:Q.type)==="page"&&(0,e.h)(ra.z,{variant:"themed-secondary",href:(0,$.getEditPostUrlById)(B,Q.id,Q.editor_v2,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)($l.Z,{size:20})},"Edit"),(0,e.h)(uA,{post:Q,user:d,onChange:Ct}),(0,e.h)(Ha.ZP,{ref:this.shareDialogRef,user:d,pub:B,post:Q,reaction_token:_e,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)(G3,{pub:B,post:Q,stripe_publishable_key:Tn,sharer:vr}),Q.videoUpload&&Q.type==="video"&&Qo&&(0,e.h)(Qo,{mediaUpload:Q.videoUpload,pub:B,post:Q,autoPlay:br,restorePlaybackLocation:!0,reaction_token:_e,ref:this.videoPlayer}),Q.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(zS,{bylinesEnabled:B.bylines_enabled,commentCount:ni,commentsEnabled:n,freeSignupEmail:ye,isFreeSignup:ce,isLikesEnabled:mo,isPaywall:Ue,post:Q,pub:B,magicToken:_e,renderEditButton:()=>(0,e.h)(Zc.l,{pub:B,post:Q,iconHeight:18,user:d,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:d,onChange:Ct,onClickCommentButton:n?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer,videoPlayerRef:this.videoPlayer,reaction_token:_e,onFeedChange:ri=>this.setState({feedUrl:ri})}),ci&&(0,e.h)(qS,{activeTab:Tr,loadedWithHeaderLink:Ir,commentCount:ni,onClickTab:this.handleClickTab,transcription:(Uo=Q.podcastUpload)==null?void 0:Uo.transcription,hideComments:!n,showPlayers:!!Q.videoUpload&&!yo,feedUrl:this.state.feedUrl,pub:B,post:Q})):(0,e.h)(e.Fragment,null,(0,e.h)(Tu,{user:d,pub:B,post:Q,isOnPostPage:!0,freeSignup:ce,freeSignupEmail:ye,reaction_token:_e,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:xt,noTitleLink:Yt,onChange:Ct,hideDate:Q.type==="page",hideAudience:Q.type==="page",showReactions:mo,showComments:sn,showLabel:!0,showUpdatedIcons:!0,fromPostPage:Xt,onClickCommentButton:this.onCommentButtonClicked,reactors:Cr,showRestackModal:un,showTranscriptionButton:!!vi,onTranscriptionClick:this.onTranscriptionClick,themeVariables:mr}),!ge&&$o&&(0,e.h)(le,{onVisible:()=>this.onTopReached(Ue)}),(Q.has_voiceover||!!Q.voiceoverUpload)&&(0,e.h)(Pa.VoiceoverPlayer,{pub:B,post:Q,mediaUploadId:Q.voiceover_upload_id,duration:(po=Q.voiceoverUpload)==null?void 0:po.duration,autoPlay:$r,href:Q.canonical_url,isPaywalled:!Q.voiceover_upload_id}),!Q.voiceoverUpload&&$r&&ui&&(0,e.h)(Z3,{postId:Q.id,onClose:()=>{(0,y.j)(y.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:Q.id}),this.setState({autoPlayVoiceOver:!1})}})),zn?(0,e.h)(ux,{postType:Q.type,crossPostInfo:zn}):null,(Q.type!=="podcast"||Tr==="details"||!ci)&&(0,e.h)("div",{className:i()({"container container--podcast-post container--podcast-post-with-ufi":Q.type==="podcast"})},(0,e.h)("div",{className:"available-content"},_r?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(_h,{post:Q,pub:B,user:d,playerRef:this.videoPlayer})):(0,e.h)(Ys,{html:xr||Q.body_html,pub:B,trackSelection:!0,user:d,freeSignup:ce,freeSignupEmail:ye,post:Q,paywall:Ue,showing_behind_paywall:!!Q.post_paywall_content_for_google,themeVariables:mr})),Q.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(Ys,{html:Q.post_paywall_content_for_google,pub:B,trackSelection:!1,user:d,freeSignup:ce,freeSignupEmail:ye,post:Q,paywall:Ue})),!ge&&$o&&(0,e.h)(le,{onVisible:()=>this.onBottomReached(Ue)}),Ue&&!Q.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(Qs,ul({user:d,freeSignupEmail:ye,freeSignup:ce,publication:B,post:Q,fromPostPage:Xt,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Vt:null},Object.assign({title:zo,reauthenticationTitle:nr("To read this, please re-authenticate.")},Ue))),(0,e.h)(m0,{post:Q})):xr?(0,e.h)("p",null,(0,e.h)(ct.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",nr("show full post"))):!["page"].includes(Q==null?void 0:Q.type)&&(0,e.h)(e.Fragment,null,Ro&&(0,e.h)(oA,{pub:B,post:Q,user:d,freeSignup:ce,freeSignupEmail:ye}),!Ro&&this.shouldShowRecommendCta&&(0,e.h)(X5,{pub:B}),(0,Ei.default)("like_posts_enabled")&&B.community_enabled&&jo&&(0,e.h)(_.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(c0,{post:Q,pub:B,user:d,reactors:Cr,secondaryFaces:to})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(li.Mp,{post:Q,pub:B,user:d,onChange:Ct,themeVariables:mr})),(0,e.h)(m0,{post:Q})),Q.show_guest_bios&&Q.type!=="podcast"&&(0,e.h)(aA,{user:d,pub:B,post:Q})),Q.type==="podcast"&&Tr==="comments"&&n&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(nS,{comments:Yr!=null?Yr:[],expectedCommentCount:ni,post:Q,pub:B,sort:Jr,token:_e,user:d,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),Q.type==="podcast"&&Tr==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(_h,{post:Q,pub:B,user:d,playerRef:this.podcastPlayer})))}}Yi(rd,"contextType",ji),Yi(rd,"displayName","Post");const od=(0,_.dd)((0,He.f9)((0,Le.us)((0,P.fz)(rd)))),oA=({pub:r,post:n,user:d,freeSignup:B,freeSignupEmail:Q,overridePledgesEnabled:ce})=>{const{iString:ye,iTemplate:_e}=(0,P.M1)(),{getSettingFor:ge}=(0,Le.So)(),Ue=r.payments_state==="disabled"&&!r.invite_only&&(ge("payment_pledges_enabled")||ce),Ct=r.payments_state==="enabled"&&(d!=null&&d.is_free_subscribed)&&!(d!=null&&d.is_subscribed)?"paid_upsell":Ue&&(d!=null&&d.is_free_subscribed)&&!(d!=null&&d.is_pledged)?"pledge_upsell":"free_upsell";(0,t.d4)(()=>{(0,y.j)(y.FP.POST_END_CTA_RENDERED,{pub_id:r.id,post_id:n.id,type:Ct})},[r.id,n.id,Ct]);const xt=(0,Bt.getByLine)(r);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(le,{onVisible:()=>{(0,y.j)(y.FP.POST_END_CTA_SEEN,{pub_id:r.id,post_id:n.id,type:Ct})}}),(0,e.h)("h3",null,Ue&&(d!=null&&d.is_free_subscribed)?_e`Support ${r.name}`:_e`Subscribe to ${r.name}`),(0,e.h)("p",{className:"end-cta-author-subs"},xt?_e`By ${xt}`:null,xt&&r.rankingDetail?" \xB7 ":null,r.rankingDetail),r.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},r.hero_text),Ue&&(d!=null&&d.is_free_subscribed)&&!(d!=null&&d.is_pledged)?(0,e.h)(Oe.zx,{priority:"primary-theme",onClick:()=>{(0,y.j)(y.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,E.redirect)((0,$.getSubscribeUrl)(r,{params:{utm_source:"post-end-cta"}}),{local_navigation:!1})}},ye("Pledge your support")):(0,e.h)(Ca,{pub:r,post:n,user:d,freeSignup:B,freeSignupEmail:Q,isStatic:!1,source:"post-end-cta"}))},Y0=({pub:r})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${r&&r.bylines_enabled&&r.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),Tu=({allowEdit:r,allowSendEmail:n,allowTruncate:d,base_url:B,children:Q,className:ce,hideAudience:ye,hideDate:_e,hideTitle:ge,hidePinning:Ue,noTitleLink:Ct,isStatic:xt,isFreePreview:Yt,is_draft:sn,onChange:Xt,post:Vt,pub:un,reaction_token:Tn,showComments:zn,showDatetime:nr,showEmailSent:Xn,showReactions:mr,showShare:vr,showAppUpsell:_r,showSubtitle:Tr,showPhoto:Ir,showLabel:xr,showRestack:Mr,showCommentRestack:br,hideAuthor:$r,user:Yr,utm_source:Jr,showUpdatedIcons:ao,fromPostPage:Cr,onClickCommentButton:to,reactors:ho,inThreadHead:Co,publishedPost:vo,compEndsSoon:Do,compEndedRecently:Uo,siteConfigValues:po={},eligibleForTTS:yo,showRestackModal:mo,showIcon:Vo,isOnPostPage:Zo,showTranscriptionButton:$o,onTranscriptionClick:Qo,themeVariables:vi})=>{const ci=(0,x.isMobile)({checkFirst4:!0}),ni=typeof d=="number"?d:45,Ro=Vt.title&&Vt.title.length>ni,ui=sn?Vt.draft_title:Vt.title,jo=[(Vo||Vt.type==="thread")&&(0,e.h)(V5,{postType:Vt.type,isStatic:xt,height:15,className:Vt.type}),Ro&&d?(0,Bt.truncateWords)(ui,ni):ui],zo=sn?Vt.draft_subtitle:Vt.subtitle;Vt.section_id&&un.sections&&un.sections.length&&(Vt.section=un.sections.find(Al=>Al.id===Vt.section_id));const ri=!["page"].includes(Vt==null?void 0:Vt.type),ta=ri&&xt&&Do&&(po==null?void 0:po.continue_support_cta_in_newsletter_emails),Ji=Q0(Vt)||yo||Vt.voiceoverUpload,ca=(Vt==null?void 0:Vt.type)==="adhoc_email",ii=ri&&xt&&!ca;let zi;Vt.post_url_override?zi=Vt.post_url_override:xt?zi=Ri.Substitutions.POST_TITLE_URL:zi=`${(0,$.getPostUrl)(un,Vt)}${Jr?`?utm_source=${Jr}`:""}`;const Ma=`${un.base_url+(Vt.section?(0,$.getSectionUrl)(un,{section:Vt.section}):"")}/?utm_source=substack&utm_medium=menu`;return(0,e.h)("div",{className:i()("post-header",ce)},xr&&(un.parent_publication||Vt.section)&&(0,e.h)(_.hs,{className:"post-label"},(0,e.h)(_.xv.Meta,{as:"a",size:14,href:Ma},un.parent_publication?un.name:Vt.section.name)),ta&&(0,e.h)(tx,{post:Vt,compAlreadyExpired:Uo}),!ge&&(0,e.h)("h1",{className:i()("post-title",Vt.is_published?"published":Vt.type==="restack"?"email-only-cross-post":Vt.type==="adhoc_email"?"adhoc":"unpublished")},Ct?jo:(0,e.h)("a",{href:zi},jo)),Tr&&zo&&(0,e.h)("h3",{className:"subtitle"},zo),Zo&&!xt?(0,e.h)(_.tu,{paddingBottom:16},(0,e.h)(_.tu,{paddingY:16},(0,e.h)(cA,{post:Vt,pub:un})),ci?Cr&&(0,e.h)(li.mt,{post:Vt,pub:un,user:Yr,isStatic:xt,postReactionToken:Tn,onChange:Xt,allowEdit:r,hidePinning:Ue,showEmailSent:Xn,allowSendEmail:n,hideComments:!zn,onCommentsClick:to,showRestackModal:mo}):(0,e.h)(li.Mp,{post:Vt,pub:un,user:Yr,onChange:Xt,showRestackModal:mo,showTranscriptionButton:$o,onTranscriptionClick:Qo,themeVariables:vi})):(0,e.h)(e.Fragment,null,ri&&!xt&&!vo&&!Co?(0,e.h)(Om,{className:"meta-subheader",pub:un,post:Vt,user:Yr,showDate:!_e,showDatetime:nr,isStatic:xt,postReactionToken:Tn,onChange:Xt,allowEdit:r,hidePinning:Ue,showEmailSent:Xn,allowSendEmail:n,allowMobileFooter:Cr,reactors:ho,onCommentsClick:to,showRestackModal:mo}):ri&&!xt&&vo?(0,e.h)(li._2,{post:Vt,pub:un,user:Yr,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Tn,showEmailSent:Xn,hideShare:!vr||Vt.type==="restack",hideComments:Vt.type==="restack",hideSavePost:Vt.type==="restack",hideReactions:Vt.type==="restack",showPreamble:!0,allowEdit:r,allowSendEmail:n,editButtonIsLast:!0,preambleConfig:{showAudience:!ye,showDate:!_e,showDatetime:nr,showAuthor:!$r},position:"publisher-post-list"}):Co&&!xt?(0,e.h)(li._2,{post:Vt,pub:un,user:Yr,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Tn,hideSavePost:!0,showPreamble:!0,allowEdit:r,allowSendEmail:n,editButtonIsLast:!0,onChange:Xt,preambleConfig:{showAudience:!ye,showDate:!_e,showDatetime:nr,showAuthor:!$r},hideShare:!vr,position:"publisher-post-list"}):ri?(0,e.h)(a5,{user:Yr,pub:un,post:Vt,showDate:!_e,showDatetime:nr,showEmailSent:Xn,showAudience:!ye,showReactions:!ii&&mr,showComments:!ii&&zn,showShare:!ii&&vr,showRestack:!ii&&Mr,reaction_token:Tn,onChange:Xt,isStatic:xt,isFreePreview:Yt,sharedShareDialog:!0,base_url:B,allowSendEmail:n,allowEdit:r,showAuthor:!$r,showPhoto:Ir,hidePinning:Ue,showUpdatedIcons:ao,inThreadHead:Co,fromPostPage:Cr,onClickCommentButton:to,reactors:ho}):(0,e.h)("div",{className:"spacer",style:{height:24}}),ri&&ii&&(0,e.h)(li.yT,{customization:{showShare:vr,showComments:zn,showReactions:mr,showListen:!Mr&&!Yt&&Ji,showSave:!Mr,showRestack:Mr,showCommentRestack:br,showAppUpsell:_r}}),ca&&(0,e.h)("div",{className:"email-ufi-2-empty"})),Q)};class J0 extends e.Component{constructor(){super(...arguments),Yi(this,"onClick",n=>{const d=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,E.redirect)(d,{event:n})}),Yi(this,"getLink",()=>{var n;return this.props.linkToComments?(0,$.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((n=this.props.post)==null?void 0:n.type)==="video"?(0,g.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,$.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let n=this.props.maxTitleLength;return typeof n=="function"&&(n=n(this)),(typeof n!="number"||!(n>0))&&(n=140),n}getMaxDescriptionLength(){let n=this.props.maxDescriptionLength;return typeof n=="function"&&(n=n(this)),(typeof n!="number"||!(n>0))&&(n=152),n}render({className:n,post:d,pub:B,user:Q,showDate:ce,hideShare:ye,authorInMeta:_e,imageAssetSize:ge,imageAspectRatio:Ue,onChange:Ct,linkToComments:xt,showPublicationName:Yt,isBigPost:sn,showPins:Xt,hideDescription:Vt,hideAuthor:un,isBelowTheFold:Tn}){var zn;const nr=this.getLink(),Xn=typeof window=="undefined"||(0,Ei.default)("like_posts_enabled"),mr=!un&&!_e&&(B==null?void 0:B.bylines_enabled)&&(0,Bt.getPrintedByline)(B,d),vr=this.props.showCoverImage&&((0,lo.getCoverImageUrl)(d)||!this.props.coverImageOptional);!ge&&!Ue&&(Ue=1.32);const _r=ge||336,Tr=(0,Bt.getBylineUsers)(d);return(0,e.h)("div",{className:i()("post-preview",n,{"has-image":vr,"has-author-line":!_e}),onClick:this.onClick},(0,e.h)(_.tu,{className:"post-preview-container"},vr&&d.type==="restack"&&(0,e.h)(_.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(yu.Z,{height:sn?26:16,className:"restack"}),(0,e.h)(_.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(_.hs,{className:"post-preview-content-container",gap:4},vr&&(0,e.h)(ja,{className:"post-preview-image",imageAspectRatio:Ue,post:d,imageWidth:_r,isBelowTheFold:Tn}),(0,e.h)("div",{className:"post-preview-content"},(B==null?void 0:B.parent_publication)&&sn&&(0,e.h)(_.hs,{className:"post-label"},(0,e.h)(_.xv.Meta,{as:"a",size:14,href:`${B.base_url}/?utm_source=substack&utm_medium=menu`},B.name)),!vr&&d.type==="restack"&&(0,e.h)(_.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(yu.Z,{height:sn?26:16,className:"restack"}),(0,e.h)(_.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:nr,className:`post-preview-title ${d.type}`},d.type==="thread"&&(0,e.h)(Gc,{height:sn?26:17,className:"thread"}),d.type==="podcast"&&(d.videoUpload&&((zn=d.videoUpload)==null?void 0:zn.media_type)==="video"?(0,e.h)(Xm,{height:sn?26:19,width:sn?26:19,className:"video"}):(0,e.h)(Ut,{height:sn?26:17,className:"podcast"})),xt&&d.type!=="thread"&&"Comments on: ",(0,Bt.truncateWords)(d.title,this.getMaxTitleLength())),!Vt&&(0,e.h)("a",{href:nr,className:"post-preview-description"},wi()((0,Bt.truncateWords)(d.description,this.getMaxDescriptionLength()))),mr&&(0,e.h)("div",{className:"post-preview-author"},Tr.length>0?(0,Bt.oxfordComma)(Tr.map(Ir=>(0,e.h)(Xi.Ct,{subject:Ir,utmSource:"byline"},(0,e.h)("a",{href:(0,g.getProfileUrl)(Ir,B),onClick:xr=>xr.stopPropagation()},Ir.name)))):(0,Bt.getPrintedByline)(B,d)),B&&(0,e.h)(li._2,{pub:B,post:d,user:Q,hideShare:d.type==="restack"||ye,hideReactions:d.type==="restack"||!Xn,hideComments:d.type==="restack"||!(0,Bt.showCommentsOnPost)({publication:B,post:d}),hideSavePost:d.type==="restack",showRestackButton:d.type!=="restack",hideFeedRestackButton:d.type==="restack",allowEdit:d.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:Ct,showPreamble:!0,preambleConfig:{showPins:Xt,showAudience:!0,showDate:ce,showAuthor:d.type!=="restack"&&!un&&!mr&&_e,showPublicationName:Yt,showCrossPostedPublicationName:!0},position:"post-list"})))))}}Yi(J0,"contextType",It.QA);const iA=({className:r,pub:n})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${r||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),n&&n.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),aA=({user:r,pub:n,post:d})=>{const{iString:B,iTemplate:Q}=(0,P.M1)(),ce=(0,Bt.getBylineUsers)(d).filter(ye=>ye.is_guest);return ce.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),ce.map(ye=>{const _e=(0,Bt.guessFirstName)(ye.name);let ge=ye.primaryPublicationSubscribeUrl;ge&&(r!=null&&r.email)&&(ge=(0,g.updateQuery)(ge,{email:r.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const Ue=(0,g.updateQuery)((0,$.getReaderProfileUrl)(ye),{utm_campaign:"guest_post_bio",utm_medium:"web"}),Ct=Lc.ZP.hasCustomProfilePhoto(ye);return(0,e.h)("div",{className:i()("post-contributor-bio",{"post-contributor-bio-no-text":!ye.bio}),"data-user-id":ye.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},Ct&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(Xi.Ct,{subject:ye,utmSource:"byline"},(0,e.h)(Lc.ZP,{size:52,user:r,pub:n,subject:ye}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},ye.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},B("A guest post by")),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!ye.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},B("A guest post by")),(0,e.h)(_.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(Xi.Ct,{subject:ye,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:Ue,native:!0},ye.name)),(0,e.h)(Wo.s,{size:"sm",tier:ye.bestseller_tier,userId:ye.id})),ye.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},ye.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},ge&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:ge,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},Q`Subscribe to ${_e}`)))))))))))}))};class pR extends null{render({renderPost:n,posts:d,hideFirstHeading:B,className:Q,top:ce,children:ye}){return d=d.slice(0).sort((_e,ge)=>dayjs(ge.post_date)-dayjs(_e.post_date)),h("div",{className:`calendared-post-list ${Q||""}`},ce,flat(this.renderByHeading(d,"year",(_e,ge)=>[!ge.isSameNow("year")&&h("h2",{date:ge},ge.year()),this.renderByHeading(_e,"month",(Ue,Ct)=>[!(Ct.isSameNow("year")&&Ct.isSameNow("month"))&&h("h3",{date:ge},get_month_name(Ct)," ",!Ct.isSameNow("year")&&Ct.year()),Ue.map(xt=>n(xt,d.indexOf(xt),d))])]),1/0).filter(_e=>_e).filter((_e,ge,Ue)=>!B||ge>=Ue.findIndex(Ct=>!Ct.props||!Ct.props.date)),ye)}renderByHeading(n,d,B){return Array.from(group_by(n,Q=>dayjs(Q.post_date)[d]())).sort((Q,ce)=>ce[0]-Q[0]).map(([,Q])=>B(Q,dayjs(Q[0].post_date)))}}function sA(r,n=1e4,d=n){if(typeof window=="undefined")return null;const B=document.createElement("div");if(B.innerHTML=r,B.textContent.length<n||B.childNodes.length<=1)return null;do B.removeChild(B.lastChild);while(B.childNodes.length>1&&B.textContent.length>d);return B.innerHTML}function lA(r,n=500){if(typeof window=="undefined")return!1;const d=document.createElement("div");d.innerHTML=r;let B="",Q=!1;for(let ce=d.childNodes.length-1;ce>=0;ce--){const ye=d.childNodes[ce];if((0,E.hasClass)(ye,"button-wrapper")||(0,E.hasClass)(ye,"subscription-widget-wrap")){Q=!0;break}if(B+=ye.textContent,B.length>n)break}return!Q}function uA({post:r,user:n,onChange:d}){const{onSave:B}=(0,li.vk)({post:r,isSaved:!1});return(0,t.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,g.updateQuery)({action:null})),n)){const ce=B();d({post:Du(ul({},r),{is_saved:ce})})}},[]),null}function Q0(r){var n;return(n=r.audio_items)==null?void 0:n.some(d=>d.type==="tts")}function cA({post:r,pub:n,relativeLinks:d}){const{publishedBylines:B=[]}=r,Q=n.bylines_enabled&&(0,Bt.getPrintedByline)(n,r)&&r.type!=="podcast",ce=Q&&n.byline_images_enabled&&B.some(({photo_url:Ct})=>!!Ct),ye=r.type!=="page",{iContext:_e,language:ge}=(0,P.M1)(),Ue=new Intl.DateTimeFormat(ge==="en"?void 0:ge,{dateStyle:"medium"});return(0,e.h)(_.hs,{justifyContent:"start",gap:12,alignItems:"center"},ce&&(0,e.h)(_.hs,null,(0,e.h)(Xs.ZP,{faces:B,hoverProfiles:!0,maximum:4,showBlanks:!0,relativeLinks:d})),(0,e.h)(_.tu,null,Q&&(0,e.h)(_.xv.Meta,{color:"pub-primary-text"},(0,e.h)(cx.M,{array:B,formatter:Ct=>(0,e.h)(Xi.Ct,{subject:Ct,utmSource:"byline"},(0,e.h)(_.xv,{as:"a",href:(0,$.getReaderProfileUrl)(Ct),decoration:"hover-underline"},Ct.name)),limit:4})),(0,e.h)(_.hs,{gap:4},(0,e.h)(_.xv.Meta,{color:"pub-secondary-text"},Ue.format(Zn()(r.post_date).toDate())),ye&&(0,lo.isPaidAudience)(r.audience)&&(0,e.h)(_.xv.Meta,{color:"pub-secondary-text"},"\u2219 ",_e("postAudience","Paid")))))}var dA=Object.defineProperty,X0=Object.getOwnPropertySymbols,pA=Object.prototype.hasOwnProperty,fA=Object.prototype.propertyIsEnumerable,id=(r,n,d)=>n in r?dA(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ad=(r,n)=>{for(var d in n||(n={}))pA.call(n,d)&&id(r,d,n[d]);if(X0)for(var d of X0(n))fA.call(n,d)&&id(r,d,n[d]);return r},Va=(r,n,d)=>(id(r,typeof n!="symbol"?n+"":n,d),d),hA=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class mA extends e.Component{constructor(n,d){if(super(n,d),Va(this,"onTabClick",B=>Q=>{Q.preventDefault(),this.loadTab(B)}),Va(this,"onSearchInput",B=>{this.state.tab.id==="search"&&this.loadTab("search",B.target.value||"")}),Va(this,"onSearchKeyDown",B=>{this.state.tab.id==="search"&&B.key==="Escape"&&(B.target.blur(),this.loadTab(this.state.tabs[0].id))}),Va(this,"onPostClicked",(B,Q,ce,ye)=>{(0,y.j)(y.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:Q,tab:this.state.tab.id,rank_in_feed:ce,source:ye!=null?ye:this.props.source})}),Va(this,"onSearchBlur",B=>{this.state.tab.id==="search"&&!B.target.value&&this.loadTab(this.state.tabs[0].id,"")}),Va(this,"loadTab",(B,Q)=>hA(this,null,function*(){const ce=this.state.tabs.find(Ct=>Ct.id===B);let ye=!1;if(ce.id==="search"&&typeof Q=="string"&&ce.query!==Q&&(ye=!0,ce.query=Q,ce.posts=null,ce.fullyLoaded=!1,ce.loading=!1,ce.loadingError=null),ce.id!==this.state.tab.id?(this.setState({tab:ce},()=>{ce.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,g.updateQuery)({sort:ce.id,search:ce.query||null}))):ye&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,g.updateQuery)({search:ce.query||null})),ce.loading||ce.fullyLoaded)return;if(ce.id==="search"&&!ce.query){ce.posts=[],ce.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const _e=(0,Bt.randomString)();if(ce.loading=_e,ce.loadingError=null,this.setState({tabs:this.state.tabs}),ce.id==="search"&&ce.query&&(yield new Promise(Ct=>setTimeout(Ct,300)),ce.loading!==_e))return;!this.state.tabs.find(Ct=>Ct.posts||Ct.fullyLoaded||Ct.loading||Ct.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(Ct=>setTimeout(Ct,this.props.delayFirstLoad)));const Ue=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const Ct=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),xt=(yield zt().get(Ue).query(ad(ad(ad({sort:ce.id==="search"?"new":ce.id,search:ce.id==="search"?ce.query:"",offset:(ce.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(ce.loading!==_e)return;ce.posts=ce.posts?ce.posts.concat(xt):xt,ce.fullyLoaded=xt.length<Ct||this.props.maxPosts&&ce.posts.length>=this.props.maxPosts}catch(Ct){console.error("Failed to load tab:",Ct),ce.loadingError=Ct}ce.loading=!1,this.setState({tabs:this.state.tabs})})),Va(this,"onChange",({post:B})=>{B&&((0,E.stateTransaction)(this,Q=>{let ce=!1;const ye=Q.tabs.map(_e=>_e.posts).filter(_e=>Array.isArray(_e));for(const _e of ye){const ge=_e.findIndex(Ue=>Ue.id===B.id);ge!==-1&&(_e[ge]=B,ce=!0)}ce&&this.setState({tabs:Q.tabs})}),this.props.onChange&&this.props.onChange(B))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(n){(n.hideTop!==this.props.hideTop||n.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var n,d;let B=[];const{iString:Q}=this.props;B.push({id:"new",title:this.props.newTitle||Q("New"),posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||B.push({id:"top",title:this.props.topTitle||Q("Top"),posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(n=this.props.pub)!=null&&n.community_enabled&&((d=this.props.pub)!=null&&d.has_community_content)&&B.push({id:"community",title:this.props.communityTitle||Q("Community"),posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),B=this.props.sortTabs&&this.props.sortTabs(B)||B,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&B.push({id:"search",title:Q("Search"),posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const ce=B.find(ye=>ye.id===this.props.sort)||this.props.search&&B.find(ye=>ye.id==="search")||B[0];return{tabs:B,tab:ce}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:n,className:d,disableInteractive:B,emptyMessage:Q,filterPosts:ce,hideAuthor:ye,hideSearchTab:_e,hideShare:ge,isBelowTheFold:Ue,isPodcast:Ct,maxPosts:xt,maxTitleLength:Yt,pinnedPosts:sn,profile:Xt,pub:Vt,renderLoading:un,renderPosts:Tn,renderTabs:zn,renderSeeAll:nr,showMonthDividers:Xn,showPins:mr,showPublicationName:vr,source:_r,user:Tr,iString:Ir,iTemplate:xr},{tabs:Mr,tab:br}){Q=Q||Ir("No posts");const $r=Xn&&br.id==="new",Yr=Mr.find(mo=>mo.id==="search"),Jr=Mr.find(mo=>mo.id==="community");let ao=Array.isArray(br.posts)?br.posts.filter(mo=>!(Vt&&br.id==="top"&&mo.top_exclusions.includes(Vt.id))).filter(mo=>Vt!=null&&Vt.section&&(sn!=null&&sn.length)?!sn.find(Vo=>Vo.id===mo.id):!0).filter(mo=>!Bt.hidePaidPostsFor.includes(Vt==null?void 0:Vt.subdomain)||mo.audience==="everyone"||(Tr==null?void 0:Tr.is_subscribed)).filter(ce||(()=>!0)):[];Vt!=null&&Vt.section&&(sn!=null&&sn.length)&&["new","top"].includes(br.id)&&(ao=[...sn,...ao]);const Cr=ao.length===0,to=!ao&&!br.loadingError,ho=ao.some&&ao.some(mo=>mo.cover_image);let Co;Xt&&(Co=new Map(Xt.publicationUsers.map(mo=>[mo.publication.id,mo.publication])));const vo=xt?ao.slice(0,xt):ao,Do=Tn?Tn({posts:vo,linkToComments:br===Jr,onClickPost:({event:mo,post:Vo,index:Zo,source:$o})=>this.onPostClicked(mo,Vo.id,Zo,$o),postGroups:$r?gA(vo,Vt.language):null}):[];if(!Tn){let mo;vo.forEach((Vo,Zo)=>{if($r){const $o=rs()(Vo.post_date).format("MMMM YYYY");$o!==mo&&(Zo!==0&&Do.push((0,e.h)("h3",null,$o)),mo=$o)}Do.push((0,e.h)(J0,{key:Vo.id,className:"portable-archive-post",post:Vo,pub:Vt||Co&&Co.get(Vo.publication_id),user:Tr,showDate:!0,showCoverImage:ho,authorInMeta:(0,Bt.getBylineUsers)(Vo).length<=1&&n!==!1,linkToComments:br===Jr,onChange:this.onChange,disableInteractive:B,showPins:mr,showPublicationName:vr,hideAuthor:ye,onClick:$o=>this.onPostClicked($o,Vo.id,Zo,_r),maxTitleLength:Yt,hideShare:ge,isBelowTheFold:Ue}))})}const Uo=Ct?(0,$.getPodcastArchiveUrl)({pub:Vt,section:Vt.section,params:{sort:br.id,search:br.query}}):(0,g.getArchiveUrl)(Vt,{params:{sort:br.id,search:br.query}}),po=nr?nr({url:Uo}):(0,e.h)("a",{className:"portable-archive-all",href:Uo,native:!0},Ir("See all")," ",(0,e.h)(Pe,{height:12,width:12})),yo=un?un():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(iA,{pub:Vt}));return(0,e.h)("div",{className:i()("portable-archive",d,{"empty-list":Cr})},zn&&zn({activeTabId:br.id,isSearching:br===Yr,showSearch:!!(Yr&&!_e),searchInputProps:{value:Yr==null?void 0:Yr.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:mo=>{this.searchInput=mo},tabs:Mr.filter(mo=>!mo.hidden),onClick:mo=>{this.loadTab(mo)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(Mr[0].id)}}),!zn&&(0,e.h)("div",{className:"portable-archive-tabs"},br===Yr?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(nu,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:mo=>this.searchInput=mo,className:"portable-archive-search-bar-input",type:"text",placeholder:Ir("Search..."),value:br.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(S.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(Mr[0].id)})):(0,e.h)(e.Fragment,null,Mr.filter(mo=>!mo.hidden).map(({id:mo,title:Vo})=>(0,e.h)("a",{className:`portable-archive-tab ${mo}-tab ${br.id===mo?"active":""}`,onClick:this.onTabClick(mo)},(0,e.h)("span",{className:"portable-archive-tab-content"},Vo))),Yr&&!_e&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(nu,null)))),(0,e.h)("div",{className:"portable-archive-list"},br.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},Ir("Failed to load posts")):ao.length===0&&!br.loading?(0,e.h)("p",{className:"portable-archive-empty"},br.id!=="search"?Q:br.query?Ir("No results"):xr`Search ${Vt?Vt.name:""}`):(0,e.h)(e.Fragment,null,Do,!xt&&!to&&!br.loading&&!br.fullyLoaded&&(0,e.h)(le,{threshold:640,onVisible:()=>this.loadTab(br.id,br.query)})),br.loading||to?yo:xt&&ao.length>=xt&&po))}}const sd=(0,P.fz)(mA),gA=(r,n="en")=>{let d;const B=[];return r.forEach((Q,ce)=>{const ye=rs()(Q.post_date).locale(n).format("MMMM YYYY");ye!==d?(ce===0?B.push({label:"",posts:[Q]}):B.push({label:ye,posts:[Q]}),d=ye):B[B.length-1].posts.push(Q)}),B},ld={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},Oa=({children:r,showContentBelowOnMobile:n,stretchVertically:d,variant:B})=>(0,e.h)("div",{style:d?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:i()(ld.container,ld[B],{[ld["show-below"]]:n})},r)),cl=({numColumns:r,paddingBottom:n,paddingTop:d})=>(0,e.h)(Oa,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(_.tu,{paddingBottom:typeof n=="number"?n:24,paddingTop:typeof d=="number"?d:24},(0,e.h)(_.hs,{borderBottom:"detail-themed"}))),ud=(0,e.createContext)({url:"",linkToComments:!1}),dl=3/2,cd=16/9,vA=(0,fo.forwardRef)(({animated:r=!0,variant:n},d)=>["grid","grid-groups"].includes(n)?(0,e.h)(_.tu,{gap:12,ref:d},(0,e.h)(Zi,{animated:r,aspectRatio:dl}),(0,e.h)(_.tu,{gap:8},(0,e.h)(Zi,{animated:r,height:24,width:"70%"}),(0,e.h)(Zi,{animated:r,height:20,width:"90%"}),(0,e.h)(Zi,{animated:r,height:20,width:"50%"}))):n==="list"?(0,e.h)(_.tu,{gap:8,ref:d},(0,e.h)(Zi,{animated:r,height:28,width:"60%"}),(0,e.h)(Zi,{animated:r,height:24,width:"80%"}),(0,e.h)(Zi,{animated:r,height:20,width:"20%"})):null),q0={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},dd=(0,fo.forwardRef)(({animated:r=!0,postCount:n,variant:d},B)=>(0,e.h)("div",{className:i()({[q0.loadingContainerGrid]:["grid","grid-groups"].includes(d),[q0.loadingContainerList]:d==="list"}),ref:B},Array.from(new Array(n)).map(()=>(0,e.h)(vA,{variant:d,animated:r})))),eg={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},_A=({tabs:r,activeTabId:n,onClick:d})=>(0,e.h)(Se.gq,{gap:8},r.map(B=>(0,e.h)(yA,{onClick:()=>{d(B.id)},active:B.id===n},B.title))),yA=({active:r,onClick:n,children:d})=>(0,e.h)("div",{className:i()(eg.pillTab,{[eg.pillTabActive]:r}),role:"button",onClick:n},d),pl={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var bA=Object.defineProperty,EA=Object.defineProperties,PA=Object.getOwnPropertyDescriptors,tg=Object.getOwnPropertySymbols,CA=Object.prototype.hasOwnProperty,wA=Object.prototype.propertyIsEnumerable,ng=(r,n,d)=>n in r?bA(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,OA=(r,n)=>{for(var d in n||(n={}))CA.call(n,d)&&ng(r,d,n[d]);if(tg)for(var d of tg(n))wA.call(n,d)&&ng(r,d,n[d]);return r},SA=(r,n)=>EA(r,PA(n));const Iu=({children:r,communityTitle:n,delayFirstLoad:d,filterPosts:B,isBelowTheFold:Q,isPodcast:ce,maxPosts:ye,pinnedPosts:_e,newPosts:ge,pub:Ue,search:Ct,sectionId:xt,showMonthDividers:Yt,sort:sn,sortTabs:Xt,source:Vt,user:un,variant:Tn="list"})=>{const{iString:zn}=(0,P.M1)(),{isDesktop:nr}=yi(),{getConfigFor:Xn}=(0,It.xR)(),mr=!!Xn("homepage_overlap_ufi"),{getSettingFor:vr}=(0,Le.So)(),_r=(0,Bt.ensureInList)(vr("post_preview_crop_gravity"),["center","auto"]);return(0,e.h)(hs.Provider,{value:{alwaysShowActions:!1,overlapUfi:mr&&nr,cropGravity:_r}},(0,e.h)(sd,{communityTitle:n,delayFirstLoad:d,filterPosts:B,isBelowTheFold:Q,isPodcast:ce,maxPosts:ye,newPosts:ge,pinnedPosts:_e,pub:Ue,renderPosts:({posts:Tr,linkToComments:Ir,onClickPost:xr,postGroups:Mr})=>Mr?Mr.map(({label:br,posts:$r})=>(0,e.h)(e.Fragment,null,br&&(0,e.h)(e.Fragment,null,(0,e.h)(cl,{paddingTop:8,paddingBottom:8}),(0,e.h)(_.xv.Meta,{className:pl.monthHeader,color:"pub-accent",paddingBottom:24},br)),r({posts:$r,linkToComments:Ir,onClickPost:xr}))):r({posts:Tr,linkToComments:Ir,onClickPost:xr}),renderLoading:()=>(0,e.h)(dd,{variant:Tn,postCount:ye!=null?ye:7}),renderSeeAll:({url:Tr})=>Tn==="grid-groups"?null:(0,e.h)(_.gq,{paddingTop:16},(0,e.h)(_.zx,{href:Tr,rightIcon:(0,e.h)(lc.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},zn("See all"))),renderTabs:({activeTabId:Tr,isSearching:Ir,tabs:xr,searchInputProps:Mr,searchRef:br,showSearch:$r,onClick:Yr,onClickSearch:Jr,onClickSearchClose:ao})=>Tn==="grid-groups"?null:Ir?(0,e.h)(_.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(_.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(nu,{height:16,className:pl.searchIcon}),(0,e.h)("input",SA(OA({},Mr),{ref:br,type:"text",placeholder:zn("Search..."),className:pl.searchInput}))),(0,e.h)("div",{role:"button",onClick:ao,className:pl.iconButton},(0,e.h)(S.Z,{height:20}))):(0,e.h)(_.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(_A,{activeTabId:Tr,tabs:xr,onClick:Yr}),$r&&(0,e.h)("div",{role:"button",onClick:Jr,className:pl.iconButton},(0,e.h)(nu,{height:20}))),sectionId:xt,search:Ct,showMonthDividers:Yt,sort:sn,sortTabs:Xt,source:Vt,stateInUrl:!0,user:un}))},xA=({justified:r,post:n,pub:d,user:B,onChange:Q,onToggleMenu:ce})=>{const ye=n.type==="restack";return(0,e.h)(li._2,{allowEdit:!ye,editButtonIsLast:!0,hideComments:!(0,Bt.showCommentsOnPost)({publication:d,post:n})||ye,hideReactions:!d.community_enabled||ye,hideShare:ye,isStatic:!1,justified:r,labelStyle:"counts-or-none",post:n,pub:d,hideFeedRestackButton:ye,showRestackButton:!ye,style:"compressed",user:B,position:"pub-preview",onChange:Q,onToggleMenu:ce})},Sa={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},Ps=({clamp:r,post:n,pub:d,showPin:B})=>{const Q=(0,Bt.getBylineUsers)(n),{iTemplate:ce,language:ye}=(0,P.M1)();return(0,e.h)(_.xv.Meta,{className:Sa.textContainer,color:"pub-secondary-text",clamp:r},B&&(0,e.h)("div",{className:Sa.icon},(0,e.h)(bh,{size:12})),(0,lo.isPaidAudience)(n.audience)&&(0,e.h)("div",{className:i()(Sa.icon,r&&Sa.iconClamped)},(0,e.h)(Em.Z,{audience:n.audience,size:12})),n.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Sa.pub},ce`Published on ${n.restacked_pub_name}`),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:Sa.date,dateTime:Zn()(n.post_date).toISOString()},(0,li.fh)({post:n,showDatetime:!1,language:ye})),n.type!=="restack"&&Q.length>0&&d.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Bt.oxfordComma)(Q.map(_e=>r?(0,e.h)("a",{className:Sa.link,href:(0,g.getProfileUrl)(_e,d),onClick:ge=>ge.stopPropagation()},_e.name):(0,e.h)(Xi.Ct,{subject:_e,utmSource:"byline"},(0,e.h)("a",{className:Sa.link,href:(0,g.getProfileUrl)(_e,d),onClick:ge=>ge.stopPropagation()},_e.name))),{noBreakSpace:!0})))},fl=({align:r,clamp:n,lineHeight:d=20,maxLength:B=152,paddingBottom:Q,post:ce,size:ye=14})=>{const{url:_e}=(0,t.qp)(ud);return(0,e.h)(_.tu,{paddingBottom:Q},(0,e.h)(_.xv,{as:"a",align:r,href:_e,clamp:n,color:"pub-secondary-text",font:"text",size:ye,lineHeight:d},wi()((0,Bt.truncateWords)(ce.description,B))))};var rg=dn(98961);const pd={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},xa={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},Cs=({align:r,clamp:n,maxLength:d=140,paddingBottom:B,post:Q,preset:ce})=>{var ye;const{url:_e,linkToComments:ge}=(0,t.qp)(ud),{lineHeight:Ue,size:Ct}=pd[ce],xt=Ct>=28;return(0,e.h)(_.tu,{paddingBottom:B},(0,e.h)(_.xv,{as:"a",href:_e,align:r,clamp:n,font:"pub-headings",lineHeight:Ue,size:Ct,weight:"semibold","data-testid":"post-preview-title"},Q.type==="thread"&&(0,e.h)(Gc,{height:xt?26:17,className:xa.icon}),Q.type==="podcast"&&(Q.videoUpload&&((ye=Q.videoUpload)==null?void 0:ye.media_type)==="video"?(0,e.h)(rg.Z,{height:xt?26:19,width:xt?26:19,className:i()(xa.icon,xa.iconVideo,xa[`iconVideo-${Ct}`]),strokeWidth:1.8}):(0,e.h)(Ut,{height:xt?26:17,className:xa.icon})),Q.type==="video"&&(0,e.h)(rg.Z,{height:xt?26:19,width:xt?26:19,className:i()(xa.icon,xa.iconVideo,xa[`iconVideo-${Ct}`]),strokeWidth:1.8}),ge&&Q.type!=="thread"&&"Comments on: ",(0,Bt.truncateWords)(Q.title,d)))},Mu={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var AA=Object.defineProperty,DA=Object.defineProperties,TA=Object.getOwnPropertyDescriptors,og=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,MA=Object.prototype.propertyIsEnumerable,ig=(r,n,d)=>n in r?AA(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,RA=(r,n)=>{for(var d in n||(n={}))IA.call(n,d)&&ig(r,d,n[d]);if(og)for(var d of og(n))MA.call(n,d)&&ig(r,d,n[d]);return r},LA=(r,n)=>DA(r,TA(n));const ag=({actions:r,isSmall:n,post:d,pub:B})=>{const{isTablet:Q}=yi(),ce=!!(0,lo.getCoverImageUrl)(d);return(0,e.h)("div",{className:i()(Mu.container,{[Mu.containerNoImage]:!ce})},ce&&(0,e.h)(ja,{className:Mu.image,imageAspectRatio:n?dl:cd,imageWidth:1280,isBelowTheFold:!1,post:d,squareImageSize:"large"}),(0,e.h)(_.tu,{className:Mu.content,alignItems:"center",justifyContent:"center",paddingX:ce?32:64,paddingY:ce?24:64},(0,e.h)(Cs,{post:d,align:"center",preset:Q?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(fl,{post:d,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(Ps,{post:d,pub:B}),(0,e.h)(_.tu,{paddingTop:20},r({justified:!1}))))},NA=r=>(0,e.h)(ag,LA(RA({},r),{isSmall:!0})),kA={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},BA=({actions:r,hideImage:n,imageAspectRatio:d,post:B,pub:Q})=>(0,e.h)(_.tu,null,!n&&(0,e.h)(ja,{post:B,className:kA.image,imageWidth:1250,imageAspectRatio:d==="wide"?cd:dl,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(_.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(Cs,{post:B,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(fl,{post:B,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(Ps,{post:B,pub:Q}),(0,e.h)(_.tu,{paddingTop:16},r({justified:!1})))),hl={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui","container--overlap-ufi":"frontend-main-home-PostPreview-PostPreviewListing-module__container--overlap-ufi--hSIQZ","container--no-image":"frontend-main-home-PostPreview-PostPreviewListing-module__container--no-image--so05t","left-column--overlap-ufi":"frontend-main-home-PostPreview-PostPreviewListing-module__left-column--overlap-ufi--SCNTr",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},UA=({actions:r,hideImage:n,post:d,pub:B,showPin:Q})=>{const{overlapUfi:ce}=(0,t.qp)(hs),{isMobile:ye}=yi();let _e=!!B.community_enabled;return n&&!ye&&(_e=!1),(0,e.h)("div",{className:i()(hl.container,{[hl["container--no-image"]]:n,[hl["container--overlap-ufi"]]:ce})},(0,e.h)(_.tu,{className:i()({[hl["left-column--overlap-ufi"]]:ce}),gap:8,position:"relative"},(0,e.h)(Cs,{clamp:3,post:d,preset:ye?"mobileMd":"md"}),(0,e.h)(fl,{clamp:2,post:d,size:14,lineHeight:n?24:20}),(0,e.h)(Ps,{post:d,pub:B,showPin:Q}),ce&&r({justified:_e})),!n&&(d.cover_image?(0,e.h)(ja,{className:hl.image,post:d,imageWidth:ye?150:320,imageAspectRatio:ye?1:dl,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),!ce&&r({justified:_e}))},FA={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},WA=({actions:r,post:n,pub:d})=>{const B=!!d.community_enabled;return(0,e.h)(_.tu,{padding:8},(0,e.h)(_.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(_.tu,{flex:"grow"},(0,e.h)(Cs,{post:n,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(Ps,{clamp:1,post:n,pub:d})),(0,e.h)(ja,{className:FA.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:n})),r({justified:B}))},jA={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},HA=({actions:r,hidePlaceholder:n,post:d,pub:B})=>{const Q=!!B.community_enabled;return(0,e.h)(_.tu,null,d.cover_image&&(0,e.h)(ja,{post:d,className:jA.image,imageWidth:1250,imageAspectRatio:cd,isBelowTheFold:!1,hidePlaceholder:n,squareImageSize:"large"}),(0,e.h)(_.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(_.tu,{gap:8,paddingBottom:12},(0,e.h)(Cs,{post:d,preset:"mobileLg",clamp:3}),(0,e.h)(fl,{post:d,size:14,lineHeight:20,clamp:3}),(0,e.h)(Ps,{post:d,pub:B})),r({justified:Q})))},KA={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},VA=({actions:r,post:n,pub:d})=>{const{isMobile:B}=yi(),Q=!!d.community_enabled;return(0,e.h)(_.tu,{padding:B?0:8},(0,e.h)(ja,{post:n,className:KA.image,imageWidth:600,imageAspectRatio:dl,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(_.tu,{flex:"grow",gap:12,paddingTop:12},(0,e.h)(_.tu,{gap:8,flex:"grow"},(0,e.h)(Cs,{clamp:3,post:n,preset:"md"}),(0,e.h)(fl,{clamp:1,post:n}),(0,e.h)(Ps,{post:n,pub:d})),r({justified:Q})))},za={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K","container--menu-open":"frontend-main-home-PostPreview-index-module__container--menu-open--js7AZ",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu","actions--overlap-ufi":"frontend-main-home-PostPreview-index-module__actions--overlap-ufi--hLMZi","actions--menu-open":"frontend-main-home-PostPreview-index-module__actions--menu-open--HkA_4"},zA={jumbo:ag,"jumbo-small":NA,large:BA,listing:UA,mini:WA,"mobile-hero":HA,square:VA},ws=({disableInteractive:r,hideImage:n,hideWash:d,imageAspectRatio:B,linkToComments:Q,variant:ce,post:ye,pub:_e,showPin:ge,testid:Ue,user:Ct,utm:xt,onChange:Yt,onClick:sn})=>{const{alwaysShowActions:Xt,overlapUfi:Vt}=(0,t.qp)(hs),[un,Tn]=(0,t.eJ)(!1),zn=(0,t.I4)(({active:_r})=>{Tn(_r)},[]),nr=zA[ce];if(!nr)return(0,e.h)("div",null,"PostPreview: ",ce," not implemented");const Xn=$A({linkToComments:!!Q,post:ye,pub:_e,utm:xt}),mr=_r=>{sn&&sn(_r),!r&&(0,E.redirect)(Xn,{event:_r})},vr=["large","jumbo","jumbo-small"].includes(ce);return(0,e.h)(ud.Provider,{value:{url:Xn,linkToComments:!!Q}},(0,e.h)(_.tu,{className:i()(za.container,{[za.containerWithBackground]:!d&&vr,[za["container--menu-open"]]:un}),"data-testid":Ue,radius:6,onClick:mr},(0,e.h)(nr,{hideImage:n,imageAspectRatio:B,post:ye,pub:_e,showPin:ge,actions:({justified:_r})=>ye.type==="restack"?null:(0,e.h)(_.tu,{className:i()(za.actions,{[za["actions--menu-open"]]:un,[za["actions--always-show"]]:Xt,[za["actions--overlap-ufi"]]:Vt&&!vr})},(0,e.h)(xA,{justified:_r,post:ye,pub:_e,user:Ct,onChange:Yt,onToggleMenu:zn}))})))},$A=({linkToComments:r,post:n,pub:d,utm:B})=>r?(0,$.getPostUrl)(d,n,{comments:!0}):n.type==="video"?(0,g.updateQuery)(n.canonical_url,{autoPlay:!0}):B?(0,$.pathWithQuery)(n.canonical_url,B):n.canonical_url,ea={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var GA=Object.defineProperty,ZA=Object.defineProperties,YA=Object.getOwnPropertyDescriptors,Ru=Object.getOwnPropertySymbols,sg=Object.prototype.hasOwnProperty,lg=Object.prototype.propertyIsEnumerable,ug=(r,n,d)=>n in r?GA(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Aa=(r,n)=>{for(var d in n||(n={}))sg.call(n,d)&&ug(r,d,n[d]);if(Ru)for(var d of Ru(n))lg.call(n,d)&&ug(r,d,n[d]);return r},ml=(r,n)=>ZA(r,YA(n)),cg=(r,n)=>{var d={};for(var B in r)sg.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Ru)for(var B of Ru(r))n.indexOf(B)<0&&lg.call(r,B)&&(d[B]=r[B]);return d};const mi=r=>{const{flex:n,hideImages:d,linkToComments:B,posts:Q,pub:ce,showSectionPins:ye,source:_e,user:ge,utm:Ue,variant:Ct,onChange:xt,onClickPost:Yt}=r;return Ct==="two-three-two"?(0,e.h)(QA,Aa({},r)):Ct==="two-small-three-medium"?(0,e.h)(JA,Aa({},r)):["mini-row","three-column-mini-row"].includes(Ct)?(0,e.h)(XA,Aa({},r)):(0,e.h)("div",{style:n==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:i()(ea.container,ea[Ct])},Q.map((sn,Xt)=>(0,e.h)(e.Fragment,null,Xt>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(Ct)&&(0,e.h)(_.gq,{className:ea.divider,borderBottom:"detail-themed"}),[2,4].includes(Xt)&&Ct==="five-up"&&(0,e.h)(_.gq,{className:ea.divider,borderBottom:"detail-themed"}),Xt%2===0&&Xt>0&&["two-column-grid"].includes(Ct)&&(0,e.h)(_.gq,{className:ea["long-divider"],borderBottom:"detail-themed"}),Xt%3===0&&Xt>0&&["three-column-grid"].includes(Ct)&&(0,e.h)(_.gq,{className:ea["long-divider"],borderBottom:"detail-themed"}),Xt%4===0&&Xt>0&&["four-column-grid"].includes(Ct)&&(0,e.h)(_.gq,{className:ea["long-divider"],borderBottom:"detail-themed"}),Xt>0&&["mini-row","three-column-mini-row"].includes(Ct)&&(0,e.h)(_.gq,{className:ea.divider,paddingY:16,alignItems:"center"},(0,e.h)(_.gq,{borderLeft:"detail-themed"})),(0,e.h)(ws,{testid:["large-listing-listing-column","two-small-one-large"].includes(Ct)?`magazine-spot-${Xt+1}`:void 0,hideImage:d,linkToComments:B,post:sn,pub:ce,showPin:ye&&sn.is_section_pinned,user:ge,utm:Ue,variant:dg(Ct,Xt),onChange:xt,onClick:Yt&&_e?Vt=>{Yt({event:Vt,post:sn,index:Xt,source:_e})}:void 0}))),Ct==="two-small-one-large"&&(0,e.h)(_.gq,{borderBottom:"detail-themed"})))},JA=r=>{const n=r,{posts:d}=n,B=cg(n,["posts"]),Q=d.slice(0,3),ce=d.slice(3);return(0,e.h)(Oa,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(mi,ml(Aa({},B),{flex:"grow",variant:"large-listing-listing-column",posts:Q,hideImages:!0})),(0,e.h)(mi,ml(Aa({},B),{flex:"grow",variant:"square-square-column",posts:ce,hideImages:!1})))},QA=r=>{const n=r,{posts:d}=n,B=cg(n,["posts"]),Q=d.slice(0,3),ce=d.slice(3,5),ye=d.slice(5);return(0,e.h)(Oa,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(mi,ml(Aa({},B),{flex:"grow",variant:"large-listing-listing-column",posts:Q,hideImages:!0})),(0,e.h)(mi,ml(Aa({},B),{flex:"grow",variant:"square-square-column",posts:ce,hideImages:!1})),(0,e.h)(mi,ml(Aa({},B),{flex:"grow",variant:"square-square-column",posts:ye,hideImages:!1})))},XA=r=>{const{linkToComments:n,posts:d,pub:B,source:Q,user:ce,utm:ye,variant:_e,onChange:ge,onClickPost:Ue}=r,{overlapUfi:Ct}=(0,t.qp)(hs),xt=_e==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:i()(ea.container,ea[_e])},d.slice(0,xt).map((Yt,sn)=>(0,e.h)(e.Fragment,null,sn>0&&(0,e.h)(_.gq,{className:ea.divider,paddingY:Ct?0:16,alignItems:"center"},(0,e.h)(_.gq,{borderLeft:"detail-themed"})),(0,e.h)(ws,{linkToComments:n,post:Yt,pub:B,user:ce,utm:ye,variant:dg(_e,sn),onChange:ge,onClick:Ue&&Q?Xt=>{Ue({event:Xt,post:Yt,index:sn,source:Q})}:void 0}))),_e==="two-small-one-large"&&(0,e.h)(_.gq,{borderBottom:"detail-themed"})))},dg=(r,n)=>r==="square-square-column"?"square":r==="large-listing-listing-column"?n===0?"large":"listing":r==="two-small-one-large"?n===0?"large":"square":r==="two-column-list"?"listing":r==="five-up"?n===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(r)?"mini":"square",qA={container:"frontend-main-archive_page-module__container--Brctc"};function gl({children:r,title:n,pub:d,user:B,freeSignup:Q,freeSignupEmail:ce,sort:ye,search:_e,newPosts:ge,topPosts:Ue,communityPosts:Ct,searchPosts:xt,sectionId:Yt,isPodcast:sn,metadata:Xt}){const Vt=!!(d!=null&&d.theme),{iString:un,iTemplate:Tn}=(0,P.M1)();return(0,e.h)(D.ze,{value:{hasThemedBackground:Vt}},Xt&&(0,E.setMetaData)(Xt),(0,e.h)("div",{className:i()("archive-page typography",qA.container,{"use-theme-bg":Vt})},(0,e.h)("div",{className:"container"},n&&(0,e.h)("h2",null,n),(0,e.h)(Iu,{communityPosts:Ct,communityTitle:un("Discussion"),freeSignup:Q,freeSignupEmail:ce,isPodcast:sn,newPosts:ge,pub:d,search:_e,searchPosts:xt,sectionId:Yt,showMonthDividers:!0,sort:ye,source:"archive",topPosts:Ue,user:B,variant:"list"},({posts:zn,linkToComments:nr,onClickPost:Xn})=>(0,e.h)(mi,{hideImages:d.theme.hide_images_from_list,linkToComments:nr,posts:zn,pub:d,user:B,variant:"two-column-list",onChange:()=>{},onClickPost:Xn})),r)))}var eD=Object.defineProperty,tD=(r,n,d)=>n in r?eD(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,pg=(r,n,d)=>(tD(r,typeof n!="symbol"?n+"":n,d),d),fd=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class fg extends e.Component{constructor(n,d){super(n,d),pg(this,"likesEnabled",(0,Ei.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,Ua.ZP)(this.props.notify_user)}componentDidMount(){return fd(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return fd(this,null,function*(){if(!this.state.hasMore)return;(yield(0,E.stateLock)(this,"loading",d=>fd(this,[d],function*({hasMore:B,posts:Q}){if(B){Q=Q||[];try{const ye=(yield zt().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:Q.length})).body;Q=Q.concat(ye),B=ye.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(ye),this.setState({posts:Q,hasMore:B})}catch(ce){console.error(ce)}return B}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,g.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(n){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!n||n.filter(Q=>(0,lo.isPaidAudience)(Q.audience)&&!Q.hidden).length===0)return;const d="__cookie_checked",B=(0,g.parseQuery)(window.location.search);B[d]||(B[d]="true",window.location.search=`?${(0,g.serializeQuery)(B)}`)}onChange({post:n}){if(n){const d=(this.state.posts||[]).map(B=>B.id).indexOf(n&&n.id);d!==-1&&(this.state.posts[d]=n,this.setState({posts:this.state.posts}))}}render({user:n,pub:d,freeSignup:B,freeSignupEmail:Q,preloadedPosts:ce,hide_intro_popup:ye,children:_e,blurbs:ge,noBalanceHeroText:Ue,launchWelcomePage:Ct},{posts:xt,hasMore:Yt,share_on_load:sn}){const Xt=[];for(const Vt of xt||ce||[])Vt.hidden?Array.isArray(Xt[Xt.length-1])?Xt[Xt.length-1].push(Vt):Xt.push([Vt]):Xt.push(Vt);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(Ha.ZP,{ref:Vt=>this.shareDialog=Vt,user:n,pub:d}),(0,e.h)(Tt,{freeSignup:B,freeSignupEmail:Q,user:n,post:null,publication:d,hidden:ye||sn,blurbs:ge,noBalance:Ue,launchWelcomePage:Ct}),d&&d.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},Xt.length===0&&!Yt&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),Xt.map((Vt,un)=>Array.isArray(Vt)?this.renderHiddenPosts(Vt,un):this.renderPost(Vt,un)),Yt?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(le,{ref:Vt=>this.loader=Vt,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):d.has_posts&&xt&&xt.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,g.getBaseArchiveUrl)(d)},"View archive"))),_e)}renderPost(n){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},n.type==="thread"?(0,e.h)(fm,{post:n,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(od,{post:n,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:d=>this.onChange(d),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(n,d){let B,Q;return d===0?(B=n.slice(0,1),Q=n.slice(1)):n.length<=3?(B=n,Q=[]):(B=n.slice(0,2),Q=n.slice(2)),(0,e.h)(nD,{user:this.props.user,pub:this.props.pub,posts:B,collapsedPosts:Q,onChange:ce=>this.onChange(ce)})}}pg(fg,"contextType",It.QA);class nD extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,y.j)(y.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:n,pub:d,posts:B,collapsedPosts:Q,onChange:ce},{showing:ye}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${ye?"showing":""}`},(0,e.h)("div",{className:"container"},B.map(_e=>(0,e.h)(Tu,{user:n,pub:d,post:_e,onChange:ce})),Q.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},ye?"hide":`+${Q.length} more`),Q.map(_e=>(0,e.h)(Tu,{className:"collapsed",user:n,pub:d,post:_e,utm_source:"home",onChange:ce}))))}}var rD=dn(2405);function hd(){const r=n=>{var d,B;(n.data==="3pc.supported"||n.data==="3pc.unsupported")&&(n.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(ce=>{const ye=ce.querySelector(".tiktok-iframe");ye.classList.add("visible"),ce.querySelector(".tiktok-wrap.static").classList.add("hidden");const _e=ce.querySelector(".fallback-failure");_e.classList.add("no-border");try{(ye.contentDocument||ye.contentWindow.document).readyState=="complete"&&_e.classList.add("visible")}catch(ge){}ye.onload=()=>{_e.classList.add("visible")},ye.onerror=()=>{_e.classList.add("visible")},ye.onabort=()=>{_e.classList.add("visible")}}),(B=(d=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:d.forEach)==null||B.call(d,Q=>Q.remove()))};return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}function fR(){useEffect(hd,[])}var md=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class oD extends e.Component{constructor(n,d){super(n,d),this.onVisible=Q=>{const ce=`${Q} Seen`;this.state.post&&(this.state[ce]||(this.setState({[ce]:!0}),(0,y.j)(ce,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var Q;const ce=document.querySelectorAll('article.post input[type="email"]'),ye=((Q=this.state.user)==null?void 0:Q.email)||this.props.freeSignupEmail;ye&&ce.forEach(_e=>_e.value=ye),this.setState({embeddedEmailInputsFilled:!0})};const{user:B}=n;n.post?this.state={post:n.post,user:B,introText:n.introText,crossPostedPub:n.crossPostedPub,crossPostingByLine:n.crossPostingByLine,userWithCrossPostedPubContext:n.userWithCrossPostedPubContext,crossPostedPublicationSettings:n.crossPostedPublicationSettings,crossPostedSiteConfig:n.crossPostedSiteConfig}:this.state={user:B}}componentDidMount(){return md(this,null,function*(){(0,E.scrollToHash)(),this.cleanUpTikTokEnhanceListener=hd(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var n;(n=this.cleanUpTikTokEnhanceListener)==null||n.call(this)}componentDidUpdate(n){return md(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return md(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,E.scrollToHash)());else try{const n=yield zt().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,E.setState)(this,{post:n.body.post,introText:n.body.intro_text,crossPostedPub:n.body.crossPostedPub,crossPostingByLine:n.body.crossPostingByLine,userWithCrossPostedPubContext:n.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:n.body.crossPostedPublicationSettings,crossPostedSiteConfig:n.body.crossPostedSiteConfig}),(0,E.scrollToHash)()}catch(n){console.error("Failed to load post:",n),alert((0,E.getNetworkErrorMessage)(n))}})}triggerShareOnLoad(){if((0,g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,g.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:n,freeSignupEmail:d,publication:B},{post:Q,user:ce,introText:ye,crossPostedPub:_e,crossPostingByLine:ge,userWithCrossPostedPubContext:Ue,crossPostedPublicationSettings:Ct,crossPostedSiteConfig:xt}){const Yt=(Q==null?void 0:Q.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:i()("single-post-container")},(0,e.h)("div",{className:i()({container:!Yt})},(0,e.h)("div",{className:"single-post"},(0,e.h)(pu,{post:Q,publication:B}),Q&&Ct&&xt?(0,e.h)(Le.Iz,{settings:Ct},(0,e.h)(It.vC,{siteConfigs:xt},(0,e.h)(rD.uL,{crossPost:{crossPostedPub:_e}},(0,e.h)(od,{ref:sn=>{this.post=sn},user:Ue,post:Q,pub:_e,freeSignup:n,freeSignupEmail:d,paywall:!1,noTitleLink:!0,onChange:sn=>this.setState(sn),fromPostPage:!0,crossPostInfo:{introText:ye,crossPostedPub:_e,crossPostingByLine:ge,userWithCrossPostedPubContext:Ue}})))):(0,e.h)(Y0,{pub:B}))),B.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(le,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(sd,{user:ce,freeSignup:n,freeSignupEmail:d,pub:B,maxPosts:3,filterPosts:sn=>sn.id!==(Q==null?void 0:Q.id),stateInUrl:!0,sortTabs:sn=>{const Xt=sn.findIndex(Vt=>Vt.id==="top");if(Xt!==-1)return[sn[Xt]].concat(sn.filter((Vt,un)=>un!==Xt))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class iD extends e.Component{constructor(n,d){super(n,d),this.state={freeSignup:n.freeSignup,freeSignupEmail:n.freeSignupEmail,success:!1}}componentDidMount(){(0,E.preloadImage)((0,g.imginary)("/img/substack_wordmark.png",200));const n=this.props.freeSignupEmail||this.props.user&&this.props.user.email;n&&(this.emailInput.value=n)}onPrepareData(n){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(n){this.setState({freeSignup:!0,freeSignupEmail:n.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(n){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(d){console.error("Failed to close subscribe window:",d)}this.subscribeWindow=null}}render({pub:n,user:d,no_border:B},{freeSignup:Q,freeSignupEmail:ce,loading:ye,success:_e}){const ge=ce||d&&d.email;return(0,e.h)("div",{className:`embed-page ${B?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},n.logo_url&&(0,e.h)("a",{href:`${n.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,g.imginary)(n.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${n.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${n.base_url}/`,target:"_blank"},(0,e.h)(ln,{text:n.name}))),(0,e.h)("p",{className:"publication-tagline"},!!n.hero_text&&(0,e.h)(ln,{text:n.hero_text})),n.invite_only?(0,e.h)(Ze.ZP,{className:"subscription-request-form",ref:Ue=>this.form=Ue,noInlineErrors:!0,action:(0,g.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,g.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:Ue=>{this.setState({loading:!1}),alert((0,E.getNetworkErrorMessage)(Ue,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:f.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:f.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:f.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:f.xU}),!!ge&&(0,E.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:i()(_e?"secondary":"primary"),type:"email",name:"email",ref:Ue=>this.emailInput=Ue,readOnly:!!(ge||ye),disabled:!!(ye||_e||ge),autoFocus:!ge&&!(0,E.isMobileBrowser)(),placeholder:"Type your email\u2026"}),(0,e.h)(ct.Z,{className:i()("rightButton",_e?"secondary":"primary"),type:"submit",disabled:!!(ye||_e),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},_e?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Ca,{source:"embed",pub:n,user:d,freeSignup:Q,freeSignupEmail:ce,forceEmailInput:!0,onPrepareData:Ue=>this.onPrepareData(Ue),onSignup:Ue=>this.onSignup(Ue),onError:Ue=>this.onError(Ue)}),(d||Q)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,g.getSignoutUrl)({redirect:document.location.href,for_pub:n.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,g.getSubstackUrl)()}/?utm_source=embed&utm_content=${n.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:Ue=>this.img=Ue,className:"substack-watermark",src:(0,g.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,g.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,g.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var aD=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const sD=({pub:r,slug:n})=>{var d;const[B,Q]=(0,t.eJ)(null);(0,t.d4)(()=>{function ye(){return aD(this,null,function*(){try{const _e=yield zt().get(`/api/v1/posts/${n}`);Q(_e.body)}catch(_e){console.error("Failed to load post:",_e),_e.status===404?alert("Post not found"):alert((0,E.getNetworkErrorMessage)(_e))}})}ye()},[n]);let ce=!1;return typeof window!="undefined"&&(ce=((d=(0,g.parseQuery)(window.location.href).autoplay)!=null?d:"0")==="1"),B?(0,e.h)(Hm.Z,{feature:"Podcast",pub:r,post:B,src:B.podcast_url,autoPlay:ce,metricsPost:B,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};function lD(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}var uD=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const cD=({pub:r,slug:n})=>{var d;const[B,Q]=(0,t.eJ)(null);(0,t.d4)(()=>{function ye(){return uD(this,null,function*(){try{const _e=yield zt().get(`/api/v1/posts/${n}`);Q(_e.body)}catch(_e){console.error("Failed to load post:",_e),_e.status===404?alert("Post not found"):alert((0,E.getNetworkErrorMessage)(_e))}})}ye()},[n]);let ce=!1;return typeof window!="undefined"&&(ce=((d=(0,g.parseQuery)(window.location.href).autoplay)!=null?d:"0")==="1"),B?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(ls.Z,{mediaUpload:B.videoUpload,pub:r,autoPlay:ce})):(0,e.h)("div",{className:"loading-container"})};var dD=Object.defineProperty,pD=Object.defineProperties,fD=Object.getOwnPropertyDescriptors,hg=Object.getOwnPropertySymbols,hD=Object.prototype.hasOwnProperty,mD=Object.prototype.propertyIsEnumerable,mg=(r,n,d)=>n in r?dD(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,gD=(r,n)=>{for(var d in n||(n={}))hD.call(n,d)&&mg(r,d,n[d]);if(hg)for(var d of hg(n))mD.call(n,d)&&mg(r,d,n[d]);return r},vD=(r,n)=>pD(r,fD(n));const gg=r=>(0,e.h)(T.l,vD(gD({},r),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var _D=Object.defineProperty,yD=Object.defineProperties,bD=Object.getOwnPropertyDescriptors,vg=Object.getOwnPropertySymbols,ED=Object.prototype.hasOwnProperty,PD=Object.prototype.propertyIsEnumerable,_g=(r,n,d)=>n in r?_D(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,CD=(r,n)=>{for(var d in n||(n={}))ED.call(n,d)&&_g(r,d,n[d]);if(vg)for(var d of vg(n))PD.call(n,d)&&_g(r,d,n[d]);return r},wD=(r,n)=>yD(r,bD(n));const OD=r=>(0,e.h)(T.l,wD(CD({},r),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:r.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:r.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var SD=Object.defineProperty,xD=Object.defineProperties,AD=Object.getOwnPropertyDescriptors,yg=Object.getOwnPropertySymbols,DD=Object.prototype.hasOwnProperty,TD=Object.prototype.propertyIsEnumerable,bg=(r,n,d)=>n in r?SD(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,ID=(r,n)=>{for(var d in n||(n={}))DD.call(n,d)&&bg(r,d,n[d]);if(yg)for(var d of yg(n))TD.call(n,d)&&bg(r,d,n[d]);return r},MD=(r,n)=>xD(r,AD(n));const RD=r=>(0,e.h)(T.l,MD(ID({},r),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var LD=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function ND(){var r;return typeof window!="undefined"?((r=window._preloads)==null?void 0:r.file)||{}:{}}function kD(r,n){return`${r.title.toLowerCase().replace(/\s/g,"_")}.${n.toLowerCase()}`}function BD({file:r=ND(),pub:n}){const[d,B]=(0,t.eJ)(null);return(0,t.d4)(()=>(()=>LD(this,null,function*(){if(!r.fileKey){const Q=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);Q.redirected&&(window.location.href=Q.url);const ce=yield Q.json();B(ce)}}))(),[r.fileKey]),(0,e.h)(UD,{file:d||r,pub:n})}function UD({file:r,pub:n}){var d;if(!r.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const B=(d=r.file_key)==null?void 0:d.split(".").pop().toUpperCase(),Q=(0,Bt.numberToHumanFileSize)(r.num_bytes),ce=kD(r,B);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,g.getBaseUrl)(n)}/p/${r.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${r.thumbnail&&r.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:r.thumbnail||`${(0,g.getBaseUrl)(n)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},r.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},Q," \u2219 ",B," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,g.getBaseUrl)(n)}/api/v1/file/panels/${r.file_key}`},(0,e.h)(RD,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(gg,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:ce,href:`${(0,g.getBaseUrl)(n)}/api/v1/file/${r.file_key}`},(0,e.h)(OD,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},ce)),(0,e.h)(gg,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var FD=Object.defineProperty,WD=(r,n,d)=>n in r?FD(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Eg=(r,n,d)=>(WD(r,typeof n!="symbol"?n+"":n,d),d),jD=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class gd extends e.Component{constructor(){super(...arguments),Eg(this,"acceptInvite",()=>jD(this,null,function*(){var n,d;try{const B=yield zt().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(n=B.body)!=null&&n.postUrl?location.href=(d=B.body)==null?void 0:d.postUrl:(0,E.redirect)(`/invite-success/${this.props.matches.id}`)}catch(B){const Q=(0,E.getNetworkErrorMessage)(B);this.setState({error:Q})}}))}componentDidMount(){this.props.user||(0,E.redirectToLogin)()}render({pub:n,post:d,user:B,freeSignup:Q,freeSignupEmail:ce,inviteToPost:ye,primaryEligiblePublications:_e,switchAccountRedirectUrl:ge},{error:Ue}){if(Ue)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,Ue));const Ct=ye&&d&&d.type==="podcast",xt=Ct&&B?"Fill out your profile for your podcast appearance":Ct&&!B?"Set up your profile for your podcast appearance":ye&&B?"Set up your profile":ye&&!B?"Fill out your profile":`Your invite to ${n.name}`,Yt=Ct?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":ye?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",sn=ye?"Update Profile & Accept Invite":"Accept Invite",Xt=B?"Already a writer?":"Already have an account?",Vt=B?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,xt),(0,e.h)("p",null,Yt),(0,e.h)(kc._0,{pageTitle:"",user:B,freeSignup:Q,freeSignupEmail:ce,needsPhoto:!1,optionalPhoto:ye,isPostInvite:ye,primaryEligiblePublications:_e,onSuccess:this.acceptInvite,text:sn}),ye&&ge&&(0,e.h)("div",{className:"invite-switch-account"},Xt," ",(0,e.h)("a",{href:ge},Vt)))}}Eg(gd,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class HD extends e.Component{renderNotAvailable(n,{time:d=!1}={}){const B=d?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),n,(0,e.h)("p",null,"Sorry, ",B,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(et.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,KD(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:n,t:d,user:B,freeSignupEmail:Q,viral_gift_data:ce}){const{sender_name:ye,count_remaining:_e,sender_id:ge}=ce,Ue=(0,Bt.getGiftValueText)(n.plans),Ct=Ue?` (value: ${Ue})`:"",xt=`Accept ${ye||"your friend"}'s gift`,Yt=`A three-month subscription to ${n.name}${Ct}`,sn=(0,E.setMetaData)({title:xt,description:Yt,image:n.logo_url});if(!d||!_e)return this.renderNotAvailable(sn);let Xt=null;B&&B.id==ge&&(Xt=this.renderForSender());let Vt="",un=Q||"";B&&!Xt&&(Vt=B.name,un=B.email);const Tn=`${_e} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},Xt,sn,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,ye||"Your friend"," would like to give you a free, three-month subscription. ",Ct),(0,e.h)("p",null,(0,e.h)("b",null,Tn)),(0,e.h)(Ze.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Vt}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:un}),(0,e.h)("input",{type:"hidden",value:d,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(ct.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function KD(r){return r.name?r.name.trim().split(/\s+/g)[0]:r.email.split("@")[0]}var VD=dn(39693),Pg=dn.n(VD);const Cg=({pub:r,section:n,isPodcast:d})=>{let B,Q;return d&&r.podcast_title?({title:B}=du(r,r.podcast_title),Q=r.podcast_description):n?{title:B,description:Q}=du(r,`${n.name} | ${r.name}`,n.description):{title:B,description:Q}=du(r),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:vc()((0,_c.hd)(r),{json:!0,isScriptContext:!0})}}),(0,E.setMetaData)({title:B,description:Q}))},wg=({blurbs:r,freeSignup:n,freeSignupEmail:d,hide_intro_popup:B,noBalanceHeroText:Q,pub:ce,referralCode:ye,showWelcome:_e,user:ge,launchWelcomePage:Ue})=>{const Ct=(0,t.sO)(!1),xt=(0,t.sO)(null);return(0,t.d4)(()=>{(0,g.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,g.updateQuery)({action:null})),Ct.current=!0),Ct.current&&xt.current&&xt.current.open(),typeof window!="undefined"&&_e&&(0,E.removeQueryParam)("showWelcome")},[_e]),(0,e.h)(e.Fragment,null,(0,e.h)(Ha.ZP,{ref:Yt=>xt.current=Yt,pub:ce,user:ge}),(0,e.h)(Tt,{blurbs:r,freeSignup:n,freeSignupEmail:d,hidden:B||Ct.current,noBalance:Q,publication:ce,referralCode:ye,showOnMount:_e,user:ge,launchWelcomePage:Ue}))};var zD=dn(78718),Og=dn.n(zD),$D=Object.defineProperty,GD=Object.defineProperties,ZD=Object.getOwnPropertyDescriptors,Sg=Object.getOwnPropertySymbols,YD=Object.prototype.hasOwnProperty,JD=Object.prototype.propertyIsEnumerable,xg=(r,n,d)=>n in r?$D(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ag=(r,n)=>{for(var d in n||(n={}))YD.call(n,d)&&xg(r,d,n[d]);if(Sg)for(var d of Sg(n))JD.call(n,d)&&xg(r,d,n[d]);return r},Dg=(r,n)=>GD(r,ZD(n));const Tg=({noFirstImage:r,posts:n,pub:d,user:B,utm:Q,onChange:ce})=>{const ye={pub:d,user:B,utm:Q,onChange:ce};return(0,e.h)(mi,Dg(Ag({},ye),{variant:r?"two-three-two":"five-up",posts:n}))},QD=r=>(0,e.h)(Tg,Dg(Ag({},r),{noFirstImage:!0})),XD={link:"frontend-main-home-MetaLink-module__link--b9iM0"},vl=({children:r,href:n,testid:d})=>(0,e.h)(_.xv.Meta,{className:XD.link,color:"pub-primary-text",as:"a",native:!0,href:n,"data-testid":d},r),qD={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},Da=({children:r})=>(0,e.h)(_.xv,{className:qD.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},r),Ig=({pub:r})=>{const{iString:n}=(0,P.M1)();return(0,e.h)(_.gq,{justifyContent:"space-between"},(0,e.h)(Da,null,n("Most Popular")),(0,e.h)(vl,{href:(0,g.getArchiveUrl)(r,{params:{sort:"top"}})},n("View all")))};var eT=Object.defineProperty,tT=Object.defineProperties,nT=Object.getOwnPropertyDescriptors,Mg=Object.getOwnPropertySymbols,rT=Object.prototype.hasOwnProperty,oT=Object.prototype.propertyIsEnumerable,Rg=(r,n,d)=>n in r?eT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,vd=(r,n)=>{for(var d in n||(n={}))rT.call(n,d)&&Rg(r,d,n[d]);if(Mg)for(var d of Mg(n))oT.call(n,d)&&Rg(r,d,n[d]);return r},_d=(r,n)=>tT(r,nT(n));const Lg=({noFirstImage:r,posts:n,topPosts:d,pub:B,user:Q,utm:ce,onChange:ye})=>{const _e={pub:B,user:Q,utm:ce,onChange:ye},{isTablet:ge,isMobile:Ue}=yi();return Ue?null:(0,e.h)(Oa,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(mi,_d(vd({},_e),{variant:r?"two-small-three-medium":"two-small-one-large",posts:n,flex:"grow"})),d&&(0,e.h)(_.tu,{gap:12},(0,e.h)(Ig,{pub:B}),(0,e.h)(mi,_d(vd({},_e),{flex:"grow",variant:ge?"mini-row":"one-column-list",posts:d.slice(0,ge?3:5)}))))},iT=r=>(0,e.h)(Lg,_d(vd({},r),{noFirstImage:!0})),aT=({posts:r,pub:n,user:d,utm:B,onChange:Q})=>r.length?(0,e.h)(ws,{pub:n,user:d,utm:B,onChange:Q,variant:"mobile-hero",post:r[0]}):null;var sT=Object.defineProperty,lT=Object.defineProperties,uT=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,cT=Object.prototype.hasOwnProperty,dT=Object.prototype.propertyIsEnumerable,kg=(r,n,d)=>n in r?sT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,pT=(r,n)=>{for(var d in n||(n={}))cT.call(n,d)&&kg(r,d,n[d]);if(Ng)for(var d of Ng(n))dT.call(n,d)&&kg(r,d,n[d]);return r},fT=(r,n)=>lT(r,uT(n));const Bg=({isSmall:r,posts:n,pub:d,user:B,utm:Q,onChange:ce})=>n.length?(0,e.h)(Oa,{variant:r?"three-column-width":"full-width"},(0,e.h)(ws,{pub:d,user:B,utm:Q,onChange:ce,variant:r?"jumbo-small":"jumbo",post:n[0]})):null,hT=r=>(0,e.h)(Bg,fT(pT({},r),{isSmall:!0}));var mT=Object.defineProperty,Lu=Object.getOwnPropertySymbols,Ug=Object.prototype.hasOwnProperty,Fg=Object.prototype.propertyIsEnumerable,Wg=(r,n,d)=>n in r?mT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,gT=(r,n)=>{for(var d in n||(n={}))Ug.call(n,d)&&Wg(r,d,n[d]);if(Lu)for(var d of Lu(n))Fg.call(n,d)&&Wg(r,d,n[d]);return r},vT=(r,n)=>{var d={};for(var B in r)Ug.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Lu)for(var B of Lu(r))n.indexOf(B)<0&&Fg.call(r,B)&&(d[B]=r[B]);return d};const _T={magaziney:Lg,"magazine-5":Tg,newspaper:Bg},yT=r=>{var n=r,{firstPostMissingImage:d,bodyVariant:B,isMobile:Q,variant:ce}=n,ye=vT(n,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let _e=_T[ce];return Q?_e=aT:ce==="newspaper"&&B==="list"?_e=hT:ce==="magaziney"&&d?_e=iT:ce==="magazine-5"&&d&&(_e=QD),_e?(0,e.h)(_e,gT({},ye)):(console.error("Component not found, add one to HomeHero"),null)},$a=(0,e.createContext)({contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0,topPosts:void 0,utm:void 0,onChangePost:void 0});var bT=dn(7739),ET=dn.n(bT),PT=Object.defineProperty,CT=Object.defineProperties,wT=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,OT=Object.prototype.hasOwnProperty,ST=Object.prototype.propertyIsEnumerable,Hg=(r,n,d)=>n in r?PT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,xT=(r,n)=>{for(var d in n||(n={}))OT.call(n,d)&&Hg(r,d,n[d]);if(jg)for(var d of jg(n))ST.call(n,d)&&Hg(r,d,n[d]);return r},AT=(r,n)=>CT(r,wT(n));const DT=r=>(0,e.h)(T.l,AT(xT({},r),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var TT=Object.defineProperty,Kg=Object.getOwnPropertySymbols,IT=Object.prototype.hasOwnProperty,MT=Object.prototype.propertyIsEnumerable,Vg=(r,n,d)=>n in r?TT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,zg=(r,n)=>{for(var d in n||(n={}))IT.call(n,d)&&Vg(r,d,n[d]);if(Kg)for(var d of Kg(n))MT.call(n,d)&&Vg(r,d,n[d]);return r};const RT=({homepageLinks:r,pub:n,renderGroup:d,renderLink:B})=>{const Q=ET()(r,"group"),ce=Mn()(Object.keys(Q),ye=>Q[ye][0].rank);return(0,e.h)(e.Fragment,null,ce.map(ye=>(0,e.h)(LT,{group:ye,items:Q[ye],pub:n,newTab:!0,renderGroup:d,renderLink:B})))},LT=({group:r,items:n,newTab:d,pub:B,renderGroup:Q,renderLink:ce})=>{const ye=[];let _e=null;d&&(_e="_blank",ye.push("noopener")),(!B||B!=null&&B.no_follow)&&ye.push("ugc nofollow");const ge={rel:ye.join(" "),target:_e},Ue=(0,e.h)(e.Fragment,null,n.map(({title:Ct,url:xt,subtitle:Yt,subtitleUrl:sn,edit:Xt,className:Vt})=>ce?ce({title:Ct,url:xt,subtitle:Yt,linkProps:ge}):(0,e.h)("div",{className:i()("home-right-col",Vt)},Xt?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:xt,native:!0},Ct),(0,e.h)(ct.Z,{className:"button secondary show-on-hover",href:Xt,title:"edit"},(0,e.h)(DT,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",zg({className:"home-right-col-title",href:xt,native:!0},ge),Ct),Yt&&(0,e.h)("a",zg({className:"home-right-col-sub",href:sn||xt,native:!0},ge),Yt))));return Q?Q({title:r,links:Ue}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},r),Ue)},$g={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var NT=Object.defineProperty,kT=Object.defineProperties,BT=Object.getOwnPropertyDescriptors,Nu=Object.getOwnPropertySymbols,Gg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,Yg=(r,n,d)=>n in r?NT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,UT=(r,n)=>{for(var d in n||(n={}))Gg.call(n,d)&&Yg(r,d,n[d]);if(Nu)for(var d of Nu(n))Zg.call(n,d)&&Yg(r,d,n[d]);return r},FT=(r,n)=>kT(r,BT(n)),WT=(r,n)=>{var d={};for(var B in r)Gg.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Nu)for(var B of Nu(r))n.indexOf(B)<0&&Zg.call(r,B)&&(d[B]=r[B]);return d};const jT=(0,fo.forwardRef)((r,n)=>{var d=r,{children:B,className:Q,disable:ce,hoverBackground:ye,onClick:_e}=d,ge=WT(d,["children","className","disable","hoverBackground","onClick"]);const Ue=ce?void 0:_e;return(0,e.h)(ss.xu,FT(UT({},ge),{ref:n,className:i()(Q,!ce&&$g.container,{[$g.containerHoverLight]:ye==="light"&&!ce}),role:Ue?"button":void 0,onClick:Ue}),B)});var HT=Object.defineProperty,KT=Object.defineProperties,VT=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,Jg=Object.prototype.hasOwnProperty,Qg=Object.prototype.propertyIsEnumerable,Xg=(r,n,d)=>n in r?HT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,qg=(r,n)=>{for(var d in n||(n={}))Jg.call(n,d)&&Xg(r,d,n[d]);if(ku)for(var d of ku(n))Qg.call(n,d)&&Xg(r,d,n[d]);return r},ev=(r,n)=>KT(r,VT(n)),zT=(r,n)=>{var d={};for(var B in r)Jg.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&ku)for(var B of ku(r))n.indexOf(B)<0&&Qg.call(r,B)&&(d[B]=r[B]);return d};const _l=r=>{var n=r,{image:d,linkProps:B,subtitle:Q,title:ce,url:ye}=n,_e=zT(n,["image","linkProps","subtitle","title","url"]);const{size:ge,lineHeight:Ue}=pd.sm;return(0,e.h)("a",ev(qg({},B),{href:ye,style:{textDecoration:"none",display:"block"}}),(0,e.h)(jT,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(_.gq,ev(qg({},_e),{alignItems:"center",gap:16}),d&&(0,e.h)(_.xu,{alignSelf:"start"},d),(0,e.h)(_.tu,{style:{wordBreak:"break-word"}},(0,e.h)(_.xv,{color:"pub-primary-text",font:"pub-headings",lineHeight:Ue,size:ge},ce),Q&&(0,e.h)(_.xv.B4,{color:"pub-secondary-text",size:12,clamp:3},Q)))))},tv=({hideHeaderBorder:r,pub:n})=>{const{homepageLinks:d}=(0,t.qp)($a);return!d||d.length===0?null:(0,e.h)(_.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(RT,{homepageLinks:d,pub:n,renderGroup:({title:B,links:Q})=>(0,e.h)(_.tu,{gap:16},(0,e.h)(_.gq,{alignItems:"center",borderBottom:r?void 0:"detail-themed",paddingBottom:r?void 0:8},(0,e.h)(Da,null,B)),(0,e.h)(_.tu,{gap:4},Q)),renderLink:({linkProps:B,subtitle:Q,title:ce,url:ye})=>(0,e.h)(_l,{linkProps:B,subtitle:Q,title:ce,url:ye})}))},$T={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},Bu=()=>(0,e.h)(_.xu,{paddingX:16,paddingY:20,radius:6,className:$T.container},(0,e.h)(_.xv.B4,{color:"pub-secondary-text"},"Coming soon"));var GT=Object.defineProperty,ZT=Object.defineProperties,YT=Object.getOwnPropertyDescriptors,nv=Object.getOwnPropertySymbols,JT=Object.prototype.hasOwnProperty,QT=Object.prototype.propertyIsEnumerable,rv=(r,n,d)=>n in r?GT(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,XT=(r,n)=>{for(var d in n||(n={}))JT.call(n,d)&&rv(r,d,n[d]);if(nv)for(var d of nv(n))QT.call(n,d)&&rv(r,d,n[d]);return r},qT=(r,n)=>ZT(r,YT(n)),ov=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const e4=(r,n,d,B,{trackOnly:Q=!1,freeSignupEmail:ce}={})=>()=>ov(void 0,null,function*(){if((0,y.j)(y.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:r.id,recommending_publication_id:n.id}),!Q)try{const ye=d&&!d.is_magic&&d.email||ce;yield zt().post("/api/v1/free").send({email:ye,source:"recommendations_page",first_url:f.xY,first_referrer:f.ip,current_url:f.UE,current_referrer:f.xU,other_publication_id:r.id,referring_pub_id:n.id}),B(r)}catch(ye){alert((0,E.getNetworkErrorMessage)(ye)||"Something went wrong")}}),t4=(r,n,d,{trackOnly:B=!1}={})=>()=>ov(void 0,null,function*(){if((0,y.j)(y.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:r.id,recommending_publication_id:n.id}),!B)try{yield zt().delete("/api/v1/free").send({publication_id:r.id,source:"recommendations_page"}),d(r)}catch(Q){alert((0,E.getNetworkErrorMessage)(Q)||"Something went wrong")}}),n4=({pub:r,recommendations:n,allSubscribedPubs:d,fullySubscribedPubs:B,user:Q,freeSignupEmail:ce})=>{const{getExperimentVariant:ye,exposeExperiment:_e}=(0,He.jc)(),{iString:ge,iTemplate:Ue}=(0,P.M1)(),[Ct,xt]=(0,t.eJ)(d),Yt=Xt=>{xt([...Ct,Xt])},sn=Xt=>{xt(Ct.filter(({id:Vt})=>Vt!==Xt.id))};return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,Ue`Recommended by ${(0,Bt.getByLine)(r)||r.name}`),(0,e.h)("div",{className:"recommended-publications-container"},n.map((Xt,Vt)=>{const un=Xt.recommendedPublication;if(!un)return;const Tn=`${(0,g.getBaseUrl)(un)}/?utm_source=recommendations_page&utm_campaign=${r.id}`,zn=(0,g.getSubscribeUrl)(un,{addBase:!0,utm_source:"recommendations_page",referring_pub_ids:[r.id],simple:!0}),nr=(0,Bt.getByLine)(un),Xn=B.map(({id:mr})=>mr).includes(un.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Tn,onClick:()=>{(0,y.j)(y.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:un.id,recommending_publication_id:r.id})}},(0,e.h)(_n.Z,{pub:un,size:48,logo_url:un.logo_url||un.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},un.name),!!nr&&(0,e.h)("div",{className:"publication-author"},Ue`By ${nr}`))),Ct.map(({id:mr})=>mr).includes(un.id)?(0,e.h)(ct.Z,{onClick:t4(un,r,sn,{trackOnly:Xn}),href:Xn?(0,g.getPubAccountSettingsUrl)(un,{addBase:!0}):null,className:"unsubscribe"},ge("Subscribed")):(0,e.h)(ct.Z,{onClick:Q&&!Q.is_magic&&Q.email||ce?e4(un,r,Q,Yt,{freeSignupEmail:ce}):()=>{(0,y.j)(y.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:un.id,recommending_publication_id:r.id}),(0,E.redirect)(zn,{local_navigation:!1})}},(0,e.h)(_.gq,{alignItems:"center",gap:8},(0,e.h)(Wl.Z,{size:20}),ge("Subscribe")))),(0,e.h)("div",{className:"publication-suggestion-text-area"},(un.editorial_bio||un.hero_text)&&(0,e.h)("div",{className:"publication-description"},un.editorial_bio||un.hero_text)),Xt.description&&(0,e.h)(r4,{content:Xt.description,author:(0,Bt.getByLine)(r)||r.name}))))}))))},r4=({author:r,content:n})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},n),(0,e.h)("p",{className:"blurb-author"},"- ",r)),o4=({recommendations:r,numRecommendations:n,pub:d,user:B,render:Q,renderRecommendation:ce})=>{const{iString:ye,iTemplate:_e}=(0,P.M1)(),ge=r.map(Ue=>(0,e.h)(i4,{recommendation:Ue,pub:d,signedIn:!!B,render:ce}));return(0,t.d4)(()=>{(0,y.j)(y.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:r.map(({recommendedPublication:Ue})=>Ue.id)})},[r]),Q?Q({recommendations:ge,canManage:!!(B!=null&&B.is_admin),manageUrl:(0,g.getPublishSettingsRecommendationsUrl)(d),hasMore:n>r.length,hasMoreUrl:(0,g.getRecommendationsPageUrl)(d),recommendationsCount:n}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,g.getRecommendationsPageUrl)(d)},"Recommendations"),B!=null&&B.is_admin?(0,e.h)("a",{href:(0,g.getPublishSettingsRecommendationsUrl)(d),native:!0},ye("Manage")):n>r.length?(0,e.h)("a",{href:(0,g.getRecommendationsPageUrl)(d),native:!0},_e`View all ${n}`):null),ge)},i4=({recommendation:r,pub:n,signedIn:d,render:B})=>{const{recommendedPublication:Q}=r,ce=(0,g.getPubUrl)(Q,{params:{utm_source:"homepage_recommendations",utm_campaign:n.id},signedIn:d}),ye=()=>{(0,y.j)(y.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:n.id,recommended_publication_id:Q.id,source:"homepage-recommendations"})},_e={pub:Q,logo_url:Q.logo_url,href:ce,openInNewTab:!0,belowTheFold:!0};return B?B({pubIconProps:_e,pubName:Q.name,pubAuthor:Q.author.name,url:ce,onClick:ye}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:ye},(0,e.h)(_n.Z,qT(XT({},_e),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:ce,target:"_blank",onClick:ye},Q.name),(0,e.h)("div",{className:"pub-author"},Q.author.name)))))},a4=o4;var s4=Object.defineProperty,l4=Object.defineProperties,u4=Object.getOwnPropertyDescriptors,iv=Object.getOwnPropertySymbols,c4=Object.prototype.hasOwnProperty,d4=Object.prototype.propertyIsEnumerable,av=(r,n,d)=>n in r?s4(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,p4=(r,n)=>{for(var d in n||(n={}))c4.call(n,d)&&av(r,d,n[d]);if(iv)for(var d of iv(n))d4.call(n,d)&&av(r,d,n[d]);return r},f4=(r,n)=>l4(r,u4(n));const sv=({pub:r,showEmptyState:n,hideHeaderBorder:d,user:B})=>{const{numRecommendations:Q,recommendations:ce}=(0,t.qp)($a),{iString:ye,iTemplate:_e}=(0,P.M1)();return!ce||ce.length===0&&!n?null:(0,e.h)(a4,{recommendations:ce,numRecommendations:Q,pub:r,user:B,render:({recommendations:ge,canManage:Ue,manageUrl:Ct,hasMore:xt,hasMoreUrl:Yt,recommendationsCount:sn})=>(0,e.h)(_.tu,{gap:16},(0,e.h)(_.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:d?void 0:8,borderBottom:d?void 0:"detail-themed"},(0,e.h)(Da,null,ye("Recommendations")),Ue?(0,e.h)(vl,{href:Ct},ye("Manage")):xt?(0,e.h)(vl,{href:Yt,testid:"homepage-recommendations-view-all"},_e`View all ${sn}`):null),(0,e.h)(_.tu,{gap:4,"data-testid":"homepage-recommendations"},Q===0?(0,e.h)(Bu,null):ge)),renderRecommendation:({url:ge,onClick:Ue,pubIconProps:Ct,pubName:xt,pubAuthor:Yt})=>{const sn={onClick:Ue,target:"_blank",rel:"noopener"};return(0,e.h)(_l,{"data-testid":"homepage-recommendation",image:(0,e.h)(_n.Z,f4(p4({},Ct),{size:40,noMargin:!0})),linkProps:sn,subtitle:Yt,title:xt,url:ge})}})},lv={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},uv=({pub:r,user:n})=>{const{freeSignup:d,freeSignupEmail:B}=(0,t.qp)($a),{size:Q,lineHeight:ce}=pd.sm;return(0,e.h)(_.tu,{className:lv.container,gap:24},(0,e.h)(_.tu,{gap:8},r.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:lv.pubLogo,src:(0,g.imginary)(r.logo_url,88),alt:r.name}),(0,e.h)("div",null,(0,e.h)(_.xv,{size:Q,lineHeight:ce,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},r.name),r.hero_text&&(0,e.h)(_.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},r.hero_text))),!(n!=null&&n.is_subscribed)&&(0,e.h)(Ca,{expectTruncation:!0,freeSignup:d,freeSignupEmail:B,isStatic:!1,pub:r,source:"magaziney-home-page",user:n}))},h4=({pub:r,user:n})=>{const{isMobile:d}=yi();return(0,e.h)(_.tu,{gap:40},!d&&(0,e.h)(uv,{pub:r,user:n}),r.show_recs_on_homepage&&(0,e.h)(sv,{pub:r,user:n}),(0,e.h)(tv,{pub:r}))},m4=(0,di.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var g4=dn(35570);const yl={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var v4=Object.defineProperty,_4=Object.defineProperties,y4=Object.getOwnPropertyDescriptors,Uu=Object.getOwnPropertySymbols,cv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,pv=(r,n,d)=>n in r?v4(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ta=(r,n)=>{for(var d in n||(n={}))cv.call(n,d)&&pv(r,d,n[d]);if(Uu)for(var d of Uu(n))dv.call(n,d)&&pv(r,d,n[d]);return r},Os=(r,n)=>_4(r,y4(n)),fv=(r,n)=>{var d={};for(var B in r)cv.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Uu)for(var B of Uu(r))n.indexOf(B)<0&&dv.call(r,B)&&(d[B]=r[B]);return d},b4=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const Fu=r=>"email_from_name"in r,E4=r=>{var n;const[d,B]=(0,t.eJ)((n=r.postsByGroupId)!=null?n:{}),[Q,ce]=(0,t.eJ)(!1),ye=r,{posts:_e,bodyPostGroups:ge,hasEmptyGroupOptions:Ue,setHasInvalidGroupSelection:Ct}=ye,xt=fv(ye,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,t.d4)(()=>{const Vt=un=>b4(void 0,null,function*(){const Tn=Ta({},d);for(const zn of un){const nr={limit:6};if(Fu(zn)?nr.section_id=zn.id:nr.post_tag_id=zn.id,!Tn[zn.id]){const{body:Xn}=yield zt().get("/api/v1/archive").query(nr);Tn[zn.id]=Xn}}nl()(Tn,d)||(B(Tn),ce(!1))});Object.keys(d).length===0&&ge&&(ge==null?void 0:ge.length)>0&&(ce(!0),Vt(ge))},[ge,B,d]);const Yt=(0,t.I4)(Vt=>{var un;const Tn=(un=Vt.post_tag_id)!=null?un:Vt.section_id;if(!Tn)throw new Error("Must supply section_id or post_tag_id");d&&d[Tn]||zt().get("/api/v1/archive").query(Ta({limit:3},Vt)).then(({body:zn})=>{B(Os(Ta({},d),{[Tn]:zn}))})},[d,B]),sn=[_e.slice(0,3),_e.slice(3,6),_e.slice(6)],Xt=(0,t.I4)(Vt=>!d||d&&Object.keys(d).length===0||!d[Vt]?null:d[Vt].slice(0,3),[d]);return Ue||!ge||(ge==null?void 0:ge.length)===0?Ct?(Ct(!0),(0,e.h)(hv,{message:"No groups selected"})):(0,e.h)(_.tu,null,(0,e.h)(yd,{pub:r.pub}),(0,e.h)(mi,Os(Ta({},xt),{variant:"three-column-grid",posts:sn.slice(ge!=null&&ge.length?ge==null?void 0:ge.length:0).flat()}))):(0,e.h)("div",{className:yl.homePageGroupsGrid},ge.map(Vt=>{const un=Xt(Vt.id);return(0,e.h)(_.tu,{paddingBottom:24},(0,e.h)(yd,{pub:r.pub,row:Vt}),(0,e.h)(P4,Os(Ta({},xt),{posts:_e,loadingSync:Q,groupModel:Vt,postsForId:un,setHasInvalidGroupSelection:Ct,onIntersectCallback:()=>{const Tn=Fu(Vt)?{section_id:Vt.id}:{post_tag_id:Vt.id};Yt(Tn)}})))}),ge.length<3?(0,e.h)(_.tu,null,(0,e.h)(yd,{pub:r.pub}),(0,e.h)(mi,Os(Ta({},xt),{variant:"three-column-grid",posts:sn.slice(ge!=null&&ge.length?ge==null?void 0:ge.length:0).flat()}))):null)},hv=({groupModel:r,message:n})=>(0,e.h)(_.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(_.tu,{alignItems:"center",justifyContent:"center",className:i()(yl.homePageGroupsGrid,r?yl.emptyGroupView:yl.emptyRowsView)},(0,e.h)(m4,{className:yl.emptyContentIcon}),n&&(0,e.h)(_.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},n),r&&(0,e.h)(_.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Fu(r)?"section":"tag"," to include it on your homepage."))),yd=({row:r,pub:n})=>{var d;const{isMobile:B}=yi();let Q="/archive";return r&&(Q=Fu(r)?(0,$.getSectionUrl)(n,{section:r}):(0,$.getPostTagUrl)(n,r)),(0,e.h)(_.tu,{paddingBottom:12,paddingX:B?0:8},(0,e.h)(_.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(_.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(d=r==null?void 0:r.name)!=null?d:"Recent posts"),(0,e.h)(vl,{href:Q},"See all")))},P4=r=>{const n=r,{onIntersectCallback:d,groupModel:B,loadingSync:Q,postsForId:ce,setHasInvalidGroupSelection:ye}=n,_e=fv(n,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[ge,Ue]=(0,g4.Z)();return(0,t.d4)(()=>{Ue!=null&&Ue.isIntersecting&&!Q&&d()},[Ue==null?void 0:Ue.isIntersecting,d,Q]),ce?ce.length===0?ye?(ye(!0),(0,e.h)(hv,{groupModel:B})):(0,e.h)(mi,Os(Ta({},_e),{variant:"three-column-grid",posts:_e.posts.slice(0,3)})):(0,e.h)(mi,Os(Ta({},_e),{variant:"three-column-grid",posts:ce})):(0,e.h)(dd,{postCount:3,variant:"grid-groups",ref:ge})};var C4=Object.defineProperty,w4=Object.defineProperties,O4=Object.getOwnPropertyDescriptors,mv=Object.getOwnPropertySymbols,S4=Object.prototype.hasOwnProperty,x4=Object.prototype.propertyIsEnumerable,gv=(r,n,d)=>n in r?C4(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,vv=(r,n)=>{for(var d in n||(n={}))S4.call(n,d)&&gv(r,d,n[d]);if(mv)for(var d of mv(n))x4.call(n,d)&&gv(r,d,n[d]);return r},A4=(r,n)=>w4(r,O4(n));function D4({pub:r,user:n,freeSignup:d,freeSignupEmail:B,className:Q=""}){const{iString:ce}=(0,P.M1)();return(0,e.h)("div",{className:i()("home-sitemap",Q)},(0,e.h)("h4",{className:"home-sitemap-title"},r.name),d||n&&n.is_free_subscribed?!(n&&n.is_subscribed)&&r.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,g.getSubscribeUrl)(r,{utm_source:"home-sitemap"}),native:!0},(0,Bt.getSubscribeText)(r)):null:(0,e.h)(_.xu,{paddingTop:20},(0,e.h)(et.Z,{className:"home-sitemap-signup-form",freeSignup:d,freeSignupEmail:B,pub:r,source:"home-sitemap",user:n,onSuccess:ye=>{ye.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,g.pathWithQuery)("/account/login",{redirect:document.location.href,email:ye.body.email})},30):r.plans?document.location.href=(0,g.pathWithQuery)("/subscribe",A4(vv(vv({next:document.location.href,later:!0,just_signed_up:!0},ye.body.subscription_id&&{subscription_id:ye.body.subscription_id}),ye.body.referral_token&&{referral_token:ye.body.referral_token}),{requires_confirmation:ye.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(r==null?void 0:r.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,g.getAboutUrl)(r),native:!!r.parent_publication_id},ce("About")),(0,e.h)("a",{href:(0,g.getBaseArchiveUrl)(r)},ce("Archive")),r.has_recommendations&&(0,e.h)("a",{href:(0,g.getRecommendationsPageUrl)(r),native:!0},ce("Recommendations")),r.can_have_sitemap&&(0,e.h)("a",{href:(0,g.getSitemapUrl)(r),native:!0},ce("Sitemap"))))}var T4=Object.defineProperty,I4=Object.defineProperties,M4=Object.getOwnPropertyDescriptors,_v=Object.getOwnPropertySymbols,R4=Object.prototype.hasOwnProperty,L4=Object.prototype.propertyIsEnumerable,yv=(r,n,d)=>n in r?T4(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ga=(r,n)=>{for(var d in n||(n={}))R4.call(n,d)&&yv(r,d,n[d]);if(_v)for(var d of _v(n))L4.call(n,d)&&yv(r,d,n[d]);return r},Za=(r,n)=>I4(r,M4(n));const bv=["newspaper","magaziney","magazine-5"],Ev=16,bR=7,ER={newspaper:{id:"newspaper",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},Pv=()=>{const{iString:r,iTemplate:n}=(0,P.M1)();return{newspaper:{id:"newspaper",label:r("Feature"),description:r("One featured post"),legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:r("Newspaper"),description:r("A side column of top posts"),legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:r("Magazine"),description:r("Five featured posts"),legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}}},PR=()=>{const r=Pv();return bv.map(d=>({value:d,label:r[d].label}))},N4=()=>{const r=Pv();return bv.reduce((n,d)=>Za(Ga({},n),{[d]:r[d].postCount}),{})},Cv=["list","grid","grid-groups","custom"],wv=()=>{const{iString:r,iTemplate:n}=(0,P.M1)();return{list:{id:"list",label:r("List"),description:r("A list of posts"),postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:r("Grid"),description:r("A grid of nine posts"),postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:r("Groups (sections or tags)"),description:r("A grid of nine posts, grouped by section or tag"),postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:r("Custom"),description:r("Custom layout"),postCount:{desktop:0,tablet:0,mobile:0}}}},k4=()=>{const r=wv();return Cv.reduce((n,d)=>Za(Ga({},n),{[d]:r[d].postCount}),{})},CR=({excludeCustom:r})=>{const n=wv();return Cv.filter(d=>!r||d!=="custom").map(d=>({value:d,label:n[d].label}))},wR={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},newsletters:{id:"newsletters",label:"Newsletters"},podcasts:{id:"podcasts",label:"Podcasts"},"top-posts":{id:"top-posts",label:"Top posts"}},Wu={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},OR=r=>{let n=!1;const d=[],B={},Q=new Set,ce=new Set;let ye=0;return r.length===0&&(n=!0,d.push("You must have at least one content block")),r.forEach(_e=>{const ge=B4(_e);ge==="latest"&&(ye+=Ov(_e),ye>Ev&&(n=!0,B[_e.id]=Za(Ga({},B[_e.id]),{post_source:[`You can't have more than ${Ev} of your most recent posts`]}))),ge!=="latest"&&ge!=="none"&&(Q.has(ge)?(n=!0,B[_e.id]=Za(Ga({},B[_e.id]),{post_source:["You can't use the same post source more than once"]})):Q.add(ge)),ge==="none"&&_e.block_type!=="subscribe"&&(n=!0,B[_e.id]=Za(Ga({},B[_e.id]),{post_source:["This block type requires a post source"]})),_e.primary_sidebar_modules.forEach(Ue=>{ce.has(Ue)?(n=!0,B[_e.id]=Za(Ga({},B[_e.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):ce.add(Ue)}),_e.secondary_sidebar_modules.forEach(Ue=>{ce.has(Ue)?(n=!0,B[_e.id]=Za(Ga({},B[_e.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):ce.add(Ue)})}),{hasError:n,errorObject:{global:d.length?d:null,contentBlocks:B}}},B4=r=>r.post_source==="tag"?`tag:${r.post_tag_id}`:r.post_source==="section"?`section:${r.section_id}`:r.post_source,Ov=r=>{if(r.block_type==="list")return r.num_posts||Wu.posts.default;if(r.block_type==="grid"){const n=4-(r.primary_sidebar_modules.length>0?1:0)-(r.secondary_sidebar_modules.length>0?1:0),d=r.num_rows||Wu.rows.default;return n*d}return r.block_type==="feature"?4:0};var U4=Object.defineProperty,F4=Object.defineProperties,W4=Object.getOwnPropertyDescriptors,ju=Object.getOwnPropertySymbols,Sv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Av=(r,n,d)=>n in r?U4(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,bd=(r,n)=>{for(var d in n||(n={}))Sv.call(n,d)&&Av(r,d,n[d]);if(ju)for(var d of ju(n))xv.call(n,d)&&Av(r,d,n[d]);return r},Ed=(r,n)=>F4(r,W4(n)),j4=(r,n)=>{var d={};for(var B in r)Sv.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&ju)for(var B of ju(r))n.indexOf(B)<0&&xv.call(r,B)&&(d[B]=r[B]);return d};const H4={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},K4={grid:"three-column-grid",list:"two-column-list"},V4={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},z4=r=>{var n=r,{freeSignup:d,freeSignupEmail:B,hideImagesFromList:Q,posts:ce,pub:ye,showSiteMap:_e,source:ge,user:Ue,utm:Ct,variant:xt,onChange:Yt,bodyPostGroups:sn,postsByGroupId:Xt}=n,Vt=j4(n,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:un}=yi(),zn=k4()[xt][un],nr=xt==="list"&&(Q||ce.slice(0,zn).every(Xn=>!Xn.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(Oa,{variant:H4[xt],showContentBelowOnMobile:!0},(0,e.h)(Iu,Ed(bd({},Vt),{maxPosts:zn,newPosts:ce,pub:ye,user:Ue,variant:xt}),({posts:Xn,linkToComments:mr,onClickPost:vr})=>{const _r={hideImages:nr,linkToComments:mr,posts:Xn,pub:ye,source:ge,user:Ue,utm:Ct,onChange:Yt,onClickPost:vr};return xt==="grid-groups"?(0,e.h)(E4,Ed(bd({},_r),{bodyPostGroups:sn,postsByGroupId:Xt,setHasInvalidGroupSelection:Vt.setHasInvalidGroupSelection,hasEmptyGroupOptions:Vt.hasEmptyGroupOptions})):(0,e.h)(mi,Ed(bd({},_r),{variant:K4[xt]}))}),(0,e.h)(h4,{pub:ye,user:Ue})),_e&&(0,e.h)(Oa,{variant:V4[xt]},(0,e.h)(D4,{pub:ye,user:Ue,freeSignup:d,freeSignupEmail:B})))},$4={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},Pd=()=>(0,e.h)(_.xu,{paddingX:16,paddingY:48,radius:6,className:$4.container},(0,e.h)(_.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),Cd=({title:r,viewAllUrl:n})=>{const{isMobile:d}=yi();return(0,e.h)(_.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:d?12:16},d?(0,e.h)(Da,null,r):(0,e.h)(_.xv.H2,{color:"pub-primary-text",font:"pub-headings"},r),n&&(0,e.h)(vl,{href:n},"View all"))},bl={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},G4=({leftContent:r,rightContent:n,mobileContent:d})=>{const{isMobile:B}=yi();return B&&d?d:(0,e.h)("div",{className:bl.container},(0,e.h)("div",{className:i()(bl.column,bl.left)},r),(0,e.h)("div",{className:i()(bl.column,bl.right)},n))},Z4=({posts:r,pub:n,showEmptyState:d,title:B,user:Q,viewAllUrl:ce,onChange:ye})=>{const{isTablet:_e}=yi();return!d&&r.length===0?null:(0,e.h)(e.Fragment,null,B&&(0,e.h)(Cd,{title:B,viewAllUrl:ce}),r.length?(0,e.h)(G4,{leftContent:(0,e.h)(ws,{imageAspectRatio:"wide",hideWash:!0,post:r[0],pub:n,user:Q,variant:"large",onChange:ye}),rightContent:(0,e.h)(mi,{posts:r.slice(1,4),pub:n,user:Q,variant:_e?"one-column-list":"two-column-list",onChange:ye}),mobileContent:(0,e.h)(mi,{posts:r.slice(0,4),pub:n,user:Q,variant:"two-column-list",onChange:ye})}):(0,e.h)(Pd,null))},ua={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},wd=({leftContent:r,mainContent:n,rightContent:d,stretchToFullWidth:B})=>{const{isMobile:Q,isTablet:ce,isDesktop:ye}=yi(),_e=r&&d;let ge=2;return B&&(ye?ge=4-(r?1:0)-(d?1:0):ce&&(ge=3-(r||d?1:0))),Q&&(ge=1),(0,e.h)("div",{className:ua.outerContainer},(0,e.h)("div",{className:ua.container},r&&(0,e.h)(_.xu,{className:i()(ua.column,ua.column1),borderRight:_e?"detail-themed":void 0,paddingTop:8},r),(0,e.h)(_.xu,{className:i()(ua.column,{[ua.column2]:ge===2,[ua.column3]:ge===3,[ua.column4]:ge===4}),borderRight:_e?"detail-themed":void 0},n),d&&(0,e.h)(_.xu,{className:i()(ua.column,ua.column1),paddingTop:8},d)))};var Y4=dn(8400),J4=dn.n(Y4);const El={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},Q4=({posts:r,pub:n,numColumns:d,user:B,onChange:Q})=>{const ce=J4()(r,d);return(0,e.h)(_.tu,{gap:16},ce.map(ye=>(0,e.h)(_.gq,{className:El.postRow},ye.map(_e=>(0,e.h)("div",{className:i()(El.postContainer,{[El.postContainerTwoColumn]:d===2,[El.postContainerThreeColumn]:d===3,[El.postContainerFourColumn]:d===4})},(0,e.h)(ws,{post:_e,pub:n,user:B,variant:"square",onChange:Q}))))))};var X4=dn(2731);const q4=()=>{const{contributors:r}=(0,t.qp)($a);return r?(0,e.h)(_.tu,{gap:16},(0,e.h)(Da,null,"Contributors"),(0,e.h)(_.tu,{gap:4},r.length?r.map(n=>(0,e.h)(_l,{image:n.photo_url?(0,e.h)(Xp.q,{imageUrl:n.photo_url,size:"md"}):void 0,title:n.name||"",url:(0,X4.getReaderProfileUrl)(n,{utm_source:"pub-home-sidebar"})})):(0,e.h)(Bu,null))):null},Ya={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG",logoPlaceholder:"frontend-main-home-sidebar-PodcastArt-module__logoPlaceholder--D2tNI"},Dv=({altText:r="Section logo",size:n=64,url:d,showPlaceholder:B})=>d?(0,e.h)("img",{className:i()(Ya.logo,{[Ya["logo-64"]]:n===64,[Ya["logo-72"]]:n===72}),src:(0,g.imginary)(d,n*2),alt:r}):B?(0,e.h)("div",{className:i()(Ya.logo,Ya.logoPlaceholder,{[Ya["logo-64"]]:n===64,[Ya["logo-72"]]:n===72})}):null,eI=({pub:r})=>{const n=r.sections.filter(B=>(0,Bt.sectionIsSpecificallyMarkedAsNewsletter)({section:B,pub:r})||!B.is_podcast),d=n.some(B=>B.logo_url);return(0,e.h)(_.tu,{gap:16},(0,e.h)(Da,null,"Newsletters"),(0,e.h)(_.tu,{gap:4},n.length?n.map(B=>(0,e.h)(_l,{image:B.logo_url||d?(0,e.h)(Dv,{size:64,url:B.logo_url,altText:`Logo for ${B.name}`,showPlaceholder:!0}):null,title:B.name,subtitle:B.description,url:(0,$.getSectionUrl)(r,{section:B,addBase:!0})})):(0,e.h)(Bu,null)))},tI=({pub:r})=>{const n=(0,il.FV)(r),d=n.some(B=>B.podcast_art_url);return(0,e.h)(_.tu,{gap:16},(0,e.h)(Da,null,"Podcasts"),(0,e.h)(_.tu,{gap:4},n.length?n.map(B=>(0,e.h)(_l,{image:B.podcast_art_url||d?(0,e.h)(Dv,{size:64,url:B.podcast_art_url,altText:`Logo for ${B.title}`,showPlaceholder:!0}):null,title:B.title,subtitle:B.subtitle,url:B.url})):(0,e.h)(Bu,null)))},nI=({pub:r,user:n})=>{const{topPosts:d,utm:B,onChangePost:Q}=(0,t.qp)($a);return!d||!Q?null:(0,e.h)(_.tu,{gap:16},(0,e.h)(Da,null,"Top posts"),(0,e.h)(mi,{pub:r,posts:d.slice(0,5),user:n,utm:B,variant:"one-column-list",onChange:Q}))};var rI=Object.defineProperty,Tv=Object.getOwnPropertySymbols,oI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable,Iv=(r,n,d)=>n in r?rI(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,aI=(r,n)=>{for(var d in n||(n={}))oI.call(n,d)&&Iv(r,d,n[d]);if(Tv)for(var d of Tv(n))iI.call(n,d)&&Iv(r,d,n[d]);return r};const Ia=({ids:r,pub:n,user:d})=>{const B=Pg()(r.map(Q=>Q==="subscribe"?(0,e.h)(uv,{pub:n,user:d}):Q==="recommendations"?(0,e.h)(sv,{pub:n,user:d,showEmptyState:!0,hideHeaderBorder:!0}):Q==="links"?sI(tv,{pub:n,hideHeaderBorder:!0}):Q==="contributors"?(0,e.h)(q4,null):Q==="podcasts"?(0,e.h)(tI,{pub:n}):Q==="newsletters"?(0,e.h)(eI,{pub:n}):Q==="top-posts"?(0,e.h)(nI,{pub:n,user:d}):null));return(0,e.h)(_.tu,null,B.map((Q,ce)=>(0,e.h)(e.Fragment,null,Q,ce<B.length-1&&(0,e.h)(cl,null))))},sI=(r,n)=>{const d=(0,e.h)(r,aI({},n));return typeof d.type=="function"&&d.type(n)===null?null:d},lI=({numRows:r,posts:n,pub:d,showEmptyState:B,sidebarLeft:Q,sidebarRight:ce,title:ye,user:_e,viewAllUrl:ge,onChange:Ue})=>{const{isDesktop:Ct,isTablet:xt}=yi();if(!B&&n.length===0)return null;const Yt=Q&&Q.length>0,sn=ce&&ce.length>0;let Xt,Vt,un;Ct?(Xt=Yt?(0,e.h)(Ia,{ids:Q,pub:d,user:_e}):void 0,Vt=sn?(0,e.h)(Ia,{ids:ce,pub:d,user:_e}):void 0,un=4-(sn?1:0)-(Yt?1:0)):xt?sn?(Vt=(0,e.h)(Ia,{ids:[...ce,...Q!=null?Q:[]],pub:d,user:_e}),un=2):Yt?(Xt=(0,e.h)(Ia,{ids:Q,pub:d,user:_e}),un=2):un=3:un=1;const Tn=un*r,zn=(0,e.h)(e.Fragment,null,ye&&(0,e.h)(Cd,{title:ye,viewAllUrl:ge}),n.length?(0,e.h)(Q4,{posts:n.slice(0,Tn),pub:d,user:_e,numColumns:un,onChange:Ue}):(0,e.h)(Pd,null));return(0,e.h)(wd,{mainContent:zn,leftContent:Xt,rightContent:Vt,stretchToFullWidth:!0})},uI=({numPosts:r,posts:n,pub:d,showEmptyState:B,sidebarLeft:Q,sidebarRight:ce,title:ye,user:_e,viewAllUrl:ge,onChange:Ue})=>{const{isTablet:Ct,isDesktop:xt}=yi();if(!B&&n.length===0)return null;const Yt=Q&&Q.length>0,sn=ce&&ce.length>0;let Xt,Vt;const un=(0,e.h)(e.Fragment,null,ye&&(0,e.h)(Cd,{title:ye,viewAllUrl:ge}),n.length?(0,e.h)(mi,{posts:n.slice(0,r),pub:d,user:_e,variant:"two-column-list",onChange:Ue}):(0,e.h)(Pd,null));return xt?(Xt=Yt?(0,e.h)(Ia,{ids:Q,pub:d,user:_e}):void 0,Vt=sn?(0,e.h)(Ia,{ids:ce,pub:d,user:_e}):void 0):Ct&&(sn?Vt=(0,e.h)(Ia,{ids:[...ce,...Q!=null?Q:[]],pub:d,user:_e}):Yt&&(Xt=(0,e.h)(Ia,{ids:Q,pub:d,user:_e}))),(0,e.h)(wd,{mainContent:un,leftContent:Xt,rightContent:Vt})},Mv={outerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__outerContainer--y7q8i",innerContainer:"frontend-main-home-content_blocks-ContentBlockSubscribe-module__innerContainer--kL5ui"},cI=({contentBlock:r,pub:n,user:d})=>{const{iString:B}=(0,P.M1)(),{freeSignup:Q,freeSignupEmail:ce}=(0,t.qp)($a),{isMobile:ye}=yi(),_e=Q||(d==null?void 0:d.is_free_subscribed),ge=d==null?void 0:d.is_subscribed,Ue=(0,$.getSubscribeUrl)(n,{params:{utm_source:"subscribe_content_block",gift:!0,next:document.location.href}});return(0,e.h)("div",{className:Mv.outerContainer},(0,e.h)(_.xu,{className:Mv.innerContainer,paddingY:ye?40:48},(0,e.h)(_.hs,{direction:ye?"column":"row",alignItems:"center",gap:16,justifyContent:"center"},(0,e.h)(_.xv.B1,{textAlign:ye?"center":"left"},ge?r.attrs.paid_subscriber_message:_e?r.attrs.free_subscriber_message:r.attrs.non_subscriber_message),(0,e.h)(_.xu,{flex:"auto"},ge?(0,e.h)(_.zx,{priority:"primary-theme",href:Ue,localNavigation:!1},B("Gift a subscription")):(0,e.h)(Ca,{pub:n,user:d,freeSignup:Q,freeSignupEmail:ce,source:"content-block"})))))},dI=({contentBlock:r,posts:n,pub:d,showEmptyState:B,title:Q,user:ce,viewAllUrl:ye,onChange:_e})=>{var ge,Ue;return r.block_type==="list"?(0,e.h)(uI,{numPosts:(ge=r.num_posts)!=null?ge:Wu.posts.default,posts:n,pub:d,sidebarLeft:r.secondary_sidebar_modules,sidebarRight:r.primary_sidebar_modules,showEmptyState:B,title:Q,user:ce,viewAllUrl:ye,onChange:_e}):r.block_type==="grid"?(0,e.h)(lI,{numRows:(Ue=r.num_rows)!=null?Ue:Wu.rows.default,posts:n,pub:d,sidebarLeft:r.secondary_sidebar_modules,sidebarRight:r.primary_sidebar_modules,showEmptyState:B,title:Q,user:ce,viewAllUrl:ye,onChange:_e}):r.block_type==="feature"?(0,e.h)(Z4,{posts:n,pub:d,showEmptyState:B,title:Q,user:ce,viewAllUrl:ye,onChange:_e}):r.block_type==="subscribe"?(0,e.h)(cI,{contentBlock:r,pub:d,user:ce}):null},pI=()=>(0,e.h)(_.xu,{paddingBottom:120},(0,e.h)(wd,{mainContent:(0,e.h)(dd,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),fI=({contentBlocks:r,postsBySectionId:n,postsByTagId:d,postTagsById:B,pub:Q,recentPosts:ce,sectionsById:ye,showEmptyStates:_e,user:ge,onChange:Ue})=>{let Ct=0;const xt=r.filter(Yt=>Yt.post_source==="latest").length>1;return(0,e.h)(_.tu,{paddingBottom:40},r.length||!_e?r.map((Yt,sn)=>{var Xt,Vt;let un=[],Tn="",zn;if(Yt.post_source==="latest"){const nr=Ov(Yt);un=ce.slice(Ct,Ct+nr),Ct+=nr,Tn=xt?"":"Recent posts",zn=(0,g.getBaseArchiveUrl)(Q)}else if(Yt.post_source==="section"&&Yt.section_id){const nr=ye[Yt.section_id];un=(Xt=n[Yt.section_id])!=null?Xt:[],Tn=nr.name,zn=(0,$.getSectionUrl)(Q,{section:nr})}else if(Yt.post_source==="tag"&&Yt.post_tag_id){const nr=B[Yt.post_tag_id];un=(Vt=d[Yt.post_tag_id])!=null?Vt:[],Tn=nr==null?void 0:nr.name,zn=(0,$.getPostTagUrl)(Q,nr)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${Yt.id}`,style:{scrollMarginTop:48}},(0,e.h)(dI,{key:Yt.id,contentBlock:Yt,posts:un,pub:Q,showEmptyState:_e,title:Tn,user:ge,viewAllUrl:zn,onChange:Ue})),sn<r.length-1&&(0,e.h)(cl,null))}):(0,e.h)(pI,null))};var hI=Object.defineProperty,mI=Object.defineProperties,gI=Object.getOwnPropertyDescriptors,Hu=Object.getOwnPropertySymbols,Rv=Object.prototype.hasOwnProperty,Lv=Object.prototype.propertyIsEnumerable,Nv=(r,n,d)=>n in r?hI(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,vI=(r,n)=>{for(var d in n||(n={}))Rv.call(n,d)&&Nv(r,d,n[d]);if(Hu)for(var d of Hu(n))Lv.call(n,d)&&Nv(r,d,n[d]);return r},_I=(r,n)=>mI(r,gI(n)),yI=(r,n)=>{var d={};for(var B in r)Rv.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Hu)for(var B of Hu(r))n.indexOf(B)<0&&Lv.call(r,B)&&(d[B]=r[B]);return d};const bI=r=>{var n=r,{columns:d=4,posts:B,pub:Q}=n,ce=yI(n,["columns","posts","pub"]);const{isMobile:ye}=yi();return ye?null:(0,e.h)(Oa,{variant:d===3?"three-column-width":"full-width"},(0,e.h)(_.tu,{gap:12},(0,e.h)(Ig,{pub:Q}),(0,e.h)(mi,_I(vI({},ce),{pub:Q,posts:B,variant:d===3?"three-column-mini-row":"mini-row"}))))},Ku={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var EI=Object.defineProperty,PI=Object.defineProperties,CI=Object.getOwnPropertyDescriptors,Vu=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,Bv=Object.prototype.propertyIsEnumerable,Uv=(r,n,d)=>n in r?EI(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,wI=(r,n)=>{for(var d in n||(n={}))kv.call(n,d)&&Uv(r,d,n[d]);if(Vu)for(var d of Vu(n))Bv.call(n,d)&&Uv(r,d,n[d]);return r},OI=(r,n)=>PI(r,CI(n)),SI=(r,n)=>{var d={};for(var B in r)kv.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&Vu)for(var B of Vu(r))n.indexOf(B)<0&&Bv.call(r,B)&&(d[B]=r[B]);return d};const xI="modular-home-posts",AI=r=>{var n;const d=r,{alwaysShowActions:B,bodyPostGroups:Q,contentBlocks:ce,contributors:ye,freeSignup:_e,freeSignupEmail:ge,homepageLinks:Ue,numRecommendations:Ct,postsByGroupId:xt,postsBySectionId:Yt,postsByTagId:sn,postTagsById:Xt,pub:Vt,recommendations:un,sectionsById:Tn,showEmptyStates:zn,showSiteMap:nr,theme:Xn,user:mr,utm:vr}=d,_r=SI(d,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:Tr,topPosts:Ir,onChange:xr}=ib(Og()(r,["newPosts","pinnedPosts","topPosts"])),{breakpoint:Mr,isMobile:br,isDesktop:$r}=yi(),{getConfigFor:Yr}=(0,It.xR)(),{getSettingFor:Jr}=(0,Le.So)(),ao=!!Yr("homepage_overlap_ufi"),Cr=(0,Bt.ensureInList)(Jr("post_preview_crop_gravity"),["center","auto"]),to=N4();if(Tr.length===0)return(0,e.h)(DI,null);const ho=Tr[0],Co=Ir==null?void 0:Ir.filter(Vo=>!ho||Vo.id!==ho.id),vo=!((n=Tr[0])!=null&&n.cover_image);let Do=to[Xn.home_hero][Mr];vo&&["magaziney","magazine-5"].includes(Xn.home_hero)&&["desktop","tablet"].includes(Mr)&&(Do+=2);let Uo=Xn.home_hero;Tr.length<Do+1&&(Uo="newspaper",Do=1);const po=["newspaper","feature"].includes(Uo)&&Xn.home_posts==="list",yo=Tr.length>=Do+1,mo=yo?Tr.slice(Do):Tr;return(0,e.h)(hs.Provider,{value:{alwaysShowActions:B,overlapUfi:$r&&ao,cropGravity:Cr}},(0,e.h)($a.Provider,{value:{contributors:ye,freeSignup:_e,freeSignupEmail:ge,homepageLinks:Ue,numRecommendations:Ct,recommendations:un,topPosts:Ir,utm:vr,onChangePost:xr}},(0,e.h)(_.tu,{className:Ku.container},(0,e.h)(_.tu,{gap:32,paddingTop:!yo&&br?24:0},yo&&(0,e.h)(yT,{firstPostMissingImage:vo,bodyVariant:Xn.home_posts,isMobile:br,posts:Tr.slice(0,Do),pub:Vt,topPosts:Co,user:mr,utm:vr,variant:Uo,onChange:xr}),Xn.home_show_top_posts&&Co&&Uo!=="magaziney"&&yo&&(0,e.h)(bI,{columns:po?3:4,posts:Co,pub:Vt,user:mr,utm:vr,onChange:xr})),(0,e.h)(_.tu,{className:Ku.bodyContainer,id:xI},yo&&(0,e.h)(cl,{numColumns:po?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},Xn.home_posts!=="custom"&&(0,e.h)(z4,OI(wI({},_r),{freeSignup:_e,freeSignupEmail:ge,hideImagesFromList:Xn.hide_images_from_list,posts:mo,pub:Vt,showSiteMap:nr,source:`${Xn.home_hero}-${Xn.home_posts}-home`,user:mr,utm:vr,variant:Xn.home_posts,onChange:xr,bodyPostGroups:Q,postsByGroupId:xt,hasEmptyGroupOptions:r.hasEmptyGroupOptions})),Xn.home_posts==="custom"&&ce&&Yt&&sn&&Xt&&Tn&&(0,e.h)(fI,{contentBlocks:ce,postsBySectionId:Yt,postsByTagId:sn,postTagsById:Xt,pub:Vt,recentPosts:mo,sectionsById:Tn,showEmptyStates:zn,user:mr,onChange:xr}))))))},DI=()=>(0,e.h)(_.tu,{className:i()(Ku.container,Ku["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var TI=Object.defineProperty,II=Object.defineProperties,MI=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,Fv=Object.prototype.hasOwnProperty,Wv=Object.prototype.propertyIsEnumerable,jv=(r,n,d)=>n in r?TI(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,RI=(r,n)=>{for(var d in n||(n={}))Fv.call(n,d)&&jv(r,d,n[d]);if(zu)for(var d of zu(n))Wv.call(n,d)&&jv(r,d,n[d]);return r},LI=(r,n)=>II(r,MI(n)),NI=(r,n)=>{var d={};for(var B in r)Fv.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&zu)for(var B of zu(r))n.indexOf(B)<0&&Wv.call(r,B)&&(d[B]=r[B]);return d};const kI=r=>{var n=r,{blurbs:d,contentBlocks:B,contentBlockPostTagsById:Q,contentBlockSectionsById:ce,contributors:ye,freeSignup:_e,freeSignupEmail:ge,hasEmptyGroupOptions:Ue,hide_intro_popup:Ct,noBalanceHeroText:xt,notify_user:Yt,numRecommendations:sn,pinnedPosts:Xt,pub:Vt,recommendations:un,referralCode:Tn,showEmptyStates:zn,showWelcome:nr,user:Xn,postTags:mr,postsByGroupId:vr,postsBySectionId:_r,postsByTagId:Tr,sections:Ir,launchWelcomePage:xr}=n,Mr=NI(n,["blurbs","contentBlocks","contentBlockPostTagsById","contentBlockSectionsById","contributors","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pinnedPosts","pub","recommendations","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","postsBySectionId","postsByTagId","sections","launchWelcomePage"]),br;(0,t.d4)(()=>{Yt&&typeof window!="undefined"&&(0,Ua.ZP)(Yt)},[Yt]);const $r=!!(Xt&&Xt.length>0),Yr=Pg()((br=Vt.theme.body_post_groups)==null?void 0:br.map(Jr=>{var ao,Cr,to,ho;return Jr.tag_id?(Cr=(ao=Jr.post_tag)!=null?ao:mr==null?void 0:mr.find(Co=>Co.id===Jr.tag_id))!=null?Cr:null:Jr.section_id&&(ho=(to=Jr.section)!=null?to:Ir==null?void 0:Ir.find(Co=>Co.id===Jr.section_id))!=null?ho:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(Cg,{pub:Vt}),(0,e.h)(AI,LI(RI({},Mr),{alwaysShowActions:!1,bodyPostGroups:Yr,contentBlocks:B,contributors:ye,freeSignup:_e,freeSignupEmail:ge,hasEmptyGroupOptions:Ue,numRecommendations:sn,pinnedPosts:Xt,postsByGroupId:vr,postsBySectionId:_r,postsByTagId:Tr,postTagsById:Q,pub:Vt,recommendations:un,sectionsById:ce,showEmptyStates:!!zn,showSiteMap:$r,theme:Vt.theme,user:Xn})),(0,e.h)(wg,{blurbs:d,freeSignup:_e,freeSignupEmail:ge,hide_intro_popup:Ct,noBalanceHeroText:xt,pub:Vt,referralCode:Tn,showWelcome:nr,user:Xn,launchWelcomePage:xr}))},BI={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},Hv=({logoUrl:r,name:n,description:d})=>(0,e.h)(_.tu,{gap:12,paddingTop:32,paddingBottom:24},r&&(0,e.h)("img",{className:BI.logo,src:(0,g.imginary)(r,72*2),alt:n}),(0,e.h)(_.xv.H1,{font:"pub-headings",color:"pub-primary-text"},n),(0,e.h)(_.xv.B3,{color:"pub-secondary-text"},d)),UI={container:"frontend-main-home-SectionPage-module__container--W1M1c"},Od=({blurbs:r,freeSignup:n,freeSignupEmail:d,hide_intro_popup:B,isPodcast:Q,newPosts:ce,noBalanceHeroText:ye,notify_user:_e,pinnedPosts:ge,pub:Ue,referralCode:Ct,search:xt,section:Yt,sort:sn,showWelcome:Xt,user:Vt,utm:un,launchWelcomePage:Tn})=>{var zn,nr;if((0,t.d4)(()=>{_e&&typeof window!="undefined"&&(0,Ua.ZP)(_e)},[_e]),!Yt&&!Q)return console.warn("Should be either a section or podcast or both"),null;let Xn=null;return Q&&(Xn=Yt?(0,Hs.getSectionPodcastSettings)({pub:Ue,section:Yt}):(0,Hs.getPubPodcastSettings)({pub:Ue})),(0,e.h)("div",{className:i()("home-page",UI.container)},(0,e.h)(Cg,{pub:Ue,section:Yt,isPodcast:Q}),Xn?(0,e.h)(Hv,{name:(zn=Xn.title)!=null?zn:"",description:(nr=Xn.description)!=null?nr:"",logoUrl:Xn.artUrl}):Yt&&(0,e.h)(Hv,{name:Yt.name,description:Yt.description,logoUrl:Yt.logo_url}),(0,e.h)(cl,null),(0,e.h)(Iu,{isPodcast:Q,maxPosts:7,newPosts:ce,pinnedPosts:ge,pub:Ue,search:xt,sectionId:Yt==null?void 0:Yt.id,sort:sn,user:Vt,variant:"list"},({posts:mr,linkToComments:vr,onClickPost:_r})=>(0,e.h)(mi,{hideImages:Ue.theme.hide_images_from_list,linkToComments:vr,posts:mr,pub:Ue,showSectionPins:!0,user:Vt,utm:un,variant:"two-column-list",onChange:()=>{},onClickPost:_r})),(0,e.h)(wg,{blurbs:r,freeSignup:n,freeSignupEmail:d,hide_intro_popup:B,isPodcast:Q,noBalanceHeroText:ye,pub:Ue,referralCode:Ct,showWelcome:Xt,user:Vt,launchWelcomePage:Tn}))};var FI=Object.defineProperty,WI=(r,n,d)=>n in r?FI(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Kv=(r,n,d)=>(WI(r,typeof n!="symbol"?n+"":n,d),d),Vv=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class jI extends e.Component{constructor(){super(...arguments),Kv(this,"state",{loading:!0,invites:[]}),Kv(this,"onSuccess",()=>Vv(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,E.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:n,user:d}=this.props;return n.invite_only?d&&d.is_contributor?!0:!(!(n.subscriber_invites>0)||!(d&&d.is_subscribed)):!1}loadInvites(){return Vv(this,null,function*(){try{const n=yield zt().get("/api/v1/publication/invite");this.setState({invites:n.body,loading:!1})}catch(n){console.error("Failed to fetch invites:",n),alert((0,E.getNetworkErrorMessage)(n))}})}render({pub:n,user:d},{loading:B,invites:Q}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const ce=d&&d.is_contributor,ye=Math.max(d&&d.invites,Q.length),_e=Math.max(ye,n.subscriber_invites),ge=_e-ye;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,n.name," is invite-only, but you\u2019ve been granted"," ",ce?"an infinite number of invites":(0,Bt.pluralize)(_e,"invite")," to give out."),(ge>0||ce)&&[!ce&&(0,e.h)("h5",null,"You have ",(0,Bt.pluralize)(ge,"invite")," left"),(0,e.h)(Ze.ZP,{ref:Ue=>this.form=Ue,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(ct.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],B&&ye>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):Q.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,Q.sort((Ue,Ct)=>new Date(Ct.created_at)-new Date(Ue.created_at)).map(Ue=>(0,e.h)("li",null,Ue.inviteeUser&&Ue.inviteeUser.name||""," on"," ",Zn()(Ue.created_at).standardDate())))]:null))}}function HI({pub:r,post:n}){return(0,e.h)(Se.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(Se.tu,{alignItems:"center",gap:4},(0,e.h)(Se.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(C.xv.H1,null,"You rejected your invite to ",r.name)),(0,e.h)(C.xv.B3,null,"If you change your mind, you can accept from your email invitation."),n.is_published?(0,e.h)(C.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,g.getPostUrl)(r,n)},n.title)):null),(0,e.h)(Oe.zx,{href:r.base_url},`Go to ${r.name}`))}function KI({pub:r,user:n,post:d,freeSignup:B,freeSignupEmail:Q}){const ce=(0,t.sO)(null),ye=()=>ce.current&&ce.current.open();if(!d)return(0,e.h)(Se.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",r.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(Zt.Z,{onClick:ye},"profile is up to date")),(0,e.h)(kc.EB,{ref:ce,user:n,freeSignup:B,freeSignupEmail:Q,needsPhoto:!0})));const _e=d.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",ge="Your profile is set up and good to go!";return(0,e.h)(Se.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(Se.tu,{alignItems:"center",gap:4},(0,e.h)(Se.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(C.xv.H1,null,_e)),(0,e.h)(C.xv.B3,null,ge)),(0,e.h)(Oe.zx,{href:r.base_url},`Go to ${r.name}`))}const VI=(0,di.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var zI=dn(78041),Ss=dn(18255),SR=dn(81470),$I=(r=>(r.postStatsDismissKey="post-stats.dismissed",r.appUnifiedHomeCtaDismissKey="app-unified-home-cta.dismissed",r.feedCtaDismissKey="feed-dashboard-cta.dismissed",r.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",r.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",r.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",r.newDashboardAnnouncement="new-dashboard-announcement.dismissed",r.enablePaid="enable-paid.dismissed",r.chatEnableReaderParticipation="chat-enable-reader-participation.dismissed",r.readerReferral="reader-referral.dismissed",r.pubIntroText="publication-intro-text.dismissed",r))($I||{}),GI=(r=>(r.post="post",r))(GI||{}),ZI=(r=>(r.DIRECT_EMAIL="direct_email",r.POST_REPLY="post_reply",r))(ZI||{}),YI=(r=>(r.SENT="sent",r.REJECTED="rejected",r.NEEDS_REVIEW="needs_review",r.FAILED="failed",r))(YI||{});const JI={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},QI=({isSelected:r,tier:n})=>{const{iString:d,iTemplate:B,iPlural:Q}=(0,P.M1)(),ce={[Ss.E4.CompOneMonth]:d("1 month comp"),[Ss.E4.CompThreeMonths]:d("3 month comp"),[Ss.E4.CompSixMonths]:d("6 month comp"),[Ss.E4.CompNineMonths]:d("9 month comp"),[Ss.E4.CompTwelveMonths]:d("12 month comp"),[Ss.E4.Custom]:d("Custom")};return(0,e.h)(Se.tu,{className:JI.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:r?"var(--color-accent-themed)":void 0}},(0,e.h)(Se.gq,{gap:4,alignItems:"center"},new Array(n.display_order).fill(0).map(()=>(0,e.h)(i0,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(C.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},n.reward_type==="custom"?n.reward_description:ce[n.reward_type]),(0,e.h)(C.xv.Meta,{weight:"semibold",style:{color:r?"var(--color-accent-themed)":void 0}},r?B`You're here!`:Q("1 Referral","%1 Referrals",n.num_referrals_required)))};var Sd=dn(68262);const Hi={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var XI=Object.defineProperty,qI=Object.defineProperties,eM=Object.getOwnPropertyDescriptors,zv=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable,$v=(r,n,d)=>n in r?XI(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Gv=(r,n)=>{for(var d in n||(n={}))tM.call(n,d)&&$v(r,d,n[d]);if(zv)for(var d of zv(n))nM.call(n,d)&&$v(r,d,n[d]);return r},Zv=(r,n)=>qI(r,eM(n)),Yv=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const xd=(r,n)=>{(0,y.j)(y.FP.SHARE_LINK_CLICKED,{name:n,source:"leaderboard"}),r&&(r.startsWith("http")?window.open(r,"_blank"):document.location.href=r)},Jv=({user:r,rank:n,referrals:d,isSelf:B,isHighlighted:Q})=>{const{iString:ce}=(0,P.M1)();return(0,e.h)(C.xv,{as:r?"a":"div",href:r?(0,$.getProfileUrlById)(r.id,r.name):void 0,className:Hi.referrerLink},(0,e.h)(Se.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:B||Q?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:B?16:8,paddingRight:20,justifyContent:"space-between",className:i()(Hi.referrerRow,{[Hi.referrerRowInverted]:!B})},(0,e.h)(Se.gq,{gap:8,alignItems:"center"},(0,e.h)(C.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},n,"."),r?(0,e.h)(Xi.Ct,{subject:r,dontStopPropagation:!1},(0,e.h)(tl.qE,{size:36,user:r})):(0,e.h)(tl.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(C.xv.B4,{color:"primary-themed",weight:"semibold"},(r==null?void 0:r.name)||ce("Anonymous Reader"))),(0,e.h)(C.xv.B4,{color:"primary-themed",weight:"semibold"},d)))},rM=({pub:r,user:n,freeSignupEmail:d})=>{const{iString:B,iTemplate:Q,iPlural:ce}=(0,P.M1)(),{getExperimentVariant:ye,exposeExperiment:_e}=(0,He.jc)(),ge=(0,pi.pm)(),{result:Ue,isLoading:Ct,refetch:xt}=(0,yn.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:Yt}=(0,yn.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,t.d4)(()=>{!Ct&&!Ue&&(0,E.redirect)((0,$.getBaseUrl)(r))},[Ue,Ct,r]),Ct||!Ue)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:sn,tiers:Xt,top_referrers:Vt,current_user_can_share:un,current_user_id:Tn,current_user_profile_hidden:zn}=Ue,nr=n==null?void 0:n.is_admin,Xn=n==null?void 0:n.is_contributor,mr=(0,g.getQueryItem)("referrer_token"),vr=n&&!n.is_magic&&n.email||d||null,_r=(0,$.pathWithQuery)((0,$.getBaseUrl)(r),{r:(Tn==null?void 0:Tn.toString(36))||mr});let Tr,Ir;Xt.find((Mr,br)=>{const $r=(sn==null?void 0:sn.referrals)||0,Yr=Xt[br+1];$r>=Mr.num_referrals_required&&(!Yr||$r<Yr.num_referrals_required)&&(Tr=Mr,Ir=Yr)});let xr="";return!Tr&&sn?xr=`${ce("You have %1 referral","You have %1 referrals",sn.referrals)} - ${ce("only %1 more referral to earn your first reward!","only %1 more referrals to earn your first reward!",Xt[0].num_referrals_required-sn.referrals)}`:Tr&&Ir&&sn?xr=`${ce("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",sn.referrals)} ${Q`Youve qualified for the Tier ${Tr.display_order} reward.`} ${ce("Invite %1 more reader to earn the Tier %2 reward!","Invite %1 more readers to earn the Tier %2 reward!",Ir.num_referrals_required-sn.referrals,Ir.display_order)}`:Tr&&!Ir&&sn&&(xr=`${ce("You\u2019ve referred %1 reader!","You\u2019ve referred %1 readers!",sn.referrals)} You\u2019re number #${sn.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(Se.tu,{gap:64,className:Hi.wrapper},(nr||Xn)&&(0,e.h)(Se.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(Se.tu,{gap:4},(0,e.h)(C.xv.Meta,{color:"pub-primary-text"},nr?"Admin View":"Contributor View"),(0,e.h)(C.xv.B4,{color:"pub-secondary-text"},B(nr?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard."))),nr&&(0,e.h)(Oe.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},B("Edit Referral Settings"))),(0,e.h)(Se.tu,{alignItems:"center"},(0,e.h)(Se.tu,{gap:24,className:Hi.headerWrapper,alignItems:"center"},(0,e.h)(ss.xu,null,(0,e.h)(Sd.F,{pub:r,size:64})),(0,e.h)(Se.tu,{alignItems:"center",gap:4},(0,e.h)(C.xv,{className:Hi.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},un||mr?Q`Refer friends to ${r.name}`:Q`Subscribe and invite friends to ${r.name}`),(0,e.h)(C.xv.B3,{translated:!0,color:"pub-secondary-text",textAlign:"center",className:Hi.introText},"Show your support by sharing ",I18N.p(r.name)," and earn rewards for your referrals.")),!un&&!mr&&!(Xn||nr)&&(0,e.h)(Se.tu,{style:{width:"100%"}},(0,e.h)(Oe.zx,{grow:!0,priority:"primary-theme",onClick:Mr=>Yv(void 0,null,function*(){Mr.preventDefault();let br;try{vr&&(br=(yield zt().post("/api/v1/free").send({source:"referral-leaderboard",email:vr,first_url:f.xY,first_referrer:f.ip,current_url:f.UE,current_referrer:f.xU})).body.referral_token)}catch($r){(0,y.j)(y.FP.FREE_SIGNUP_FAILED,{reason:$r.message,source:"referral-leaderboard"})}window.location.href=(0,$.getSubscribeUrl)(r,{addBase:!0,params:{simple:!0,next:document.location.href,utm_source:"referral-leaderboard",utm_medium:"web",skip_redirect_check:!0,just_signed_up:!0,referral_token:br}})}),href:(0,$.pathWithQuery)("/subscribe",{next:(0,$.getLeaderboardUrl)(r,void 0,{addBase:!0}),utm_source:"referral-leaderboard"}),localNavigation:!1},(0,e.h)(Se.gq,{alignItems:"center",gap:8},(0,e.h)(Wl.Z,{size:20}),B("Subscribe")))))),(un||Xn||nr||mr)&&(0,e.h)(Se.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(Se.gq,{style:{width:"100%"}},(0,e.h)(_.oi,{className:Hi.copyLinkInput,readOnly:!0,value:_r}),(0,e.h)(Oe.zx,{className:Hi.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,y.j)(y.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,E.copyToClipboard)(_r),ge.popToast(Mr=>(0,e.h)(pi.FN,Zv(Gv({},Mr),{Icon:$s.Z,text:B("Link copied to clipboard")})))}},B("Copy link"))),(0,e.h)(Se.hs,{className:Hi.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(Oe.zx,{className:Hi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(Gt.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>xd((0,$.pathWithQuery)("https://twitter.com/share",{url:_r,text:r.name}),"twitter")},"Twitter"),(0,e.h)(Oe.zx,{className:Hi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(zI.Z,{height:20,width:20}),onClick:()=>xd((0,$.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:_r}),"facebook")},"Facebook"),(0,e.h)(Oe.zx,{className:Hi.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(t0,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>xd((0,$.pathWithQuery)("mailto:",{subject:r.name,body:_r}),"email")},"Email"))),(0,e.h)(Se.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(C.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(Se.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},Xt.map(Mr=>(0,e.h)(QI,{key:Mr.display_order,tier:Mr,isSelected:Mr.display_order===(Tr==null?void 0:Tr.display_order)}))),un&&sn&&(0,e.h)(Se.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(Jv,{user:n,isSelf:!0,referrals:sn.referrals,rank:sn.rank}),!zn&&(0,e.h)(C.xv.B4,{color:"pub-secondary-text"},xr),zn&&(0,e.h)(Se.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(Se.tu,{textAlign:"left",gap:4},(0,e.h)(C.xv.B4,{translated:!0,weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(C.xv.B4,{translated:!0,color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",I18N.p(r.name))),(0,e.h)(Oe.zx,{fill:"outline",priority:"primary-theme",onClick:()=>Yv(void 0,null,function*(){yield Yt({body:{ids:[Ue.current_user_subscription_id],visibility:"public"}}),xt(),ge.popToast(Mr=>(0,e.h)(pi.FN,Zv(Gv({},Mr),{text:`${r.name} is now visible on your profile!`})))})},B("Show on profile"))))),(0,e.h)(Se.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(C.xv.H3,{translated:!0,font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(Vt==null?void 0:Vt.length)===0&&(0,e.h)(Se.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(VI,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(C.xv.B4,{color:"pub-secondary-text"},Q`No referrers yet. Be the first on ${r.name}'s leaderboard by helping them find new readers.`)),(Vt==null?void 0:Vt.length)>0&&(0,e.h)(Se.tu,{gap:8,style:{width:"100%"}},(0,e.h)(Se.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(C.xv.Meta,{translated:!0,weight:"semibold"},"Referrer"),(0,e.h)(C.xv.Meta,{translated:!0,weight:"semibold"},"Referrals")),Vt==null?void 0:Vt.map(Mr=>(0,e.h)(Jv,{key:Mr.rank,user:Mr.user,isHighlighted:Mr.isCurrentUser,rank:Mr.rank,referrals:Mr.referrals})))))))},oM=(0,di.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),iM=(0,di.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Fi={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},Qv=({pub:r})=>{const n=()=>{const d=(0,g.getQueryItem)("referrer"),B=d!=null?d:(0,g.getPubUrl)(r);(0,E.redirect)(B,{local_navigation:!1})};return(0,e.h)(Oe.hU,{onClick:n,className:Fi.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(as.Z,{className:Fi.closeIcon}))},xs=({pub:r,user_id:n,user_profile_photo_url:d,children:B})=>(0,Ei.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(Se.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(Sd.F,{className:Fi.pubLogo,pub:r,size:112}),B):(0,e.h)(Se.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:Fi.avatarWithPubLogo},(0,e.h)(tl.qE,{className:Fi.avatar,user:{id:n,photo_url:d},size:112}),(r.logo_url||r.cover_photo_url)&&(0,e.h)(Sd.F,{className:Fi.pubIcon,pub:r,size:40})),B),aM=({pub:r,user:n,settings:d})=>{var B,Q,ce,ye;const{selected_event_type:{price:_e,subscriber_price:ge,founding_price:Ue,currency:Ct,description_html:xt,duration:Yt,num_availabilities:sn},user_name:Xt}=d;let Vt=_e,un=null;((Q=(B=r.plans)==null?void 0:B.length)!=null?Q:0>0)&&(n!=null&&n.is_subscribed&&ge&&(Vt=ge,un="SUBSCRIBER DISCOUNT"),n!=null&&n.is_founding&&Ue&&(Vt=Ue,un=`${(ce=(0,fi.getFoundingTierName)(r)||"FOUNDING")==null?void 0:ce.toUpperCase()} DISCOUNT`)),(0,t.d4)(()=>{var mr,vr;(0,y.j)(y.FP.MEETING_PAGE_VIEWED,{publication_id:r.id,user_id:n.id,referrer:(mr=(0,g.getQueryItem)("referrer"))!=null?mr:null,source:(vr=(0,g.getQueryItem)("source"))!=null?vr:null})},[]);const Tn=(ye=(0,g.getQueryItem)("referrer"))!=null?ye:void 0,zn=(0,g.updateQuery)("/meetings/book",{referrer:Tn}),nr=sn>0,Xn=xt?{__html:xt.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(Qv,{pub:r}),(0,e.h)(Se.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(Se.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(xs,{pub:r,user_id:d.user_id,user_profile_photo_url:d.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(C.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(C.xv.H2,{align:"center",paddingTop:4},(0,Ei.getConfigFor)("meetings_embed_publication_name")?r.name:Xt))),(0,e.h)(Se.tu,{bg:"primary",className:i()(Fi.offer,{[Fi.unavailable]:!nr}),radius:12,shadow:"xl",padding:20},un&&(0,e.h)("div",{className:Fi.displayedBadge},un),(0,e.h)(Se.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(Se.tu,null,Vt&&Ct&&Yt&&(0,e.h)(e.Fragment,null,(0,e.h)(C.xv.H3,{color:nr?"primary":"secondary"},Yt,"-minute meeting"),(0,e.h)(C.xv.B4,{color:nr?"primary":"secondary",paddingTop:4},Vt<_e&&(0,e.h)("span",{className:Fi.originalPrice},(0,Bt.centsToPriceString)(_e,Ct)),(0,Bt.centsToPriceString)(Vt,Ct)," \xB7"," ",nr?sn>50?"Many availabilities":`${(0,Bt.pluralize)(sn,"slot")} available this month`:"No slots available in the next week"))),nr?(0,e.h)(oM,{className:Fi.check,size:28}):(0,e.h)(iM,{size:28,className:Fi.disabledCheck})),(0,e.h)(C.xv.B4,{color:"secondary"},(0,e.h)("div",{className:Fi.description,dangerouslySetInnerHTML:Xn}))),(0,e.h)(Oe.zx,{className:Fi.button,disabled:!nr,grow:!0,localNavigation:!1,href:zn},nr?"Continue to book":"No meetings available"))))};var sM=dn(45609);const Xv={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var lM=Object.defineProperty,uM=Object.defineProperties,cM=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertySymbols,dM=Object.prototype.hasOwnProperty,pM=Object.prototype.propertyIsEnumerable,e_=(r,n,d)=>n in r?lM(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,fM=(r,n)=>{for(var d in n||(n={}))dM.call(n,d)&&e_(r,d,n[d]);if(qv)for(var d of qv(n))pM.call(n,d)&&e_(r,d,n[d]);return r},hM=(r,n)=>uM(r,cM(n));const mM=(r,n,d)=>{var B,Q,ce,ye,_e,ge,Ue,Ct,xt,Yt,sn,Xt,Vt,un,Tn,zn,nr,Xn,mr,vr,_r,Tr,Ir,xr,Mr,br,$r,Yr,Jr,ao,Cr,to,ho;return!((B=r.location)!=null&&B.location)&&!((Q=r.location)!=null&&Q.join_url)?n&&d?{href:(0,$.getMeetingOrderUrl)(d,r.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(ce=r.location)==null?void 0:ce.join_url,copyContent:(ye=r.location)==null?void 0:ye.join_url,label:"Join Zoom"},zoom_conference:{href:(_e=r.location)==null?void 0:_e.join_url,copyContent:(ge=r.location)==null?void 0:ge.join_url,label:"Join Zoom"},google:{href:(Ue=r.location)==null?void 0:Ue.join_url,copyContent:(Ct=r.location)==null?void 0:Ct.join_url,label:"Join Meet"},google_conference:{href:(xt=r.location)==null?void 0:xt.join_url,copyContent:(Yt=r.location)==null?void 0:Yt.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(sn=r.location)==null?void 0:sn.location}`,copyContent:(Xt=r.location)==null?void 0:Xt.location,label:(Vt=r.location)==null?void 0:Vt.location},outbound_call:{href:null,label:`${(0,Bt.guessFirstName)(r.user_name)} will call you at ${(un=r.location)==null?void 0:un.location}`},microsoft_teams:{href:(Tn=r.location)==null?void 0:Tn.join_url,copyContent:(zn=r.location)==null?void 0:zn.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(nr=r.location)==null?void 0:nr.join_url,copyContent:(Xn=r.location)==null?void 0:Xn.join_url,label:"Join Teams"},webex:{href:(mr=r.location)==null?void 0:mr.join_url,copyContent:(vr=r.location)==null?void 0:vr.join_url,label:"Join Webex"},webex_conference:{href:(_r=r.location)==null?void 0:_r.join_url,copyContent:(Tr=r.location)==null?void 0:Tr.join_url,label:"Join Webex"},gotomeeting:{href:(Ir=r.location)==null?void 0:Ir.join_url,copyContent:(xr=r.location)==null?void 0:xr.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(Mr=r.location)==null?void 0:Mr.join_url,copyContent:(br=r.location)==null?void 0:br.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(Yr=($r=r.location)==null?void 0:$r.location)!=null?Yr:"Unknown"},ask_invitee:{href:null,label:(ao=(Jr=r.location)==null?void 0:Jr.location)!=null?ao:"Unknown"},custom:{href:null,label:(to=(Cr=r.location)==null?void 0:Cr.location)!=null?to:"Unknown"}}[(ho=r.location)==null?void 0:ho.type]||{}},gM=({order:r,isStatic:n=!1,pub:d=null})=>{const B=(0,pi.pm)(),{href:Q,label:ce,copyContent:ye}=mM(r,n,d),_e=(0,e.h)(C.xv.B3,{align:"right"},Q?(0,e.h)("a",{href:Q},ce):ce);return n||!ye?_e:(0,e.h)(Se.gq,{gap:4,alignItems:"center"},_e,(0,e.h)(Oe.hU,{size:24,onClick:()=>{(0,E.copyToClipboard)(ye),B.popToast(ge=>(0,e.h)(pi.FN,hM(fM({},ge),{Icon:us.Z,text:"Invite link copied"})))}},(0,e.h)(sM.Z,{height:20})))},vM=({order:r,pub:n})=>{const d=Zn()(r.start_time),B=Zn()(r.end_time),Q=`${d.format("MMMM D, YYYY")} at ${d.format("h:mm A z")}`,ce=B.diff(d,"minute");return(0,e.h)(Se.tu,{gap:8,className:Xv.meetingDetails},(0,e.h)(Se.gq,{justifyContent:"space-between",gap:8},(0,e.h)(C.xv.B3,{weight:"bold"},"Time"),(0,e.h)(C.xv.B3,null,Q)),(0,e.h)(Se.gq,{justifyContent:"space-between",gap:8},(0,e.h)(C.xv.B3,{weight:"bold"},"Length"),(0,e.h)(C.xv.B3,null,ce," minutes")),(0,e.h)(Se.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(C.xv.B3,{weight:"bold"},"Location"),(0,e.h)(gM,{order:r,pub:n})),(0,e.h)(C.xv.B3,{align:"center",className:Xv.description,paddingTop:16},(0,e.h)("i",null,r.description)))},_M=({booking:r,settings:n,pub:d})=>{const B=(0,Ei.getConfigFor)("meetings_embed_publication_name")?d.name:r.user_name;return r.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(xs,{pub:d,user_id:n.user_id,user_profile_photo_url:n.user_profile_photo_url},(0,e.h)(C.xv.H2,{align:"center"},"Your meeting with ",B," has been cancelled")),r.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(C.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(C.xv.B4,{align:"center",paddingBottom:32},r.cancellation_reason)),r.refunded_at&&(0,e.h)(C.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),n.enabled&&(0,e.h)(C.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,$.getMeetingsUrl)(d,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(xs,{pub:d,user_id:n.user_id,user_profile_photo_url:n.user_profile_photo_url},(0,e.h)(C.xv.H2,{align:"center"},"Your meeting with ",B," has been ",r.num_rebookings>0?"rebooked":"booked")),(0,e.h)(Se.tu,{gap:16,alignItems:"center"},(0,e.h)(vM,{order:r,pub:d}),(0,e.h)(C.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),r.refunded_at&&(0,e.h)(C.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(Oe.zx,{onClick:()=>{const Q=(0,g.getQueryItem)("referrer"),ce=Q!=null?Q:(0,g.getPubUrl)(d);(0,E.redirect)(ce,{local_navigation:!1})}},"Done")))};var Ad=dn(44043),yM=dn(14105);const bM={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},t_=({className:r,children:n,detail:d,label:B,alignment:Q="vertical",error:ce=!1})=>{const ye=Q==="vertical"?EM:PM;return(0,e.h)(ye,{className:r,detail:d,error:ce,label:B},fo.Children.map(n,_e=>(0,fo.isValidElement)(_e)?(0,e.cloneElement)(_e,{error:ce}):_e))},EM=({children:r,className:n,detail:d,error:B,label:Q})=>(0,e.h)(Se.tu,{className:n,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(C.xv.B4,{weight:"semibold",as:"div",color:B?"error":"primary",paddingBottom:8},Q),r),d&&(0,e.h)(n_,{detail:d,error:B})),PM=({children:r,className:n,detail:d,error:B,label:Q})=>(0,e.h)(Se.gq,{className:n,justifyContent:"space-between",alignItems:"center"},(0,e.h)(Se.tu,{gap:4},Q&&(0,e.h)(CM,{label:Q,error:B}),d&&(0,e.h)(n_,{detail:d,error:B})),r),CM=({label:r,error:n})=>(0,e.h)(C.xv.B4,{weight:"semibold",className:bM.label,color:n?"error":"primary"},r),n_=({detail:r,error:n})=>(0,e.h)(C.xv.B4,{color:n?"error":"secondary"},r),Ki={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var Dd=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const wM=({stripe_publishable_key:r,onComplete:n,user:d,pub:B,booking:Q,settings:ce})=>{const[ye,_e]=(0,t.eJ)(Q.name),[ge,Ue]=(0,t.eJ)(Q.description),[Ct,xt]=(0,t.eJ)(null),[Yt,sn]=(0,t.eJ)(null),[Xt,Vt]=(0,t.eJ)(null),[un,Tn]=(0,t.eJ)(null),[zn,nr]=(0,t.eJ)(!1),[Xn,mr]=(0,t.eJ)(null);(0,t.d4)(()=>{const Cr=(0,Ze.lQ)(r,B),to=Cr&&(0,Ze.UD)(Cr);sn(Cr),Vt(to)},[B,r,sn,Vt]),(0,t.d4)(()=>{(0,y.j)(Ad.F.MEETING_ORDER_PAGE_VIEWED,{user_id:d.id,publication_id:B.id})},[]),(0,t.d4)(()=>{(()=>Dd(void 0,null,function*(){var to;const ho=yield zt().get("/api/v1/subscription/last4");(to=ho.body)!=null&&to.last4&&Tn(ho.body.last4)}))()},[B]);const vr=ce.selected_event_type,{price:_r,duration:Tr,subscriber_price:Ir,founding_price:xr,currency:Mr}=vr;let br=_r;d.is_subscribed&&Ir&&(br=Ir),d.is_founding&&xr&&(br=xr);const $r=!!(d!=null&&d.has_saved_payment),Yr=(0,t.I4)(()=>Dd(void 0,null,function*(){return Yt?yield Yt.createToken(Xt):{token:null,error:{message:""}}}),[Yt,Xt]),Jr=(0,t.I4)(()=>Dd(void 0,null,function*(){var Cr,to,ho,Co;nr(!0),mr(null);let vo;if(!$r){const{token:po,error:yo}=yield Yr();if(yo){nr(!1),mr(yo&&yo.message),(0,y.j)(Ad.F.MEETING_MISSING_PAYMENT,{type:yo&&yo.type,code:yo&&yo.code,decline_code:yo&&yo.decline_code,reason:yo&&yo.message});return}vo=po}const Do=new FormData;Do.append("name",ye),Do.append("description",ge),vo&&Do.append("stripe_token",JSON.stringify(vo)),Ct&&Do.append("attachment",Ct);const Uo=Intl.DateTimeFormat().resolvedOptions().timeZone;Uo&&Do.append("timezone",Uo),(0,y.j)(Ad.F.MEETING_SUBMIT_PRESSED,{publication_id:B.id,user_id:d.id});try{const po=yield zt().post("/api/v1/meetings/book").send(Do);history.pushState({},"",`/meetings/book/${po.body.order_id}`),n("schedule",Og()(po.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(po){(to=(Cr=po.response)==null?void 0:Cr.body)!=null&&to.error?mr((Co=(ho=po.response)==null?void 0:ho.body)==null?void 0:Co.error):mr("Something went wrong.")}nr(!1)}),[ye,ge,Yr,Ct,nr,mr]),ao=!!ye&&!!ge;return(0,e.h)(e.Fragment,null,(0,e.h)(xs,{pub:B,user_id:ce.user_id,user_profile_photo_url:ce.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(_.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(_.xv.H2,{align:"center",paddingTop:4},(0,Ei.getConfigFor)("meetings_embed_publication_name")?B.name:ce.user_name),(0,e.h)(_.xv.B3,{align:"center",paddingTop:8},br<_r&&(0,e.h)("span",{className:Ki.originalPrice},(0,Bt.centsToPriceString)(_r,Mr)),(0,Bt.centsToPriceString)(br,Mr)," \xB7 ",Tr,"-minute meeting"))),(0,e.h)(_.tu,{gap:32},(0,e.h)(t_,{alignment:"vertical",label:"Your name"},(0,e.h)(_.oi,{name:"name",value:ye||"",onChange:Cr=>_e(Cr.target.value),placeholder:"Name...",disabled:zn,maxLength:500})),(0,e.h)(t_,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(_.gx,{name:"description",value:ge,onChange:Cr=>Ue(Cr.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:zn})),Ct?(0,e.h)("div",null,(0,e.h)(_.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(_.gq,{className:Ki.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(as.Z,{onClick:()=>xt(null),className:Ki.fileRemoveIcon,height:24}),(0,e.h)(_.xv.B3,{className:Ki.fileName},Ct.name))):(0,e.h)("div",null,(0,e.h)(_.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(yM.G,{className:Ki.filePicker,onFileSelected:Cr=>xt(Cr),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:Ki.checkoutBox},$r&&(0,e.h)(_.gq,{className:Ki.savedCard,padding:12,gap:12},(0,e.h)(B0,{className:Ki.cardOnFileIcon}),(0,e.h)(_.xv.B4,null,un?`**** **** **** ${un}`:"Use card on file")),!$r&&Xt&&(0,e.h)(Ze.GP,{className:Ki.input,element:Xt}),Xn&&(0,e.h)(_.xv.B4,{paddingTop:12,className:Ki.errorContainer},Xn),(0,e.h)(_.hs,{paddingTop:12},(0,e.h)(A0.u,{text:ce.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:zn||ao&&ce.enabled,preferPlacement:"top-center",className:Ki.errorTooltip},(0,e.h)(_.zx,{className:Ki.button,grow:!0,type:"submit",onClick:Jr,disabled:zn||!ao||!ce.enabled},zn?"Loading...":"Book meeting"))))),(0,e.h)(_.xv,{className:Ki.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",B.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Td=function(r,n){return Td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,B){d.__proto__=B}||function(d,B){for(var Q in B)B.hasOwnProperty(Q)&&(d[Q]=B[Q])},Td(r,n)};function Pl(r,n){Td(r,n);function d(){this.constructor=r}r.prototype=n===null?Object.create(n):(d.prototype=n.prototype,new d)}var Cl=function(){return Cl=Object.assign||function(n){for(var d,B=1,Q=arguments.length;B<Q;B++){d=arguments[B];for(var ce in d)Object.prototype.hasOwnProperty.call(d,ce)&&(n[ce]=d[ce])}return n},Cl.apply(this,arguments)};function OM(r,n){n===void 0&&(n={});var d=n.insertAt;if(!(!r||typeof document=="undefined")){var B=document.head||document.getElementsByTagName("head")[0],Q=document.createElement("style");Q.type="text/css",d==="top"&&B.firstChild?B.insertBefore(Q,B.firstChild):B.appendChild(Q),Q.styleSheet?Q.styleSheet.cssText=r:Q.appendChild(document.createTextNode(r))}}var SM=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;OM(SM);var As;(function(r){r.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",r.EVENT_TYPE_VIEWED="calendly.event_type_viewed",r.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",r.EVENT_SCHEDULED="calendly.event_scheduled"})(As||(As={}));var r_=function(r){var n=r.url,d=r.prefill,B=d===void 0?{}:d,Q=r.pageSettings,ce=Q===void 0?{}:Q,ye=r.utm,_e=ye===void 0?{}:ye,ge=r.embedType,Ue=ce.backgroundColor,Ct=ce.hideEventTypeDetails,xt=ce.hideLandingPageDetails,Yt=ce.primaryColor,sn=ce.textColor,Xt=ce.hideGdprBanner,Vt=B.customAnswers,un=B.date,Tn=B.email,zn=B.firstName,nr=B.guests,Xn=B.lastName,mr=B.location,vr=B.name,_r=_e.utmCampaign,Tr=_e.utmContent,Ir=_e.utmMedium,xr=_e.utmSource,Mr=_e.utmTerm,br=_e.salesforce_uuid,$r=n.indexOf("?"),Yr=$r>-1,Jr=n.slice($r+1),ao=Yr?n.slice(0,$r):n,Cr=[Yr?Jr:null,Ue?"background_color="+Ue:null,Ct?"hide_event_type_details=1":null,xt?"hide_landing_page_details=1":null,Yt?"primary_color="+Yt:null,sn?"text_color="+sn:null,Xt?"hide_gdpr_banner=1":null,vr?"name="+encodeURIComponent(vr):null,mr?"location="+encodeURIComponent(mr):null,zn?"first_name="+encodeURIComponent(zn):null,Xn?"last_name="+encodeURIComponent(Xn):null,nr?"guests="+nr.map(encodeURIComponent).join(","):null,Tn?"email="+encodeURIComponent(Tn):null,un&&un instanceof Date?"date="+xM(un):null,_r?"utm_campaign="+encodeURIComponent(_r):null,Tr?"utm_content="+encodeURIComponent(Tr):null,Ir?"utm_medium="+encodeURIComponent(Ir):null,xr?"utm_source="+encodeURIComponent(xr):null,Mr?"utm_term="+encodeURIComponent(Mr):null,br?"salesforce_uuid="+encodeURIComponent(br):null,ge?"embed_type="+ge:null,"embed_domain=1"].concat(Vt?DM(Vt):[]).filter(function(to){return to!==null}).join("&");return ao+"?"+Cr},xM=function(r){var n=r.getMonth()+1,d=r.getDate(),B=r.getFullYear();return[B,n<10?"0"+n:n,d<10?"0"+d:d].join("-")},AM=/^a\d{1,2}$/,DM=function(r){var n=Object.keys(r).filter(function(d){return d.match(AM)});return n.length?n.map(function(d){return d+"="+encodeURIComponent(r[d])}):[]},o_=function(r){Pl(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(){return(0,fo.createElement)("div",{className:"calendly-spinner"},(0,fo.createElement)("div",{className:"calendly-bounce1"}),(0,fo.createElement)("div",{className:"calendly-bounce2"}),(0,fo.createElement)("div",{className:"calendly-bounce3"}))},n}(fo.Component),TM={minWidth:"320px",height:"630px"},IM=function(r){Pl(n,r);function n(d){var B=r.call(this,d)||this;return B.state={isLoading:!0},B.onLoad=B.onLoad.bind(B),B}return n.prototype.onLoad=function(){this.setState({isLoading:!1})},n.prototype.render=function(){var d=r_({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,fo.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||TM},this.state.isLoading&&(0,fo.createElement)(o_,null),(0,fo.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:d}))},n}(fo.Component),MM=function(r){Pl(n,r);function n(d){var B=r.call(this,d)||this;return B.state={isLoading:!0},B.onLoad=B.onLoad.bind(B),B}return n.prototype.onLoad=function(){this.setState({isLoading:!1})},n.prototype.render=function(){var d=r_({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,fo.createElement)(fo.Fragment,null,this.state.isLoading&&(0,fo.createElement)(o_,null),(0,fo.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:d}))},n}(fo.Component),i_=function(r){return r.open?(0,fo.createPortal)((0,fo.createElement)("div",{className:"calendly-overlay"},(0,fo.createElement)("div",{onClick:r.onModalClose,className:"calendly-close-overlay"}),(0,fo.createElement)("div",{className:"calendly-popup"},(0,fo.createElement)("div",{className:"calendly-popup-content"},(0,fo.createElement)(MM,Cl({},r)))),(0,fo.createElement)("button",{className:"calendly-popup-close",onClick:r.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),r.rootElement):null},AR=function(r){Pl(n,r);function n(d){var B=r.call(this,d)||this;return B.state={isOpen:!1},B.onClick=B.onClick.bind(B),B.onClose=B.onClose.bind(B),B}return n.prototype.onClick=function(d){d.preventDefault(),this.setState({isOpen:!0})},n.prototype.onClose=function(d){d.stopPropagation(),this.setState({isOpen:!1})},n.prototype.render=function(){return(0,fo.createElement)(fo.Fragment,null,(0,fo.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,fo.createElement)(i_,Cl({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},n}(fo.Component),DR=function(r){Pl(n,r);function n(d){var B=r.call(this,d)||this;return B.state={isOpen:!1},B.onClick=B.onClick.bind(B),B.onClose=B.onClose.bind(B),B}return n.prototype.onClick=function(){this.setState({isOpen:!0})},n.prototype.onClose=function(d){d.stopPropagation(),this.setState({isOpen:!1})},n.prototype.render=function(){return(0,fo.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,fo.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,fo.createElement)("span",null,"powered by Calendly")),(0,fo.createElement)(i_,Cl({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},n}(fo.Component),a_="message";function RM(r){var n=r||{},d=n.onDateAndTimeSelected,B=n.onEventScheduled,Q=n.onEventTypeViewed,ce=n.onProfilePageViewed;(0,fo.useEffect)(function(){var ye=function(_e){var ge=_e.data.event;ge===As.DATE_AND_TIME_SELECTED?d&&d(_e):ge===As.EVENT_SCHEDULED?B&&B(_e):ge===As.EVENT_TYPE_VIEWED?Q&&Q(_e):ge===As.PROFILE_PAGE_VIEWED&&ce&&ce(_e)};return window.addEventListener(a_,ye),function(){window.removeEventListener(a_,ye)}},[r])}var LM=dn(56288),NM=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const kM=({booking:r,onComplete:n,settings:d,pub:B})=>{const Q="calendly",[ce,ye]=(0,t.eJ)(!1),[_e,ge]=(0,t.eJ)(!1),{duration:Ue}=d.selected_event_type,Ct=(0,Ei.getConfigFor)("meetings_embed_publication_name")?B.name:r.user_name,xt=(0,We.useMediaQuery)({maxWidth:698});return RM({onEventScheduled:Yt=>NM(void 0,null,function*(){var sn,Xt,Vt;const un=(Vt=(Xt=(sn=Yt.data)==null?void 0:sn.payload)==null?void 0:Xt.event)==null?void 0:Vt.uri;ye(!0);try{const Tn=yield zt().put(`/api/v1/meetings/order/${r.order_id}`).send({calendly_event_uri:un});yield new Promise(zn=>setTimeout(zn,2e3)),n("confirmation",Tn.body)}catch(Tn){ge(!0)}})}),_e?(0,e.h)(xs,{pub:B,user_id:d.user_id,user_profile_photo_url:d.user_profile_photo_url},(0,e.h)(C.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):ce?(0,e.h)(Se.hs,{justifyContent:"center"},(0,e.h)(LM.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(xs,{pub:B,user_id:d.user_id,user_profile_photo_url:d.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(C.xv.H2,{align:"center"},r.num_rebookings>0?"Rebook":"Book"," your meeting with ",Ct),(0,e.h)(C.xv.B3,{align:"center",paddingTop:8},"Schedule your ",Ue,"-minute meeting"))),typeof window!="undefined"&&r.calendly_scheduling_uri&&(0,e.h)(IM,{iframeTitle:Q,url:`${r.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:r.name||"",email:r.email,customAnswers:{a1:r.description}},styles:{minWidth:"320px",height:"700px",marginTop:xt?"0px":"-66px"}}))};var BM=Object.defineProperty,$u=Object.getOwnPropertySymbols,s_=Object.prototype.hasOwnProperty,l_=Object.prototype.propertyIsEnumerable,u_=(r,n,d)=>n in r?BM(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,Ds=(r,n)=>{for(var d in n||(n={}))s_.call(n,d)&&u_(r,d,n[d]);if($u)for(var d of $u(n))l_.call(n,d)&&u_(r,d,n[d]);return r},UM=(r,n)=>{var d={};for(var B in r)s_.call(r,B)&&n.indexOf(B)<0&&(d[B]=r[B]);if(r!=null&&$u)for(var B of $u(r))n.indexOf(B)<0&&l_.call(r,B)&&(d[B]=r[B]);return d};const FM=r=>{var n=r,{step:d}=n,B=UM(n,["step"]);switch(d){case"order":return(0,e.h)(wM,Ds({},B));case"schedule":return(0,e.h)(kM,Ds({},B));case"confirmation":return(0,e.h)(_M,Ds({},B))}},c_=({stripe_publishable_key:r,pub:n,user:d,order:B,order_id:Q,settings:ce})=>{const ye=Q?B.calendly_scheduling_uri?"schedule":"confirmation":"order",[_e,ge]=(0,t.eJ)(ye),[Ue,Ct]=(0,t.eJ)(Ds({name:d.name,email:d.email,description:""},B)),xt=FM({step:_e,booking:Ue,settings:ce,order:B,onComplete:(Yt,sn)=>{Ct(Ds(Ds({},Ue),sn)),ge(Yt)},pub:n,stripe_publishable_key:r,user:d,orderId:Q});return(0,e.h)(e.Fragment,null,(0,e.h)(Qv,{pub:n}),(0,e.h)(Se.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(Se.tu,{paddingX:24,gap:32,style:{width:_e==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},xt)))},WM=({subdomain:r})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,E.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,g.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,g.getDiscoverSearchUrl)({query:r,params:{searching:"publication"}})},'Search Substack for "',r,'"'))));var jM=dn(66141),d_=dn(19696);function HM(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function TR({user:r,pathname:n="/inbox"}){const[d,B]=HM(),Q=g_();if(d||!Q||r!=null&&r.reader_installed_at&&Q==="ios"&&isSafari()&&(n.startsWith("/notes")||n.includes("/note/"))||n.startsWith("/chat"))return null;const ce=()=>{track(EVENTS.APP_BANNER_DISMISSED),B()},ye=_e=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(f_,{className:"app-banner-fixed"},h(p_,{surface:"reader"}),h(m_,null),h(h_,null,h("div",null,"Get the full experience")),h("a",{href:VM(n),className:"app-banner-cta",onClick:ye},"Get app"),h("button",{className:"reader2-button-reset",onClick:ce},h(X,{size:16,className:"app-banner-x-out"})))}function KM({post:r,subdomain:n}){const d=g_();if(!(0,x.isMobile)({checkFirst4:!0})||!d)return null;const B=(0,g.getPostAppLinkUrl)(n,r.slug,{redirect:"app-store",source:"post-banner"}),Q=()=>{(0,y.j)(y.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(f_,null,(0,e.h)(p_,{surface:"post"}),(0,e.h)(m_,null),(0,e.h)(h_,null,(0,e.h)("div",null,r.type==="podcast"?"Listen":r.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:B,onClick:Q},"Open app"))}function p_({surface:r}){return(0,t.d4)(()=>{(0,y.j)(y.FP.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const f_=(0,d_.L)("app-banner"),h_=(0,d_.L)("app-banner-text");function m_(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(ee.Z,{height:16}))}function g_(){return(0,x.isIos)()?"ios":(0,x.isAndroid)()?"android":null}function VM(r){const n=r.split("/"),d=n.length>1?n[1]:null;return d&&["/chat","/notes","/activity","/library"].includes(`/${d}`)?getAppLinkTabUrl({tab:d,redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"})}var zM=Object.defineProperty,$M=Object.defineProperties,GM=Object.getOwnPropertyDescriptors,v_=Object.getOwnPropertySymbols,ZM=Object.prototype.hasOwnProperty,YM=Object.prototype.propertyIsEnumerable,__=(r,n,d)=>n in r?zM(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,JM=(r,n)=>{for(var d in n||(n={}))ZM.call(n,d)&&__(r,d,n[d]);if(v_)for(var d of v_(n))YM.call(n,d)&&__(r,d,n[d]);return r},QM=(r,n)=>$M(r,GM(n));const IR=r=>h(SvgIcon,QM(JM({},r),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),MR=null,Gu=({children:r,dismissKey:n,dismissDurationInSeconds:d,beforeDismiss:B,className:Q,level:ce="info"}={})=>{const[ye,_e]=(0,jM.Z)(n,d,B);if(!ye)return(0,e.h)("div",{className:i()("banner",ce,Q)},r,(0,e.h)(S.Z,{width:12,height:12,className:"banner-close",onClick:ge=>{ge.preventDefault(),ge.stopPropagation(),_e()}}))},RR=null,LR=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(Gu,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),NR=({action:r="connect"})=>{const{getConfigFor:n}=useSiteConfigs(),[d,B]=useState(!1);return d||!n("twitter_connect_flows_enabled")?null:h(Gu,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),r==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),r==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>B(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},XM=()=>(0,e.h)(Gu,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{zt().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),(0,e.h)("br",null),(0,e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),(0,e.h)("br",null),(0,e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),kR=({children:r,className:n,level:d="info",onClose:B}={})=>{const[Q,ce]=useState(!1);if(!(Q&&d!=="error"))return h("div",{className:classnames("banner",d,n)},d!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:ye=>{ye.preventDefault(),ye.stopPropagation(),B&&B(),ce(!0)}}),r)},BR=({featureName:r,featureLink:n,preText:d,linkedText:B,postText:Q,children:ce})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:r})},[r]);const ye=isMobileBrowser();return h(Gu,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!ye&&ce,h("p",{className:"new-feature-banner-text"},d," ",h("a",{href:n,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:r})}},B)," ",Q))};var qM=dn(66219),e6=dn(36543),UR=dn(592);const Id={step:"frontend-components-InstagramShareModals-module__step--Tmhvw"},FR=({isOpen:r,onClose:n,pub:d,post:B,mediaCarousel:Q})=>(useEffect(()=>{r&&track(EVENTS.INSTAGRAM_SHARE_MODAL_SEEN,{source:"post-share-selection"})},[r]),h(Modal,{isOpen:r,onClose:n,fullscreenMobile:!0},h(FlexRow,{alignItems:"center",padding:16},h(IconButton,{size:40,fill:"filled",priority:"secondary",onClick:n},h(ArrowLeft,{size:20})),h(Text.H2,{paddingLeft:12},"Share To Instagram")),h(InstagramShareModalBody,{pub:d,post:B,hideEmail:!0,hideAssetTitle:!0,smallAssetPadding:!0,mediaCarousel:Q}))),t6=({isOpen:r,onClose:n,onCopyLinkClick:d,mediaCarousel:B})=>((0,t.d4)(()=>{r&&(0,y.j)(y.FP.VIDEO_CLIP_INSTAGRAM_SHARE_MODAL_SEEN,{source:"clip-share-modal"})},[r]),(0,e.h)(bi.u_,{isOpen:r,onClose:n,fullscreenMobile:!0},(0,e.h)(bi.xB,{includeClose:!0,onClose:n,title:"Share to Instagram"}),(0,e.h)(bi.fe,null,(0,e.h)(_.tu,{gap:32},(0,e.h)(_.gq,null,(0,e.h)(_.gq,{justifyContent:"center",className:Id.step},(0,e.h)(_.xv.H4,null,"1")),(0,e.h)(_.gq,null,(0,e.h)(_.tu,{gap:16},(0,e.h)(_.xv.H4,null,"Download clip"),(0,e.h)(_.tu,{bg:"secondary",radius:12,border:"detail"},B)))),(0,e.h)(_.gq,null,(0,e.h)(_.gq,{justifyContent:"center",className:Id.step},(0,e.h)(_.xv.H4,null,"2")),(0,e.h)(_.gq,null,(0,e.h)(_.tu,{gap:16},(0,e.h)(_.tu,{gap:4},(0,e.h)(_.xv.H4,null,"Copy a link to the post"),(0,e.h)(_.xv.B4,null,"Add a link to your Instagram story or bio.")),(0,e.h)(_.gq,null,(0,e.h)(_.zx,{priority:"secondary",onClick:()=>d("instagram","substack-clips","social"),leftIcon:(0,e.h)(us.Z,null)},"Copy Link"))))),(0,e.h)(_.gq,null,(0,e.h)(_.gq,{justifyContent:"center",className:Id.step},(0,e.h)(_.xv.H4,null,"3")),(0,e.h)(_.gq,null,(0,e.h)(_.tu,{gap:16},(0,e.h)(_.tu,{gap:4},(0,e.h)(_.xv.H4,null,"Post from Instagram"),(0,e.h)(_.xv.B4,null,"Visit the Instagram app and share the image with a link to the post. Or share from Instagram on desktop"))))),(0,e.h)(_.gq,{justifyContent:"end",paddingTop:32,paddingX:16},(0,e.h)(_.zx,{priority:"primary-theme",onClick:n},"Done")))))),y_={download:"frontend-components-ShareCenter-module__download--ZlokN",disabledButton:"frontend-components-ShareCenter-module__disabledButton--mnMti"};var n6=Object.defineProperty,r6=Object.defineProperties,o6=Object.getOwnPropertyDescriptors,b_=Object.getOwnPropertySymbols,i6=Object.prototype.hasOwnProperty,a6=Object.prototype.propertyIsEnumerable,E_=(r,n,d)=>n in r?n6(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,s6=(r,n)=>{for(var d in n||(n={}))i6.call(n,d)&&E_(r,d,n[d]);if(b_)for(var d of b_(n))a6.call(n,d)&&E_(r,d,n[d]);return r},l6=(r,n)=>r6(r,o6(n)),Zu=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function u6({shareUrl:r,pub:n,post:d,clip:B,selectionId:Q,disabled:ce,disabledInstagram:ye,disabledDownload:_e,onDownloadClick:ge,isSharing:Ue}){const Ct=(0,pi.pm)(),[xt,Yt]=(0,t.eJ)(!1),sn=(Xn="copy",mr="substack-clip",vr="web")=>Zu(this,null,function*(){Xt(Xn,mr,vr,_r=>((0,E.copyToClipboard)(_r),Ct.popToast(Tr=>(0,e.h)(pi.FN,l6(s6({},Tr),{text:"Link copied to clipboard"}))),!1))}),Xt=(Xn,mr,vr,_r)=>{(0,Ql.I)(Xn,_r,{shareUrl:r(Xn,mr,vr),post:d,pub:n,selectionId:Q,utm_campaign:mr,utm_medium:vr,event:y.FP.VIDEO_CLIP_SHARE_BUTTON_CLICKED})},Vt=()=>{(0,y.j)(y.FP.VIDEO_CLIP_SHARE_BUTTON_CLICKED,{name:"instagram",post_id:d?d.id:null,utm_campaign:"substack-clips",utm_medium:"social"}),Yt(!0)},un=()=>{Yt(!1)},Tn=()=>Zu(this,null,function*(){Xt("facebook","substack-clips","social",Xn=>(0,$.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Xn}))}),zn=()=>Zu(this,null,function*(){d&&Xt("twitter","substack-clips","social",Xn=>(0,$.pathWithQuery)("https://twitter.com/share",{url:Xn,text:d.title}))}),nr=()=>Zu(this,null,function*(){Xt("linkedin","substack-clips","social",Xn=>(0,$.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:Xn}))});return(0,e.h)(_.gq,{justifyContent:"space-between",flex:"fill"},Ue?(0,e.h)(_.gq,null,(0,e.h)(_.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:()=>sn(),leftIcon:(0,e.h)(us.Z,null)},"Copy link")):(0,e.h)("div",null),(0,e.h)(_.gq,{gap:8},(0,e.h)(_.hU,{className:i()({[y_.disabledButton]:_e}),fill:"outline",rounded:!1,onClick:ge,disabled:_e},(0,e.h)(ps.Z,null)),!Ue&&(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:()=>sn(),disabled:ce},(0,e.h)(us.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:Vt,disabled:ce||ye},(0,e.h)(e6.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:zn,disabled:ce},(0,e.h)($f.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:Tn,disabled:ce},(0,e.h)(Vf.Z,{height:20,width:20})),(0,e.h)(_.hU,{fill:"outline",rounded:!1,onClick:nr,disabled:ce},(0,e.h)(zf.Z,{height:20,width:20})),(0,e.h)(t6,{isOpen:xt,onClose:un,onCopyLinkClick:sn,mediaCarousel:(0,e.h)(_.gq,{gap:16,alignItems:"center",justifyContent:"center",padding:16,position:"relative"},(0,e.h)("img",{src:(0,g.getMediaUploadThumbnailUrlForPlayer)(B),width:"300px"}),(0,e.h)("div",{className:y_.download},(0,e.h)(_.gq,{padding:32},(0,e.h)(_.hU,{fill:"filled",priority:"media",rounded:!1,onClick:()=>ge&&ge()},(0,e.h)(ps.Z,{size:"16"})))))})))}const P_={placeholder:"frontend-components-ClipModal-module__placeholder--C0lO7"};var c6=Object.defineProperty,d6=Object.defineProperties,p6=Object.getOwnPropertyDescriptors,C_=Object.getOwnPropertySymbols,f6=Object.prototype.hasOwnProperty,h6=Object.prototype.propertyIsEnumerable,w_=(r,n,d)=>n in r?c6(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,m6=(r,n)=>{for(var d in n||(n={}))f6.call(n,d)&&w_(r,d,n[d]);if(C_)for(var d of C_(n))h6.call(n,d)&&w_(r,d,n[d]);return r},g6=(r,n)=>d6(r,p6(n)),Md=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function v6({user:r,pub:n,post:d,mediaUploadId:B,isOpen:Q,onClose:ce}){var ye;const _e=(0,e.createRef)(),[ge,Ue]=(0,t.eJ)(null);(0,t.d4)(()=>{B&&(0,y.j)(y.FP.VIDEO_CLIP_SEEN,{post_id:d.id,clip_id:B})},[B]),(0,t.d4)(()=>{(()=>Md(this,null,function*(){const nr=yield zt().get(`/api/v1/video/upload/${B}`);Ue(nr.body)}))()},[B]),(0,t.d4)(()=>{const zn=setInterval(()=>{const nr=()=>Md(this,null,function*(){const Xn=yield zt().get(`/api/v1/video/upload/${B}`),{mux_rendition_quality:mr}=Xn.body;Ue(Xn.body),mr&&clearInterval(zn)});ge!=null&&ge.mux_rendition_quality?clearInterval(zn):nr()},5e3);return()=>{clearInterval(zn)}},[ge]);const Ct=()=>Md(this,null,function*(){if(!ge)return;const zn=`/api/v1/video/upload/${ge.id}/src.json?type=mp4`,{body:{src:nr}}=yield zt().get(zn),mr=yield(yield fetch(nr)).blob(),vr=window.URL.createObjectURL(mr),_r=document.createElement("a");_r.href=vr,_r.download=`${ge.name}`,_r.target="_blank",_r.rel="noopener noreferrer",_r.style.display="none",document.body.appendChild(_r),_r.click(),document.body.removeChild(_r),(0,y.j)(y.FP.VIDEO_CLIP_DOWNLOAD_BUTTON_CLICKED,{name:"download",post_id:d?d.id:null,utm_campaign:"substack-clips",utm_medium:"web"})}),xt=()=>{(0,y.j)(y.FP.VIDEO_CLIP_WATCH_FULL_EPISODE_BUTTON_CLICKED,{name:"watch full episosde",post_id:d?d.id:null,utm_campaign:"substack-clips",utm_medium:"web"}),window.history.pushState({},"",(0,g.updateQuery)(window.location.href,{clipId:void 0,share:void 0})),ce()};if(!ge)return null;const sn=new URL(window.location.href).searchParams.get("share")!==null,Xt=ge.state==="error",Vt=ge.state==="transcoded",un=ge.mux_rendition_quality!==null,Tn=(0,E.isMobileBrowser)();return(0,e.h)(_.u_,{opacity:"dark",width:640,fullscreenMobile:!0,isOpen:Q,onClose:ce},(0,e.h)(_.xB,{includeClose:!0,title:sn?"Share Clip":"Clip",onClose:ce,description:(0,e.h)(_.gq,null,(0,e.h)("span",null,`\u2702\uFE0F ${(0,am.UB)((ye=ge.duration)!=null?ye:0)} | ${d.title}`))}),(0,e.h)(_.fe,null,Vt?(0,e.h)(ls.Z,{ref:_e,mediaUpload:ge,pub:n,autoPlay:!1,isClip:!0}):Xt?(0,e.h)(_.gq,null,(0,e.h)(_.tu,{className:P_.placeholder},(0,e.h)(Eh.Z,{color:"gray"}),(0,e.h)(_.xv.Button,{color:"secondary"},"Oops! There was an error creating the clip"))):(0,e.h)(_.gq,null,(0,e.h)(_.tu,{className:P_.placeholder},(0,e.h)(_.aN,null),(0,e.h)(_.xv.Button,{color:"secondary"},"Processing"))),!Xt&&(0,e.h)(_.tu,{paddingTop:16},(0,e.h)(_.iz,null),(0,e.h)(_.xu,null,(0,e.h)(_.gq,{justifyContent:"space-between",flex:"grow",paddingTop:16},!sn&&(0,e.h)(_.gq,null,Tn?(0,e.h)(_.hU,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:xt},(0,e.h)(uh,null)):(0,e.h)(_.zx,{fill:"filled",priority:"primary-theme",rounded:!1,onClick:xt},"Watch full episode")),(0,e.h)(u6,{shareUrl:(zn,nr,Xn)=>(0,Ql.O1)(zn,{clip:ge,post:d,pub:n,medium:Xn,utm_campaign:nr}),pub:n,clip:ge,post:d,selectionId:void 0,disabled:!1,disabledInstagram:!un,disabledDownload:!un,onDownloadClick:Ct,isSharing:sn}))))))}function _6(r){const{user:n,pub:d,post:B,mediaUploadId:Q}=r,[ce,ye]=(0,t.eJ)(!0),[_e,ge]=(0,t.eJ)(Q);(0,t.d4)(()=>{const Yt=()=>{const Xt=new URLSearchParams(window.location.search).get("clipId");ge(Xt),ye(!0)};return window.addEventListener("urlchange",Yt),window.addEventListener("popstate",Yt),Yt(),()=>{window.removeEventListener("urlchange",Yt),window.removeEventListener("popstate",Yt)}},[]);const{mediaUpload:Ue,loading:Ct}=(0,qM.z)({mediaUploadId:_e});if(Ct||!Ue)return null;const xt=()=>{ye(!1),(0,y.j)(y.FP.VIDEO_CLIP_MODAL_CLOSED,{post_id:B==null?void 0:B.id,clip_id:_e})};return(0,e.h)(v6,g6(m6({},r),{mediaUploadId:_e,isOpen:ce,onClose:xt}))}const Yu={container:"frontend-components-NotYouBanner-module__container--qEwhm",link:"frontend-components-NotYouBanner-module__link--nhczB",verticalRule:"frontend-components-NotYouBanner-module__verticalRule--TgvdM",icon:"frontend-components-NotYouBanner-module__icon--iCYKz"};function y6({user:r,pub:n,post:d}){const[B,Q]=(0,t.eJ)(!0),ce=(0,$.getSubscribeUrl)(n,{skipToken:!0,params:{next:document.location.href,utm_source:"not-you-banner",utm_medium:"web",utm_content:d.id,simple:!0}}),ye=()=>{(0,y.j)(y.FP.NOT_YOU_BANNER_TAPPED,{surface:"post"}),(0,E.redirect)(ce,{local_navigation:!1})};return(0,t.d4)(()=>{B&&(0,y.j)(y.FP.NOT_YOU_BANNER_VIEWED,{surface:"post"})},[B]),B?(0,e.h)(e.Fragment,null,(0,e.h)(_.gq,{className:Yu.container,paddingY:12,paddingX:16,justifyContent:"space-between",alignItems:"center"},(0,e.h)(_.xv.B4,{color:"pub-accent-inverse"},"Not ",(0,Bt.guessFirstName)(r.name)||r.email,"?"," ",(0,e.h)("a",{className:Yu.link,onClick:ye},"Subscribe to ",n.name)),(0,e.h)(_.gq,{gap:16},(0,e.h)("div",{className:Yu.verticalRule}),(0,e.h)(as.Z,{className:Yu.icon,stroke:"var(--color-accent-inverse-themed)",onClick:()=>{(0,y.j)(y.FP.NOT_YOU_BANNER_DISMISSED,{surface:"post"}),Q(!1)}})))):null}var b6=dn(65207),E6=Object.defineProperty,P6=Object.defineProperties,C6=Object.getOwnPropertyDescriptors,O_=Object.getOwnPropertySymbols,w6=Object.prototype.hasOwnProperty,O6=Object.prototype.propertyIsEnumerable,S_=(r,n,d)=>n in r?E6(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,S6=(r,n)=>{for(var d in n||(n={}))w6.call(n,d)&&S_(r,d,n[d]);if(O_)for(var d of O_(n))O6.call(n,d)&&S_(r,d,n[d]);return r},x6=(r,n)=>P6(r,C6(n));const A6=r=>(0,e.h)(T.l,x6(S6({},r),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(b6.Z,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));var D6=Object.defineProperty,T6=Object.defineProperties,I6=Object.getOwnPropertyDescriptors,x_=Object.getOwnPropertySymbols,M6=Object.prototype.hasOwnProperty,R6=Object.prototype.propertyIsEnumerable,A_=(r,n,d)=>n in r?D6(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,L6=(r,n)=>{for(var d in n||(n={}))M6.call(n,d)&&A_(r,d,n[d]);if(x_)for(var d of x_(n))R6.call(n,d)&&A_(r,d,n[d]);return r},N6=(r,n)=>T6(r,I6(n));const k6=r=>(0,e.h)(T.l,N6(L6({},r),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var B6=dn(7775),U6=dn(74957);const Rd={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var F6=Object.defineProperty,W6=Object.defineProperties,j6=Object.getOwnPropertyDescriptors,D_=Object.getOwnPropertySymbols,H6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,T_=(r,n,d)=>n in r?F6(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,wl=(r,n)=>{for(var d in n||(n={}))H6.call(n,d)&&T_(r,d,n[d]);if(D_)for(var d of D_(n))K6.call(n,d)&&T_(r,d,n[d]);return r},I_=(r,n)=>W6(r,j6(n));const M_="https://twitter.com",R_=()=>{const r=(0,pi.pm)();return(n,d=null)=>r.popToast(B=>(0,e.h)(pi.FN,I_(wl({},B),{className:Rd.toast,text:n,cta:d})))},V6=({post:r,publication:n,autoSharedOnTwitter:d,showAfter:B,publicationTwitterScreenName:Q,authorVersion:ce})=>{const ye=(0,t.sO)(null),[_e,ge]=(0,t.eJ)(!0),Ue=R_();(0,t.d4)(()=>{d&&Ue("Post shared to Twitter",Q?(0,e.h)("a",{className:Rd.cta,href:`${M_}/${Q}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const Ct=()=>{ge(!1)};return!_e&&B?B:(0,e.h)(ze.Z,{testID:"share-modal",openByDefault:!0,className:i()("force-light-theme",Rd.modal),ref:ye,variant:"structured",modalTitle:`Share your ${ce?"substack:":"post:"}`,modalFooter:(0,e.h)(ra.z,{variant:ce?"primary":"secondary",look:"button",onClick:xt=>{xt.preventDefault(),ye.current.close()}},ce?"View Dashboard":"View post"),onBeforeClose:Ct},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)($s.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,ce?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!ce&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)($6,{modalRef:ye})),(0,e.h)(z6,{post:r,publication:n,hideEmailOption:!ce,trackingParams:{sd:"pf"},autoSharedOnTwitter:d,authorVersion:ce})))},z6=({post:r,publication:n,hideEmailOption:d=!1,trackingParams:B,autoSharedOnTwitter:Q,authorVersion:ce})=>{const ye=ce?(0,g.getBaseUrl)(n):r.canonical_url,_e=Ue=>{(0,y.j)(y.FP.SHARE_LINK_CLICKED,{name:Ue,post_id:r==null?void 0:r.id,source:"fullscreen-author-share-dialog"})},ge=R_();return(0,e.h)(e.Fragment,null,(0,e.h)(Ol,{onClick:()=>{_e("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,g.serializeQuery)({u:(0,g.updateQuery)(ye,wl({utm_source:"facebook"},B))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(k6,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!Q&&(0,e.h)(Ol,{onClick:()=>{_e("twitter"),window.open(`${M_}/share?${(0,g.serializeQuery)({url:(0,g.updateQuery)(ye,wl({utm_source:"twitter"},B))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(Gt.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(Ol,{onClick:()=>{(0,E.copyToClipboard)((0,g.updateQuery)(ye,B)),_e("copy"),ge("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(B6.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!d&&(0,e.h)(Ol,{onClick:()=>{_e("email"),window.open(`mailto:?${(0,g.serializeQuery)({subject:ce?`Check out ${n.name}`:r.title,body:(0,g.updateQuery)(ye,wl({utm_source:"email"},B))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(U6.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!ce&&(0,e.h)(Ol,{onClick:()=>{_e("media-assets"),window.open(`${(0,g.getPostUrl)(n,r)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(A6,{stroke:"#404040",fill:"white"}),"View shareable images")))},Ol=r=>(0,e.h)("a",I_(wl({},r),{native:!0})),$6=({modalRef:r})=>{var n,d,B;let Q="";typeof window!="undefined"&&(Q=window.location.host);const ce=(n=document.head.querySelector('meta[property="og:image"]'))==null?void 0:n.content,ye=(d=document.head.querySelector('meta[property="og:title"]'))==null?void 0:d.content,_e=(B=document.head.querySelector('meta[property="og:description"]'))==null?void 0:B.content;return(0,e.h)("div",{onClick:()=>{r.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},ce&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:ce,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},Q),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},ye),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},_e)))},G6=V6;var Z6=dn(35291),Y6=Object.defineProperty,J6=Object.defineProperties,Q6=Object.getOwnPropertyDescriptors,L_=Object.getOwnPropertySymbols,X6=Object.prototype.hasOwnProperty,q6=Object.prototype.propertyIsEnumerable,N_=(r,n,d)=>n in r?Y6(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,k_=(r,n)=>{for(var d in n||(n={}))X6.call(n,d)&&N_(r,d,n[d]);if(L_)for(var d of L_(n))q6.call(n,d)&&N_(r,d,n[d]);return r},e9=(r,n)=>J6(r,Q6(n)),t9=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});const n9=({pub:r,pubsToRecommend:n})=>{const{iString:d,iTemplate:B,iPlural:Q}=(0,P.M1)(),[ce,ye]=(0,t.eJ)(!0),[_e,ge]=(0,t.eJ)(!0),[Ue,Ct]=(0,t.eJ)((n||[]).reduce((un,Tn)=>e9(k_({},un),{[Tn.id]:!0}),{})),xt=()=>{ye(!ce),ge(!1)},Yt=un=>{const Tn=k_({},Ue);Tn[un]=!Tn[un],Ct(Tn)},sn=()=>t9(void 0,null,function*(){try{const un=Object.keys(Ue).filter(Tn=>Ue[Tn]===!0).map(Tn=>Number(Tn));yield zt().put("/api/v1/recommendations/multiple").send({recommending_publication_id:r.id,recommended_publication_ids:un,source:"post_publish_cta",suggested:un.map(()=>!0)}),un.length&&(0,Ua.ZP)(Q("Recommended %1 publication","Recommended %1 publications",un.length),{timeout:1500}),xt()}catch(un){console.error("Failed to add recommendations: ",un),xt()}});let Xt,Vt;return n!=null&&n.length&&(Xt=(Object.values(Ue).filter(un=>un===!0)||[]).length,Vt=n.length>1?Q("Do you want to recommend %2 and %1 other publication","Do you want to recommend %2 and %1 other publications",n.length-1,n[0].name):B`Do you want to recommend ${n[0].name}`),(0,e.h)(e.Fragment,null,_e?(0,e.h)(bi.u_,{isOpen:ce,onClose:xt},(0,e.h)(bi.xB,{onClose:xt,title:Vt}),(0,e.h)(bi.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},n.length>1?B`Since you embedded ${n.length} publications on your post, we thought you might want to recommend them to your readers`:B`Since you embedded ${n[0].name} on your post, we thought you might want to recommend them to your readers`),n&&n.length&&n.map((un,Tn)=>(0,e.h)("div",{className:i()("recommend-publication-container",{last:Tn===n.length-1}),onClick:()=>Yt(un.id)},(0,e.h)(_n.Z,{pub:un,size:40,logo_url:un.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,g.getBaseUrl)(un),target:"_blank"},un.name),(0,e.h)("p",{className:"author-name"},(0,Bt.getByLine)(un))),(0,e.h)(Z6.p,{checked:Ue[un.id]?Ue[un.id]:!1}))))),(0,e.h)(bi.mz,{alignment:"center",primaryButton:(0,e.h)(ra.z,{onClick:sn,variant:"primary"},Xt===0?d("Continue"):Q("Recommend %1 publication","Recommend %1 publications",Xt)),secondaryButton:(0,e.h)(ra.z,{onClick:xt,variant:"secondary"},d("Maybe later"))})):null)},Ld={stickyFooter:"frontend-components-referral_cta-module__stickyFooter--ZRi9x",stickyFooterMobile:"frontend-components-referral_cta-module__stickyFooterMobile--WWnz7"},Nd=(r,n)=>{const d=r.subscriptions.find(B=>B.publication_id===n.id);return n.author_id===r.id||n.contributors.map(B=>B.user_id).includes(r.id)?(0,e.h)("span",null,(0,e.h)("b",null,`${r.name}`),", author of ",(0,e.h)("b",null,n.name),", shared this with you."):d?(0,e.h)("span",null,(0,e.h)("b",null,`${r.name}`),", a ",d.membership_state==="subscribed"&&"paid"," subscriber of"," ",(0,e.h)("b",null,n.name),", shared this with you."):(0,e.h)("span",null,(0,e.h)("b",null,`${r.name}`)," shared this with you.")},r9=({sharer:r,pub:n})=>{const[d,B]=(0,t.eJ)(!0),Q=()=>{B(!d)};return(0,e.h)(bi.u_,{isOpen:d,onClose:Q,width:(0,x.isMobile)()?294:342},(0,e.h)(bi.fe,null,(0,e.h)(_.tu,{padding:16,alignItems:"center",gap:12},n.logo_url&&(0,e.h)("img",{src:n.logo_url,width:40,style:{borderRadius:4}}),(0,e.h)(C.xv.B3,{color:"primary",align:"center"},Nd(r,n)),(0,e.h)(_.tu,{paddingTop:12,gap:4,style:{width:"100%"}},(0,e.h)(_.zx,{onClick:()=>{(0,E.redirect)((0,$.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:"post_page_referral"}}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Subscribe"),(0,e.h)(_.zx,{onClick:()=>{(0,y.j)(y.FP.POST_PAGE_REFERRAL_CTA_DISMISSED,{source:"modal"}),Q()},grow:!0,priority:"secondary",fill:"empty",outline:"none"},"Not now")))))},o9=({sharer:r,pub:n})=>{const[d,B]=(0,t.eJ)(!0),Q=()=>{B(!d)};return d?(0,x.isMobile)()?(0,e.h)("div",{className:i()(Ld.stickyFooter,Ld.stickyFooterMobile)},(0,e.h)(_.tu,{padding:16,justifyContent:"center",alignItems:"center",gap:16},(0,e.h)(_.gq,{gap:12},n.logo_url&&(0,e.h)("img",{src:n.logo_url,width:40,style:{borderRadius:4}}),(0,e.h)(C.xv.B3,{color:"primary",align:"left"},Nd(r,n))),(0,e.h)(_.gq,{gap:4,style:{width:"100%"}},(0,e.h)(_.zx,{onClick:()=>{(0,E.redirect)((0,$.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:"post_page_referral"}}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Subscribe"),(0,e.h)(_.zx,{onClick:()=>{(0,y.j)(y.FP.POST_PAGE_REFERRAL_CTA_DISMISSED,{source:"modal"}),Q()},grow:!0,priority:"secondary",fill:"outline"},"Not now")))):(0,e.h)("div",{className:Ld.stickyFooter},(0,e.h)(_.gq,{padding:16,justifyContent:"center",alignItems:"center",gap:16},n.logo_url&&(0,e.h)("img",{src:n.logo_url,width:40,style:{borderRadius:4}}),(0,e.h)(C.xv.B3,{color:"primary",align:"center"},Nd(r,n)),(0,e.h)(_.gq,{gap:4},(0,e.h)(_.zx,{onClick:()=>{(0,E.redirect)((0,$.getSubscribeUrl)(n,{params:{next:window.location.href,utm_source:"post_page_referral"}}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Subscribe"),(0,e.h)(_.zx,{onClick:()=>{(0,y.j)(y.FP.POST_PAGE_REFERRAL_CTA_DISMISSED,{source:"modal"}),Q()},grow:!0,priority:"secondary",fill:"outline"},"Not now")))):null};class i9 extends e.Component{isSubscribed(){const{user:n}=this.props;return n&&n.is_subscribed}isFreeSubscribed(){const{freeSignup:n,user:d}=this.props;return n||d&&d.is_free_subscribed&&!d.is_contributor}onFreeSubscribe(n){if(this.props.publication.plans){let d=(0,g.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:n.body.referral_token});n.body.prompt_to_login&&(d=`/account/login?redirect=${encodeURIComponent(d)}&email=${encodeURIComponent(n.body.email)}`),document.location.href=d}else window.location.reload()}render({publication:n,user:d,freeSignupEmail:B,features:Q,iString:ce}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!n.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,ce("Ready for more?")),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,g.getSubscribeUrl)(n,{utm_source:"ready-for-more"}),native:!0},(0,e.h)(ct.Z,{className:"primary"},(0,e.h)("b",null,(0,Bt.getSubscribeText)(n))))):(0,e.h)(_.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(et.Z,{freeSignupEmail:B,onAccentBackground:!0,pub:n,source:"subscribe_footer",submitButtonText:(0,Bt.getSubscribeText)(n),user:d,onSuccess:this.onFreeSubscribe.bind(this)})))))}}const a9=(0,P.fz)(i9),s9=()=>{const[r,n]=(0,t.eJ)(!0),d=()=>{n(!r)};return(0,e.h)(bi.u_,{isOpen:r,onClose:d},(0,e.h)(bi.fe,null,(0,e.h)(_.tu,{padding:16,gap:12},(0,e.h)(C.xv.H3,{color:"primary"},"Select a chunk of text to share as a video."),(0,e.h)("img",{src:(0,$.imginary)("/img/publish/selection.gif"),style:{padding:"16px",borderRadius:"25px"}}),(0,e.h)(_.zx,{onClick:d,grow:!0,priority:"primary-theme"},"Got it"))))};var l9=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});function HR(r,n={}){r=r||getQueryItem("selection");const{isLoading:d,error:B,result:Q}=useFetch({pathname:`/api/v1/post_selection/${r}`,auto:!!r,deps:[r]});return{isLoading:d,error:B,postSelection:Q!=null?Q:null,highlightSelection:()=>{Q&&B_(Q,n)}}}function u9(r){return l9(this,arguments,function*(n,d={}){n=n||(0,g.getQueryItem)("selection");let B=null;try{B=yield(0,yn.rd)(`/api/v1/post_selection/${n}`,{})}catch(Q){}B&&B_(B,d)})}function B_(r,n={}){var d,B;if(n.ignoreSafari&&(0,E.isSafari)()||!r.text)return;const Q=(B=(d=/^[^.]+\./.exec(r.text))==null?void 0:d[0])!=null?B:r.text;if(!Q)return;const ce=`#:~:text=${encodeURIComponent(Q)}`;history.replaceState({},document.title,ce),document.location.hash=ce}const c9=r=>{const{delayFirstLoad:n,filterPosts:d,isBelowTheFold:B,maxPosts:Q,pub:ce,search:ye,sort:_e,sortTabs:ge,source:Ue,user:Ct}=r;return(0,e.h)(_.xu,{paddingY:24},(0,e.h)(Iu,{delayFirstLoad:n,filterPosts:d,isBelowTheFold:B,maxPosts:Q,pub:ce,search:ye,sort:_e,sortTabs:ge,source:Ue,user:Ct},({posts:xt,linkToComments:Yt,onClickPost:sn})=>(0,e.h)(mi,{hideImages:ce.theme.hide_images_from_list,linkToComments:Yt,posts:xt,pub:ce,user:Ct,variant:"two-column-list",onChange:()=>{},onClickPost:sn})))},Vi={container:"frontend-main-scheduled_post_page-module__container--IhNeJ",imageContainer:"frontend-main-scheduled_post_page-module__imageContainer--r8zca",postContainer:"frontend-main-scheduled_post_page-module__postContainer--XGEvi",imagePreview:"frontend-main-scheduled_post_page-module__imagePreview--qfOgy",shareButton:"frontend-main-scheduled_post_page-module__shareButton--QQbjJ",foundingButton:"frontend-main-scheduled_post_page-module__foundingButton--lN7jr",upsellDescription:"frontend-main-scheduled_post_page-module__upsellDescription--WIiTE",countdownContainer:"frontend-main-scheduled_post_page-module__countdownContainer--ozFoc",countdownInnerContainer:"frontend-main-scheduled_post_page-module__countdownInnerContainer--JhNKd",refreshLink:"frontend-main-scheduled_post_page-module__refreshLink--h1Cco"},d9=({post:r,publication:n,user:d,freeSignup:B,freeSignupEmail:Q})=>{var ce,ye,_e,ge,Ue,Ct,xt,Yt,sn,Xt;const Vt=(0,t.sO)(),un=r.cover_image,Tn=r.title,zn=r.description,nr=(0,Bt.getPrintedByline)(n,r),Xn=((ce=r.postSchedule)==null?void 0:ce.email_audience)==="founding"&&(d==null?void 0:d.is_founding)||((ye=r.postSchedule)==null?void 0:ye.email_audience)==="only_paid"&&d&&(0,Dc.P)(d,n)||((_e=r.postSchedule)==null?void 0:_e.email_audience)==="everyone"&&(d==null?void 0:d.is_free_subscribed),[mr,vr]=(0,t.eJ)(Zn()((ge=r.postSchedule)==null?void 0:ge.trigger_at).diff(Zn()(),"second")),_r=Math.floor(mr/60/60/24),Tr=Math.floor(mr/60/60%24),Ir=Math.floor(mr/60%60),xr=mr%60;return(0,t.d4)(()=>{const Mr=setInterval(()=>{var br;vr(Zn()((br=r.postSchedule)==null?void 0:br.trigger_at).diff(Zn()(),"second"))},500);return()=>{clearInterval(Mr)}}),(0,t.d4)(()=>{(0,y.j)(y.FP.SCHEDULED_POST_SEEN,{post_id:r.id})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(pu,{post:r,publication:n}),(0,e.h)(_.tu,{className:Vi.container,alignItems:"center",gap:96,paddingTop:{desktop:64,mobile:32},paddingX:12},(0,e.h)(_.tu,{className:Vi.postAndImageContainer,alignItems:"center",gap:32},un&&(0,e.h)("div",{className:Vi.imageContainer},(0,e.h)("img",{src:un,className:Vi.imagePreview})),(0,e.h)(_.tu,{className:Vi.postContainer,alignItems:"center",gap:4},(0,e.h)(_.xv.H2,{color:"pub-primary-text",align:"center"},Tn),(0,e.h)(_.xv.B3,{color:"pub-secondary-text",align:"center"},(0,Bt.truncateText)(zn,135)),(0,e.h)(_.xv.Meta,{color:"pub-secondary-text",align:"center"},((Ue=r.postSchedule)==null?void 0:Ue.email_audience)==="founding"?(0,e.h)(e.Fragment,null,(0,e.h)(_.xv.Meta,{as:"span",color:"pub-accent"},"Founding"),nr?"\xA0\xA0\u2022\xA0\xA0":""):((Ct=r.postSchedule)==null?void 0:Ct.email_audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(_.xv.Meta,{as:"span",color:"pub-accent"},"Paid"),nr?"\xA0\xA0\u2022\xA0\xA0":""):"",nr?`By ${nr}`:""))),(0,e.h)(_.tu,{className:Vi.upsellContainer,alignItems:"center"},Xn?(0,e.h)(_.gq,{gap:12},(0,e.h)(_.zx,{onClick:()=>{var Mr;d!=null&&d.is_admin||d!=null&&d.is_contributor?(0,E.redirect)((0,$.getPostDetailsShareCenterUrl)(n,r.id),{local_navigation:!1}):(Mr=Vt.current)==null||Mr.open()},className:Vi.shareButton,leftIcon:(0,e.h)(Fc.Z,null),priority:"primary-theme"},"Share"),d!=null&&d.is_admin||d!=null&&d.is_contributor?(0,e.h)(_.zx,{onClick:()=>{(0,E.redirect)((0,$.getEditPostUrlById)(n,r.id,!!r.editor_v2),{local_navigation:!1})},className:Vi.shareButton,leftIcon:(0,e.h)($l.Z,null),priority:"secondary-theme"},"Edit Post"):null):((xt=r.postSchedule)==null?void 0:xt.email_audience)==="founding"&&!(d!=null&&d.is_founding)?(0,e.h)(_.zx,{className:Vi.foundingButton,onClick:()=>{var Mr,br;const $r=(br=(Mr=n.plans)==null?void 0:Mr.find(Yr=>{var Jr;return(Jr=Yr.metadata)==null?void 0:Jr.founding}))==null?void 0:br.id;(0,E.redirect)($r?(0,$.getSubscribeUrl)(n,{addBase:!0,params:{next:document.location.href,utm_source:"post-scheduled-page",utm_medium:"web",utm_content:r.id,selectedPlanId:$r}}):(0,g.getCheckoutUrl)(n,{simple:!0,next:document.location.href,utm_source:"post-scheduled-page",utm_medium:"web",utm_content:r.id,plan:"founding"}),{local_navigation:!1})}},"Upgrade to founding"):(0,e.h)(Ca,{pub:n,post:r,user:d,freeSignup:B,freeSignupEmail:Q,isStatic:!1,source:"post-scheduled-page"}),(0,e.h)(_.xv.B3,{className:Vi.upsellDescription,color:"pub-primary-text",align:"center"},"Publishes on ",Zn()((Yt=r.postSchedule)==null?void 0:Yt.trigger_at).format("MMMM Do, h:mma"),"."," ",d!=null&&d.is_admin||d!=null&&d.is_contributor?"":Xn?"You\u2019ll receive this post in your inbox when it\u2019s live. Meanwhile, help spread the word!":((sn=r.postSchedule)==null?void 0:sn.email_audience)==="founding"&&(d!=null&&d.is_free_subscribed)?"Upgrade to founding and receive this post in your inbox when it\u2019s live":((Xt=r.postSchedule)==null?void 0:Xt.email_audience)==="only_paid"&&(d!=null&&d.is_free_subscribed)?"Upgrade to paid and receive this post in your inbox when it\u2019s live":"Subscribe now and receive the post in your inbox when it\u2019s live"))),(0,e.h)("div",{className:Vi.countdownContainer},(0,e.h)(_.tu,{className:Vi.countdownInnerContainer,alignItems:"center",gap:4},mr>0?(0,e.h)(_.xv.B3,{color:"pub-secondary-text",align:"center"},"Available in ",_r>0?`${(0,Bt.pluralize)(_r,"day")}, `:"",_r>0||Tr>0?`${(0,Bt.pluralize)(Tr,"hour")}, `:"",_r>0||Tr>0||Ir>0?`${(0,Bt.pluralize)(Ir,"minute")}${_r>0||Tr>0?",":""} and `:"",(0,Bt.pluralize)(xr,"second")):(0,e.h)(_.xv.B3,{color:"pub-secondary-text",align:"center"},"Available now!"," ",(0,e.h)(_.xv.B3,{as:"a",color:"pub-secondary-text",align:"center",onClick:()=>{location.reload()},className:Vi.refreshLink,decoration:"underline"},"Refresh to see the post"),"."))),(0,e.h)(Ha.ZP,{ref:Vt,user:d,pub:n,post:r}))};var p9=Object.defineProperty,f9=Object.defineProperties,h9=Object.getOwnPropertyDescriptors,U_=Object.getOwnPropertySymbols,m9=Object.prototype.hasOwnProperty,g9=Object.prototype.propertyIsEnumerable,kd=(r,n,d)=>n in r?p9(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,v9=(r,n)=>{for(var d in n||(n={}))m9.call(n,d)&&kd(r,d,n[d]);if(U_)for(var d of U_(n))g9.call(n,d)&&kd(r,d,n[d]);return r},_9=(r,n)=>f9(r,h9(n)),Ja=(r,n,d)=>(kd(r,typeof n!="symbol"?n+"":n,d),d),Sl=(r,n,d)=>new Promise((B,Q)=>{var ce=ge=>{try{_e(d.next(ge))}catch(Ue){Q(Ue)}},ye=ge=>{try{_e(d.throw(ge))}catch(Ue){Q(Ue)}},_e=ge=>ge.done?B(ge.value):Promise.resolve(ge.value).then(ce,ye);_e((d=d.apply(r,n)).next())});class Bd extends e.Component{constructor(n,d){super(n,d),Ja(this,"updateSubscribeTakeover",()=>{const Q=this.props.publication.id,ce=`pub-${Q}-subscribe-prompt-next-shown-at`,ye=`pub-${Q}-takeover-next-shown-at`,_e=(0,Bi.mM)(ye),ge=!_e||Date.now()>=_e;(0,E.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(ge&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,Bi.ex)(ce,Zn()().add(1,"hour").valueOf()),(0,Bi.ex)(ye,Zn()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),Ja(this,"onChangeComment",Q=>{this.setState({comments:qs(this.state.comments,Q)})}),Ja(this,"onVisible",Q=>{const ce=`${Q} Seen`;this.state.post&&(this.state[ce]||(this.setState({[ce]:!0}),(0,y.j)(ce,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),Ja(this,"_inlineComments",()=>{const{inlineComments:Q,publication:ce}=this.props;return Q||(0,Bt.shouldUseInlineComments)(ce,this.state.post||this.props.post)}),Ja(this,"fillEmbeddedEmailInputs",()=>{var Q;const ce=document.querySelectorAll('article.post input[type="email"]'),ye=((Q=this.state.user)==null?void 0:Q.email)||this.props.freeSignupEmail;if(ye)for(const _e of ce)_e.value=ye;this.setState({embeddedEmailInputsFilled:!0})});let{user:B}=n;this.I18N=I18N.i({pub:n.publication}),n.postPreview&&(B=_9(v9({},B),{is_draft:!1,is_subscribed:n.postPreview!=="free",is_founding:n.postPreview==="founding"})),n.post&&[n.post.slug,n.post.uuid].filter(Q=>Q).includes(n.slug)&&!this.shouldRedirectToComments(n.post)?this.state={post:n.post,comments:n.renderedComments,user:B}:this.state={post:null,comments:null,user:B}}componentDidMount(){return Sl(this,null,function*(){(0,E.scrollToHash)(),this.cleanUpTikTokEnhanceListener=hd();const n=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(d=>d).includes(this.props.slug)&&this.props.post;yield this.shouldPageShowSmartBanner(),this.shouldRedirectToComments(n)?this.redirectToComments(n):this.state.post||(yield this.loadPost()),this.emitAppleSmartAppBannerMetric(),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&((0,E.removeQueryParam)("justPublished"),(0,E.preloadImage)(fu(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,E.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,E.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,E.removeQueryParam)("showRestackModal"),this.props.action&&(0,E.removeQueryParam)("action"),this.props.showWelcome||(0,E.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&u9(this.props.selectionFromQuery)})}componentWillUnmount(){var n;(n=this.cleanUpTikTokEnhanceListener)==null||n.call(this),(0,E.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(n){return Sl(this,null,function*(){n.slug!==this.props.slug&&(this.loadPost(),this.emitAppleSmartAppBannerMetric()),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}isPostSSRd(){return!!this.props.post}emitAppleSmartAppBannerMetric(){var n;this.state.pageCanShowSmartBanner&&(0,y.j)(y.FP.APPLE_SMART_APP_BANNER_MAYBE_SEEN,{post_id:(n=this.state.post)==null?void 0:n.id,page:"post"})}shouldPageShowSmartBanner(){return Sl(this,null,function*(){var n,d,B,Q;let ce=!!document.querySelector('meta[name="apple-itunes-app"]');!ce&&this.isPostSSRd()&&(!((n=this.state.user)!=null&&n.reader_installed_at)||((d=this.state.user)==null?void 0:d.id)===263713)&&(0,x.isIos)()&&(0,E.isSafari)()&&(ce=this.context.getExperimentVariant("apple_smart_banners_on_post_pages")==="treatment"||((B=this.state.user)==null?void 0:B.id)===263713||((Q=this.props.publication)==null?void 0:Q.subdomain)==="thirdcluster",this.context.exposeExperiment("apple_smart_banners_on_post_pages")),yield(0,E.setState)(this,{pageCanShowSmartBanner:ce})})}shouldRedirectToComments(n){if(n&&n.type==="thread")return!0}redirectToComments(n){(0,l.route)((0,g.getPostUrl)(this.props.publication,n,{comments:!0,noBase:!0}),!0)}loadPost(){return Sl(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(n=>n).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,E.scrollToHash)());else{this.setState({post:null,comments:null});try{const n=yield zt().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview,updated:this.props.updated,sub:this.props.sub,device:this.props.device,audience:this.props.audience,free_preview:this.props.free_preview,freemail:this.props.freemail});this.shouldRedirectToComments(n.body)?this.redirectToComments(n.body):(yield(0,E.setState)(this,{post:n.body,comments:n.body.comments,stateThemeVariables:n.body.themeVariables}),(0,E.scrollToHash)())}catch(n){console.error("Failed to load post:",n),n.status===404?this.setState({notFound:!0}):alert((0,E.getNetworkErrorMessage)(n))}}})}triggerShareOnLoad(){if((0,g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,g.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:n,freeSignup:d,freeSignupEmail:B,publication:Q,reaction_token:ce,hide_intro_popup:ye,freewallVariant:_e,unlock:ge,sort:Ue,search:Ct,children:xt,showWelcome:Yt,justPublished:sn,autoSharedOnTwitter:Xt,readerIsSearchCrawler:Vt,postPreview:un,truncatedPost:Tn,selectionFromQuery:zn,embeddedPublications:nr,siteConfigs:Xn={},freeTrialCoupon:mr,showRestackModal:vr,action:_r,publicationSettings:Tr,show_reaction_upsell:Ir,stripe_publishable_key:xr,bannedFromNotes:Mr,themeVariables:br,referringUser:$r,clip:Yr},{comments:Jr,notFound:ao,post:Cr,user:to,showSubscribeTakeover:ho,stateThemeVariables:Co,pageCanShowSmartBanner:vo,showReferralCTA:Do,tab:Uo}){const{iString:po,iTemplate:yo}=this.I18N,mo=this._inlineComments(),Vo=Cr!=null&&Cr.audience?(0,lo.userHasFullAccessToPost)(to,Cr):!0,Zo=(to==null?void 0:to.is_subscribed)&&Vo,$o=Cr&&Cr.slug&&Cr.slug!=="coming-soon"&&Cr.type!=="page",Qo=(0,Bt.commentsEnabledForPost)({publication:Q,post:Cr}),vi=(0,Bt.showCommentsOnPost)({publication:Q,post:Cr}),ci=Zo||(to==null?void 0:to.is_free_subscriber)||d,Ro=(ge||(Cr==null?void 0:Cr.free_unlock_required))&&!ci&&["treatment_short","treatment_long"].includes(_e),ui=!!this.props.clipId,jo=Co||br,zo=to&&to.is_contributor&&(Cr==null?void 0:Cr.slug)=="coming-soon"&&!(Tr!=null&&Tr.seen_coming_soon_explainer);Ro&&(Tn?Cr.body_html=Tn.body_html:Cr.truncatedBody&&(Cr.body_html=Cr.truncatedBody));const ri=(Cr==null?void 0:Cr.type)==="podcast",ta=!(Cr!=null&&Cr.hidden)&&((0,Bt.isUUID)(n)||Zo||Vt||Cr&&!(0,lo.isPaidAudience)(Cr.audience)&&!Ro||Cr&&!Cr.slug&&!Ro),Ji=!ta||(to==null?void 0:to.is_contributor)&&Cr&&(0,lo.isPaidAudience)(Cr.audience),ca=sn&&(to==null?void 0:to.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(Cr.type);let ii=!1,zi,Ma=!1;const Al=(0,Bi.mM)(`referral_cta_${Q.id}.dismissed`);if($r&&$r.name&&!(to!=null&&to.is_subscribed)&&!(to!=null&&to.is_free_subscribed)&&(!Al||Date.now()-Al>24*60*60*1e3)||Do){(0,Bi.ex)(`referral_cta_${Q.id}.dismissed`,Date.now()),Do||this.setState({showReferralCTA:!0});const _i=this.context.getExperimentVariant("post_page_referral_cta");_i==="footer"&&(Ma=!0),_i==="modal"&&(zi=!0),this.context.exposeExperiment("post_page_referral_cta")}if(typeof window!="undefined"&&(ii=new URLSearchParams(window.location.search).get("selectQuote")==="true"),Cr!=null&&Cr.is_scheduled)return(0,e.h)(d9,{freeSignup:d,freeSignupEmail:B,user:to,post:Cr,publication:Q});let Qu;return to!=null&&to.is_magic&&(Qu=this.context.getExperimentVariant("post_page_interstitial"),Cr&&Q&&!Vt&&!vo&&this.context.exposeExperiment("post_page_interstitial")),(0,e.h)("div",null,_r==="restack-comment"&&(0,e.h)(E9,{post:Cr,pub:Q,selection:zn}),(0,e.h)(b9,{pub:Q,post:Cr}),(Yt||ho)&&!Ma&&!zi?(0,e.h)(Tt,{freeSignup:d,freeSignupEmail:B,user:to,post:Cr,publication:Q,hidden:ye||Ro}):null,Cr&&Q&&!Vt&&!vo&&Qu!=="treatment"&&(0,e.h)(KM,{subdomain:Q.subdomain,post:Cr}),Cr&&Q&&!Vt&&!vo&&Qu==="treatment"&&(0,e.h)(y6,{pub:Q,user:to,post:Cr}),zo&&(0,e.h)(XM,null),(0,e.h)("div",{className:i()("single-post-container")},(0,e.h)("div",{className:i()({container:!ri})},(0,e.h)("div",{className:"single-post"},(0,e.h)(pu,{publication:Q,post:Cr,clip:Yr,selection:zn,siteConfigs:Xn,pageCanShowSmartBanner:vo}),Cr?(0,e.h)(od,{ref:_i=>{this.post=_i},commentsEnabled:Qo,postPreview:un,showComments:vi,user:to,post:Cr,pub:Q,freeSignup:d,freeSignupEmail:B,reaction_token:ce,disableSubscribePrompt:Yt&&!(ye||Ro)||Ma||zi,paywall:ta?!1:Ro?{email_form:!0,autoFocus:!1,title:Cr.type==="podcast"?yo`Subscribe for free to ${Q.name} to unlock this episode`:yo`Subscribe for free to ${Q.name} to unlock this post`}:!0,noTitleLink:!0,onChange:_i=>this.setState(_i),fromPostPage:!0,freeTrialCoupon:mr,showRestackModal:!!vr,stripe_publishable_key:xr,readerIsSearchCrawler:Vt,themeVariables:jo,referringUser:$r,setTab:_i=>{this.setState({tab:_i})}}):ao?(0,e.h)("p",{className:"main-loader"},po("Post not found")):(0,e.h)(Y0,{pub:Q}),xt)),$o&&ta&&[vi&&Uo!=="comments"&&(0,e.h)(y9,{commentsEnabled:Qo,comments:Jr,post:Cr,slug:n,user:to,freeSignup:d,freeSignupEmail:B,publication:Q,reaction_token:ce,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:mo,selectionFromQuery:zn,onChange:_i=>this.setState(_i),bannedFromNotes:Mr}),Q.has_posts&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(le,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(c9,{user:to,freeSignup:d,freeSignupEmail:B,pub:Q,maxPosts:!Ji&&!Zo&&!(ci&&!Q.plans)?3:10,filterPosts:_i=>_i.id!==Cr.id,sort:Ue,search:Ct,stateInUrl:!0,sortTabs:_i=>{const Dl=_i.findIndex(Tl=>Tl.id==="top");if(Dl!==-1)return[_i[Dl]].concat(_i.filter((Tl,Qa)=>Qa!==Dl))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!Ji&&[(0,e.h)(le,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(a9,{publication:Q,user:to,freeSignupEmail:B,freeSignup:d})]],ca?(0,e.h)(G6,{post:Cr,autoSharedOnTwitter:Xt==="true",publicationTwitterScreenName:Q.twitter_screen_name,publication:Q,showAfter:nr!=null&&nr.length?(0,e.h)(n9,{pub:Q,pubsToRecommend:nr}):null}):null,Ir?(0,e.h)(dm.hF,{user:to,pub:Q,post:Cr}):null,ii&&(0,e.h)(s9,null),Ma&&(0,e.h)(o9,{sharer:$r,pub:Q}),zi&&(0,e.h)(r9,{sharer:$r,pub:Q}),(0,e.h)(Ei.SiteConfigGate,{configKey:"enable_episode_clips"},(0,e.h)(_6,{user:to,pub:Q,post:Cr,mediaUploadId:this.props.clipId}))))}}Ja(Bd,"contextType",ji);class y9 extends e.Component{constructor(n,d){super(n,d),Ja(this,"modalRef",(0,e.createRef)(null)),this.I18N=I18N.i({pub:n.publication}),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:n.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(nd,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(nd,this.handleFocusInput)}render({commentsEnabled:n,inlineComments:d,post:B,user:Q,freeSignup:ce,freeSignupEmail:ye,publication:_e,reaction_token:ge,onVisible:Ue,onChangeComment:Ct,selectionFromQuery:xt,slug:Yt,onChange:sn,bannedFromNotes:Xt},{comments:Vt,reactionSigninComment:un}){if(d)return(0,e.h)("div",null,(0,e.h)(Vc,{slug:Yt,user:Q,freeSignupEmail:ye,freeSignup:ce,post:B,publication:_e,post_reaction_token:ge,selectionFromQuery:xt,initialComments:Vt,inline:!0,onChange:sn}));const{iPlural:Tn,iString:zn}=this.I18N,nr=(Xn,mr)=>Sl(this,null,function*(){return bm({user:Q,reactionToken:ge,comments:Vt,id:Xn,reacted:mr,setComments:vr=>this.setState({comments:vr}),onNeedsSignin:vr=>new Promise(_r=>this.setState({reactionSigninComment:vr},()=>this.modalRef.current.open(_r)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(n||B.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},B.comment_count>0?Tn("1 Comment","%1 Comments",B.comment_count):zn("Comments")),(0,e.h)(le,{onVisible:()=>Ue("Post Comments Footer")}),n&&(0,e.h)(ol,{user:Q,freeSignup:ce,freeSignupEmail:ye,pub:_e,post:B,token:ge,ref:this.inputRef,bannedFromNotes:Xt}),Vt.length>0&&!n&&(0,e.h)(ym,{post:B}),Vt&&Vt.length>0&&_e.community_enabled&&(0,e.h)(cu,{className:"post-page-root-comment-list",key:`post:${B.id}`,user:Q,freeSignup:ce,freeSignupEmail:ye,pub:_e,post:B,comments:Vt,reaction_token:ge,onChange:Ct,updateCommentReacted:nr,noRestack:!0}),n&&B.comment_count>(Vt||[]).length&&(0,e.h)("a",{className:"more-comments",href:el(B,_e)},Tn("1 more comment...","%1 more comments...",B.comment_count-(Vt||[]).length)),un&&(0,e.h)(Ka.oq,{comment:un,pub:_e,user:Q,react:()=>nr(un.id,!0),modalRef:this.modalRef})))}}const b9=({pub:r,post:n})=>{if(n)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:vc()((0,_c.Rg)(r,n),{json:!0,isScriptContext:!0})}})};function E9({pub:r,post:n,selection:d}){const B=(0,js.i3)();return(0,t.d4)(()=>{B.open({restackUrl:(0,g.getPostUrl)(r,n,{urlParams:{selection:d}})})},[]),null}var Ju=dn(71278);const Ts={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH",textWithGreyBox:"frontend-main-PressKitPage-module__textWithGreyBox--vRGlY"},P9=r=>{const n=r.themeVariables,d=n.web_bg_color||n.cover_bg_color,B=r.post.cover_image||r.publication.cover_photo_url,[Q,ce]=(0,t.eJ)("square");return(0,t.d4)(()=>{(0,y.j)(y.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:r.post.id})},[r.post.id]),(0,e.h)("div",{className:Ts.root},(0,e.h)(C.xv.H2,{color:"pub-primary-text",className:Ts.pageTitle},"Share ",r.post.title),(0,e.h)(C.xv.B3,{color:"pub-primary-text",className:Ts.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(Se.gq,{paddingY:24,gap:8,alignItems:"center"},(0,e.h)(C.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Aspect Ratio:"),(0,e.h)(_.gu,{name:"aspectRatio",value:Q,onChange:ce,options:[{value:"square",label:"Square"},{value:"instagram",label:(0,x.isMobile)()?"Insta":"Instagram"},{value:"stories",label:(0,x.isMobile)()?"IG Stories":"Instagram Stories"}],horizontal:!0,labelProps:{color:"pub-primary-text"}})),(0,e.h)(Se.tu,{justifyContent:"center",className:Ts.container},(0,e.h)(Se.gq,{paddingBottom:16,alignItems:"center",justifyContent:"space-between"},(0,e.h)(C.xv.H4,{color:"pub-primary-text"},r.post.title),!(0,x.isMobile)()&&(0,e.h)(_.zx,{priority:"secondary",leftIcon:(0,e.h)(ps.Z,{stroke:"#404040",size:20}),href:(0,g.pathWithQuery)(`/api/v1/press_kit/all/${r.post.id}`,{aspectRatio:Q,isDraft:r.post.is_draft}),newTab:!0},"Download")),(0,e.h)("div",{className:Ts.divider}),(0,x.isMobile)()&&(0,e.h)(_.xu,{bg:"secondary",radius:12,color:"secondary",paddingTop:8,paddingBottom:8,style:{"margin-bottom":"16px"}},(0,e.h)(C.xv.B4,{textAlign:"center",color:"pub-secondary-text",fontSize:14},"Press and hold to download an image, or tap to share.")),(0,e.h)(Se.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(Ju.Z,{pub:r.publication,post:r.post,style:{bgColor:d,textColor:n.print_on_web_bg_color||n.cover_print_primary||"#1a1a1a",aspectRatio:Q},text:"Background Color"}),n.background_pop&&(0,e.h)(Ju.Z,{pub:r.publication,post:r.post,style:{bgColor:n.background_pop,textColor:n.print_on_pop,aspectRatio:Q},text:"Accent Color"}),B&&(0,e.h)(Ju.Z,{pub:r.publication,post:r.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:Q},text:"Image"}),d.toLowerCase()!=="#ffffff"?(0,e.h)(Ju.Z,{pub:r.publication,post:r.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:Q},text:"Black and White"}):null)),(0,e.h)("div",{className:Ts.textFooter},(0,e.h)(C.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,g.getPublishSettingsUrl)(r.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},F_=({sitemapHeader:r,sitemapDescription:n,sitemapLinks:d})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,E.setMetaData)({title:r,description:n}),(0,e.h)("h1",null,r),(0,e.h)("div",null,d.map(B=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:B.href,native:!0},B.text))))),W_={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},Is=dn(6378),C9=({})=>{const{iString:r}=(0,P.M1)();return(0,e.h)("div",{className:W_.noPodcasts},r("No podcasts."))},Ud=(r,n,d)=>{let B=r[n.id];return B||(B=(0,g.getPodcatcherSetupUrl)(n,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!d||!d.is_free_subscribed,params:{utm_source:"all-podcasts"}})),B},w9=({pub:r,user:n,idToMagicLink:d,openInNewTab:B})=>r.subdomain!=="thebulwark"?null:(0,e.h)(C.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:Ud(d!=null?d:{},r,n),target:B?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),O9=({pub:r,user:n,idToMagicLink:d={},openInNewTab:B=!1,newFormatting:Q=!1})=>{const ce=[],{iString:ye}=(0,P.M1)();Is.isMultiPub(r)?Is.getMultiPubChildPodcasts(r).forEach(xt=>{const Yt=Js(xt,Ud(d,xt,n));ce.push(Yt)}):Is.getSectionPodcasts(r)&&Is.getSectionPodcasts(r).forEach(xt=>{var Yt,sn;if(!Vy({pub:r,section:xt}))return;const Xt=(0,Hs.getSectionPodcastSettings)({pub:r,section:xt});if(!Xt.title)return;const Vt={logoUrl:(Yt=Xt.artUrl)!=null?Yt:void 0,mainClickUrl:(0,g.getPodcastLandingUrl)({pub:r,section:xt,addBase:!0}),buttonClickUrl:d[xt.id]||(0,g.getPodcatcherSetupUrl)(r,{section:xt,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!n||!n.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:Xt.title,description:(sn=Xt.description)!=null?sn:"",buttonText:ye("Set up podcast")};ce.push(Vt)}),Ky(r)&&ce.push(Js(r,Ud(d,r,n)));const _e=Object.keys(d).length>0||!!(n!=null&&n.is_free_subscribed);let ge=ce.length>1?ye("Podcast feeds"):ye("Podcast feed");_e&&(ge=Is.hasMultiplePodcasts(r)?ye("Private podcast feeds"):ye("Private podcast feed"));const Ue=(0,e.h)(Se.tu,{radius:12,border:"detail",padding:16},Is.hasPodcast(r)?(0,e.h)(e.Fragment,null,(0,e.h)(ql,{showButton:!0,items:ce,openInNewTab:B,buttonText:ye("Set up podcast")}),(0,e.h)(w9,{pub:r,user:n,idToMagicLink:d,openInNewTab:B})):(0,e.h)(C9,null));return Q?(0,e.h)(e.Fragment,null,(0,e.h)(C.xv.H4,{paddingTop:20,paddingBottom:8},ge),Ue):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(C.xv.H3,{paddingTop:16,paddingBottom:16},ge),Ue))},S9=({pub:r,user:n,idToMagicLink:d,openInNewTab:B=!1})=>(0,e.h)("div",{className:i()("page","typography",W_.container)},(0,e.h)(O9,{pub:r,user:n,idToMagicLink:d,openInNewTab:B}));function x9({slug:r,pub:n,user:d,freeSignup:B,freeSignupEmail:Q,tagPagePreloads:ce}){var ye,_e;const ge=!!(n!=null&&n.theme),Ue=(0,yn.ib)({pathname:`/api/v1/publication/post-tag/slug/${r}`,auto:(ce==null?void 0:ce.slug)!==r,initialResult:(ce==null?void 0:ce.slug)===r?ce.postTag:null,deps:[ce,r]});return(0,e.h)(D.ze,{value:{hasThemedBackground:ge}},(0,e.h)("div",{className:i()("archive-page typography",{"use-theme-bg":ge})},(0,e.h)("div",{className:"container"},Ue.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((ye=Ue.result)==null?void 0:ye.name)||"Page not found"),(0,e.h)(sd,{user:d,freeSignup:B,freeSignupEmail:Q,pub:n,sort:"new",postTagId:(_e=Ue.result)==null?void 0:_e.id,newPosts:(ce==null?void 0:ce.slug)===r?ce.posts:null,source:"tag-archive"})))))}var A9=Object.defineProperty,j_=Object.getOwnPropertySymbols,D9=Object.prototype.hasOwnProperty,T9=Object.prototype.propertyIsEnumerable,H_=(r,n,d)=>n in r?A9(r,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[n]=d,xl=(r,n)=>{for(var d in n||(n={}))D9.call(n,d)&&H_(r,d,n[d]);if(j_)for(var d of j_(n))T9.call(n,d)&&H_(r,d,n[d]);return r};const I9=1e3*60*60*24,K_="domain-redirect-time";class M9 extends e.Component{constructor(n,d){super(n,d),this.state=n.initialData||{}}componentDidUpdate(n,d){var B,Q,ce,ye;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(xl({},this.props.initialData));const _e=(Q=(B=this.state.pub)==null?void 0:B.theme)==null?void 0:Q.web_bg_color,ge=document.documentElement;ge&&_e&&((ye=(ce=d==null?void 0:d.pub)==null?void 0:ce.theme)==null?void 0:ye.web_bg_color)!==_e&&(ge.style.background=_e)}componentDidMount(){var n,d,B,Q;const ce=(Q=(B=(d=(n=this.props)==null?void 0:n.initialData)==null?void 0:d.pub)==null?void 0:B.theme)==null?void 0:Q.web_bg_color,ye=document.documentElement;ye&&ce&&(ye.style.background=ce);const _e=this.loadedWithLikelyLoggedInParam()?"param":null;_e&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:_e}):this.useIframe()&&window.addEventListener("message",ge=>this.handleFrameMessage(ge))}shouldBlockLoginRedirect(){var n;const d=parseInt((0,Bi.mM)(K_,0));return this.state.block_auto_login||!((n=this.state.pub)!=null&&n.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-d<=I9||(0,g.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(n){var d,B,Q;if(((d=n.data)==null?void 0:d.type)!=="frame-state")return;const ce=!this.shouldBlockLoginRedirect()&&((B=n.data)==null?void 0:B.loggedInAtSubstack);(0,y.j)(y.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(Q=n.data)==null?void 0:Q.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:ce}),ce&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:n}={}){(0,y.j)(y.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:n==="param",source:n}),(0,Bi.ex)(K_,`${Date.now()}`),location.href=(0,E.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!(0,g.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var n,d;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((n=this.state.pub)!=null&&n.custom_domain)||(0,g.urlIsRegularlyShownInIframe)((d=window==null?void 0:window.location)==null?void 0:d.href))}render({coupon:n},{pub:d,section:B,user:Q,userProfile:ce,freeSignup:ye,freeSignupEmail:_e,posts:ge,post:Ue,truncatedPost:Ct,pinnedPosts:xt,newPosts:Yt,topPosts:sn,contentBlocks:Xt,communityPosts:Vt,communityAction:un,searchPosts:Tn,contentBlockSectionsById:zn,contentBlockPostTagsById:nr,contributors:Xn,postsByGroupId:mr,postsBySectionId:vr,postsByTagId:_r,inlineComments:Tr,latestChildPosts:Ir,latestSectionPosts:xr,subscribeContent:Mr,homepageLinks:br,recommendations:$r,numRecommendations:Yr,allSubscribedPubs:Jr,fullySubscribedPubs:ao,sitemapHeader:Cr,sitemapDescription:to,sitemapLinks:ho,referralCode:Co,hide_intro_popup:vo,post_reaction_token:Do,stripe_publishable_key:Uo,viral_gift_data:po,campaign:yo,referralCampaign:mo,file:Vo,primaryEligiblePublications:Zo,flagged_as_spam:$o,switchAccountRedirectUrl:Qo,readerIsSearchCrawler:vi,commentId:ci,selectionFromQuery:ni,siteConfigs:Ro={},blurbs:ui,noBalanceHeroText:jo,embeddedPublications:zo,themeVariables:ri,subdomainNotFound:ta,freeTrialCoupon:Ji,signupForFreeVariant:ca,people:ii,useNewSubscribePage:zi,idToMagicLink:Ma,token:Al,podcast_rss_url:Qu,publicationSettings:_i,pledgePlans:Dl,isChatActive:Tl,isMeetingsActive:Qa,optOutLegacyTheming:k9,meetingsOrder:Fd,meetingsSettings:Wd,appModalOpenByDefault:V_,twitterCardUrl:B9,tagPagePreloads:U9,initialComments:z_,bannedFromNotes:Xu,intro_text:F9,crossPostedPub:W9,crossPostingByLine:j9,userWithCrossPostedPubContext:H9,crossPostedPublicationSettings:K9,crossPostedSiteConfig:V9,launchWelcomePage:Il,referringUser:z9,clip:$9}){var $_;const G_=p()(this.state.comments)?this.state.comments:[];if(ta)return(0,e.h)(WM,{subdomain:ta});if($o&&!(Q!=null&&Q.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,E.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,g.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,g.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const Z_=!!(d!=null&&d.theme&&!k9),G9=(0,l.getCurrentUrl)().startsWith("/chat"),{iString:ga,iTemplate:Xa}=I18N.i(this.state.language);return(0,e.h)(Db,{pub:d,user:Q,siteConfigs:Ro,hasThemedBackground:Z_,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:_i},(0,e.h)(SO,{publication:d,twitterCardUrl:B9}),(0,e.h)(R9,{user:Q}),(0,e.h)(L9,{user:Q,pub:d}),(0,e.h)(N9,null),(0,e.h)("div",{className:i()("main typography",{"use-theme-bg":Z_,"should-flex":G9}),id:"main"},this.useIframe()&&(0,e.h)("iframe",{src:`${(0,g.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),(0,e.h)(v.qE,{path:"/"},({path:ei})=>{var Y_,J_;let Wi="/home";/^\/about\b/.test(ei)?Wi="/about":/^\/notes\b/.test(ei)?Wi="/notes":/^\/leaderboard\b/.test(ei)?Wi="/leaderboard":/^\/chat\b/.test(ei)?Wi="/chat":/^\/podcast\b/.test(ei)?Wi="/podcast":/^\/archive\b/.test(ei)?Wi="/archive":/^\/newsletters\b/.test(ei)?Wi="/newsletters":/^\/recommendations\b/.test(ei)?Wi="/recommendations":/^\/listen\b/.test(ei)?Wi="/listen":B?Wi=B.id:/^\/p\//.test(ei)?Wi=((Y_=/^\/p\/([^/?#]+)/.exec(ei))==null?void 0:Y_[0])||"/p":/^\/t\//.test(ei)&&(Wi=((J_=/^\/t\/([^/?#]+)/.exec(ei))==null?void 0:J_[0])||"/p");let Ml;typeof window!="undefined"&&window.location.search&&(Ml=(0,g.parseQuery)(window.location.search));const Q_=/^\/p\/([^/?#]*)/.exec(ei),X_=Q_&&!((Ue==null?void 0:Ue.type)==="page"&&Ue.slug===Q_[1]),q_=ei.startsWith("/subscribe")||ei.startsWith("/finish-invite")||ei.startsWith("/meetings"),Z9=ei.startsWith("/chat/posts/");return B?(0,e.h)(Kl,{pub:d,user:Q,freeSignup:ye,freeSignupEmail:_e,hide_subscribe_cta:ei.startsWith("/subscribe"),selectedSectionId:Wi,isPostView:X_,showCustomerSupportModeModal:!!(Ml!=null&&Ml.showCustomerSupportModeModal),lowChrome:q_,numRecommendations:Yr,isChatActive:Tl,isMeetingsActive:Qa,signupForFreeVariant:ca}):!["welcome","embed","meetings"].some(Y9=>ei.startsWith(`/${Y9}`))&&!(ei.startsWith("/subscribe")&&(zi||Dl))&&(0,e.h)(Kl,{pub:d,user:Q,freeSignup:ye,freeSignupEmail:_e,hide_subscribe_cta:ei.startsWith("/subscribe"),isPostView:X_,selectedSectionId:Wi,showCustomerSupportModeModal:!!(Ml!=null&&Ml.showCustomerSupportModeModal),lowChrome:q_,numRecommendations:Yr,isChatActive:Tl,isMeetingsActive:Qa,signupForFreeVariant:ca,hideSections:Z9})}),(0,e.h)(Ua.g1,{pub:d,user:Q}),(0,e.h)(l.Router,{onChange:zb},["newspaper","magaziney"].includes(d.homepage_type)?(0,e.h)(kI,{path:"/",blurbs:ui,bodyPostGroups:($_=d.theme)==null?void 0:$_.body_post_groups,contentBlocks:Xt!=null?Xt:[],freeSignup:ye,freeSignupEmail:_e,hide_intro_popup:vo,homepageLinks:br,contentBlockSectionsById:zn!=null?zn:{},contentBlockPostTagsById:nr!=null?nr:{},contributors:Xn,latestChildPosts:Ir,latestSectionPosts:xr,newPosts:Yt,noBalanceHeroText:jo,numRecommendations:Yr,pinnedPosts:xt,postsByGroupId:mr,postsBySectionId:vr,postsByTagId:_r,pub:d,recommendations:$r,referralCampaign:mo,referralCode:Co,topPosts:sn,user:Q,launchWelcomePage:Il}):(0,e.h)(fg,{path:"/",user:Q,freeSignupEmail:_e,freeSignup:ye,hide_intro_popup:vo,preloadedPosts:ge,pub:d,blurbs:ui,noBalanceHeroText:jo,launchWelcomePage:Il}),(0,e.h)(Od,{path:"/listen/:sectionSlug",blurbs:ui,user:Q,freeSignupEmail:_e,freeSignup:ye,hide_intro_popup:vo,pub:d,pinnedPosts:xt,newPosts:Yt,latestChildPosts:Ir,latestSectionPosts:xr,section:d.section,referralCampaign:mo,isPodcast:!0,launchWelcomePage:Il}),(0,e.h)(Od,{path:"/podcast",blurbs:ui,user:Q,freeSignupEmail:_e,freeSignup:ye,hide_intro_popup:vo,pub:d,pinnedPosts:xt,newPosts:Yt,latestChildPosts:Ir,latestSectionPosts:xr,recommendations:$r,numRecommendations:Yr,referralCampaign:mo,isPodcast:!0,includePinnedPosts:!0,launchWelcomePage:Il}),(0,e.h)(gl,{path:"/podcast/archive",blurbs:ui,user:Q,newPosts:Yt,topPosts:sn,communityPosts:Vt,searchPosts:Tn,pub:d,freeSignupEmail:_e,freeSignup:ye,isPodcast:!0,metadata:xl({title:Xa`Podcast Archive - ${d.name}`,description:Xa`Full archive of all the episodes from ${d.name}.`},!!(Tn||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Od,{path:"/s/:slug",blurbs:ui,user:Q,freeSignupEmail:_e,freeSignup:ye,hide_intro_popup:vo,pub:d,pinnedPosts:xt,newPosts:Yt,latestChildPosts:Ir,latestSectionPosts:xr,section:d.section,referralCampaign:mo,launchWelcomePage:Il}),(0,e.h)(gl,{path:"/archive",user:Q,newPosts:Yt,topPosts:sn,communityPosts:Vt,searchPosts:Tn,pub:d,freeSignupEmail:_e,freeSignup:ye,metadata:xl({title:Xa`Archive - ${d.name}`,description:Xa`Full archive of all the posts from ${d.name}.`},!!(Tn||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(gl,{path:"/s/:slug/archive",user:Q,newPosts:Yt,topPosts:sn,communityPosts:Vt,searchPosts:Tn,pub:d,freeSignupEmail:_e,freeSignup:ye,sectionId:B==null?void 0:B.id,metadata:xl({title:Xa`Archive - ${B==null?void 0:B.name} of ${d.name}`,description:Xa`Full archive of all the posts from ${B==null?void 0:B.name} of ${d.name}.`},!!(Tn||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(gl,{path:"/listen/:sectionSlug/archive/",user:Q,newPosts:Yt,topPosts:sn,communityPosts:Vt,searchPosts:Tn,pub:d,freeSignupEmail:_e,freeSignup:ye,sectionId:B==null?void 0:B.id,metadata:xl({title:ga("Podcast Archive - %1",(0,Hs.getSectionPodcastSettings)({pub:d,section:d.section}).title),description:ga("Full archive of all the episodes from %1.",(0,Hs.getSectionPodcastSettings)({pub:d,section:d.section}).title)},!!(Tn||(0,g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(x9,{path:"/t/:slug",user:Q,freeSignupEmail:_e,freeSignup:ye,pub:d,tagPagePreloads:U9}),(0,e.h)(gl,{default:!0,title:ga("Page not found"),user:Q,newPosts:Yt,topPosts:sn,communityPosts:Vt,searchPosts:Tn,pub:d,freeSignupEmail:_e,freeSignup:ye}),(0,e.h)(st,{path:"/tos",html:d.tos_content_html||ga("Terms of Service"),metadata:{title:ga("Terms of Service")}},(0,e.h)(_.xv,{translated:!0,as:"p"},"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(st,{path:"/privacy",html:d.privacy_content_html||ga("Privacy Policy"),metadata:{title:ga("Privacy Policy")}},(0,e.h)(_.xv,{translated:!0,as:"p"},"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,g.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(st,{path:"/disclosures",html:d.disclosures_content_html||ga("Disclosures"),metadata:{title:ga("Disclosures")}}),(0,e.h)(Tt,{path:"/welcome",publication:d,post:null,user:Q,freeSignup:ye,freeSignupEmail:_e,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(Tt,{path:"/podcast",publication:d,post:null,referralCode:Co,user:Q,freeSignup:ye,freeSignupEmail:_e,coupon:n,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(jI,{pub:d,path:"/invite",user:Q,freeSignup:ye,freeSignupEmail:_e}),(0,e.h)(KI,{path:"/invite-success/:id",pub:d,user:Q,post:Ue,freeSignup:ye,freeSignupEmail:_e}),(0,e.h)(HI,{path:"/invite-reject-success/:id",pub:d,user:Q,post:Ue}),(0,e.h)(gd,{path:"/finish-invite/:id",pub:d,user:Q,freeSignup:ye,freeSignupEmail:_e}),(0,e.h)(gd,{path:"/finish-post-invite/:id",pub:d,post:Ue,user:Q,freeSignup:ye,freeSignupEmail:_e,inviteToPost:!0,primaryEligiblePublications:Zo||[],switchAccountRedirectUrl:Qo}),(0,e.h)(n4,{path:"/recommendations",pub:d,user:Q,recommendations:$r,allSubscribedPubs:Jr,fullySubscribedPubs:ao,freeSignupEmail:_e}),(0,e.h)(F_,{path:"/sitemap",pub:d,sitemapHeader:Cr,sitemapDescription:to,sitemapLinks:ho}),(0,e.h)(F_,{path:"/sitemap/:year",pub:d,sitemapHeader:Cr,sitemapDescription:to,sitemapLinks:ho}),(0,e.h)(kP,{path:"/about",pub:d,user:Q,freeSignup:ye,freeSignupEmail:_e,subscribeContent:Mr,people:ii,metadata:{title:Xa`About - ${d.name}`}}),(0,e.h)(Bd,{path:"/p/:slug",user:Q,freeSignupEmail:_e,freeSignup:ye,referralCode:Co,post:Ue,truncatedPost:Ct,publication:d,renderedComments:G_,inlineComments:Tr,reaction_token:Do,hide_intro_popup:vo,stripe_publishable_key:Uo,readerIsSearchCrawler:vi,selectionFromQuery:ni,embeddedPublications:zo,siteConfigs:Ro,freeTrialCoupon:Ji,publicationSettings:_i,bannedFromNotes:Xu,themeVariables:ri,referringUser:z9,clip:$9}),(0,e.h)(oD,{path:"/cp/:post_id",user:Q,freeSignupEmail:_e,freeSignup:ye,post:Ue,publication:d,introText:F9,crossPostedPub:W9,crossPostingByLine:j9,userWithCrossPostedPubContext:H9,crossPostedPublicationSettings:K9,crossPostedSiteConfig:V9}),(0,e.h)(S9,{path:"/listen",pub:d,user:Q||null,openInNewTab:!0,idToMagicLink:Ma}),(0,e.h)(vb,{path:"/newsletters",pub:d,user:Q!=null?Q:null}),(0,e.h)(P9,{path:"/p/:slug/media-assets",post:Ue,publication:d,themeVariables:ri}),Tr?(0,e.h)(Bd,{path:"/p/:slug/comments",user:Q,freeSignupEmail:_e,freeSignup:ye,referralCode:Co,post:Ue,truncatedPost:Ct,publication:d,renderedComments:G_,inlineComments:Tr,reaction_token:Do,hide_intro_popup:vo,stripe_publishable_key:Uo,readerIsSearchCrawler:vi,selectionFromQuery:ni,siteConfigs:Ro,freeTrialCoupon:Ji,bannedFromNotes:Xu,themeVariables:ri}):(0,e.h)(Vc,{path:"/p/:slug/comments",user:Q,freeSignupEmail:_e,freeSignup:ye,post:Ue,publication:d,post_reaction_token:Do,commentId:ci,freeTrialCoupon:Ji,initialComments:z_,bannedFromNotes:Xu}),!Tr&&(0,e.h)(Vc,{path:"/p/:slug/comment/:comment_id",user:Q,freeSignupEmail:_e,freeSignup:ye,post:Ue,publication:d,post_reaction_token:Do,commentId:ci,freeTrialCoupon:Ji,initialComments:z_,bannedFromNotes:Xu}),(0,e.h)(HD,{path:"/rewards/receive",pub:d,user:Q,freeSignupEmail:_e,viral_gift_data:po}),(0,e.h)(iD,{path:"/embed",pub:d,user:Q,freeSignup:ye,freeSignupEmail:_e}),(0,e.h)(lD,{path:"/embed/test",pub:d,user:Q,freeSignup:ye,freeSignupEmail:_e}),(0,e.h)(sD,{path:"/embed/podcast/:slug",pub:d}),(0,e.h)(cD,{path:"/embed/video/:slug",pub:d}),(0,e.h)(BD,{path:"/f/:fileId",pub:d,user:Q,hide_subscribe_cta:!0,file:Vo}),Ro.live_events&&(0,e.h)(Bs.cr,{module:"../live_events",onRequest:()=>Promise.all([dn.e(968),dn.e(829)]).then(dn.bind(dn,20829)),resolve:ei=>ei.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:d,user:Q}),(0,e.h)(o2,{path:"/chat",publication:d,user:Q}),(0,e.h)(i2,{path:"/chat/posts/:postId",publication:d,communityAction:un,user:Q,appModalOpenByDefault:V_}),(0,e.h)(a2,{path:"/chat/replies/:commentId",publication:d,communityAction:un,user:Q,appModalOpenByDefault:V_}),Ro.meetings_v1&&(Qa||(Q==null?void 0:Q.is_author))&&(0,e.h)(aM,{path:"/meetings",exact:!0,pub:d,user:Q,settings:Wd}),Ro.meetings_v1&&(Qa||(Q==null?void 0:Q.is_author))&&(0,e.h)(c_,{path:"/meetings/book",pub:d,user:Q,stripe_publishable_key:Uo,order:Fd,settings:Wd}),Ro.meetings_v1&&(Fd||Qa||(Q==null?void 0:Q.is_author))&&(0,e.h)(c_,{path:"/meetings/book/:order_id?",pub:d,user:Q,stripe_publishable_key:Uo,order:Fd,settings:Wd}),Ro.subscriber_referrals_enabled&&(0,e.h)(rM,{pub:d,user:Q,freeSignupEmail:_e,path:"/leaderboard"}),(0,e.h)(Tb,{path:"/notes"})),(0,e.h)(v.qE,{path:"/"},({path:ei})=>!ei.startsWith("/welcome")&&!ei.startsWith("/embed")&&!ei.startsWith("/subscribe")&&!ei.startsWith("/meetings")&&!ei.startsWith("/chat")&&(0,e.h)(De,{publication:d,user:Q,showIntrinioAttrib:Ue&&Ue.hasCashtag,path:ei})),(0,e.h)(w,{pub:d,user:Q})))}}function R9({user:r}){const n=(0,Jp.S)({user:r});return(0,t.d4)(()=>{const d=new URLSearchParams(location.search);if(d.get("reaction")==="\u2764"){n(),d.delete("reaction");const B=d.toString();history.replaceState({},document.title,location.pathname+(B&&`?${B}`))}},[]),null}function L9({user:r,pub:n}){return Hb({user:r,pub:n}),null}function N9(){return Fb(),null}(0,K.Z)(M9)})()})()});t8();})();

//# sourceMappingURL=main.4fcfebe636fd1486fda8.bundle.js.map